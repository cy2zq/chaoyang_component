(self.webpackChunkchaoyang_component=self.webpackChunkchaoyang_component||[]).push([[3600],{34216:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(27263),r=n(50959),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},a=n(89011),s=function(t,e){return r.createElement(a.Z,(0,i.Z)({},t,{ref:e,icon:o}))};var l=r.forwardRef(s)},43089:function(t,e,n){"use strict";n.r(e),n.d(e,{AutoScrollActivator:function(){return xt},DndContext:function(){return qt},DragOverlay:function(){return ge},KeyboardCode:function(){return ot},KeyboardSensor:function(){return ht},MeasuringFrequency:function(){return At},MeasuringStrategy:function(){return Mt},MouseSensor:function(){return yt},PointerSensor:function(){return gt},TouchSensor:function(){return wt},TraversalOrder:function(){return _t},applyModifiers:function(){return $t},closestCenter:function(){return T},closestCorners:function(){return k},defaultAnnouncements:function(){return f},defaultCoordinates:function(){return b},defaultDropAnimation:function(){return ce},defaultDropAnimationSideEffects:function(){return he},defaultScreenReaderInstructions:function(){return d},getClientRect:function(){return H},getFirstCollision:function(){return M},getScrollableAncestors:function(){return z},pointerWithin:function(){return E},rectIntersection:function(){return I},useDndContext:function(){return ee},useDndMonitor:function(){return c},useDraggable:function(){return te},useDroppable:function(){return ie},useSensor:function(){return v},useSensors:function(){return y}});var i=n(50959),r=n(10422),o=n(84341);const a={display:"none"};function s(t){let{id:e,value:n}=t;return i.createElement("div",{id:e,style:a},n)}const l={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function u(t){let{id:e,announcement:n}=t;return i.createElement("div",{id:e,style:l,role:"status","aria-live":"assertive","aria-atomic":!0},n)}const h=(0,i.createContext)(null);function c(t){const e=(0,i.useContext)(h);(0,i.useEffect)((()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)}),[t,e])}const d={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},f={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function p(t){let{announcements:e=f,container:n,hiddenTextDescribedById:a,screenReaderInstructions:l=d}=t;const{announce:h,announcement:p}=function(){const[t,e]=(0,i.useState)("");return{announce:(0,i.useCallback)((t=>{null!=t&&e(t)}),[]),announcement:t}}(),g=(0,o.useUniqueId)("DndLiveRegion"),[m,v]=(0,i.useState)(!1);if((0,i.useEffect)((()=>{v(!0)}),[]),c((0,i.useMemo)((()=>({onDragStart(t){let{active:n}=t;h(e.onDragStart({active:n}))},onDragMove(t){let{active:n,over:i}=t;e.onDragMove&&h(e.onDragMove({active:n,over:i}))},onDragOver(t){let{active:n,over:i}=t;h(e.onDragOver({active:n,over:i}))},onDragEnd(t){let{active:n,over:i}=t;h(e.onDragEnd({active:n,over:i}))},onDragCancel(t){let{active:n,over:i}=t;h(e.onDragCancel({active:n,over:i}))}})),[h,e])),!m)return null;const y=i.createElement(i.Fragment,null,i.createElement(s,{id:a,value:l.draggable}),i.createElement(u,{id:g,announcement:p}));return n?(0,r.createPortal)(y,n):y}var g;function m(){}function v(t,e){return(0,i.useMemo)((()=>({sensor:t,options:null!=e?e:{}})),[t,e])}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,i.useMemo)((()=>[...e].filter((t=>null!=t))),[...e])}!function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"}(g||(g={}));const b=Object.freeze({x:0,y:0});function w(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function x(t,e){const n=(0,o.getEventCoordinates)(t);if(!n)return"0 0";return(n.x-e.left)/e.width*100+"% "+(n.y-e.top)/e.height*100+"%"}function _(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return n-i}function C(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function S(t){let{left:e,top:n,height:i,width:r}=t;return[{x:e,y:n},{x:e+r,y:n},{x:e,y:n+i},{x:e+r,y:n+i}]}function M(t,e){if(!t||0===t.length)return null;const[n]=t;return e?n[e]:n}function A(t,e,n){return void 0===e&&(e=t.left),void 0===n&&(n=t.top),{x:e+.5*t.width,y:n+.5*t.height}}const T=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=A(e,e.left,e.top),o=[];for(const t of i){const{id:e}=t,i=n.get(e);if(i){const n=w(A(i),r);o.push({id:e,data:{droppableContainer:t,value:n}})}}return o.sort(_)},k=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=S(e),o=[];for(const t of i){const{id:e}=t,i=n.get(e);if(i){const n=S(i),a=r.reduce(((t,e,i)=>t+w(n[i],e)),0),s=Number((a/4).toFixed(4));o.push({id:e,data:{droppableContainer:t,value:s}})}}return o.sort(_)};function R(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),a=r-i,s=o-n;if(i<r&&n<o){const n=e.width*e.height,i=t.width*t.height,r=a*s;return Number((r/(n+i-r)).toFixed(4))}return 0}const I=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const r=[];for(const t of i){const{id:i}=t,o=n.get(i);if(o){const n=R(o,e);n>0&&r.push({id:i,data:{droppableContainer:t,value:n}})}}return r.sort(C)};function P(t,e){const{top:n,left:i,bottom:r,right:o}=e;return n<=t.y&&t.y<=r&&i<=t.x&&t.x<=o}const E=t=>{let{droppableContainers:e,droppableRects:n,pointerCoordinates:i}=t;if(!i)return[];const r=[];for(const t of e){const{id:e}=t,o=n.get(e);if(o&&P(i,o)){const n=S(o).reduce(((t,e)=>t+w(i,e)),0),a=Number((n/4).toFixed(4));r.push({id:e,data:{droppableContainer:t,value:a}})}}return r.sort(_)};function B(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:b}function L(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce(((e,n)=>({...e,top:e.top+t*n.y,bottom:e.bottom+t*n.y,left:e.left+t*n.x,right:e.right+t*n.x})),{...e})}}const D=L(1);function O(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}const F={ignoreTransform:!1};function H(t,e){void 0===e&&(e=F);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:e,transformOrigin:i}=(0,o.getWindow)(t).getComputedStyle(t);e&&(n=function(t,e,n){const i=O(e);if(!i)return t;const{scaleX:r,scaleY:o,x:a,y:s}=i,l=t.left-a-(1-r)*parseFloat(n),u=t.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=r?t.width/r:t.width,c=o?t.height/o:t.height;return{width:h,height:c,top:u,right:l+h,bottom:u+c,left:l}}(n,e,i))}const{top:i,left:r,width:a,height:s,bottom:l,right:u}=n;return{top:i,left:r,width:a,height:s,bottom:l,right:u}}function N(t){return H(t,{ignoreTransform:!0})}function z(t,e){const n=[];return t?function i(r){if(null!=e&&n.length>=e)return n;if(!r)return n;if((0,o.isDocument)(r)&&null!=r.scrollingElement&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!(0,o.isHTMLElement)(r)||(0,o.isSVGElement)(r))return n;if(n.includes(r))return n;const a=(0,o.getWindow)(t).getComputedStyle(r);return r!==t&&function(t,e){void 0===e&&(e=(0,o.getWindow)(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((t=>{const i=e[t];return"string"==typeof i&&n.test(i)}))}(r,a)&&n.push(r),function(t,e){return void 0===e&&(e=(0,o.getWindow)(t).getComputedStyle(t)),"fixed"===e.position}(r,a)?n:i(r.parentNode)}(t):n}function W(t){const[e]=z(t,1);return null!=e?e:null}function j(t){return o.canUseDOM&&t?(0,o.isWindow)(t)?t:(0,o.isNode)(t)?(0,o.isDocument)(t)||t===(0,o.getOwnerDocument)(t).scrollingElement?window:(0,o.isHTMLElement)(t)?t:null:null:null}function V(t){return(0,o.isWindow)(t)?t.scrollX:t.scrollLeft}function G(t){return(0,o.isWindow)(t)?t.scrollY:t.scrollTop}function Z(t){return{x:V(t),y:G(t)}}var U;function K(t){return!(!o.canUseDOM||!t)&&t===document.scrollingElement}function $(t){const e={x:0,y:0},n=K(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height};return{isTop:t.scrollTop<=e.y,isLeft:t.scrollLeft<=e.x,isBottom:t.scrollTop>=i.y,isRight:t.scrollLeft>=i.x,maxScroll:i,minScroll:e}}!function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"}(U||(U={}));const X={x:.2,y:.2};function Y(t,e,n,i,r){let{top:o,left:a,right:s,bottom:l}=n;void 0===i&&(i=10),void 0===r&&(r=X);const{isTop:u,isBottom:h,isLeft:c,isRight:d}=$(t),f={x:0,y:0},p={x:0,y:0},g=e.height*r.y,m=e.width*r.x;return!u&&o<=e.top+g?(f.y=U.Backward,p.y=i*Math.abs((e.top+g-o)/g)):!h&&l>=e.bottom-g&&(f.y=U.Forward,p.y=i*Math.abs((e.bottom-g-l)/g)),!d&&s>=e.right-m?(f.x=U.Forward,p.x=i*Math.abs((e.right-m-s)/m)):!c&&a<=e.left+m&&(f.x=U.Backward,p.x=i*Math.abs((e.left+m-a)/m)),{direction:f,speed:p}}function q(t){if(t===document.scrollingElement){const{innerWidth:t,innerHeight:e}=window;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}const{top:e,left:n,right:i,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:r,width:t.clientWidth,height:t.clientHeight}}function J(t){return t.reduce(((t,e)=>(0,o.add)(t,Z(e))),b)}function Q(t,e){if(void 0===e&&(e=H),!t)return;const{top:n,left:i,bottom:r,right:o}=e(t);W(t)&&(r<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const tt=[["x",["left","right"],function(t){return t.reduce(((t,e)=>t+V(e)),0)}],["y",["top","bottom"],function(t){return t.reduce(((t,e)=>t+G(e)),0)}]];class et{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=z(e),i=J(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[t,e,r]of tt)for(const o of e)Object.defineProperty(this,o,{get:()=>{const e=r(n),a=i[t]-e;return this.rect[o]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class nt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((t=>{var e;return null==(e=this.target)?void 0:e.removeEventListener(...t)}))},this.target=t}add(t,e,n){var i;null==(i=this.target)||i.addEventListener(t,e,n),this.listeners.push([t,e,n])}}function it(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return"number"==typeof e?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e&&i>e.y}var rt,ot;function at(t){t.preventDefault()}function st(t){t.stopPropagation()}!function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"}(rt||(rt={})),function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"}(ot||(ot={}));const lt={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter]},ut=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ot.Right:return{...n,x:n.x+25};case ot.Left:return{...n,x:n.x-25};case ot.Down:return{...n,y:n.y+25};case ot.Up:return{...n,y:n.y-25}}};class ht{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new nt((0,o.getOwnerDocument)(e)),this.windowListeners=new nt((0,o.getWindow)(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(rt.Resize,this.handleCancel),this.windowListeners.add(rt.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(rt.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:t,onStart:e}=this.props,n=t.node.current;n&&Q(n),e(b)}handleKeyDown(t){if((0,o.isKeyboardEvent)(t)){const{active:e,context:n,options:i}=this.props,{keyboardCodes:r=lt,coordinateGetter:a=ut,scrollBehavior:s="smooth"}=i,{code:l}=t;if(r.end.includes(l))return void this.handleEnd(t);if(r.cancel.includes(l))return void this.handleCancel(t);const{collisionRect:u}=n.current,h=u?{x:u.left,y:u.top}:b;this.referenceCoordinates||(this.referenceCoordinates=h);const c=a(t,{active:e,context:n.current,currentCoordinates:h});if(c){const e=(0,o.subtract)(c,h),i={x:0,y:0},{scrollableAncestors:r}=n.current;for(const n of r){const r=t.code,{isTop:o,isRight:a,isLeft:l,isBottom:u,maxScroll:h,minScroll:d}=$(n),f=q(n),p={x:Math.min(r===ot.Right?f.right-f.width/2:f.right,Math.max(r===ot.Right?f.left:f.left+f.width/2,c.x)),y:Math.min(r===ot.Down?f.bottom-f.height/2:f.bottom,Math.max(r===ot.Down?f.top:f.top+f.height/2,c.y))},g=r===ot.Right&&!a||r===ot.Left&&!l,m=r===ot.Down&&!u||r===ot.Up&&!o;if(g&&p.x!==c.x){const t=n.scrollLeft+e.x,o=r===ot.Right&&t<=h.x||r===ot.Left&&t>=d.x;if(o&&!e.y)return void n.scrollTo({left:t,behavior:s});i.x=o?n.scrollLeft-t:r===ot.Right?n.scrollLeft-h.x:n.scrollLeft-d.x,i.x&&n.scrollBy({left:-i.x,behavior:s});break}if(m&&p.y!==c.y){const t=n.scrollTop+e.y,o=r===ot.Down&&t<=h.y||r===ot.Up&&t>=d.y;if(o&&!e.x)return void n.scrollTo({top:t,behavior:s});i.y=o?n.scrollTop-t:r===ot.Down?n.scrollTop-h.y:n.scrollTop-d.y,i.y&&n.scrollBy({top:-i.y,behavior:s});break}}this.handleMove(t,(0,o.add)((0,o.subtract)(c,this.referenceCoordinates),i))}}}handleMove(t,e){const{onMove:n}=this.props;t.preventDefault(),n(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ct(t){return Boolean(t&&"distance"in t)}function dt(t){return Boolean(t&&"delay"in t)}ht.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=lt,onActivation:r}=e,{active:o}=n;const{code:a}=t.nativeEvent;if(i.start.includes(a)){const e=o.activatorNode.current;return(!e||t.target===e)&&(t.preventDefault(),null==r||r({event:t.nativeEvent}),!0)}return!1}}];class ft{constructor(t,e,n){var i;void 0===n&&(n=function(t){const{EventTarget:e}=(0,o.getWindow)(t);return t instanceof e?t:(0,o.getOwnerDocument)(t)}(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:r}=t,{target:a}=r;this.props=t,this.events=e,this.document=(0,o.getOwnerDocument)(a),this.documentListeners=new nt(this.document),this.listeners=new nt(n),this.windowListeners=new nt((0,o.getWindow)(a)),this.initialCoordinates=null!=(i=(0,o.getEventCoordinates)(r))?i:b,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(rt.Resize,this.handleCancel),this.windowListeners.add(rt.DragStart,at),this.windowListeners.add(rt.VisibilityChange,this.handleCancel),this.windowListeners.add(rt.ContextMenu,at),this.documentListeners.add(rt.Keydown,this.handleKeydown),e){if(ct(e))return;if(dt(e))return void(this.timeoutId=setTimeout(this.handleStart,e.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(rt.Click,st,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(rt.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:n,initialCoordinates:i,props:r}=this,{onMove:a,options:{activationConstraint:s}}=r;if(!i)return;const l=null!=(e=(0,o.getEventCoordinates)(t))?e:b,u=(0,o.subtract)(i,l);if(!n&&s){if(dt(s))return it(u,s.tolerance)?this.handleCancel():void 0;if(ct(s))return null!=s.tolerance&&it(u,s.tolerance)?this.handleCancel():it(u,s.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),a(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var t;null==(t=this.document.getSelection())||t.removeAllRanges()}}const pt={move:{name:"pointermove"},end:{name:"pointerup"}};class gt extends ft{constructor(t){const{event:e}=t,n=(0,o.getOwnerDocument)(e.target);super(t,pt,n)}}gt.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!(!n.isPrimary||0!==n.button)&&(null==i||i({event:n}),!0)}}];const mt={move:{name:"mousemove"},end:{name:"mouseup"}};var vt;!function(t){t[t.RightClick=2]="RightClick"}(vt||(vt={}));class yt extends ft{constructor(t){super(t,mt,(0,o.getOwnerDocument)(t.event.target))}}yt.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button!==vt.RightClick&&(null==i||i({event:n}),!0)}}];const bt={move:{name:"touchmove"},end:{name:"touchend"}};class wt extends ft{constructor(t){super(t,bt)}static setup(){return window.addEventListener(bt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bt.move.name,t)};function t(){}}}var xt,_t;function Ct(t){let{acceleration:e,activator:n=xt.Pointer,canScroll:r,draggingRect:a,enabled:s,interval:l=5,order:u=_t.TreeOrder,pointerCoordinates:h,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:p}=t;const g=function(t){let{delta:e,disabled:n}=t;const i=(0,o.usePrevious)(e);return(0,o.useLazyMemo)((t=>{if(n||!i||!t)return St;const r={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[U.Backward]:t.x[U.Backward]||-1===r.x,[U.Forward]:t.x[U.Forward]||1===r.x},y:{[U.Backward]:t.y[U.Backward]||-1===r.y,[U.Forward]:t.y[U.Forward]||1===r.y}}}),[n,e,i])}({delta:f,disabled:!s}),[m,v]=(0,o.useInterval)(),y=(0,i.useRef)({x:0,y:0}),b=(0,i.useRef)({x:0,y:0}),w=(0,i.useMemo)((()=>{switch(n){case xt.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case xt.DraggableRect:return a}}),[n,a,h]),x=(0,i.useRef)(null),_=(0,i.useCallback)((()=>{const t=x.current;if(!t)return;const e=y.current.x*b.current.x,n=y.current.y*b.current.y;t.scrollBy(e,n)}),[]),C=(0,i.useMemo)((()=>u===_t.TreeOrder?[...c].reverse():c),[u,c]);(0,i.useEffect)((()=>{if(s&&c.length&&w){for(const t of C){if(!1===(null==r?void 0:r(t)))continue;const n=c.indexOf(t),i=d[n];if(!i)continue;const{direction:o,speed:a}=Y(t,i,w,e,p);for(const t of["x","y"])g[t][o[t]]||(a[t]=0,o[t]=0);if(a.x>0||a.y>0)return v(),x.current=t,m(_,l),y.current=a,void(b.current=o)}y.current={x:0,y:0},b.current={x:0,y:0},v()}else v()}),[e,_,r,v,s,l,JSON.stringify(w),JSON.stringify(g),m,c,C,d,JSON.stringify(p)])}wt.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:r}=n;return!(r.length>1)&&(null==i||i({event:n}),!0)}}],function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"}(xt||(xt={})),function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"}(_t||(_t={}));const St={x:{[U.Backward]:!1,[U.Forward]:!1},y:{[U.Backward]:!1,[U.Forward]:!1}};var Mt,At;!function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"}(Mt||(Mt={})),function(t){t.Optimized="optimized"}(At||(At={}));const Tt=new Map;function kt(t,e){return(0,o.useLazyMemo)((n=>t?n||("function"==typeof e?e(t):t):null),[e,t])}function Rt(t){let{callback:e,disabled:n}=t;const r=(0,o.useEvent)(e),a=(0,i.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:t}=window;return new t(r)}),[n]);return(0,i.useEffect)((()=>()=>null==a?void 0:a.disconnect()),[a]),a}function It(t){return new et(H(t),t)}function Pt(t,e,n){void 0===e&&(e=It);const[r,a]=(0,i.useReducer)((function(i){if(!t)return null;var r;if(!1===t.isConnected)return null!=(r=null!=i?i:n)?r:null;const o=e(t);if(JSON.stringify(i)===JSON.stringify(o))return i;return o}),null),s=function(t){let{callback:e,disabled:n}=t;const r=(0,o.useEvent)(e),a=(0,i.useMemo)((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:t}=window;return new t(r)}),[r,n]);return(0,i.useEffect)((()=>()=>null==a?void 0:a.disconnect()),[a]),a}({callback(e){if(t)for(const n of e){const{type:e,target:i}=n;if("childList"===e&&i instanceof HTMLElement&&i.contains(t)){a();break}}}}),l=Rt({callback:a});return(0,o.useIsomorphicLayoutEffect)((()=>{a(),t?(null==l||l.observe(t),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())}),[t]),r}const Et=[];function Bt(t,e){void 0===e&&(e=[]);const n=(0,i.useRef)(null);return(0,i.useEffect)((()=>{n.current=null}),e),(0,i.useEffect)((()=>{const e=t!==b;e&&!n.current&&(n.current=t),!e&&n.current&&(n.current=null)}),[t]),n.current?(0,o.subtract)(t,n.current):b}function Lt(t){return(0,i.useMemo)((()=>t?function(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}(t):null),[t])}const Dt=[];function Ot(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return(0,o.isHTMLElement)(e)?e:t}const Ft=[{sensor:gt,options:{}},{sensor:ht,options:{}}],Ht={current:{}},Nt={draggable:{measure:N},droppable:{measure:N,strategy:Mt.WhileDragging,frequency:At.Optimized},dragOverlay:{measure:H}};class zt extends Map{get(t){var e;return null!=t&&null!=(e=super.get(t))?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((t=>{let{disabled:e}=t;return!e}))}getNodeFor(t){var e,n;return null!=(e=null==(n=this.get(t))?void 0:n.node.current)?e:void 0}}const Wt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:m},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Nt,measureDroppableContainers:m,windowRect:null,measuringScheduled:!1},jt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:m,draggableNodes:new Map,over:null,measureDroppableContainers:m},Vt=(0,i.createContext)(jt),Gt=(0,i.createContext)(Wt);function Zt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zt}}}function Ut(t,e){switch(e.type){case g.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case g.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case g.DragEnd:case g.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case g.RegisterDroppable:{const{element:n}=e,{id:i}=n,r=new zt(t.droppable.containers);return r.set(i,n),{...t,droppable:{...t.droppable,containers:r}}}case g.SetDroppableDisabled:{const{id:n,key:i,disabled:r}=e,o=t.droppable.containers.get(n);if(!o||i!==o.key)return t;const a=new zt(t.droppable.containers);return a.set(n,{...o,disabled:r}),{...t,droppable:{...t.droppable,containers:a}}}case g.UnregisterDroppable:{const{id:n,key:i}=e,r=t.droppable.containers.get(n);if(!r||i!==r.key)return t;const o=new zt(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function Kt(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=(0,i.useContext)(Vt),s=(0,o.usePrevious)(r),l=(0,o.usePrevious)(null==n?void 0:n.id);return(0,i.useEffect)((()=>{if(!e&&!r&&s&&null!=l){if(!(0,o.isKeyboardEvent)(s))return;if(document.activeElement===s.target)return;const t=a.get(l);if(!t)return;const{activatorNode:e,node:n}=t;if(!e.current&&!n.current)return;requestAnimationFrame((()=>{for(const t of[e.current,n.current]){if(!t)continue;const e=(0,o.findFirstFocusableNode)(t);if(e){e.focus();break}}}))}}),[r,e,a,l,s]),null}function $t(t,e){let{transform:n,...i}=e;return null!=t&&t.length?t.reduce(((t,e)=>e({transform:t,...i})),n):n}const Xt=(0,i.createContext)({...b,scaleX:1,scaleY:1});var Yt;!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"}(Yt||(Yt={}));const qt=(0,i.memo)((function(t){var e,n,a,s;let{id:l,accessibility:u,autoScroll:c=!0,children:d,sensors:f=Ft,collisionDetection:m=I,measuring:v,modifiers:y,...w}=t;const x=(0,i.useReducer)(Ut,void 0,Zt),[_,C]=x,[S,A]=function(){const[t]=(0,i.useState)((()=>new Set)),e=(0,i.useCallback)((e=>(t.add(e),()=>t.delete(e))),[t]);return[(0,i.useCallback)((e=>{let{type:n,event:i}=e;t.forEach((t=>{var e;return null==(e=t[n])?void 0:e.call(t,i)}))}),[t]),e]}(),[T,k]=(0,i.useState)(Yt.Uninitialized),R=T===Yt.Initialized,{draggable:{active:P,nodes:E,translate:L},droppable:{containers:O}}=_,F=P?E.get(P):null,N=(0,i.useRef)({initial:null,translated:null}),V=(0,i.useMemo)((()=>{var t;return null!=P?{id:P,data:null!=(t=null==F?void 0:F.data)?t:Ht,rect:N}:null}),[P,F]),G=(0,i.useRef)(null),[U,$]=(0,i.useState)(null),[X,Y]=(0,i.useState)(null),q=(0,o.useLatestValue)(w,Object.values(w)),Q=(0,o.useUniqueId)("DndDescribedBy",l),tt=(0,i.useMemo)((()=>O.getEnabled()),[O]),nt=(it=v,(0,i.useMemo)((()=>({draggable:{...Nt.draggable,...null==it?void 0:it.draggable},droppable:{...Nt.droppable,...null==it?void 0:it.droppable},dragOverlay:{...Nt.dragOverlay,...null==it?void 0:it.dragOverlay}})),[null==it?void 0:it.draggable,null==it?void 0:it.droppable,null==it?void 0:it.dragOverlay]));var it;const{droppableRects:rt,measureDroppableContainers:ot,measuringScheduled:at}=function(t,e){let{dragging:n,dependencies:r,config:a}=e;const[s,l]=(0,i.useState)(null),{frequency:u,measure:h,strategy:c}=a,d=(0,i.useRef)(t),f=function(){switch(c){case Mt.Always:return!1;case Mt.BeforeDragging:return n;default:return!n}}(),p=(0,o.useLatestValue)(f),g=(0,i.useCallback)((function(t){void 0===t&&(t=[]),p.current||l((e=>null===e?t:e.concat(t.filter((t=>!e.includes(t))))))}),[p]),m=(0,i.useRef)(null),v=(0,o.useLazyMemo)((e=>{if(f&&!n)return Tt;if(!e||e===Tt||d.current!==t||null!=s){const e=new Map;for(let n of t){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,i=t?new et(h(t),t):null;n.rect.current=i,i&&e.set(n.id,i)}return e}return e}),[t,s,n,f,h]);return(0,i.useEffect)((()=>{d.current=t}),[t]),(0,i.useEffect)((()=>{f||g()}),[n,f]),(0,i.useEffect)((()=>{s&&s.length>0&&l(null)}),[JSON.stringify(s)]),(0,i.useEffect)((()=>{f||"number"!=typeof u||null!==m.current||(m.current=setTimeout((()=>{g(),m.current=null}),u))}),[u,f,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:null!=s}}(tt,{dragging:R,dependencies:[L.x,L.y],config:nt.droppable}),st=function(t,e){const n=null!==e?t.get(e):void 0,i=n?n.node.current:null;return(0,o.useLazyMemo)((t=>{var n;return null===e?null:null!=(n=null!=i?i:t)?n:null}),[i,e])}(E,P),lt=(0,i.useMemo)((()=>X?(0,o.getEventCoordinates)(X):null),[X]),ut=function(){const t=!1===(null==U?void 0:U.autoScrollEnabled),e="object"==typeof c?!1===c.enabled:!1===c,n=R&&!t&&!e;if("object"==typeof c)return{...c,enabled:n};return{enabled:n}}(),ht=function(t,e){return kt(t,e)}(st,nt.draggable.measure);!function(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const s=(0,i.useRef)(!1),{x:l,y:u}="boolean"==typeof a?{x:a,y:a}:a;(0,o.useIsomorphicLayoutEffect)((()=>{if(!l&&!u||!e)return void(s.current=!1);if(s.current||!r)return;const t=null==e?void 0:e.node.current;if(!t||!1===t.isConnected)return;const i=B(n(t),r);if(l||(i.x=0),u||(i.y=0),s.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const e=W(t);e&&e.scrollBy({top:i.y,left:i.x})}}),[e,l,u,r,n])}({activeNode:P?E.get(P):null,config:ut.layoutShiftCompensation,initialRect:ht,measure:nt.draggable.measure});const ct=Pt(st,nt.draggable.measure,ht),dt=Pt(st?st.parentElement:null),ft=(0,i.useRef)({activatorEvent:null,active:null,activeNode:st,collisionRect:null,collisions:null,droppableRects:rt,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pt=O.getNodeFor(null==(e=ft.current.over)?void 0:e.id),gt=function(t){let{measure:e}=t;const[n,r]=(0,i.useState)(null),a=Rt({callback:(0,i.useCallback)((t=>{for(const{target:n}of t)if((0,o.isHTMLElement)(n)){r((t=>{const i=e(n);return t?{...t,width:i.width,height:i.height}:i}));break}}),[e])}),s=(0,i.useCallback)((t=>{const n=Ot(t);null==a||a.disconnect(),n&&(null==a||a.observe(n)),r(n?e(n):null)}),[e,a]),[l,u]=(0,o.useNodeRef)(s);return(0,i.useMemo)((()=>({nodeRef:l,rect:n,setRef:u})),[n,l,u])}({measure:nt.dragOverlay.measure}),mt=null!=(n=gt.nodeRef.current)?n:st,vt=R?null!=(a=gt.rect)?a:ct:null,yt=Boolean(gt.nodeRef.current&&gt.rect),bt=B(wt=yt?null:ct,kt(wt));var wt;const xt=Lt(mt?(0,o.getWindow)(mt):null),_t=function(t){const e=(0,i.useRef)(t),n=(0,o.useLazyMemo)((n=>t?n&&n!==Et&&t&&e.current&&t.parentNode===e.current.parentNode?n:z(t):Et),[t]);return(0,i.useEffect)((()=>{e.current=t}),[t]),n}(R?null!=pt?pt:st:null),St=function(t,e){void 0===e&&(e=H);const[n]=t,r=Lt(n?(0,o.getWindow)(n):null),[a,s]=(0,i.useReducer)((function(){return t.length?t.map((t=>K(t)?r:new et(e(t),t))):Dt}),Dt),l=Rt({callback:s});return t.length>0&&a===Dt&&s(),(0,o.useIsomorphicLayoutEffect)((()=>{t.length?t.forEach((t=>null==l?void 0:l.observe(t))):(null==l||l.disconnect(),s())}),[t]),a}(_t),At=$t(y,{transform:{x:L.x-bt.x,y:L.y-bt.y,scaleX:1,scaleY:1},activatorEvent:X,active:V,activeNodeRect:ct,containerNodeRect:dt,draggingNodeRect:vt,over:ft.current.over,overlayNodeRect:gt.rect,scrollableAncestors:_t,scrollableAncestorRects:St,windowRect:xt}),It=lt?(0,o.add)(lt,L):null,zt=function(t){const[e,n]=(0,i.useState)(null),r=(0,i.useRef)(t),a=(0,i.useCallback)((t=>{const e=j(t.target);e&&n((t=>t?(t.set(e,Z(e)),new Map(t)):null))}),[]);return(0,i.useEffect)((()=>{const e=r.current;if(t!==e){i(e);const o=t.map((t=>{const e=j(t);return e?(e.addEventListener("scroll",a,{passive:!0}),[e,Z(e)]):null})).filter((t=>null!=t));n(o.length?new Map(o):null),r.current=t}return()=>{i(t),i(e)};function i(t){t.forEach((t=>{const e=j(t);null==e||e.removeEventListener("scroll",a)}))}}),[a,t]),(0,i.useMemo)((()=>t.length?e?Array.from(e.values()).reduce(((t,e)=>(0,o.add)(t,e)),b):J(t):b),[t,e])}(_t),Wt=Bt(zt),jt=Bt(zt,[ct]),qt=(0,o.add)(At,Wt),Jt=vt?D(vt,At):null,Qt=V&&Jt?m({active:V,collisionRect:Jt,droppableRects:rt,droppableContainers:tt,pointerCoordinates:It}):null,te=M(Qt,"id"),[ee,ne]=(0,i.useState)(null),ie=function(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}(yt?At:(0,o.add)(At,jt),null!=(s=null==ee?void 0:ee.rect)?s:null,ct),re=(0,i.useCallback)(((t,e)=>{let{sensor:n,options:i}=e;if(null==G.current)return;const o=E.get(G.current);if(!o)return;const a=t.nativeEvent,s=new n({active:G.current,activeNode:o,event:a,options:i,context:ft,onStart(t){const e=G.current;if(null==e)return;const n=E.get(e);if(!n)return;const{onDragStart:i}=q.current,o={active:{id:e,data:n.data,rect:N}};(0,r.unstable_batchedUpdates)((()=>{null==i||i(o),k(Yt.Initializing),C({type:g.DragStart,initialCoordinates:t,active:e}),S({type:"onDragStart",event:o})}))},onMove(t){C({type:g.DragMove,coordinates:t})},onEnd:l(g.DragEnd),onCancel:l(g.DragCancel)});function l(t){return async function(){const{active:e,collisions:n,over:i,scrollAdjustedTranslate:o}=ft.current;let s=null;if(e&&o){const{cancelDrop:r}=q.current;if(s={activatorEvent:a,active:e,collisions:n,delta:o,over:i},t===g.DragEnd&&"function"==typeof r){await Promise.resolve(r(s))&&(t=g.DragCancel)}}G.current=null,(0,r.unstable_batchedUpdates)((()=>{C({type:t}),k(Yt.Uninitialized),ne(null),$(null),Y(null);const e=t===g.DragEnd?"onDragEnd":"onDragCancel";if(s){const t=q.current[e];null==t||t(s),S({type:e,event:s})}}))}}(0,r.unstable_batchedUpdates)((()=>{$(s),Y(t.nativeEvent)}))}),[E]),oe=(0,i.useCallback)(((t,e)=>(n,i)=>{const r=n.nativeEvent,o=E.get(i);if(null!==G.current||!o||r.dndKit||r.defaultPrevented)return;const a={active:o};!0===t(n,e.options,a)&&(r.dndKit={capturedBy:e.sensor},G.current=i,re(n,e))}),[E,re]),ae=function(t,e){return(0,i.useMemo)((()=>t.reduce(((t,n)=>{const{sensor:i}=n;return[...t,...i.activators.map((t=>({eventName:t.eventName,handler:e(t.handler,n)})))]}),[])),[t,e])}(f,oe);!function(t){(0,i.useEffect)((()=>{if(!o.canUseDOM)return;const e=t.map((t=>{let{sensor:e}=t;return null==e.setup?void 0:e.setup()}));return()=>{for(const t of e)null==t||t()}}),t.map((t=>{let{sensor:e}=t;return e})))}(f),(0,o.useIsomorphicLayoutEffect)((()=>{ct&&T===Yt.Initializing&&k(Yt.Initialized)}),[ct,T]),(0,i.useEffect)((()=>{const{onDragMove:t}=q.current,{active:e,activatorEvent:n,collisions:i,over:o}=ft.current;if(!e||!n)return;const a={active:e,activatorEvent:n,collisions:i,delta:{x:qt.x,y:qt.y},over:o};(0,r.unstable_batchedUpdates)((()=>{null==t||t(a),S({type:"onDragMove",event:a})}))}),[qt.x,qt.y]),(0,i.useEffect)((()=>{const{active:t,activatorEvent:e,collisions:n,droppableContainers:i,scrollAdjustedTranslate:o}=ft.current;if(!t||null==G.current||!e||!o)return;const{onDragOver:a}=q.current,s=i.get(te),l=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,u={active:t,activatorEvent:e,collisions:n,delta:{x:o.x,y:o.y},over:l};(0,r.unstable_batchedUpdates)((()=>{ne(l),null==a||a(u),S({type:"onDragOver",event:u})}))}),[te]),(0,o.useIsomorphicLayoutEffect)((()=>{ft.current={activatorEvent:X,active:V,activeNode:st,collisionRect:Jt,collisions:Qt,droppableRects:rt,draggableNodes:E,draggingNode:mt,draggingNodeRect:vt,droppableContainers:O,over:ee,scrollableAncestors:_t,scrollAdjustedTranslate:qt},N.current={initial:vt,translated:Jt}}),[V,st,Qt,Jt,E,mt,vt,rt,O,ee,_t,qt]),Ct({...ut,delta:L,draggingRect:Jt,pointerCoordinates:It,scrollableAncestors:_t,scrollableAncestorRects:St});const se=(0,i.useMemo)((()=>({active:V,activeNode:st,activeNodeRect:ct,activatorEvent:X,collisions:Qt,containerNodeRect:dt,dragOverlay:gt,draggableNodes:E,droppableContainers:O,droppableRects:rt,over:ee,measureDroppableContainers:ot,scrollableAncestors:_t,scrollableAncestorRects:St,measuringConfiguration:nt,measuringScheduled:at,windowRect:xt})),[V,st,ct,X,Qt,dt,gt,E,O,rt,ee,ot,_t,St,nt,at,xt]),le=(0,i.useMemo)((()=>({activatorEvent:X,activators:ae,active:V,activeNodeRect:ct,ariaDescribedById:{draggable:Q},dispatch:C,draggableNodes:E,over:ee,measureDroppableContainers:ot})),[X,ae,V,ct,C,Q,E,ee,ot]);return i.createElement(h.Provider,{value:A},i.createElement(Vt.Provider,{value:le},i.createElement(Gt.Provider,{value:se},i.createElement(Xt.Provider,{value:ie},d)),i.createElement(Kt,{disabled:!1===(null==u?void 0:u.restoreFocus)})),i.createElement(p,{...u,hiddenTextDescribedById:Q}))})),Jt=(0,i.createContext)(null),Qt="button";function te(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const s=(0,o.useUniqueId)("Droppable"),{activators:l,activatorEvent:u,active:h,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:p}=(0,i.useContext)(Vt),{role:g=Qt,roleDescription:m="draggable",tabIndex:v=0}=null!=a?a:{},y=(null==h?void 0:h.id)===e,b=(0,i.useContext)(y?Xt:Jt),[w,x]=(0,o.useNodeRef)(),[_,C]=(0,o.useNodeRef)(),S=function(t,e){return(0,i.useMemo)((()=>t.reduce(((t,n)=>{let{eventName:i,handler:r}=n;return t[i]=t=>{r(t,e)},t}),{})),[t,e])}(l,e),M=(0,o.useLatestValue)(n);(0,o.useIsomorphicLayoutEffect)((()=>(f.set(e,{id:e,key:s,node:w,activatorNode:_,data:M}),()=>{const t=f.get(e);t&&t.key===s&&f.delete(e)})),[f,e]);return{active:h,activatorEvent:u,activeNodeRect:c,attributes:(0,i.useMemo)((()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":!(!y||g!==Qt)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable})),[r,g,v,y,m,d.draggable]),isDragging:y,listeners:r?void 0:S,node:w,over:p,setNodeRef:x,setActivatorNodeRef:C,transform:b}}function ee(){return(0,i.useContext)(Gt)}const ne={timeout:25};function ie(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const s=(0,o.useUniqueId)("Droppable"),{active:l,dispatch:u,over:h,measureDroppableContainers:c}=(0,i.useContext)(Vt),d=(0,i.useRef)({disabled:n}),f=(0,i.useRef)(!1),p=(0,i.useRef)(null),m=(0,i.useRef)(null),{disabled:v,updateMeasurementsFor:y,timeout:b}={...ne,...a},w=(0,o.useLatestValue)(null!=y?y:r),x=Rt({callback:(0,i.useCallback)((()=>{f.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout((()=>{c(Array.isArray(w.current)?w.current:[w.current]),m.current=null}),b)):f.current=!0}),[b]),disabled:v||!l}),_=(0,i.useCallback)(((t,e)=>{x&&(e&&(x.unobserve(e),f.current=!1),t&&x.observe(t))}),[x]),[C,S]=(0,o.useNodeRef)(_),M=(0,o.useLatestValue)(e);return(0,i.useEffect)((()=>{x&&C.current&&(x.disconnect(),f.current=!1,x.observe(C.current))}),[C,x]),(0,o.useIsomorphicLayoutEffect)((()=>(u({type:g.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:p,data:M}}),()=>u({type:g.UnregisterDroppable,key:s,id:r}))),[r]),(0,i.useEffect)((()=>{n!==d.current.disabled&&(u({type:g.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)}),[r,s,n,u]),{active:l,rect:p,isOver:(null==h?void 0:h.id)===r,node:C,over:h,setNodeRef:S}}function re(t){let{animation:e,children:n}=t;const[r,a]=(0,i.useState)(null),[s,l]=(0,i.useState)(null),u=(0,o.usePrevious)(n);return n||r||!u||a(u),(0,o.useIsomorphicLayoutEffect)((()=>{if(!s)return;const t=null==r?void 0:r.key,n=null==r?void 0:r.props.id;null!=t&&null!=n?Promise.resolve(e(n,s)).then((()=>{a(null)})):a(null)}),[e,r,s]),i.createElement(i.Fragment,null,n,r?(0,i.cloneElement)(r,{ref:l}):null)}const oe={x:0,y:0,scaleX:1,scaleY:1};function ae(t){let{children:e}=t;return i.createElement(Vt.Provider,{value:jt},i.createElement(Xt.Provider,{value:oe},e))}const se={position:"fixed",touchAction:"none"},le=t=>(0,o.isKeyboardEvent)(t)?"transform 250ms ease":void 0,ue=(0,i.forwardRef)(((t,e)=>{let{as:n,activatorEvent:r,adjustScale:a,children:s,className:l,rect:u,style:h,transform:c,transition:d=le}=t;if(!u)return null;const f=a?c:{...c,scaleX:1,scaleY:1},p={...se,width:u.width,height:u.height,top:u.top,left:u.left,transform:o.CSS.Transform.toString(f),transformOrigin:a&&r?x(r,u):void 0,transition:"function"==typeof d?d(r):d,...h};return i.createElement(n,{className:l,style:p,ref:e},s)})),he=t=>e=>{let{active:n,dragOverlay:i}=e;const r={},{styles:o,className:a}=t;if(null!=o&&o.active)for(const[t,e]of Object.entries(o.active))void 0!==e&&(r[t]=n.node.style.getPropertyValue(t),n.node.style.setProperty(t,e));if(null!=o&&o.dragOverlay)for(const[t,e]of Object.entries(o.dragOverlay))void 0!==e&&i.node.style.setProperty(t,e);return null!=a&&a.active&&n.node.classList.add(a.active),null!=a&&a.dragOverlay&&i.node.classList.add(a.dragOverlay),function(){for(const[t,e]of Object.entries(r))n.node.style.setProperty(t,e);null!=a&&a.active&&n.node.classList.remove(a.active)}},ce={duration:250,easing:"ease",keyframes:t=>{let{transform:{initial:e,final:n}}=t;return[{transform:o.CSS.Transform.toString(e)},{transform:o.CSS.Transform.toString(n)}]},sideEffects:he({styles:{active:{opacity:"0"}}})};function de(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:r}=t;return(0,o.useEvent)(((t,a)=>{if(null===e)return;const s=n.get(t);if(!s)return;const l=s.node.current;if(!l)return;const u=Ot(a);if(!u)return;const{transform:h}=(0,o.getWindow)(a).getComputedStyle(a),c=O(h);if(!c)return;const d="function"==typeof e?e:function(t){const{duration:e,easing:n,sideEffects:i,keyframes:r}={...ce,...t};return t=>{let{active:o,dragOverlay:a,transform:s,...l}=t;if(!e)return;const u={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},h={scaleX:1!==s.scaleX?o.rect.width*s.scaleX/a.rect.width:1,scaleY:1!==s.scaleY?o.rect.height*s.scaleY/a.rect.height:1},c={x:s.x-u.x,y:s.y-u.y,...h},d=r({...l,active:o,dragOverlay:a,transform:{initial:s,final:c}}),[f]=d,p=d[d.length-1];if(JSON.stringify(f)===JSON.stringify(p))return;const g=null==i?void 0:i({active:o,dragOverlay:a,...l}),m=a.node.animate(d,{duration:e,easing:n,fill:"forwards"});return new Promise((t=>{m.onfinish=()=>{null==g||g(),t()}}))}}(e);return Q(l,r.draggable.measure),d({active:{id:t,data:s.data,node:l,rect:r.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:a,rect:r.dragOverlay.measure(u)},droppableContainers:i,measuringConfiguration:r,transform:c})}))}let fe=0;function pe(t){return(0,i.useMemo)((()=>{if(null!=t)return fe++,fe}),[t])}const ge=i.memo((t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:o,transition:a,modifiers:s,wrapperElement:l="div",className:u,zIndex:h=999}=t;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:p,draggableNodes:g,droppableContainers:m,dragOverlay:v,over:y,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:x,windowRect:_}=ee(),C=(0,i.useContext)(Xt),S=pe(null==d?void 0:d.id),M=$t(s,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:v.rect,over:y,overlayNodeRect:v.rect,scrollableAncestors:w,scrollableAncestorRects:x,transform:C,windowRect:_}),A=kt(f),T=de({config:r,draggableNodes:g,droppableContainers:m,measuringConfiguration:b}),k=A?v.setRef:void 0;return i.createElement(ae,null,i.createElement(re,{animation:T},d&&S?i.createElement(ue,{key:S,id:d.id,ref:k,as:l,activatorEvent:c,adjustScale:e,className:u,transition:a,rect:A,style:{zIndex:h,...o},transform:M},n):null))}))},20643:function(t,e,n){"use strict";n.r(e),n.d(e,{createSnapModifier:function(){return r},restrictToFirstScrollableAncestor:function(){return l},restrictToHorizontalAxis:function(){return o},restrictToParentElement:function(){return s},restrictToVerticalAxis:function(){return u},restrictToWindowEdges:function(){return h},snapCenterToCursor:function(){return c}});var i=n(84341);function r(t){return e=>{let{transform:n}=e;return{...n,x:Math.ceil(n.x/t)*t,y:Math.ceil(n.y/t)*t}}}const o=t=>{let{transform:e}=t;return{...e,y:0}};function a(t,e,n){const i={...t};return e.top+t.y<=n.top?i.y=n.top-e.top:e.bottom+t.y>=n.top+n.height&&(i.y=n.top+n.height-e.bottom),e.left+t.x<=n.left?i.x=n.left-e.left:e.right+t.x>=n.left+n.width&&(i.x=n.left+n.width-e.right),i}const s=t=>{let{containerNodeRect:e,draggingNodeRect:n,transform:i}=t;return n&&e?a(i,n,e):i},l=t=>{let{draggingNodeRect:e,transform:n,scrollableAncestorRects:i}=t;const r=i[0];return e&&r?a(n,e,r):n},u=t=>{let{transform:e}=t;return{...e,x:0}},h=t=>{let{transform:e,draggingNodeRect:n,windowRect:i}=t;return n&&i?a(e,n,i):e},c=t=>{let{activatorEvent:e,draggingNodeRect:n,transform:r}=t;if(n&&e){const t=(0,i.getEventCoordinates)(e);if(!t)return r;const o=t.x-n.left,a=t.y-n.top;return{...r,x:r.x+o-n.width/2,y:r.y+a-n.height/2}}return r}},84341:function(t,e,n){"use strict";n.r(e),n.d(e,{CSS:function(){return R},add:function(){return C},canUseDOM:function(){return o},findFirstFocusableNode:function(){return P},getEventCoordinates:function(){return k},getOwnerDocument:function(){return d},getWindow:function(){return l},hasViewportRelativeCoordinates:function(){return M},isDocument:function(){return u},isHTMLElement:function(){return h},isKeyboardEvent:function(){return A},isNode:function(){return s},isSVGElement:function(){return c},isTouchEvent:function(){return T},isWindow:function(){return a},subtract:function(){return S},useCombinedRefs:function(){return r},useEvent:function(){return p},useInterval:function(){return g},useIsomorphicLayoutEffect:function(){return f},useLatestValue:function(){return m},useLazyMemo:function(){return v},useNodeRef:function(){return y},usePrevious:function(){return b},useUniqueId:function(){return x}});var i=n(50959);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,i.useMemo)((()=>t=>{e.forEach((e=>e(t)))}),e)}const o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function a(t){const e=Object.prototype.toString.call(t);return"[object Window]"===e||"[object global]"===e}function s(t){return"nodeType"in t}function l(t){var e,n;return t?a(t)?t:s(t)&&null!=(e=null==(n=t.ownerDocument)?void 0:n.defaultView)?e:window:window}function u(t){const{Document:e}=l(t);return t instanceof e}function h(t){return!a(t)&&t instanceof l(t).HTMLElement}function c(t){return t instanceof l(t).SVGElement}function d(t){return t?a(t)?t.document:s(t)?u(t)?t:h(t)?t.ownerDocument:document:document:document}const f=o?i.useLayoutEffect:i.useEffect;function p(t){const e=(0,i.useRef)(t);return f((()=>{e.current=t})),(0,i.useCallback)((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null==e.current?void 0:e.current(...n)}),[])}function g(){const t=(0,i.useRef)(null);return[(0,i.useCallback)(((e,n)=>{t.current=setInterval(e,n)}),[]),(0,i.useCallback)((()=>{null!==t.current&&(clearInterval(t.current),t.current=null)}),[])]}function m(t,e){void 0===e&&(e=[t]);const n=(0,i.useRef)(t);return f((()=>{n.current!==t&&(n.current=t)}),e),n}function v(t,e){const n=(0,i.useRef)();return(0,i.useMemo)((()=>{const e=t(n.current);return n.current=e,e}),[...e])}function y(t){const e=p(t),n=(0,i.useRef)(null),r=(0,i.useCallback)((t=>{t!==n.current&&(null==e||e(t,n.current)),n.current=t}),[]);return[n,r]}function b(t){const e=(0,i.useRef)();return(0,i.useEffect)((()=>{e.current=t}),[t]),e.current}let w={};function x(t,e){return(0,i.useMemo)((()=>{if(e)return e;const n=null==w[t]?0:w[t]+1;return w[t]=n,t+"-"+n}),[t,e])}function _(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce(((e,n)=>{const i=Object.entries(n);for(const[n,r]of i){const i=e[n];null!=i&&(e[n]=i+t*r)}return e}),{...e})}}const C=_(1),S=_(-1);function M(t){return"clientX"in t&&"clientY"in t}function A(t){if(!t)return!1;const{KeyboardEvent:e}=l(t.target);return e&&t instanceof e}function T(t){if(!t)return!1;const{TouchEvent:e}=l(t.target);return e&&t instanceof e}function k(t){if(T(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return M(t)?{x:t.clientX,y:t.clientY}:null}const R=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[R.Translate.toString(t),R.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),I="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function P(t){return t.matches(I)?t:t.querySelector(I)}},20873:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});const i=t=>t?"function"==typeof t?t():t:null},9308:function(t,e,n){"use strict";n.d(e,{Z:function(){return M}});var i=n(50959),r=n(82187),o=n.n(r),a=n(53314),s=n(68300),l=n(68280),u=n(92576),h=n(25162),c=n(12158),d=n(59263);var f=i.createContext(null),p=n(6479),g=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const m=(t,e)=>{var n;const{prefixCls:r,className:m,rootClassName:v,children:y,indeterminate:b=!1,style:w,onMouseEnter:x,onMouseLeave:_,skipGroup:C=!1,disabled:S}=t,M=g(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:A,direction:T,checkbox:k}=i.useContext(u.E_),R=i.useContext(f),{isFormItemInput:I}=i.useContext(d.aM),P=i.useContext(h.Z),E=null!==(n=(null==R?void 0:R.disabled)||S)&&void 0!==n?n:P,B=i.useRef(M.value);i.useEffect((()=>{null==R||R.registerValue(M.value)}),[]),i.useEffect((()=>{if(!C)return M.value!==B.current&&(null==R||R.cancelValue(B.current),null==R||R.registerValue(M.value),B.current=M.value),()=>null==R?void 0:R.cancelValue(M.value)}),[M.value]);const L=A("checkbox",r),D=(0,c.Z)(L),[O,F,H]=(0,p.ZP)(L,D),N=Object.assign({},M);R&&!C&&(N.onChange=function(){M.onChange&&M.onChange.apply(M,arguments),R.toggleOption&&R.toggleOption({label:y,value:M.value})},N.name=R.name,N.checked=R.value.includes(M.value));const z=o()(`${L}-wrapper`,{[`${L}-rtl`]:"rtl"===T,[`${L}-wrapper-checked`]:N.checked,[`${L}-wrapper-disabled`]:E,[`${L}-wrapper-in-form-item`]:I},null==k?void 0:k.className,m,v,H,D,F),W=o()({[`${L}-indeterminate`]:b},l.A,F),j=b?"mixed":void 0;return O(i.createElement(s.Z,{component:"Checkbox",disabled:E},i.createElement("label",{className:z,style:Object.assign(Object.assign({},null==k?void 0:k.style),w),onMouseEnter:x,onMouseLeave:_},i.createElement(a.Z,Object.assign({"aria-checked":j},N,{prefixCls:L,className:W,disabled:E,ref:e})),void 0!==y&&i.createElement("span",null,y))))};var v=i.forwardRef(m),y=n(64122),b=n(87017),w=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const x=(t,e)=>{const{defaultValue:n,children:r,options:a=[],prefixCls:s,className:l,rootClassName:h,style:d,onChange:g}=t,m=w(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:x,direction:_}=i.useContext(u.E_),[C,S]=i.useState(m.value||n||[]),[M,A]=i.useState([]);i.useEffect((()=>{"value"in m&&S(m.value||[])}),[m.value]);const T=i.useMemo((()=>a.map((t=>"string"==typeof t||"number"==typeof t?{label:t,value:t}:t))),[a]),k=x("checkbox",s),R=`${k}-group`,I=(0,c.Z)(k),[P,E,B]=(0,p.ZP)(k,I),L=(0,b.Z)(m,["value","disabled"]),D=a.length?T.map((t=>i.createElement(v,{prefixCls:k,key:t.value.toString(),disabled:"disabled"in t?t.disabled:m.disabled,value:t.value,checked:C.includes(t.value),onChange:t.onChange,className:`${R}-item`,style:t.style,title:t.title,id:t.id,required:t.required},t.label))):r,O={toggleOption:t=>{const e=C.indexOf(t.value),n=(0,y.Z)(C);-1===e?n.push(t.value):n.splice(e,1),"value"in m||S(n),null==g||g(n.filter((t=>M.includes(t))).sort(((t,e)=>T.findIndex((e=>e.value===t))-T.findIndex((t=>t.value===e)))))},value:C,disabled:m.disabled,name:m.name,registerValue:t=>{A((e=>[].concat((0,y.Z)(e),[t])))},cancelValue:t=>{A((e=>e.filter((e=>e!==t))))}},F=o()(R,{[`${R}-rtl`]:"rtl"===_},l,h,B,I,E);return P(i.createElement("div",Object.assign({className:F,style:d},L,{ref:e}),i.createElement(f.Provider,{value:O},D)))},_=i.forwardRef(x);var C=i.memo(_);const S=v;S.Group=C,S.__ANT_CHECKBOX=!0;var M=S},6479:function(t,e,n){"use strict";n.d(e,{C2:function(){return l}});var i=n(36905),r=n(55985),o=n(37324),a=n(87077);const s=t=>{const{checkboxCls:e}=t,n=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},(0,r.Wf)(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},(0,r.Wf)(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},(0,r.Wf)(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},(0,r.oN)(t))},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${(0,i.bf)(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:`${(0,i.bf)(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${e}:not(${e}-disabled)\n      `]:{[`&:hover ${e}-inner`]:{borderColor:t.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${e}-checked:not(${e}-disabled)\n      `]:{[`&:hover ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:t.colorBgContainer,borderColor:t.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:t.colorTextDisabled}}}]};function l(t,e){const n=(0,o.TS)(e,{checkboxCls:`.${t}`,checkboxSize:e.controlInteractiveSize});return[s(n)]}e.ZP=(0,a.I$)("Checkbox",((t,e)=>{let{prefixCls:n}=e;return[l(n,t)]}))},87740:function(t,e,n){"use strict";n.d(e,{Z:function(){return B}});var i=n(50959),r=n(82187),o=n.n(r),a=n(92576),s=n(59263),l=n(85580);var u=t=>{const{getPrefixCls:e,direction:n}=(0,i.useContext)(a.E_),{prefixCls:r,className:u}=t,h=e("input-group",r),c=e("input"),[d,f]=(0,l.ZP)(c),p=o()(h,{[`${h}-lg`]:"large"===t.size,[`${h}-sm`]:"small"===t.size,[`${h}-compact`]:t.compact,[`${h}-rtl`]:"rtl"===n},f,u),g=(0,i.useContext)(s.aM),m=(0,i.useMemo)((()=>Object.assign(Object.assign({},g),{isFormItemInput:!1})),[g]);return d(i.createElement("span",{className:p,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},i.createElement(s.aM.Provider,{value:m},t.children)))},h=n(99053),c=n(27263),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},f=n(89011),p=function(t,e){return i.createElement(f.Z,(0,c.Z)({},t,{ref:e,icon:d}))};var g=i.forwardRef(p),m=n(34216),v=n(87017),y=n(12602),b=n(25341),w=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const x=t=>t?i.createElement(m.Z,null):i.createElement(g,null),_={click:"onClick",hover:"onMouseOver"};var C=i.forwardRef(((t,e)=>{const{visibilityToggle:n=!0}=t,r="object"==typeof n&&void 0!==n.visible,[s,l]=(0,i.useState)((()=>!!r&&n.visible)),u=(0,i.useRef)(null);i.useEffect((()=>{r&&l(n.visible)}),[r,n]);const c=(0,b.Z)(u),d=()=>{const{disabled:e}=t;e||(s&&c(),l((t=>{var e;const i=!t;return"object"==typeof n&&(null===(e=n.onVisibleChange)||void 0===e||e.call(n,i)),i})))},{className:f,prefixCls:p,inputPrefixCls:g,size:m}=t,C=w(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:S}=i.useContext(a.E_),M=S("input",g),A=S("input-password",p),T=n&&(e=>{const{action:n="click",iconRender:r=x}=t,o=_[n]||"",a=r(s),l={[o]:d,className:`${e}-icon`,key:"passwordIcon",onMouseDown:t=>{t.preventDefault()},onMouseUp:t=>{t.preventDefault()}};return i.cloneElement(i.isValidElement(a)?a:i.createElement("span",null,a),l)})(A),k=o()(A,f,{[`${A}-${m}`]:!!m}),R=Object.assign(Object.assign({},(0,v.Z)(C,["suffix","iconRender","visibilityToggle"])),{type:s?"text":"password",className:k,prefixCls:M,suffix:T});return m&&(R.size=m),i.createElement(h.Z,Object.assign({ref:(0,y.sQ)(e,u)},R))})),S=n(73610),M=n(37865),A=n(86865),T=n(50483),k=n(58163),R=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};var I=i.forwardRef(((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:s,size:l,suffix:u,enterButton:c=!1,addonAfter:d,loading:f,disabled:p,onSearch:g,onChange:m,onCompositionStart:v,onCompositionEnd:b}=t,w=R(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:x,direction:_}=i.useContext(a.E_),C=i.useRef(!1),I=x("input-search",n),P=x("input",r),{compactSize:E}=(0,k.ri)(I,_),B=(0,T.Z)((t=>{var e;return null!==(e=null!=l?l:E)&&void 0!==e?e:t})),L=i.useRef(null),D=t=>{var e;document.activeElement===(null===(e=L.current)||void 0===e?void 0:e.input)&&t.preventDefault()},O=t=>{var e,n;g&&g(null===(n=null===(e=L.current)||void 0===e?void 0:e.input)||void 0===n?void 0:n.value,t,{source:"input"})},F="boolean"==typeof c?i.createElement(S.Z,null):null,H=`${I}-button`;let N;const z=c||{},W=z.type&&!0===z.type.__ANT_BUTTON;N=W||"button"===z.type?(0,M.Tm)(z,Object.assign({onMouseDown:D,onClick:t=>{var e,n;null===(n=null===(e=null==z?void 0:z.props)||void 0===e?void 0:e.onClick)||void 0===n||n.call(e,t),O(t)},key:"enterButton"},W?{className:H,size:B}:{})):i.createElement(A.ZP,{className:H,type:c?"primary":void 0,size:B,disabled:p,key:"enterButton",onMouseDown:D,onClick:O,loading:f,icon:F},c),d&&(N=[N,(0,M.Tm)(d,{key:"addonAfter"})]);const j=o()(I,{[`${I}-rtl`]:"rtl"===_,[`${I}-${B}`]:!!B,[`${I}-with-button`]:!!c},s);return i.createElement(h.Z,Object.assign({ref:(0,y.sQ)(L,e),onPressEnter:t=>{C.current||f||O(t)}},w,{size:B,onCompositionStart:t=>{C.current=!0,null==v||v(t)},onCompositionEnd:t=>{C.current=!1,null==b||b(t)},prefixCls:P,addonAfter:N,suffix:u,onChange:t=>{t&&t.target&&"click"===t.type&&g&&g(t.target.value,t,{source:"clear"}),m&&m(t)},className:j,disabled:p}))})),P=n(78170);const E=h.Z;E.Group=u,E.Search=I,E.TextArea=P.Z,E.Password=C;var B=E},6835:function(t,e,n){"use strict";n.d(e,{t5:function(){return c}});var i=n(50959),r=n(82187),o=n.n(r),a=n(61852),s=n(20873),l=n(92576),u=n(45369),h=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const c=t=>{const{hashId:e,prefixCls:n,className:r,style:l,placement:u="top",title:h,content:c,children:d}=t;return i.createElement("div",{className:o()(e,n,`${n}-pure`,`${n}-placement-${u}`,r),style:l},i.createElement("div",{className:`${n}-arrow`}),i.createElement(a.G,Object.assign({},t,{className:e,prefixCls:n}),d||((t,e,n)=>e||n?i.createElement(i.Fragment,null,e&&i.createElement("div",{className:`${t}-title`},(0,s.Z)(e)),i.createElement("div",{className:`${t}-inner-content`},(0,s.Z)(n))):null)(n,h,c)))};e.ZP=t=>{const{prefixCls:e,className:n}=t,r=h(t,["prefixCls","className"]),{getPrefixCls:a}=i.useContext(l.E_),s=a("popover",e),[d,f,p]=(0,u.Z)(s);return d(i.createElement(c,Object.assign({},r,{prefixCls:s,hashId:f,className:o()(n,p)})))}},23835:function(t,e,n){"use strict";var i=n(50959),r=n(82187),o=n.n(r),a=n(20873),s=n(48141),l=n(92576),u=n(27850),h=n(6835),c=n(45369),d=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const f=t=>{let{title:e,content:n,prefixCls:r}=t;return i.createElement(i.Fragment,null,e&&i.createElement("div",{className:`${r}-title`},(0,a.Z)(e)),i.createElement("div",{className:`${r}-inner-content`},(0,a.Z)(n)))},p=i.forwardRef(((t,e)=>{const{prefixCls:n,title:r,content:a,overlayClassName:h,placement:p="top",trigger:g="hover",mouseEnterDelay:m=.1,mouseLeaveDelay:v=.1,overlayStyle:y={}}=t,b=d(t,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:w}=i.useContext(l.E_),x=w("popover",n),[_,C,S]=(0,c.Z)(x),M=w(),A=o()(h,C,S);return _(i.createElement(u.Z,Object.assign({placement:p,trigger:g,mouseEnterDelay:m,mouseLeaveDelay:v,overlayStyle:y},b,{prefixCls:x,overlayClassName:A,ref:e,overlay:r||a?i.createElement(f,{prefixCls:x,title:r,content:a}):null,transitionName:(0,s.m)(M,"zoom-big",b.transitionName),"data-popover-inject":!0})))}));p._InternalPanelDoNotUseOrYouWillBeFired=h.ZP,e.Z=p},45369:function(t,e,n){"use strict";var i=n(55985),r=n(74185),o=n(80197),a=n(73316),s=n(87077),l=n(37324),u=n(83467);const h=t=>{const{componentCls:e,popoverColor:n,titleMinWidth:r,fontWeightStrong:a,innerPadding:s,boxShadowSecondary:l,colorTextHeading:u,borderRadiusLG:h,zIndexPopup:c,titleMarginBottom:d,colorBgElevated:f,popoverBg:p,titleBorderBottom:g,innerContentPadding:m,titlePadding:v}=t;return[{[e]:Object.assign(Object.assign({},(0,i.Wf)(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":f,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:p,backgroundClip:"padding-box",borderRadius:h,boxShadow:l,padding:s},[`${e}-title`]:{minWidth:r,marginBottom:d,color:u,fontWeight:a,borderBottom:g,padding:v},[`${e}-inner-content`]:{color:n,padding:m}})},(0,o.ZP)(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},c=t=>{const{componentCls:e}=t;return{[e]:a.i.map((n=>{const i=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":i,[`${e}-inner`]:{backgroundColor:i},[`${e}-arrow`]:{background:"transparent"}}}}))}};e.Z=(0,s.I$)("Popover",(t=>{const{colorBgElevated:e,colorText:n}=t,i=(0,l.TS)(t,{popoverBg:e,popoverColor:n});return[h(i),c(i),(0,r._y)(i,"zoom-big")]}),(t=>{const{lineWidth:e,controlHeight:n,fontHeight:i,padding:r,wireframe:a,zIndexPopupBase:s,borderRadiusLG:l,marginXS:h,lineType:c,colorSplit:d,paddingSM:f}=t,p=n-i,g=p/2,m=p/2-e,v=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},(0,u.w)(t)),(0,o.wZ)({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:h,titlePadding:a?`${g}px ${v}px ${m}px`:0,titleBorderBottom:a?`${e}px ${c} ${d}`:"none",innerContentPadding:a?`${f}px ${v}px`:0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})},24156:function(t,e,n){"use strict";n.d(e,{Z:function(){return it}});var i=n(50959),r=n(45875),o=n(66311),a=n(11261),s=n(77686),l=n(82187),u=n.n(l),h=n(87017),c=n(92576),d=n(27263),f=n(35361),p=n(56929),g={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},m=function(){var t=(0,i.useRef)([]),e=(0,i.useRef)(null);return(0,i.useEffect)((function(){var n=Date.now(),i=!1;t.current.forEach((function(t){if(t){i=!0;var r=t.style;r.transitionDuration=".3s, .3s, .3s, .06s",e.current&&n-e.current<100&&(r.transitionDuration="0s, 0s")}})),i&&(e.current=Date.now())})),t.current};var v=n(97382),y=n(959),b=n(63490),w=0,x=(0,b.Z)();var _=function(t){var e=i.useState(),n=(0,y.Z)(e,2),r=n[0],o=n[1];return i.useEffect((function(){var t;o("rc_progress_".concat((x?(t=w,w+=1):t="TEST_OR_SSR",t)))}),[]),t||r},C=function(t){var e=t.bg,n=t.children;return i.createElement("div",{style:{width:"100%",height:"100%",background:e}},n)};function S(t,e){return Object.keys(t).map((function(n){var i=parseFloat(n),r="".concat(Math.floor(i*e),"%");return"".concat(t[n]," ").concat(r)}))}var M=i.forwardRef((function(t,e){var n=t.prefixCls,r=t.color,o=t.gradientId,a=t.radius,s=t.style,l=t.ptg,u=t.strokeLinecap,h=t.strokeWidth,c=t.size,d=t.gapDegree,f=r&&"object"===(0,v.Z)(r),p=f?"#FFF":void 0,g=c/2,m=i.createElement("circle",{className:"".concat(n,"-circle-path"),r:a,cx:g,cy:g,stroke:p,strokeLinecap:u,strokeWidth:h,opacity:0===l?0:1,style:s,ref:e});if(!f)return m;var y="".concat(o,"-conic"),b=d?"".concat(180+d/2,"deg"):"0deg",w=S(r,(360-d)/360),x=S(r,1),_="conic-gradient(from ".concat(b,", ").concat(w.join(", "),")"),M="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(x.join(", "),")");return i.createElement(i.Fragment,null,i.createElement("mask",{id:y},m),i.createElement("foreignObject",{x:0,y:0,width:c,height:c,mask:"url(#".concat(y,")")},i.createElement(C,{bg:M},i.createElement(C,{bg:_}))))})),A=100,T=function(t,e,n,i,r,o,a,s,l,u){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,c=n/100*360*((360-o)/360),d=0===o?0:{bottom:0,top:180,left:90,right:-90}[a],f=(100-i)/100*e;"round"===l&&100!==i&&(f+=u/2)>=e&&(f=e-.01);var p=50;return{stroke:"string"==typeof s?s:void 0,strokeDasharray:"".concat(e,"px ").concat(t),strokeDashoffset:f+h,transform:"rotate(".concat(r+c+d,"deg)"),transformOrigin:"".concat(p,"px ").concat(p,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},k=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function R(t){var e=null!=t?t:[];return Array.isArray(e)?e:[e]}var I=function(t){var e,n,r,o=(0,f.Z)((0,f.Z)({},g),t),a=o.id,s=o.prefixCls,l=o.steps,h=o.strokeWidth,c=o.trailWidth,y=o.gapDegree,b=void 0===y?0:y,w=o.gapPosition,x=o.trailColor,C=o.strokeLinecap,S=o.style,I=o.className,P=o.strokeColor,E=o.percent,B=(0,p.Z)(o,k),L=_(a),D="".concat(L,"-gradient"),O=50-h/2,F=2*Math.PI*O,H=b>0?90+b/2:-90,N=F*((360-b)/360),z="object"===(0,v.Z)(l)?l:{count:l,space:2},W=z.count,j=z.space,V=R(E),G=R(P),Z=G.find((function(t){return t&&"object"===(0,v.Z)(t)})),U=Z&&"object"===(0,v.Z)(Z)?"butt":C,K=T(F,N,0,100,H,b,w,x,U,h),$=m();return i.createElement("svg",(0,d.Z)({className:u()("".concat(s,"-circle"),I),viewBox:"0 0 ".concat(A," ").concat(A),style:S,id:a,role:"presentation"},B),!W&&i.createElement("circle",{className:"".concat(s,"-circle-trail"),r:O,cx:50,cy:50,stroke:x,strokeLinecap:U,strokeWidth:c||h,style:K}),W?(e=Math.round(W*(V[0]/100)),n=100/W,r=0,new Array(W).fill(null).map((function(t,o){var a=o<=e-1?G[0]:x,l=a&&"object"===(0,v.Z)(a)?"url(#".concat(D,")"):void 0,u=T(F,N,r,n,H,b,w,a,"butt",h,j);return r+=100*(N-u.strokeDashoffset+j)/N,i.createElement("circle",{key:o,className:"".concat(s,"-circle-path"),r:O,cx:50,cy:50,stroke:l,strokeWidth:h,opacity:1,style:u,ref:function(t){$[o]=t}})}))):function(){var t=0;return V.map((function(e,n){var r=G[n]||G[G.length-1],o=T(F,N,t,e,H,b,w,r,U,h);return t+=e,i.createElement(M,{key:n,color:r,ptg:e,radius:O,prefixCls:s,gradientId:D,style:o,strokeLinecap:U,strokeWidth:h,gapDegree:b,ref:function(t){$[n]=t},size:A})})).reverse()}())},P=n(27850),E=n(22601);function B(t){return!t||t<0?0:t>100?100:t}function L(t){let{success:e,successPercent:n}=t,i=n;return e&&"progress"in e&&(i=e.progress),e&&"percent"in e&&(i=e.percent),i}const D=t=>{let{percent:e,success:n,successPercent:i}=t;const r=B(L({success:n,successPercent:i}));return[r,B(B(e)-r)]},O=(t,e,n)=>{var i,r,o,a;let s=-1,l=-1;if("step"===e){const e=n.steps,i=n.strokeWidth;"string"==typeof t||void 0===t?(s="small"===t?2:14,l=null!=i?i:8):"number"==typeof t?[s,l]=[t,t]:[s=14,l=8]=t,s*=e}else if("line"===e){const e=null==n?void 0:n.strokeWidth;"string"==typeof t||void 0===t?l=e||("small"===t?6:8):"number"==typeof t?[s,l]=[t,t]:[s=-1,l=8]=t}else"circle"!==e&&"dashboard"!==e||("string"==typeof t||void 0===t?[s,l]="small"===t?[60,60]:[120,120]:"number"==typeof t?[s,l]=[t,t]:(s=null!==(r=null!==(i=t[0])&&void 0!==i?i:t[1])&&void 0!==r?r:120,l=null!==(a=null!==(o=t[0])&&void 0!==o?o:t[1])&&void 0!==a?a:120));return[s,l]};var F=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:r="round",gapPosition:o,gapDegree:a,width:s=120,type:l,children:h,success:c,size:d=s}=t,[f,p]=O(d,"circle");let{strokeWidth:g}=t;void 0===g&&(g=Math.max((t=>3/t*100)(f),6));const m={width:f,height:p,fontSize:.15*f+6},v=i.useMemo((()=>a||0===a?a:"dashboard"===l?75:void 0),[a,l]),y=o||"dashboard"===l&&"bottom"||void 0,b="[object Object]"===Object.prototype.toString.call(t.strokeColor),w=(t=>{let{success:e={},strokeColor:n}=t;const{strokeColor:i}=e;return[i||E.ez.green,n||null]})({success:c,strokeColor:t.strokeColor}),x=u()(`${e}-inner`,{[`${e}-circle-gradient`]:b}),_=i.createElement(I,{percent:D(t),strokeWidth:g,trailWidth:g,strokeColor:w,strokeLinecap:r,trailColor:n,prefixCls:e,gapDegree:v,gapPosition:y});return i.createElement("div",{className:x,style:m},f<=20?i.createElement(P.Z,{title:h},i.createElement("span",null,_)):i.createElement(i.Fragment,null,_,h))},H=n(36905),N=n(55985),z=n(87077),W=n(37324);const j="--progress-line-stroke-color",V="--progress-percent",G=t=>{const e=t?"100%":"-100%";return new H.E4(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Z=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},(0,N.Wf)(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize,marginInlineEnd:t.marginXS,marginBottom:t.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${(0,H.bf)(t.marginXS)})`,paddingInlineEnd:`calc(2em + ${(0,H.bf)(t.paddingXS)})`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${j})`]},height:"100%",width:`calc(1 / var(${V}) * 100%)`,display:"block"}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:G(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:G(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},U=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:t.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},K=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},$=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}};var X=(0,z.I$)("Progress",(t=>{const e=t.calc(t.marginXXS).div(2).equal(),n=(0,W.TS)(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[Z(n),U(n),K(n),$(n)]}),(t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:t.fontSize/t.fontSizeSM+"em"}))),Y=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const q=(t,e)=>{const{from:n=E.ez.blue,to:i=E.ez.blue,direction:r=("rtl"===e?"to left":"to right")}=t,o=Y(t,["from","to","direction"]);if(0!==Object.keys(o).length){const t=`linear-gradient(${r}, ${(t=>{let e=[];return Object.keys(t).forEach((n=>{const i=parseFloat(n.replace(/%/g,""));isNaN(i)||e.push({key:i,value:t[n]})})),e=e.sort(((t,e)=>t.key-e.key)),e.map((t=>{let{key:e,value:n}=t;return`${n} ${e}%`})).join(", ")})(o)})`;return{background:t,[j]:t}}const a=`linear-gradient(${r}, ${n}, ${i})`;return{background:a,[j]:a}};var J=t=>{const{prefixCls:e,direction:n,percent:r,size:o,strokeWidth:a,strokeColor:s,strokeLinecap:l="round",children:u,trailColor:h=null,success:c}=t,d=s&&"string"!=typeof s?q(s,n):{[j]:s,background:s},f="square"===l||"butt"===l?0:void 0,p=null!=o?o:[-1,a||("small"===o?6:8)],[g,m]=O(p,"line",{strokeWidth:a});const v={backgroundColor:h||void 0,borderRadius:f},y=Object.assign(Object.assign({width:`${B(r)}%`,height:m,borderRadius:f},d),{[V]:B(r)/100}),b=L(t),w={width:`${B(b)}%`,height:m,borderRadius:f,backgroundColor:null==c?void 0:c.strokeColor},x={width:g<0?"100%":g,height:m};return i.createElement(i.Fragment,null,i.createElement("div",{className:`${e}-outer`,style:x},i.createElement("div",{className:`${e}-inner`,style:v},i.createElement("div",{className:`${e}-bg`,style:y}),void 0!==b?i.createElement("div",{className:`${e}-success-bg`,style:w}):null)),u)};var Q=t=>{const{size:e,steps:n,percent:r=0,strokeWidth:o=8,strokeColor:a,trailColor:s=null,prefixCls:l,children:h}=t,c=Math.round(n*(r/100)),d=null!=e?e:["small"===e?2:14,o],[f,p]=O(d,"step",{steps:n,strokeWidth:o}),g=f/n,m=new Array(n);for(let t=0;t<n;t++){const e=Array.isArray(a)?a[t]:a;m[t]=i.createElement("div",{key:t,className:u()(`${l}-steps-item`,{[`${l}-steps-item-active`]:t<=c-1}),style:{backgroundColor:t<=c-1?e:s,width:g,height:p}})}return i.createElement("div",{className:`${l}-steps-outer`},m,h)},tt=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const et=["normal","exception","active","success"],nt=i.forwardRef(((t,e)=>{const{prefixCls:n,className:l,rootClassName:d,steps:f,strokeColor:p,percent:g=0,size:m="default",showInfo:v=!0,type:y="line",status:b,format:w,style:x}=t,_=tt(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),C=i.useMemo((()=>{var e,n;const i=L(t);return parseInt(void 0!==i?null===(e=null!=i?i:0)||void 0===e?void 0:e.toString():null===(n=null!=g?g:0)||void 0===n?void 0:n.toString(),10)}),[g,t.success,t.successPercent]),S=i.useMemo((()=>!et.includes(b)&&C>=100?"success":b||"normal"),[b,C]),{getPrefixCls:M,direction:A,progress:T}=i.useContext(c.E_),k=M("progress",n),[R,I,P]=X(k),E=i.useMemo((()=>{if(!v)return null;const e=L(t);let n;const l="line"===y;return w||"exception"!==S&&"success"!==S?n=(w||(t=>`${t}%`))(B(g),B(e)):"exception"===S?n=l?i.createElement(a.Z,null):i.createElement(s.Z,null):"success"===S&&(n=l?i.createElement(r.Z,null):i.createElement(o.Z,null)),i.createElement("span",{className:`${k}-text`,title:"string"==typeof n?n:void 0},n)}),[v,g,C,S,y,k,w]);const D=Array.isArray(p)?p[0]:p,H="string"==typeof p||Array.isArray(p)?p:void 0;let N;"line"===y?N=f?i.createElement(Q,Object.assign({},t,{strokeColor:H,prefixCls:k,steps:f}),E):i.createElement(J,Object.assign({},t,{strokeColor:D,prefixCls:k,direction:A}),E):"circle"!==y&&"dashboard"!==y||(N=i.createElement(F,Object.assign({},t,{strokeColor:D,prefixCls:k,progressStatus:S}),E));const z=u()(k,`${k}-status-${S}`,`${k}-${("dashboard"===y?"circle":f&&"steps")||y}`,{[`${k}-inline-circle`]:"circle"===y&&O(m,"circle")[0]<=20,[`${k}-show-info`]:v,[`${k}-${m}`]:"string"==typeof m,[`${k}-rtl`]:"rtl"===A},null==T?void 0:T.className,l,d,I,P);return R(i.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},null==T?void 0:T.style),x),className:z,role:"progressbar","aria-valuenow":C},(0,h.Z)(_,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),N))}));var it=nt},53314:function(t,e,n){"use strict";var i=n(27263),r=n(35361),o=n(88357),a=n(959),s=n(56929),l=n(82187),u=n.n(l),h=n(65589),c=n(50959),d=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],f=(0,c.forwardRef)((function(t,e){var n,l=t.prefixCls,f=void 0===l?"rc-checkbox":l,p=t.className,g=t.style,m=t.checked,v=t.disabled,y=t.defaultChecked,b=void 0!==y&&y,w=t.type,x=void 0===w?"checkbox":w,_=t.title,C=t.onChange,S=(0,s.Z)(t,d),M=(0,c.useRef)(null),A=(0,h.Z)(b,{value:m}),T=(0,a.Z)(A,2),k=T[0],R=T[1];(0,c.useImperativeHandle)(e,(function(){return{focus:function(){var t;null===(t=M.current)||void 0===t||t.focus()},blur:function(){var t;null===(t=M.current)||void 0===t||t.blur()},input:M.current}}));var I=u()(f,p,(n={},(0,o.Z)(n,"".concat(f,"-checked"),k),(0,o.Z)(n,"".concat(f,"-disabled"),v),n));return c.createElement("span",{className:I,title:_,style:g},c.createElement("input",(0,i.Z)({},S,{className:"".concat(f,"-input"),ref:M,onChange:function(e){v||("checked"in t||R(e.target.checked),null==C||C({target:(0,r.Z)((0,r.Z)({},t),{},{type:x,checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},disabled:v,checked:!!k,type:x})),c.createElement("span",{className:"".concat(f,"-inner")}))}));e.Z=f},77657:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Lt}});var i=n(55660),r=n(50959),o=n.t(r,2);function a(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=a((function(t){return s.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));var u=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),h=Math.abs,c=String.fromCharCode,d=Object.assign;function f(t){return t.trim()}function p(t,e,n){return t.replace(e,n)}function g(t,e){return t.indexOf(e)}function m(t,e){return 0|t.charCodeAt(e)}function v(t,e,n){return t.slice(e,n)}function y(t){return t.length}function b(t){return t.length}function w(t,e){return e.push(t),t}var x=1,_=1,C=0,S=0,M=0,A="";function T(t,e,n,i,r,o,a){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:x,column:_,length:a,return:""}}function k(t,e){return d(T("",null,null,"",null,null,0),t,{length:-t.length},e)}function R(){return M=S>0?m(A,--S):0,_--,10===M&&(_=1,x--),M}function I(){return M=S<C?m(A,S++):0,_++,10===M&&(_=1,x++),M}function P(){return m(A,S)}function E(){return S}function B(t,e){return v(A,t,e)}function L(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(t){return x=_=1,C=y(A=t),S=0,[]}function O(t){return A="",t}function F(t){return f(B(S-1,z(91===t?t+2:40===t?t+1:t)))}function H(t){for(;(M=P())&&M<33;)I();return L(t)>2||L(M)>3?"":" "}function N(t,e){for(;--e&&I()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return B(t,E()+(e<6&&32==P()&&32==I()))}function z(t){for(;I();)switch(M){case t:return S;case 34:case 39:34!==t&&39!==t&&z(M);break;case 40:41===t&&z(t);break;case 92:I()}return S}function W(t,e){for(;I()&&t+M!==57&&(t+M!==84||47!==P()););return"/*"+B(e,S-1)+"*"+c(47===t?t:I())}function j(t){for(;!L(P());)I();return B(t,S)}var V="-ms-",G="-moz-",Z="-webkit-",U="comm",K="rule",$="decl",X="@keyframes";function Y(t,e){for(var n="",i=b(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function q(t,e,n,i){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case $:return t.return=t.return||t.value;case U:return"";case X:return t.return=t.value+"{"+Y(t.children,i)+"}";case K:t.value=t.props.join(",")}return y(n=Y(t.children,i))?t.return=t.value+"{"+n+"}":""}function J(t){return O(Q("",null,null,null,[""],t=D(t),0,[0],t))}function Q(t,e,n,i,r,o,a,s,l){for(var u=0,h=0,d=a,f=0,v=0,b=0,x=1,_=1,C=1,S=0,M="",A=r,T=o,k=i,B=M;_;)switch(b=S,S=I()){case 40:if(108!=b&&58==m(B,d-1)){-1!=g(B+=p(F(S),"&","&\f"),"&\f")&&(C=-1);break}case 34:case 39:case 91:B+=F(S);break;case 9:case 10:case 13:case 32:B+=H(b);break;case 92:B+=N(E()-1,7);continue;case 47:switch(P()){case 42:case 47:w(et(W(I(),E()),e,n),l);break;default:B+="/"}break;case 123*x:s[u++]=y(B)*C;case 125*x:case 59:case 0:switch(S){case 0:case 125:_=0;case 59+h:-1==C&&(B=p(B,/\f/g,"")),v>0&&y(B)-d&&w(v>32?nt(B+";",i,n,d-1):nt(p(B," ","")+";",i,n,d-2),l);break;case 59:B+=";";default:if(w(k=tt(B,e,n,u,h,r,s,M,A=[],T=[],d),o),123===S)if(0===h)Q(B,e,k,k,A,o,d,s,T);else switch(99===f&&110===m(B,3)?100:f){case 100:case 108:case 109:case 115:Q(t,k,k,i&&w(tt(t,k,k,0,0,r,s,M,r,A=[],d),T),r,T,d,s,i?A:T);break;default:Q(B,k,k,k,[""],T,0,s,T)}}u=h=v=0,x=C=1,M=B="",d=a;break;case 58:d=1+y(B),v=b;default:if(x<1)if(123==S)--x;else if(125==S&&0==x++&&125==R())continue;switch(B+=c(S),S*x){case 38:C=h>0?1:(B+="\f",-1);break;case 44:s[u++]=(y(B)-1)*C,C=1;break;case 64:45===P()&&(B+=F(I())),f=P(),h=d=y(M=B+=j(E())),S++;break;case 45:45===b&&2==y(B)&&(x=0)}}return o}function tt(t,e,n,i,r,o,a,s,l,u,c){for(var d=r-1,g=0===r?o:[""],m=b(g),y=0,w=0,x=0;y<i;++y)for(var _=0,C=v(t,d+1,d=h(w=a[y])),S=t;_<m;++_)(S=f(w>0?g[_]+" "+C:p(C,/&\f/g,g[_])))&&(l[x++]=S);return T(t,e,n,0===r?K:s,l,u,c)}function et(t,e,n){return T(t,e,n,U,c(M),v(t,2,-2),0)}function nt(t,e,n,i){return T(t,e,n,$,v(t,0,i),v(t,i+1,-1),i)}var it=function(t,e,n){for(var i=0,r=0;i=r,r=P(),38===i&&12===r&&(e[n]=1),!L(r);)I();return B(t,S)},rt=function(t,e){return O(function(t,e){var n=-1,i=44;do{switch(L(i)){case 0:38===i&&12===P()&&(e[n]=1),t[n]+=it(S-1,e,n);break;case 2:t[n]+=F(i);break;case 4:if(44===i){t[++n]=58===P()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=c(i)}}while(i=I());return t}(D(t),e))},ot=new WeakMap,at=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||ot.get(n))&&!i){ot.set(t,!0);for(var r=[],o=rt(e,r),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)t.props[l]=r[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},st=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function lt(t,e){switch(function(t,e){return 45^m(t,0)?(((e<<2^m(t,0))<<2^m(t,1))<<2^m(t,2))<<2^m(t,3):0}(t,e)){case 5103:return Z+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Z+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Z+t+G+t+V+t+t;case 6828:case 4268:return Z+t+V+t+t;case 6165:return Z+t+V+"flex-"+t+t;case 5187:return Z+t+p(t,/(\w+).+(:[^]+)/,Z+"box-$1$2"+V+"flex-$1$2")+t;case 5443:return Z+t+V+"flex-item-"+p(t,/flex-|-self/,"")+t;case 4675:return Z+t+V+"flex-line-pack"+p(t,/align-content|flex-|-self/,"")+t;case 5548:return Z+t+V+p(t,"shrink","negative")+t;case 5292:return Z+t+V+p(t,"basis","preferred-size")+t;case 6060:return Z+"box-"+p(t,"-grow","")+Z+t+V+p(t,"grow","positive")+t;case 4554:return Z+p(t,/([^-])(transform)/g,"$1"+Z+"$2")+t;case 6187:return p(p(p(t,/(zoom-|grab)/,Z+"$1"),/(image-set)/,Z+"$1"),t,"")+t;case 5495:case 3959:return p(t,/(image-set\([^]*)/,Z+"$1$`$1");case 4968:return p(p(t,/(.+:)(flex-)?(.*)/,Z+"box-pack:$3"+V+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Z+t+t;case 4095:case 3583:case 4068:case 2532:return p(t,/(.+)-inline(.+)/,Z+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(y(t)-1-e>6)switch(m(t,e+1)){case 109:if(45!==m(t,e+4))break;case 102:return p(t,/(.+:)(.+)-([^]+)/,"$1"+Z+"$2-$3$1"+G+(108==m(t,e+3)?"$3":"$2-$3"))+t;case 115:return~g(t,"stretch")?lt(p(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==m(t,e+1))break;case 6444:switch(m(t,y(t)-3-(~g(t,"!important")&&10))){case 107:return p(t,":",":"+Z)+t;case 101:return p(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Z+(45===m(t,14)?"inline-":"")+"box$3$1"+Z+"$2$3$1"+V+"$2box$3")+t}break;case 5936:switch(m(t,e+11)){case 114:return Z+t+V+p(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Z+t+V+p(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Z+t+V+p(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Z+t+V+t+t}return t}var ut=[function(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case $:t.return=lt(t.value,t.length);break;case X:return Y([k(t,{value:p(t.value,"@","@"+Z)})],i);case K:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y([k(t,{props:[p(e,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return Y([k(t,{props:[p(e,/:(plac\w+)/,":"+Z+"input-$1")]}),k(t,{props:[p(e,/:(plac\w+)/,":-moz-$1")]}),k(t,{props:[p(e,/:(plac\w+)/,V+"input-$1")]})],i)}return""}))}}],ht=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i=t.stylisPlugins||ut;var r,o,a={},s=[];r=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;s.push(t)}));var l,h,c,d,f=[q,(d=function(t){l.insert(t)},function(t){t.root||(t=t.return)&&d(t)})],p=(h=[at,st].concat(i,f),c=b(h),function(t,e,n,i){for(var r="",o=0;o<c;o++)r+=h[o](t,e,n,i)||"";return r});o=function(t,e,n,i){l=n,Y(J(t?t+"{"+e.styles+"}":e.styles),p),i&&(g.inserted[e.name]=!0)};var g={key:e,sheet:new u({key:e,container:r,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:o};return g.sheet.hydrate(s),g};var ct={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dt=/[A-Z]|^ms/g,ft=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pt=function(t){return 45===t.charCodeAt(1)},gt=function(t){return null!=t&&"boolean"!=typeof t},mt=a((function(t){return pt(t)?t:t.replace(dt,"-$&").toLowerCase()})),vt=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(ft,(function(t,e,n){return bt={name:e,styles:n,next:bt},e}))}return 1===ct[t]||pt(t)||"number"!=typeof e||0===e?e:e+"px"};function yt(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return bt={name:n.name,styles:n.styles,next:bt},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)bt={name:i.name,styles:i.styles,next:bt},i=i.next;return n.styles+";"}return function(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=yt(t,e,n[r])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?i+=o+"{"+e[a]+"}":gt(a)&&(i+=mt(o)+":"+vt(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=yt(t,e,a);switch(o){case"animation":case"animationName":i+=mt(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)gt(a[l])&&(i+=mt(o)+":"+vt(o,a[l])+";")}return i}(t,e,n);case"function":if(void 0!==t){var r=bt,o=n(t);return bt=r,yt(t,e,o)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var bt,wt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var xt=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,r="";bt=void 0;var o=t[0];null==o||void 0===o.raw?(i=!1,r+=yt(n,e,o)):r+=o[0];for(var a=1;a<t.length;a++)r+=yt(n,e,t[a]),i&&(r+=o[a]);wt.lastIndex=0;for(var s,l="";null!==(s=wt.exec(r));)l+="-"+s[1];var u=function(t){for(var e,n=0,i=0,r=t.length;r>=4;++i,r-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&t.charCodeAt(i+2))<<16;case 2:n^=(255&t.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:u,styles:r,next:bt}},_t=!!o.useInsertionEffect&&o.useInsertionEffect,Ct=_t||function(t){return t()},St=(_t||r.useLayoutEffect,r.createContext("undefined"!=typeof HTMLElement?ht({key:"css"}):null));St.Provider;var Mt=function(t){return(0,r.forwardRef)((function(e,n){var i=(0,r.useContext)(St);return t(e,i,n)}))};var At=r.createContext({});function Tt(t,e,n){var i="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):i+=n+" "})),i}var kt=function(t,e,n){var i=t.key+"-"+e.name;!1===n&&void 0===t.registered[i]&&(t.registered[i]=e.styles)},Rt=l,It=function(t){return"theme"!==t},Pt=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?Rt:It},Et=function(t,e,n){var i;if(e){var r=e.shouldForwardProp;i=t.__emotion_forwardProp&&r?function(e){return t.__emotion_forwardProp(e)&&r(e)}:r}return"function"!=typeof i&&n&&(i=t.__emotion_forwardProp),i},Bt=function(t){var e=t.cache,n=t.serialized,i=t.isStringTag;return kt(e,n,i),Ct((function(){return function(t,e,n){kt(t,e,n);var i=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var r=e;do{t.insert(e===r?"."+i:"",r,t.sheet,!0),r=r.next}while(void 0!==r)}}(e,n,i)})),null},Lt=function t(e,n){var o,a,s=e.__emotion_real===e,l=s&&e.__emotion_base||e;void 0!==n&&(o=n.label,a=n.target);var u=Et(e,n,s),h=u||Pt(l),c=!h("as");return function(){var d=arguments,f=s&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==o&&f.push("label:"+o+";"),null==d[0]||void 0===d[0].raw)f.push.apply(f,d);else{0,f.push(d[0][0]);for(var p=d.length,g=1;g<p;g++)f.push(d[g],d[0][g])}var m=Mt((function(t,e,n){var i=c&&t.as||l,o="",s=[],d=t;if(null==t.theme){for(var p in d={},t)d[p]=t[p];d.theme=r.useContext(At)}"string"==typeof t.className?o=Tt(e.registered,s,t.className):null!=t.className&&(o=t.className+" ");var g=xt(f.concat(s),e.registered,d);o+=e.key+"-"+g.name,void 0!==a&&(o+=" "+a);var m=c&&void 0===u?Pt(i):h,v={};for(var y in t)c&&"as"===y||m(y)&&(v[y]=t[y]);return v.className=o,v.ref=n,r.createElement(r.Fragment,null,r.createElement(Bt,{cache:e,serialized:g,isStringTag:"string"==typeof i}),r.createElement(i,v))}));return m.displayName=void 0!==o?o:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=l,m.__emotion_styles=f,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(e,r){return t(e,(0,i.Z)({},n,r,{shouldForwardProp:Et(m,r,!0)})).apply(void 0,f)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){Lt[t]=Lt(t)}))},55309:function(t,e,n){var i,r,o,a,s=n(94710).default,l=n(86289).default,u=n(95178).default,h=n(6810).default,c=n(5599).default,d=n(9083).default,f=n(39346).default,p=n(2927).default,g=n(43953).default,m=n(91184).default,v=n(72589).default,y=n(82644).default,b=n(8345).default,w=n(70626).default,x=n(48482).default,_=n(41418).default;a=function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";var i=t("fs"),r=t("fast-csv"),o=t("dayjs/plugin/customParseFormat"),a=t("dayjs/plugin/utc"),s=t("dayjs").extend(o).extend(a),l=t("../utils/stream-buf"),u=t("../utils/utils").fs.exists,h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};e.exports=function(){function t(e){v(this,t),this.workbook=e,this.worksheet=null}var e,n;return y(t,[{key:"readFile",value:(n=m(g().mark((function t(e,n){var r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=n||{},t.next=3,u(e);case 3:if(t.sent){t.next=5;break}throw new Error("File not found: "+e);case 5:return r=i.createReadStream(e),t.next=8,this.read(r,n);case 8:return o=t.sent,t.abrupt("return",(r.close(),o));case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"read",value:function(t,e){var n=this;return e=e||{},new Promise((function(i,o){var a=n.workbook.addWorksheet(e.sheetName),l=e.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],u=e.map||function(t){if(""===t)return null;var e=Number(t);if(!Number.isNaN(e)&&e!==1/0)return e;var n=l.reduce((function(e,n){if(e)return e;var i=s(t,n,!0);return i.isValid()?i:null}),null);if(n)return new Date(n.valueOf());var i=h[t];return void 0!==i?i:t},c=r.parse(e.parserOptions).on("data",(function(t){a.addRow(t.map(u))})).on("end",(function(){c.emit("worksheet",a)}));c.on("worksheet",i).on("error",o),t.pipe(c)}))}},{key:"createInputStream",value:function(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}},{key:"write",value:function(t,e){var n=this;return new Promise((function(i,o){e=e||{};var a=n.workbook.getWorksheet(e.sheetName||e.sheetId),l=r.format(e.formatterOptions);t.on("finish",(function(){i()})),l.on("error",o),l.pipe(t);var u=e,h=u.dateFormat,c=u.dateUTC,d=e.map||function(t){if(t){if(t.text||t.hyperlink)return t.hyperlink||t.text||"";if(t.formula||t.result)return t.result||"";if(t instanceof Date)return h?c?s.utc(t).format(h):s(t).format(h):c?s.utc(t).format():s(t).format();if(t.error)return t.error;if("object"==b(t))return JSON.stringify(t)}return t},f=void 0===e.includeEmptyRows||e.includeEmptyRows,p=1;a&&a.eachRow((function(t,e){if(f)for(;p++<e-1;)l.write([]);var n=t.values;n.shift(),l.write(n.map(d)),p=e})),l.end()}))}},{key:"writeFile",value:function(t,e){var n={encoding:(e=e||{}).encoding||"utf8"},r=i.createWriteStream(t,n);return this.write(r,e)}},{key:"writeBuffer",value:(e=m(g().mark((function t(e){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new l,t.next=3,this.write(n,e);case 3:return t.abrupt("return",n.read());case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}()},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,e,n){"use strict";var i=t("../utils/col-cache"),r=function(){function t(e,n){v(this,t);var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.worksheet=e,n)if("string"==typeof n){var o=i.decodeAddress(n);this.nativeCol=o.col+r,this.nativeColOff=0,this.nativeRow=o.row+r,this.nativeRowOff=0}else void 0!==n.nativeCol?(this.nativeCol=n.nativeCol||0,this.nativeColOff=n.nativeColOff||0,this.nativeRow=n.nativeRow||0,this.nativeRowOff=n.nativeRowOff||0):void 0!==n.col?(this.col=n.col+r,this.row=n.row+r):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}return y(t,[{key:"col",get:function(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth},set:function(t){this.nativeCol=Math.floor(t),this.nativeColOff=Math.floor((t-this.nativeCol)*this.colWidth)}},{key:"row",get:function(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight},set:function(t){this.nativeRow=Math.floor(t),this.nativeRowOff=Math.floor((t-this.nativeRow)*this.rowHeight)}},{key:"colWidth",get:function(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}},{key:"rowHeight",get:function(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}},{key:"model",get:function(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}},set:function(t){this.nativeCol=t.nativeCol,this.nativeColOff=t.nativeColOff,this.nativeRow=t.nativeRow,this.nativeRowOff=t.nativeRowOff}}],[{key:"asInstance",value:function(e){return e instanceof t||null==e?e:new t(e)}}]),t}();e.exports=r},{"../utils/col-cache":19}],3:[function(t,e,n){"use strict";var i=t("../utils/col-cache"),r=t("../utils/under-dash"),o=t("./enums"),a=t("../utils/shared-formula").slideFormula,s=t("./note"),l=function(){function t(e,n,r){if(v(this,t),!e||!n)throw new Error("A Cell needs a Row");this._row=e,this._column=n,i.validateAddress(r),this._address=r,this._value=u.create(t.Types.Null,this),this.style=this._mergeStyle(e.style,n.style,{}),this._mergeCount=0}return y(t,[{key:"worksheet",get:function(){return this._row.worksheet}},{key:"workbook",get:function(){return this._row.worksheet.workbook}},{key:"destroy",value:function(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(t){this.style.numFmt=t}},{key:"font",get:function(){return this.style.font},set:function(t){this.style.font=t}},{key:"alignment",get:function(){return this.style.alignment},set:function(t){this.style.alignment=t}},{key:"border",get:function(){return this.style.border},set:function(t){this.style.border=t}},{key:"fill",get:function(){return this.style.fill},set:function(t){this.style.fill=t}},{key:"protection",get:function(){return this.style.protection},set:function(t){this.style.protection=t}},{key:"_mergeStyle",value:function(t,e,n){var i=t&&t.numFmt||e&&e.numFmt;i&&(n.numFmt=i);var r=t&&t.font||e&&e.font;r&&(n.font=r);var o=t&&t.alignment||e&&e.alignment;o&&(n.alignment=o);var a=t&&t.border||e&&e.border;a&&(n.border=a);var s=t&&t.fill||e&&e.fill;s&&(n.fill=s);var l=t&&t.protection||e&&e.protection;return l&&(n.protection=l),n}},{key:"address",get:function(){return this._address}},{key:"row",get:function(){return this._row.number}},{key:"col",get:function(){return this._column.number}},{key:"$col$row",get:function(){return"$".concat(this._column.letter,"$").concat(this.row)}},{key:"type",get:function(){return this._value.type}},{key:"effectiveType",get:function(){return this._value.effectiveType}},{key:"toCsvString",value:function(){return this._value.toCsvString()}},{key:"addMergeRef",value:function(){this._mergeCount++}},{key:"releaseMergeRef",value:function(){this._mergeCount--}},{key:"isMerged",get:function(){return this._mergeCount>0||this.type===t.Types.Merge}},{key:"merge",value:function(e,n){this._value.release(),this._value=u.create(t.Types.Merge,this,e),n||(this.style=e.style)}},{key:"unmerge",value:function(){this.type===t.Types.Merge&&(this._value.release(),this._value=u.create(t.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}},{key:"isMergedTo",value:function(e){return this._value.type===t.Types.Merge&&this._value.isMergedTo(e)}},{key:"master",get:function(){return this.type===t.Types.Merge?this._value.master:this}},{key:"isHyperlink",get:function(){return this._value.type===t.Types.Hyperlink}},{key:"hyperlink",get:function(){return this._value.hyperlink}},{key:"value",get:function(){return this._value.value},set:function(e){this.type!==t.Types.Merge?(this._value.release(),this._value=u.create(u.getType(e),this,e)):this._value.master.value=e}},{key:"note",get:function(){return this._comment&&this._comment.note},set:function(t){this._comment=new s(t)}},{key:"text",get:function(){return this._value.toString()}},{key:"html",get:function(){return r.escapeHtml(this.text)}},{key:"toString",value:function(){return this.text}},{key:"_upgradeToHyperlink",value:function(e){this.type===t.Types.String&&(this._value=u.create(t.Types.Hyperlink,this,{text:this._value.value,hyperlink:e}))}},{key:"formula",get:function(){return this._value.formula}},{key:"result",get:function(){return this._value.result}},{key:"formulaType",get:function(){return this._value.formulaType}},{key:"fullAddress",get:function(){return{sheetName:this._row.worksheet.name,address:this.address,row:this.row,col:this.col}}},{key:"name",get:function(){return this.names[0]},set:function(t){this.names=[t]}},{key:"names",get:function(){return this.workbook.definedNames.getNamesEx(this.fullAddress)},set:function(t){var e=this,n=this.workbook.definedNames;n.removeAllNames(this.fullAddress),t.forEach((function(t){n.addEx(e.fullAddress,t)}))}},{key:"addName",value:function(t){this.workbook.definedNames.addEx(this.fullAddress,t)}},{key:"removeName",value:function(t){this.workbook.definedNames.removeEx(this.fullAddress,t)}},{key:"removeAllNames",value:function(){this.workbook.definedNames.removeAllNames(this.fullAddress)}},{key:"_dataValidations",get:function(){return this.worksheet.dataValidations}},{key:"dataValidation",get:function(){return this._dataValidations.find(this.address)},set:function(t){this._dataValidations.add(this.address,t)}},{key:"model",get:function(){var t=this._value.model;return t.style=this.style,this._comment&&(t.comment=this._comment.model),t},set:function(t){this._value.release(),this._value=u.create(t.type,this),this._value.model=t,t.comment&&"note"===t.comment.type&&(this._comment=s.fromModel(t.comment)),t.style?this.style=t.style:this.style={}}}]),t}();l.Types=o.ValueType;var u={getType:function(t){return null==t?l.Types.Null:t instanceof String||"string"==typeof t?l.Types.String:"number"==typeof t?l.Types.Number:"boolean"==typeof t?l.Types.Boolean:t instanceof Date?l.Types.Date:t.text&&t.hyperlink?l.Types.Hyperlink:t.formula||t.sharedFormula?l.Types.Formula:t.richText?l.Types.RichText:t.sharedString?l.Types.SharedString:t.error?l.Types.Error:l.Types.JSON},types:[{t:l.Types.Null,f:function(){function t(e){v(this,t),this.model={address:e.address,type:l.Types.Null}}return y(t,[{key:"value",get:function(){return null},set:function(t){}},{key:"type",get:function(){return l.Types.Null}},{key:"effectiveType",get:function(){return l.Types.Null}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return""}},{key:"release",value:function(){}},{key:"toString",value:function(){return""}}]),t}()},{t:l.Types.Number,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.Number,value:n}}return y(t,[{key:"value",get:function(){return this.model.value},set:function(t){this.model.value=t}},{key:"type",get:function(){return l.Types.Number}},{key:"effectiveType",get:function(){return l.Types.Number}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return this.model.value.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}}]),t}()},{t:l.Types.String,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.String,value:n}}return y(t,[{key:"value",get:function(){return this.model.value},set:function(t){this.model.value=t}},{key:"type",get:function(){return l.Types.String}},{key:"effectiveType",get:function(){return l.Types.String}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return'"'.concat(this.model.value.replace(/"/g,'""'),'"')}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value}}]),t}()},{t:l.Types.Date,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.Date,value:n}}return y(t,[{key:"value",get:function(){return this.model.value},set:function(t){this.model.value=t}},{key:"type",get:function(){return l.Types.Date}},{key:"effectiveType",get:function(){return l.Types.Date}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return this.model.value.toISOString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}}]),t}()},{t:l.Types.Hyperlink,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.Hyperlink,text:n?n.text:void 0,hyperlink:n?n.hyperlink:void 0},n&&n.tooltip&&(this.model.tooltip=n.tooltip)}return y(t,[{key:"value",get:function(){var t={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(t.tooltip=this.model.tooltip),t},set:function(t){this.model={text:t.text,hyperlink:t.hyperlink},t.tooltip&&(this.model.tooltip=t.tooltip)}},{key:"text",get:function(){return this.model.text},set:function(t){this.model.text=t}},{key:"hyperlink",get:function(){return this.model.hyperlink},set:function(t){this.model.hyperlink=t}},{key:"type",get:function(){return l.Types.Hyperlink}},{key:"effectiveType",get:function(){return l.Types.Hyperlink}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return this.model.hyperlink}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.text}}]),t}()},{t:l.Types.Formula,f:function(){function t(e,n){v(this,t),this.cell=e,this.model={address:e.address,type:l.Types.Formula,shareType:n?n.shareType:void 0,ref:n?n.ref:void 0,formula:n?n.formula:void 0,sharedFormula:n?n.sharedFormula:void 0,result:n?n.result:void 0}}return y(t,[{key:"_copyModel",value:function(t){var e={},n=function(n){var i=t[n];i&&(e[n]=i)};return n("formula"),n("result"),n("ref"),n("shareType"),n("sharedFormula"),e}},{key:"value",get:function(){return this._copyModel(this.model)},set:function(t){this.model=this._copyModel(t)}},{key:"validate",value:function(t){switch(u.getType(t)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}},{key:"dependencies",get:function(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}},{key:"formula",get:function(){return this.model.formula||this._getTranslatedFormula()},set:function(t){this.model.formula=t}},{key:"formulaType",get:function(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}},{key:"result",get:function(){return this.model.result},set:function(t){this.model.result=t}},{key:"type",get:function(){return l.Types.Formula}},{key:"effectiveType",get:function(){var t=this.model.result;return null==t?o.ValueType.Null:t instanceof String||"string"==typeof t?o.ValueType.String:"number"==typeof t?o.ValueType.Number:t instanceof Date?o.ValueType.Date:t.text&&t.hyperlink?o.ValueType.Hyperlink:t.formula?o.ValueType.Formula:o.ValueType.Null}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"_getTranslatedFormula",value:function(){if(!this._translatedFormula&&this.model.sharedFormula){var t=this.cell.worksheet.findCell(this.model.sharedFormula);this._translatedFormula=t&&a(t.formula,t.address,this.model.address)}return this._translatedFormula}},{key:"toCsvString",value:function(){return""+(this.model.result||"")}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.result?this.model.result.toString():""}}]),t}()},{t:l.Types.Merge,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.Merge,master:n?n.address:void 0},this._master=n,n&&n.addMergeRef()}return y(t,[{key:"value",get:function(){return this._master.value},set:function(t){t instanceof l?(this._master&&this._master.releaseMergeRef(),t.addMergeRef(),this._master=t):this._master.value=t}},{key:"isMergedTo",value:function(t){return t===this._master}},{key:"master",get:function(){return this._master}},{key:"type",get:function(){return l.Types.Merge}},{key:"effectiveType",get:function(){return this._master.effectiveType}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return""}},{key:"release",value:function(){this._master.releaseMergeRef()}},{key:"toString",value:function(){return this.value.toString()}}]),t}()},{t:l.Types.JSON,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.String,value:JSON.stringify(n),rawValue:n}}return y(t,[{key:"value",get:function(){return this.model.rawValue},set:function(t){this.model.rawValue=t,this.model.value=JSON.stringify(t)}},{key:"type",get:function(){return l.Types.String}},{key:"effectiveType",get:function(){return l.Types.String}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return this.model.value}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value}}]),t}()},{t:l.Types.SharedString,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.SharedString,value:n}}return y(t,[{key:"value",get:function(){return this.model.value},set:function(t){this.model.value=t}},{key:"type",get:function(){return l.Types.SharedString}},{key:"effectiveType",get:function(){return l.Types.SharedString}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return this.model.value.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}}]),t}()},{t:l.Types.RichText,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.String,value:n}}return y(t,[{key:"value",get:function(){return this.model.value},set:function(t){this.model.value=t}},{key:"toString",value:function(){return this.model.value.richText.map((function(t){return t.text})).join("")}},{key:"type",get:function(){return l.Types.RichText}},{key:"effectiveType",get:function(){return l.Types.RichText}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return'"'.concat(this.text.replace(/"/g,'""'),'"')}},{key:"release",value:function(){}}]),t}()},{t:l.Types.Boolean,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.Boolean,value:n}}return y(t,[{key:"value",get:function(){return this.model.value},set:function(t){this.model.value=t}},{key:"type",get:function(){return l.Types.Boolean}},{key:"effectiveType",get:function(){return l.Types.Boolean}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return this.model.value?1:0}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}}]),t}()},{t:l.Types.Error,f:function(){function t(e,n){v(this,t),this.model={address:e.address,type:l.Types.Error,value:n}}return y(t,[{key:"value",get:function(){return this.model.value},set:function(t){this.model.value=t}},{key:"type",get:function(){return l.Types.Error}},{key:"effectiveType",get:function(){return l.Types.Error}},{key:"address",get:function(){return this.model.address},set:function(t){this.model.address=t}},{key:"toCsvString",value:function(){return this.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.error.toString()}}]),t}()}].reduce((function(t,e){return t[e.t]=e.f,t}),[]),create:function(t,e,n){var i=this.types[t];if(!i)throw new Error("Could not create Value of type "+t);return new i(e,n)}};e.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,e,n){"use strict";var i=t("../utils/under-dash"),r=t("./enums"),o=t("../utils/col-cache"),a=function(){function t(e,n,i){v(this,t),this._worksheet=e,this._number=n,!1!==i&&(this.defn=i)}return y(t,[{key:"number",get:function(){return this._number}},{key:"worksheet",get:function(){return this._worksheet}},{key:"letter",get:function(){return o.n2l(this._number)}},{key:"isCustomWidth",get:function(){return void 0!==this.width&&9!==this.width}},{key:"defn",get:function(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}},set:function(t){t?(this.key=t.key,this.width=void 0!==t.width?t.width:9,this.outlineLevel=t.outlineLevel,t.style?this.style=t.style:this.style={},this.header=t.header,this._hidden=!!t.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}},{key:"headers",get:function(){return this._header&&this._header instanceof Array?this._header:[this._header]}},{key:"header",get:function(){return this._header},set:function(t){var e=this;void 0!==t?(this._header=t,this.headers.forEach((function(t,n){e._worksheet.getCell(n+1,e.number).value=t}))):this._header=void 0}},{key:"key",get:function(){return this._key},set:function(t){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=t,t&&this._worksheet.setColumnKey(this._key,this)}},{key:"hidden",get:function(){return!!this._hidden},set:function(t){this._hidden=t}},{key:"outlineLevel",get:function(){return this._outlineLevel||0},set:function(t){this._outlineLevel=t}},{key:"collapsed",get:function(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}},{key:"toString",value:function(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}},{key:"equivalentTo",value:function(t){return this.width===t.width&&this.hidden===t.hidden&&this.outlineLevel===t.outlineLevel&&i.isEqual(this.style,t.style)}},{key:"isDefault",get:function(){if(this.isCustomWidth)return!1;if(this.hidden)return!1;if(this.outlineLevel)return!1;var t=this.style;return!t||!(t.font||t.numFmt||t.alignment||t.border||t.fill||t.protection)}},{key:"headerCount",get:function(){return this.headers.length}},{key:"eachCell",value:function(t,e){var n=this.number;e||(e=t,t=null),this._worksheet.eachRow(t,(function(t,i){e(t.getCell(n),i)}))}},{key:"values",get:function(){var t=[];return this.eachCell((function(e,n){e&&e.type!==r.ValueType.Null&&(t[n]=e.value)})),t},set:function(t){var e=this;if(t){var n=this.number,i=0;t.hasOwnProperty("0")&&(i=1),t.forEach((function(t,r){e._worksheet.getCell(r+i,n).value=t}))}}},{key:"_applyStyle",value:function(t,e){return this.style[t]=e,this.eachCell((function(n){n[t]=e})),e}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(t){this._applyStyle("numFmt",t)}},{key:"font",get:function(){return this.style.font},set:function(t){this._applyStyle("font",t)}},{key:"alignment",get:function(){return this.style.alignment},set:function(t){this._applyStyle("alignment",t)}},{key:"protection",get:function(){return this.style.protection},set:function(t){this._applyStyle("protection",t)}},{key:"border",get:function(){return this.style.border},set:function(t){this._applyStyle("border",t)}},{key:"fill",get:function(){return this.style.fill},set:function(t){this._applyStyle("fill",t)}}],[{key:"toModel",value:function(t){var e=[],n=null;return t&&t.forEach((function(t,i){t.isDefault?n&&(n=null):n&&t.equivalentTo(n)?n.max=i+1:(n={min:i+1,max:i+1,width:void 0!==t.width?t.width:9,style:t.style,isCustomWidth:t.isCustomWidth,hidden:t.hidden,outlineLevel:t.outlineLevel,collapsed:t.collapsed},e.push(n))})),e.length?e:void 0}},{key:"fromModel",value:function(e,n){var i=[],r=1,o=0;for(n=(n=n||[]).sort((function(t,e){return t.min-e.min}));o<n.length;){for(var a=n[o++];r<a.min;)i.push(new t(e,r++));for(;r<=a.max;)i.push(new t(e,r++,a))}return i.length?i:null}}]),t}();e.exports=a},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,e,n){"use strict";e.exports=function(){function t(e){v(this,t),this.model=e||{}}return y(t,[{key:"add",value:function(t,e){return this.model[t]=e}},{key:"find",value:function(t){return this.model[t]}},{key:"remove",value:function(t){this.model[t]=void 0}}]),t}()},{}],6:[function(t,e,n){"use strict";var i=t("../utils/under-dash"),r=t("../utils/col-cache"),o=t("../utils/cell-matrix"),a=t("./range"),s=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;e.exports=function(){function t(){v(this,t),this.matrixMap={}}return y(t,[{key:"getMatrix",value:function(t){return this.matrixMap[t]||(this.matrixMap[t]=new o)}},{key:"add",value:function(t,e){var n=r.decodeEx(t);this.addEx(n,e)}},{key:"addEx",value:function(t,e){var n=this.getMatrix(e);if(t.top)for(var i=t.left;i<=t.right;i++)for(var o=t.top;o<=t.bottom;o++){var a={sheetName:t.sheetName,address:r.n2l(i)+o,row:o,col:i};n.addCellEx(a)}else n.addCellEx(t)}},{key:"remove",value:function(t,e){var n=r.decodeEx(t);this.removeEx(n,e)}},{key:"removeEx",value:function(t,e){this.getMatrix(e).removeCellEx(t)}},{key:"removeAllNames",value:function(t){i.each(this.matrixMap,(function(e){e.removeCellEx(t)}))}},{key:"forEach",value:function(t){i.each(this.matrixMap,(function(e,n){e.forEach((function(e){t(n,e)}))}))}},{key:"getNames",value:function(t){return this.getNamesEx(r.decodeEx(t))}},{key:"getNamesEx",value:function(t){return i.map(this.matrixMap,(function(e,n){return e.findCellEx(t)&&n})).filter(Boolean)}},{key:"_explore",value:function(t,e){e.mark=!1;var n,i,r=e.sheetName,o=new a(e.row,e.col,e.row,e.col,r);function s(n,i){var a=t.findCellAt(r,n,e.col);return!(!a||!a.mark||(o[i]=n,a.mark=!1,0))}for(i=e.row-1;s(i,"top");i--);for(i=e.row+1;s(i,"bottom");i++);function l(e,n){var a=[];for(i=o.top;i<=o.bottom;i++){var s=t.findCellAt(r,i,e);if(!s||!s.mark)return!1;a.push(s)}o[n]=e;for(var l=0;l<a.length;l++)a[l].mark=!1;return!0}for(n=e.col-1;l(n,"left");n--);for(n=e.col+1;l(n,"right");n++);return o}},{key:"getRanges",value:function(t,e){var n=this;return(e=e||this.matrixMap[t])?(e.forEach((function(t){t.mark=!0})),{name:t,ranges:e.map((function(t){return t.mark&&n._explore(e,t)})).filter(Boolean).map((function(t){return t.$shortRange}))}):{name:t,ranges:[]}}},{key:"normaliseMatrix",value:function(t,e){t.forEachInSheet(e,(function(t,e,n){t&&(t.row===e&&t.col===n||(t.row=e,t.col=n,t.address=r.n2l(n)+e))}))}},{key:"spliceRows",value:function(t,e,n,r){var o=this;i.each(this.matrixMap,(function(i){i.spliceRows(t,e,n,r),o.normaliseMatrix(i,t)}))}},{key:"spliceColumns",value:function(t,e,n,r){var o=this;i.each(this.matrixMap,(function(i){i.spliceColumns(t,e,n,r),o.normaliseMatrix(i,t)}))}},{key:"model",get:function(){var t=this;return i.map(this.matrixMap,(function(e,n){return t.getRanges(n,e)})).filter((function(t){return t.ranges.length}))},set:function(t){var e=this.matrixMap={};t.forEach((function(t){var n=e[t.name]=new o;t.ranges.forEach((function(t){s.test(t.split("!").pop()||"")&&n.addCell(t)}))}))}}]),t}()},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,e,n){"use strict";e.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,e,n){"use strict";var i=t("../utils/col-cache"),r=t("./anchor");e.exports=function(){function t(e,n){v(this,t),this.worksheet=e,this.model=n}return y(t,[{key:"model",get:function(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}},set:function(t){var e=t.type,n=t.imageId,o=t.range,a=t.hyperlinks;if(this.type=e,this.imageId=n,"image"===e)if("string"==typeof o){var s=i.decode(o);this.range={tl:new r(this.worksheet,{col:s.left,row:s.top},-1),br:new r(this.worksheet,{col:s.right,row:s.bottom},0),editAs:"oneCell"}}else this.range={tl:new r(this.worksheet,o.tl,0),br:o.br&&new r(this.worksheet,o.br,0),ext:o.ext,editAs:o.editAs,hyperlinks:a||o.hyperlinks}}}]),t}()},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,e,n){"use strict";var i=t("../utils/under-dash"),r=function(){function t(e){v(this,t),this.note=e}return y(t,[{key:"model",get:function(){var e=null;return e="string"===b(this.note)?{type:"note",note:{texts:[{text:this.note}]}}:{type:"note",note:this.note},i.deepMerge({},t.DEFAULT_CONFIGS,e)},set:function(t){var e=t.note,n=e.texts;1===n.length&&1===Object.keys(n[0]).length?this.note=n[0].text:this.note=e}}],[{key:"fromModel",value:function(e){var n=new t;return n.model=e,n}}]),t}();r.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},e.exports=r},{"../utils/under-dash":26}],10:[function(t,e,n){"use strict";var i=t("../utils/col-cache"),r=function(){function t(){v(this,t),this.decode(arguments)}return y(t,[{key:"setTLBR",value:function(t,e,n,r,o){if(arguments.length<4){var a=i.decodeAddress(t),s=i.decodeAddress(e);this.model={top:Math.min(a.row,s.row),left:Math.min(a.col,s.col),bottom:Math.max(a.row,s.row),right:Math.max(a.col,s.col),sheetName:n},this.setTLBR(a.row,a.col,s.row,s.col,o)}else this.model={top:Math.min(t,n),left:Math.min(e,r),bottom:Math.max(t,n),right:Math.max(e,r),sheetName:o}}},{key:"decode",value:function(e){switch(e.length){case 5:this.setTLBR(e[0],e[1],e[2],e[3],e[4]);break;case 4:this.setTLBR(e[0],e[1],e[2],e[3]);break;case 3:this.setTLBR(e[0],e[1],e[2]);break;case 2:this.setTLBR(e[0],e[1]);break;case 1:var n=e[0];if(n instanceof t)this.model={top:n.model.top,left:n.model.left,bottom:n.model.bottom,right:n.model.right,sheetName:n.sheetName};else if(n instanceof Array)this.decode(n);else if(n.top&&n.left&&n.bottom&&n.right)this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName};else{var r=i.decodeEx(n);r.top?this.model={top:r.top,left:r.left,bottom:r.bottom,right:r.right,sheetName:r.sheetName}:this.model={top:r.row,left:r.col,bottom:r.row,right:r.col,sheetName:r.sheetName}}break;case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+e.length)}}},{key:"top",get:function(){return this.model.top||1},set:function(t){this.model.top=t}},{key:"left",get:function(){return this.model.left||1},set:function(t){this.model.left=t}},{key:"bottom",get:function(){return this.model.bottom||1},set:function(t){this.model.bottom=t}},{key:"right",get:function(){return this.model.right||1},set:function(t){this.model.right=t}},{key:"sheetName",get:function(){return this.model.sheetName},set:function(t){this.model.sheetName=t}},{key:"_serialisedSheetName",get:function(){var t=this.model.sheetName;return t?/^[a-zA-Z0-9]*$/.test(t)?t+"!":"'".concat(t,"'!"):""}},{key:"expand",value:function(t,e,n,i){(!this.model.top||t<this.top)&&(this.top=t),(!this.model.left||e<this.left)&&(this.left=e),(!this.model.bottom||n>this.bottom)&&(this.bottom=n),(!this.model.right||i>this.right)&&(this.right=i)}},{key:"expandRow",value:function(t){if(t){var e=t.dimensions,n=t.number;e&&this.expand(n,e.min,n,e.max)}}},{key:"expandToAddress",value:function(t){var e=i.decodeEx(t);this.expand(e.row,e.col,e.row,e.col)}},{key:"tl",get:function(){return i.n2l(this.left)+this.top}},{key:"$t$l",get:function(){return"$".concat(i.n2l(this.left),"$").concat(this.top)}},{key:"br",get:function(){return i.n2l(this.right)+this.bottom}},{key:"$b$r",get:function(){return"$".concat(i.n2l(this.right),"$").concat(this.bottom)}},{key:"range",get:function(){return"".concat(this._serialisedSheetName+this.tl,":").concat(this.br)}},{key:"$range",get:function(){return"".concat(this._serialisedSheetName+this.$t$l,":").concat(this.$b$r)}},{key:"shortRange",get:function(){return this.count>1?this.range:this._serialisedSheetName+this.tl}},{key:"$shortRange",get:function(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}},{key:"count",get:function(){return(1+this.bottom-this.top)*(1+this.right-this.left)}},{key:"toString",value:function(){return this.range}},{key:"intersects",value:function(t){return!(t.sheetName&&this.sheetName&&t.sheetName!==this.sheetName||t.bottom<this.top||t.top>this.bottom||t.right<this.left||t.left>this.right)}},{key:"contains",value:function(t){var e=i.decodeEx(t);return this.containsEx(e)}},{key:"containsEx",value:function(t){return(!t.sheetName||!this.sheetName||t.sheetName===this.sheetName)&&t.row>=this.top&&t.row<=this.bottom&&t.col>=this.left&&t.col<=this.right}},{key:"forEachAddress",value:function(t){for(var e=this.left;e<=this.right;e++)for(var n=this.top;n<=this.bottom;n++)t(i.encodeAddress(n,e),n,e)}}]),t}();e.exports=r},{"../utils/col-cache":19}],11:[function(t,e,n){"use strict";var i=t("../utils/under-dash"),r=t("./enums"),o=t("../utils/col-cache"),a=t("./cell");e.exports=function(){function t(e,n){v(this,t),this._worksheet=e,this._number=n,this._cells=[],this.style={},this.outlineLevel=0}return y(t,[{key:"number",get:function(){return this._number}},{key:"worksheet",get:function(){return this._worksheet}},{key:"commit",value:function(){this._worksheet._commitRow(this)}},{key:"destroy",value:function(){delete this._worksheet,delete this._cells,delete this.style}},{key:"findCell",value:function(t){return this._cells[t-1]}},{key:"getCellEx",value:function(t){var e=this._cells[t.col-1];if(!e){var n=this._worksheet.getColumn(t.col);e=new a(this,n,t.address),this._cells[t.col-1]=e}return e}},{key:"getCell",value:function(t){if("string"==typeof t){var e=this._worksheet.getColumnKey(t);t=e?e.number:o.l2n(t)}return this._cells[t-1]||this.getCellEx({address:o.encodeAddress(this._number,t),row:this._number,col:t})}},{key:"splice",value:function(t,e){for(var n=t+e,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var a,s,l,u=r.length-e,h=this._cells.length;if(u<0)for(a=t+r.length;a<=h;a++)l=this._cells[a-1],(s=this._cells[a-u-1])?((l=this.getCell(a)).value=s.value,l.style=s.style,l._comment=s._comment):l&&(l.value=null,l.style={},l._comment=void 0);else if(u>0)for(a=h;a>=n;a--)(s=this._cells[a-1])?((l=this.getCell(a+u)).value=s.value,l.style=s.style,l._comment=s._comment):this._cells[a+u-1]=void 0;for(a=0;a<r.length;a++)(l=this.getCell(t+a)).value=r[a],l.style={},l._comment=void 0}},{key:"eachCell",value:function(t,e){if(e||(e=t,t=null),t&&t.includeEmpty)for(var n=this._cells.length,i=1;i<=n;i++)e(this.getCell(i),i);else this._cells.forEach((function(t,n){t&&t.type!==r.ValueType.Null&&e(t,n+1)}))}},{key:"addPageBreak",value:function(t,e){var n=this._worksheet,i=Math.max(0,t-1)||0,r=Math.max(0,e-1)||16838,o={id:this._number,max:r,man:1};i&&(o.min=i),n.rowBreaks.push(o)}},{key:"values",get:function(){var t=[];return this._cells.forEach((function(e){e&&e.type!==r.ValueType.Null&&(t[e.col]=e.value)})),t},set:function(t){var e=this;if(this._cells=[],t)if(t instanceof Array){var n=0;t.hasOwnProperty("0")&&(n=1),t.forEach((function(t,i){void 0!==t&&(e.getCellEx({address:o.encodeAddress(e._number,i+n),row:e._number,col:i+n}).value=t)}))}else this._worksheet.eachColumnKey((function(n,i){void 0!==t[i]&&(e.getCellEx({address:o.encodeAddress(e._number,n.number),row:e._number,col:n.number}).value=t[i])}))}},{key:"hasValues",get:function(){return i.some(this._cells,(function(t){return t&&t.type!==r.ValueType.Null}))}},{key:"cellCount",get:function(){return this._cells.length}},{key:"actualCellCount",get:function(){var t=0;return this.eachCell((function(){t++})),t}},{key:"dimensions",get:function(){var t=0,e=0;return this._cells.forEach((function(n){n&&n.type!==r.ValueType.Null&&((!t||t>n.col)&&(t=n.col),e<n.col&&(e=n.col))})),t>0?{min:t,max:e}:null}},{key:"_applyStyle",value:function(t,e){return this.style[t]=e,this._cells.forEach((function(n){n&&(n[t]=e)})),e}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(t){this._applyStyle("numFmt",t)}},{key:"font",get:function(){return this.style.font},set:function(t){this._applyStyle("font",t)}},{key:"alignment",get:function(){return this.style.alignment},set:function(t){this._applyStyle("alignment",t)}},{key:"protection",get:function(){return this.style.protection},set:function(t){this._applyStyle("protection",t)}},{key:"border",get:function(){return this.style.border},set:function(t){this._applyStyle("border",t)}},{key:"fill",get:function(){return this.style.fill},set:function(t){this._applyStyle("fill",t)}},{key:"hidden",get:function(){return!!this._hidden},set:function(t){this._hidden=t}},{key:"outlineLevel",get:function(){return this._outlineLevel||0},set:function(t){this._outlineLevel=t}},{key:"collapsed",get:function(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}},{key:"model",get:function(){var t=[],e=0,n=0;return this._cells.forEach((function(i){if(i){var r=i.model;r&&((!e||e>i.col)&&(e=i.col),n<i.col&&(n=i.col),t.push(r))}})),this.height||t.length?{cells:t,number:this.number,min:e,max:n,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null},set:function(t){var e,n=this;if(t.number!==this._number)throw new Error("Invalid row number in model");this._cells=[],t.cells.forEach((function(t){if(t.type===a.Types.Merge);else{var i;if(t.address)i=o.decodeAddress(t.address);else if(e){var r=e.row,s=e.col+1;i={row:r,col:s,address:o.encodeAddress(r,s),$col$row:"$".concat(o.n2l(s),"$").concat(r)}}e=i,n.getCellEx(i).model=t}})),t.height?this.height=t.height:delete this.height,this.hidden=t.hidden,this.outlineLevel=t.outlineLevel||0,this.style=t.style&&JSON.parse(JSON.stringify(t.style))||{}}}]),t}()},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,e,n){"use strict";var i=t("../utils/col-cache"),r=function(){function t(e,n,i){v(this,t),this.table=e,this.column=n,this.index=i}return y(t,[{key:"_set",value:function(t,e){this.table.cacheState(),this.column[t]=e}},{key:"name",get:function(){return this.column.name},set:function(t){this._set("name",t)}},{key:"filterButton",get:function(){return this.column.filterButton},set:function(t){this.column.filterButton=t}},{key:"style",get:function(){return this.column.style},set:function(t){this.column.style=t}},{key:"totalsRowLabel",get:function(){return this.column.totalsRowLabel},set:function(t){this._set("totalsRowLabel",t)}},{key:"totalsRowFunction",get:function(){return this.column.totalsRowFunction},set:function(t){this._set("totalsRowFunction",t)}},{key:"totalsRowResult",get:function(){return this.column.totalsRowResult},set:function(t){this._set("totalsRowResult",t)}},{key:"totalsRowFormula",get:function(){return this.column.totalsRowFormula},set:function(t){this._set("totalsRowFormula",t)}}]),t}();e.exports=function(){function t(e,n){v(this,t),this.worksheet=e,n&&(this.table=n,this.validate(),this.store())}return y(t,[{key:"getFormula",value:function(t){switch(t.totalsRowFunction){case"none":return null;case"average":return"SUBTOTAL(101,".concat(this.table.name,"[").concat(t.name,"])");case"countNums":return"SUBTOTAL(102,".concat(this.table.name,"[").concat(t.name,"])");case"count":return"SUBTOTAL(103,".concat(this.table.name,"[").concat(t.name,"])");case"max":return"SUBTOTAL(104,".concat(this.table.name,"[").concat(t.name,"])");case"min":return"SUBTOTAL(105,".concat(this.table.name,"[").concat(t.name,"])");case"stdDev":return"SUBTOTAL(106,".concat(this.table.name,"[").concat(t.name,"])");case"var":return"SUBTOTAL(107,".concat(this.table.name,"[").concat(t.name,"])");case"sum":return"SUBTOTAL(109,".concat(this.table.name,"[").concat(t.name,"])");case"custom":return t.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+t.totalsRowFunction)}}},{key:"width",get:function(){return this.table.columns.length}},{key:"height",get:function(){return this.table.rows.length}},{key:"filterHeight",get:function(){return this.height+(this.table.headerRow?1:0)}},{key:"tableHeight",get:function(){return this.filterHeight+(this.table.totalsRow?1:0)}},{key:"validate",value:function(){var t=this,e=this.table,n=function(t,e,n){void 0===t[e]&&(t[e]=n)};n(e,"headerRow",!0),n(e,"totalsRow",!1),n(e,"style",{}),n(e.style,"theme","TableStyleMedium2"),n(e.style,"showFirstColumn",!1),n(e.style,"showLastColumn",!1),n(e.style,"showRowStripes",!1),n(e.style,"showColumnStripes",!1);var r=function(t,e){if(!t)throw new Error(e)};r(e.ref,"Table must have ref"),r(e.columns,"Table must have column definitions"),r(e.rows,"Table must have row definitions"),e.tl=i.decodeAddress(e.ref);var o=e.tl,a=o.row,s=o.col;r(a>0,"Table must be on valid row"),r(s>0,"Table must be on valid col");var l=this.width,u=this.filterHeight,h=this.tableHeight;e.autoFilterRef=i.encode(a,s,a+u-1,s+l-1),e.tableRef=i.encode(a,s,a+h-1,s+l-1),e.columns.forEach((function(e,i){r(e.name,"Column ".concat(i," must have a name")),0===i?n(e,"totalsRowLabel","Total"):(n(e,"totalsRowFunction","none"),e.totalsRowFormula=t.getFormula(e))}))}},{key:"store",value:function(){var t=this,e=function(t,e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))},n=this.worksheet,i=this.table,r=i.tl,o=r.row,a=r.col,s=0;if(i.headerRow){var l=n.getRow(o+s++);i.columns.forEach((function(t,n){var i=t.style,r=t.name,o=l.getCell(a+n);o.value=r,e(o,i)}))}if(i.rows.forEach((function(t){var r=n.getRow(o+s++);t.forEach((function(t,n){var o=r.getCell(a+n);o.value=t,e(o,i.columns[n].style)}))})),i.totalsRow){var u=n.getRow(o+s++);i.columns.forEach((function(n,i){var r=u.getCell(a+i);if(0===i)r.value=n.totalsRowLabel;else{var o=t.getFormula(n);r.value=o?{formula:n.totalsRowFormula,result:n.totalsRowResult}:null}e(r,n.style)}))}}},{key:"load",value:function(t){var e=this,n=this.table,i=n.tl,r=i.row,o=i.col,a=0;if(n.headerRow){var s=t.getRow(r+a++);n.columns.forEach((function(t,e){s.getCell(o+e).value=t.name}))}if(n.rows.forEach((function(e){var n=t.getRow(r+a++);e.forEach((function(t,e){n.getCell(o+e).value=t}))})),n.totalsRow){var l=t.getRow(r+a++);n.columns.forEach((function(t,n){var i=l.getCell(o+n);0===n?i.value=t.totalsRowLabel:e.getFormula(t)&&(i.value={formula:t.totalsRowFormula,result:t.totalsRowResult})}))}}},{key:"model",get:function(){return this.table},set:function(t){this.table=t}},{key:"cacheState",value:function(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}},{key:"commit",value:function(){if(this._cache){this.validate();var t=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(var e=0;e<this._cache.tableHeight;e++)for(var n=this.worksheet.getRow(t.row+e),r=0;r<this._cache.width;r++)n.getCell(t.col+r).value=null;else{for(var o=this.tableHeight;o<this._cache.tableHeight;o++)for(var a=this.worksheet.getRow(t.row+o),s=0;s<this._cache.width;s++)a.getCell(t.col+s).value=null;for(var l=0;l<this.tableHeight;l++)for(var u=this.worksheet.getRow(t.row+l),h=this.width;h<this._cache.width;h++)u.getCell(t.col+h).value=null}this.store()}}},{key:"addRow",value:function(t,e){this.cacheState(),void 0===e?this.table.rows.push(t):this.table.rows.splice(e,0,t)}},{key:"removeRows",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.rows.splice(t,e)}},{key:"getColumn",value:function(t){var e=this.table.columns[t];return new r(this,e,t)}},{key:"addColumn",value:function(t,e,n){this.cacheState(),void 0===n?(this.table.columns.push(t),this.table.rows.forEach((function(t,n){t.push(e[n])}))):(this.table.columns.splice(n,0,t),this.table.rows.forEach((function(t,i){t.splice(n,0,e[i])})))}},{key:"removeColumns",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.columns.splice(t,e),this.table.rows.forEach((function(n){n.splice(t,e)}))}},{key:"_assign",value:function(t,e,n){this.cacheState(),t[e]=n}},{key:"ref",get:function(){return this.table.ref},set:function(t){this._assign(this.table,"ref",t)}},{key:"name",get:function(){return this.table.name},set:function(t){this.table.name=t}},{key:"displayName",get:function(){return this.table.displyName||this.table.name}},{key:"displayNamename",set:function(t){this.table.displayName=t}},{key:"headerRow",get:function(){return this.table.headerRow},set:function(t){this._assign(this.table,"headerRow",t)}},{key:"totalsRow",get:function(){return this.table.totalsRow},set:function(t){this._assign(this.table,"totalsRow",t)}},{key:"theme",get:function(){return this.table.style.name},set:function(t){this.table.style.name=t}},{key:"showFirstColumn",get:function(){return this.table.style.showFirstColumn},set:function(t){this.table.style.showFirstColumn=t}},{key:"showLastColumn",get:function(){return this.table.style.showLastColumn},set:function(t){this.table.style.showLastColumn=t}},{key:"showRowStripes",get:function(){return this.table.style.showRowStripes},set:function(t){this.table.style.showRowStripes=t}},{key:"showColumnStripes",get:function(){return this.table.style.showColumnStripes},set:function(t){this.table.style.showColumnStripes=t}}]),t}()},{"../utils/col-cache":19}],13:[function(t,e,n){"use strict";var i=t("./worksheet"),r=t("./defined-names"),o=t("../xlsx/xlsx"),a=t("../csv/csv");e.exports=function(){function t(){v(this,t),this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new r}return y(t,[{key:"xlsx",get:function(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}},{key:"csv",get:function(){return this._csv||(this._csv=new a(this)),this._csv}},{key:"nextId",get:function(){for(var t=1;t<this._worksheets.length;t++)if(!this._worksheets[t])return t;return this._worksheets.length||1}},{key:"addWorksheet",value:function(t,e){var n=this.nextId;e&&("string"==typeof e?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),e={properties:{tabColor:{argb:e}}}):(e.argb||e.theme||e.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),e={properties:{tabColor:e}}));var r=this._worksheets.reduce((function(t,e){return(e&&e.orderNo)>t?e.orderNo:t}),0),o=Object.assign({},e,{id:n,name:t,orderNo:r+1,workbook:this}),a=new i(o);return this._worksheets[n]=a,a}},{key:"removeWorksheetEx",value:function(t){delete this._worksheets[t.id]}},{key:"removeWorksheet",value:function(t){var e=this.getWorksheet(t);e&&e.destroy()}},{key:"getWorksheet",value:function(t){return void 0===t?this._worksheets.find(Boolean):"number"==typeof t?this._worksheets[t]:"string"==typeof t?this._worksheets.find((function(e){return e&&e.name===t})):void 0}},{key:"worksheets",get:function(){return this._worksheets.slice(1).sort((function(t,e){return t.orderNo-e.orderNo})).filter(Boolean)}},{key:"eachSheet",value:function(t){this.worksheets.forEach((function(e){t(e,e.id)}))}},{key:"definedNames",get:function(){return this._definedNames}},{key:"clearThemes",value:function(){this._themes=void 0}},{key:"addImage",value:function(t){var e=this.media.length;return this.media.push(Object.assign({},t,{type:"image"})),e}},{key:"getImage",value:function(t){return this.media[t]}},{key:"model",get:function(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map((function(t){return t.model})),sheets:this.worksheets.map((function(t){return t.model})).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}},set:function(t){var e=this;this.creator=t.creator,this.lastModifiedBy=t.lastModifiedBy,this.lastPrinted=t.lastPrinted,this.created=t.created,this.modified=t.modified,this.company=t.company,this.manager=t.manager,this.title=t.title,this.subject=t.subject,this.keywords=t.keywords,this.category=t.category,this.description=t.description,this.language=t.language,this.revision=t.revision,this.contentStatus=t.contentStatus,this.properties=t.properties,this.calcProperties=t.calcProperties,this._worksheets=[],t.worksheets.forEach((function(n){var r=n.id,o=n.name,a=n.state,s=t.sheets&&t.sheets.findIndex((function(t){return t.id===r}));(e._worksheets[r]=new i({id:r,name:o,orderNo:s,state:a,workbook:e})).model=n})),this._definedNames.model=t.definedNames,this.views=t.views,this._themes=t.themes,this.media=t.media||[]}}]),t}()},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,e,n){"use strict";var i=t("../utils/under-dash"),r=t("../utils/col-cache"),o=t("./range"),a=t("./row"),s=t("./column"),l=t("./enums"),u=t("./image"),h=t("./table"),c=t("./data-validations"),d=t("../utils/encryptor"),f=t("../utils/copy-style").copyStyle;e.exports=function(){function t(e){v(this,t),e=e||{},this._workbook=e.workbook,this.id=e.id,this.orderNo=e.orderNo,this.name=e.name,this.state=e.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},e.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!e.pageSetup||!e.pageSetup.fitToWidth&&!e.pageSetup.fitToHeight||e.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},e.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},e.headerFooter),this.dataValidations=new c,this.views=e.views||[],this.autoFilter=e.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}return y(t,[{key:"name",get:function(){return this._name},set:function(t){if(void 0===t&&(t="sheet"+this.id),this._name!==t){if("string"!=typeof t)throw new Error("The name has to be a string.");if(""===t)throw new Error("The name can't be empty.");if("History"===t)throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(t))throw new Error("Worksheet name ".concat(t," cannot include any of the following characters: * ? : \\ / [ ]"));if(/(^')|('$)/.test(t))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+t);if(t&&t.length>31&&(console.warn("Worksheet name ".concat(t," exceeds 31 chars. This will be truncated")),t=t.substring(0,31)),this._workbook._worksheets.find((function(e){return e&&e.name.toLowerCase()===t.toLowerCase()})))throw new Error("Worksheet name already exists: "+t);this._name=t}}},{key:"workbook",get:function(){return this._workbook}},{key:"destroy",value:function(){this._workbook.removeWorksheetEx(this)}},{key:"dimensions",get:function(){var t=new o;return this._rows.forEach((function(e){if(e){var n=e.dimensions;n&&t.expand(e.number,n.min,e.number,n.max)}})),t}},{key:"columns",get:function(){return this._columns},set:function(t){var e=this;this._headerRowCount=t.reduce((function(t,e){var n=(e.header?1:e.headers&&e.headers.length)||0;return Math.max(t,n)}),0);var n=1,i=this._columns=[];t.forEach((function(t){var r=new s(e,n++,!1);i.push(r),r.defn=t}))}},{key:"getColumnKey",value:function(t){return this._keys[t]}},{key:"setColumnKey",value:function(t,e){this._keys[t]=e}},{key:"deleteColumnKey",value:function(t){delete this._keys[t]}},{key:"eachColumnKey",value:function(t){i.each(this._keys,t)}},{key:"getColumn",value:function(t){if("string"==typeof t){var e=this._keys[t];if(e)return e;t=r.l2n(t)}if(this._columns||(this._columns=[]),t>this._columns.length)for(var n=this._columns.length+1;n<=t;)this._columns.push(new s(this,n++));return this._columns[t-1]}},{key:"spliceColumns",value:function(t,e){for(var n=this,i=this._rows.length,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(o.length>0)for(var s=function(i){var r=[t,e];o.forEach((function(t){r.push(t[i]||null)}));var a=n.getRow(i+1);a.splice.apply(a,r)},l=0;l<i;l++)s(l);else this._rows.forEach((function(n){n&&n.splice(t,e)}));var u=o.length-e,h=t+e,c=this._columns.length;if(u<0)for(var d=t+o.length;d<=c;d++)this.getColumn(d).defn=this.getColumn(d-u).defn;else if(u>0)for(var f=c;f>=h;f--)this.getColumn(f+u).defn=this.getColumn(f).defn;for(var p=t;p<t+o.length;p++)this.getColumn(p).defn=null;this.workbook.definedNames.spliceColumns(this.name,t,e,o.length)}},{key:"lastColumn",get:function(){return this.getColumn(this.columnCount)}},{key:"columnCount",get:function(){var t=0;return this.eachRow((function(e){t=Math.max(t,e.cellCount)})),t}},{key:"actualColumnCount",get:function(){var t=[],e=0;return this.eachRow((function(n){n.eachCell((function(n){var i=n.col;t[i]||(t[i]=!0,e++)}))})),e}},{key:"_commitRow",value:function(){}},{key:"_lastRowNumber",get:function(){for(var t=this._rows,e=t.length;e>0&&void 0===t[e-1];)e--;return e}},{key:"_nextRow",get:function(){return this._lastRowNumber+1}},{key:"lastRow",get:function(){if(this._rows.length)return this._rows[this._rows.length-1]}},{key:"findRow",value:function(t){return this._rows[t-1]}},{key:"findRows",value:function(t,e){return this._rows.slice(t-1,t-1+e)}},{key:"rowCount",get:function(){return this._lastRowNumber}},{key:"actualRowCount",get:function(){var t=0;return this.eachRow((function(){t++})),t}},{key:"getRow",value:function(t){var e=this._rows[t-1];return e||(e=this._rows[t-1]=new a(this,t)),e}},{key:"getRows",value:function(t,e){if(!(e<1)){for(var n=[],i=t;i<t+e;i++)n.push(this.getRow(i));return n}}},{key:"addRow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",n=this._nextRow,i=this.getRow(n);return i.values=t,this._setStyleOption(n,"i"===e[0]?e:"n"),i}},{key:"addRows",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",i=[];return t.forEach((function(t){i.push(e.addRow(t,n))})),i}},{key:"insertRow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";return this.spliceRows(t,0,e),this._setStyleOption(t,n),this.getRow(t)}},{key:"insertRows",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";if(this.spliceRows.apply(this,[t,0].concat(p(e))),"n"!==n)for(var i=0;i<e.length;i++)"o"===n[0]&&void 0!==this.findRow(e.length+t+i)?this._copyStyle(e.length+t+i,t+i,"+"===n[1]):"i"===n[0]&&void 0!==this.findRow(t-1)&&this._copyStyle(t-1,t+i,"+"===n[1]);return this.getRows(t,e.length)}},{key:"_setStyleOption",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";"o"===e[0]&&void 0!==this.findRow(t+1)?this._copyStyle(t+1,t,"+"===e[1]):"i"===e[0]&&void 0!==this.findRow(t-1)&&this._copyStyle(t-1,t,"+"===e[1])}},{key:"_copyStyle",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getRow(t),r=this.getRow(e);r.style=f(i.style),i.eachCell({includeEmpty:n},(function(t,e){r.getCell(e).style=f(t.style)})),r.height=i.height}},{key:"duplicateRow",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._rows[t-1],o=new Array(e).fill(r.values);this.spliceRows.apply(this,[t+1,i?0:e].concat(p(o)));for(var a=function(){var e=n._rows[t+s];e.style=r.style,e.height=r.height,r.eachCell({includeEmpty:!0},(function(t,n){e.getCell(n).style=t.style}))},s=0;s<e;s++)a()}},{key:"spliceRows",value:function(t,e){for(var n=this,i=t+e,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s,l,u=o.length,h=u-e,c=this._rows.length;if(h<0)for(t===c&&(this._rows[c-1]=void 0),s=i;s<=c;s++)if(l=this._rows[s-1]){var d=this.getRow(s+h);d.values=l.values,d.style=l.style,d.height=l.height,l.eachCell({includeEmpty:!0},(function(t,e){d.getCell(e).style=t.style})),this._rows[s-1]=void 0}else this._rows[s+h-1]=void 0;else if(h>0)for(s=c;s>=i;s--)if(l=this._rows[s-1]){var f=this.getRow(s+h);f.values=l.values,f.style=l.style,f.height=l.height,l.eachCell({includeEmpty:!0},(function(t,e){if(f.getCell(e).style=t.style,"MergeValue"===t._value.constructor.name){var i=n.getRow(t._row._number+u).getCell(e),r=t._value._master,o=n.getRow(r._row._number+u).getCell(r._column._number);i.merge(o)}}))}else this._rows[s+h-1]=void 0;for(s=0;s<u;s++){var p=this.getRow(t+s);p.style={},p.values=o[s]}this.workbook.definedNames.spliceRows(this.name,t,e,u)}},{key:"eachRow",value:function(t,e){if(e||(e=t,t=void 0),t&&t.includeEmpty)for(var n=this._rows.length,i=1;i<=n;i++)e(this.getRow(i),i);else this._rows.forEach((function(t){t&&t.hasValues&&e(t,t.number)}))}},{key:"getSheetValues",value:function(){var t=[];return this._rows.forEach((function(e){e&&(t[e.number]=e.values)})),t}},{key:"findCell",value:function(t,e){var n=r.getAddress(t,e),i=this._rows[n.row-1];return i?i.findCell(n.col):void 0}},{key:"getCell",value:function(t,e){var n=r.getAddress(t,e);return this.getRow(n.row).getCellEx(n)}},{key:"mergeCells",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=new o(e);this._mergeCellsInternal(i)}},{key:"mergeCellsWithoutStyle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=new o(e);this._mergeCellsInternal(i,!0)}},{key:"_mergeCellsInternal",value:function(t,e){i.each(this._merges,(function(e){if(e.intersects(t))throw new Error("Cannot merge already merged cells")}));for(var n=this.getCell(t.top,t.left),r=t.top;r<=t.bottom;r++)for(var o=t.left;o<=t.right;o++)(r>t.top||o>t.left)&&this.getCell(r,o).merge(n,e);this._merges[n.address]=t}},{key:"_unMergeMaster",value:function(t){var e=this._merges[t.address];if(e){for(var n=e.top;n<=e.bottom;n++)for(var i=e.left;i<=e.right;i++)this.getCell(n,i).unmerge();delete this._merges[t.address]}}},{key:"hasMerges",get:function(){return i.some(this._merges,Boolean)}},{key:"unMergeCells",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=new o(e),r=i.top;r<=i.bottom;r++)for(var a=i.left;a<=i.right;a++){var s=this.findCell(r,a);s&&(s.type===l.ValueType.Merge?this._unMergeMaster(s.master):this._merges[s.address]&&this._unMergeMaster(s))}}},{key:"fillFormula",value:function(t,e,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"shared",a=r.decode(t),s=a.top,l=a.left,u=a.bottom,h=a.right,c=h-l+1,d=r.encodeAddress(s,l),f="shared"===o;i="function"==typeof n?n:Array.isArray(n)?Array.isArray(n[0])?function(t,e){return n[t-s][e-l]}:function(t,e){return n[(t-s)*c+(e-l)]}:function(){};for(var p=!0,g=s;g<=u;g++)for(var m=l;m<=h;m++)p?(this.getCell(g,m).value={shareType:o,formula:e,ref:t,result:i(g,m)},p=!1):this.getCell(g,m).value=f?{sharedFormula:d,result:i(g,m)}:i(g,m)}},{key:"addImage",value:function(t,e){var n={type:"image",imageId:t,range:e};this._media.push(new u(this,n))}},{key:"getImages",value:function(){return this._media.filter((function(t){return"image"===t.type}))}},{key:"addBackgroundImage",value:function(t){var e={type:"background",imageId:t};this._media.push(new u(this,e))}},{key:"getBackgroundImageId",value:function(){var t=this._media.find((function(t){return"background"===t.type}));return t&&t.imageId}},{key:"protect",value:function(t,e){var n=this;return new Promise((function(i){n.sheetProtection={sheet:!0},e&&"spinCount"in e&&(e.spinCount=Number.isFinite(e.spinCount)?Math.round(Math.max(0,e.spinCount)):1e5),t&&(n.sheetProtection.algorithmName="SHA-512",n.sheetProtection.saltValue=d.randomBytes(16).toString("base64"),n.sheetProtection.spinCount=e&&"spinCount"in e?e.spinCount:1e5,n.sheetProtection.hashValue=d.convertPasswordToHash(t,"SHA512",n.sheetProtection.saltValue,n.sheetProtection.spinCount)),e&&(n.sheetProtection=Object.assign(n.sheetProtection,e),!t&&"spinCount"in e&&delete n.sheetProtection.spinCount),i()}))}},{key:"unprotect",value:function(){this.sheetProtection=null}},{key:"addTable",value:function(t){var e=new h(this,t);return this.tables[t.name]=e,e}},{key:"getTable",value:function(t){return this.tables[t]}},{key:"removeTable",value:function(t){delete this.tables[t]}},{key:"getTables",value:function(){return Object.values(this.tables)}},{key:"addConditionalFormatting",value:function(t){this.conditionalFormattings.push(t)}},{key:"removeConditionalFormatting",value:function(t){"number"==typeof t?this.conditionalFormattings.splice(t,1):this.conditionalFormattings=t instanceof Function?this.conditionalFormattings.filter(t):[]}},{key:"tabColor",get:function(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor},set:function(t){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=t}},{key:"model",get:function(){var t={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map((function(t){return t.model})),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map((function(t){return t.model})),conditionalFormattings:this.conditionalFormattings};t.cols=s.toModel(this.columns);var e=t.rows=[],n=t.dimensions=new o;return this._rows.forEach((function(t){var i=t&&t.model;i&&(n.expand(i.number,i.min,i.number,i.max),e.push(i))})),t.merges=[],i.each(this._merges,(function(e){t.merges.push(e.range)})),t},set:function(t){var e=this;this.name=t.name,this._columns=s.fromModel(this,t.cols),this._parseRows(t),this._parseMergeCells(t),this.dataValidations=new c(t.dataValidations),this.properties=t.properties,this.pageSetup=t.pageSetup,this.headerFooter=t.headerFooter,this.views=t.views,this.autoFilter=t.autoFilter,this._media=t.media.map((function(t){return new u(e,t)})),this.sheetProtection=t.sheetProtection,this.tables=t.tables.reduce((function(t,e){var n=new h;return n.model=e,t[e.name]=n,t}),{}),this.conditionalFormattings=t.conditionalFormattings}},{key:"_parseRows",value:function(t){var e=this;this._rows=[],t.rows.forEach((function(t){var n=new a(e,t.number);e._rows[n.number-1]=n,n.model=t}))}},{key:"_parseMergeCells",value:function(t){var e=this;i.each(t.mergeCells,(function(t){e.mergeCellsWithoutStyle(t)}))}}]),t}()},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,e,n){"use strict";t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");var i={Workbook:t("./doc/workbook")},r=t("./doc/enums");Object.keys(r).forEach((function(t){i[t]=r[t]})),e.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,e,n){"use strict";var i="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");n.bufferToString=function(t){return"string"==typeof t?t:i?i.decode(t):t.toString()}},{}],17:[function(t,e,n){"use strict";var i="undefined"==typeof TextEncoder?null:new TextEncoder("utf-8"),r=t("buffer").Buffer;n.stringToBuffer=function(t){return"string"!=typeof t?t:i?r.from(i.encode(t).buffer):r.from(t)}},{buffer:220}],18:[function(t,e,n){"use strict";var i=t("./under-dash"),r=t("./col-cache");e.exports=function(){function t(e){v(this,t),this.template=e,this.sheets={}}return y(t,[{key:"addCell",value:function(t){this.addCellEx(r.decodeEx(t))}},{key:"getCell",value:function(t){return this.findCellEx(r.decodeEx(t),!0)}},{key:"findCell",value:function(t){return this.findCellEx(r.decodeEx(t),!1)}},{key:"findCellAt",value:function(t,e,n){var i=this.sheets[t],r=i&&i[e];return r&&r[n]}},{key:"addCellEx",value:function(t){if(t.top)for(var e=t.top;e<=t.bottom;e++)for(var n=t.left;n<=t.right;n++)this.getCellAt(t.sheetName,e,n);else this.findCellEx(t,!0)}},{key:"getCellEx",value:function(t){return this.findCellEx(t,!0)}},{key:"findCellEx",value:function(t,e){var n=this.findSheet(t,e),i=this.findSheetRow(n,t,e);return this.findRowCell(i,t,e)}},{key:"getCellAt",value:function(t,e,n){var i=this.sheets[t]||(this.sheets[t]=[]),o=i[e]||(i[e]=[]);return o[n]||(o[n]={sheetName:t,address:r.n2l(n)+e,row:e,col:n})}},{key:"removeCellEx",value:function(t){var e=this.findSheet(t);if(e){var n=this.findSheetRow(e,t);n&&delete n[t.col]}}},{key:"forEachInSheet",value:function(t,e){var n=this.sheets[t];n&&n.forEach((function(t,n){t&&t.forEach((function(t,i){t&&e(t,n,i)}))}))}},{key:"forEach",value:function(t){var e=this;i.each(this.sheets,(function(n,i){e.forEachInSheet(i,t)}))}},{key:"map",value:function(t){var e=[];return this.forEach((function(n){e.push(t(n))})),e}},{key:"findSheet",value:function(t,e){var n=t.sheetName;return this.sheets[n]?this.sheets[n]:e?this.sheets[n]=[]:void 0}},{key:"findSheetRow",value:function(t,e,n){var i=e.row;return t&&t[i]?t[i]:n?t[i]=[]:void 0}},{key:"findRowCell",value:function(t,e,n){var i=e.col;return t&&t[i]?t[i]:n?t[i]=this.template?Object.assign(e,JSON.parse(JSON.stringify(this.template))):e:void 0}},{key:"spliceRows",value:function(t,e,n,i){var r=this.sheets[t];if(r){for(var o=[],a=0;a<i;a++)o.push([]);r.splice.apply(r,[e,n].concat(o))}}},{key:"spliceColumns",value:function(t,e,n,r){var o=this.sheets[t];if(o){for(var a=[],s=0;s<r;s++)a.push(null);i.each(o,(function(t){t.splice.apply(t,[e,n].concat(a))}))}}}]),t}()},{"./col-cache":19,"./under-dash":26}],19:[function(t,e,n){"use strict";var i=/^[A-Z]+\d+$/,r={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:function(t){return t<=26?1:t<=676?2:3},_fill:function(t){var e,n,i,r,o,a=1;if(t>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&t>=1){for(;a<=26;)e=this._dictionary[a-1],this._n2l[a]=e,this._l2n[e]=a,a++;this._l2nFill=1}if(this._l2nFill<2&&t>=2){for(a=27;a<=702;)i=(n=a-27)%26,r=Math.floor(n/26),e=this._dictionary[r]+this._dictionary[i],this._n2l[a]=e,this._l2n[e]=a,a++;this._l2nFill=2}if(this._l2nFill<3&&t>=3){for(a=703;a<=16384;)i=(n=a-703)%26,r=Math.floor(n/26)%26,o=Math.floor(n/676),e=this._dictionary[o]+this._dictionary[r]+this._dictionary[i],this._n2l[a]=e,this._l2n[e]=a,a++;this._l2nFill=3}},l2n:function(t){if(this._l2n[t]||this._fill(t.length),!this._l2n[t])throw new Error("Out of bounds. Invalid column letter: "+t);return this._l2n[t]},n2l:function(t){if(t<1||t>16384)throw new Error(t+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[t]||this._fill(this._level(t)),this._n2l[t]},_hash:{},validateAddress:function(t){if(!i.test(t))throw new Error("Invalid Address: "+t);return!0},decodeAddress:function(t){var e=t.length<5&&this._hash[t];if(e)return e;for(var n,i=!1,r="",o=0,a=!1,s="",l=0,u=0;u<t.length;u++)if(n=t.charCodeAt(u),!a&&n>=65&&n<=90)i=!0,r+=t[u],o=26*o+n-64;else if(n>=48&&n<=57)a=!0,s+=t[u],l=10*l+n-48;else if(a&&i&&36!==n)break;if(i){if(o>16384)throw new Error("Out of bounds. Invalid column letter: "+r)}else o=void 0;a||(l=void 0);var h={address:t=r+s,col:o,row:l,$col$row:"$".concat(r,"$").concat(s)};return o<=100&&l<=100&&(this._hash[t]=h,this._hash[h.$col$row]=h),h},getAddress:function(t,e){if(e){var n=this.n2l(e)+t;return this.decodeAddress(n)}return this.decodeAddress(t)},decode:function(t){var e=t.split(":");if(2===e.length){var n=this.decodeAddress(e[0]),i=this.decodeAddress(e[1]),r={top:Math.min(n.row,i.row),left:Math.min(n.col,i.col),bottom:Math.max(n.row,i.row),right:Math.max(n.col,i.col)};return r.tl=this.n2l(r.left)+r.top,r.br=this.n2l(r.right)+r.bottom,r.dimensions="".concat(r.tl,":").concat(r.br),r}return this.decodeAddress(t)},decodeEx:function(t){var e=t.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),n=e[1]||e[2],i=e[3],r=i.split(":");if(r.length>1){var o=this.decodeAddress(r[0]),a=this.decodeAddress(r[1]),s=Math.min(o.row,a.row),l=Math.min(o.col,a.col),u=Math.max(o.row,a.row),h=Math.max(o.col,a.col);return o=this.n2l(l)+s,a=this.n2l(h)+u,{top:s,left:l,bottom:u,right:h,sheetName:n,tl:{address:o,col:l,row:s,$col$row:"$".concat(this.n2l(l),"$").concat(s),sheetName:n},br:{address:a,col:h,row:u,$col$row:"$".concat(this.n2l(h),"$").concat(u),sheetName:n},dimensions:"".concat(o,":").concat(a)}}if(i.startsWith("#"))return n?{sheetName:n,error:i}:{error:i};var c=this.decodeAddress(i);return n?f({sheetName:n},c):c},encodeAddress:function(t,e){return r.n2l(e)+t},encode:function(){switch(arguments.length){case 2:return r.encodeAddress(arguments[0],arguments[1]);case 4:return"".concat(r.encodeAddress(arguments[0],arguments[1]),":").concat(r.encodeAddress(arguments[2],arguments[3]));default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange:function(t,e){var n=d(t,5),i=n[0],r=n[1],o=n[3],a=n[4],s=d(e,2),l=s[0],u=s[1];return l>=i&&l<=o&&u>=r&&u<=a}};e.exports=r},{}],20:[function(t,e,n){"use strict";var i=function(t,e){return f(f({},t),e.reduce((function(e,n){return t[n]&&(e[n]=f({},t[n])),e}),{}))},r=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];t[n]&&(e[n]=i(t[n],r))};n.copyStyle=function(t){if(!t)return t;if(e=t,0===Object.keys(e).length)return{};var e,n=f({},t);return r(t,n,"font",["color"]),r(t,n,"alignment"),r(t,n,"protection"),t.border&&(r(t,n,"border"),r(t.border,n.border,"top",["color"]),r(t.border,n.border,"left",["color"]),r(t.border,n.border,"bottom",["color"]),r(t.border,n.border,"right",["color"]),r(t.border,n.border,"diagonal",["color"])),t.fill&&(r(t,n,"fill",["fgColor","bgColor","center"]),t.fill.stops&&(n.fill.stops=t.fill.stops.map((function(t){return i(t,["color"])})))),n}},{}],21:[function(t,e,n){(function(n){(function(){"use strict";var i=t("crypto"),r={hash:function(t){for(var e=i.createHash(t),r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e.update(n.concat(o)),e.digest()},convertPasswordToHash:function(t,e,r,o){if(e=e.toLowerCase(),i.getHashes().indexOf(e)<0)throw new Error("Hash algorithm '".concat(e,"' not supported!"));for(var a=n.from(t,"utf16le"),s=this.hash(e,n.from(r,"base64"),a),l=0;l<o;l++){var u=n.alloc(4);u.writeUInt32LE(l,0),s=this.hash(e,s,u)}return s.toString("base64")},randomBytes:function(t){return i.randomBytes(t)}};e.exports=r}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,e,n){"use strict";var i=t("saxes").SaxesParser,r=t("readable-stream").PassThrough,o=t("./browser-buffer-decode").bufferToString;e.exports=function(){var t=x(g().mark((function t(e){var n,a,s,l,u,h,c,d,f;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.pipe&&!e[Symbol.asyncIterator]&&(e=e.pipe(new r)),(n=new i).on("error",(function(t){a=t})),s=[],n.on("opentag",(function(t){return s.push({eventType:"opentag",value:t})})),n.on("text",(function(t){return s.push({eventType:"text",value:t})})),n.on("closetag",(function(t){return s.push({eventType:"closetag",value:t})})),l=!1,u=!1,t.prev=7,c=_(e);case 9:return t.next=11,w(c.next());case 11:if(!(l=!(d=t.sent).done)){t.next=21;break}if(f=d.value,n.write(o(f)),!a){t.next=15;break}throw a;case 15:return t.next=17,s;case 17:s=[];case 18:l=!1,t.next=9;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(7),u=!0,h=t.t0;case 27:if(t.prev=27,t.prev=28,!l||null==c.return){t.next=32;break}return t.next=32,w(c.return());case 32:if(t.prev=32,!u){t.next=35;break}throw h;case 35:return t.finish(32);case 36:return t.finish(27);case 37:case"end":return t.stop()}}),t,null,[[7,23,27,37],[28,,32,36]])})));return function(e){return t.apply(this,arguments)}}()},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,e,n){"use strict";var i=t("./col-cache"),r=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;e.exports={slideFormula:function(t,e,n){var a=i.decode(e),s=i.decode(n);return t.replace(r,(function(t,e,n,r,l){if(l)return t;var u=o.exec(r);if(u){var h=u[1],c=u[2].toUpperCase(),d=u[3],f=u[4];if(c.length>3||3===c.length&&c>"XFD")return t;var p=i.l2n(c),g=parseInt(f,10);return h||(p+=s.col-a.col),d||(g+=s.row-a.row),(e||"")+(h||"")+i.n2l(p)+(d||"")+g}return t}))}}},{"./col-cache":19}],24:[function(t,e,n){(function(n,i){(function(){"use strict";var r=t("readable-stream"),o=t("./utils"),a=t("./string-buf"),s=function(){function t(e,n){v(this,t),this._data=e,this._encoding=n}return y(t,[{key:"length",get:function(){return this.toBuffer().length}},{key:"copy",value:function(t,e,n,i){return this.toBuffer().copy(t,e,n,i)}},{key:"toBuffer",value:function(){return this._buffer||(this._buffer=i.from(this._data,this._encoding)),this._buffer}}]),t}(),l=function(){function t(e){v(this,t),this._data=e}return y(t,[{key:"length",get:function(){return this._data.length}},{key:"copy",value:function(t,e,n,i){return this._data._buf.copy(t,e,n,i)}},{key:"toBuffer",value:function(){return this._data.toBuffer()}}]),t}(),u=function(){function t(e){v(this,t),this._data=e}return y(t,[{key:"length",get:function(){return this._data.length}},{key:"copy",value:function(t,e,n,i){this._data.copy(t,e,n,i)}},{key:"toBuffer",value:function(){return this._data}}]),t}(),h=function(){function t(e){v(this,t),this.size=e,this.buffer=i.alloc(e),this.iRead=0,this.iWrite=0}return y(t,[{key:"toBuffer",value:function(){if(0===this.iRead&&this.iWrite===this.size)return this.buffer;var t=i.alloc(this.iWrite-this.iRead);return this.buffer.copy(t,0,this.iRead,this.iWrite),t}},{key:"length",get:function(){return this.iWrite-this.iRead}},{key:"eod",get:function(){return this.iRead===this.iWrite}},{key:"full",get:function(){return this.iWrite===this.size}},{key:"read",value:function(t){var e;return 0===t?null:void 0===t||t>=this.length?(e=this.toBuffer(),this.iRead=this.iWrite,e):(e=i.alloc(t),this.buffer.copy(e,0,this.iRead,t),this.iRead+=t,e)}},{key:"write",value:function(t,e,n){var i=Math.min(n,this.size-this.iWrite);return t.copy(this.buffer,this.iWrite,e,e+i),this.iWrite+=i,i}}]),t}(),c=function(t){t=t||{},this.bufSize=t.bufSize||1048576,this.buffers=[],this.batch=t.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};o.inherits(c,r.Duplex,{toBuffer:function(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return i.concat(this.buffers.map((function(t){return t.toBuffer()})))}},_getWritableBuffer:function(){if(this.buffers.length){var t=this.buffers[this.buffers.length-1];if(!t.full)return t}var e=new h(this.bufSize);return this.buffers.push(e),e},_pipe:function(t){var e=this;return m(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e.pipes.map((function(e){return new Promise((function(n){e.write(t.toBuffer(),(function(){n()}))}))})));case 2:case"end":return n.stop()}}),n)})))()},_writeToBuffers:function(t){for(var e=0,n=t.length;e<n;)e+=this._getWritableBuffer().write(t,e,n-e)},write:function(t,e,r){var h=this;return m(g().mark((function c(){var d;return g().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(e instanceof Function&&(r=e,e="utf8"),r=r||o.nop,!(t instanceof a)){c.next=4;break}d=new l(t),c.next=11;break;case 4:if(!(t instanceof i)){c.next=8;break}d=new u(t),c.next=11;break;case 8:if("string"==typeof t||t instanceof String||t instanceof ArrayBuffer){c.next=10;break}throw new Error("Chunk must be one of type String, Buffer or StringBuf.");case 10:d=new s(t,e);case 11:if(!h.pipes.length){c.next=25;break}if(!h.batch){c.next=16;break}for(h._writeToBuffers(d);!h.corked&&h.buffers.length>1;)h._pipe(h.buffers.shift());c.next=23;break;case 16:if(!h.corked){c.next=20;break}h._writeToBuffers(d),n.nextTick(r),c.next=23;break;case 20:return c.next=22,h._pipe(d);case 22:r();case 23:c.next=26;break;case 25:h.paused||h.emit("data",d.toBuffer()),h._writeToBuffers(d),h.emit("readable");case 26:return c.abrupt("return",!0);case 27:case"end":return c.stop()}}),c)})))()},cork:function(){this.corked=!0},_flush:function(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork:function(){this.corked=!1,this._flush()},end:function(t,e,n){var i=this,r=function(t){t?n(t):(i._flush(),i.pipes.forEach((function(t){t.end()})),i.emit("finish"))};t?this.write(t,e,r):r()},read:function(t){var e;if(t){for(e=[];t&&this.buffers.length&&!this.buffers[0].eod;){var n=this.buffers[0],r=n.read(t);t-=r.length,e.push(r),n.eod&&n.full&&this.buffers.shift()}return i.concat(e)}return e=this.buffers.map((function(t){return t.toBuffer()})).filter(Boolean),this.buffers=[],i.concat(e)},setEncoding:function(t){this.encoding=t},pause:function(){this.paused=!0},resume:function(){this.paused=!1},isPaused:function(){return!!this.paused},pipe:function(t){this.pipes.push(t),!this.paused&&this.buffers.length&&this.end()},unpipe:function(t){this.pipes=this.pipes.filter((function(e){return e!==t}))},unshift:function(){throw new Error("Not Implemented")},wrap:function(){throw new Error("Not Implemented")}}),e.exports=c}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,e,n){(function(t){(function(){"use strict";e.exports=function(){function e(n){v(this,e),this._buf=t.alloc(n&&n.size||16384),this._encoding=n&&n.encoding||"utf8",this._inPos=0,this._buffer=void 0}return y(e,[{key:"length",get:function(){return this._inPos}},{key:"capacity",get:function(){return this._buf.length}},{key:"buffer",get:function(){return this._buf}},{key:"toBuffer",value:function(){return this._buffer||(this._buffer=t.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}},{key:"reset",value:function(t){t=t||0,this._buffer=void 0,this._inPos=t}},{key:"_grow",value:function(e){for(var n=2*this._buf.length;n<e;)n*=2;var i=t.alloc(n);this._buf.copy(i,0),this._buf=i}},{key:"addText",value:function(t){this._buffer=void 0;for(var e=this._inPos+this._buf.write(t,this._inPos,this._encoding);e>=this._buf.length-4;)this._grow(this._inPos+t.length),e=this._inPos+this._buf.write(t,this._inPos,this._encoding);this._inPos=e}},{key:"addStringBuf",value:function(t){t.length&&(this._buffer=void 0,this.length+t.length>this.capacity&&this._grow(this.length+t.length),t._buf.copy(this._buf,this._inPos,0,t.length),this._inPos+=t.length)}}]),e}()}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,e,n){"use strict";var i=Object.prototype.toString,r=/["&<>]/,o={each:function(t,e){t&&(Array.isArray(t)?t.forEach(e):Object.keys(t).forEach((function(n){e(t[n],n)})))},some:function(t,e){return!!t&&(Array.isArray(t)?t.some(e):Object.keys(t).some((function(n){return e(t[n],n)})))},every:function(t,e){return!t||(Array.isArray(t)?t.every(e):Object.keys(t).every((function(n){return e(t[n],n)})))},map:function(t,e){return t?Array.isArray(t)?t.map(e):Object.keys(t).map((function(n){return e(t[n],n)})):[]},keyBy:function(t,e){return t.reduce((function(t,n){return t[n[e]]=n,t}),{})},isEqual:function(t,e){var n,i=b(t),r=b(e),a=Array.isArray(t),s=Array.isArray(e);if(i!==r)return!1;if("object"===b(t)){if(a||s)return!(!a||!s)&&t.length===e.length&&t.every((function(t,n){var i=e[n];return o.isEqual(t,i)}));if(null===t||null===e)return t===e;if(n=Object.keys(t),Object.keys(e).length!==n.length)return!1;var l,u=c(n);try{for(u.s();!(l=u.n()).done;){var h=l.value;if(!e.hasOwnProperty(h))return!1}}catch(t){u.e(t)}finally{u.f()}return o.every(t,(function(t,n){var i=e[n];return o.isEqual(t,i)}))}return t===e},escapeHtml:function(t){var e=r.exec(t);if(!e)return t;for(var n="",i="",o=0,a=e.index;a<t.length;a++){switch(t.charAt(a)){case'"':i="&quot;";break;case"&":i="&amp;";break;case"'":i="&apos;";break;case"<":i="&lt;";break;case">":i="&gt;";break;default:continue}o!==a&&(n+=t.substring(o,a)),o=a+1,n+=i}return o!==a?n+t.substring(o,a):n},strcmp:function(t,e){return t<e?-1:t>e?1:0},isUndefined:function(t){return"[object Undefined]"===i.call(t)},isObject:function(t){return"[object Object]"===i.call(t)},deepMerge:function(){var t,e,n,i=arguments[0]||{},r=arguments.length;function a(r,a){t=i[a],n=Array.isArray(r),o.isObject(r)||n?(n?(n=!1,e=t&&Array.isArray(t)?t:[]):e=t&&o.isObject(t)?t:{},i[a]=o.deepMerge(e,r)):o.isUndefined(r)||(i[a]=r)}for(var s=0;s<r;s++)o.each(arguments[s],a);return i}};e.exports=o},{}],27:[function(t,e,i){(function(n,i){(function(){"use strict";var r=t("fs"),o=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop:function(){},promiseImmediate:function(t){return new Promise((function(e){n.setImmediate?i((function(){e(t)})):setTimeout((function(){e(t)}),1)}))},inherits:function(t,e,n,i){t.super_=e,i||(i=n,n=null),n&&Object.keys(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}));var r={constructor:{value:t,enumerable:!1,writable:!1,configurable:!0}};i&&Object.keys(i).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(i,t)})),t.prototype=Object.create(e.prototype,r)},dateToExcel:function(t,e){return 25569+t.getTime()/864e5-(e?1462:0)},excelToDate:function(t,e){var n=Math.round(24*(t-25569+(e?1462:0))*3600*1e3);return new Date(n)},parsePath:function(t){var e=t.lastIndexOf("/");return{path:t.substring(0,e),name:t.substring(e+1)}},getRelsPath:function(t){var e=a.parsePath(t);return"".concat(e.path,"/_rels/").concat(e.name,".rels")},xmlEncode:function(t){var e=o.exec(t);if(!e)return t;for(var n="",i="",r=0,a=e.index;a<t.length;a++){var s=t.charCodeAt(a);switch(s){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&apos;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;case 127:i="";break;default:if(s<=31&&(s<=8||s>=11&&13!==s)){i="";break}continue}r!==a&&(n+=t.substring(r,a)),r=a+1,i&&(n+=i)}return r!==a?n+t.substring(r,a):n},xmlDecode:function(t){return t.replace(/&([a-z]*);/g,(function(t){switch(t){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return t}}))},validInt:function(t){var e=parseInt(t,10);return Number.isNaN(e)?0:e},isDateFmt:function(t){return!!t&&null!==(t=(t=t.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)},fs:{exists:function(t){return new Promise((function(e){r.access(t,r.constants.F_OK,(function(t){e(!t)}))}))}},toIsoDateString:function(t){return t.toIsoString().subsstr(0,10)},parseBoolean:function(t){return!0===t||"true"===t||1===t||"1"===t}};e.exports=a}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,e,n){"use strict";var i=t("./under-dash"),r=t("./utils");function o(t,e,n){t.push(" ".concat(e,'="').concat(r.xmlEncode(n.toString()),'"'))}function a(t,e){if(e){var n=[];i.each(e,(function(t,e){void 0!==t&&o(n,e,t)})),t.push(n.join(""))}}var s=function(){function t(){v(this,t),this._xml=[],this._stack=[],this._rollbacks=[]}return y(t,[{key:"tos",get:function(){return this._stack.length?this._stack[this._stack.length-1]:void 0}},{key:"cursor",get:function(){return this._xml.length}},{key:"openXml",value:function(t){var e=this._xml;e.push("<?xml"),a(e,t),e.push("?>\n")}},{key:"openNode",value:function(t,e){var n=this.tos,i=this._xml;n&&this.open&&i.push(">"),this._stack.push(t),i.push("<"),i.push(t),a(i,e),this.leaf=!0,this.open=!0}},{key:"addAttribute",value:function(t,e){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");void 0!==e&&o(this._xml,t,e)}},{key:"addAttributes",value:function(t){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a(this._xml,t)}},{key:"writeText",value:function(t){var e=this._xml;this.open&&(e.push(">"),this.open=!1),this.leaf=!1,e.push(r.xmlEncode(t.toString()))}},{key:"writeXml",value:function(t){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(t)}},{key:"closeNode",value:function(){var t=this._stack.pop(),e=this._xml;this.leaf?e.push("/>"):(e.push("</"),e.push(t),e.push(">")),this.open=!1,this.leaf=!1}},{key:"leafNode",value:function(t,e,n){this.openNode(t,e),void 0!==n&&this.writeText(n),this.closeNode()}},{key:"closeAll",value:function(){for(;this._stack.length;)this.closeNode()}},{key:"addRollback",value:function(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}},{key:"commit",value:function(){this._rollbacks.pop()}},{key:"rollback",value:function(){var t=this._rollbacks.pop();this._xml.length>t.xml&&this._xml.splice(t.xml,this._xml.length-t.xml),this._stack.length>t.stack&&this._stack.splice(t.stack,this._stack.length-t.stack),this.leaf=t.leaf,this.open=t.open}},{key:"xml",get:function(){return this.closeAll(),this._xml.join("")}}]),t}();s.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},e.exports=s},{"./under-dash":26,"./utils":27}],29:[function(t,e,n){(function(n){(function(){"use strict";var i=t("events"),r=t("jszip"),o=t("./stream-buf"),a=t("./browser-buffer-encode").stringToBuffer,s=function(t){u(s,t);var e,i=h(s);function s(t){var e;return v(this,s),(e=i.call(this)).options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},t),e.zip=new r,e.stream=new o,e}return y(s,[{key:"append",value:function(t,e){e.hasOwnProperty("base64")&&e.base64?this.zip.file(e.name,t,{base64:!0}):(n.browser&&"string"==typeof t&&(t=a(t)),this.zip.file(e.name,t))}},{key:"finalize",value:(e=m(g().mark((function t(){var e;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zip.generateAsync(this.options);case 2:e=t.sent,this.stream.end(e),this.emit("finish");case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"read",value:function(t){return this.stream.read(t)}},{key:"setEncoding",value:function(t){return this.stream.setEncoding(t)}},{key:"pause",value:function(){return this.stream.pause()}},{key:"resume",value:function(){return this.stream.resume()}},{key:"isPaused",value:function(){return this.stream.isPaused()}},{key:"pipe",value:function(t,e){return this.stream.pipe(t,e)}},{key:"unpipe",value:function(t){return this.stream.unpipe(t)}},{key:"unshift",value:function(t){return this.stream.unshift(t)}},{key:"wrap",value:function(t){return this.stream.wrap(t)}}]),s}(i.EventEmitter);e.exports={ZipWriter:s}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,e,n){"use strict";e.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,e,n){"use strict";e.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,e,n){"use strict";var i=t("../../utils/parse-sax"),r=t("../../utils/xml-stream"),o=function(){function t(){v(this,t)}var e,n;return y(t,[{key:"prepare",value:function(){}},{key:"render",value:function(){}},{key:"parseOpen",value:function(t){}},{key:"parseText",value:function(t){}},{key:"parseClose",value:function(t){}},{key:"reconcile",value:function(t,e){}},{key:"reset",value:function(){this.model=null,this.map&&Object.values(this.map).forEach((function(e){e instanceof t?e.reset():e.xform&&e.xform.reset()}))}},{key:"mergeModel",value:function(t){this.model=Object.assign(this.model||{},t)}},{key:"parse",value:(n=m(g().mark((function t(e){var n,i,r,o,a,s,l,u,h,d,f;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,i=!1,t.prev=2,o=_(e);case 4:return t.next=6,o.next();case 6:if(!(n=!(a=t.sent).done)){t.next=36;break}s=a.value,l=c(s),t.prev=9,l.s();case 11:if((u=l.n()).done){t.next=25;break}if(h=u.value,d=h.eventType,f=h.value,"opentag"!==d){t.next=17;break}this.parseOpen(f),t.next=23;break;case 17:if("text"!==d){t.next=21;break}this.parseText(f),t.next=23;break;case 21:if("closetag"!==d||this.parseClose(f.name)){t.next=23;break}return t.abrupt("return",this.model);case 23:t.next=11;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(9),l.e(t.t0);case 30:return t.prev=30,l.f(),t.finish(30);case 33:n=!1,t.next=4;break;case 36:t.next=42;break;case 38:t.prev=38,t.t1=t.catch(2),i=!0,r=t.t1;case 42:if(t.prev=42,t.prev=43,!n||null==o.return){t.next=47;break}return t.next=47,o.return();case 47:if(t.prev=47,!i){t.next=50;break}throw r;case 50:return t.finish(47);case 51:return t.finish(42);case 52:return t.abrupt("return",this.model);case 53:case"end":return t.stop()}}),t,this,[[2,38,42,52],[9,27,30,33],[43,,47,51]])}))),function(t){return n.apply(this,arguments)})},{key:"parseStream",value:(e=m(g().mark((function t(e){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.parse(i(e)));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"xml",get:function(){return this.toXml(this.model)}},{key:"toXml",value:function(t){var e=new r;return this.render(e,t),e.xml}}],[{key:"toAttribute",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===t){if(n)return e}else if(n||t!==e)return t.toString()}},{key:"toStringAttribute",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.toAttribute(e,n,i)}},{key:"toStringValue",value:function(t,e){return void 0===t?e:t}},{key:"toBoolAttribute",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===t){if(n)return e}else if(n||t!==e)return t?"1":"0"}},{key:"toBoolValue",value:function(t,e){return void 0===t?e:"1"===t}},{key:"toIntAttribute",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.toAttribute(e,n,i)}},{key:"toIntValue",value:function(t,e){return void 0===t?e:parseInt(t,10)}},{key:"toFloatAttribute",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.toAttribute(e,n,i)}},{key:"toFloatValue",value:function(t,e){return void 0===t?e:parseFloat(t)}}]),t}();e.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("../../../utils/col-cache");function o(t){try{return r.decodeEx(t),!0}catch(t){return!1}}function a(t){var e=[],n=!1,i="";return t.split(",").forEach((function(t){if(t){var r=(t.match(/'/g)||[]).length;if(r){var a=r%2==0;!n&&a&&o(t)?e.push(t):n&&!a?(n=!1,o(i+t)&&e.push(i+t),i=""):(n=!0,i+=t+",")}else n?i+=t+",":o(t)&&e.push(t)}})),e}e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.openNode("definedName",{name:e.name,localSheetId:e.localSheetId}),t.writeText(e.ranges.join(",")),t.closeNode()}},{key:"parseOpen",value:function(t){return"definedName"===t.name&&(this._parsedName=t.attributes.name,this._parsedLocalSheetId=t.attributes.localSheetId,this._parsedText=[],!0)}},{key:"parseText",value:function(t){this._parsedText.push(t)}},{key:"parseClose",value:function(){return this.model={name:this._parsedName,ranges:a(this._parsedText.join(""))},void 0!==this._parsedLocalSheetId&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}]),n}(i)},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,e,n){"use strict";var i=t("../../../utils/utils"),r=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.leafNode("sheet",{sheetId:e.id,name:e.name,state:e.state,"r:id":e.rId})}},{key:"parseOpen",value:function(t){return"sheet"===t.name&&(this.model={name:i.xmlDecode(t.attributes.name),id:parseInt(t.attributes.sheetId,10),state:t.attributes.state,rId:t.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(r)},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:e.fullCalcOnLoad?1:void 0})}},{key:"parseOpen",value:function(t){return"calcPr"===t.name&&(this.model={},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],36:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.leafNode("workbookPr",{date1904:e.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}},{key:"parseOpen",value:function(t){return"workbookPr"===t.name&&(this.model={date1904:"1"===t.attributes.date1904},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],37:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){var n={xWindow:e.x||0,yWindow:e.y||0,windowWidth:e.width||12e3,windowHeight:e.height||24e3,firstSheet:e.firstSheet,activeTab:e.activeTab};e.visibility&&"visible"!==e.visibility&&(n.visibility=e.visibility),t.leafNode("workbookView",n)}},{key:"parseOpen",value:function(t){if("workbookView"===t.name){var e=this.model={},n=function(t,n,i){var r=void 0!==n?e[t]=parseInt(n,10):i;void 0!==r&&(e[t]=r)};return n("x",t.attributes.xWindow,0),n("y",t.attributes.yWindow,0),n("width",t.attributes.windowWidth,25e3),n("height",t.attributes.windowHeight,1e4),function(t,n,i){var r=void 0!==n?e[t]=n:i;void 0!==r&&(e[t]=r)}("visibility",t.attributes.visibility,"visible"),n("activeTab",t.attributes.activeTab,void 0),n("firstSheet",t.attributes.firstSheet,void 0),!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],38:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),a=t("../base-xform"),s=t("../static-xform"),l=t("../list-xform"),c=t("./defined-name-xform"),d=t("./sheet-xform"),f=t("./workbook-view-xform"),p=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform"),m=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={fileVersion:n.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new l({tag:"bookViews",count:!1,childXform:new f}),sheets:new l({tag:"sheets",count:!1,childXform:new d}),definedNames:new l({tag:"definedNames",count:!1,childXform:new c}),calcPr:new g},t}return y(n,[{key:"prepare",value:function(t){t.sheets=t.worksheets;var e=[],n=0;t.sheets.forEach((function(t){if(t.pageSetup&&t.pageSetup.printArea&&t.pageSetup.printArea.split("&&").forEach((function(i){var r=i.split(":"),o={name:"_xlnm.Print_Area",ranges:["'".concat(t.name,"'!$").concat(r[0],":$").concat(r[1])],localSheetId:n};e.push(o)})),t.pageSetup&&(t.pageSetup.printTitlesRow||t.pageSetup.printTitlesColumn)){var i=[];if(t.pageSetup.printTitlesColumn){var r=t.pageSetup.printTitlesColumn.split(":");i.push("'".concat(t.name,"'!$").concat(r[0],":$").concat(r[1]))}if(t.pageSetup.printTitlesRow){var o=t.pageSetup.printTitlesRow.split(":");i.push("'".concat(t.name,"'!$").concat(o[0],":$").concat(o[1]))}var a={name:"_xlnm.Print_Titles",ranges:i,localSheetId:n};e.push(a)}n++})),e.length&&(t.definedNames=t.definedNames.concat(e)),(t.media||[]).forEach((function(t,e){t.name=t.type+(e+1)}))}},{key:"render",value:function(t,e){t.openXml(o.StdDocAttributes),t.openNode("workbook",n.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(t),this.map.workbookPr.render(t,e.properties),this.map.bookViews.render(t,e.views),this.map.sheets.render(t,e.sheets),this.map.definedNames.render(t,e.definedNames),this.map.calcPr.render(t,e.calcProperties),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):("workbook"===t.name||(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):"workbook"!==t||(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1)}},{key:"reconcile",value:function(t){var e,n=(t.workbookRels||[]).reduce((function(t,e){return t[e.Id]=e,t}),{}),o=[],a=0;(t.sheets||[]).forEach((function(i){var r=n[i.rId];r&&(e=t.worksheetHash["xl/"+r.Target.replace(/^(\s|\/xl\/)+/,"")])&&(e.name=i.name,e.id=i.id,e.state=i.state,o[a++]=e)}));var s=[];i.each(t.definedNames,(function(t){if("_xlnm.Print_Area"===t.name){if(e=o[t.localSheetId]){e.pageSetup||(e.pageSetup={});var n=r.decodeEx(t.ranges[0]);e.pageSetup.printArea=e.pageSetup.printArea?"".concat(e.pageSetup.printArea,"&&").concat(n.dimensions):n.dimensions}}else if("_xlnm.Print_Titles"===t.name){if(e=o[t.localSheetId]){e.pageSetup||(e.pageSetup={});var i=t.ranges.join(","),a=/\$/g,l=i.match(/\$\d+:\$\d+/);if(l&&l.length){var u=l[0];e.pageSetup.printTitlesRow=u.replace(a,"")}var h=i.match(/\$[A-Z]+:\$[A-Z]+/);if(h&&h.length){var c=h[0];e.pageSetup.printTitlesColumn=c.replace(a,"")}}}else s.push(t)})),t.definedNames=s,t.media.forEach((function(t,e){t.index=e}))}}]),n}(a);m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new s({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},e.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,e,n){"use strict";var i=t("../strings/rich-text-xform"),r=t("../../../utils/utils"),o=t("../base-xform"),a=e.exports=function(t){this.model=t};r.inherits(a,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render:function(t,e){var n=this;e=e||this.model,t.openNode("comment",{ref:e.ref,authorId:0}),t.openNode("text"),e&&e.note&&e.note.texts&&e.note.texts.forEach((function(e){n.richTextXform.render(t,e)})),t.closeNode(),t.closeNode()},parseOpen:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"comment":return this.model=f({type:"note",note:{texts:[]}},t.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(t),!0;default:return!1}},parseText:function(t){this.parser&&this.parser.parseText(t)},parseClose:function(t){switch(t){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=t("../../../utils/utils"),o=t("../base-xform"),a=t("./comment-xform"),s=e.exports=function(){this.map={comment:new a}};r.inherits(s,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render:function(t,e){var n=this;e=e||this.model,t.openXml(i.StdDocAttributes),t.openNode("comments",s.COMMENTS_ATTRIBUTES),t.openNode("authors"),t.leafNode("author",null,"Author"),t.closeNode(),t.openNode("commentList"),e.comments.forEach((function(e){n.map.comment.render(t,e)})),t.closeNode(),t.closeNode()},parseOpen:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(t),!0;default:return!1}},parseText:function(t){this.parser&&this.parser.parseText(t)},parseClose:function(t){switch(t){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,e,n){"use strict";var i=t("../../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this))._model=t,i}return y(n,[{key:"tag",get:function(){return this._model&&this._model.tag}},{key:"render",value:function(t,e,n){(e===n[2]||"x:SizeWithCells"===this.tag&&e===n[1])&&t.leafNode(this.tag)}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={},this.model[this.tag]=!0,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../../base-xform":32}],42:[function(t,e,n){"use strict";var i=t("../../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this))._model=t,i}return y(n,[{key:"tag",get:function(){return this._model&&this._model.tag}},{key:"render",value:function(t,e){t.leafNode(this.tag,null,e)}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.text="",!0)}},{key:"parseText",value:function(t){this.text=t}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../../base-xform":32}],43:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"x:Anchor"}},{key:"getAnchorRect",value:function(t){var e=Math.floor(t.left),n=Math.floor(68*(t.left-e)),i=Math.floor(t.top),r=Math.floor(18*(t.top-i)),o=Math.floor(t.right),a=Math.floor(68*(t.right-o)),s=Math.floor(t.bottom);return[e,n,i,r,o,a,s,Math.floor(18*(t.bottom-s))]}},{key:"getDefaultRect",value:function(t){var e=t.col,n=Math.max(t.row-2,0);return[e,6,n,14,e+2,2,n+4,16]}},{key:"render",value:function(t,e){var n=e.anchor?this.getAnchorRect(e.anchor):this.getDefaultRect(e.refAddress);t.leafNode("x:Anchor",null,n.join(", "))}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.text="",!0)}},{key:"parseText",value:function(t){this.text=t}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],44:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./vml-anchor-xform"),o=t("./style/vml-protection-xform"),a=t("./style/vml-position-xform"),s=["twoCells","oneCells","absolute"];e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"x:Anchor":new r,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new a({tag:"x:SizeWithCells"}),"x:MoveWithCells":new a({tag:"x:MoveWithCells"})},t}return y(n,[{key:"tag",get:function(){return"x:ClientData"}},{key:"render",value:function(t,e){var n=e.note,i=n.protection,r=n.editAs;t.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(t,r,s),this.map["x:SizeWithCells"].render(t,r,s),this.map["x:Anchor"].render(t,e),this.map["x:Locked"].render(t,i.locked),t.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(t,i.lockText),t.leafNode("x:Row",null,e.refAddress.row-1),t.leafNode("x:Column",null,e.refAddress.col-1),t.closeNode()}},{key:"parseOpen",value:function(t){return t.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.normalizeModel(),!1)}},{key:"normalizeModel",value:function(){var t=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),e=Object.keys(t).length;this.model.editAs=s[e],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}]),n}(i)},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=t("../base-xform"),o=t("./vml-shape-xform"),a=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"v:shape":new o},t}return y(n,[{key:"tag",get:function(){return"xml"}},{key:"render",value:function(t,e){var r=this;t.openXml(i.StdDocAttributes),t.openNode(this.tag,n.DRAWING_ATTRIBUTES),t.openNode("o:shapelayout",{"v:ext":"edit"}),t.leafNode("o:idmap",{"v:ext":"edit",data:1}),t.closeNode(),t.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),t.leafNode("v:stroke",{joinstyle:"miter"}),t.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),t.closeNode(),e.comments.forEach((function(e,n){r.map["v:shape"].render(t,e,n)})),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):t!==this.tag}},{key:"reconcile",value:function(t,e){var n=this;t.anchors.forEach((function(t){t.br?n.map["xdr:twoCellAnchor"].reconcile(t,e):n.map["xdr:oneCellAnchor"].reconcile(t,e)}))}}]),n}(r);a.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},e.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./vml-textbox-xform"),o=t("./vml-client-data-xform"),a=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"v:textbox":new r,"x:ClientData":new o},t}return y(n,[{key:"tag",get:function(){return"v:shape"}},{key:"render",value:function(t,e,i){t.openNode("v:shape",n.V_SHAPE_ATTRIBUTES(e,i)),t.leafNode("v:fill",{color2:"infoBackground [80]"}),t.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),t.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(t,e),this.map["x:ClientData"].render(t,e),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?(this.reset(),this.model={margins:{insetmode:t.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1)}}]),n}(i);a.V_SHAPE_ATTRIBUTES=function(t,e){return{id:"_x0000_s"+(1025+e),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":t.note.margins&&t.note.margins.insetmode}},e.exports=a},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"v:textbox"}},{key:"conversionUnit",value:function(t,e,n){return"".concat(parseFloat(t)*e.toFixed(2)).concat(n)}},{key:"reverseConversionUnit",value:function(t){var e=this;return(t||"").split(",").map((function(t){return Number(parseFloat(e.conversionUnit(parseFloat(t),.1,"")).toFixed(2))}))}},{key:"render",value:function(t,e){var n=this,i={style:"mso-direction-alt:auto"};if(e&&e.note){var r=(e.note&&e.note.margins).inset;Array.isArray(r)&&(r=r.map((function(t){return n.conversionUnit(t,10,"mm")})).join(",")),r&&(i.inset=r)}t.openNode("v:textbox",i),t.leafNode("div",{style:"text-align:left"}),t.closeNode()}},{key:"parseOpen",value:function(t){return t.name!==this.tag||(this.model={inset:this.reverseConversionUnit(t.attributes.inset)},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../base-xform":32}],48:[function(t,e,n){"use strict";var i=t("./base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"createNewModel",value:function(t){return{}}},{key:"parseOpen",value:function(t){return this.parser=this.parser||this.map[t.name],this.parser?(this.parser.parseOpen(t),!0):t.name===this.tag&&(this.model=this.createNewModel(t),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"onParserClose",value:function(t,e){this.model[t]=e.model}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.onParserClose(t,this.parser),this.parser=void 0),!0):t!==this.tag}}]),n}(i)},{"./base-xform":32}],49:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.openNode("HeadingPairs"),t.openNode("vt:vector",{size:2,baseType:"variant"}),t.openNode("vt:variant"),t.leafNode("vt:lpstr",void 0,"Worksheets"),t.closeNode(),t.openNode("vt:variant"),t.leafNode("vt:i4",void 0,e.length),t.closeNode(),t.closeNode(),t.closeNode()}},{key:"parseOpen",value:function(t){return"HeadingPairs"===t.name}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return"HeadingPairs"!==t}}]),n}(i)},{"../base-xform":32}],50:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.openNode("TitlesOfParts"),t.openNode("vt:vector",{size:e.length,baseType:"lpstr"}),e.forEach((function(e){t.leafNode("vt:lpstr",void 0,e.name)})),t.closeNode(),t.closeNode()}},{key:"parseOpen",value:function(t){return"TitlesOfParts"===t.name}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return"TitlesOfParts"!==t}}]),n}(i)},{"../base-xform":32}],51:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=t("../base-xform"),o=t("../simple/string-xform"),a=t("./app-heading-pairs-xform"),s=t("./app-titles-of-parts-xform"),l=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new a,TitleOfParts:new s},t}return y(n,[{key:"render",value:function(t,e){t.openXml(i.StdDocAttributes),t.openNode("Properties",n.PROPERTY_ATTRIBUTES),t.leafNode("Application",void 0,"Microsoft Excel"),t.leafNode("DocSecurity",void 0,"0"),t.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(t,e.worksheets),this.map.TitleOfParts.render(t,e.worksheets),this.map.Company.render(t,e.company||""),this.map.Manager.render(t,e.manager),t.leafNode("LinksUpToDate",void 0,"false"),t.leafNode("SharedDoc",void 0,"false"),t.leafNode("HyperlinksChanged",void 0,"false"),t.leafNode("AppVersion",void 0,"16.0300"),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):"Properties"===t.name||(this.parser=this.map[t.name],!!this.parser&&(this.parser.parseOpen(t),!0))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):"Properties"!==t||(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1)}}]),n}(r);l.DateFormat=function(t){return t.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.openXml(i.StdDocAttributes),t.openNode("Types",n.PROPERTY_ATTRIBUTES);var r={};(e.media||[]).forEach((function(e){if("image"===e.type){var n=e.extension;r[n]||(r[n]=!0,t.leafNode("Default",{Extension:n,ContentType:"image/"+n}))}})),t.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),t.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),t.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),e.worksheets.forEach((function(e){var n="/xl/worksheets/sheet".concat(e.id,".xml");t.leafNode("Override",{PartName:n,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})})),t.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),t.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),e.sharedStrings&&e.sharedStrings.count&&t.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),e.tables&&e.tables.forEach((function(e){t.leafNode("Override",{PartName:"/xl/tables/"+e.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})})),e.drawings&&e.drawings.forEach((function(e){t.leafNode("Override",{PartName:"/xl/drawings/".concat(e.name,".xml"),ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})})),e.commentRefs&&(t.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),e.commentRefs.forEach((function(e){var n=e.commentName;t.leafNode("Override",{PartName:"/xl/".concat(n,".xml"),ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})}))),t.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),t.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),t.closeNode()}},{key:"parseOpen",value:function(){return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(t("../base-xform"));r.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},e.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=t("../base-xform"),o=t("../simple/date-xform"),a=t("../simple/string-xform"),s=t("../simple/integer-xform"),l=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"dc:creator":new a({tag:"dc:creator"}),"dc:title":new a({tag:"dc:title"}),"dc:subject":new a({tag:"dc:subject"}),"dc:description":new a({tag:"dc:description"}),"dc:identifier":new a({tag:"dc:identifier"}),"dc:language":new a({tag:"dc:language"}),"cp:keywords":new a({tag:"cp:keywords"}),"cp:category":new a({tag:"cp:category"}),"cp:lastModifiedBy":new a({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:n.DateFormat}),"cp:revision":new s({tag:"cp:revision"}),"cp:version":new a({tag:"cp:version"}),"cp:contentStatus":new a({tag:"cp:contentStatus"}),"cp:contentType":new a({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:n.DateAttrs,format:n.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:n.DateAttrs,format:n.DateFormat})},t}return y(n,[{key:"render",value:function(t,e){t.openXml(i.StdDocAttributes),t.openNode("cp:coreProperties",n.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(t,e.creator),this.map["dc:title"].render(t,e.title),this.map["dc:subject"].render(t,e.subject),this.map["dc:description"].render(t,e.description),this.map["dc:identifier"].render(t,e.identifier),this.map["dc:language"].render(t,e.language),this.map["cp:keywords"].render(t,e.keywords),this.map["cp:category"].render(t,e.category),this.map["cp:lastModifiedBy"].render(t,e.lastModifiedBy),this.map["cp:lastPrinted"].render(t,e.lastPrinted),this.map["cp:revision"].render(t,e.revision),this.map["cp:version"].render(t,e.version),this.map["cp:contentStatus"].render(t,e.contentStatus),this.map["cp:contentType"].render(t,e.contentType),this.map["dcterms:created"].render(t,e.created),this.map["dcterms:modified"].render(t,e.modified),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[t.name],this.parser)return this.parser.parseOpen(t),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+t)}}}]),n}(r);l.DateFormat=function(t){return t.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"render",value:function(t,e){t.leafNode("Relationship",e)}},{key:"parseOpen",value:function(t){return"Relationship"===t.name&&(this.model=t.attributes,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],55:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=t("../base-xform"),o=t("./relationship-xform"),a=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={Relationship:new o},t}return y(n,[{key:"render",value:function(t,e){var r=this;e=e||this._values,t.openXml(i.StdDocAttributes),t.openNode("Relationships",n.RELATIONSHIPS_ATTRIBUTES),e.forEach((function(e){r.map.Relationship.render(t,e)})),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;if("Relationships"===t.name)return this.model=[],!0;if(this.parser=this.map[t.name],this.parser)return this.parser.parseOpen(t),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser)return this.parser.parseClose(t)||(this.model.push(this.parser.model),this.parser=void 0),!0;if("Relationships"===t)return!1;throw new Error("Unexpected xml node in parseClose: "+t)}}]),n}(r);a.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},e.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?(this.reset(),this.model={range:{editAs:t.attributes.editAs||"oneCell"}}):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"reconcilePicture",value:function(t,e){if(t&&t.rId){var n=e.rels[t.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(n){var i=n[1],r=e.mediaIndex[i];return e.media[r]}}}}]),n}(i)},{"../base-xform":32}],57:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./blip-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"a:blip":new r},t}return y(n,[{key:"tag",get:function(){return"xdr:blipFill"}},{key:"render",value:function(t,e){t.openNode(this.tag),this.map["a:blip"].render(t,e),t.openNode("a:stretch"),t.leafNode("a:fillRect"),t.closeNode(),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?this.reset():(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model=this.map["a:blip"].model,!1)}}]),n}(i)},{"../base-xform":32,"./blip-xform":58}],58:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"a:blip"}},{key:"render",value:function(t,e){t.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":e.rId,cstate:"print"})}},{key:"parseOpen",value:function(t){return t.name!==this.tag||(this.model={rId:t.attributes["r:embed"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../base-xform":32}],59:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"xdr:cNvPicPr"}},{key:"render",value:function(t){t.openNode(this.tag),t.leafNode("a:picLocks",{noChangeAspect:"1"}),t.closeNode()}},{key:"parseOpen",value:function(t){return t.name,this.tag,!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../base-xform":32}],60:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./hlink-click-xform"),o=t("./ext-lst-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"a:hlinkClick":new r,"a:extLst":new o},t}return y(n,[{key:"tag",get:function(){return"xdr:cNvPr"}},{key:"render",value:function(t,e){t.openNode(this.tag,{id:e.index,name:"Picture "+e.index}),this.map["a:hlinkClick"].render(t,e),this.map["a:extLst"].render(t,e),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?this.reset():(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model=this.map["a:hlinkClick"].model,!1)}}]),n}(i)},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("../simple/integer-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).tag=t.tag,i.map={"xdr:col":new r({tag:"xdr:col",zero:!0}),"xdr:colOff":new r({tag:"xdr:colOff",zero:!0}),"xdr:row":new r({tag:"xdr:row",zero:!0}),"xdr:rowOff":new r({tag:"xdr:rowOff",zero:!0})},i}return y(n,[{key:"render",value:function(t,e){t.openNode(this.tag),this.map["xdr:col"].render(t,e.nativeCol),this.map["xdr:colOff"].render(t,e.nativeColOff),this.map["xdr:row"].render(t,e.nativeRow),this.map["xdr:rowOff"].render(t,e.nativeRowOff),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?this.reset():(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1)}}]),n}(i)},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,e,n){"use strict";var i=t("../../../utils/col-cache"),r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("./two-cell-anchor-xform"),s=t("./one-cell-anchor-xform"),l=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"xdr:twoCellAnchor":new a,"xdr:oneCellAnchor":new s},t}return y(n,[{key:"prepare",value:function(t){var e=this;t.anchors.forEach((function(t,n){t.anchorType=function(t){return("string"==typeof t.range?i.decode(t.range):t.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(t),e.map[t.anchorType].prepare(t,{index:n})}))}},{key:"tag",get:function(){return"xdr:wsDr"}},{key:"render",value:function(t,e){var i=this;t.openXml(r.StdDocAttributes),t.openNode(this.tag,n.DRAWING_ATTRIBUTES),e.anchors.forEach((function(e){i.map[e.anchorType].render(t,e)})),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):t!==this.tag}},{key:"reconcile",value:function(t,e){var n=this;t.anchors.forEach((function(t){t.br?n.map["xdr:twoCellAnchor"].reconcile(t,e):n.map["xdr:oneCellAnchor"].reconcile(t,e)}))}}]),n}(o);l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},e.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"a:extLst"}},{key:"render",value:function(t){t.openNode(this.tag),t.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),t.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),t.closeNode(),t.closeNode()}},{key:"parseOpen",value:function(t){return t.name,this.tag,!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../base-xform":32}],64:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).tag=t.tag,i.map={},i}return y(n,[{key:"render",value:function(t,e){t.openNode(this.tag);var n=Math.floor(9525*e.width),i=Math.floor(9525*e.height);t.addAttribute("cx",n),t.addAttribute("cy",i),t.closeNode()}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={width:parseInt(t.attributes.cx||"0",10)/9525,height:parseInt(t.attributes.cy||"0",10)/9525},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],65:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"a:hlinkClick"}},{key:"render",value:function(t,e){e.hyperlinks&&e.hyperlinks.rId&&t.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":e.hyperlinks.rId,tooltip:e.hyperlinks.tooltip})}},{key:"parseOpen",value:function(t){return t.name!==this.tag||(this.model={hyperlinks:{rId:t.attributes["r:id"],tooltip:t.attributes.tooltip}},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],66:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./c-nv-pr-xform"),o=t("./c-nv-pic-pr-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"xdr:cNvPr":new r,"xdr:cNvPicPr":new o},t}return y(n,[{key:"tag",get:function(){return"xdr:nvPicPr"}},{key:"render",value:function(t,e){t.openNode(this.tag),this.map["xdr:cNvPr"].render(t,e),this.map["xdr:cNvPicPr"].render(t,e),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?this.reset():(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model=this.map["xdr:cNvPr"].model,!1)}}]),n}(i)},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,e,n){"use strict";var i=t("./base-cell-anchor-xform"),r=t("../static-xform"),o=t("./cell-position-xform"),a=t("./ext-xform"),s=t("./pic-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new a({tag:"xdr:ext"}),"xdr:pic":new s,"xdr:clientData":new r({tag:"xdr:clientData"})},t}return y(n,[{key:"tag",get:function(){return"xdr:oneCellAnchor"}},{key:"prepare",value:function(t,e){this.map["xdr:pic"].prepare(t.picture,e)}},{key:"render",value:function(t,e){t.openNode(this.tag,{editAs:e.range.editAs||"oneCell"}),this.map["xdr:from"].render(t,e.range.tl),this.map["xdr:ext"].render(t,e.range.ext),this.map["xdr:pic"].render(t,e.picture),this.map["xdr:clientData"].render(t,{}),t.closeNode()}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1)}},{key:"reconcile",value:function(t,e){t.medium=this.reconcilePicture(t.picture,e)}}]),n}(i)},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("../static-xform"),o=t("./blip-fill-xform"),a=t("./nv-pic-pr-xform"),s=t("./sp-pr");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"xdr:nvPicPr":new a,"xdr:blipFill":new o,"xdr:spPr":new r(s)},t}return y(n,[{key:"tag",get:function(){return"xdr:pic"}},{key:"prepare",value:function(t,e){t.index=e.index+1}},{key:"render",value:function(t,e){t.openNode(this.tag),this.map["xdr:nvPicPr"].render(t,e),this.map["xdr:blipFill"].render(t,e),this.map["xdr:spPr"].render(t,e),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):(t.name===this.tag?this.reset():(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):t!==this.tag}}]),n}(i)},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,e,n){"use strict";e.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,e,n){"use strict";var i=t("./base-cell-anchor-xform"),r=t("../static-xform"),o=t("./cell-position-xform"),a=t("./pic-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new a,"xdr:clientData":new r({tag:"xdr:clientData"})},t}return y(n,[{key:"tag",get:function(){return"xdr:twoCellAnchor"}},{key:"prepare",value:function(t,e){this.map["xdr:pic"].prepare(t.picture,e)}},{key:"render",value:function(t,e){t.openNode(this.tag,{editAs:e.range.editAs||"oneCell"}),this.map["xdr:from"].render(t,e.range.tl),this.map["xdr:to"].render(t,e.range.br),this.map["xdr:pic"].render(t,e.picture),this.map["xdr:clientData"].render(t,{}),t.closeNode()}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1)}},{key:"reconcile",value:function(t,e){t.medium=this.reconcilePicture(t.picture,e)}}]),n}(i)},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,e,n){"use strict";var i=t("./base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).tag=t.tag,i.always=!!t.always,i.count=t.count,i.empty=t.empty,i.$count=t.$count||"count",i.$=t.$,i.childXform=t.childXform,i.maxItems=t.maxItems,i}return y(n,[{key:"prepare",value:function(t,e){var n=this.childXform;t&&t.forEach((function(t,i){e.index=i,n.prepare(t,e)}))}},{key:"render",value:function(t,e){if(this.always||e&&e.length){t.openNode(this.tag,this.$),this.count&&t.addAttribute(this.$count,e&&e.length||0);var n=this.childXform;(e||[]).forEach((function(e,i){n.render(t,e,i)})),t.closeNode()}else this.empty&&t.leafNode(this.tag)}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):t.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(t)&&(this.parser=this.childXform,!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser){if(!this.parser.parseClose(t)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error("Max ".concat(this.childXform.tag," count (").concat(this.maxItems,") exceeded"));return!0}return!1}},{key:"reconcile",value:function(t,e){if(t){var n=this.childXform;t.forEach((function(t){n.reconcile(t,e)}))}}}]),n}(i)},{"./base-xform":32}],72:[function(t,e,n){"use strict";var i=t("../../../utils/col-cache"),r=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"autoFilter"}},{key:"render",value:function(t,e){if(e)if("string"==typeof e)t.leafNode("autoFilter",{ref:e});else{var n=function(t){return"string"==typeof t?t:i.getAddress(t.row,t.column).address},r=n(e.from),o=n(e.to);r&&o&&t.leafNode("autoFilter",{ref:"".concat(r,":").concat(o)})}}},{key:"parseOpen",value:function(t){"autoFilter"===t.name&&(this.model=t.attributes.ref)}}]),n}(r)},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,e,n){"use strict";var i=t("../../../utils/utils"),r=t("../base-xform"),o=t("../../../doc/range"),a=t("../../../doc/enums"),s=t("../strings/rich-text-xform");function l(t){if(null==t)return a.ValueType.Null;if(t instanceof String||"string"==typeof t)return a.ValueType.String;if("number"==typeof t)return a.ValueType.Number;if("boolean"==typeof t)return a.ValueType.Boolean;if(t instanceof Date)return a.ValueType.Date;if(t.text&&t.hyperlink)return a.ValueType.Hyperlink;if(t.formula)return a.ValueType.Formula;if(t.error)return a.ValueType.Error;throw new Error("I could not understand type of value")}e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).richTextXForm=new s,t}return y(n,[{key:"tag",get:function(){return"c"}},{key:"prepare",value:function(t,e){var n=e.styles.addStyleModel(t.style||{},function(t){return t.type===a.ValueType.Formula?l(t.result):t.type}(t));switch(n&&(t.styleId=n),t.comment&&e.comments.push(f(f({},t.comment),{},{ref:t.address})),t.type){case a.ValueType.String:case a.ValueType.RichText:e.sharedStrings&&(t.ssId=e.sharedStrings.add(t.value));break;case a.ValueType.Date:e.date1904&&(t.date1904=!0);break;case a.ValueType.Hyperlink:e.sharedStrings&&void 0!==t.text&&null!==t.text&&(t.ssId=e.sharedStrings.add(t.text)),e.hyperlinks.push({address:t.address,target:t.hyperlink,tooltip:t.tooltip});break;case a.ValueType.Merge:e.merges.add(t);break;case a.ValueType.Formula:if(e.date1904&&(t.date1904=!0),"shared"===t.shareType&&(t.si=e.siFormulae++),t.formula)e.formulae[t.address]=t;else if(t.sharedFormula){var i=e.formulae[t.sharedFormula];if(!i)throw new Error("Shared Formula master must exist above and or left of clone for cell "+t.address);void 0===i.si?(i.shareType="shared",i.si=e.siFormulae++,i.range=new o(i.address,t.address)):i.range&&i.range.expandToAddress(t.address),t.si=i.si}}}},{key:"renderFormula",value:function(t,e){var n=null;switch(e.shareType){case"shared":n={t:"shared",ref:e.ref||e.range.range,si:e.si};break;case"array":n={t:"array",ref:e.ref};break;default:void 0!==e.si&&(n={t:"shared",si:e.si})}switch(l(e.result)){case a.ValueType.Null:t.leafNode("f",n,e.formula);break;case a.ValueType.String:t.addAttribute("t","str"),t.leafNode("f",n,e.formula),t.leafNode("v",null,e.result);break;case a.ValueType.Number:t.leafNode("f",n,e.formula),t.leafNode("v",null,e.result);break;case a.ValueType.Boolean:t.addAttribute("t","b"),t.leafNode("f",n,e.formula),t.leafNode("v",null,e.result?1:0);break;case a.ValueType.Error:t.addAttribute("t","e"),t.leafNode("f",n,e.formula),t.leafNode("v",null,e.result.error);break;case a.ValueType.Date:t.leafNode("f",n,e.formula),t.leafNode("v",null,i.dateToExcel(e.result,e.date1904));break;default:throw new Error("I could not understand type of value")}}},{key:"render",value:function(t,e){var n=this;if(e.type!==a.ValueType.Null||e.styleId){switch(t.openNode("c"),t.addAttribute("r",e.address),e.styleId&&t.addAttribute("s",e.styleId),e.type){case a.ValueType.Null:break;case a.ValueType.Number:t.leafNode("v",null,e.value);break;case a.ValueType.Boolean:t.addAttribute("t","b"),t.leafNode("v",null,e.value?"1":"0");break;case a.ValueType.Error:t.addAttribute("t","e"),t.leafNode("v",null,e.value.error);break;case a.ValueType.String:case a.ValueType.RichText:void 0!==e.ssId?(t.addAttribute("t","s"),t.leafNode("v",null,e.ssId)):e.value&&e.value.richText?(t.addAttribute("t","inlineStr"),t.openNode("is"),e.value.richText.forEach((function(e){n.richTextXForm.render(t,e)})),t.closeNode("is")):(t.addAttribute("t","str"),t.leafNode("v",null,e.value));break;case a.ValueType.Date:t.leafNode("v",null,i.dateToExcel(e.value,e.date1904));break;case a.ValueType.Hyperlink:void 0!==e.ssId?(t.addAttribute("t","s"),t.leafNode("v",null,e.ssId)):(t.addAttribute("t","str"),t.leafNode("v",null,e.text));break;case a.ValueType.Formula:this.renderFormula(t,e);case a.ValueType.Merge:}t.closeNode()}}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"c":return this.model={address:t.attributes.r},this.t=t.attributes.t,t.attributes.s&&(this.model.styleId=parseInt(t.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=t.attributes.si,this.model.shareType=t.attributes.t,this.model.ref=t.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(t),!0;default:return!1}}},{key:"parseText",value:function(t){if(this.parser)this.parser.parseText(t);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+t:t;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+t:t:this.model.value=this.model.value?this.model.value+t:t}}},{key:"parseClose",value:function(t){switch(t){case"c":var e=this.model;if(e.formula||e.shareType)e.type=a.ValueType.Formula,e.value&&("str"===this.t?e.result=i.xmlDecode(e.value):"b"===this.t?e.result=0!==parseInt(e.value,10):"e"===this.t?e.result={error:e.value}:e.result=parseFloat(e.value),e.value=void 0);else if(void 0!==e.value)switch(this.t){case"s":e.type=a.ValueType.String,e.value=parseInt(e.value,10);break;case"str":e.type=a.ValueType.String,e.value=i.xmlDecode(e.value);break;case"inlineStr":e.type=a.ValueType.String;break;case"b":e.type=a.ValueType.Boolean,e.value=0!==parseInt(e.value,10);break;case"e":e.type=a.ValueType.Error,e.value={error:e.value};break;default:e.type=a.ValueType.Number,e.value=parseFloat(e.value)}else e.styleId?e.type=a.ValueType.Null:e.type=a.ValueType.Merge;return!1;case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(t),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(t),!0)}}},{key:"reconcile",value:function(t,e){var n=t.styleId&&e.styles&&e.styles.getStyleModel(t.styleId);switch(n&&(t.style=n),void 0!==t.styleId&&(t.styleId=void 0),t.type){case a.ValueType.String:"number"==typeof t.value&&e.sharedStrings&&(t.value=e.sharedStrings.getString(t.value)),t.value.richText&&(t.type=a.ValueType.RichText);break;case a.ValueType.Number:n&&i.isDateFmt(n.numFmt)&&(t.type=a.ValueType.Date,t.value=i.excelToDate(t.value,e.date1904));break;case a.ValueType.Formula:void 0!==t.result&&n&&i.isDateFmt(n.numFmt)&&(t.result=i.excelToDate(t.result,e.date1904)),"shared"===t.shareType&&(t.ref?e.formulae[t.si]=t.address:(t.sharedFormula=e.formulae[t.si],delete t.shareType),delete t.si)}var r=e.hyperlinkMap[t.address];r&&(t.type===a.ValueType.Formula?(t.text=t.result,t.result=void 0):(t.text=t.value,t.value=void 0),t.type=a.ValueType.Hyperlink,t.hyperlink=r);var o=e.commentsMap&&e.commentsMap[t.address];o&&(t.comment=o)}}]),n}(r)},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,e,n){"use strict";var i=t("../../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"x14:cfIcon"}},{key:"render",value:function(t,e){t.leafNode(this.tag,{iconSet:e.iconSet,iconId:e.iconId})}},{key:"parseOpen",value:function(t){var e=t.attributes;this.model={iconSet:e.iconSet,iconId:i.toIntValue(e.iconId)}}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../../base-xform":32}],75:[function(t,e,n){"use strict";var i=t("uuid").v4,r=t("../../base-xform"),o=t("../../composite-xform"),a=t("./databar-ext-xform"),s=t("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},c=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"x14:dataBar":t.databarXform=new a,"x14:iconSet":t.iconSetXform=new s},t}return y(n,[{key:"tag",get:function(){return"x14:cfRule"}},{key:"prepare",value:function(t){n.isExt(t)&&(t.x14Id="{".concat(i(),"}").toUpperCase())}},{key:"render",value:function(t,e){if(n.isExt(e))switch(e.type){case"dataBar":this.renderDataBar(t,e);break;case"iconSet":this.renderIconSet(t,e)}}},{key:"renderDataBar",value:function(t,e){t.openNode(this.tag,{type:"dataBar",id:e.x14Id}),this.databarXform.render(t,e),t.closeNode()}},{key:"renderIconSet",value:function(t,e){t.openNode(this.tag,{type:"iconSet",priority:e.priority,id:e.x14Id||"{".concat(i(),"}")}),this.iconSetXform.render(t,e),t.closeNode()}},{key:"createNewModel",value:function(t){var e=t.attributes;return{type:e.type,x14Id:e.id,priority:r.toIntValue(e.priority)}}},{key:"onParserClose",value:function(t,e){Object.assign(this.model,e.model)}}],[{key:"isExt",value:function(t){return"dataBar"===t.type?a.isExt(t):!("iconSet"!==t.type||!t.custom&&!l[t.iconSet])}}]),n}(o);e.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,e,n){"use strict";var i=t("../../composite-xform"),r=t("./f-ext-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"xm:f":t.fExtXform=new r},t}return y(n,[{key:"tag",get:function(){return"x14:cfvo"}},{key:"render",value:function(t,e){t.openNode(this.tag,{type:e.type}),void 0!==e.value&&this.fExtXform.render(t,e.value),t.closeNode()}},{key:"createNewModel",value:function(t){return{type:t.attributes.type}}},{key:"onParserClose",value:function(t,e){"xm:f"===t&&(this.model.value=e.model?parseFloat(e.model):0)}}]),n}(i)},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,e,n){"use strict";var i=t("../../composite-xform"),r=t("./sqref-ext-xform"),o=t("./cf-rule-ext-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"xm:sqref":t.sqRef=new r,"x14:cfRule":t.cfRule=new o},t}return y(n,[{key:"tag",get:function(){return"x14:conditionalFormatting"}},{key:"prepare",value:function(t,e){var n=this;t.rules.forEach((function(t){n.cfRule.prepare(t,e)}))}},{key:"render",value:function(t,e){var n=this;e.rules.some(o.isExt)&&(t.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),e.rules.filter(o.isExt).forEach((function(e){return n.cfRule.render(t,e)})),this.sqRef.render(t,e.ref),t.closeNode())}},{key:"createNewModel",value:function(){return{rules:[]}}},{key:"onParserClose",value:function(t,e){switch(t){case"xm:sqref":this.model.ref=e.model;break;case"x14:cfRule":this.model.rules.push(e.model)}}}]),n}(i)},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,e,n){"use strict";var i=t("../../composite-xform"),r=t("./cf-rule-ext-xform"),o=t("./conditional-formatting-ext-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"x14:conditionalFormatting":t.cfXform=new o},t}return y(n,[{key:"tag",get:function(){return"x14:conditionalFormattings"}},{key:"hasContent",value:function(t){return void 0===t.hasExtContent&&(t.hasExtContent=t.some((function(t){return t.rules.some(r.isExt)}))),t.hasExtContent}},{key:"prepare",value:function(t,e){var n=this;t.forEach((function(t){n.cfXform.prepare(t,e)}))}},{key:"render",value:function(t,e){var n=this;this.hasContent(e)&&(t.openNode(this.tag),e.forEach((function(e){return n.cfXform.render(t,e)})),t.closeNode())}},{key:"createNewModel",value:function(){return[]}},{key:"onParserClose",value:function(t,e){this.model.push(e.model)}}]),n}(i)},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,e,n){"use strict";var i=t("../../base-xform"),r=t("../../composite-xform"),o=t("../../style/color-xform"),a=t("./cfvo-ext-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"x14:cfvo":t.cfvoXform=new a,"x14:borderColor":t.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":t.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":t.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":t.axisColorXform=new o("x14:axisColor")},t}return y(n,[{key:"tag",get:function(){return"x14:dataBar"}},{key:"render",value:function(t,e){var n=this;t.openNode(this.tag,{minLength:i.toIntAttribute(e.minLength,0,!0),maxLength:i.toIntAttribute(e.maxLength,100,!0),border:i.toBoolAttribute(e.border,!1),gradient:i.toBoolAttribute(e.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(e.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(e.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(e.axisPosition,"auto"),direction:i.toAttribute(e.direction,"leftToRight")}),e.cfvo.forEach((function(e){n.cfvoXform.render(t,e)})),this.borderColorXform.render(t,e.borderColor),this.negativeBorderColorXform.render(t,e.negativeBorderColor),this.negativeFillColorXform.render(t,e.negativeFillColor),this.axisColorXform.render(t,e.axisColor),t.closeNode()}},{key:"createNewModel",value:function(t){var e=t.attributes;return{cfvo:[],minLength:i.toIntValue(e.minLength,0),maxLength:i.toIntValue(e.maxLength,100),border:i.toBoolValue(e.border,!1),gradient:i.toBoolValue(e.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(e.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(e.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(e.axisPosition,"auto"),direction:i.toStringValue(e.direction,"leftToRight")}}},{key:"onParserClose",value:function(t,e){var n=t.split(":"),i=d(n,2)[1];"cfvo"===i?this.model.cfvo.push(e.model):this.model[i]=e.model}}],[{key:"isExt",value:function(t){return!t.gradient}}]),n}(r)},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,e,n){"use strict";var i=t("../../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"xm:f"}},{key:"render",value:function(t,e){t.leafNode(this.tag,null,e)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(t){this.model+=t}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../../base-xform":32}],81:[function(t,e,n){"use strict";var i=t("../../base-xform"),r=t("../../composite-xform"),o=t("./cfvo-ext-xform"),a=t("./cf-icon-ext-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"x14:cfvo":t.cfvoXform=new o,"x14:cfIcon":t.cfIconXform=new a},t}return y(n,[{key:"tag",get:function(){return"x14:iconSet"}},{key:"render",value:function(t,e){var n=this;t.openNode(this.tag,{iconSet:i.toStringAttribute(e.iconSet),reverse:i.toBoolAttribute(e.reverse,!1),showValue:i.toBoolAttribute(e.showValue,!0),custom:i.toBoolAttribute(e.icons,!1)}),e.cfvo.forEach((function(e){n.cfvoXform.render(t,e)})),e.icons&&e.icons.forEach((function(e,i){e.iconId=i,n.cfIconXform.render(t,e)})),t.closeNode()}},{key:"createNewModel",value:function(t){var e=t.attributes;return{cfvo:[],iconSet:i.toStringValue(e.iconSet,"3TrafficLights"),reverse:i.toBoolValue(e.reverse,!1),showValue:i.toBoolValue(e.showValue,!0)}}},{key:"onParserClose",value:function(t,e){var n=t.split(":"),i=d(n,2)[1];switch(i){case"cfvo":this.model.cfvo.push(e.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(e.model);break;default:this.model[i]=e.model}}}]),n}(r)},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,e,n){"use strict";var i=t("../../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"xm:sqref"}},{key:"render",value:function(t,e){t.leafNode(this.tag,null,e)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(t){this.model+=t}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../../base-xform":32}],83:[function(t,e,n){"use strict";var i=t("../../base-xform"),r=t("../../composite-xform"),o=t("../../../../doc/range"),a=t("./databar-xform"),s=t("./ext-lst-ref-xform"),l=t("./formula-xform"),c=t("./color-scale-xform"),d=t("./icon-set-xform"),p={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={dataBar:t.databarXform=new a,extLst:t.extLstRefXform=new s,formula:t.formulaXform=new l,colorScale:t.colorScaleXform=new c,iconSet:t.iconSetXform=new d},t}return y(n,[{key:"tag",get:function(){return"cfRule"}},{key:"render",value:function(t,e){switch(e.type){case"expression":this.renderExpression(t,e);break;case"cellIs":this.renderCellIs(t,e);break;case"top10":this.renderTop10(t,e);break;case"aboveAverage":this.renderAboveAverage(t,e);break;case"dataBar":this.renderDataBar(t,e);break;case"colorScale":this.renderColorScale(t,e);break;case"iconSet":this.renderIconSet(t,e);break;case"containsText":this.renderText(t,e);break;case"timePeriod":this.renderTimePeriod(t,e)}}},{key:"renderExpression",value:function(t,e){t.openNode(this.tag,{type:"expression",dxfId:e.dxfId,priority:e.priority}),this.formulaXform.render(t,e.formulae[0]),t.closeNode()}},{key:"renderCellIs",value:function(t,e){var n=this;t.openNode(this.tag,{type:"cellIs",dxfId:e.dxfId,priority:e.priority,operator:e.operator}),e.formulae.forEach((function(e){n.formulaXform.render(t,e)})),t.closeNode()}},{key:"renderTop10",value:function(t,e){t.leafNode(this.tag,{type:"top10",dxfId:e.dxfId,priority:e.priority,percent:i.toBoolAttribute(e.percent,!1),bottom:i.toBoolAttribute(e.bottom,!1),rank:i.toIntValue(e.rank,10,!0)})}},{key:"renderAboveAverage",value:function(t,e){t.leafNode(this.tag,{type:"aboveAverage",dxfId:e.dxfId,priority:e.priority,aboveAverage:i.toBoolAttribute(e.aboveAverage,!0)})}},{key:"renderDataBar",value:function(t,e){t.openNode(this.tag,{type:"dataBar",priority:e.priority}),this.databarXform.render(t,e),this.extLstRefXform.render(t,e),t.closeNode()}},{key:"renderColorScale",value:function(t,e){t.openNode(this.tag,{type:"colorScale",priority:e.priority}),this.colorScaleXform.render(t,e),t.closeNode()}},{key:"renderIconSet",value:function(t,e){n.isPrimitive(e)&&(t.openNode(this.tag,{type:"iconSet",priority:e.priority}),this.iconSetXform.render(t,e),t.closeNode())}},{key:"renderText",value:function(t,e){t.openNode(this.tag,{type:e.operator,dxfId:e.dxfId,priority:e.priority,operator:i.toStringAttribute(e.operator,"containsText")});var n=function(t){if(t.formulae&&t.formulae[0])return t.formulae[0];var e=new o(t.ref).tl;switch(t.operator){case"containsText":return'NOT(ISERROR(SEARCH("'.concat(t.text,'",').concat(e,")))");case"containsBlanks":return"LEN(TRIM(".concat(e,"))=0");case"notContainsBlanks":return"LEN(TRIM(".concat(e,"))>0");case"containsErrors":return"ISERROR(".concat(e,")");case"notContainsErrors":return"NOT(ISERROR(".concat(e,"))");default:return}}(e);n&&this.formulaXform.render(t,n),t.closeNode()}},{key:"renderTimePeriod",value:function(t,e){t.openNode(this.tag,{type:"timePeriod",dxfId:e.dxfId,priority:e.priority,timePeriod:e.timePeriod});var n=function(t){if(t.formulae&&t.formulae[0])return t.formulae[0];var e=new o(t.ref).tl;switch(t.timePeriod){case"thisWeek":return"AND(TODAY()-ROUNDDOWN(".concat(e,",0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(").concat(e,",0)-TODAY()<=7-WEEKDAY(TODAY()))");case"lastWeek":return"AND(TODAY()-ROUNDDOWN(".concat(e,",0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(").concat(e,",0)<(WEEKDAY(TODAY())+7))");case"nextWeek":return"AND(ROUNDDOWN(".concat(e,",0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(").concat(e,",0)-TODAY()<(15-WEEKDAY(TODAY())))");case"yesterday":return"FLOOR(".concat(e,",1)=TODAY()-1");case"today":return"FLOOR(".concat(e,",1)=TODAY()");case"tomorrow":return"FLOOR(".concat(e,",1)=TODAY()+1");case"last7Days":return"AND(TODAY()-FLOOR(".concat(e,",1)<=6,FLOOR(").concat(e,",1)<=TODAY())");case"lastMonth":return"AND(MONTH(".concat(e,")=MONTH(EDATE(TODAY(),0-1)),YEAR(").concat(e,")=YEAR(EDATE(TODAY(),0-1)))");case"thisMonth":return"AND(MONTH(".concat(e,")=MONTH(TODAY()),YEAR(").concat(e,")=YEAR(TODAY()))");case"nextMonth":return"AND(MONTH(".concat(e,")=MONTH(EDATE(TODAY(),0+1)),YEAR(").concat(e,")=YEAR(EDATE(TODAY(),0+1)))");default:return}}(e);n&&this.formulaXform.render(t,n),t.closeNode()}},{key:"createNewModel",value:function(t){var e=t.attributes;return f(f({},function(t){var e=t.type,n=t.operator;switch(e){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:e};default:return{type:e,operator:n}}}(e)),{},{dxfId:i.toIntValue(e.dxfId),priority:i.toIntValue(e.priority),timePeriod:e.timePeriod,percent:i.toBoolValue(e.percent),bottom:i.toBoolValue(e.bottom),rank:i.toIntValue(e.rank),aboveAverage:i.toBoolValue(e.aboveAverage)})}},{key:"onParserClose",value:function(t,e){switch(t){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,e.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(e.model)}}}],[{key:"isPrimitive",value:function(t){return"iconSet"!==t.type||!t.custom&&!p[t.iconSet]}}]),n}(r);e.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,e,n){"use strict";var i=t("../../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"cfvo"}},{key:"render",value:function(t,e){t.leafNode(this.tag,{type:e.type,val:e.value})}},{key:"parseOpen",value:function(t){this.model={type:t.attributes.type,value:i.toFloatValue(t.attributes.val)}}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../../base-xform":32}],85:[function(t,e,n){"use strict";var i=t("../../composite-xform"),r=t("../../style/color-xform"),o=t("./cfvo-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={cfvo:t.cfvoXform=new o,color:t.colorXform=new r},t}return y(n,[{key:"tag",get:function(){return"colorScale"}},{key:"render",value:function(t,e){var n=this;t.openNode(this.tag),e.cfvo.forEach((function(e){n.cfvoXform.render(t,e)})),e.color.forEach((function(e){n.colorXform.render(t,e)})),t.closeNode()}},{key:"createNewModel",value:function(t){return{cfvo:[],color:[]}}},{key:"onParserClose",value:function(t,e){this.model[t].push(e.model)}}]),n}(i)},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,e,n){"use strict";var i=t("../../composite-xform"),r=t("./cf-rule-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={cfRule:new r},t}return y(n,[{key:"tag",get:function(){return"conditionalFormatting"}},{key:"render",value:function(t,e){var n=this;e.rules.some(r.isPrimitive)&&(t.openNode(this.tag,{sqref:e.ref}),e.rules.forEach((function(i){r.isPrimitive(i)&&(i.ref=e.ref,n.map.cfRule.render(t,i))})),t.closeNode())}},{key:"createNewModel",value:function(t){return{ref:t.attributes.sqref,rules:[]}}},{key:"onParserClose",value:function(t,e){this.model.rules.push(e.model)}}]),n}(i)},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,e,n){"use strict";var i=t("../../base-xform"),r=t("./conditional-formatting-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).cfXform=new r,t}return y(n,[{key:"tag",get:function(){return"conditionalFormatting"}},{key:"reset",value:function(){this.model=[]}},{key:"prepare",value:function(t,e){var n=t.reduce((function(t,e){return Math.max.apply(Math,[t].concat(p(e.rules.map((function(t){return t.priority||0})))))}),1);t.forEach((function(t){t.rules.forEach((function(t){t.priority||(t.priority=n++),t.style&&(t.dxfId=e.styles.addDxfStyle(t.style))}))}))}},{key:"render",value:function(t,e){var n=this;e.forEach((function(e){n.cfXform.render(t,e)}))}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):"conditionalFormatting"===t.name&&(this.parser=this.cfXform,this.parser.parseOpen(t),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return!(!this.parser||!this.parser.parseClose(t)&&(this.model.push(this.parser.model),this.parser=void 0,1))}},{key:"reconcile",value:function(t,e){t.forEach((function(t){t.rules.forEach((function(t){void 0!==t.dxfId&&(t.style=e.styles.getDxfStyle(t.dxfId),delete t.dxfId)}))}))}}]),n}(i)},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,e,n){"use strict";var i=t("../../composite-xform"),r=t("../../style/color-xform"),o=t("./cfvo-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={cfvo:t.cfvoXform=new o,color:t.colorXform=new r},t}return y(n,[{key:"tag",get:function(){return"dataBar"}},{key:"render",value:function(t,e){var n=this;t.openNode(this.tag),e.cfvo.forEach((function(e){n.cfvoXform.render(t,e)})),this.colorXform.render(t,e.color),t.closeNode()}},{key:"createNewModel",value:function(){return{cfvo:[]}}},{key:"onParserClose",value:function(t,e){switch(t){case"cfvo":this.model.cfvo.push(e.model);break;case"color":this.model.color=e.model}}}]),n}(i)},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,e,n){"use strict";var i=t("../../base-xform"),r=t("../../composite-xform"),o=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"x14:id"}},{key:"render",value:function(t,e){t.leafNode(this.tag,null,e)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(t){this.model+=t}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i),a=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"x14:id":t.idXform=new o},t}return y(n,[{key:"tag",get:function(){return"ext"}},{key:"render",value:function(t,e){t.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(t,e.x14Id),t.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(t,e){this.model.x14Id=e.model}}]),n}(r);e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={ext:new a},t}return y(n,[{key:"tag",get:function(){return"extLst"}},{key:"render",value:function(t,e){t.openNode(this.tag),this.map.ext.render(t,e),t.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(t,e){Object.assign(this.model,e.model)}}]),n}(r)},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,e,n){"use strict";var i=t("../../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"formula"}},{key:"render",value:function(t,e){t.leafNode(this.tag,null,e)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(t){this.model+=t}},{key:"parseClose",value:function(t){return t!==this.tag}}]),n}(i)},{"../../base-xform":32}],91:[function(t,e,n){"use strict";var i=t("../../base-xform"),r=t("../../composite-xform"),o=t("./cfvo-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={cfvo:t.cfvoXform=new o},t}return y(n,[{key:"tag",get:function(){return"iconSet"}},{key:"render",value:function(t,e){var n=this;t.openNode(this.tag,{iconSet:i.toStringAttribute(e.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(e.reverse,!1),showValue:i.toBoolAttribute(e.showValue,!0)}),e.cfvo.forEach((function(e){n.cfvoXform.render(t,e)})),t.closeNode()}},{key:"createNewModel",value:function(t){var e=t.attributes;return{iconSet:i.toStringValue(e.iconSet,"3TrafficLights"),reverse:i.toBoolValue(e.reverse),showValue:i.toBoolValue(e.showValue),cfvo:[]}}},{key:"onParserClose",value:function(t,e){this.model[t].push(e.model)}}]),n}(r)},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,e,n){"use strict";var i=t("../../../utils/utils"),r=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"col"}},{key:"prepare",value:function(t,e){var n=e.styles.addStyleModel(t.style||{});n&&(t.styleId=n)}},{key:"render",value:function(t,e){t.openNode("col"),t.addAttribute("min",e.min),t.addAttribute("max",e.max),e.width&&t.addAttribute("width",e.width),e.styleId&&t.addAttribute("style",e.styleId),e.hidden&&t.addAttribute("hidden","1"),e.bestFit&&t.addAttribute("bestFit","1"),e.outlineLevel&&t.addAttribute("outlineLevel",e.outlineLevel),e.collapsed&&t.addAttribute("collapsed","1"),t.addAttribute("customWidth","1"),t.closeNode()}},{key:"parseOpen",value:function(t){if("col"===t.name){var e=this.model={min:parseInt(t.attributes.min||"0",10),max:parseInt(t.attributes.max||"0",10),width:void 0===t.attributes.width?void 0:parseFloat(t.attributes.width||"0")};return t.attributes.style&&(e.styleId=parseInt(t.attributes.style,10)),i.parseBoolean(t.attributes.hidden)&&(e.hidden=!0),i.parseBoolean(t.attributes.bestFit)&&(e.bestFit=!0),t.attributes.outlineLevel&&(e.outlineLevel=parseInt(t.attributes.outlineLevel,10)),i.parseBoolean(t.attributes.collapsed)&&(e.collapsed=!0),!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"reconcile",value:function(t,e){t.styleId&&(t.style=e.styles.getStyleModel(t.styleId))}}]),n}(r)},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../../../utils/utils"),o=t("../../../utils/col-cache"),a=t("../base-xform"),s=t("../../../doc/range");function l(t,e,n,i){var r=e[n];void 0!==r?t[n]=r:void 0!==i&&(t[n]=i)}function c(t,e,n,i){var o=e[n];void 0!==o?t[n]=r.parseBoolean(o):void 0!==i&&(t[n]=i)}e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"dataValidations"}},{key:"render",value:function(t,e){var n=function(t){var e=i.map(t,(function(t,e){return{address:e,dataValidation:t,marked:!1}})).sort((function(t,e){return i.strcmp(t.address,e.address)})),n=i.keyBy(e,"address"),r=function(e,n,r){for(var a=0;a<n;a++){var s=o.encodeAddress(e.row+a,r);if(!t[s]||!i.isEqual(t[e.address],t[s]))return!1}return!0};return e.map((function(e){if(!e.marked){var a=o.decodeEx(e.address);if(a.dimensions)return n[a.dimensions].marked=!0,f(f({},e.dataValidation),{},{sqref:e.address});for(var s=1,l=o.encodeAddress(a.row+s,a.col);t[l]&&i.isEqual(e.dataValidation,t[l]);)s++,l=o.encodeAddress(a.row+s,a.col);for(var u=1;r(a,s,a.col+u);)u++;for(var h=0;h<s;h++)for(var c=0;c<u;c++)l=o.encodeAddress(a.row+h,a.col+c),n[l].marked=!0;if(s>1||u>1){var d=a.row+(s-1),p=a.col+(u-1);return f(f({},e.dataValidation),{},{sqref:"".concat(e.address,":").concat(o.encodeAddress(d,p))})}return f(f({},e.dataValidation),{},{sqref:e.address})}return null})).filter(Boolean)}(e);n.length&&(t.openNode("dataValidations",{count:n.length}),n.forEach((function(e){t.openNode("dataValidation"),"any"!==e.type&&(t.addAttribute("type",e.type),e.operator&&"list"!==e.type&&"between"!==e.operator&&t.addAttribute("operator",e.operator),e.allowBlank&&t.addAttribute("allowBlank","1")),e.showInputMessage&&t.addAttribute("showInputMessage","1"),e.promptTitle&&t.addAttribute("promptTitle",e.promptTitle),e.prompt&&t.addAttribute("prompt",e.prompt),e.showErrorMessage&&t.addAttribute("showErrorMessage","1"),e.errorStyle&&t.addAttribute("errorStyle",e.errorStyle),e.errorTitle&&t.addAttribute("errorTitle",e.errorTitle),e.error&&t.addAttribute("error",e.error),t.addAttribute("sqref",e.sqref),(e.formulae||[]).forEach((function(n,i){t.openNode("formula"+(i+1)),"date"===e.type?t.writeText(r.dateToExcel(new Date(n))):t.writeText(n),t.closeNode()})),t.closeNode()})),t.closeNode())}},{key:"parseOpen",value:function(t){switch(t.name){case"dataValidations":return this.model={},!0;case"dataValidation":this._address=t.attributes.sqref;var e={type:t.attributes.type||"any",formulae:[]};switch(t.attributes.type&&c(e,t.attributes,"allowBlank"),c(e,t.attributes,"showInputMessage"),c(e,t.attributes,"showErrorMessage"),e.type){case"any":case"list":case"custom":break;default:l(e,t.attributes,"operator","between")}return l(e,t.attributes,"promptTitle"),l(e,t.attributes,"prompt"),l(e,t.attributes,"errorStyle"),l(e,t.attributes,"errorTitle"),l(e,t.attributes,"error"),this._dataValidation=e,!0;case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}},{key:"parseText",value:function(t){this._formula&&this._formula.push(t)}},{key:"parseClose",value:function(t){var e=this;switch(t){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach((function(t){t.includes(":")?new s(t).forEachAddress((function(t){e.model[t]=e._dataValidation})):e.model[t]=e._dataValidation})),!0;case"formula1":case"formula2":var n=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":n=parseInt(n,10);break;case"decimal":n=parseFloat(n);break;case"date":n=r.excelToDate(parseFloat(n))}return this._dataValidation.formulae.push(n),this._formula=void 0,!0;default:return!0}}}]),n}(a)},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"dimension"}},{key:"render",value:function(t,e){e&&t.leafNode("dimension",{ref:e})}},{key:"parseOpen",value:function(t){return"dimension"===t.name&&(this.model=t.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],95:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"drawing"}},{key:"render",value:function(t,e){e&&t.leafNode(this.tag,{"r:id":e.rId})}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={rId:t.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],96:[function(t,e,n){"use strict";var i=t("../composite-xform"),r=t("./cf-ext/conditional-formattings-ext-xform"),o=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={"x14:conditionalFormattings":t.conditionalFormattings=new r},t}return y(n,[{key:"tag",get:function(){return"ext"}},{key:"hasContent",value:function(t){return this.conditionalFormattings.hasContent(t.conditionalFormattings)}},{key:"prepare",value:function(t,e){this.conditionalFormattings.prepare(t.conditionalFormattings,e)}},{key:"render",value:function(t,e){t.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(t,e.conditionalFormattings),t.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(t,e){this.model[t]=e.model}}]),n}(i);e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={ext:t.ext=new o},t}return y(n,[{key:"tag",get:function(){return"extLst"}},{key:"prepare",value:function(t,e){this.ext.prepare(t,e)}},{key:"hasContent",value:function(t){return this.ext.hasContent(t)}},{key:"render",value:function(t,e){this.hasContent(e)&&(t.openNode("extLst"),this.ext.render(t,e),t.closeNode())}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(t,e){Object.assign(this.model,e.model)}}]),n}(i)},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"headerFooter"}},{key:"render",value:function(t,e){if(e){t.addRollback();var n=!1;t.openNode("headerFooter"),e.differentFirst&&(t.addAttribute("differentFirst","1"),n=!0),e.differentOddEven&&(t.addAttribute("differentOddEven","1"),n=!0),e.oddHeader&&"string"==typeof e.oddHeader&&(t.leafNode("oddHeader",null,e.oddHeader),n=!0),e.oddFooter&&"string"==typeof e.oddFooter&&(t.leafNode("oddFooter",null,e.oddFooter),n=!0),e.evenHeader&&"string"==typeof e.evenHeader&&(t.leafNode("evenHeader",null,e.evenHeader),n=!0),e.evenFooter&&"string"==typeof e.evenFooter&&(t.leafNode("evenFooter",null,e.evenFooter),n=!0),e.firstHeader&&"string"==typeof e.firstHeader&&(t.leafNode("firstHeader",null,e.firstHeader),n=!0),e.firstFooter&&"string"==typeof e.firstFooter&&(t.leafNode("firstFooter",null,e.firstFooter),n=!0),n?(t.closeNode(),t.commit()):t.rollback()}}},{key:"parseOpen",value:function(t){switch(t.name){case"headerFooter":return this.model={},t.attributes.differentFirst&&(this.model.differentFirst=1===parseInt(t.attributes.differentFirst,0)),t.attributes.differentOddEven&&(this.model.differentOddEven=1===parseInt(t.attributes.differentOddEven,0)),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}},{key:"parseText",value:function(t){switch(this.currentNode){case"oddHeader":this.model.oddHeader=t;break;case"oddFooter":this.model.oddFooter=t;break;case"evenHeader":this.model.evenHeader=t;break;case"evenFooter":this.model.evenFooter=t;break;case"firstHeader":this.model.firstHeader=t;break;case"firstFooter":this.model.firstFooter=t}}},{key:"parseClose",value:function(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}]),n}(i)},{"../base-xform":32}],98:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"hyperlink"}},{key:"render",value:function(t,e){this.isInternalLink(e)?t.leafNode("hyperlink",{ref:e.address,"r:id":e.rId,tooltip:e.tooltip,location:e.target}):t.leafNode("hyperlink",{ref:e.address,"r:id":e.rId,tooltip:e.tooltip})}},{key:"parseOpen",value:function(t){return"hyperlink"===t.name&&(this.model={address:t.attributes.ref,rId:t.attributes["r:id"],tooltip:t.attributes.tooltip},t.attributes.location&&(this.model.target=t.attributes.location),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"isInternalLink",value:function(t){return t.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(t.target)}}]),n}(i)},{"../base-xform":32}],99:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"mergeCell"}},{key:"render",value:function(t,e){t.leafNode("mergeCell",{ref:e})}},{key:"parseOpen",value:function(t){return"mergeCell"===t.name&&(this.model=t.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],100:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../../../doc/range"),o=t("../../../utils/col-cache"),a=t("../../../doc/enums");e.exports=function(){function t(){v(this,t),this.merges={}}return y(t,[{key:"add",value:function(t){if(this.merges[t.master])this.merges[t.master].expandToAddress(t.address);else{var e="".concat(t.master,":").concat(t.address);this.merges[t.master]=new r(e)}}},{key:"mergeCells",get:function(){return i.map(this.merges,(function(t){return t.range}))}},{key:"reconcile",value:function(t,e){i.each(t,(function(t){for(var n=o.decode(t),i=n.top;i<=n.bottom;i++)for(var r=e[i-1],s=n.left;s<=n.right;s++){var l=r.cells[s-1];l?l.type===a.ValueType.Merge&&(l.master=n.tl):r.cells[s]={type:a.ValueType.Null,address:o.encodeAddress(i,s)}}}))}},{key:"getMasterAddress",value:function(t){var e=this.hash[t];return e&&e.tl}}]),t}()},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,e,n){"use strict";var i=t("../base-xform"),r=function(t){return void 0!==t};e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"outlinePr"}},{key:"render",value:function(t,e){return!(!e||!r(e.summaryBelow)&&!r(e.summaryRight)||(t.leafNode(this.tag,{summaryBelow:r(e.summaryBelow)?Number(e.summaryBelow):void 0,summaryRight:r(e.summaryRight)?Number(e.summaryRight):void 0}),0))}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={summaryBelow:r(t.attributes.summaryBelow)?Boolean(Number(t.attributes.summaryBelow)):void 0,summaryRight:r(t.attributes.summaryRight)?Boolean(Number(t.attributes.summaryRight)):void 0},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],102:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"brk"}},{key:"render",value:function(t,e){t.leafNode("brk",e)}},{key:"parseOpen",value:function(t){return"brk"===t.name&&(this.model=t.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],103:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"pageMargins"}},{key:"render",value:function(t,e){if(e){var n={left:e.left,right:e.right,top:e.top,bottom:e.bottom,header:e.header,footer:e.footer};i.some(n,(function(t){return void 0!==t}))&&t.leafNode(this.tag,n)}}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={left:parseFloat(t.attributes.left||.7),right:parseFloat(t.attributes.right||.7),top:parseFloat(t.attributes.top||.75),bottom:parseFloat(t.attributes.bottom||.75),header:parseFloat(t.attributes.header||.3),footer:parseFloat(t.attributes.footer||.3)},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(r)},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"pageSetUpPr"}},{key:"render",value:function(t,e){return!(!e||!e.fitToPage||(t.leafNode(this.tag,{fitToPage:e.fitToPage?"1":void 0}),0))}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={fitToPage:"1"===t.attributes.fitToPage},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],105:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../base-xform");function o(t){return t?"1":void 0}function a(t){if("overThenDown"===t)return t}function s(t){switch(t){case"atEnd":case"asDisplyed":return t;default:return}}function l(t){switch(t){case"dash":case"blank":case"NA":return t;default:return}}e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"pageSetup"}},{key:"render",value:function(t,e){if(e){var n={paperSize:e.paperSize,orientation:e.orientation,horizontalDpi:e.horizontalDpi,verticalDpi:e.verticalDpi,pageOrder:a(e.pageOrder),blackAndWhite:o(e.blackAndWhite),draft:o(e.draft),cellComments:s(e.cellComments),errors:l(e.errors),scale:e.scale,fitToWidth:e.fitToWidth,fitToHeight:e.fitToHeight,firstPageNumber:e.firstPageNumber,useFirstPageNumber:o(e.firstPageNumber),usePrinterDefaults:o(e.usePrinterDefaults),copies:e.copies};i.some(n,(function(t){return void 0!==t}))&&t.leafNode(this.tag,n)}}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={paperSize:(e=t.attributes.paperSize,void 0!==e?parseInt(e,10):void 0),orientation:t.attributes.orientation||"portrait",horizontalDpi:parseInt(t.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(t.attributes.verticalDpi||"4294967295",10),pageOrder:t.attributes.pageOrder||"downThenOver",blackAndWhite:"1"===t.attributes.blackAndWhite,draft:"1"===t.attributes.draft,cellComments:t.attributes.cellComments||"None",errors:t.attributes.errors||"displayed",scale:parseInt(t.attributes.scale||"100",10),fitToWidth:parseInt(t.attributes.fitToWidth||"1",10),fitToHeight:parseInt(t.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(t.attributes.firstPageNumber||"1",10),useFirstPageNumber:"1"===t.attributes.useFirstPageNumber,usePrinterDefaults:"1"===t.attributes.usePrinterDefaults,copies:parseInt(t.attributes.copies||"1",10)},!0);var e}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(r)},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"picture"}},{key:"render",value:function(t,e){e&&t.leafNode(this.tag,{"r:id":e.rId})}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={rId:t.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],107:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../base-xform");function o(t){return t?"1":void 0}e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"printOptions"}},{key:"render",value:function(t,e){if(e){var n={headings:o(e.showRowColHeaders),gridLines:o(e.showGridLines),horizontalCentered:o(e.horizontalCentered),verticalCentered:o(e.verticalCentered)};i.some(n,(function(t){return void 0!==t}))&&t.leafNode(this.tag,n)}}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={showRowColHeaders:"1"===t.attributes.headings,showGridLines:"1"===t.attributes.gridLines,horizontalCentered:"1"===t.attributes.horizontalCentered,verticalCentered:"1"===t.attributes.verticalCentered},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(r)},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,e,n){"use strict";var i=t("./page-breaks-xform"),r=t("../list-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.call(this,{tag:"rowBreaks",count:!0,childXform:new i})}return y(n,[{key:"render",value:function(t,e){if(e&&e.length){t.openNode(this.tag,this.$),this.count&&(t.addAttribute(this.$count,e.length),t.addAttribute("manualBreakCount",e.length));var n=this.childXform;e.forEach((function(e){n.render(t,e)})),t.closeNode()}else this.empty&&t.leafNode(this.tag)}}]),n}(r)},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("../../../utils/utils"),o=t("./cell-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).maxItems=t&&t.maxItems,i.map={c:new o},i}return y(n,[{key:"tag",get:function(){return"row"}},{key:"prepare",value:function(t,e){var n=e.styles.addStyleModel(t.style);n&&(t.styleId=n);var i=this.map.c;t.cells.forEach((function(t){i.prepare(t,e)}))}},{key:"render",value:function(t,e,n){t.openNode("row"),t.addAttribute("r",e.number),e.height&&(t.addAttribute("ht",e.height),t.addAttribute("customHeight","1")),e.hidden&&t.addAttribute("hidden","1"),e.min>0&&e.max>0&&e.min<=e.max&&t.addAttribute("spans","".concat(e.min,":").concat(e.max)),e.styleId&&(t.addAttribute("s",e.styleId),t.addAttribute("customFormat","1")),t.addAttribute("x14ac:dyDescent","0.25"),e.outlineLevel&&t.addAttribute("outlineLevel",e.outlineLevel),e.collapsed&&t.addAttribute("collapsed","1");var i=this.map.c;e.cells.forEach((function(e){i.render(t,e,n)})),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;if("row"===t.name){this.numRowsSeen+=1;var e=t.attributes.spans?t.attributes.spans.split(":").map((function(t){return parseInt(t,10)})):[void 0,void 0],n=this.model={number:parseInt(t.attributes.r,10),min:e[0],max:e[1],cells:[]};return t.attributes.s&&(n.styleId=parseInt(t.attributes.s,10)),r.parseBoolean(t.attributes.hidden)&&(n.hidden=!0),r.parseBoolean(t.attributes.bestFit)&&(n.bestFit=!0),t.attributes.ht&&(n.height=parseFloat(t.attributes.ht)),t.attributes.outlineLevel&&(n.outlineLevel=parseInt(t.attributes.outlineLevel,10)),r.parseBoolean(t.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[t.name],!!this.parser&&(this.parser.parseOpen(t),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser){if(!this.parser.parseClose(t)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error("Max column count (".concat(this.maxItems,") exceeded"));this.parser=void 0}return!0}return!1}},{key:"reconcile",value:function(t,e){t.style=t.styleId?e.styles.getStyleModel(t.styleId):{},void 0!==t.styleId&&(t.styleId=void 0);var n=this.map.c;t.cells.forEach((function(t){n.reconcile(t,e)}))}}]),n}(i)},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"sheetFormatPr"}},{key:"render",value:function(t,e){if(e){var n={defaultRowHeight:e.defaultRowHeight,outlineLevelRow:e.outlineLevelRow,outlineLevelCol:e.outlineLevelCol,"x14ac:dyDescent":e.dyDescent};e.defaultColWidth&&(n.defaultColWidth=e.defaultColWidth),e.defaultRowHeight&&15===e.defaultRowHeight||(n.customHeight="1"),i.some(n,(function(t){return void 0!==t}))&&t.leafNode("sheetFormatPr",n)}}},{key:"parseOpen",value:function(t){return"sheetFormatPr"===t.name&&(this.model={defaultRowHeight:parseFloat(t.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(t.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(t.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(t.attributes.outlineLevelCol||"0",10)},t.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(t.attributes.defaultColWidth)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(r)},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("../style/color-xform"),o=t("./page-setup-properties-xform"),a=t("./outline-properties-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={tabColor:new r("tabColor"),pageSetUpPr:new o,outlinePr:new a},t}return y(n,[{key:"tag",get:function(){return"sheetPr"}},{key:"render",value:function(t,e){if(e){t.addRollback(),t.openNode("sheetPr");var n=!1;n=this.map.tabColor.render(t,e.tabColor)||n,n=this.map.pageSetUpPr.render(t,e.pageSetup)||n,(n=this.map.outlinePr.render(t,e.outlineProperties)||n)?(t.closeNode(),t.commit()):t.rollback()}}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):t.name===this.tag?(this.reset(),!0):!!this.map[t.name]&&(this.parser=this.map[t.name],this.parser.parseOpen(t),!0)}},{key:"parseText",value:function(t){return!!this.parser&&(this.parser.parseText(t),!0)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}]),n}(i)},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../base-xform");function o(t,e){return t?e:void 0}function a(t,e){return t===e||void 0}e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"sheetProtection"}},{key:"render",value:function(t,e){if(e){var n={sheet:o(e.sheet,"1"),selectLockedCells:!1===e.selectLockedCells?"1":void 0,selectUnlockedCells:!1===e.selectUnlockedCells?"1":void 0,formatCells:o(e.formatCells,"0"),formatColumns:o(e.formatColumns,"0"),formatRows:o(e.formatRows,"0"),insertColumns:o(e.insertColumns,"0"),insertRows:o(e.insertRows,"0"),insertHyperlinks:o(e.insertHyperlinks,"0"),deleteColumns:o(e.deleteColumns,"0"),deleteRows:o(e.deleteRows,"0"),sort:o(e.sort,"0"),autoFilter:o(e.autoFilter,"0"),pivotTables:o(e.pivotTables,"0")};e.sheet&&(n.algorithmName=e.algorithmName,n.hashValue=e.hashValue,n.saltValue=e.saltValue,n.spinCount=e.spinCount,n.objects=o(!1===e.objects,"1"),n.scenarios=o(!1===e.scenarios,"1")),i.some(n,(function(t){return void 0!==t}))&&t.leafNode(this.tag,n)}}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={sheet:a(t.attributes.sheet,"1"),objects:"1"!==t.attributes.objects&&void 0,scenarios:"1"!==t.attributes.scenarios&&void 0,selectLockedCells:"1"!==t.attributes.selectLockedCells&&void 0,selectUnlockedCells:"1"!==t.attributes.selectUnlockedCells&&void 0,formatCells:a(t.attributes.formatCells,"0"),formatColumns:a(t.attributes.formatColumns,"0"),formatRows:a(t.attributes.formatRows,"0"),insertColumns:a(t.attributes.insertColumns,"0"),insertRows:a(t.attributes.insertRows,"0"),insertHyperlinks:a(t.attributes.insertHyperlinks,"0"),deleteColumns:a(t.attributes.deleteColumns,"0"),deleteRows:a(t.attributes.deleteRows,"0"),sort:a(t.attributes.sort,"0"),autoFilter:a(t.attributes.autoFilter,"0"),pivotTables:a(t.attributes.pivotTables,"0")},t.attributes.algorithmName&&(this.model.algorithmName=t.attributes.algorithmName,this.model.hashValue=t.attributes.hashValue,this.model.saltValue=t.attributes.saltValue,this.model.spinCount=parseInt(t.attributes.spinCount,10)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(r)},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,e,n){"use strict";var i=t("../../../utils/col-cache"),r=t("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"sheetView"}},{key:"prepare",value:function(t){switch(t.state){case"frozen":case"split":break;default:t.state="normal"}}},{key:"render",value:function(t,e){t.openNode("sheetView",{workbookViewId:e.workbookViewId||0});var n,r,o,a,s=function(e,n,i){i&&t.addAttribute(e,n)};switch(s("rightToLeft","1",!0===e.rightToLeft),s("tabSelected","1",e.tabSelected),s("showRuler","0",!1===e.showRuler),s("showRowColHeaders","0",!1===e.showRowColHeaders),s("showGridLines","0",!1===e.showGridLines),s("zoomScale",e.zoomScale,e.zoomScale),s("zoomScaleNormal",e.zoomScaleNormal,e.zoomScaleNormal),s("view",e.style,e.style),e.state){case"frozen":r=e.xSplit||0,o=e.ySplit||0,n=e.topLeftCell||i.getAddress(o+1,r+1).address,a=(e.xSplit&&e.ySplit?"bottomRight":e.xSplit&&"topRight")||"bottomLeft",t.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:n,activePane:a,state:"frozen"}),t.leafNode("selection",{pane:a,activeCell:e.activeCell,sqref:e.activeCell});break;case"split":"topLeft"===e.activePane&&(e.activePane=void 0),t.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:e.topLeftCell,activePane:e.activePane}),t.leafNode("selection",{pane:e.activePane,activeCell:e.activeCell,sqref:e.activeCell});break;case"normal":e.activeCell&&t.leafNode("selection",{activeCell:e.activeCell,sqref:e.activeCell})}t.closeNode()}},{key:"parseOpen",value:function(t){switch(t.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(t.attributes.workbookViewId,10),rightToLeft:"1"===t.attributes.rightToLeft,tabSelected:"1"===t.attributes.tabSelected,showRuler:!("0"===t.attributes.showRuler),showRowColHeaders:!("0"===t.attributes.showRowColHeaders),showGridLines:!("0"===t.attributes.showGridLines),zoomScale:parseInt(t.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(t.attributes.zoomScaleNormal||"100",10),style:t.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(t.attributes.xSplit||"0",10),ySplit:parseInt(t.attributes.ySplit||"0",10),topLeftCell:t.attributes.topLeftCell,activePane:t.attributes.activePane||"topLeft",state:t.attributes.state},!0;case"selection":var e=t.attributes.pane||"topLeft";return this.selections[e]={pane:e,activeCell:t.attributes.activeCell},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){var e,n;return"sheetView"!==t||(this.sheetView&&this.pane?(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},"split"===this.model.state&&(e.activePane=this.pane.activePane),(n=this.selections[this.pane.activePane])&&n.activeCell&&(e.activeCell=n.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)):(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},(n=this.selections.topLeft)&&n.activeCell&&(e.activeCell=n.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)),!1)}},{key:"reconcile",value:function(){}}]),n}(r)},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"tablePart"}},{key:"render",value:function(t,e){e&&t.leafNode(this.tag,{"r:id":e.rId})}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={rId:t.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],115:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),a=t("../../rel-type"),s=t("./merges"),l=t("../base-xform"),c=t("../list-xform"),d=t("./row-xform"),f=t("./col-xform"),p=t("./dimension-xform"),g=t("./hyperlink-xform"),m=t("./merge-cell-xform"),b=t("./data-validations-xform"),w=t("./sheet-properties-xform"),x=t("./sheet-format-properties-xform"),_=t("./sheet-view-xform"),C=t("./sheet-protection-xform"),S=t("./page-margins-xform"),M=t("./page-setup-xform"),A=t("./print-options-xform"),T=t("./auto-filter-xform"),k=t("./picture-xform"),R=t("./drawing-xform"),I=t("./table-part-xform"),P=t("./row-breaks-xform"),E=t("./header-footer-xform"),B=t("./cf/conditional-formattings-xform"),L=t("./ext-lst-xform"),D=function(t){u(n,t);var e=h(n);function n(t){var i;v(this,n),i=e.call(this);var r=t||{},o=r.maxRows,a=r.maxCols,s=r.ignoreNodes;return i.ignoreNodes=s||[],i.map={sheetPr:new w,dimension:new p,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new _}),sheetFormatPr:new x,cols:new c({tag:"cols",count:!1,childXform:new f}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:a}),maxItems:o}),autoFilter:new T,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new P,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new S,dataValidations:new b,pageSetup:new M,headerFooter:new E,printOptions:new A,picture:new k,drawing:new R,sheetProtection:new C,tableParts:new c({tag:"tableParts",count:!0,childXform:new I}),conditionalFormatting:new B,extLst:new L},i}return y(n,[{key:"prepare",value:function(t,e){var n=this;e.merges=new s,t.hyperlinks=e.hyperlinks=[],t.comments=e.comments=[],e.formulae={},e.siFormulae=0,this.map.cols.prepare(t.cols,e),this.map.sheetData.prepare(t.rows,e),this.map.conditionalFormatting.prepare(t.conditionalFormattings,e),t.mergeCells=e.merges.mergeCells;var i=t.rels=[];function o(t){return"rId"+(t.length+1)}if(t.hyperlinks.forEach((function(t){var e=o(i);t.rId=e,i.push({Id:e,Type:a.Hyperlink,Target:t.target,TargetMode:"External"})})),t.comments.length>0){var l={Id:o(i),Type:a.Comments,Target:"../comments".concat(t.id,".xml")};i.push(l);var u={Id:o(i),Type:a.VmlDrawing,Target:"../drawings/vmlDrawing".concat(t.id,".vml")};i.push(u),t.comments.forEach((function(t){t.refAddress=r.decodeAddress(t.ref)})),e.commentRefs.push({commentName:"comments"+t.id,vmlDrawing:"vmlDrawing"+t.id})}var h,c=[];t.media.forEach((function(r){if("background"===r.type){var s=o(i);h=e.media[r.imageId],i.push({Id:s,Type:a.Image,Target:"../media/".concat(h.name,".").concat(h.extension)}),t.background={rId:s},t.image=e.media[r.imageId]}else if("image"===r.type){var l=t.drawing;h=e.media[r.imageId],l||(l=t.drawing={rId:o(i),name:"drawing"+ ++e.drawingsCount,anchors:[],rels:[]},e.drawings.push(l),i.push({Id:l.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/".concat(l.name,".xml")}));var u=n.preImageId===r.imageId?c[r.imageId]:c[l.rels.length];u||(u=o(l.rels),c[l.rels.length]=u,l.rels.push({Id:u,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/".concat(h.name,".").concat(h.extension)}));var d={picture:{rId:u},range:r.range};if(r.hyperlinks&&r.hyperlinks.hyperlink){var f=o(l.rels);c[l.rels.length]=f,d.picture.hyperlinks={tooltip:r.hyperlinks.tooltip,rId:f},l.rels.push({Id:f,Type:a.Hyperlink,Target:r.hyperlinks.hyperlink,TargetMode:"External"})}n.preImageId=r.imageId,l.anchors.push(d)}})),t.tables.forEach((function(t){var n=o(i);t.rId=n,i.push({Id:n,Type:a.Table,Target:"../tables/"+t.target}),t.columns.forEach((function(t){var n=t.style;n&&(t.dxfId=e.styles.addDxfStyle(n))}))})),this.map.extLst.prepare(t,e)}},{key:"render",value:function(t,e){t.openXml(o.StdDocAttributes),t.openNode("worksheet",n.WORKSHEET_ATTRIBUTES);var i=e.properties?{defaultRowHeight:e.properties.defaultRowHeight,dyDescent:e.properties.dyDescent,outlineLevelCol:e.properties.outlineLevelCol,outlineLevelRow:e.properties.outlineLevelRow}:void 0;e.properties&&e.properties.defaultColWidth&&(i.defaultColWidth=e.properties.defaultColWidth);var r={outlineProperties:e.properties&&e.properties.outlineProperties,tabColor:e.properties&&e.properties.tabColor,pageSetup:e.pageSetup&&e.pageSetup.fitToPage?{fitToPage:e.pageSetup.fitToPage}:void 0},s=e.pageSetup&&e.pageSetup.margins,l={showRowColHeaders:e.pageSetup&&e.pageSetup.showRowColHeaders,showGridLines:e.pageSetup&&e.pageSetup.showGridLines,horizontalCentered:e.pageSetup&&e.pageSetup.horizontalCentered,verticalCentered:e.pageSetup&&e.pageSetup.verticalCentered},u=e.sheetProtection;this.map.sheetPr.render(t,r),this.map.dimension.render(t,e.dimensions),this.map.sheetViews.render(t,e.views),this.map.sheetFormatPr.render(t,i),this.map.cols.render(t,e.cols),this.map.sheetData.render(t,e.rows),this.map.sheetProtection.render(t,u),this.map.autoFilter.render(t,e.autoFilter),this.map.mergeCells.render(t,e.mergeCells),this.map.conditionalFormatting.render(t,e.conditionalFormattings),this.map.dataValidations.render(t,e.dataValidations),this.map.hyperlinks.render(t,e.hyperlinks),this.map.printOptions.render(t,l),this.map.pageMargins.render(t,s),this.map.pageSetup.render(t,e.pageSetup),this.map.headerFooter.render(t,e.headerFooter),this.map.rowBreaks.render(t,e.rowBreaks),this.map.drawing.render(t,e.drawing),this.map.picture.render(t,e.background),this.map.tableParts.render(t,e.tables),this.map.extLst.render(t,e),e.rels&&e.rels.forEach((function(e){e.Type===a.VmlDrawing&&t.leafNode("legacyDrawing",{"r:id":e.Id})})),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):"worksheet"===t.name?(i.each(this.map,(function(t){t.reset()})),!0):(this.map[t.name]&&!this.ignoreNodes.includes(t.name)&&(this.parser=this.map[t.name],this.parser.parseOpen(t)),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;if("worksheet"===t){var e=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(e.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(e.outlineProperties=this.map.sheetPr.model.outlineProperties);var n={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},i=Object.assign(n,this.map.pageSetup.model,this.map.printOptions.model),r=function(t,e){if(!e||!e.length)return t;if(!t||!t.length)return e;var n={},i={};return t.forEach((function(t){n[t.ref]=t,t.rules.forEach((function(t){var e=t.x14Id;e&&(i[e]=t)}))})),e.forEach((function(e){e.rules.forEach((function(r){var o=i[r.x14Id];o?function(t,e){Object.keys(e).forEach((function(n){var i=t[n],r=e[n];void 0===i&&void 0!==r&&(t[n]=r)}))}(o,r):n[e.ref]?n[e.ref].rules.push(r):t.push({ref:e.ref,rules:[r]})}))})),t}(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:e,views:this.map.sheetViews.model,pageSetup:i,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:r},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}return!0}},{key:"reconcile",value:function(t,e){var n=(t.relationships||[]).reduce((function(n,i){if(n[i.Id]=i,i.Type===a.Comments&&(t.comments=e.comments[i.Target].comments),i.Type===a.VmlDrawing&&t.comments&&t.comments.length){var r=e.vmlDrawings[i.Target].comments;t.comments.forEach((function(t,e){t.note=Object.assign({},t.note,r[e])}))}return n}),{});if(e.commentsMap=(t.comments||[]).reduce((function(t,e){return e.ref&&(t[e.ref]=e),t}),{}),e.hyperlinkMap=(t.hyperlinks||[]).reduce((function(t,e){return e.rId&&(t[e.address]=n[e.rId].Target),t}),{}),e.formulae={},t.rows=t.rows&&t.rows.filter(Boolean)||[],t.rows.forEach((function(t){t.cells=t.cells&&t.cells.filter(Boolean)||[]})),this.map.cols.reconcile(t.cols,e),this.map.sheetData.reconcile(t.rows,e),this.map.conditionalFormatting.reconcile(t.conditionalFormattings,e),t.media=[],t.drawing){var i=n[t.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(i){var r=i[1];e.drawings[r].anchors.forEach((function(e){if(e.medium){var n={type:"image",imageId:e.medium.index,range:e.range,hyperlinks:e.picture.hyperlinks};t.media.push(n)}}))}}var o=t.background&&n[t.background.rId];if(o){var s=o.Target.split("/media/")[1],l=e.mediaIndex&&e.mediaIndex[s];void 0!==l&&t.media.push({type:"background",imageId:l})}t.tables=(t.tables||[]).map((function(t){var i=n[t.rId];return e.tables[i.Target]})),delete t.relationships,delete t.hyperlinks,delete t.comments}}]),n}(l);D.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},e.exports=D},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).tag=t.tag,i.attr=t.attr,i}return y(n,[{key:"render",value:function(t,e){e&&(t.openNode(this.tag),t.closeNode())}},{key:"parseOpen",value:function(t){t.name===this.tag&&(this.model=!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],117:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).tag=t.tag,i.attr=t.attr,i.attrs=t.attrs,i._format=t.format||function(t){try{return Number.isNaN(t.getTime())?"":t.toISOString()}catch(t){return""}},i._parse=t.parse||function(t){return new Date(t)},i}return y(n,[{key:"render",value:function(t,e){e&&(t.openNode(this.tag),this.attrs&&t.addAttributes(this.attrs),this.attr?t.addAttribute(this.attr,this._format(e)):t.writeText(this._format(e)),t.closeNode())}},{key:"parseOpen",value:function(t){t.name===this.tag&&(this.attr?this.model=this._parse(t.attributes[this.attr]):this.text=[])}},{key:"parseText",value:function(t){this.attr||this.text.push(t)}},{key:"parseClose",value:function(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}]),n}(i)},{"../base-xform":32}],118:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).tag=t.tag,i.attr=t.attr,i.attrs=t.attrs,i.zero=t.zero,i}return y(n,[{key:"render",value:function(t,e){(e||this.zero)&&(t.openNode(this.tag),this.attrs&&t.addAttributes(this.attrs),this.attr?t.addAttribute(this.attr,e):t.writeText(e),t.closeNode())}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.attr?this.model=parseInt(t.attributes[this.attr],10):this.text=[],!0)}},{key:"parseText",value:function(t){this.attr||this.text.push(t)}},{key:"parseClose",value:function(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}]),n}(i)},{"../base-xform":32}],119:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).tag=t.tag,i.attr=t.attr,i.attrs=t.attrs,i}return y(n,[{key:"render",value:function(t,e){void 0!==e&&(t.openNode(this.tag),this.attrs&&t.addAttributes(this.attrs),this.attr?t.addAttribute(this.attr,e):t.writeText(e),t.closeNode())}},{key:"parseOpen",value:function(t){t.name===this.tag&&(this.attr?this.model=t.attributes[this.attr]:this.text=[])}},{key:"parseText",value:function(t){this.attr||this.text.push(t)}},{key:"parseClose",value:function(){return this.attr||(this.model=this.text.join("")),!1}}]),n}(i)},{"../base-xform":32}],120:[function(t,e,n){"use strict";var i=t("./base-xform"),r=t("../../utils/xml-stream");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this))._model=t,i}return y(n,[{key:"render",value:function(t){if(!this._xml){var e=new r;!function t(e,n){e.openNode(n.tag,n.$),n.c&&n.c.forEach((function(n){t(e,n)})),n.t&&e.writeText(n.t),e.closeNode()}(e,this._model),this._xml=e.xml}t.writeXml(this._xml)}},{key:"parseOpen",value:function(){return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return t!==this._model.tag}}]),n}(i)},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,e,n){"use strict";var i=t("./text-xform"),r=t("./rich-text-xform"),o=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={r:new r,t:new i},t}return y(n,[{key:"tag",get:function(){return"rPh"}},{key:"render",value:function(t,e){if(t.openNode(this.tag,{sb:e.sb||0,eb:e.eb||0}),e&&e.hasOwnProperty("richText")&&e.richText){var n=this.map.r;e.richText.forEach((function(e){n.render(t,e)}))}else e&&this.map.t.render(t,e.text);t.closeNode()}},{key:"parseOpen",value:function(t){var e=t.name;return this.parser?(this.parser.parseOpen(t),!0):e===this.tag?(this.model={sb:parseInt(t.attributes.sb,10),eb:parseInt(t.attributes.eb,10)},!0):(this.parser=this.map[e],!!this.parser&&(this.parser.parseOpen(t),!0))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser){if(!this.parser.parseClose(t)){switch(t){case"r":var e=this.model.richText;e||(e=this.model.richText=[]),e.push(this.parser.model);break;case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return t!==this.tag}}]),n}(o)},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,e,n){"use strict";var i=t("./text-xform"),r=t("../style/font-xform"),o=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).model=t,i}return y(n,[{key:"tag",get:function(){return"r"}},{key:"textXform",get:function(){return this._textXform||(this._textXform=new i)}},{key:"fontXform",get:function(){return this._fontXform||(this._fontXform=new r(n.FONT_OPTIONS))}},{key:"render",value:function(t,e){e=e||this.model,t.openNode("r"),e.font&&this.fontXform.render(t,e.font),this.textXform.render(t,e.text),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(t),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(t),!0;default:return!1}}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){switch(t){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}}]),n}(t("../base-xform"));o.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},e.exports=o},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,e,n){"use strict";var i=t("./text-xform"),r=t("./rich-text-xform"),o=t("./phonetic-text-xform"),a=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var a;return v(this,n),(a=e.call(this)).model=t,a.map={r:new r,t:new i,rPh:new o},a}return y(n,[{key:"tag",get:function(){return"si"}},{key:"render",value:function(t,e){var n=this;t.openNode(this.tag),e&&e.hasOwnProperty("richText")&&e.richText?e.richText.length?e.richText.forEach((function(e){n.map.r.render(t,e)})):this.map.t.render(t,""):null!=e&&this.map.t.render(t,e),t.closeNode()}},{key:"parseOpen",value:function(t){var e=t.name;return this.parser?(this.parser.parseOpen(t),!0):e===this.tag?(this.model={},!0):(this.parser=this.map[e],!!this.parser&&(this.parser.parseOpen(t),!0))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser){if(!this.parser.parseClose(t)){switch(t){case"r":var e=this.model.richText;e||(e=this.model.richText=[]),e.push(this.parser.model);break;case"t":this.model=this.parser.model}this.parser=void 0}return!0}return t!==this.tag}}]),n}(a)},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=t("../base-xform"),o=t("./shared-string-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).model=t||{values:[],count:0},i.hash=Object.create(null),i.rich=Object.create(null),i}return y(n,[{key:"sharedStringXform",get:function(){return this._sharedStringXform||(this._sharedStringXform=new o)}},{key:"values",get:function(){return this.model.values}},{key:"uniqueCount",get:function(){return this.model.values.length}},{key:"count",get:function(){return this.model.count}},{key:"getString",value:function(t){return this.model.values[t]}},{key:"add",value:function(t){return t.richText?this.addRichText(t):this.addText(t)}},{key:"addText",value:function(t){var e=this.hash[t];return void 0===e&&(e=this.hash[t]=this.model.values.length,this.model.values.push(t)),this.model.count++,e}},{key:"addRichText",value:function(t){var e=this.sharedStringXform.toXml(t),n=this.rich[e];return void 0===n&&(n=this.rich[e]=this.model.values.length,this.model.values.push(t)),this.model.count++,n}},{key:"render",value:function(t,e){e=e||this._values,t.openXml(i.StdDocAttributes),t.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.count,uniqueCount:e.values.length});var n=this.sharedStringXform;e.values.forEach((function(e){n.render(t,e)})),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(t),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser)return this.parser.parseClose(t)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if("sst"===t)return!1;throw new Error("Unexpected xml node in parseClose: "+t)}}]),n}(r)},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"t"}},{key:"render",value:function(t,e){t.openNode("t"),/^\s|\n|\s$/.test(e)&&t.addAttribute("xml:space","preserve"),t.writeText(e),t.closeNode()}},{key:"model",get:function(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(function(t,e){return String.fromCharCode(parseInt(e,16))}))}},{key:"parseOpen",value:function(t){return"t"===t.name&&(this._text=[],!0)}},{key:"parseText",value:function(t){this._text.push(t)}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],126:[function(t,e,n){"use strict";var i=t("../../../doc/enums"),r=t("../../../utils/utils"),o=t("../base-xform"),a={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((function(t,e){return t[e]=!0,t}),{}),horizontal:function(t){return this.horizontalValues[t]?t:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((function(t,e){return t[e]=!0,t}),{}),vertical:function(t){return"middle"===t?"center":this.verticalValues[t]?t:void 0},wrapText:function(t){return!!t||void 0},shrinkToFit:function(t){return!!t||void 0},textRotation:function(t){return"vertical"===t||(t=r.validInt(t))>=-90&&t<=90?t:void 0},indent:function(t){return t=r.validInt(t),Math.max(0,t)},readingOrder:function(t){switch(t){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},s=function(t){if(t=a.textRotation(t)){if("vertical"===t)return 255;var e=Math.round(t);if(e>=0&&e<=90)return e;if(e<0&&e>=-90)return 90-e}},l=function(t){var e=r.validInt(t);if(void 0!==e){if(255===e)return"vertical";if(e>=0&&e<=90)return e;if(e>90&&e<=180)return 90-e}};e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"alignment"}},{key:"render",value:function(t,e){t.addRollback(),t.openNode("alignment");var n=!1;function i(e,i){i&&(t.addAttribute(e,i),n=!0)}i("horizontal",a.horizontal(e.horizontal)),i("vertical",a.vertical(e.vertical)),i("wrapText",!!a.wrapText(e.wrapText)&&"1"),i("shrinkToFit",!!a.shrinkToFit(e.shrinkToFit)&&"1"),i("indent",a.indent(e.indent)),i("textRotation",s(e.textRotation)),i("readingOrder",a.readingOrder(e.readingOrder)),t.closeNode(),n?t.commit():t.rollback()}},{key:"parseOpen",value:function(t){var e={},n=!1;function i(t,i,r){t&&(e[i]=r,n=!0)}i(t.attributes.horizontal,"horizontal",t.attributes.horizontal),i(t.attributes.vertical,"vertical","center"===t.attributes.vertical?"middle":t.attributes.vertical),i(t.attributes.wrapText,"wrapText",r.parseBoolean(t.attributes.wrapText)),i(t.attributes.shrinkToFit,"shrinkToFit",r.parseBoolean(t.attributes.shrinkToFit)),i(t.attributes.indent,"indent",parseInt(t.attributes.indent,10)),i(t.attributes.textRotation,"textRotation",l(t.attributes.textRotation)),i(t.attributes.readingOrder,"readingOrder","2"===t.attributes.readingOrder?"rtl":"ltr"),this.model=n?e:null}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(o)},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("../../../utils/utils"),o=t("./color-xform"),a=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).name=t,i.map={color:new o},i}return y(n,[{key:"tag",get:function(){return this.name}},{key:"render",value:function(t,e,n){var i=e&&e.color||n||this.defaultColor;t.openNode(this.name),e&&e.style&&(t.addAttribute("style",e.style),i&&this.map.color.render(t,i)),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.name:var e=t.attributes.style;return this.model=e?{style:e}:void 0,!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(t),!0;default:return!1}}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):(t===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}},{key:"validStyle",value:function(t){return n.validStyleValues[t]}}]),n}(i);a.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((function(t,e){return t[e]=!0,t}),{}),e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={top:new a("top"),left:new a("left"),bottom:new a("bottom"),right:new a("right"),diagonal:new a("diagonal")},t}return y(n,[{key:"render",value:function(t,e){var n=e.color;function i(i,r){i&&!i.color&&e.color&&(i=f(f({},i),{},{color:e.color})),r.render(t,i,n)}t.openNode("border"),e.diagonal&&e.diagonal.style&&(e.diagonal.up&&t.addAttribute("diagonalUp","1"),e.diagonal.down&&t.addAttribute("diagonalDown","1")),i(e.left,this.map.left),i(e.right,this.map.right),i(e.top,this.map.top),i(e.bottom,this.map.bottom),i(e.diagonal,this.map.diagonal),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):"border"===t.name?(this.reset(),this.diagonalUp=r.parseBoolean(t.attributes.diagonalUp),this.diagonalDown=r.parseBoolean(t.attributes.diagonalDown),!0):(this.parser=this.map[t.name],!!this.parser&&(this.parser.parseOpen(t),!0))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;if("border"===t){var e=this.model={},n=function(t,n,i){n&&(i&&Object.assign(n,i),e[t]=n)};n("left",this.map.left.model),n("right",this.map.right.model),n("top",this.map.top.model),n("bottom",this.map.bottom.model),n("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}]),n}(i)},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).name=t||"color",i}return y(n,[{key:"tag",get:function(){return this.name}},{key:"render",value:function(t,e){return!!e&&(t.openNode(this.name),e.argb?t.addAttribute("rgb",e.argb):void 0!==e.theme?(t.addAttribute("theme",e.theme),void 0!==e.tint&&t.addAttribute("tint",e.tint)):void 0!==e.indexed?t.addAttribute("indexed",e.indexed):t.addAttribute("auto","1"),t.closeNode(),!0)}},{key:"parseOpen",value:function(t){return t.name===this.name&&(t.attributes.rgb?this.model={argb:t.attributes.rgb}:t.attributes.theme?(this.model={theme:parseInt(t.attributes.theme,10)},t.attributes.tint&&(this.model.tint=parseFloat(t.attributes.tint))):t.attributes.indexed?this.model={indexed:parseInt(t.attributes.indexed,10)}:this.model=void 0,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],129:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./alignment-xform"),o=t("./border-xform"),a=t("./fill-xform"),s=t("./font-xform"),l=t("./numfmt-xform"),c=t("./protection-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={alignment:new r,border:new o,fill:new a,font:new s,numFmt:new l,protection:new c},t}return y(n,[{key:"tag",get:function(){return"dxf"}},{key:"render",value:function(t,e){if(t.openNode(this.tag),e.font&&this.map.font.render(t,e.font),e.numFmt&&e.numFmtId){var n={id:e.numFmtId,formatCode:e.numFmt};this.map.numFmt.render(t,n)}e.fill&&this.map.fill.render(t,e.fill),e.alignment&&this.map.alignment.render(t,e.alignment),e.border&&this.map.border.render(t,e.border),e.protection&&this.map.protection.render(t,e.protection),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):t.name===this.tag?(this.reset(),!0):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}]),n}(i)},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./color-xform"),o=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={color:new r},t}return y(n,[{key:"tag",get:function(){return"stop"}},{key:"render",value:function(t,e){t.openNode("stop"),t.addAttribute("position",e.position),this.map.color.render(t,e.color),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"stop":return this.model={position:parseFloat(t.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(t),!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return!!this.parser&&(this.parser.parseClose(t)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}]),n}(i),a=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={fgColor:new r("fgColor"),bgColor:new r("bgColor")},t}return y(n,[{key:"name",get:function(){return"pattern"}},{key:"tag",get:function(){return"patternFill"}},{key:"render",value:function(t,e){t.openNode("patternFill"),t.addAttribute("patternType",e.pattern),e.fgColor&&this.map.fgColor.render(t,e.fgColor),e.bgColor&&this.map.bgColor.render(t,e.bgColor),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):"patternFill"===t.name?(this.model={type:"pattern",pattern:t.attributes.patternType},!0):(this.parser=this.map[t.name],!!this.parser&&(this.parser.parseOpen(t),!0))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return!!this.parser&&(this.parser.parseClose(t)||(this.parser.model&&(this.model[t]=this.parser.model),this.parser=void 0),!0)}}]),n}(i),s=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={stop:new o},t}return y(n,[{key:"name",get:function(){return"gradient"}},{key:"tag",get:function(){return"gradientFill"}},{key:"render",value:function(t,e){switch(t.openNode("gradientFill"),e.gradient){case"angle":t.addAttribute("degree",e.degree);break;case"path":t.addAttribute("type","path"),e.center.left&&(t.addAttribute("left",e.center.left),void 0===e.center.right&&t.addAttribute("right",e.center.left)),e.center.right&&t.addAttribute("right",e.center.right),e.center.top&&(t.addAttribute("top",e.center.top),void 0===e.center.bottom&&t.addAttribute("bottom",e.center.top)),e.center.bottom&&t.addAttribute("bottom",e.center.bottom)}var n=this.map.stop;e.stops.forEach((function(e){n.render(t,e)})),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"gradientFill":var e=this.model={stops:[]};return t.attributes.degree?(e.gradient="angle",e.degree=parseInt(t.attributes.degree,10)):"path"===t.attributes.type&&(e.gradient="path",e.center={left:t.attributes.left?parseFloat(t.attributes.left):0,top:t.attributes.top?parseFloat(t.attributes.top):0},t.attributes.right!==t.attributes.left&&(e.center.right=t.attributes.right?parseFloat(t.attributes.right):0),t.attributes.bottom!==t.attributes.top&&(e.center.bottom=t.attributes.bottom?parseFloat(t.attributes.bottom):0)),!0;case"stop":return this.parser=this.map.stop,this.parser.parseOpen(t),!0;default:return!1}}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return!!this.parser&&(this.parser.parseClose(t)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}]),n}(i),l=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={patternFill:new a,gradientFill:new s},t}return y(n,[{key:"tag",get:function(){return"fill"}},{key:"render",value:function(t,e){switch(t.addRollback(),t.openNode("fill"),e.type){case"pattern":this.map.patternFill.render(t,e);break;case"gradient":this.map.gradientFill.render(t,e);break;default:return void t.rollback()}t.closeNode(),t.commit()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):"fill"===t.name?(this.model={},!0):(this.parser=this.map[t.name],!!this.parser&&(this.parser.parseOpen(t),!0))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return!!this.parser&&(this.parser.parseClose(t)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}},{key:"validStyle",value:function(t){return n.validPatternValues[t]}}]),n}(i);l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((function(t,e){return t[e]=!0,t}),{}),l.StopXform=o,l.PatternFillXform=a,l.GradientFillXform=s,e.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(t,e,n){"use strict";var i=t("./color-xform"),r=t("../simple/boolean-xform"),o=t("../simple/integer-xform"),a=t("../simple/string-xform"),s=t("./underline-xform"),l=t("../../../utils/under-dash"),c=function(t){u(n,t);var e=h(n);function n(t){var l;return v(this,n),(l=e.call(this)).options=t||n.OPTIONS,l.map={b:{prop:"bold",xform:new r({tag:"b",attr:"val"})},i:{prop:"italic",xform:new r({tag:"i",attr:"val"})},u:{prop:"underline",xform:new s},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new r({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new r({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new r({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new a({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new a({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new r({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new r({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},l.map[l.options.fontNameTag]={prop:"name",xform:new a({tag:l.options.fontNameTag,attr:"val"})},l}return y(n,[{key:"tag",get:function(){return this.options.tagName}},{key:"render",value:function(t,e){var n=this.map;t.openNode(this.options.tagName),l.each(this.map,(function(i,r){n[r].xform.render(t,e[i.prop])})),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):this.map[t.name]?(this.parser=this.map[t.name].xform,this.parser.parseOpen(t)):t.name===this.options.tagName&&(this.model={},!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser&&!this.parser.parseClose(t)){var e=this.map[t];return this.parser.model&&(this.model[e.prop]=this.parser.model),this.parser=void 0,!0}return t!==this.options.tagName}}]),n}(t("../base-xform"));c.OPTIONS={tagName:"font",fontNameTag:"name"},e.exports=c},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,e,n){"use strict";var i=t("../../../utils/under-dash"),r=t("../../defaultnumformats"),o=t("../base-xform"),a=function(){var t={};return i.each(r,(function(e,n){e.f&&(t[e.f]=parseInt(n,10))})),t}(),s=function(t){u(n,t);var e=h(n);function n(t,i){var r;return v(this,n),(r=e.call(this)).id=t,r.formatCode=i,r}return y(n,[{key:"tag",get:function(){return"numFmt"}},{key:"render",value:function(t,e){t.leafNode("numFmt",{numFmtId:e.id,formatCode:e.formatCode})}},{key:"parseOpen",value:function(t){return"numFmt"===t.name&&(this.model={id:parseInt(t.attributes.numFmtId,10),formatCode:t.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(o);s.getDefaultFmtId=function(t){return a[t]},s.getDefaultFmtCode=function(t){return r[t]&&r[t].f},e.exports=s},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,e,n){"use strict";var i=t("../base-xform"),r=function(t,e){return void 0===t?e:t};e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"protection"}},{key:"render",value:function(t,e){t.addRollback(),t.openNode("protection");var n=!1;function i(e,i){void 0!==i&&(t.addAttribute(e,i),n=!0)}i("locked",r(e.locked,!0)?void 0:"0"),i("hidden",r(e.hidden,!1)?"1":void 0),t.closeNode(),n?t.commit():t.rollback()}},{key:"parseOpen",value:function(t){var e={locked:!("0"===t.attributes.locked),hidden:"1"===t.attributes.hidden},n=!e.locked||e.hidden;this.model=n?e:null}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],134:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./alignment-xform"),o=t("./protection-xform");e.exports=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).xfId=!(!t||!t.xfId),i.map={alignment:new r,protection:new o},i}return y(n,[{key:"tag",get:function(){return"xf"}},{key:"render",value:function(t,e){t.openNode("xf",{numFmtId:e.numFmtId||0,fontId:e.fontId||0,fillId:e.fillId||0,borderId:e.borderId||0}),this.xfId&&t.addAttribute("xfId",e.xfId||0),e.numFmtId&&t.addAttribute("applyNumberFormat","1"),e.fontId&&t.addAttribute("applyFont","1"),e.fillId&&t.addAttribute("applyFill","1"),e.borderId&&t.addAttribute("applyBorder","1"),e.alignment&&t.addAttribute("applyAlignment","1"),e.protection&&t.addAttribute("applyProtection","1"),e.alignment&&this.map.alignment.render(t,e.alignment),e.protection&&this.map.protection.render(t,e.protection),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"xf":return this.model={numFmtId:parseInt(t.attributes.numFmtId,10),fontId:parseInt(t.attributes.fontId,10),fillId:parseInt(t.attributes.fillId,10),borderId:parseInt(t.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(t.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(t),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(t),!0;default:return!1}}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):"xf"!==t}}]),n}(i)},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,e,n){"use strict";var i=t("../../../doc/enums"),r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("../static-xform"),s=t("../list-xform"),l=t("./font-xform"),c=t("./fill-xform"),d=t("./border-xform"),f=t("./numfmt-xform"),p=t("./style-xform"),g=t("./dxf-xform"),m=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).map={numFmts:new s({tag:"numFmts",count:!0,childXform:new f}),fonts:new s({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new s({tag:"fills",count:!0,childXform:new c}),borders:new s({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new s({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new s({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new s({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new f,font:new l,fill:new c,border:new d,style:new p({xfId:!0}),cellStyles:n.STATIC_XFORMS.cellStyles,tableStyles:n.STATIC_XFORMS.tableStyles,extLst:n.STATIC_XFORMS.extLst},t&&i.init(),i}return y(n,[{key:"initIndex",value:function(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}},{key:"init",value:function(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}},{key:"render",value:function(t,e){e=e||this.model,t.openXml(r.StdDocAttributes),t.openNode("styleSheet",n.STYLESHEET_ATTRIBUTES),this.index?(e.numFmts&&e.numFmts.length&&(t.openNode("numFmts",{count:e.numFmts.length}),e.numFmts.forEach((function(e){t.writeXml(e)})),t.closeNode()),e.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),t.openNode("fonts",{count:e.fonts.length,"x14ac:knownFonts":1}),e.fonts.forEach((function(e){t.writeXml(e)})),t.closeNode(),t.openNode("fills",{count:e.fills.length}),e.fills.forEach((function(e){t.writeXml(e)})),t.closeNode(),t.openNode("borders",{count:e.borders.length}),e.borders.forEach((function(e){t.writeXml(e)})),t.closeNode(),this.map.cellStyleXfs.render(t,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),t.openNode("cellXfs",{count:e.styles.length}),e.styles.forEach((function(e){t.writeXml(e)})),t.closeNode()):(this.map.numFmts.render(t,e.numFmts),this.map.fonts.render(t,e.fonts),this.map.fills.render(t,e.fills),this.map.borders.render(t,e.borders),this.map.cellStyleXfs.render(t,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(t,e.styles)),n.STATIC_XFORMS.cellStyles.render(t),this.map.dxfs.render(t,e.dxfs),n.STATIC_XFORMS.tableStyles.render(t),n.STATIC_XFORMS.extLst.render(t),t.closeNode()}},{key:"parseOpen",value:function(t){return this.parser?(this.parser.parseOpen(t),!0):"styleSheet"===t.name?(this.initIndex(),!0):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t),!0)}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){var e=this;if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;if("styleSheet"===t){this.model={};var n=function(t,n){n.model&&n.model.length&&(e.model[t]=n.model)};if(n("numFmts",this.map.numFmts),n("fonts",this.map.fonts),n("fills",this.map.fills),n("borders",this.map.borders),n("styles",this.map.cellXfs),n("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){var i=this.index.numFmt;this.model.numFmts.forEach((function(t){i[t.id]=t.formatCode}))}return!1}return!0}},{key:"addStyleModel",value:function(t,e){if(!t)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(t))return this.weakMap.get(t);var n={};if(e=e||i.ValueType.Number,t.numFmt)n.numFmtId=this._addNumFmtStr(t.numFmt);else switch(e){case i.ValueType.Number:n.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:n.numFmtId=this._addNumFmtStr("mm-dd-yy")}t.font&&(n.fontId=this._addFont(t.font)),t.border&&(n.borderId=this._addBorder(t.border)),t.fill&&(n.fillId=this._addFill(t.fill)),t.alignment&&(n.alignment=t.alignment),t.protection&&(n.protection=t.protection);var r=this._addStyle(n);return this.weakMap&&this.weakMap.set(t,r),r}},{key:"getStyleModel",value:function(t){var e=this.model.styles[t];if(!e)return null;var n=this.index.model[t];if(n)return n;if(n=this.index.model[t]={},e.numFmtId){var i=this.index.numFmt[e.numFmtId]||f.getDefaultFmtCode(e.numFmtId);i&&(n.numFmt=i)}function r(t,e,i){if(i||0===i){var r=e[i];r&&(n[t]=r)}}return r("font",this.model.fonts,e.fontId),r("border",this.model.borders,e.borderId),r("fill",this.model.fills,e.fillId),e.alignment&&(n.alignment=e.alignment),e.protection&&(n.protection=e.protection),n}},{key:"addDxfStyle",value:function(t){return t.numFmt&&(t.numFmtId=this._addNumFmtStr(t.numFmt)),this.model.dxfs.push(t),this.model.dxfs.length-1}},{key:"getDxfStyle",value:function(t){return this.model.dxfs[t]}},{key:"_addStyle",value:function(t){var e=this.map.style.toXml(t),n=this.index.style[e];return void 0===n&&(n=this.index.style[e]=this.model.styles.length,this.model.styles.push(e)),n}},{key:"_addNumFmtStr",value:function(t){var e=f.getDefaultFmtId(t);if(void 0!==e)return e;if(void 0!==(e=this.index.numFmt[t]))return e;e=this.index.numFmt[t]=164+this.model.numFmts.length;var n=this.map.numFmt.toXml({id:e,formatCode:t});return this.model.numFmts.push(n),e}},{key:"_addFont",value:function(t){var e=this.map.font.toXml(t),n=this.index.font[e];return void 0===n&&(n=this.index.font[e]=this.model.fonts.length,this.model.fonts.push(e)),n}},{key:"_addBorder",value:function(t){var e=this.map.border.toXml(t),n=this.index.border[e];return void 0===n&&(n=this.index.border[e]=this.model.borders.length,this.model.borders.push(e)),n}},{key:"_addFill",value:function(t){var e=this.map.fill.toXml(t),n=this.index.fill[e];return void 0===n&&(n=this.index.fill[e]=this.model.fills.length,this.model.fills.push(e)),n}}]),n}(o);m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new a({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new a({tag:"dxfs",$:{count:0}}),tableStyles:new a({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new a({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]},t}return y(n,[{key:"parseStream",value:function(t){return t.autodrain(),Promise.resolve()}},{key:"addStyleModel",value:function(t,e){return e===i.ValueType.Date?this.dateStyleId:0}},{key:"dateStyleId",get:function(){if(!this._dateStyleId){var t={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(t)}return this._dateStyleId}},{key:"getStyleModel",value:function(){return{}}}]),n}(m),e.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,e,n){"use strict";var i=function(t){u(n,t);var e=h(n);function n(t){var i;return v(this,n),(i=e.call(this)).model=t,i}return y(n,[{key:"tag",get:function(){return"u"}},{key:"render",value:function(t,e){if(!0===(e=e||this.model))t.leafNode("u");else{var i=n.Attributes[e];i&&t.leafNode("u",i)}}},{key:"parseOpen",value:function(t){"u"===t.name&&(this.model=t.attributes.val||!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(t("../base-xform"));i.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},e.exports=i},{"../base-xform":32}],137:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("./filter-column-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={filterColumn:new r},t}return y(n,[{key:"tag",get:function(){return"autoFilter"}},{key:"prepare",value:function(t){var e=this;t.columns.forEach((function(t,n){e.map.filterColumn.prepare(t,{index:n})}))}},{key:"render",value:function(t,e){var n=this;return t.openNode(this.tag,{ref:e.autoFilterRef}),e.columns.forEach((function(e){n.map.filterColumn.render(t,e)})),t.closeNode(),!0}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;if(t.name===this.tag)return this.model={autoFilterRef:t.attributes.ref,columns:[]},!0;if(this.parser=this.map[t.name],this.parser)return this.parseOpen(t),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){if(this.parser)return this.parser.parseClose(t)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(t===this.tag)return!1;throw new Error("Unexpected xml node in parseClose: "+t)}}]),n}(i)},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"customFilter"}},{key:"render",value:function(t,e){t.leafNode(this.tag,{val:e.val,operator:e.operator})}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={val:t.attributes.val,operator:t.attributes.operator},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],139:[function(t,e,n){"use strict";var i=t("../base-xform"),r=t("../list-xform"),o=t("./custom-filter-xform"),a=t("./filter-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={customFilters:new r({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new r({tag:"filters",count:!1,empty:!0,childXform:new a})},t}return y(n,[{key:"tag",get:function(){return"filterColumn"}},{key:"prepare",value:function(t,e){t.colId=e.index.toString()}},{key:"render",value:function(t,e){return e.customFilters?(t.openNode(this.tag,{colId:e.colId,hiddenButton:e.filterButton?"0":"1"}),this.map.customFilters.render(t,e.customFilters),t.closeNode(),!0):(t.leafNode(this.tag,{colId:e.colId,hiddenButton:e.filterButton?"0":"1"}),!0)}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;var e=t.attributes;if(t.name===this.tag)return this.model={filterButton:"0"===e.hiddenButton},!0;if(this.parser=this.map[t.name],this.parser)return this.parseOpen(t),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model.customFilters=this.map.customFilters.model,!1)}}]),n}(i)},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"filter"}},{key:"render",value:function(t,e){t.leafNode(this.tag,{val:e.val})}},{key:"parseOpen",value:function(t){return t.name===this.tag&&(this.model={val:t.attributes.val},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],141:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"tableColumn"}},{key:"prepare",value:function(t,e){t.id=e.index+1}},{key:"render",value:function(t,e){return t.leafNode(this.tag,{id:e.id.toString(),name:e.name,totalsRowLabel:e.totalsRowLabel,totalsRowFunction:e.totalsRowFunction,dxfId:e.dxfId}),!0}},{key:"parseOpen",value:function(t){if(t.name===this.tag){var e=t.attributes;return this.model={name:e.name,totalsRowLabel:e.totalsRowLabel,totalsRowFunction:e.totalsRowFunction,dxfId:e.dxfId},!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],142:[function(t,e,n){"use strict";var i=t("../base-xform");e.exports=function(t){u(n,t);var e=h(n);function n(){return v(this,n),e.apply(this,arguments)}return y(n,[{key:"tag",get:function(){return"tableStyleInfo"}},{key:"render",value:function(t,e){return t.leafNode(this.tag,{name:e.theme?e.theme:void 0,showFirstColumn:e.showFirstColumn?"1":"0",showLastColumn:e.showLastColumn?"1":"0",showRowStripes:e.showRowStripes?"1":"0",showColumnStripes:e.showColumnStripes?"1":"0"}),!0}},{key:"parseOpen",value:function(t){if(t.name===this.tag){var e=t.attributes;return this.model={theme:e.name?e.name:null,showFirstColumn:"1"===e.showFirstColumn,showLastColumn:"1"===e.showLastColumn,showRowStripes:"1"===e.showRowStripes,showColumnStripes:"1"===e.showColumnStripes},!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}]),n}(i)},{"../base-xform":32}],143:[function(t,e,n){"use strict";var i=t("../../../utils/xml-stream"),r=t("../base-xform"),o=t("../list-xform"),a=t("./auto-filter-xform"),s=t("./table-column-xform"),l=t("./table-style-info-xform"),c=function(t){u(n,t);var e=h(n);function n(){var t;return v(this,n),(t=e.call(this)).map={autoFilter:new a,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new s}),tableStyleInfo:new l},t}return y(n,[{key:"prepare",value:function(t,e){this.map.autoFilter.prepare(t),this.map.tableColumns.prepare(t.columns,e)}},{key:"tag",get:function(){return"table"}},{key:"render",value:function(t,e){t.openXml(i.StdDocAttributes),t.openNode(this.tag,f(f({},n.TABLE_ATTRIBUTES),{},{id:e.id,name:e.name,displayName:e.displayName||e.name,ref:e.tableRef,totalsRowCount:e.totalsRow?"1":void 0,totalsRowShown:e.totalsRow?void 0:"1",headerRowCount:e.headerRow?"1":"0"})),this.map.autoFilter.render(t,e),this.map.tableColumns.render(t,e.columns),this.map.tableStyleInfo.render(t,e.style),t.closeNode()}},{key:"parseOpen",value:function(t){if(this.parser)return this.parser.parseOpen(t),!0;var e=t.name,n=t.attributes;return e===this.tag?(this.reset(),this.model={name:n.name,displayName:n.displayName||n.name,tableRef:n.ref,totalsRow:"1"===n.totalsRowCount,headerRow:"1"===n.headerRowCount}):(this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)),!0}},{key:"parseText",value:function(t){this.parser&&this.parser.parseText(t)}},{key:"parseClose",value:function(t){var e=this;return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):t!==this.tag||(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((function(t,n){e.model.columns[n].filterButton=t.filterButton}))),this.model.style=this.map.tableStyleInfo.model,!1)}},{key:"reconcile",value:function(t,e){t.columns.forEach((function(t){void 0!==t.dxfId&&(t.style=e.styles.getDxfStyle(t.dxfId))}))}}]),n}(r);c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},e.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,e,n){(function(n,i){(function(){"use strict";var r=t("fs"),o=t("jszip"),a=t("readable-stream").PassThrough,s=t("../utils/zip-stream"),l=t("../utils/stream-buf"),u=t("../utils/utils"),h=t("../utils/xml-stream"),c=t("../utils/browser-buffer-decode").bufferToString,d=t("./xform/style/styles-xform"),f=t("./xform/core/core-xform"),p=t("./xform/strings/shared-strings-xform"),b=t("./xform/core/relationships-xform"),w=t("./xform/core/content-types-xform"),x=t("./xform/core/app-xform"),C=t("./xform/book/workbook-xform"),S=t("./xform/sheet/worksheet-xform"),M=t("./xform/drawing/drawing-xform"),A=t("./xform/table/table-xform"),T=t("./xform/comment/comments-xform"),k=t("./xform/comment/vml-notes-xform"),R=t("./xml/theme1"),I=function(){function t(e){v(this,t),this.workbook=e}var e,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$,X,Y,q,J,Q;return y(t,[{key:"readFile",value:(Q=m(g().mark((function t(e,n){var i,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.fs.exists(e);case 2:if(t.sent){t.next=4;break}throw new Error("File not found: "+e);case 4:return i=r.createReadStream(e),t.prev=5,t.next=8,this.read(i,n);case 8:return o=t.sent,t.abrupt("return",(i.close(),o));case 12:throw t.prev=12,t.t0=t.catch(5),i.close(),t.t0;case 15:case"end":return t.stop()}}),t,this,[[5,12]])}))),function(t,e){return Q.apply(this,arguments)})},{key:"parseRels",value:function(t){return(new b).parseStream(t)}},{key:"parseWorkbook",value:function(t){return(new C).parseStream(t)}},{key:"parseSharedStrings",value:function(t){return(new p).parseStream(t)}},{key:"reconcile",value:function(t,e){var n=new C,i=new S(e),r=new M,o=new A;n.reconcile(t);var a={media:t.media,mediaIndex:t.mediaIndex};Object.keys(t.drawings).forEach((function(e){var n=t.drawings[e],i=t.drawingRels[e];i&&(a.rels=i.reduce((function(t,e){return t[e.Id]=e,t}),{}),(n.anchors||[]).forEach((function(t){var e=t.picture&&t.picture.hyperlinks;e&&a.rels[e.rId]&&(e.hyperlink=a.rels[e.rId].Target,delete e.rId)})),r.reconcile(n,a))}));var s={styles:t.styles};Object.values(t.tables).forEach((function(t){o.reconcile(t,s)}));var l={styles:t.styles,sharedStrings:t.sharedStrings,media:t.media,mediaIndex:t.mediaIndex,date1904:t.properties&&t.properties.date1904,drawings:t.drawings,comments:t.comments,tables:t.tables,vmlDrawings:t.vmlDrawings};t.worksheets.forEach((function(e){e.relationships=t.worksheetRels[e.sheetNo],i.reconcile(e,l)})),delete t.worksheetHash,delete t.worksheetRels,delete t.globalRels,delete t.sharedStrings,delete t.workbookRels,delete t.sheetDefs,delete t.styles,delete t.mediaIndex,delete t.drawings,delete t.drawingRels,delete t.vmlDrawings}},{key:"_processWorksheetEntry",value:(J=m(g().mark((function t(e,n,i,r,o){var a,s;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new S(r),t.next=3,a.parseStream(e);case 3:(s=t.sent).sheetNo=i,n.worksheetHash[o]=s,n.worksheets.push(s);case 5:case"end":return t.stop()}}),t)}))),function(t,e,n,i,r){return J.apply(this,arguments)})},{key:"_processCommentEntry",value:(q=m(g().mark((function t(e,n,i){var r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new T,t.next=3,r.parseStream(e);case 3:o=t.sent,n.comments["../".concat(i,".xml")]=o;case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return q.apply(this,arguments)})},{key:"_processTableEntry",value:(Y=m(g().mark((function t(e,n,i){var r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new A,t.next=3,r.parseStream(e);case 3:o=t.sent,n.tables["../tables/".concat(i,".xml")]=o;case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return Y.apply(this,arguments)})},{key:"_processWorksheetRelsEntry",value:(X=m(g().mark((function t(e,n,i){var r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new b,t.next=3,r.parseStream(e);case 3:o=t.sent,n.worksheetRels[i]=o;case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return X.apply(this,arguments)})},{key:"_processMediaEntry",value:($=m(g().mark((function t(e,n,i){var r,o,a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=i.lastIndexOf("."))>=1)){t.next=5;break}return o=i.substr(r+1),a=i.substr(0,r),t.next=5,new Promise((function(t,r){var s=new l;s.on("finish",(function(){n.mediaIndex[i]=n.media.length,n.mediaIndex[a]=n.media.length;var e={type:"image",name:a,extension:o,buffer:s.toBuffer()};n.media.push(e),t()})),e.on("error",(function(t){r(t)})),e.pipe(s)}));case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return $.apply(this,arguments)})},{key:"_processDrawingEntry",value:(K=m(g().mark((function t(e,n,i){var r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new M,t.next=3,r.parseStream(e);case 3:o=t.sent,n.drawings[i]=o;case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return K.apply(this,arguments)})},{key:"_processDrawingRelsEntry",value:(U=m(g().mark((function t(e,n,i){var r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new b,t.next=3,r.parseStream(e);case 3:o=t.sent,n.drawingRels[i]=o;case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return U.apply(this,arguments)})},{key:"_processVmlDrawingEntry",value:(Z=m(g().mark((function t(e,n,i){var r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new k,t.next=3,r.parseStream(e);case 3:o=t.sent,n.vmlDrawings["../drawings/".concat(i,".vml")]=o;case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return Z.apply(this,arguments)})},{key:"_processThemeEntry",value:(G=m(g().mark((function t(e,n,i){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,r){var o=new l;e.on("error",r),o.on("error",r),o.on("finish",(function(){n.themes[i]=o.read().toString(),t()})),e.pipe(o)}));case 2:case"end":return t.stop()}}),t)}))),function(t,e,n){return G.apply(this,arguments)})},{key:"createInputStream",value:function(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}},{key:"read",value:(V=m(g().mark((function t(e,n){var r,o,s,l,u,h,c;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!e[Symbol.asyncIterator]&&e.pipe&&(e=e.pipe(new a)),r=[],o=!1,s=!1,t.prev=4,u=_(e);case 6:return t.next=8,u.next();case 8:if(!(o=!(h=t.sent).done)){t.next=14;break}c=h.value,r.push(c);case 11:o=!1,t.next=6;break;case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(4),s=!0,l=t.t0;case 20:if(t.prev=20,t.prev=21,!o||null==u.return){t.next=25;break}return t.next=25,u.return();case 25:if(t.prev=25,!s){t.next=28;break}throw l;case 28:return t.finish(25);case 29:return t.finish(20);case 30:return t.abrupt("return",this.load(i.concat(r),n));case 31:case"end":return t.stop()}}),t,this,[[4,16,20,30],[21,,25,29]])}))),function(t,e){return V.apply(this,arguments)})},{key:"load",value:(j=m(g().mark((function t(e,r){var s,l,u,h,m,v,y,b,w,_,C,S,M,A,T,k;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r&&r.base64?i.from(e.toString(),"base64"):e,l={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},t.next=4,o.loadAsync(s);case 4:u=t.sent,h=0,m=Object.values(u.files);case 6:if(!(h<m.length)){t.next=111;break}if((v=m[h]).dir){t.next=108;break}if(y=void 0,"/"===(b=v.name)[0]&&(b=b.substr(1)),!b.match(/xl\/media\//)&&!b.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/)){t.next=19;break}return y=new a,t.t0=y,t.next=15,v.async("nodebuffer");case 15:t.t1=t.sent,t.t0.write.call(t.t0,t.t1),t.next=35;break;case 19:if(w=void 0,y=new a({writableObjectMode:!0,readableObjectMode:!0}),!n.browser){t.next=29;break}return t.t3=c,t.next=25,v.async("nodebuffer");case 25:t.t4=t.sent,t.t2=(0,t.t3)(t.t4),t.next=32;break;case 29:return t.next=31,v.async("string");case 31:t.t2=t.sent;case 32:for(w=t.t2,_=0;_<w.length;_+=16384)y.write(w.substring(_,_+16384));case 35:t.t5=(y.end(),b),t.next="_rels/.rels"===t.t5?38:"xl/workbook.xml"===t.t5?42:"xl/_rels/workbook.xml.rels"===t.t5?47:"xl/sharedStrings.xml"===t.t5?51:"xl/styles.xml"===t.t5?55:"docProps/app.xml"===t.t5?59:"docProps/core.xml"===t.t5?65:71;break;case 38:return t.next=40,this.parseRels(y);case 40:return l.globalRels=t.sent,t.abrupt("break",108);case 42:return t.next=44,this.parseWorkbook(y);case 44:return C=t.sent,l.sheets=C.sheets,l.definedNames=C.definedNames,l.views=C.views,l.properties=C.properties,l.calcProperties=C.calcProperties,t.abrupt("break",108);case 47:return t.next=49,this.parseRels(y);case 49:return l.workbookRels=t.sent,t.abrupt("break",108);case 51:return l.sharedStrings=new p,t.next=54,l.sharedStrings.parseStream(y);case 54:return t.abrupt("break",108);case 55:return l.styles=new d,t.next=58,l.styles.parseStream(y);case 58:return t.abrupt("break",108);case 59:return S=new x,t.next=62,S.parseStream(y);case 62:return M=t.sent,l.company=M.company,l.manager=M.manager,t.abrupt("break",108);case 65:return A=new f,t.next=68,A.parseStream(y);case 68:return T=t.sent,Object.assign(l,T),t.abrupt("break",108);case 71:if(!(k=b.match(/xl\/worksheets\/sheet(\d+)[.]xml/))){t.next=76;break}return t.next=75,this._processWorksheetEntry(y,l,k[1],r,b);case 75:return t.abrupt("break",108);case 76:if(!(k=b.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/))){t.next=80;break}return t.next=79,this._processWorksheetRelsEntry(y,l,k[1]);case 79:return t.abrupt("break",108);case 80:if(!(k=b.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))){t.next=84;break}return t.next=83,this._processThemeEntry(y,l,k[1]);case 83:return t.abrupt("break",108);case 84:if(!(k=b.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/))){t.next=88;break}return t.next=87,this._processMediaEntry(y,l,k[1]);case 87:return t.abrupt("break",108);case 88:if(!(k=b.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/))){t.next=92;break}return t.next=91,this._processDrawingEntry(y,l,k[1]);case 91:return t.abrupt("break",108);case 92:if(!(k=b.match(/xl\/(comments\d+)[.]xml/))){t.next=96;break}return t.next=95,this._processCommentEntry(y,l,k[1]);case 95:return t.abrupt("break",108);case 96:if(!(k=b.match(/xl\/tables\/(table\d+)[.]xml/))){t.next=100;break}return t.next=99,this._processTableEntry(y,l,k[1]);case 99:return t.abrupt("break",108);case 100:if(!(k=b.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/))){t.next=104;break}return t.next=103,this._processDrawingRelsEntry(y,l,k[1]);case 103:return t.abrupt("break",108);case 104:if(!(k=b.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/))){t.next=108;break}return t.next=107,this._processVmlDrawingEntry(y,l,k[1]);case 107:return t.abrupt("break",108);case 108:h++,t.next=6;break;case 111:return t.abrupt("return",(this.reconcile(l,r),this.workbook.model=l,this.workbook));case 112:case"end":return t.stop()}}),t,this)}))),function(t,e){return j.apply(this,arguments)})},{key:"addMedia",value:(W=m(g().mark((function t(e,n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.media.map(function(){var t=m(g().mark((function t(n){var i,o,a,s;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("image"!==n.type){t.next=12;break}if(i="xl/media/".concat(n.name,".").concat(n.extension),!n.filename){t.next=7;break}return t.next=5,function(t,e){return new Promise((function(e,n){r.readFile(t,void 0,(function(t,i){t?n(t):e(i)}))}))}(n.filename);case 5:return o=t.sent,t.abrupt("return",e.append(o,{name:i}));case 7:if(!n.buffer){t.next=9;break}return t.abrupt("return",e.append(n.buffer,{name:i}));case 9:if(!n.base64){t.next=12;break}return a=n.base64,s=a.substring(a.indexOf(",")+1),t.abrupt("return",e.append(s,{name:i,base64:!0}));case 12:throw new Error("Unsupported media");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)}))),function(t,e){return W.apply(this,arguments)})},{key:"addDrawings",value:function(t,e){var n=new M,i=new b;e.worksheets.forEach((function(e){var r=e.drawing;if(r){n.prepare(r,{});var o=n.toXml(r);t.append(o,{name:"xl/drawings/".concat(r.name,".xml")}),o=i.toXml(r.rels),t.append(o,{name:"xl/drawings/_rels/".concat(r.name,".xml.rels")})}}))}},{key:"addTables",value:function(t,e){var n=new A;e.worksheets.forEach((function(e){e.tables.forEach((function(e){n.prepare(e,{});var i=n.toXml(e);t.append(i,{name:"xl/tables/"+e.target})}))}))}},{key:"addContentTypes",value:(z=m(g().mark((function t(e,n){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(new w).toXml(n),e.append(i,{name:"[Content_Types].xml"});case 2:case"end":return t.stop()}}),t)}))),function(t,e){return z.apply(this,arguments)})},{key:"addApp",value:(N=m(g().mark((function t(e,n){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(new x).toXml(n),e.append(i,{name:"docProps/app.xml"});case 2:case"end":return t.stop()}}),t)}))),function(t,e){return N.apply(this,arguments)})},{key:"addCore",value:(H=m(g().mark((function t(e,n){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=new f,e.append(i.toXml(n),{name:"docProps/core.xml"});case 2:case"end":return t.stop()}}),t)}))),function(t,e){return H.apply(this,arguments)})},{key:"addThemes",value:(F=m(g().mark((function t(e,n){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.themes||{theme1:R},Object.keys(i).forEach((function(t){var n=i[t],r="xl/theme/".concat(t,".xml");e.append(n,{name:r})}));case 2:case"end":return t.stop()}}),t)}))),function(t,e){return F.apply(this,arguments)})},{key:"addOfficeRels",value:(O=m(g().mark((function e(n){var i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(new b).toXml([{Id:"rId1",Type:t.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:t.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:t.RelType.ExtenderProperties,Target:"docProps/app.xml"}]),n.append(i,{name:"_rels/.rels"});case 2:case"end":return e.stop()}}),e)}))),function(t){return O.apply(this,arguments)})},{key:"addWorkbookRels",value:(D=m(g().mark((function e(n,i){var r,o,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,o=[{Id:"rId"+r++,Type:t.RelType.Styles,Target:"styles.xml"},{Id:"rId"+r++,Type:t.RelType.Theme,Target:"theme/theme1.xml"}],i.sharedStrings.count&&o.push({Id:"rId"+r++,Type:t.RelType.SharedStrings,Target:"sharedStrings.xml"}),i.worksheets.forEach((function(e){e.rId="rId"+r++,o.push({Id:e.rId,Type:t.RelType.Worksheet,Target:"worksheets/sheet".concat(e.id,".xml")})})),a=(new b).toXml(o),n.append(a,{name:"xl/_rels/workbook.xml.rels"});case 5:case"end":return e.stop()}}),e)}))),function(t,e){return D.apply(this,arguments)})},{key:"addSharedStrings",value:(L=m(g().mark((function t(e,n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.sharedStrings&&n.sharedStrings.count&&e.append(n.sharedStrings.xml,{name:"xl/sharedStrings.xml"});case 1:case"end":return t.stop()}}),t)}))),function(t,e){return L.apply(this,arguments)})},{key:"addStyles",value:(B=m(g().mark((function t(e,n){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=n.styles.xml)&&e.append(i,{name:"xl/styles.xml"});case 2:case"end":return t.stop()}}),t)}))),function(t,e){return B.apply(this,arguments)})},{key:"addWorkbook",value:(E=m(g().mark((function t(e,n){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=new C,e.append(i.toXml(n),{name:"xl/workbook.xml"});case 2:case"end":return t.stop()}}),t)}))),function(t,e){return E.apply(this,arguments)})},{key:"addWorksheets",value:(P=m(g().mark((function t(e,n){var i,r,o,a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=new S,r=new b,o=new T,a=new k,n.worksheets.forEach((function(t){var n=new h;i.render(n,t),e.append(n.xml,{name:"xl/worksheets/sheet".concat(t.id,".xml")}),t.rels&&t.rels.length&&(n=new h,r.render(n,t.rels),e.append(n.xml,{name:"xl/worksheets/_rels/sheet".concat(t.id,".xml.rels")})),t.comments.length>0&&(n=new h,o.render(n,t),e.append(n.xml,{name:"xl/comments".concat(t.id,".xml")}),n=new h,a.render(n,t),e.append(n.xml,{name:"xl/drawings/vmlDrawing".concat(t.id,".vml")}))}));case 2:case"end":return t.stop()}}),t)}))),function(t,e){return P.apply(this,arguments)})},{key:"_finalize",value:function(t){var e=this;return new Promise((function(n,i){t.on("finish",(function(){n(e)})),t.on("error",i),t.finalize()}))}},{key:"prepareModel",value:function(t,e){t.creator=t.creator||"ExcelJS",t.lastModifiedBy=t.lastModifiedBy||"ExcelJS",t.created=t.created||new Date,t.modified=t.modified||new Date,t.useSharedStrings=void 0===e.useSharedStrings||e.useSharedStrings,t.useStyles=void 0===e.useStyles||e.useStyles,t.sharedStrings=new p,t.styles=t.useStyles?new d(!0):new d.Mock;var n=new C,i=new S;n.prepare(t);var r={sharedStrings:t.sharedStrings,styles:t.styles,date1904:t.properties.date1904,drawingsCount:0,media:t.media};r.drawings=t.drawings=[],r.commentRefs=t.commentRefs=[];var o=0;t.tables=[],t.worksheets.forEach((function(e){e.tables.forEach((function(e){o++,e.target="table".concat(o,".xml"),e.id=o,t.tables.push(e)})),i.prepare(e,r)}))}},{key:"write",value:(I=m(g().mark((function t(e,n){var i,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=n||{},i=this.workbook.model,(r=new s.ZipWriter(n.zip)).pipe(e),this.prepareModel(i,n),t.next=6,this.addContentTypes(r,i);case 6:return t.next=8,this.addOfficeRels(r,i);case 8:return t.next=10,this.addWorkbookRels(r,i);case 10:return t.next=12,this.addWorksheets(r,i);case 12:return t.next=14,this.addSharedStrings(r,i);case 14:return t.next=16,this.addDrawings(r,i);case 16:return t.next=18,this.addTables(r,i);case 18:return t.next=20,Promise.all([this.addThemes(r,i),this.addStyles(r,i)]);case 20:return t.next=22,this.addMedia(r,i);case 22:return t.next=24,Promise.all([this.addApp(r,i),this.addCore(r,i)]);case 24:return t.next=26,this.addWorkbook(r,i);case 26:return t.abrupt("return",this._finalize(r));case 27:case"end":return t.stop()}}),t,this)}))),function(t,e){return I.apply(this,arguments)})},{key:"writeFile",value:function(t,e){var n=this,i=r.createWriteStream(t);return new Promise((function(t,r){i.on("finish",(function(){t()})),i.on("error",(function(t){r(t)})),n.write(i,e).then((function(){i.end()})).catch((function(t){r(t)}))}))}},{key:"writeBuffer",value:(e=m(g().mark((function t(e){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new l,t.next=3,this.write(n,e);case 3:return t.abrupt("return",n.read());case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();I.RelType=t("./rel-type"),e.exports=I}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,e,n){"use strict";e.exports='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>'},{}],146:[function(t,e,n){(function(e){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;var i=t("stream"),r=t("./formatter"),o=function(t){u(i,t);var n=h(i);function i(t){var e;return v(this,i),(e=n.call(this,{writableObjectMode:t.objectMode})).hasWrittenBOM=!1,e.formatterOptions=t,e.rowFormatter=new r.RowFormatter(t),e.hasWrittenBOM=!t.writeBOM,e}return y(i,[{key:"transform",value:function(t){return this.rowFormatter.rowTransform=t,this}},{key:"_transform",value:function(t,n,i){var r=this,o=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(t,(function(t,n){return t?(o=!0,i(t)):(n&&n.forEach((function(t){r.push(e.from(t,"utf8"))})),o=!0,i())}))}catch(t){if(o)throw t;i(t)}}},{key:"_flush",value:function(t){var n=this;this.rowFormatter.finish((function(i,r){return i?t(i):(r&&r.forEach((function(t){n.push(e.from(t,"utf8"))})),t())}))}}]),i}(i.Transform);n.CsvFormatterStream=o}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=function(){return y((function t(){v(this,t);var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.objectMode=!0,this.delimiter=",",this.rowDelimiter="\n",this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\ufeff",this.alwaysWriteHeaders=!1,Object.assign(this,n||{}),void 0===(null==n?void 0:n.quoteHeaders)&&(this.quoteHeaders=this.quoteColumns),!0===(null==n?void 0:n.quote)?this.quote='"':!1===(null==n?void 0:n.quote)&&(this.quote=""),"string"!=typeof(null==n?void 0:n.escape)&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&(null===(e=n.writeHeaders)||void 0===e||e),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote="".concat(this.escape).concat(this.quote)}))}()},{}],148:[function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;var r=i(t("lodash.isboolean")),o=i(t("lodash.isnil")),a=i(t("lodash.escaperegexp"));n.FieldFormatter=function(){function t(e){v(this,t),this._headers=null,this.formatterOptions=e,null!==e.headers&&(this.headers=e.headers),this.REPLACE_REGEXP=new RegExp(e.quote,"g");var n="[".concat(e.delimiter).concat(a.default(e.rowDelimiter),"|\r|\n]");this.ESCAPE_REGEXP=new RegExp(n)}return y(t,[{key:"headers",set:function(t){this._headers=t}},{key:"shouldQuote",value:function(t,e){var n=e?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return r.default(n)?n:Array.isArray(n)?n[t]:null!==this._headers&&n[this._headers[t]]}},{key:"format",value:function(t,e,n){var i=(""+(o.default(t)?"":t)).replace(/\0/g,""),r=this.formatterOptions;return""!==r.quote&&-1!==i.indexOf(r.quote)?this.quoteField(i.replace(this.REPLACE_REGEXP,r.escapedQuote)):-1!==i.search(this.ESCAPE_REGEXP)||this.shouldQuote(e,n)?this.quoteField(i):i}},{key:"quoteField",value:function(t){var e=this.formatterOptions.quote;return"".concat(e).concat(t).concat(e)}}]),t}()},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;var r=i(t("lodash.isfunction")),o=i(t("lodash.isequal")),a=t("./FieldFormatter"),s=t("../types"),l=function(){function t(e){v(this,t),this.rowCount=0,this.formatterOptions=e,this.fieldFormatter=new a.FieldFormatter(e),this.headers=e.headers,this.shouldWriteHeaders=e.shouldWriteHeaders,this.hasWrittenHeaders=!1,null!==this.headers&&(this.fieldFormatter.headers=this.headers),e.transform&&(this.rowTransform=e.transform)}return y(t,[{key:"rowTransform",set:function(e){if(!r.default(e))throw new TypeError("The transform should be a function");this._rowTransform=t.createTransform(e)}},{key:"format",value:function(t,e){var n=this;this.callTransformer(t,(function(i,r){if(i)return e(i);if(!t)return e(null);var o=[];if(r){var a=n.checkHeaders(r),s=a.shouldFormatColumns,l=a.headers;if(n.shouldWriteHeaders&&l&&!n.hasWrittenHeaders&&(o.push(n.formatColumns(l,!0)),n.hasWrittenHeaders=!0),s){var u=n.gatherColumns(r);o.push(n.formatColumns(u,!1))}}return e(null,o)}))}},{key:"finish",value:function(t){var e=[];if(this.formatterOptions.alwaysWriteHeaders&&0===this.rowCount){if(!this.headers)return t(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));e.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&e.push(this.formatterOptions.rowDelimiter),t(null,e)}},{key:"checkHeaders",value:function(e){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};var n=t.gatherHeaders(e);return this.headers=n,this.fieldFormatter.headers=n,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(n,e),headers:n}:{shouldFormatColumns:!0,headers:null}}},{key:"gatherColumns",value:function(e){if(null===this.headers)throw new Error("Headers is currently null");return Array.isArray(e)?t.isRowHashArray(e)?this.headers.map((function(t,n){var i=e[n];return i?i[1]:""})):t.isRowArray(e)&&!this.shouldWriteHeaders?e:this.headers.map((function(t,n){return e[n]})):this.headers.map((function(t){return e[t]}))}},{key:"callTransformer",value:function(t,e){return this._rowTransform?this._rowTransform(t,e):e(null,t)}},{key:"formatColumns",value:function(t,e){var n=this,i=t.map((function(t,i){return n.fieldFormatter.format(t,i,e)})).join(this.formatterOptions.delimiter),r=this.rowCount;return this.rowCount+=1,r?[this.formatterOptions.rowDelimiter,i].join(""):i}}],[{key:"isRowHashArray",value:function(t){return!!Array.isArray(t)&&Array.isArray(t[0])&&2===t[0].length}},{key:"isRowArray",value:function(t){return Array.isArray(t)&&!this.isRowHashArray(t)}},{key:"gatherHeaders",value:function(e){return t.isRowHashArray(e)?e.map((function(t){return t[0]})):Array.isArray(e)?e:Object.keys(e)}},{key:"createTransform",value:function(t){return s.isSyncTransform(t)?function(e,n){var i=null;try{i=t(e)}catch(t){return n(t)}return n(null,i)}:function(e,n){t(e,n)}}}]),t}();n.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var i=t("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var r=t("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return r.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,e,n){(function(e){(function(){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;var o=t("util"),a=t("stream"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e}(t("fs")),l=t("./FormatterOptions"),u=t("./CsvFormatterStream");!function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)}(t("./types"),n);var h=t("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return h.CsvFormatterStream}});var c=t("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return c.FormatterOptions}}),n.format=function(t){return new u.CsvFormatterStream(new l.FormatterOptions(t))},n.write=function(t,e){var i=n.format(e),r=o.promisify((function(t,e){i.write(t,void 0,e)}));return t.reduce((function(t,e){return t.then((function(){return r(e)}))}),Promise.resolve()).then((function(){return i.end()})).catch((function(t){i.emit("error",t)})),i},n.writeToStream=function(t,e,i){return n.write(e,i).pipe(t)},n.writeToBuffer=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],o=new a.Writable({write:function(t,e,n){r.push(t),n()}});return new Promise((function(a,s){o.on("error",s).on("finish",(function(){return a(e.concat(r))})),n.write(t,i).pipe(o)}))},n.writeToString=function(t,e){return n.writeToBuffer(t,e).then((function(t){return t.toString()}))},n.writeToPath=function(t,e,i){var r=s.createWriteStream(t,{encoding:"utf8"});return n.write(e,i).pipe(r)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=function(t){return 1===t.length}},{}],153:[function(t,e,n){(function(e){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;var i=t("string_decoder"),r=t("stream"),o=t("./transforms"),a=t("./parser"),c=function(t){u(r,t);var n=h(r);function r(t){var e;return v(this,r),(e=n.call(this,{objectMode:t.objectMode})).lines="",e.rowCount=0,e.parsedRowCount=0,e.parsedLineCount=0,e.endEmitted=!1,e.headersEmitted=!1,e.parserOptions=t,e.parser=new a.Parser(t),e.headerTransformer=new o.HeaderTransformer(t),e.decoder=new i.StringDecoder(t.encoding),e.rowTransformerValidator=new o.RowTransformerValidator,e}return y(r,[{key:"hasHitRowLimit",get:function(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}},{key:"shouldEmitRows",get:function(){return this.parsedRowCount>this.parserOptions.skipRows}},{key:"shouldSkipLine",get:function(){return this.parsedLineCount<=this.parserOptions.skipLines}},{key:"transform",value:function(t){return this.rowTransformerValidator.rowTransform=t,this}},{key:"validate",value:function(t){return this.rowTransformerValidator.rowValidator=t,this}},{key:"emit",value:function(t){var e;if("end"===t)return this.endEmitted||(this.endEmitted=!0,s(l(r.prototype),"emit",this).call(this,"end",this.rowCount)),!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=s(l(r.prototype),"emit",this)).call.apply(e,[this,t].concat(i))}},{key:"_transform",value:function(t,e,n){if(this.hasHitRowLimit)return n();var i=r.wrapDoneCallback(n);try{var o=this.lines+this.decoder.write(t),a=this.parse(o,!0);return this.processRows(a,i)}catch(t){return i(t)}}},{key:"_flush",value:function(t){var e=r.wrapDoneCallback(t);if(this.hasHitRowLimit)return e();try{var n=this.lines+this.decoder.end(),i=this.parse(n,!1);return this.processRows(i,e)}catch(t){return e(t)}}},{key:"parse",value:function(t,e){if(!t)return[];var n=this.parser.parse(t,e),i=n.line,r=n.rows;return this.lines=i,r}},{key:"processRows",value:function(t,n){var i=this,r=t.length;!function o(a){var s=function(t){return t?n(t):a%100!=0?o(a+1):void e((function(){return o(a+1)}))};if(i.checkAndEmitHeaders(),a>=r||i.hasHitRowLimit)return n();if(i.parsedLineCount+=1,i.shouldSkipLine)return s();var l=t[a];i.rowCount+=1,i.parsedRowCount+=1;var u=i.rowCount;return i.transformRow(l,(function(t,e){if(t)return i.rowCount-=1,s(t);if(!e)return s(new Error("expected transform result"));if(e.isValid){if(e.row)return i.pushRow(e.row,s)}else i.emit("data-invalid",e.row,u,e.reason);return s()}))}(0)}},{key:"transformRow",value:function(t,e){var n=this;try{this.headerTransformer.transform(t,(function(i,r){return i?e(i):r?r.isValid?r.row?n.shouldEmitRows?n.rowTransformerValidator.transformAndValidate(r.row,e):n.skipRow(e):(n.rowCount-=1,n.parsedRowCount-=1,e(null,{row:null,isValid:!0})):n.shouldEmitRows?e(null,{isValid:!1,row:t}):n.skipRow(e):e(new Error("Expected result from header transform"))}))}catch(t){e(t)}}},{key:"checkAndEmitHeaders",value:function(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}},{key:"skipRow",value:function(t){return this.rowCount-=1,t(null,{row:null,isValid:!0})}},{key:"pushRow",value:function(t,e){try{this.parserOptions.objectMode?this.push(t):this.push(JSON.stringify(t)),e()}catch(t){e(t)}}}],[{key:"wrapDoneCallback",value:function(t){var e=!1;return function(n){if(n){if(e)throw n;return e=!0,void t(n)}for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];t.apply(void 0,r)}}}]),r}(r.Transform);n.CsvParserStream=c}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;var r=i(t("lodash.escaperegexp")),o=i(t("lodash.isnil"));n.ParserOptions=function(){return y((function t(e){var n;if(v(this,t),this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,e||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=r.default(this.delimiter),this.escapeChar=null!==(n=this.escape)&&void 0!==n?n:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp("([^\\s]|\\r\\n|\\n|\\r|".concat(this.escapedDelimiter,")")),this.maxRows>0&&(this.limitRows=!0)}))}()},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,e,n){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e}(t("fs")),a=t("stream"),s=t("./ParserOptions"),l=t("./CsvParserStream");!function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)}(t("./types"),n);var u=t("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}});var h=t("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return h.ParserOptions}}),n.parse=function(t){return new l.CsvParserStream(new s.ParserOptions(t))},n.parseStream=function(t,e){return t.pipe(new l.CsvParserStream(new s.ParserOptions(e)))},n.parseFile=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.createReadStream(t).pipe(new l.CsvParserStream(new s.ParserOptions(e)))},n.parseString=function(t,e){var n=new a.Readable;return n.push(t),n.push(null),n.pipe(new l.CsvParserStream(new s.ParserOptions(e)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;var i=t("./Scanner"),r=t("./RowParser"),o=t("./Token"),a=function(){function t(e){v(this,t),this.parserOptions=e,this.rowParser=new r.RowParser(this.parserOptions)}return y(t,[{key:"parse",value:function(e,n){var r=new i.Scanner({line:t.removeBOM(e),parserOptions:this.parserOptions,hasMoreData:n});return this.parserOptions.supportsComments?this.parseWithComments(r):this.parseWithoutComments(r)}},{key:"parseWithoutComments",value:function(t){for(var e=[],n=!0;n;)n=this.parseRow(t,e);return{line:t.line,rows:e}}},{key:"parseWithComments",value:function(t){for(var e=this.parserOptions,n=[],i=t.nextCharacterToken;null!==i;i=t.nextCharacterToken)if(o.Token.isTokenComment(i,e)){if(null===t.advancePastLine())return{line:t.lineFromCursor,rows:n};if(!t.hasMoreCharacters)return{line:t.lineFromCursor,rows:n};t.truncateToCursor()}else if(!this.parseRow(t,n))break;return{line:t.line,rows:n}}},{key:"parseRow",value:function(t,e){if(!t.nextNonSpaceToken)return!1;var n=this.rowParser.parse(t);return null!==n&&(this.parserOptions.ignoreEmpty&&r.RowParser.isEmptyRow(n)||e.push(n),!0)}}],[{key:"removeBOM",value:function(t){return t&&65279===t.charCodeAt(0)?t.slice(1):t}}]),t}();n.Parser=a},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;var i=t("./column"),r=t("./Token");n.RowParser=function(){function t(e){v(this,t),this.parserOptions=e,this.columnParser=new i.ColumnParser(e)}return y(t,[{key:"parse",value:function(t){for(var e=this.parserOptions,n=t.hasMoreData,i=t,o=[],a=this.getStartToken(i,o);a;){if(r.Token.isTokenRowDelimiter(a))return i.advancePastToken(a),!i.hasMoreCharacters&&r.Token.isTokenCarriageReturn(a,e)&&n?null:(i.truncateToCursor(),o);if(!this.shouldSkipColumnParse(i,a,o)){var s=this.columnParser.parse(i);if(null===s)return null;o.push(s)}a=i.nextNonSpaceToken}return n?null:(i.truncateToCursor(),o)}},{key:"getStartToken",value:function(t,e){var n=t.nextNonSpaceToken;return null!==n&&r.Token.isTokenDelimiter(n,this.parserOptions)?(e.push(""),t.nextNonSpaceToken):n}},{key:"shouldSkipColumnParse",value:function(t,e,n){var i=this.parserOptions;if(r.Token.isTokenDelimiter(e,i)){t.advancePastToken(e);var o=t.nextCharacterToken;if(!t.hasMoreCharacters||null!==o&&r.Token.isTokenRowDelimiter(o))return n.push(""),!0;if(null!==o&&r.Token.isTokenDelimiter(o,i))return n.push(""),!0}return!1}}],[{key:"isEmptyRow",value:function(t){return""===t.join("").replace(/\s+/g,"")}}]),t}()},{"./Token":159,"./column":164}],158:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;var i=t("./Token"),r=/((?:\r\n)|\n|\r)/;n.Scanner=function(){function t(e){v(this,t),this.cursor=0,this.line=e.line,this.lineLength=this.line.length,this.parserOptions=e.parserOptions,this.hasMoreData=e.hasMoreData,this.cursor=e.cursor||0}return y(t,[{key:"hasMoreCharacters",get:function(){return this.lineLength>this.cursor}},{key:"nextNonSpaceToken",get:function(){var t=this.lineFromCursor,e=this.parserOptions.NEXT_TOKEN_REGEXP;if(-1===t.search(e))return null;var n=e.exec(t);if(null==n)return null;var r=n[1],o=this.cursor+(n.index||0);return new i.Token({token:r,startCursor:o,endCursor:o+r.length-1})}},{key:"nextCharacterToken",get:function(){var t=this.cursor;return this.lineLength<=t?null:new i.Token({token:this.line[t],startCursor:t,endCursor:t})}},{key:"lineFromCursor",get:function(){return this.line.substr(this.cursor)}},{key:"advancePastLine",value:function(){var t=r.exec(this.lineFromCursor);return t?(this.cursor+=(t.index||0)+t[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}},{key:"advanceTo",value:function(t){return this.cursor=t,this}},{key:"advanceToToken",value:function(t){return this.cursor=t.startCursor,this}},{key:"advancePastToken",value:function(t){return this.cursor=t.endCursor+1,this}},{key:"truncateToCursor",value:function(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}]),t}()},{"./Token":159}],159:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=function(){function t(e){v(this,t),this.token=e.token,this.startCursor=e.startCursor,this.endCursor=e.endCursor}return y(t,null,[{key:"isTokenRowDelimiter",value:function(t){var e=t.token;return"\r"===e||"\n"===e||"\r\n"===e}},{key:"isTokenCarriageReturn",value:function(t,e){return t.token===e.carriageReturn}},{key:"isTokenComment",value:function(t,e){return e.supportsComments&&!!t&&t.token===e.comment}},{key:"isTokenEscapeCharacter",value:function(t,e){return t.token===e.escapeChar}},{key:"isTokenQuote",value:function(t,e){return t.token===e.quote}},{key:"isTokenDelimiter",value:function(t,e){return t.token===e.delimiter}}]),t}()},{}],160:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=function(){return y((function t(e){v(this,t),e.trim?this.format=function(t){return t.trim()}:e.ltrim?this.format=function(t){return t.trimLeft()}:e.rtrim?this.format=function(t){return t.trimRight()}:this.format=function(t){return t}}))}()},{}],161:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;var i=t("./NonQuotedColumnParser"),r=t("./QuotedColumnParser"),o=t("../Token");n.ColumnParser=function(){function t(e){v(this,t),this.parserOptions=e,this.quotedColumnParser=new r.QuotedColumnParser(e),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(e)}return y(t,[{key:"parse",value:function(t){var e=t.nextNonSpaceToken;return null!==e&&o.Token.isTokenQuote(e,this.parserOptions)?(t.advanceToToken(e),this.quotedColumnParser.parse(t)):this.nonQuotedColumnParser.parse(t)}}]),t}()},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;var i=t("./ColumnFormatter"),r=t("../Token");n.NonQuotedColumnParser=function(){function t(e){v(this,t),this.parserOptions=e,this.columnFormatter=new i.ColumnFormatter(e)}return y(t,[{key:"parse",value:function(t){if(!t.hasMoreCharacters)return null;for(var e=this.parserOptions,n=[],i=t.nextCharacterToken;i&&!r.Token.isTokenDelimiter(i,e)&&!r.Token.isTokenRowDelimiter(i);i=t.nextCharacterToken)n.push(i.token),t.advancePastToken(i);return this.columnFormatter.format(n.join(""))}}]),t}()},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;var i=t("./ColumnFormatter"),r=t("../Token");n.QuotedColumnParser=function(){function t(e){v(this,t),this.parserOptions=e,this.columnFormatter=new i.ColumnFormatter(e)}return y(t,[{key:"parse",value:function(t){if(!t.hasMoreCharacters)return null;var e=t.cursor,n=this.gatherDataBetweenQuotes(t),i=n.foundClosingQuote,r=n.col;if(!i){if(t.advanceTo(e),!t.hasMoreData)throw new Error("Parse Error: missing closing: '".concat(this.parserOptions.quote||"","' in line: at '").concat(t.lineFromCursor.replace(/[\r\n]/g,"\\n'"),"'"));return null}return this.checkForMalformedColumn(t),r}},{key:"gatherDataBetweenQuotes",value:function(t){for(var e=this.parserOptions,n=!1,i=!1,o=[],a=t.nextCharacterToken;!i&&null!==a;a=t.nextCharacterToken){var s=r.Token.isTokenQuote(a,e);if(!n&&s)n=!0;else if(n)if(r.Token.isTokenEscapeCharacter(a,e)){t.advancePastToken(a);var l=t.nextCharacterToken;null!==l&&(r.Token.isTokenQuote(l,e)||r.Token.isTokenEscapeCharacter(l,e))?(o.push(l.token),a=l):s?i=!0:o.push(a.token)}else s?i=!0:o.push(a.token);t.advancePastToken(a)}return{col:this.columnFormatter.format(o.join("")),foundClosingQuote:i}}},{key:"checkForMalformedColumn",value:function(t){var e=this.parserOptions,n=t.nextNonSpaceToken;if(n){var i=r.Token.isTokenDelimiter(n,e),o=r.Token.isTokenRowDelimiter(n);if(!i&&!o){var a=t.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error("Parse Error: expected: '".concat(e.escapedDelimiter,"' OR new line got: '").concat(n.token,"'. at '").concat(a))}t.advanceToToken(n)}else t.hasMoreData||t.advancePastLine()}}]),t}()},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var i=t("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var r=t("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return r.NonQuotedColumnParser}});var o=t("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var a=t("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return a.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var i=t("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return i.Parser}});var r=t("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return r.RowParser}});var o=t("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var a=t("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return a.Token}});var s=t("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return s.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;var r=i(t("lodash.isundefined")),o=i(t("lodash.isfunction")),a=i(t("lodash.uniq")),s=i(t("lodash.groupby"));n.HeaderTransformer=function(){function t(e){v(this,t),this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=e,!0===e.headers?this.shouldUseFirstRow=!0:Array.isArray(e.headers)?this.setHeaders(e.headers):o.default(e.headers)&&(this.headersTransform=e.headers)}return y(t,[{key:"transform",value:function(t,e){return this.shouldMapRow(t)?e(null,this.processRow(t)):e(null,{row:null,isValid:!0})}},{key:"shouldMapRow",value:function(t){var e=this.parserOptions;if(!this.headersTransform&&e.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(t)){if(this.headersTransform)this.setHeaders(this.headersTransform(t));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(t)}return!1}return!0}},{key:"processRow",value:function(t){if(!this.headers)return{row:t,isValid:!0};var e=this.parserOptions;if(!e.discardUnmappedColumns&&t.length>this.headersLength){if(!e.strictColumnHandling)throw new Error("Unexpected Error: column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(t.length));return{row:t,isValid:!1,reason:"Column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(t.length)}}return e.strictColumnHandling&&t.length<this.headersLength?{row:t,isValid:!1,reason:"Column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(t.length)}:{row:this.mapHeaders(t),isValid:!0}}},{key:"mapHeaders",value:function(t){for(var e={},n=this.headers,i=this.headersLength,o=0;o<i;o+=1){var a=n[o];if(!r.default(a)){var s=t[o];r.default(s)?e[a]="":e[a]=s}}return e}},{key:"setHeaders",value:function(t){var e,n=t.filter((function(t){return!!t}));if(a.default(n).length!==n.length){var i=s.default(n),r=Object.keys(i).filter((function(t){return i[t].length>1}));throw new Error("Duplicate headers found "+JSON.stringify(r))}this.headers=t,this.receivedHeaders=!0,this.headersLength=(null===(e=this.headers)||void 0===e?void 0:e.length)||0}}]),t}()},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("lodash.isfunction")),r=t("../types"),o=function(){function t(){v(this,t),this._rowTransform=null,this._rowValidator=null}return y(t,[{key:"rowTransform",set:function(e){if(!i.default(e))throw new TypeError("The transform should be a function");this._rowTransform=t.createTransform(e)}},{key:"rowValidator",set:function(e){if(!i.default(e))throw new TypeError("The validate should be a function");this._rowValidator=t.createValidator(e)}},{key:"transformAndValidate",value:function(t,e){var n=this;return this.callTransformer(t,(function(t,i){return t?e(t):i?n.callValidator(i,(function(t,n){return t?e(t):n&&!n.isValid?e(null,{row:i,isValid:!1,reason:n.reason}):e(null,{row:i,isValid:!0})})):e(null,{row:null,isValid:!0})}))}},{key:"callTransformer",value:function(t,e){return this._rowTransform?this._rowTransform(t,e):e(null,t)}},{key:"callValidator",value:function(t,e){return this._rowValidator?this._rowValidator(t,e):e(null,{row:t,isValid:!0})}}],[{key:"createTransform",value:function(t){return r.isSyncTransform(t)?function(e,n){var i=null;try{i=t(e)}catch(t){return n(t)}return n(null,i)}:t}},{key:"createValidator",value:function(t){return r.isSyncValidate(t)?function(e,n){n(null,{row:e,isValid:t(e)})}:function(e,n){t(e,(function(t,i,r){return t?n(t):n(null,i?{row:e,isValid:i,reason:r}:{row:e,isValid:!1,reason:r})}))}}}]),t}();n.RowTransformerValidator=o},{"../types":169,"lodash.isfunction":446}],168:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var i=t("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var r=t("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return r.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=function(t){return 1===t.length},n.isSyncValidate=function(t){return 1===t.length}},{}],170:[function(t,e,n){"use strict";var i=n;i.bignum=t("bn.js"),i.define=t("./asn1/api").define,i.base=t("./asn1/base"),i.constants=t("./asn1/constants"),i.decoders=t("./asn1/decoders"),i.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,e,n){"use strict";var i=t("./encoders"),r=t("./decoders"),o=t("inherits");function a(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}n.define=function(t,e){return new a(t,e)},a.prototype._createNamed=function(t){var e=this.name;function n(t){this._initNamed(t,e)}return o(n,t),n.prototype._initNamed=function(e,n){t.call(this,e,n)},new n(this)},a.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(r[t])),this.decoders[t]},a.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},a.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i[t])),this.encoders[t]},a.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,e,n){"use strict";var i=t("inherits"),r=t("../base/reporter").Reporter,o=t("safer-buffer").Buffer;function a(t,e){r.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return s.isEncoderBuffer(t)||(t=new s(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+b(t));this.value=t,this.length=t.length}}i(a,r),n.DecoderBuffer=a,a.isDecoderBuffer=function(t){return t instanceof a||"object"==b(t)&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},a.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},a.prototype.restore=function(t){var e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,r.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},a.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},n.EncoderBuffer=s,s.isEncoderBuffer=function(t){return t instanceof s||"object"==b(t)&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},s.prototype.join=function(t,e){return t||(t=o.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(t,e),e+=n.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,e,n){"use strict";var i=n;i.Reporter=t("./reporter").Reporter,i.DecoderBuffer=t("./buffer").DecoderBuffer,i.EncoderBuffer=t("./buffer").EncoderBuffer,i.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,e,n){"use strict";var i=t("../base/reporter").Reporter,r=t("../base/buffer").EncoderBuffer,o=t("../base/buffer").DecoderBuffer,a=t("minimalistic-assert"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(t,e,n){var i={};this._baseState=i,i.name=n,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}e.exports=u;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var t=this._baseState,e={};h.forEach((function(n){e[n]=t[n]}));var n=new this.constructor(e.parent);return n._baseState=e,n},u.prototype._wrap=function(){var t=this._baseState;l.forEach((function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}}),this)},u.prototype._init=function(t){var e=this._baseState;a(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),a.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){var e=this._baseState,n=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==n.length&&(a(null===e.children),e.children=n,n.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(a(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=b(t)||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach((function(n){n==(0|n)&&(n|=0);var i=t[n];e[i]=n})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),s.forEach((function(t){u.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===e.tag),e.tag=t,this._useArgs(n),this}})),u.prototype.use=function(t){a(t);var e=this._baseState;return a(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){var e=this._baseState;return a(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){var e=this._baseState;return a(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){var e=this._baseState;return a(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){var e=this._baseState;return a(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var i,r=n.default,a=!0,s=null;if(null!==n.key&&(s=t.enterKey(n.key)),n.optional){var l=null;if(null!==n.explicit?l=n.explicit:null!==n.implicit?l=n.implicit:null!==n.tag&&(l=n.tag),null!==l||n.any){if(a=this._peekTag(t,l,n.any),t.isError(a))return a}else{var u=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),a=!0}catch(t){a=!1}t.restore(u)}}if(n.obj&&a&&(i=t.enterObject()),a){if(null!==n.explicit){var h=this._decodeTag(t,n.explicit);if(t.isError(h))return h;t=h}var c=t.offset;if(null===n.use&&null===n.choice){var d;n.any&&(d=t.save());var f=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(f))return f;n.any?r=t.raw(d):t=f}if(e&&e.track&&null!==n.tag&&e.track(t.path(),c,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),n.any||(r=null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e)),t.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(t,e)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var p=new o(r);r=this._getUse(n.contains,t._reporterState.obj)._decode(p,e)}}return n.obj&&a&&(r=t.leaveObject(i)),null===n.key||null===r&&!0!==a?null!==s&&t.exitKey(s):t.leaveKey(s,n.key,r),r},u.prototype._decodeGeneric=function(t,e,n){var i=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,i.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&i.args?this._decodeObjid(e,i.args[0],i.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(t,e){var n=this._baseState,i=null,r=!1;return Object.keys(n.choice).some((function(o){var a=t.save(),s=n.choice[o];try{var l=s._decode(t,e);if(t.isError(l))return!1;i={type:o,value:l},r=!0}catch(e){return t.restore(a),!1}return!0}),this),r?i:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new r(t,this.reporter)},u.prototype._encode=function(t,e,n){var i=this._baseState;if(null===i.default||i.default!==t){var r=this._encodeValue(t,e,n);return void 0===r||this._skipDefault(r,e,n)?void 0:r}},u.prototype._encodeValue=function(t,e,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new i);var o=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r.default)return;t=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(t);else if(r.choice)o=this._encodeChoice(t,e);else if(r.contains)a=this._getUse(r.contains,n)._encode(t,e),s=!0;else if(r.children)a=r.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var i=e.enterKey(n._baseState.key);if("object"!=b(t))return e.error("Child expected, but input is not object");var r=n._encode(t[n._baseState.key],e,t);return e.leaveKey(i),r}),this).filter((function(t){return t})),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(t.map((function(n){var i=this._baseState;return this._getUse(i.args[0],t)._encode(n,e)}),l))}else null!==r.use?o=this._getUse(r.use,n)._encode(t,e):(a=this._encodePrimitive(r.tag,t),s=!0);if(!r.any&&null===r.choice){var u=null!==r.implicit?r.implicit:r.tag,h=null===r.implicit?"universal":"context";null===u?null===r.use&&e.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(u,s,h,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(t,e){var n=this._baseState,i=n.choice[t.type];return i||a(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,e,n){"use strict";var i=t("inherits");function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}n.Reporter=r,r.prototype.isError=function(t){return t instanceof o},r.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},r.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},r.prototype.leaveKey=function(t,e,n){var i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},r.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},r.prototype.error=function(t){var e,n=this._reporterState,i=t instanceof o;if(e=i?t:new o(n.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!n.options.partial)throw e;return i||n.errors.push(e),e},r.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},i(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},{inherits:440}],176:[function(t,e,n){"use strict";function i(t){var e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);var i=t[n];e[i]=n})),e}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=i(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=i(n.tag)},{}],177:[function(t,e,n){"use strict";var i=n;i._reverse=function(t){var e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);var i=t[n];e[i]=n})),e},i.der=t("./der")},{"./der":176}],178:[function(t,e,n){"use strict";var i=t("inherits"),r=t("bn.js"),o=t("../base/buffer").DecoderBuffer,a=t("../base/node"),s=t("../constants/der");function l(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){a.call(this,"der",t)}function h(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var i=s.tagClass[n>>6],r=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:s.tag[n]}}function c(t,e,n){var i=t.readUInt8(n);if(t.isError(i))return i;if(!e&&128===i)return null;if(0==(128&i))return i;var r=127&i;if(r>4)return t.error("length octect is too long");i=0;for(var o=0;o<r;o++){i<<=8;var a=t.readUInt8(n);if(t.isError(a))return a;i|=a}return i}e.exports=l,l.prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},i(u,a),u.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var i=t.save(),r=h(t,'Failed to peek tag: "'+e+'"');return t.isError(r)?r:(t.restore(i),r.tag===e||r.tagStr===e||r.tagStr+"of"===e||n)},u.prototype._decodeTag=function(t,e,n){var i=h(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;var r=c(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(r))return r;if(!n&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==r)return t.skip(r,'Failed to match body of: "'+e+'"');var o=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(r=t.offset-o.offset,t.restore(o),t.skip(r,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){var n=h(t,e);if(t.isError(n))return n;var i,r=c(t,n.primitive,e);if(t.isError(r))return r;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},u.prototype._decodeList=function(t,e,n,i){for(var r=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=n.decode(t,"der",i);if(t.isError(a)&&o)break;r.push(a)}return r},u.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var i=t.raw();if(i.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var r="",o=0;o<i.length/2;o++)r+=String.fromCharCode(i.readUInt16BE(2*o));return r}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,n){for(var i,r=[],o=0,a=0;!t.isEmpty();)o<<=7,o|=127&(a=t.readUInt8()),0==(128&a)&&(r.push(o),o=0);128&a&&r.push(o);var s=r[0]/40|0,l=r[0]%40;if(i=n?r:[s,l].concat(r.slice(1)),e){var u=e[i.join(" ")];void 0===u&&(u=e[i.join(".")]),void 0!==u&&(i=u)}return i},u.prototype._decodeTime=function(t,e){var n,i,r,o,a,s,l=t.raw().toString();if("gentime"===e)n=0|l.slice(0,4),i=0|l.slice(4,6),r=0|l.slice(6,8),o=0|l.slice(8,10),a=0|l.slice(10,12),s=0|l.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|l.slice(0,2),i=0|l.slice(2,4),r=0|l.slice(4,6),o=0|l.slice(6,8),a=0|l.slice(8,10),s=0|l.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,r,o,a,s,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){var n=t.raw(),i=new r(n);return e&&(i=e[i.toString(10)]||i),i},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,e,n){"use strict";var i=n;i.der=t("./der"),i.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,e,n){"use strict";var i=t("inherits"),r=t("safer-buffer").Buffer,o=t("./der");function a(t){o.call(this,t),this.enc="pem"}i(a,o),e.exports=a,a.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),i=e.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,l=-1,u=0;u<n.length;u++){var h=n[u].match(a);if(null!==h&&h[2]===i){if(-1!==s){if("END"!==h[1])break;l=u;break}if("BEGIN"!==h[1])break;s=u}}if(-1===s||-1===l)throw new Error("PEM section not found for: "+i);var c=n.slice(s+1,l).join("");c.replace(/[^a-z0-9+/=]+/gi,"");var d=r.from(c,"base64");return o.prototype.decode.call(this,d,e)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,e,n){"use strict";var i=t("inherits"),r=t("safer-buffer").Buffer,o=t("../base/node"),a=t("../constants/der");function s(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new l,this.tree._init(t.body)}function l(t){o.call(this,"der",t)}function u(t){return t<10?"0"+t:t}e.exports=s,s.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(l,o),l.prototype._encodeComposite=function(t,e,n,i){var o=function(t,e,n,i){var r;if("seqof"===t?t="seq":"setof"===t&&(t="set"),a.tagByName.hasOwnProperty(t))r=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);r=t}return r>=31?i.error("Multi-octet tag encoding unsupported"):(e||(r|=32),r|=a.tagClassByName[n||"universal"]<<6)}(t,e,n,this.reporter);if(i.length<128){var s=r.alloc(2);return s[0]=o,s[1]=i.length,this._createEncoderBuffer([s,i])}for(var l=1,u=i.length;u>=256;u>>=8)l++;var h=r.alloc(2+l);h[0]=o,h[1]=128|l;for(var c=1+l,d=i.length;d>0;c--,d>>=8)h[c]=255&d;return this._createEncoderBuffer([h,i])},l.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=r.alloc(2*t.length),i=0;i<t.length;i++)n.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},l.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(var i=0;i<t.length;i++)t[i]|=0}else if(Array.isArray(t)){t=t.slice();for(var o=0;o<t.length;o++)t[o]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}for(var a=0,s=0;s<t.length;s++){var l=t[s];for(a++;l>=128;l>>=7)a++}for(var u=r.alloc(a),h=u.length-1,c=t.length-1;c>=0;c--){var d=t[c];for(u[h--]=127&d;(d>>=7)>0;)u[h--]=128|127&d}return this._createEncoderBuffer(u)},l.prototype._encodeTime=function(t,e){var n,i=new Date(t);return"gentime"===e?n=[u(i.getUTCFullYear()),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[u(i.getUTCFullYear()%100),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!r.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=r.from(n)}if(r.isBuffer(t)){var i=t.length;0===t.length&&i++;var o=r.alloc(i);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);for(var a=1,s=t;s>=256;s>>=8)a++;for(var l=new Array(a),u=l.length-1;u>=0;u--)l[u]=255&t,t>>=8;return 128&l[0]&&l.unshift(0),this._createEncoderBuffer(r.from(l))},l.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},l.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},l.prototype._skipDefault=function(t,e,n){var i,r=this._baseState;if(null===r.default)return!1;var o=t.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,e,n).join()),o.length!==r.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==r.defaultBuffer[i])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,e,n){"use strict";var i=n;i.der=t("./der"),i.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./der");function o(t){r.call(this,t),this.enc="pem"}i(o,r),e.exports=o,o.prototype.encode=function(t,e){for(var n=r.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+e.label+"-----"],o=0;o<n.length;o+=64)i.push(n.slice(o,o+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},{"./der":181,inherits:440}],184:[function(t,e,n){"use strict";!function(e,n){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"==b(e)?e.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:t("buffer").Buffer}catch(t){}function s(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function l(t,e,n){var i=s(t,n);return n-1>=e&&(i|=s(t,n-1)<<4),i}function u(t,e,n,i){for(var r=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(t){return t instanceof o||null!==t&&"object"==b(t)&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==b(t))return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=t.length-1,o=0;r>=0;r-=3)a=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<t.length;r+=3)a=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=l(t,e,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=l(t,e,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var o=t.length-n,a=o%i,s=Math.min(o,o-a)+n,l=0,h=n;h<s;h+=i)l=u(t,h,h+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var c=1;for(l=u(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],o=0|e.words[0],a=r*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var h=l>>>26,c=67108863&l,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;h+=(a=(r=0|t.words[p])*(o=0|e.words[f])+c)/67108864|0,c=67108863&a}n.words[u]=0|c,l=0|h}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<r|o)).toString(16);n=0!=(o=s>>>24-r&16777215)||a!==this.length-1?h[6-l.length]+l+n:l+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?g+n:h[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return i(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===e,u=new t(o),h=this.clone();if(l){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-r;s++)u[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var o=0,a=0;a<i.length;a++)o=(e=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,o,a=t.words,s=e.words,l=n.words,u=0,h=0|a[0],c=8191&h,d=h>>>13,f=0|a[1],p=8191&f,g=f>>>13,m=0|a[2],v=8191&m,y=m>>>13,b=0|a[3],w=8191&b,x=b>>>13,_=0|a[4],C=8191&_,S=_>>>13,M=0|a[5],A=8191&M,T=M>>>13,k=0|a[6],R=8191&k,I=k>>>13,P=0|a[7],E=8191&P,B=P>>>13,L=0|a[8],D=8191&L,O=L>>>13,F=0|a[9],H=8191&F,N=F>>>13,z=0|s[0],W=8191&z,j=z>>>13,V=0|s[1],G=8191&V,Z=V>>>13,U=0|s[2],K=8191&U,$=U>>>13,X=0|s[3],Y=8191&X,q=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,it=et>>>13,rt=0|s[6],ot=8191&rt,at=rt>>>13,st=0|s[7],lt=8191&st,ut=st>>>13,ht=0|s[8],ct=8191&ht,dt=ht>>>13,ft=0|s[9],pt=8191&ft,gt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(i=Math.imul(c,W))|0)+((8191&(r=(r=Math.imul(c,j))+Math.imul(d,W)|0))<<13)|0;u=((o=Math.imul(d,j))+(r>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,W),r=(r=Math.imul(p,j))+Math.imul(g,W)|0,o=Math.imul(g,j);var vt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,Z)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,W),r=(r=Math.imul(v,j))+Math.imul(y,W)|0,o=Math.imul(y,j),i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,Z)|0;var yt=(u+(i=i+Math.imul(c,K)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,W),r=(r=Math.imul(w,j))+Math.imul(x,W)|0,o=Math.imul(x,j),i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Z)|0,i=i+Math.imul(p,K)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,$)|0;var bt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(r=(r=r+Math.imul(c,q)|0)+Math.imul(d,Y)|0))<<13)|0;u=((o=o+Math.imul(d,q)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(C,W),r=(r=Math.imul(C,j))+Math.imul(S,W)|0,o=Math.imul(S,j),i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Z)|0,i=i+Math.imul(v,K)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,$)|0,i=i+Math.imul(p,Y)|0,r=(r=r+Math.imul(p,q)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,q)|0;var wt=(u+(i=i+Math.imul(c,Q)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(A,W),r=(r=Math.imul(A,j))+Math.imul(T,W)|0,o=Math.imul(T,j),i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Z)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,Z)|0,i=i+Math.imul(w,K)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,$)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,q)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var xt=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((o=o+Math.imul(d,it)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(R,W),r=(r=Math.imul(R,j))+Math.imul(I,W)|0,o=Math.imul(I,j),i=i+Math.imul(A,G)|0,r=(r=r+Math.imul(A,Z)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Z)|0,i=i+Math.imul(C,K)|0,r=(r=r+Math.imul(C,$)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,$)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,q)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,q)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,it)|0;var _t=(u+(i=i+Math.imul(c,ot)|0)|0)+((8191&(r=(r=r+Math.imul(c,at)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,at)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(E,W),r=(r=Math.imul(E,j))+Math.imul(B,W)|0,o=Math.imul(B,j),i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Z)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,Z)|0,i=i+Math.imul(A,K)|0,r=(r=r+Math.imul(A,$)|0)+Math.imul(T,K)|0,o=o+Math.imul(T,$)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,q)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,q)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(p,ot)|0,r=(r=r+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Ct=(u+(i=i+Math.imul(c,lt)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,lt)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(D,W),r=(r=Math.imul(D,j))+Math.imul(O,W)|0,o=Math.imul(O,j),i=i+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Z)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,Z)|0,i=i+Math.imul(R,K)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,$)|0,i=i+Math.imul(A,Y)|0,r=(r=r+Math.imul(A,q)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,q)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,it)|0,i=i+Math.imul(v,ot)|0,r=(r=r+Math.imul(v,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,i=i+Math.imul(p,lt)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(g,lt)|0,o=o+Math.imul(g,ut)|0;var St=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(H,W),r=(r=Math.imul(H,j))+Math.imul(N,W)|0,o=Math.imul(N,j),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Z)|0,i=i+Math.imul(E,K)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,$)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,q)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,q)|0,i=i+Math.imul(A,Q)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,i=i+Math.imul(C,nt)|0,r=(r=r+Math.imul(C,it)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,it)|0,i=i+Math.imul(w,ot)|0,r=(r=r+Math.imul(w,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,i=i+Math.imul(v,lt)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,dt)|0;var Mt=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,gt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,gt)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(H,G),r=(r=Math.imul(H,Z))+Math.imul(N,G)|0,o=Math.imul(N,Z),i=i+Math.imul(D,K)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,$)|0,i=i+Math.imul(E,Y)|0,r=(r=r+Math.imul(E,q)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,q)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(A,nt)|0,r=(r=r+Math.imul(A,it)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,it)|0,i=i+Math.imul(C,ot)|0,r=(r=r+Math.imul(C,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,i=i+Math.imul(w,lt)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,dt)|0;var At=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(H,K),r=(r=Math.imul(H,$))+Math.imul(N,K)|0,o=Math.imul(N,$),i=i+Math.imul(D,Y)|0,r=(r=r+Math.imul(D,q)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,q)|0,i=i+Math.imul(E,Q)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,i=i+Math.imul(R,nt)|0,r=(r=r+Math.imul(R,it)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,it)|0,i=i+Math.imul(A,ot)|0,r=(r=r+Math.imul(A,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,i=i+Math.imul(C,lt)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(S,lt)|0,o=o+Math.imul(S,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,dt)|0;var Tt=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,gt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,gt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(H,Y),r=(r=Math.imul(H,q))+Math.imul(N,Y)|0,o=Math.imul(N,q),i=i+Math.imul(D,Q)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,i=i+Math.imul(E,nt)|0,r=(r=r+Math.imul(E,it)|0)+Math.imul(B,nt)|0,o=o+Math.imul(B,it)|0,i=i+Math.imul(R,ot)|0,r=(r=r+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,i=i+Math.imul(A,lt)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ut)|0,i=i+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(S,ct)|0,o=o+Math.imul(S,dt)|0;var kt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,gt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((o=o+Math.imul(x,gt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(H,Q),r=(r=Math.imul(H,tt))+Math.imul(N,Q)|0,o=Math.imul(N,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,it)|0,i=i+Math.imul(E,ot)|0,r=(r=r+Math.imul(E,at)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,at)|0,i=i+Math.imul(R,lt)|0,r=(r=r+Math.imul(R,ut)|0)+Math.imul(I,lt)|0,o=o+Math.imul(I,ut)|0,i=i+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,dt)|0;var Rt=(u+(i=i+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((o=o+Math.imul(S,gt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(H,nt),r=(r=Math.imul(H,it))+Math.imul(N,nt)|0,o=Math.imul(N,it),i=i+Math.imul(D,ot)|0,r=(r=r+Math.imul(D,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,i=i+Math.imul(E,lt)|0,r=(r=r+Math.imul(E,ut)|0)+Math.imul(B,lt)|0,o=o+Math.imul(B,ut)|0,i=i+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,dt)|0;var It=(u+(i=i+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,gt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,gt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(H,ot),r=(r=Math.imul(H,at))+Math.imul(N,ot)|0,o=Math.imul(N,at),i=i+Math.imul(D,lt)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ut)|0,i=i+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,dt)|0;var Pt=(u+(i=i+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(H,lt),r=(r=Math.imul(H,ut))+Math.imul(N,lt)|0,o=Math.imul(N,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,dt)|0;var Et=(u+(i=i+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,gt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,gt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(H,ct),r=(r=Math.imul(H,dt))+Math.imul(N,ct)|0,o=Math.imul(N,dt);var Bt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Lt=(u+(i=Math.imul(H,pt))|0)+((8191&(r=(r=Math.imul(H,gt))+Math.imul(N,pt)|0))<<13)|0;return u=((o=Math.imul(N,gt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,l[0]=mt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=wt,l[5]=xt,l[6]=_t,l[7]=Ct,l[8]=St,l[9]=Mt,l[10]=At,l[11]=Tt,l[12]=kt,l[13]=Rt,l[14]=It,l[15]=Pt,l[16]=Et,l[17]=Bt,l[18]=Lt,0!==u&&(l[19]=u,n.length++),n};function g(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=f),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var h=o-u,c=(0|t.words[h])*(0|e.words[u]),d=67108863&c;s=67108863&(d=d+s|0),r+=(a=(a=a+(c/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,t,e):g(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},m.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},m.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),h=0;h<r;h+=s)for(var c=l,d=u,f=0;f<a;f++){var p=n[h+f],g=i[h+f],m=n[h+f+a],v=i[h+f+a],y=c*m-d*v;v=c*v+d*m,m=y,n[h+f]=p+m,i[h+f]=g+v,n[h+f+a]=p-m,i[h+f+a]=g-v,f!==s&&(y=l*c-u*d,d=l*d+u*c,c=y)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},m.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},m.prototype.convert13b=function(t,e,n,r){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,u,i),this.transform(a,o,s,l,i,r),this.transform(u,o,h,c,i,r);for(var f=0;f<i;f++){var p=s[f]*h[f]-l[f]*c[f];l[f]=s[f]*c[f]+l[f]*h[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),g(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,o=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new o(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,l=(0|this.words[e])-s<<n;this.words[e]=l|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(r-=a,r=Math.max(0,r),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=r);u--){var c=0|this.words[u];this.words[u]=h<<26-o|c>>>o,h=c&s}return l&&0!==h&&(l.words[l.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n||!(this.words[n]&r))},o.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var r,o,a=t.length+n;this._expand(a);var s=0;for(r=0;r<t.length;r++){o=(0|this.words[r+n])+s;var l=(0|t.words[r])*e;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,a=0|r.words[r.length-1];0!=(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,l=i.length-r.length;if("mod"!==e){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var h=i.clone()._ishlnsubmul(r,1,l);0===h.negative&&(i=h,s&&(s.words[l]=1));for(var c=l-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/a|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);s&&(s.words[c]=d)}return s&&s.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(r=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:r,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){i(t<=67108863);for(var e=(1<<26)%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},o.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var h=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(h),a.isub(c)),r.iushrn(1),a.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(h),l.isub(c)),s.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(s),a.isub(l)):(n.isub(e),s.isub(r),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,a=new o(1),s=new o(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(e.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(r=0===e.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(t),r},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var o=e;e=n,n=o}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},r(w,y),w.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,t.words[i-10]=r,0===r&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(x,y),r(_,y),r(C,y),C.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new x;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new C}return v[t]=e,e},S.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(l);)h.redIAdd(l);for(var c=this.pow(h,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=a;0!==f.cmp(s);){for(var g=f,m=0;0!==g.cmp(s);m++)g=g.redSqr();i(m<p);var v=this.pow(c,new o(1).iushln(p-m-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=m}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],a=0,s=0,l=e.bitLength()%26;for(0===l&&(l=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],h=l-1;h>=0;h--){var c=u>>h&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==a?(a<<=1,a|=c,(4==++s||0===i&&0===h)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}l=26}return r},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},r(M,S),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e)},{buffer:188}],185:[function(t,e,n){"use strict";n.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},n.toByteArray=function(t){var e,n,i=u(t),a=i[0],s=i[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),h=0,c=s>0?a-4:a;for(n=0;n<c;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[h++]=e>>16&255,l[h++]=e>>8&255,l[h++]=255&e;return 2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[h++]=255&e),1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[h++]=e>>8&255,l[h++]=255&e),l},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(h(t,a,a+16383>s?s:a+16383));return 1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function h(t,e,n){for(var r,o,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],186:[function(t,e,n){"use strict";!function(e,n){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"==b(e)?e.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:t("buffer").Buffer}catch(t){}function s(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void i(!1,"Invalid character in "+t)}function l(t,e,n){var i=s(t,n);return n-1>=e&&(i|=s(t,n-1)<<4),i}function u(t,e,n,r){for(var o=0,a=0,s=Math.min(t.length,n),l=e;l<s;l++){var u=t.charCodeAt(l)-48;o*=r,a=u>=49?u-49+10:u>=17?u-17+10:u,i(u>=0&&a<r,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==b(t)&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==b(t))return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=t.length-1,o=0;r>=0;r-=3)a=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<t.length;r+=3)a=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=l(t,e,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=l(t,e,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var o=t.length-n,a=o%i,s=Math.min(o,o-a)+n,l=0,h=n;h<s;h+=i)l=u(t,h,h+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var c=1;for(l=u(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],o=0|e.words[0],a=r*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var h=l>>>26,c=67108863&l,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;h+=(a=(r=0|t.words[p])*(o=0|e.words[f])+c)/67108864|0,c=67108863&a}n.words[u]=0|c,l=0|h}return 0!==l?n.words[u]=0|l:n.length--,n._strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<r|o)).toString(16);o=s>>>24-r&16777215,(r+=2)>=26&&(r-=26,a--),n=0!==o||a!==this.length-1?d[6-l.length]+l+n:l+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],h=p[t];n="";var c=this.clone();for(c.negative=0;!c.isZero();){var g=c.modrn(h).toString(t);n=(c=c.idivn(h)).isZero()?g+n:d[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){this._strip();var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,r),a},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;t[n++]=255&a,n<t.length&&(t[n++]=a>>8&255),n<t.length&&(t[n++]=a>>16&255),6===o?(n<t.length&&(t[n++]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n<t.length)for(t[n++]=i;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;t[n--]=255&a,n>=0&&(t[n--]=a>>8&255),n>=0&&(t[n--]=a>>16&255),6===o?(n>=0&&(t[n--]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n>=0)for(t[n--]=i;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this._strip()},o.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var o=0,a=0;a<i.length;a++)o=(e=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,n){var i,r,o,a=t.words,s=e.words,l=n.words,u=0,h=0|a[0],c=8191&h,d=h>>>13,f=0|a[1],p=8191&f,g=f>>>13,m=0|a[2],v=8191&m,y=m>>>13,b=0|a[3],w=8191&b,x=b>>>13,_=0|a[4],C=8191&_,S=_>>>13,M=0|a[5],A=8191&M,T=M>>>13,k=0|a[6],R=8191&k,I=k>>>13,P=0|a[7],E=8191&P,B=P>>>13,L=0|a[8],D=8191&L,O=L>>>13,F=0|a[9],H=8191&F,N=F>>>13,z=0|s[0],W=8191&z,j=z>>>13,V=0|s[1],G=8191&V,Z=V>>>13,U=0|s[2],K=8191&U,$=U>>>13,X=0|s[3],Y=8191&X,q=X>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,it=et>>>13,rt=0|s[6],ot=8191&rt,at=rt>>>13,st=0|s[7],lt=8191&st,ut=st>>>13,ht=0|s[8],ct=8191&ht,dt=ht>>>13,ft=0|s[9],pt=8191&ft,gt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var mt=(u+(i=Math.imul(c,W))|0)+((8191&(r=(r=Math.imul(c,j))+Math.imul(d,W)|0))<<13)|0;u=((o=Math.imul(d,j))+(r>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,W),r=(r=Math.imul(p,j))+Math.imul(g,W)|0,o=Math.imul(g,j);var vt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,Z)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,W),r=(r=Math.imul(v,j))+Math.imul(y,W)|0,o=Math.imul(y,j),i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,Z)|0;var yt=(u+(i=i+Math.imul(c,K)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,K)|0))<<13)|0;u=((o=o+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,W),r=(r=Math.imul(w,j))+Math.imul(x,W)|0,o=Math.imul(x,j),i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Z)|0,i=i+Math.imul(p,K)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,$)|0;var bt=(u+(i=i+Math.imul(c,Y)|0)|0)+((8191&(r=(r=r+Math.imul(c,q)|0)+Math.imul(d,Y)|0))<<13)|0;u=((o=o+Math.imul(d,q)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(C,W),r=(r=Math.imul(C,j))+Math.imul(S,W)|0,o=Math.imul(S,j),i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Z)|0,i=i+Math.imul(v,K)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,$)|0,i=i+Math.imul(p,Y)|0,r=(r=r+Math.imul(p,q)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,q)|0;var wt=(u+(i=i+Math.imul(c,Q)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(A,W),r=(r=Math.imul(A,j))+Math.imul(T,W)|0,o=Math.imul(T,j),i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,Z)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,Z)|0,i=i+Math.imul(w,K)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,$)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,q)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,q)|0,i=i+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,tt)|0;var xt=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((o=o+Math.imul(d,it)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(R,W),r=(r=Math.imul(R,j))+Math.imul(I,W)|0,o=Math.imul(I,j),i=i+Math.imul(A,G)|0,r=(r=r+Math.imul(A,Z)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Z)|0,i=i+Math.imul(C,K)|0,r=(r=r+Math.imul(C,$)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,$)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,q)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,q)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(g,nt)|0,o=o+Math.imul(g,it)|0;var _t=(u+(i=i+Math.imul(c,ot)|0)|0)+((8191&(r=(r=r+Math.imul(c,at)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,at)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(E,W),r=(r=Math.imul(E,j))+Math.imul(B,W)|0,o=Math.imul(B,j),i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Z)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,Z)|0,i=i+Math.imul(A,K)|0,r=(r=r+Math.imul(A,$)|0)+Math.imul(T,K)|0,o=o+Math.imul(T,$)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,q)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,q)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,it)|0,i=i+Math.imul(p,ot)|0,r=(r=r+Math.imul(p,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0;var Ct=(u+(i=i+Math.imul(c,lt)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,lt)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(D,W),r=(r=Math.imul(D,j))+Math.imul(O,W)|0,o=Math.imul(O,j),i=i+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Z)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,Z)|0,i=i+Math.imul(R,K)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,$)|0,i=i+Math.imul(A,Y)|0,r=(r=r+Math.imul(A,q)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,q)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,it)|0,i=i+Math.imul(v,ot)|0,r=(r=r+Math.imul(v,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,i=i+Math.imul(p,lt)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(g,lt)|0,o=o+Math.imul(g,ut)|0;var St=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(H,W),r=(r=Math.imul(H,j))+Math.imul(N,W)|0,o=Math.imul(N,j),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Z)|0,i=i+Math.imul(E,K)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,$)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,q)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,q)|0,i=i+Math.imul(A,Q)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,i=i+Math.imul(C,nt)|0,r=(r=r+Math.imul(C,it)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,it)|0,i=i+Math.imul(w,ot)|0,r=(r=r+Math.imul(w,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,i=i+Math.imul(v,lt)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(g,ct)|0,o=o+Math.imul(g,dt)|0;var Mt=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,gt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,gt)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(H,G),r=(r=Math.imul(H,Z))+Math.imul(N,G)|0,o=Math.imul(N,Z),i=i+Math.imul(D,K)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,$)|0,i=i+Math.imul(E,Y)|0,r=(r=r+Math.imul(E,q)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,q)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(A,nt)|0,r=(r=r+Math.imul(A,it)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,it)|0,i=i+Math.imul(C,ot)|0,r=(r=r+Math.imul(C,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,i=i+Math.imul(w,lt)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,dt)|0;var At=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((o=o+Math.imul(g,gt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(H,K),r=(r=Math.imul(H,$))+Math.imul(N,K)|0,o=Math.imul(N,$),i=i+Math.imul(D,Y)|0,r=(r=r+Math.imul(D,q)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,q)|0,i=i+Math.imul(E,Q)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,i=i+Math.imul(R,nt)|0,r=(r=r+Math.imul(R,it)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,it)|0,i=i+Math.imul(A,ot)|0,r=(r=r+Math.imul(A,at)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,i=i+Math.imul(C,lt)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(S,lt)|0,o=o+Math.imul(S,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,dt)|0;var Tt=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,gt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,gt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(H,Y),r=(r=Math.imul(H,q))+Math.imul(N,Y)|0,o=Math.imul(N,q),i=i+Math.imul(D,Q)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,i=i+Math.imul(E,nt)|0,r=(r=r+Math.imul(E,it)|0)+Math.imul(B,nt)|0,o=o+Math.imul(B,it)|0,i=i+Math.imul(R,ot)|0,r=(r=r+Math.imul(R,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,i=i+Math.imul(A,lt)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ut)|0,i=i+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(S,ct)|0,o=o+Math.imul(S,dt)|0;var kt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,gt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((o=o+Math.imul(x,gt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(H,Q),r=(r=Math.imul(H,tt))+Math.imul(N,Q)|0,o=Math.imul(N,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,it)|0,i=i+Math.imul(E,ot)|0,r=(r=r+Math.imul(E,at)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,at)|0,i=i+Math.imul(R,lt)|0,r=(r=r+Math.imul(R,ut)|0)+Math.imul(I,lt)|0,o=o+Math.imul(I,ut)|0,i=i+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,dt)|0;var Rt=(u+(i=i+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((o=o+Math.imul(S,gt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(H,nt),r=(r=Math.imul(H,it))+Math.imul(N,nt)|0,o=Math.imul(N,it),i=i+Math.imul(D,ot)|0,r=(r=r+Math.imul(D,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,i=i+Math.imul(E,lt)|0,r=(r=r+Math.imul(E,ut)|0)+Math.imul(B,lt)|0,o=o+Math.imul(B,ut)|0,i=i+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,dt)|0;var It=(u+(i=i+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,gt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,gt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(H,ot),r=(r=Math.imul(H,at))+Math.imul(N,ot)|0,o=Math.imul(N,at),i=i+Math.imul(D,lt)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,lt)|0,o=o+Math.imul(O,ut)|0,i=i+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,dt)|0;var Pt=(u+(i=i+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,gt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,gt)|0)+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(H,lt),r=(r=Math.imul(H,ut))+Math.imul(N,lt)|0,o=Math.imul(N,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,dt)|0;var Et=(u+(i=i+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,gt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,gt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(H,ct),r=(r=Math.imul(H,dt))+Math.imul(N,ct)|0,o=Math.imul(N,dt);var Bt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,gt)|0)+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Lt=(u+(i=Math.imul(H,pt))|0)+((8191&(r=(r=Math.imul(H,gt))+Math.imul(N,pt)|0))<<13)|0;return u=((o=Math.imul(N,gt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,l[0]=mt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=wt,l[5]=xt,l[6]=_t,l[7]=Ct,l[8]=St,l[9]=Mt,l[10]=At,l[11]=Tt,l[12]=kt,l[13]=Rt,l[14]=It,l[15]=Pt,l[16]=Et,l[17]=Bt,l[18]=Lt,0!==u&&(l[19]=u,n.length++),n};function v(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,l=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=l;u++){var h=o-u,c=(0|t.words[h])*(0|e.words[u]),d=67108863&c;s=67108863&(d=d+s|0),r+=(a=(a=a+(c/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n._strip()}function y(t,e,n){return v(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(m=g),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):n<63?g(this,t,e):n<1024?v(this,t,e):y(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},w.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},w.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),h=0;h<r;h+=s)for(var c=l,d=u,f=0;f<a;f++){var p=n[h+f],g=i[h+f],m=n[h+f+a],v=i[h+f+a],y=c*m-d*v;v=c*v+d*m,m=y,n[h+f]=p+m,i[h+f]=g+v,n[h+f+a]=p-m,i[h+f+a]=g-v,f!==s&&(y=l*c-u*d,d=l*d+u*c,c=y)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},w.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},w.prototype.convert13b=function(t,e,n,r){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,u,i),this.transform(a,o,s,l,i,r),this.transform(u,o,h,c,i,r);for(var f=0;f<i;f++){var p=s[f]*h[f]-l[f]*c[f];l[f]=s[f]*c[f]+l[f]*h[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"==typeof t),i(t<67108864);for(var n=0,r=0;r<this.length;r++){var o=(0|this.words[r])*t,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[r]=67108863&a}return 0!==n&&(this.words[r]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=t.words[i]>>>r&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,l=(0|this.words[e])-s<<n;this.words[e]=l|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},o.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(r-=a,r=Math.max(0,r),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=r);u--){var c=0|this.words[u];this.words[u]=h<<26-o|c>>>o,h=c&s}return l&&0!==h&&(l.words[l.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n||!(this.words[n]&r))},o.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var r,o,a=t.length+n;this._expand(a);var s=0;for(r=0;r<t.length;r++){o=(0|this.words[r+n])+s;var l=(0|t.words[r])*e;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this._strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,a=0|r.words[r.length-1];0!=(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,l=i.length-r.length;if("mod"!==e){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var h=i.clone()._ishlnsubmul(r,1,l);0===h.negative&&(i=h,s&&(s.words[l]=1));for(var c=l-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/a|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);s&&(s.words[c]=d)}return s&&s._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(r=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:r,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=(1<<26)%t,r=0,o=this.length-1;o>=0;o--)r=(n*r+(0|this.words[o]))%t;return e?-r:r},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var o=(0|this.words[r])+67108864*n;this.words[r]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var h=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(h),a.isub(c)),r.iushrn(1),a.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(h),l.isub(c)),s.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(s),a.isub(l)):(n.isub(e),s.isub(r),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,a=new o(1),s=new o(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(e.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(r=0===e.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(t),r},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var o=e;e=n,n=o}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new T(t)},o.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var x={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){T.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},r(C,_),C.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,t.words[i-10]=r,0===r&&t.length>10?t.length-=10:t.length-=9},C.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(S,_),r(M,_),r(A,_),A.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(x[t])return x[t];var e;if("k256"===t)e=new C;else if("p224"===t)e=new S;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return x[t]=e,e},T.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},T.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},T.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},T.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},T.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},T.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},T.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},T.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},T.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},T.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},T.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},T.prototype.isqr=function(t){return this.imul(t,t.clone())},T.prototype.sqr=function(t){return this.mul(t,t)},T.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(l);)h.redIAdd(l);for(var c=this.pow(h,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=a;0!==f.cmp(s);){for(var g=f,m=0;0!==g.cmp(s);m++)g=g.redSqr();i(m<p);var v=this.pow(c,new o(1).iushln(p-m-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=m}return d},T.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},T.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],a=0,s=0,l=e.bitLength()%26;for(0===l&&(l=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],h=l-1;h>=0;h--){var c=u>>h&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==a?(a<<=1,a|=c,(4==++s||0===i&&0===h)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}l=26}return r},T.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},T.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},r(k,T),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e)},{buffer:188}],187:[function(t,e,n){"use strict";var i;function r(t){this.rand=t}if(e.exports=function(t){return i||(i=new r(null)),i.generate(t)},e.exports.Rand=r,r.prototype.generate=function(t){return this._rand(t)},r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==("undefined"==typeof self?"undefined":b(self)))self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==("undefined"==typeof window?"undefined":b(window))&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=t("crypto");if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},{crypto:188}],188:[function(t,e,n){},{}],189:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer;function r(t){i.isBuffer(t)||(t=i.from(t));for(var e=t.length/4|0,n=new Array(e),r=0;r<e;r++)n[r]=t.readUInt32BE(4*r);return n}function o(t){for(;0<t.length;t++)t[0]=0}function a(t,e,n,i,r){for(var o,a,s,l,u=n[0],h=n[1],c=n[2],d=n[3],f=t[0]^e[0],p=t[1]^e[1],g=t[2]^e[2],m=t[3]^e[3],v=4,y=1;y<r;y++)o=u[f>>>24]^h[p>>>16&255]^c[g>>>8&255]^d[255&m]^e[v++],a=u[p>>>24]^h[g>>>16&255]^c[m>>>8&255]^d[255&f]^e[v++],s=u[g>>>24]^h[m>>>16&255]^c[f>>>8&255]^d[255&p]^e[v++],l=u[m>>>24]^h[f>>>16&255]^c[p>>>8&255]^d[255&g]^e[v++],f=o,p=a,g=s,m=l;return o=(i[f>>>24]<<24|i[p>>>16&255]<<16|i[g>>>8&255]<<8|i[255&m])^e[v++],a=(i[p>>>24]<<24|i[g>>>16&255]<<16|i[m>>>8&255]<<8|i[255&f])^e[v++],s=(i[g>>>24]<<24|i[m>>>16&255]<<16|i[f>>>8&255]<<8|i[255&p])^e[v++],l=(i[m>>>24]<<24|i[f>>>16&255]<<16|i[p>>>8&255]<<8|i[255&g])^e[v++],[o>>>=0,a>>>=0,s>>>=0,l>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],i=[],r=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,l=0;l<256;++l){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[a]=u,i[u]=a;var h=t[a],c=t[h],d=t[c],f=257*t[u]^16843008*u;r[0][a]=f<<24|f>>>8,r[1][a]=f<<16|f>>>16,r[2][a]=f<<8|f>>>24,r[3][a]=f,f=16843009*d^65537*c^257*h^16843008*a,o[0][u]=f<<24|f>>>8,o[1][u]=f<<16|f>>>16,o[2][u]=f<<8|f>>>24,o[3][u]=f,0===a?a=s=1:(a=h^t[t[t[d^h]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:o}}();function u(t){this._key=r(t),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,i=4*(n+1),r=[],o=0;o<e;o++)r[o]=t[o];for(o=e;o<i;o++){var a=r[o-1];o%e==0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=s[o/e|0]<<24):e>6&&o%e==4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),r[o]=r[o-e]^a}for(var u=[],h=0;h<i;h++){var c=i-h,d=r[c-(h%4?0:4)];u[h]=h<4||c<=4?d:l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(t){return a(t=r(t),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},u.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=i.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},u.prototype.decryptBlock=function(t){var e=(t=r(t))[1];t[1]=t[3],t[3]=e;var n=a(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),o=i.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},{"safe-buffer":494}],190:[function(t,e,n){"use strict";var i=t("./aes"),r=t("safe-buffer").Buffer,o=t("cipher-base"),a=t("inherits"),s=t("./ghash"),l=t("buffer-xor"),u=t("./incr32");function h(t,e,n,a){o.call(this);var l=r.alloc(4,0);this._cipher=new i.AES(e);var h=this._cipher.encryptBlock(l);this._ghash=new s(h),n=function(t,e,n){if(12===e.length)return t._finID=r.concat([e,r.from([0,0,0,1])]),r.concat([e,r.from([0,0,0,2])]);var i=new s(n),o=e.length,a=o%16;i.update(e),a&&(a=16-a,i.update(r.alloc(a,0))),i.update(r.alloc(8,0));var l=8*o,h=r.alloc(8);h.writeUIntBE(l,0,8),i.update(h),t._finID=i.state;var c=r.from(t._finID);return u(c),c}(this,n,h),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}a(h,o),h.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=r.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var i=Math.min(t.length,e.length),r=0;r<i;++r)n+=t[r]^e[r];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},h.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},e.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,e,n){"use strict";var i=t("./encrypter"),r=t("./decrypter"),o=t("./modes/list.json");n.createCipher=n.Cipher=i.createCipher,n.createCipheriv=n.Cipheriv=i.createCipheriv,n.createDecipher=n.Decipher=r.createDecipher,n.createDecipheriv=n.Decipheriv=r.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,e,n){"use strict";var i=t("./authCipher"),r=t("safe-buffer").Buffer,o=t("./modes"),a=t("./streamCipher"),s=t("cipher-base"),l=t("./aes"),u=t("evp_bytestokey");function h(t,e,n){s.call(this),this._cache=new c,this._last=void 0,this._cipher=new l.AES(e),this._prev=r.from(n),this._mode=t,this._autopadding=!0}function c(){this.cache=r.allocUnsafe(0)}function d(t,e,n){var s=o[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=r.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=r.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===s.type?new a(s.module,e,n,!0):"auth"===s.type?new i(s.module,e,n,!0):new h(s.module,e,n)}t("inherits")(h,s),h.prototype._update=function(t){var e,n;this._cache.add(t);for(var i=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),i.push(n);return r.concat(i)},h.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var n=-1;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},c.prototype.add=function(t){this.cache=r.concat([this.cache,t])},c.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},c.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(e,!1,n.key,n.iv);return d(t,i.key,i.iv)},n.createDecipheriv=d},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,e,n){"use strict";var i=t("./modes"),r=t("./authCipher"),o=t("safe-buffer").Buffer,a=t("./streamCipher"),s=t("cipher-base"),l=t("./aes"),u=t("evp_bytestokey");function h(t,e,n){s.call(this),this._cache=new d,this._cipher=new l.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}t("inherits")(h,s),h.prototype._update=function(t){var e,n;this._cache.add(t);for(var i=[];e=this._cache.get();)n=this._mode.encrypt(this,e),i.push(n);return o.concat(i)};var c=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function f(t,e,n){var s=i[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,e,n):"auth"===s.type?new r(s.module,e,n):new h(s.module,e,n)}h.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(c))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},d.prototype.add=function(t){this.cache=o.concat([this.cache,t])},d.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},d.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},n.createCipheriv=f,n.createCipher=function(t,e){var n=i[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(e,!1,n.key,n.iv);return f(t,r.key,r.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=i.alloc(16,0);function o(t){var e=i.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function a(t){this.h=t,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}a.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},a.prototype._multiply=function(){for(var t,e,n,i=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],r=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),n=0!=(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=i[0]^225<<24)}this.state=o(r)},a.prototype.update=function(t){var e;for(this.cache=i.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},a.prototype.final=function(t,e){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,t,0,e])),this.state},e.exports=a},{"safe-buffer":494}],195:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},{}],196:[function(t,e,n){"use strict";var i=t("buffer-xor");n.encrypt=function(t,e){var n=i(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},n.decrypt=function(t,e){var n=t._prev;t._prev=e;var r=t._cipher.decryptBlock(e);return i(r,n)}},{"buffer-xor":219}],197:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("buffer-xor");function o(t,e,n){var o=e.length,a=r(e,t._cache);return t._cache=t._cache.slice(o),t._prev=i.concat([t._prev,n?e:a]),a}n.encrypt=function(t,e,n){for(var r,a=i.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=i.allocUnsafe(0)),!(t._cache.length<=e.length)){a=i.concat([a,o(t,e,n)]);break}r=t._cache.length,a=i.concat([a,o(t,e.slice(0,r),n)]),e=e.slice(r)}return a}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer;function r(t,e,n){for(var i,r,a=-1,s=0;++a<8;)i=e&1<<7-a?128:0,s+=(128&(r=t._cipher.encryptBlock(t._prev)[0]^i))>>a%8,t._prev=o(t._prev,n?i:r);return s}function o(t,e){var n=t.length,r=-1,o=i.allocUnsafe(t.length);for(t=i.concat([t,i.from([e])]);++r<n;)o[r]=t[r]<<1|t[r+1]>>7;return o}n.encrypt=function(t,e,n){for(var o=e.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(t,e[s],n);return a}},{"safe-buffer":494}],199:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer;function r(t,e,n){var r=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=i.concat([t._prev.slice(1),i.from([n?e:r])]),r}n.encrypt=function(t,e,n){for(var o=e.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(t,e[s],n);return a}},{"safe-buffer":494}],200:[function(t,e,n){"use strict";var i=t("buffer-xor"),r=t("safe-buffer").Buffer,o=t("../incr32");function a(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}n.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=r.concat([t._cache,r.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var l=a(t),u=o+16*s;t._cache.writeUInt32BE(l[0],u+0),t._cache.writeUInt32BE(l[1],u+4),t._cache.writeUInt32BE(l[2],u+8),t._cache.writeUInt32BE(l[3],u+12)}var h=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,h)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,e,n){"use strict";n.encrypt=function(t,e){return t._cipher.encryptBlock(e)},n.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},{}],202:[function(t,e,n){"use strict";var i={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},r=t("./list.json");for(var o in r)r[o].module=i[r[o].mode];e.exports=r},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,e,n){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,e,n){(function(e){(function(){"use strict";var i=t("buffer-xor");function r(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}n.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,e,n){"use strict";var i=t("./aes"),r=t("safe-buffer").Buffer,o=t("cipher-base");function a(t,e,n,a){o.call(this),this._cipher=new i.AES(e),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._mode=t}t("inherits")(a,o),a.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,e,n){"use strict";var i=t("browserify-des"),r=t("browserify-aes/browser"),o=t("browserify-aes/modes"),a=t("browserify-des/modes"),s=t("evp_bytestokey");function l(t,e,n){if(t=t.toLowerCase(),o[t])return r.createCipheriv(t,e,n);if(a[t])return new i({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function u(t,e,n){if(t=t.toLowerCase(),o[t])return r.createDecipheriv(t,e,n);if(a[t])return new i({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(t,e){var n,i;if(t=t.toLowerCase(),o[t])n=o[t].key,i=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,i=a[t].iv}var r=s(e,!1,n,i);return l(t,r.key,r.iv)},n.createCipheriv=n.Cipheriv=l,n.createDecipher=n.Decipher=function(t,e){var n,i;if(t=t.toLowerCase(),o[t])n=o[t].key,i=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,i=a[t].iv}var r=s(e,!1,n,i);return u(t,r.key,r.iv)},n.createDecipheriv=n.Decipheriv=u,n.listCiphers=n.getCiphers=function(){return Object.keys(a).concat(r.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,e,n){"use strict";var i=t("cipher-base"),r=t("des.js"),o=t("inherits"),a=t("safe-buffer").Buffer,s={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function l(t){i.call(this);var e,n=t.mode.toLowerCase(),r=s[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var l=t.iv;a.isBuffer(l)||(l=a.from(l)),this._des=r.create({key:o,iv:l,type:e})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=l,o(l,i),l.prototype._update=function(t){return a.from(this._des.update(t))},l.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,e,n){"use strict";n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(t,e,n){(function(n){(function(){"use strict";var i=t("bn.js"),r=t("randombytes");function o(t){var e,n=t.modulus.byteLength();do{e=new i(r(n))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var r=function(t){var e=o(t);return{blinder:e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),a=e.modulus.byteLength(),s=new i(t).mul(r.blinder).umod(e.modulus),l=s.toRed(i.mont(e.prime1)),u=s.toRed(i.mont(e.prime2)),h=e.coefficient,c=e.prime1,d=e.prime2,f=l.redPow(e.exponent1).fromRed(),p=u.redPow(e.exponent2).fromRed(),g=f.isub(p).imul(h).umod(c).imul(d);return p.iadd(g).imul(r.unblinder).umod(e.modulus).toArrayLike(n,"be",a)}a.getr=o,e.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,e,n){"use strict";e.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,e,n){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,e,n){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("create-hash"),o=t("readable-stream"),a=t("inherits"),s=t("./sign"),l=t("./verify"),u=t("./algorithms.json");function h(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=r(e.hash),this._tag=e.id,this._signType=e.sign}function c(t){o.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=r(e.hash),this._tag=e.id,this._signType=e.sign}function d(t){return new h(t)}function f(t){return new c(t)}Object.keys(u).forEach((function(t){u[t].id=i.from(u[t].id,"hex"),u[t.toLowerCase()]=u[t]})),a(h,o.Writable),h.prototype._write=function(t,e,n){this._hash.update(t),n()},h.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},h.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),i=s(n,t,this._hashType,this._signType,this._tag);return e?i.toString(e):i},a(c,o.Writable),c.prototype._write=function(t,e,n){this._hash.update(t),n()},c.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},c.prototype.verify=function(t,e,n){"string"==typeof e&&(e=i.from(e,n)),this.end();var r=this._hash.digest();return l(e,r,t,this._signType,this._tag)},e.exports={Sign:d,Verify:f,createSign:d,createVerify:f}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("create-hmac"),o=t("browserify-rsa"),a=t("elliptic").ec,s=t("bn.js"),l=t("parse-asn1"),u=t("./curves.json");function h(t,e,n,o){if((t=i.from(t.toArray())).length<e.byteLength()){var a=i.alloc(e.byteLength()-t.length);t=i.concat([a,t])}var s=n.length,l=function(t,e){t=(t=c(t,e)).mod(e);var n=i.from(t.toArray());if(n.length<e.byteLength()){var r=i.alloc(e.byteLength()-n.length);n=i.concat([r,n])}return n}(n,e),u=i.alloc(s);u.fill(1);var h=i.alloc(s);return h=r(o,h).update(u).update(i.from([0])).update(t).update(l).digest(),u=r(o,h).update(u).digest(),{k:h=r(o,h).update(u).update(i.from([1])).update(t).update(l).digest(),v:u=r(o,h).update(u).digest()}}function c(t,e){var n=new s(t),i=(t.length<<3)-e.bitLength();return i>0&&n.ishrn(i),n}function d(t,e,n){var o,a;do{for(o=i.alloc(0);8*o.length<t.bitLength();)e.v=r(n,e.k).update(e.v).digest(),o=i.concat([o,e.v]);a=c(o,t),e.k=r(n,e.k).update(e.v).update(i.from([0])).digest(),e.v=r(n,e.k).update(e.v).digest()}while(-1!==a.cmp(t));return a}function f(t,e,n,i){return t.toRed(s.mont(n)).redPow(e).fromRed().mod(i)}e.exports=function(t,e,n,r,p){var g=l(e);if(g.curve){if("ecdsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");return function(t,e){var n=u[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var r=new a(n).keyFromPrivate(e.privateKey).sign(t);return i.from(r.toDER())}(t,g)}if("dsa"===g.type){if("dsa"!==r)throw new Error("wrong private key type");return function(t,e,n){for(var r,o=e.params.priv_key,a=e.params.p,l=e.params.q,u=e.params.g,p=new s(0),g=c(t,l).mod(l),m=!1,v=h(o,l,t,n);!1===m;)p=f(u,r=d(l,v,n),a,l),0===(m=r.invm(l).imul(g.add(o.mul(p))).mod(l)).cmpn(0)&&(m=!1,p=new s(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var n=[48,t.length+e.length+4,2,t.length];return n=n.concat(t,[2,e.length],e),i.from(n)}(p,m)}(t,g,n)}if("rsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");t=i.concat([p,t]);for(var m=g.modulus.byteLength(),v=[0,1];t.length+v.length+1<m;)v.push(255);v.push(0);for(var y=-1;++y<t.length;)v.push(t[y]);return o(v,g)},e.exports.getKey=h,e.exports.makeKey=d},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("bn.js"),o=t("elliptic").ec,a=t("parse-asn1"),s=t("./curves.json");function l(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}e.exports=function(t,e,n,u,h){var c=a(n);if("ec"===c.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var i=s[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var r=new o(i),a=n.data.subjectPrivateKey.data;return r.verify(e,t,a)}(t,e,c)}if("dsa"===c.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var i=n.data.p,o=n.data.q,s=n.data.g,u=n.data.pub_key,h=a.signature.decode(t,"der"),c=h.s,d=h.r;l(c,o),l(d,o);var f=r.mont(i),p=c.invm(o);return 0===s.toRed(f).redPow(new r(e).mul(p).mod(o)).fromRed().mul(u.toRed(f).redPow(d.mul(p).mod(o)).fromRed()).mod(i).mod(o).cmp(d)}(t,e,c)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");e=i.concat([h,e]);for(var d=c.modulus.byteLength(),f=[1],p=0;e.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var g=-1;++g<e.length;)f.push(e[g]);f=i.from(f);var m=r.mont(c.modulus);t=(t=new r(t).toRed(m)).redPow(new r(c.publicExponent)),t=i.from(t.fromRed().toArray());var v=p<8?1:0;for(d=Math.min(t.length,f.length),t.length!==f.length&&(v=1),g=-1;++g<d;)v|=t[g]^f[g];return 0===v}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,e,n){},{}],217:[function(t,e,n){"use strict";var i=t("buffer"),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,n),n.Buffer=a),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},{buffer:220}],218:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=h,this.end=c,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function h(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}n.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=a(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=a(e[i]))>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=a(e[i]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":217}],219:[function(t,e,n){(function(t){(function(){"use strict";e.exports=function(e,n){for(var i=Math.min(e.length,n.length),r=new t(i),o=0;o<i;++o)r[o]=e[o]^n[o];return r}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,e,n){(function(e){(function(){"use strict";var e=t("base64-js"),i=t("ieee754");function r(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=o.prototype,e}function o(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|c(t,e),i=r(n),a=i.write(t,e);return a!==n&&(i=i.slice(0,a)),i}(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(t));if(N(t,ArrayBuffer)||t&&N(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n)).__proto__=o.prototype,i}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return o.from(i,e,n);var a=function(t){if(o.isBuffer(t)){var e=0|h(t.length),n=r(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||z(t.length)?r(0):u(t):"Buffer"===t.type&&Array.isArray(t.data)?u(t.data):void 0}(t);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(t))}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return s(t),r(t<0?0:0|h(t))}function u(t){for(var e=t.length<0?0:0|h(t.length),n=r(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function h(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function c(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||N(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(t));var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return O(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return i?-1:O(t).length;e=(""+e).toLowerCase(),r=!0}}function d(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function f(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function p(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:g(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,i,r){var o,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var h=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var c=!0,d=0;d<l;d++)if(u(t,o+d)!==u(e,d)){c=!1;break}if(c)return o}return-1}function m(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(z(s))return a;t[n+a]=s}return a}function v(t,e,n,i){return H(O(e,t.length-n),t,n,i)}function y(t,e,n,i){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return y(t,e,n,i)}function x(t,e,n,i){return H(F(e),t,n,i)}function _(t,e,n,i){return H(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=(n=t.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function C(t,n,i){return 0===n&&i===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,i))}function S(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,l,u=t[r],h=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c<=n)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)>127&&(h=l);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(h=l)}null===h?(h=65533,c=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),r+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}function M(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function T(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=D(t[o]);return r}function k(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,i,r,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function P(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function E(t,e,n,r,o){return e=+e,n>>>=0,o||P(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return e=+e,n>>>=0,o||P(t,0,n,8),i.write(t,e,n,r,52,8),n+8}n.Buffer=o,n.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,e,n){return a(t,e,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(t,e,n){return function(t,e,n){return s(t),t<=0?r(t):void 0!==e?"string"==typeof n?r(t).fill(e,n):r(t).fill(e):r(t)}(t,e,n)},o.allocUnsafe=function(t){return l(t)},o.allocUnsafeSlow=function(t){return l(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(N(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),N(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,r=0,a=Math.min(n,i);r<a;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=o.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(N(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},o.byteLength=c,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):d.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,i,r){if(N(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(t));if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),l=Math.min(a,s),u=this.slice(i,r),h=t.slice(e,n),c=0;c<l;++c)if(u[c]!==h[c]){a=u[c],s=h[c];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},o.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return i.__proto__=o.prototype,i},o.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},o.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,n){return E(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return E(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r=i-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,i);else if(this===t&&n<e&&e<i)for(var a=r-1;a>=0;--a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,i),e);return r},o.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var r=t.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:o.from(t,i),l=s.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var L=/[^+/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function O(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function N(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function z(t){return t!=t}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("stream").Transform,o=t("string_decoder").StringDecoder;function a(t){r.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(a,r),a.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(t,e,n){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{n(i)}},a.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},a.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},a.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return n&&(i+=this._decoder.end()),i},e.exports=a},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,e,n){"use strict";var i=t("../internals/is-callable"),r=t("../internals/try-to-string"),o=TypeError;e.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,e,n){"use strict";var i=t("../internals/is-constructor"),r=t("../internals/try-to-string"),o=TypeError;e.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,e,n){"use strict";var i=t("../internals/is-callable"),r=String,o=TypeError;e.exports=function(t){if("object"==b(t)||i(t))return t;throw new o("Can't set "+r(t)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,e,n){"use strict";var i=t("../internals/well-known-symbol"),r=t("../internals/object-create"),o=t("../internals/object-define-property").f,a=i("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:r(null)}),e.exports=function(t){s[a][t]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,e,n){"use strict";var i=t("../internals/object-is-prototype-of"),r=TypeError;e.exports=function(t,e){if(i(e,t))return t;throw new r("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,e,n){"use strict";var i=t("../internals/is-object"),r=String,o=TypeError;e.exports=function(t){if(i(t))return t;throw new o(r(t)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,e,n){"use strict";var i=t("../internals/to-indexed-object"),r=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),a=function(t){return function(e,n,a){var s,l=i(e),u=o(l),h=r(a,u);if(t&&n!=n){for(;u>h;)if((s=l[h++])!=s)return!0}else for(;u>h;h++)if((t||h in l)&&l[h]===n)return t||h||0;return!t&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,e,n){"use strict";var i=t("../internals/function-bind-context"),r=t("../internals/function-uncurry-this"),o=t("../internals/indexed-object"),a=t("../internals/to-object"),s=t("../internals/length-of-array-like"),l=t("../internals/array-species-create"),u=r([].push),h=function(t){var e=1===t,n=2===t,r=3===t,h=4===t,c=6===t,d=7===t,f=5===t||c;return function(p,g,m,v){for(var y,b,w=a(p),x=o(w),_=i(g,m),C=s(x),S=0,M=v||l,A=e?M(p,C):n||d?M(p,0):void 0;C>S;S++)if((f||S in x)&&(b=_(y=x[S],S,w),t))if(e)A[S]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:u(A,y)}else switch(t){case 4:return!1;case 7:u(A,y)}return c?-1:r||h?h:A}};e.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,e,n){"use strict";var i=t("../internals/to-absolute-index"),r=t("../internals/length-of-array-like"),o=t("../internals/create-property"),a=Array,s=Math.max;e.exports=function(t,e,n){for(var l=r(t),u=i(e,l),h=i(void 0===n?l:n,l),c=a(s(h-u,0)),d=0;u<h;u++,d++)o(c,d,t[u]);return c.length=d,c}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this");e.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,e,n){"use strict";var i=t("../internals/is-array"),r=t("../internals/is-constructor"),o=t("../internals/is-object"),a=t("../internals/well-known-symbol")("species"),s=Array;e.exports=function(t){var e;return i(t)&&(e=t.constructor,(r(e)&&(e===s||i(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,e,n){"use strict";var i=t("../internals/array-species-constructor");e.exports=function(t,e){return new(i(t))(0===e?0:e)}},{"../internals/array-species-constructor":232}],234:[function(t,e,n){"use strict";var i=t("../internals/well-known-symbol")("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}e.exports=function(t,e){try{if(!e&&!r)return!1}catch(t){return!1}var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},{"../internals/well-known-symbol":357}],235:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=i({}.toString),o=i("".slice);e.exports=function(t){return o(r(t),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,e,n){"use strict";var i=t("../internals/to-string-tag-support"),r=t("../internals/is-callable"),o=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("toStringTag"),s=Object,l="Arguments"===o(function(){return arguments}());e.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:l?o(e):"Object"===(i=o(e))&&r(e.callee)?"Arguments":i}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,e,n){"use strict";var i=t("../internals/has-own-property"),r=t("../internals/own-keys"),o=t("../internals/object-get-own-property-descriptor"),a=t("../internals/object-define-property");e.exports=function(t,e,n){for(var s=r(e),l=a.f,u=o.f,h=0;h<s.length;h++){var c=s[h];i(t,c)||n&&i(n,c)||l(t,c,u(e,c))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,e,n){"use strict";var i=t("../internals/well-known-symbol")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,e,n){"use strict";var i=t("../internals/fails");e.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},{"../internals/fails":260}],240:[function(t,e,n){"use strict";e.exports=function(t,e){return{value:t,done:e}}},{}],241:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");e.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,e,n){"use strict";e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],243:[function(t,e,n){"use strict";var i=t("../internals/to-property-key"),r=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");e.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,e,n){"use strict";var i=t("../internals/make-built-in"),r=t("../internals/object-define-property");e.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,e,n){"use strict";var i=t("../internals/is-callable"),r=t("../internals/object-define-property"),o=t("../internals/make-built-in"),a=t("../internals/define-global-property");e.exports=function(t,e,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:e;if(i(n)&&o(n,u,s),s.global)l?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,e,n){"use strict";var i=t("../internals/global"),r=Object.defineProperty;e.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},{"../internals/global":274}],247:[function(t,e,n){"use strict";var i=t("../internals/fails");e.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":260}],248:[function(t,e,n){"use strict";var i="object"==("undefined"==typeof document?"undefined":b(document))&&document.all,r=void 0===i&&void 0!==i;e.exports={all:i,IS_HTMLDDA:r}},{}],249:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/is-object"),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(t){return a?o.createElement(t):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,e,n){"use strict";var i=t("../internals/engine-is-deno"),r=t("../internals/engine-is-node");e.exports=!i&&!r&&"object"==("undefined"==typeof window?"undefined":b(window))&&"object"==("undefined"==typeof document?"undefined":b(document))},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,e,n){"use strict";e.exports="object"==("undefined"==typeof Deno?"undefined":b(Deno))&&Deno&&"object"==b(Deno.version)},{}],252:[function(t,e,n){"use strict";var i=t("../internals/engine-user-agent");e.exports=/ipad|iphone|ipod/i.test(i)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":256}],253:[function(t,e,n){"use strict";var i=t("../internals/engine-user-agent");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/classof-raw");e.exports="process"===r(i.process)},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,e,n){"use strict";var i=t("../internals/engine-user-agent");e.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(t,e,n){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},{}],257:[function(t,e,n){"use strict";var i,r,o=t("../internals/global"),a=t("../internals/engine-user-agent"),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,h=u&&u.v8;h&&(r=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,e,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/create-non-enumerable-property"),a=t("../internals/define-built-in"),s=t("../internals/define-global-property"),l=t("../internals/copy-constructor-properties"),u=t("../internals/is-forced");e.exports=function(t,e){var n,h,c,d,f,p=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(h in e){if(d=e[h],c=t.dontCallGetSet?(f=r(n,h))&&f.value:n[h],!u(g?h:p+(m?".":"#")+h,t.forced)&&void 0!==c){if(b(d)==b(c))continue;l(d,c)}(t.sham||c&&c.sham)&&o(d,"sham",!0),a(n,h,d,t)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,e,n){"use strict";e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],261:[function(t,e,n){"use strict";var i=t("../internals/function-bind-native"),r=Function.prototype,o=r.apply,a=r.call;e.exports="object"==("undefined"==typeof Reflect?"undefined":b(Reflect))&&Reflect.apply||(i?a.bind(o):function(){return a.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this-clause"),r=t("../internals/a-callable"),o=t("../internals/function-bind-native"),a=i(i.bind);e.exports=function(t,e){return r(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,e,n){"use strict";var i=t("../internals/fails");e.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,e,n){"use strict";var i=t("../internals/function-bind-native"),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/has-own-property"),o=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!i||i&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/a-callable");e.exports=function(t,e,n){try{return i(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,e,n){"use strict";var i=t("../internals/classof-raw"),r=t("../internals/function-uncurry-this");e.exports=function(t){if("Function"===i(t))return r(t)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,e,n){"use strict";var i=t("../internals/function-bind-native"),r=Function.prototype,o=r.call,a=i&&r.bind.bind(o,o);e.exports=i?a:function(t){return function(){return o.apply(t,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/is-callable"),o=function(t){return r(t)?t:void 0};e.exports=function(t,e){return arguments.length<2?o(i[t]):i[t]&&i[t][e]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,e,n){"use strict";var i=t("../internals/classof"),r=t("../internals/get-method"),o=t("../internals/is-null-or-undefined"),a=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");e.exports=function(t){if(!o(t))return r(t,s)||r(t,"@@iterator")||a[i(t)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,e,n){"use strict";var i=t("../internals/function-call"),r=t("../internals/a-callable"),o=t("../internals/an-object"),a=t("../internals/try-to-string"),s=t("../internals/get-iterator-method"),l=TypeError;e.exports=function(t,e){var n=arguments.length<2?s(t):e;if(r(n))return o(i(n,t));throw new l(a(t)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/is-array"),o=t("../internals/is-callable"),a=t("../internals/classof-raw"),s=t("../internals/to-string"),l=i([].push);e.exports=function(t){if(o(t))return t;if(r(t)){for(var e=t.length,n=[],i=0;i<e;i++){var u=t[i];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==a(u)&&"String"!==a(u)||l(n,s(u))}var h=n.length,c=!0;return function(t,e){if(c)return c=!1,e;if(r(this))return e;for(var i=0;i<h;i++)if(n[i]===t)return e}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,e,n){"use strict";var i=t("../internals/a-callable"),r=t("../internals/is-null-or-undefined");e.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,e,i){(function(t){(function(){"use strict";var n=function(t){return t&&t.Math===Math&&t};e.exports=n("object"==("undefined"==typeof globalThis?"undefined":b(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":b(window))&&window)||n("object"==("undefined"==typeof self?"undefined":b(self))&&self)||n("object"==b(t)&&t)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],275:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/to-object"),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,e,n){"use strict";e.exports={}},{}],277:[function(t,e,n){"use strict";e.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},{}],278:[function(t,e,n){"use strict";var i=t("../internals/get-built-in");e.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/fails"),o=t("../internals/document-create-element");e.exports=!i&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/fails"),o=t("../internals/classof-raw"),a=Object,s=i("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?s(t,""):a(t)}:a},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/is-callable"),o=t("../internals/shared-store"),a=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),e.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,e,n){"use strict";var i,r,o,a=t("../internals/weak-map-basic-detection"),s=t("../internals/global"),l=t("../internals/is-object"),u=t("../internals/create-non-enumerable-property"),h=t("../internals/has-own-property"),c=t("../internals/shared-store"),d=t("../internals/shared-key"),f=t("../internals/hidden-keys"),p=s.TypeError,g=s.WeakMap;if(a||c.state){var m=c.state||(c.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,i=function(t,e){if(m.has(t))throw new p("Object already initialized");return e.facade=t,m.set(t,e),e},r=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var v=d("state");f[v]=!0,i=function(t,e){if(h(t,v))throw new p("Object already initialized");return e.facade=t,u(t,v,e),e},r=function(t){return h(t,v)?t[v]:{}},o=function(t){return h(t,v)}}e.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return n}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,e,n){"use strict";var i=t("../internals/well-known-symbol"),r=t("../internals/iterators"),o=i("iterator"),a=Array.prototype;e.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,e,n){"use strict";var i=t("../internals/classof-raw");e.exports=Array.isArray||function(t){return"Array"===i(t)}},{"../internals/classof-raw":235}],285:[function(t,e,n){"use strict";var i=t("../internals/document-all"),r=i.all;e.exports=i.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},{"../internals/document-all":248}],286:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/fails"),o=t("../internals/is-callable"),a=t("../internals/classof"),s=t("../internals/get-built-in"),l=t("../internals/inspect-source"),u=function(){},h=[],c=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=i(d.exec),p=!d.test(u),g=function(t){if(!o(t))return!1;try{return c(u,h,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(t))}catch(t){return!0}};m.sham=!0,e.exports=!c||r((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,e,n){"use strict";var i=t("../internals/fails"),r=t("../internals/is-callable"),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n===h||n!==u&&(r(e)?i(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",h=a.POLYFILL="P";e.exports=a},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,e,n){"use strict";e.exports=function(t){return null==t}},{}],289:[function(t,e,n){"use strict";var i=t("../internals/is-callable"),r=t("../internals/document-all"),o=r.all;e.exports=r.IS_HTMLDDA?function(t){return"object"==b(t)?null!==t:i(t)||t===o}:function(t){return"object"==b(t)?null!==t:i(t)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,e,n){"use strict";e.exports=!1},{}],291:[function(t,e,n){"use strict";var i=t("../internals/is-object"),r=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===r(t))}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,e,n){"use strict";var i=t("../internals/get-built-in"),r=t("../internals/is-callable"),o=t("../internals/object-is-prototype-of"),a=t("../internals/use-symbol-as-uid"),s=Object;e.exports=a?function(t){return"symbol"==b(t)}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,s(t))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,e,n){"use strict";var i=t("../internals/function-bind-context"),r=t("../internals/function-call"),o=t("../internals/an-object"),a=t("../internals/try-to-string"),s=t("../internals/is-array-iterator-method"),l=t("../internals/length-of-array-like"),u=t("../internals/object-is-prototype-of"),h=t("../internals/get-iterator"),c=t("../internals/get-iterator-method"),d=t("../internals/iterator-close"),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},g=p.prototype;e.exports=function(t,e,n){var m,v,y,w,x,_,C,S=n&&n.that,M=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),R=i(e,S),I=function(t){return m&&d(m,"normal",t),new p(!0,t)},P=function(t){return M?(o(t),k?R(t[0],t[1],I):R(t[0],t[1])):k?R(t,I):R(t)};if(A)m=t.iterator;else if(T)m=t;else{if(!(v=c(t)))throw new f(a(t)+" is not iterable");if(s(v)){for(y=0,w=l(t);w>y;y++)if((x=P(t[y]))&&u(g,x))return x;return new p(!1)}m=h(t,v)}for(_=A?t.next:m.next;!(C=r(_,m)).done;){try{x=P(C.value)}catch(t){d(m,"throw",t)}if("object"==b(x)&&x&&u(g,x))return x}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,e,n){"use strict";var i=t("../internals/function-call"),r=t("../internals/an-object"),o=t("../internals/get-method");e.exports=function(t,e,n){var a,s;r(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=i(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return r(a),n}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,e,n){"use strict";var i=t("../internals/iterators-core").IteratorPrototype,r=t("../internals/object-create"),o=t("../internals/create-property-descriptor"),a=t("../internals/set-to-string-tag"),s=t("../internals/iterators"),l=function(){return this};e.exports=function(t,e,n,u){var h=e+" Iterator";return t.prototype=r(i,{next:o(+!u,n)}),a(t,h,!1,!0),s[h]=l,t}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/function-call"),o=t("../internals/is-pure"),a=t("../internals/function-name"),s=t("../internals/is-callable"),l=t("../internals/iterator-create-constructor"),u=t("../internals/object-get-prototype-of"),h=t("../internals/object-set-prototype-of"),c=t("../internals/set-to-string-tag"),d=t("../internals/create-non-enumerable-property"),f=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),g=t("../internals/iterators"),m=t("../internals/iterators-core"),v=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,x=p("iterator"),_=function(){return this};e.exports=function(t,e,n,a,p,m,C){l(n,e,a);var S,M,A,T=function(t){if(t===p&&E)return E;if(!w&&t&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",R=!1,I=t.prototype,P=I[x]||I["@@iterator"]||p&&I[p],E=!w&&P||T(p),B="Array"===e&&I.entries||P;if(B&&(S=u(B.call(new t)))!==Object.prototype&&S.next&&(o||u(S)===b||(h?h(S,b):s(S[x])||f(S,x,_)),c(S,k,!0,!0),o&&(g[k]=_)),v&&"values"===p&&P&&"values"!==P.name&&(!o&&y?d(I,"name","values"):(R=!0,E=function(){return r(P,this)})),p)if(M={values:T("values"),keys:m?E:T("keys"),entries:T("entries")},C)for(A in M)(w||R||!(A in I))&&f(I,A,M[A]);else i({target:e,proto:!0,forced:w||R},M);return o&&!C||I[x]===E||f(I,x,E,{name:p}),g[e]=E,M}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,e,n){"use strict";var i,r,o,a=t("../internals/fails"),s=t("../internals/is-callable"),l=t("../internals/is-object"),u=t("../internals/object-create"),h=t("../internals/object-get-prototype-of"),c=t("../internals/define-built-in"),d=t("../internals/well-known-symbol"),f=t("../internals/is-pure"),p=d("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(r=h(h(o)))!==Object.prototype&&(i=r):g=!0),!l(i)||a((function(){var t={};return i[p].call(t)!==t}))?i={}:f&&(i=u(i)),s(i[p])||c(i,p,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,e,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(t,e,n){"use strict";var i=t("../internals/to-length");e.exports=function(t){return i(t.length)}},{"../internals/to-length":343}],300:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/fails"),o=t("../internals/is-callable"),a=t("../internals/has-own-property"),s=t("../internals/descriptors"),l=t("../internals/function-name").CONFIGURABLE,u=t("../internals/inspect-source"),h=t("../internals/internal-state"),c=h.enforce,d=h.get,f=String,p=Object.defineProperty,g=i("".slice),m=i("".replace),v=i([].join),y=s&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(t,e,n){"Symbol("===g(f(e),0,7)&&(e="["+m(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||l&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=c(t);return a(i,"source")||(i.source=v(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&d(this).source||u(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,e,n){"use strict";var i=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(t){var e=+t;return(e>0?r:i)(e)}},{}],302:[function(t,e,n){"use strict";var i,r,o,a,s,l=t("../internals/global"),u=t("../internals/function-bind-context"),h=t("../internals/object-get-own-property-descriptor").f,c=t("../internals/task").set,d=t("../internals/queue"),f=t("../internals/engine-is-ios"),p=t("../internals/engine-is-ios-pebble"),g=t("../internals/engine-is-webos-webkit"),m=t("../internals/engine-is-node"),v=l.MutationObserver||l.WebKitMutationObserver,y=l.document,b=l.process,w=l.Promise,x=h(l,"queueMicrotask"),_=x&&x.value;if(!_){var C=new d,S=function(){var t,e;for(m&&(t=b.domain)&&t.exit();e=C.get();)try{e()}catch(t){throw C.head&&i(),t}t&&t.enter()};f||m||g||!v||!y?!p&&w&&w.resolve?((a=w.resolve(void 0)).constructor=w,s=u(a.then,a),i=function(){s(S)}):m?i=function(){b.nextTick(S)}:(c=u(c,l),i=function(){c(S)}):(r=!0,o=y.createTextNode(""),new v(S).observe(o,{characterData:!0}),i=function(){o.data=r=!r}),_=function(t){C.head||i(),C.add(t)}}e.exports=_},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,e,n){"use strict";var i=t("../internals/a-callable"),r=TypeError,o=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw new r("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};e.exports.f=function(t){return new o(t)}},{"../internals/a-callable":222}],304:[function(t,e,n){"use strict";var i=t("../internals/is-regexp"),r=TypeError;e.exports=function(t){if(i(t))throw new r("The method doesn't accept regular expressions");return t}},{"../internals/is-regexp":291}],305:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/function-uncurry-this"),o=t("../internals/function-call"),a=t("../internals/fails"),s=t("../internals/object-keys"),l=t("../internals/object-get-own-property-symbols"),u=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),c=t("../internals/indexed-object"),d=Object.assign,f=Object.defineProperty,p=r([].concat);e.exports=!d||a((function(){if(i&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection");return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!==d({},t)[n]||"abcdefghijklmnopqrst"!==s(d({},e)).join("")}))?function(t,e){for(var n=h(t),r=arguments.length,a=1,d=l.f,f=u.f;r>a;)for(var g,m=c(arguments[a++]),v=d?p(s(m),d(m)):s(m),y=v.length,b=0;y>b;)g=v[b++],i&&!o(f,m,g)||(n[g]=m[g]);return n}:d},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,e,n){"use strict";var i,r=t("../internals/an-object"),o=t("../internals/object-define-properties"),a=t("../internals/enum-bug-keys"),s=t("../internals/hidden-keys"),l=t("../internals/html"),u=t("../internals/document-create-element"),h=t("../internals/shared-key")("IE_PROTO"),c=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&i?f(i):((e=u("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):f(i);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[h]=!0,e.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=r(t),n=new c,c.prototype=null,n[h]=t):n=p(),void 0===e?n:o.f(n,e)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/v8-prototype-define-bug"),o=t("../internals/object-define-property"),a=t("../internals/an-object"),s=t("../internals/to-indexed-object"),l=t("../internals/object-keys");n.f=i&&!r?Object.defineProperties:function(t,e){a(t);for(var n,i=s(e),r=l(e),u=r.length,h=0;u>h;)o.f(t,n=r[h++],i[n]);return t}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/ie8-dom-define"),o=t("../internals/v8-prototype-define-bug"),a=t("../internals/an-object"),s=t("../internals/to-property-key"),l=TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor;n.f=i?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var i=h(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),r)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/function-call"),o=t("../internals/object-property-is-enumerable"),a=t("../internals/create-property-descriptor"),s=t("../internals/to-indexed-object"),l=t("../internals/to-property-key"),u=t("../internals/has-own-property"),h=t("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=i?c:function(t,e){if(t=s(t),e=l(e),h)try{return c(t,e)}catch(t){}if(u(t,e))return a(!r(o.f,t,e),t[e])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,e,n){"use strict";var i=t("../internals/classof-raw"),r=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,a=t("../internals/array-slice-simple"),s="object"==("undefined"==typeof window?"undefined":b(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return s&&"Window"===i(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(r(t))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,e,n){"use strict";var i=t("../internals/object-keys-internal"),r=t("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,e,n){"use strict";n.f=Object.getOwnPropertySymbols},{}],313:[function(t,e,n){"use strict";var i=t("../internals/has-own-property"),r=t("../internals/is-callable"),o=t("../internals/to-object"),a=t("../internals/shared-key"),s=t("../internals/correct-prototype-getter"),l=a("IE_PROTO"),u=Object,h=u.prototype;e.exports=s?u.getPrototypeOf:function(t){var e=o(t);if(i(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof u?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this");e.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=t("../internals/has-own-property"),o=t("../internals/to-indexed-object"),a=t("../internals/array-includes").indexOf,s=t("../internals/hidden-keys"),l=i([].push);e.exports=function(t,e){var n,i=o(t),u=0,h=[];for(n in i)!r(s,n)&&r(i,n)&&l(h,n);for(;e.length>u;)r(i,n=e[u++])&&(~a(h,n)||l(h,n));return h}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,e,n){"use strict";var i=t("../internals/object-keys-internal"),r=t("../internals/enum-bug-keys");e.exports=Object.keys||function(t){return i(t,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);n.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},{}],318:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this-accessor"),r=t("../internals/an-object"),o=t("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t(n,i):n.__proto__=i,n}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/fails"),o=t("../internals/function-uncurry-this"),a=t("../internals/object-get-prototype-of"),s=t("../internals/object-keys"),l=t("../internals/to-indexed-object"),u=o(t("../internals/object-property-is-enumerable").f),h=o([].push),c=i&&r((function(){var t=Object.create(null);return t[2]=2,!u(t,2)})),d=function(t){return function(e){for(var n,r=l(e),o=s(r),d=c&&null===a(r),f=o.length,p=0,g=[];f>p;)n=o[p++],i&&!(d?n in r:u(r,n))||h(g,t?[n,r[n]]:r[n]);return g}};e.exports={entries:d(!0),values:d(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,e,n){"use strict";var i=t("../internals/function-call"),r=t("../internals/is-callable"),o=t("../internals/is-object"),a=TypeError;e.exports=function(t,e){var n,s;if("string"===e&&r(n=t.toString)&&!o(s=i(n,t)))return s;if(r(n=t.valueOf)&&!o(s=i(n,t)))return s;if("string"!==e&&r(n=t.toString)&&!o(s=i(n,t)))return s;throw new a("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,e,n){"use strict";var i=t("../internals/get-built-in"),r=t("../internals/function-uncurry-this"),o=t("../internals/object-get-own-property-names"),a=t("../internals/object-get-own-property-symbols"),s=t("../internals/an-object"),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,e,n){"use strict";var i=t("../internals/global");e.exports=i},{"../internals/global":274}],323:[function(t,e,n){"use strict";e.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},{}],324:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/promise-native-constructor"),o=t("../internals/is-callable"),a=t("../internals/is-forced"),s=t("../internals/inspect-source"),l=t("../internals/well-known-symbol"),u=t("../internals/engine-is-browser"),h=t("../internals/engine-is-deno"),c=t("../internals/is-pure"),d=t("../internals/engine-v8-version"),f=r&&r.prototype,p=l("species"),g=!1,m=o(i.PromiseRejectionEvent),v=a("Promise",(function(){var t=s(r),e=t!==String(r);if(!e&&66===d)return!0;if(c&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(t)){var n=new r((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=i,!(g=n.then((function(){}))instanceof i))return!0}return!e&&(u||h)&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,e,n){"use strict";var i=t("../internals/global");e.exports=i.Promise},{"../internals/global":274}],326:[function(t,e,n){"use strict";var i=t("../internals/an-object"),r=t("../internals/is-object"),o=t("../internals/new-promise-capability");e.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,e,n){"use strict";var i=t("../internals/promise-native-constructor"),r=t("../internals/check-correctness-of-iteration"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR;e.exports=o||!r((function(t){i.all(t).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,e,n){"use strict";var i=function(){this.head=null,this.tail=null};i.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},e.exports=i},{}],329:[function(t,e,n){"use strict";var i=t("../internals/is-null-or-undefined"),r=TypeError;e.exports=function(t){if(i(t))throw new r("Can't call method on "+t);return t}},{"../internals/is-null-or-undefined":288}],330:[function(t,e,n){"use strict";var i=t("../internals/get-built-in"),r=t("../internals/define-built-in-accessor"),o=t("../internals/well-known-symbol"),a=t("../internals/descriptors"),s=o("species");e.exports=function(t){var e=i(t);a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,e,n){"use strict";var i=t("../internals/object-define-property").f,r=t("../internals/has-own-property"),o=t("../internals/well-known-symbol")("toStringTag");e.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!r(t,o)&&i(t,o,{configurable:!0,value:e})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,e,n){"use strict";var i=t("../internals/shared"),r=t("../internals/uid"),o=i("keys");e.exports=function(t){return o[t]||(o[t]=r(t))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/define-global-property"),o=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,e,n){"use strict";var i=t("../internals/is-pure"),r=t("../internals/shared-store");(e.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,e,n){"use strict";var i=t("../internals/an-object"),r=t("../internals/a-constructor"),o=t("../internals/is-null-or-undefined"),a=t("../internals/well-known-symbol")("species");e.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||o(n=i(s)[a])?e:r(n)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,e,n){"use strict";var i=t("../internals/engine-v8-version"),r=t("../internals/fails"),o=t("../internals/global").String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,e,n){"use strict";var i=t("../internals/function-call"),r=t("../internals/get-built-in"),o=t("../internals/well-known-symbol"),a=t("../internals/define-built-in");e.exports=function(){var t=r("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return i(n,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,e,n){"use strict";var i=t("../internals/symbol-constructor-detection");e.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,e,n){"use strict";var i,r,o,a,s=t("../internals/global"),l=t("../internals/function-apply"),u=t("../internals/function-bind-context"),h=t("../internals/is-callable"),c=t("../internals/has-own-property"),d=t("../internals/fails"),f=t("../internals/html"),p=t("../internals/array-slice"),g=t("../internals/document-create-element"),m=t("../internals/validate-arguments-length"),v=t("../internals/engine-is-ios"),y=t("../internals/engine-is-node"),b=s.setImmediate,w=s.clearImmediate,x=s.process,_=s.Dispatch,C=s.Function,S=s.MessageChannel,M=s.String,A=0,T={};d((function(){i=s.location}));var k=function(t){if(c(T,t)){var e=T[t];delete T[t],e()}},R=function(t){return function(){k(t)}},I=function(t){k(t.data)},P=function(t){s.postMessage(M(t),i.protocol+"//"+i.host)};b&&w||(b=function(t){m(arguments.length,1);var e=h(t)?t:C(t),n=p(arguments,1);return T[++A]=function(){l(e,void 0,n)},r(A),A},w=function(t){delete T[t]},y?r=function(t){x.nextTick(R(t))}:_&&_.now?r=function(t){_.now(R(t))}:S&&!v?(a=(o=new S).port2,o.port1.onmessage=I,r=u(a.postMessage,a)):s.addEventListener&&h(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!d(P)?(r=P,s.addEventListener("message",I,!1)):r="onreadystatechange"in g("script")?function(t){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),k(t)}}:function(t){setTimeout(R(t),0)}),e.exports={set:b,clear:w}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,e,n){"use strict";var i=t("../internals/to-integer-or-infinity"),r=Math.max,o=Math.min;e.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,e,n){"use strict";var i=t("../internals/indexed-object"),r=t("../internals/require-object-coercible");e.exports=function(t){return i(r(t))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,e,n){"use strict";var i=t("../internals/math-trunc");e.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},{"../internals/math-trunc":301}],343:[function(t,e,n){"use strict";var i=t("../internals/to-integer-or-infinity"),r=Math.min;e.exports=function(t){return t>0?r(i(t),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,e,n){"use strict";var i=t("../internals/require-object-coercible"),r=Object;e.exports=function(t){return r(i(t))}},{"../internals/require-object-coercible":329}],345:[function(t,e,n){"use strict";var i=t("../internals/function-call"),r=t("../internals/is-object"),o=t("../internals/is-symbol"),a=t("../internals/get-method"),s=t("../internals/ordinary-to-primitive"),l=t("../internals/well-known-symbol"),u=TypeError,h=l("toPrimitive");e.exports=function(t,e){if(!r(t)||o(t))return t;var n,l=a(t,h);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,e,n){"use strict";var i=t("../internals/to-primitive"),r=t("../internals/is-symbol");e.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,e,n){"use strict";var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",e.exports="[object z]"===String(i)},{"../internals/well-known-symbol":357}],348:[function(t,e,n){"use strict";var i=t("../internals/classof"),r=String;e.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},{"../internals/classof":236}],349:[function(t,e,n){"use strict";var i=String;e.exports=function(t){try{return i(t)}catch(t){return"Object"}}},{}],350:[function(t,e,n){"use strict";var i=t("../internals/function-uncurry-this"),r=0,o=Math.random(),a=i(1..toString);e.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++r+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,e,n){"use strict";var i=t("../internals/symbol-constructor-detection");e.exports=i&&!Symbol.sham&&"symbol"==b(Symbol.iterator)},{"../internals/symbol-constructor-detection":336}],352:[function(t,e,n){"use strict";var i=t("../internals/descriptors"),r=t("../internals/fails");e.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,e,n){"use strict";var i=TypeError;e.exports=function(t,e){if(t<e)throw new i("Not enough arguments");return t}},{}],354:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/is-callable"),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,e,n){"use strict";var i=t("../internals/path"),r=t("../internals/has-own-property"),o=t("../internals/well-known-symbol-wrapped"),a=t("../internals/object-define-property").f;e.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||a(e,t,{value:o.f(t)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,e,n){"use strict";var i=t("../internals/well-known-symbol");n.f=i},{"../internals/well-known-symbol":357}],357:[function(t,e,n){"use strict";var i=t("../internals/global"),r=t("../internals/shared"),o=t("../internals/has-own-property"),a=t("../internals/uid"),s=t("../internals/symbol-constructor-detection"),l=t("../internals/use-symbol-as-uid"),u=i.Symbol,h=r("wks"),c=l?u.for||u:u&&u.withoutSetter||a;e.exports=function(t){return o(h,t)||(h[t]=s&&o(u,t)?u[t]:c("Symbol."+t)),h[t]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/array-iteration").findIndex,o=t("../internals/add-to-unscopables"),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/array-iteration").find,o=t("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/array-includes").includes,o=t("../internals/fails"),a=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,e,n){"use strict";var i=t("../internals/to-indexed-object"),r=t("../internals/add-to-unscopables"),o=t("../internals/iterators"),a=t("../internals/internal-state"),s=t("../internals/object-define-property").f,l=t("../internals/iterator-define"),u=t("../internals/create-iter-result-object"),h=t("../internals/is-pure"),c=t("../internals/descriptors"),d=a.set,f=a.getterFor("Array Iterator");e.exports=l(Array,"Array",(function(t,e){d(this,{type:"Array Iterator",target:i(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.kind,i=t.index++;if(!e||i>=e.length)return t.target=void 0,u(void 0,!0);switch(n){case"keys":return u(i,!1);case"values":return u(e[i],!1)}return u([i,e[i]],!1)}),"values");var p=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!h&&c&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(t){}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/get-built-in"),o=t("../internals/function-apply"),a=t("../internals/function-call"),s=t("../internals/function-uncurry-this"),l=t("../internals/fails"),u=t("../internals/is-callable"),h=t("../internals/is-symbol"),c=t("../internals/array-slice"),d=t("../internals/get-json-replacer-function"),f=t("../internals/symbol-constructor-detection"),p=String,g=r("JSON","stringify"),m=s(/./.exec),v=s("".charAt),y=s("".charCodeAt),b=s("".replace),w=s(1..toString),x=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,C=/^[\uDC00-\uDFFF]$/,S=!f||l((function(){var t=r("Symbol")("stringify detection");return"[null]"!==g([t])||"{}"!==g({a:t})||"{}"!==g(Object(t))})),M=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),A=function(t,e){var n=c(arguments),i=d(e);if(u(i)||void 0!==t&&!h(t))return n[1]=function(t,e){if(u(i)&&(e=a(i,this,p(t),e)),!h(e))return e},o(g,null,n)},T=function(t,e,n){var i=v(n,e-1),r=v(n,e+1);return m(_,t)&&!m(C,r)||m(C,t)&&!m(_,i)?"\\u"+w(y(t,0),16):t};g&&i({target:"JSON",stat:!0,arity:3,forced:S||M},{stringify:function(t,e,n){var i=c(arguments),r=o(S?A:g,null,i);return M&&"string"==typeof r?b(r,x,T):r}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,e,n){"use strict";t("../internals/export")({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},{"../internals/export":259}],364:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/symbol-constructor-detection"),o=t("../internals/fails"),a=t("../internals/object-get-own-property-symbols"),s=t("../internals/to-object");i({target:"Object",stat:!0,forced:!r||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/to-object"),o=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")((function(){o(1)}))},{keys:function(t){return o(r(t))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/function-call"),o=t("../internals/a-callable"),a=t("../internals/new-promise-capability"),s=t("../internals/perform"),l=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(t){var e=this,n=a.f(e),i=n.resolve,u=n.reject,h=s((function(){var n=o(e.resolve),a=[],s=0,h=1;l(t,(function(t){var o=s++,l=!1;h++,r(n,e,t).then((function(t){l||(l=!0,a[o]=t,--h||i(a))}),u)})),--h||i(a)}));return h.error&&u(h.value),n.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/is-pure"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,a=t("../internals/promise-native-constructor"),s=t("../internals/get-built-in"),l=t("../internals/is-callable"),u=t("../internals/define-built-in"),h=a&&a.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!r&&l(a)){var c=s("Promise").prototype.catch;h.catch!==c&&u(h,"catch",c,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,e,n){"use strict";var i,r,o,a=t("../internals/export"),s=t("../internals/is-pure"),l=t("../internals/engine-is-node"),u=t("../internals/global"),h=t("../internals/function-call"),c=t("../internals/define-built-in"),d=t("../internals/object-set-prototype-of"),f=t("../internals/set-to-string-tag"),p=t("../internals/set-species"),g=t("../internals/a-callable"),m=t("../internals/is-callable"),v=t("../internals/is-object"),y=t("../internals/an-instance"),b=t("../internals/species-constructor"),w=t("../internals/task").set,x=t("../internals/microtask"),_=t("../internals/host-report-errors"),C=t("../internals/perform"),S=t("../internals/queue"),M=t("../internals/internal-state"),A=t("../internals/promise-native-constructor"),T=t("../internals/promise-constructor-detection"),k=t("../internals/new-promise-capability"),R=T.CONSTRUCTOR,I=T.REJECTION_EVENT,P=T.SUBCLASSING,E=M.getterFor("Promise"),B=M.set,L=A&&A.prototype,D=A,O=L,F=u.TypeError,H=u.document,N=u.process,z=k.f,W=z,j=!!(H&&H.createEvent&&u.dispatchEvent),V=function(t){var e;return!(!v(t)||!m(e=t.then))&&e},G=function(t,e){var n,i,r,o=e.value,a=1===e.state,s=a?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(a||(2===e.rejection&&X(e),e.rejection=1),!0===s?n=o:(c&&c.enter(),n=s(o),c&&(c.exit(),r=!0)),n===t.promise?u(new F("Promise-chain cycle")):(i=V(n))?h(i,n,l,u):l(n)):u(o)}catch(t){c&&!r&&c.exit(),u(t)}},Z=function(t,e){t.notified||(t.notified=!0,x((function(){for(var n,i=t.reactions;n=i.get();)G(n,t);t.notified=!1,e&&!t.rejection&&K(t)})))},U=function(t,e,n){var i,r;j?((i=H.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),u.dispatchEvent(i)):i={promise:e,reason:n},!I&&(r=u["on"+t])?r(i):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},K=function(t){h(w,u,(function(){var e,n=t.facade,i=t.value;if($(t)&&(e=C((function(){l?N.emit("unhandledRejection",i,n):U("unhandledrejection",n,i)})),t.rejection=l||$(t)?2:1,e.error))throw e.value}))},$=function(t){return 1!==t.rejection&&!t.parent},X=function(t){h(w,u,(function(){var e=t.facade;l?N.emit("rejectionHandled",e):U("rejectionhandled",e,t.value)}))},Y=function(t,e,n){return function(i){t(e,i,n)}},q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Z(t,!0))},J=function t(e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===n)throw new F("Promise can't be resolved itself");var r=V(n);r?x((function(){var i={done:!1};try{h(r,n,Y(t,i,e),Y(q,i,e))}catch(t){q(i,t,e)}})):(e.value=n,e.state=1,Z(e,!1))}catch(n){q({done:!1},n,e)}}};if(R&&(O=(D=function(t){y(this,O),g(t),h(i,this);var e=E(this);try{t(Y(J,e),Y(q,e))}catch(t){q(e,t)}}).prototype,(i=function(t){B(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=c(O,"then",(function(t,e){var n=E(this),i=z(b(this,D));return n.parent=!0,i.ok=!m(t)||t,i.fail=m(e)&&e,i.domain=l?N.domain:void 0,0===n.state?n.reactions.add(i):x((function(){G(i,n)})),i.promise})),r=function(){var t=new i,e=E(t);this.promise=t,this.resolve=Y(J,e),this.reject=Y(q,e)},k.f=z=function(t){return t===D||void 0===t?new r(t):W(t)},!s&&m(A)&&L!==Object.prototype)){o=L.then,P||c(L,"then",(function(t,e){var n=this;return new D((function(t,e){h(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete L.constructor}catch(t){}d&&d(L,O)}a({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:D}),f(D,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),a=t("../internals/fails"),s=t("../internals/get-built-in"),l=t("../internals/is-callable"),u=t("../internals/species-constructor"),h=t("../internals/promise-resolve"),c=t("../internals/define-built-in"),d=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n=l(t);return this.then(n?function(n){return h(e,t()).then((function(){return n}))}:t,n?function(n){return h(e,t()).then((function(){throw n}))}:t)}}),!r&&l(o)){var f=s("Promise").prototype.finally;d.finally!==f&&c(d,"finally",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,e,n){"use strict";t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/function-call"),o=t("../internals/a-callable"),a=t("../internals/new-promise-capability"),s=t("../internals/perform"),l=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(t){var e=this,n=a.f(e),i=n.reject,u=s((function(){var a=o(e.resolve);l(t,(function(t){r(a,e,t).then(n.resolve,i)}))}));return u.error&&i(u.value),n.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/function-call"),o=t("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(t){var e=o.f(this);return r(e.reject,void 0,t),e.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/get-built-in"),o=t("../internals/is-pure"),a=t("../internals/promise-native-constructor"),s=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-resolve"),u=r("Promise"),h=o&&!s;i({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return l(h&&this===u?a:this,t)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/function-uncurry-this"),o=t("../internals/to-absolute-index"),a=RangeError,s=String.fromCharCode,l=String.fromCodePoint,u=r([].join);i({target:"String",stat:!0,arity:1,forced:!!l&&1!==l.length},{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;i>r;){if(e=+arguments[r++],o(e,1114111)!==e)throw new a(e+" is not a valid code point");n[r]=e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320)}return u(n,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/function-uncurry-this"),o=t("../internals/not-a-regexp"),a=t("../internals/require-object-coercible"),s=t("../internals/to-string"),l=t("../internals/correct-is-regexp-logic"),u=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(t){return!!~u(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,e,n){"use strict";t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/global"),o=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),s=t("../internals/is-pure"),l=t("../internals/descriptors"),u=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),c=t("../internals/has-own-property"),d=t("../internals/object-is-prototype-of"),f=t("../internals/an-object"),p=t("../internals/to-indexed-object"),g=t("../internals/to-property-key"),m=t("../internals/to-string"),v=t("../internals/create-property-descriptor"),y=t("../internals/object-create"),b=t("../internals/object-keys"),w=t("../internals/object-get-own-property-names"),x=t("../internals/object-get-own-property-names-external"),_=t("../internals/object-get-own-property-symbols"),C=t("../internals/object-get-own-property-descriptor"),S=t("../internals/object-define-property"),M=t("../internals/object-define-properties"),A=t("../internals/object-property-is-enumerable"),T=t("../internals/define-built-in"),k=t("../internals/define-built-in-accessor"),R=t("../internals/shared"),I=t("../internals/shared-key"),P=t("../internals/hidden-keys"),E=t("../internals/uid"),B=t("../internals/well-known-symbol"),L=t("../internals/well-known-symbol-wrapped"),D=t("../internals/well-known-symbol-define"),O=t("../internals/symbol-define-to-primitive"),F=t("../internals/set-to-string-tag"),H=t("../internals/internal-state"),N=t("../internals/array-iteration").forEach,z=I("hidden"),W=H.set,j=H.getterFor("Symbol"),V=Object.prototype,G=r.Symbol,Z=G&&G.prototype,U=r.RangeError,K=r.TypeError,$=r.QObject,X=C.f,Y=S.f,q=x.f,J=A.f,Q=a([].push),tt=R("symbols"),et=R("op-symbols"),nt=R("wks"),it=!$||!$.prototype||!$.prototype.findChild,rt=function(t,e,n){var i=X(V,e);i&&delete V[e],Y(t,e,n),i&&t!==V&&Y(V,e,i)},ot=l&&h((function(){return 7!==y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?rt:Y,at=function(t,e){var n=tt[t]=y(Z);return W(n,{type:"Symbol",tag:t,description:e}),l||(n.description=e),n},st=function t(e,n,i){e===V&&t(et,n,i),f(e);var r=g(n);return f(i),c(tt,r)?(i.enumerable?(c(e,z)&&e[z][r]&&(e[z][r]=!1),i=y(i,{enumerable:v(0,!1)})):(c(e,z)||Y(e,z,v(1,{})),e[z][r]=!0),ot(e,r,i)):Y(e,r,i)},lt=function(t,e){f(t);var n=p(e),i=b(n).concat(dt(n));return N(i,(function(e){l&&!o(ut,n,e)||st(t,e,n[e])})),t},ut=function(t){var e=g(t),n=o(J,this,e);return!(this===V&&c(tt,e)&&!c(et,e))&&(!(n||!c(this,e)||!c(tt,e)||c(this,z)&&this[z][e])||n)},ht=function(t,e){var n=p(t),i=g(e);if(n!==V||!c(tt,i)||c(et,i)){var r=X(n,i);return!r||!c(tt,i)||c(n,z)&&n[z][i]||(r.enumerable=!0),r}},ct=function(t){var e=q(p(t)),n=[];return N(e,(function(t){c(tt,t)||c(P,t)||Q(n,t)})),n},dt=function(t){var e=t===V,n=q(e?et:p(t)),i=[];return N(n,(function(t){!c(tt,t)||e&&!c(V,t)||Q(i,tt[t])})),i};u||(T(Z=(G=function(){if(d(Z,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=E(t),n=function t(n){this===V&&o(t,et,n),c(this,z)&&c(this[z],e)&&(this[z][e]=!1);var i=v(1,n);try{ot(this,e,i)}catch(n){if(!(n instanceof U))throw n;rt(this,e,i)}};return l&&it&&ot(V,e,{configurable:!0,set:n}),at(e,t)}).prototype,"toString",(function(){return j(this).tag})),T(G,"withoutSetter",(function(t){return at(E(t),t)})),A.f=ut,S.f=st,M.f=lt,C.f=ht,w.f=x.f=ct,_.f=dt,L.f=function(t){return at(B(t),t)},l&&(k(Z,"description",{configurable:!0,get:function(){return j(this).description}}),s||T(V,"propertyIsEnumerable",ut,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),N(b(nt),(function(t){D(t)})),i({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(t,e){return void 0===e?y(t):lt(y(t),e)},defineProperty:st,defineProperties:lt,getOwnPropertyDescriptor:ht}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ct}),O(),F(G,"Symbol"),P[z]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/get-built-in"),o=t("../internals/has-own-property"),a=t("../internals/to-string"),s=t("../internals/shared"),l=t("../internals/symbol-registry-detection"),u=s("string-to-symbol-registry"),h=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(t){var e=a(t);if(o(u,e))return u[e];var n=r("Symbol")(e);return u[e]=n,h[n]=e,n}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,e,n){"use strict";t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,e,n){"use strict";var i=t("../internals/export"),r=t("../internals/has-own-property"),o=t("../internals/is-symbol"),a=t("../internals/try-to-string"),s=t("../internals/shared"),l=t("../internals/symbol-registry-detection"),u=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(r(u,t))return u[t]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,e,n){"use strict";function i(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==b(t)},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===i(t)},n.isObject=function(t){return"object"==b(t)&&null!==t},n.isDate=function(t){return"[object Date]"===i(t)},n.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==b(t)||void 0===t},n.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,e,n){(function(n){(function(){"use strict";var i=t("elliptic"),r=t("bn.js");e.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function s(t,e,i){Array.isArray(t)||(t=t.toArray());var r=new n(t);if(i&&r.length<i){var o=new n(i-r.length);o.fill(0),r=n.concat([o,r])}return e?r.toString(e):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,i){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,t)},a.prototype.getPrivateKey=function(t){return s(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e));var i=new r(t);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(t,e,n){"use strict";var i=t("inherits"),r=t("md5.js"),o=t("ripemd160"),a=t("sha.js"),s=t("cipher-base");function l(t){s.call(this,"digest"),this._hash=t}i(l,s),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(t){return"md5"===(t=t.toLowerCase())?new r:"rmd160"===t||"ripemd160"===t?new o:new l(a(t))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,e,n){"use strict";var i=t("md5.js");e.exports=function(t){return(new i).update(t).digest()}},{"md5.js":450}],388:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./legacy"),o=t("cipher-base"),a=t("safe-buffer").Buffer,s=t("create-hash/md5"),l=t("ripemd160"),u=t("sha.js"),h=a.alloc(128);function c(t,e){o.call(this,"digest"),"string"==typeof e&&(e=a.from(e));var n="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>n?e=("rmd160"===t?new l:u(t)).update(e).digest():e.length<n&&(e=a.concat([e,h],n));for(var i=this._ipad=a.allocUnsafe(n),r=this._opad=a.allocUnsafe(n),s=0;s<n;s++)i[s]=54^e[s],r[s]=92^e[s];this._hash="rmd160"===t?new l:u(t),this._hash.update(i)}i(c,o),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new l:u(this._alg)).update(this._opad).update(t).digest()},e.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new c("rmd160",e):"md5"===t?new r(s,e):new c(t,e)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,e,n){"use strict";var i=t("inherits"),r=t("safe-buffer").Buffer,o=t("cipher-base"),a=r.alloc(128);function s(t,e){o.call(this,"digest"),"string"==typeof e&&(e=r.from(e)),this._alg=t,this._key=e,e.length>64?e=t(e):e.length<64&&(e=r.concat([e,a],64));for(var n=this._ipad=r.allocUnsafe(64),i=this._opad=r.allocUnsafe(64),s=0;s<64;s++)n[s]=54^e[s],i[s]=92^e[s];this._hash=[n]}i(s,o),s.prototype._update=function(t){this._hash.push(t)},s.prototype._final=function(){var t=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,t]))},e.exports=s},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,e,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=t("randombytes"),n.createHash=n.Hash=t("create-hash"),n.createHmac=n.Hmac=t("create-hmac");var i=t("browserify-sign/algos"),r=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);n.getHashes=function(){return o};var a=t("pbkdf2");n.pbkdf2=a.pbkdf2,n.pbkdf2Sync=a.pbkdf2Sync;var s=t("browserify-cipher");n.Cipher=s.Cipher,n.createCipher=s.createCipher,n.Cipheriv=s.Cipheriv,n.createCipheriv=s.createCipheriv,n.Decipher=s.Decipher,n.createDecipher=s.createDecipher,n.Decipheriv=s.Decipheriv,n.createDecipheriv=s.createDecipheriv,n.getCiphers=s.getCiphers,n.listCiphers=s.listCiphers;var l=t("diffie-hellman");n.DiffieHellmanGroup=l.DiffieHellmanGroup,n.createDiffieHellmanGroup=l.createDiffieHellmanGroup,n.getDiffieHellman=l.getDiffieHellman,n.createDiffieHellman=l.createDiffieHellman,n.DiffieHellman=l.DiffieHellman;var u=t("browserify-sign");n.createSign=u.createSign,n.Sign=u.Sign,n.createVerify=u.createVerify,n.Verify=u.Verify,n.createECDH=t("create-ecdh");var h=t("public-encrypt");n.publicEncrypt=h.publicEncrypt,n.privateEncrypt=h.privateEncrypt,n.publicDecrypt=h.publicDecrypt,n.privateDecrypt=h.privateDecrypt;var c=t("randomfill");n.randomFill=c.randomFill,n.randomFillSync=c.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,e,n){"use strict";!function(t,i){"object"==b(n)&&void 0!==e?e.exports=i():(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs=i()}(void 0,(function(){var t=6e4,e=36e5,n="millisecond",i="second",r="minute",o="hour",a="day",s="week",l="month",u="quarter",h="year",c="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+m(i,2,"0")+":"+m(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,l),o=n-r<0,a=e.clone().add(i+(o?-1:1),l);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:h,w:s,d:a,D:c,h:o,m:r,s:i,ms:n,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",w={};w[y]=g;var x="$isDayjsObject",_=function(t){return t instanceof A||!(!t||!t[x])},C=function t(e,n,i){var r;if(!e)return y;if("string"==typeof e){var o=e.toLowerCase();w[o]&&(r=o),n&&(w[o]=n,r=o);var a=e.split("-");if(!r&&a.length>1)return t(a[0])}else{var s=e.name;w[s]=e,r=s}return!i&&r&&(y=r),r||!i&&y},S=function(t,e){if(_(t))return t.clone();var n="object"==b(e)?e:{};return n.date=t,n.args=arguments,new A(n)},M=v;M.l=C,M.i=_,M.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var A=function(){function g(t){this.$L=C(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[x]=!0}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return M},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,n){return M.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,u=!!M.u(e)||e,d=M.p(t),f=function(t,e){var i=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return u?i:i.endOf(a)},p=function(t,e){return M.w(n.toDate()[t].apply(n.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case h:return u?f(1,0):f(31,11);case l:return u?f(1,m):f(0,m+1);case s:var b=this.$locale().weekStart||0,w=(g<b?g+7:g)-b;return f(u?v-w:v+(6-w),m);case a:case c:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case r:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var s,u=M.p(t),d="set"+(this.$u?"UTC":""),f=(s={},s[a]=d+"Date",s[c]=d+"Date",s[l]=d+"Month",s[h]=d+"FullYear",s[o]=d+"Hours",s[r]=d+"Minutes",s[i]=d+"Seconds",s[n]=d+"Milliseconds",s)[u],p=u===a?this.$D+(e-this.$W):e;if(u===l||u===h){var g=this.clone().set(c,1);g.$d[f](p),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[M.p(t)]()},m.add=function(n,u){var c,d=this;n=Number(n);var f=M.p(u),p=function(t){var e=S(d);return M.w(e.date(e.date()+Math.round(t*n)),d)};if(f===l)return this.set(l,this.$M+n);if(f===h)return this.set(h,this.$y+n);if(f===a)return p(1);if(f===s)return p(7);var g=(c={},c[r]=t,c[o]=e,c[i]=1e3,c)[f]||1,m=this.$d.getTime()+n*g;return M.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,u=n.months,h=n.meridiem,c=function(t,n,r,o){return t&&(t[n]||t(e,i))||r[n].slice(0,o)},f=function(t){return M.s(o%12||12,t,"0")},g=h||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,(function(t,i){return i||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return M.s(e.$y,4,"0");case"M":return s+1;case"MM":return M.s(s+1,2,"0");case"MMM":return c(n.monthsShort,s,u,3);case"MMMM":return c(u,s);case"D":return e.$D;case"DD":return M.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return c(n.weekdaysMin,e.$W,l,2);case"ddd":return c(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(o);case"HH":return M.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(o,a,!0);case"A":return g(o,a,!1);case"m":return String(a);case"mm":return M.s(a,2,"0");case"s":return String(e.$s);case"ss":return M.s(e.$s,2,"0");case"SSS":return M.s(e.$ms,3,"0");case"Z":return r}return null}(t)||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,c,d){var f,p=this,g=M.p(c),m=S(n),v=(m.utcOffset()-this.utcOffset())*t,y=this-m,b=function(){return M.m(p,m)};switch(g){case h:f=b()/12;break;case l:f=b();break;case u:f=b()/3;break;case s:f=(y-v)/6048e5;break;case a:f=(y-v)/864e5;break;case o:f=y/e;break;case r:f=y/t;break;case i:f=y/1e3;break;default:f=y}return d?f:M.a(f)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=C(t,e,!0);return i&&(n.$L=i),n},m.clone=function(){return M.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),T=A.prototype;return S.prototype=T,[["$ms",n],["$s",i],["$m",r],["$H",o],["$W",a],["$M",l],["$y",h],["$D",c]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,A,S),t.$i=!0),S},S.locale=C,S.isDayjs=_,S.unix=function(t){return S(1e3*t)},S.en=w[y],S.Ls=w,S.p={},S}))},{}],392:[function(t,e,n){"use strict";!function(t,i){"object"==b(n)&&void 0!==e?e.exports=i():(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs_plugin_customParseFormat=i()}(void 0,(function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,i=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,o={},a=function(t){return(t=+t)+(t>68?1900:2e3)},s=function(t){return function(e){this[t]=+e}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],u=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},h=function(t,e){var n,i=o.meridiem;if(i){for(var r=1;r<=24;r+=1)if(t.indexOf(i(r,0,e))>-1){n=r>12;break}}else n=t===(e?"pm":"PM");return n},c={A:[r,function(t){this.afternoon=h(t,!1)}],a:[r,function(t){this.afternoon=h(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[i,s("seconds")],ss:[i,s("seconds")],m:[i,s("minutes")],mm:[i,s("minutes")],H:[i,s("hours")],h:[i,s("hours")],HH:[i,s("hours")],hh:[i,s("hours")],D:[i,s("day")],DD:[n,s("day")],Do:[r,function(t){var e=o.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var i=1;i<=31;i+=1)e(i).replace(/\[|\]/g,"")===t&&(this.day=i)}],M:[i,s("month")],MM:[n,s("month")],MMM:[r,function(t){var e=u("months"),n=(u("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[r,function(t){var e=u("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(t){this.year=a(t)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function d(n){var i,r;i=n,r=o&&o.formats;for(var a=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,i){var o=i&&i.toUpperCase();return n||r[i]||t[i]||r[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),s=a.length,l=0;l<s;l+=1){var u=a[l],h=c[u],d=h&&h[0],f=h&&h[1];a[l]=f?{regex:d,parser:f}:u.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,i=0;n<s;n+=1){var r=a[n];if("string"==typeof r)i+=r.length;else{var o=r.regex,l=r.parser,u=t.slice(i),h=o.exec(u)[0];l.call(e,h),t=t.replace(h,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(a=t.parseTwoDigitYear);var i=e.prototype,r=i.parse;i.parse=function(t){var e=t.date,i=t.utc,a=t.args;this.$u=i;var s=a[1];if("string"==typeof s){var l=!0===a[2],u=!0===a[3],h=l||u,c=a[2];u&&(c=a[2]),o=this.$locale(),!l&&c&&(o=n.Ls[c]),this.$d=function(t,e,n){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var i=d(e)(t),r=i.year,o=i.month,a=i.day,s=i.hours,l=i.minutes,u=i.seconds,h=i.milliseconds,c=i.zone,f=new Date,p=a||(r||o?1:f.getDate()),g=r||f.getFullYear(),m=0;r&&!o||(m=o>0?o-1:f.getMonth());var v=s||0,y=l||0,b=u||0,w=h||0;return c?new Date(Date.UTC(g,m,p,v,y,b,w+60*c.offset*1e3)):n?new Date(Date.UTC(g,m,p,v,y,b,w)):new Date(g,m,p,v,y,b,w)}catch(t){return new Date("")}}(e,s,i),this.init(),c&&!0!==c&&(this.$L=this.locale(c).$L),h&&e!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var f=s.length,p=1;p<=f;p+=1){a[1]=s[p-1];var g=n.apply(this,a);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}p===f&&(this.$d=new Date(""))}else r.call(this,t)}}}))},{}],393:[function(t,e,n){"use strict";!function(t,i){"object"==b(n)&&void 0!==e?e.exports=i():(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs_plugin_utc=i()}(void 0,(function(){var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(i,r,o){var a=r.prototype;o.utc=function(t){var e={date:t,utc:!0,args:arguments};return new r(e)},a.utc=function(e){var n=o(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),s.call(this,t)};var l=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else l.call(this)};var u=a.utcOffset;a.utcOffset=function(i,r){var o=this.$utils().u;if(o(i))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof i&&null===(i=function(t){void 0===t&&(t="");var i=t.match(e);if(!i)return null;var r=(""+i[0]).match(n)||["-",0,0],o=r[0],a=60*+r[1]+ +r[2];return 0===a?0:"+"===o?a:-a}(i)))return this;var a=Math.abs(i)<=16?60*i:i,s=this;if(r)return s.$offset=a,s.$u=0===i,s;if(0!==i){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+l,t)).$offset=a,s.$x.$localOffset=l}else s=this.utc();return s};var h=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var c=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var d=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return d.call(this,t,e,n);var i=this.local(),r=o(t).local();return d.call(i,r,e,n)}}}))},{}],394:[function(t,e,n){"use strict";n.utils=t("./des/utils"),n.Cipher=t("./des/cipher"),n.DES=t("./des/des"),n.CBC=t("./des/cbc"),n.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,e,n){"use strict";var i=t("minimalistic-assert"),r=t("inherits"),o={};function a(t){i.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}n.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}r(e,t);for(var n=Object.keys(o),i=0;i<n.length;i++){var a=n[i];e.prototype[a]=o[a]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new a(this.options.iv);this._cbcState=t},o._update=function(t,e,n,i){var r=this._cbcState,o=this.constructor.super_.prototype,a=r.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];for(o._update.call(this,a,0,n,i),s=0;s<this.blockSize;s++)a[s]=n[i+s]}else{for(o._update.call(this,t,e,n,i),s=0;s<this.blockSize;s++)n[i+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,e,n){"use strict";var i=t("minimalistic-assert");function r(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}e.exports=r,r.prototype._init=function(){},r.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},r.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(t){var e=0,n=0,i=(this.bufferOff+t.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,r,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return r},r.prototype._updateDecrypt=function(t){for(var e=0,n=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),n+=this._flushBuffer(r,n);return e+=this._buffer(t,e),r},r.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},r.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},r.prototype._unpad=function(t){return t},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},{"minimalistic-assert":453}],397:[function(t,e,n){"use strict";var i=t("minimalistic-assert"),r=t("inherits"),o=t("./utils"),a=t("./cipher");function s(){this.tmp=new Array(2),this.keys=null}function l(t){a.call(this,t);var e=new s;this._desState=e,this.deriveKeys(e,t.key)}r(l,a),e.exports=l,l.create=function(t){return new l(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(t,e){t.keys=new Array(32),i.equal(e.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(e,0),r=o.readUInt32BE(e,4);o.pc1(n,r,t.tmp,0),n=t.tmp[0],r=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var s=u[a>>>1];n=o.r28shl(n,s),r=o.r28shl(r,s),o.pc2(n,r,t.keys,a)}},l.prototype._update=function(t,e,n,i){var r=this._desState,a=o.readUInt32BE(t,e),s=o.readUInt32BE(t,e+4);o.ip(a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],"encrypt"===this.type?this._encrypt(r,a,s,r.tmp,0):this._decrypt(r,a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],o.writeUInt32BE(n,a,i),o.writeUInt32BE(n,s,i+4)},l.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var n=t.length-e,i=e;i<t.length;i++)t[i]=n;return!0},l.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)i.equal(t[n],e);return t.slice(0,t.length-e)},l.prototype._encrypt=function(t,e,n,i,r){for(var a=e,s=n,l=0;l<t.keys.length;l+=2){var u=t.keys[l],h=t.keys[l+1];o.expand(s,t.tmp,0),u^=t.tmp[0],h^=t.tmp[1];var c=o.substitute(u,h),d=s;s=(a^o.permute(c))>>>0,a=d}o.rip(s,a,i,r)},l.prototype._decrypt=function(t,e,n,i,r){for(var a=n,s=e,l=t.keys.length-2;l>=0;l-=2){var u=t.keys[l],h=t.keys[l+1];o.expand(a,t.tmp,0),u^=t.tmp[0],h^=t.tmp[1];var c=o.substitute(u,h),d=a;a=(s^o.permute(c))>>>0,s=d}o.rip(a,s,i,r)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,e,n){"use strict";var i=t("minimalistic-assert"),r=t("inherits"),o=t("./cipher"),a=t("./des");function s(t,e){i.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),r=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:r}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:n})]}function l(t){o.call(this,t);var e=new s(this.type,this.options.key);this._edeState=e}r(l,o),e.exports=l,l.create=function(t){return new l(t)},l.prototype._update=function(t,e,n,i){var r=this._edeState;r.ciphers[0]._update(t,e,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},l.prototype._pad=a.prototype._pad,l.prototype._unpad=a.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,e,n){"use strict";n.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},n.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},n.ip=function(t,e,n,i){for(var r=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)r<<=1,r|=e>>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}n[i+0]=r>>>0,n[i+1]=o>>>0},n.rip=function(t,e,n,i){for(var r=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)r<<=1,r|=e>>>s+a&1,r<<=1,r|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},n.pc1=function(t,e,n,i){for(var r=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)r<<=1,r|=e>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1}for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},n.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(t,e,n,r){for(var o=0,a=0,s=i.length>>>1,l=0;l<s;l++)o<<=1,o|=t>>>i[l]&1;for(l=s;l<i.length;l++)a<<=1,a|=e>>>i[l]&1;n[r+0]=o>>>0,n[r+1]=a>>>0},n.expand=function(t,e,n){var i=0,r=0;i=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=t>>>o&63;for(o=11;o>=3;o-=4)r|=t>>>o&63,r<<=6;r|=(31&t)<<1|t>>>31,e[n+0]=i>>>0,e[n+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(t,e){for(var n=0,i=0;i<4;i++)n<<=4,n|=r[64*i+(t>>>18-6*i&63)];for(i=0;i<4;i++)n<<=4,n|=r[256+64*i+(e>>>18-6*i&63)];return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},n.padSplit=function(t,e,n){for(var i=t.toString(2);i.length<e;)i="0"+i;for(var r=[],o=0;o<e;o+=n)r.push(i.slice(o,o+n));return r.join(" ")}},{}],400:[function(t,e,n){(function(e){(function(){"use strict";var i=t("./lib/generatePrime"),r=t("./lib/primes.json"),o=t("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(t){var n=new e(r[t].prime,"hex"),i=new e(r[t].gen,"hex");return new o(n,i)},n.createDiffieHellman=n.DiffieHellman=function t(n,r,s,l){return e.isBuffer(r)||void 0===a[r]?t(n,"binary",r,s):(r=r||"binary",l=l||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,l)),"number"==typeof n?new o(i(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,r)),new o(n,s,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,e,n){(function(n){(function(){"use strict";var i=t("bn.js"),r=new(t("miller-rabin")),o=new i(24),a=new i(11),s=new i(10),l=new i(3),u=new i(7),h=t("./generatePrime"),c=t("randombytes");function d(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._pub=new i(t),this}function f(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._priv=new i(t),this}e.exports=g;var p={};function g(t,e,n){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=f):this._primeCode=8}function m(t,e){var i=new n(t.toArray());return e?i.toString(e):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),i=[n,t.toString(16)].join("_");if(i in p)return p[i];var c,d=0;if(t.isEven()||!h.simpleSieve||!h.fermatTest(t)||!r.test(t))return d+=1,d+="02"===n||"05"===n?8:4,p[i]=d,d;switch(r.test(t.shrn(1))||(d+=2),n){case"02":t.mod(o).cmp(a)&&(d+=8);break;case"05":(c=t.mod(s)).cmp(l)&&c.cmp(u)&&(d+=8);break;default:d+=4}return p[i]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(c(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var e=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(e.toArray()),o=this.getPrime();if(r.length<o.length){var a=new n(o.length-r.length);a.fill(0),r=n.concat([a,r])}return r},g.prototype.getPublicKey=function(t){return m(this._pub,t)},g.prototype.getPrivateKey=function(t){return m(this._priv,t)},g.prototype.getPrime=function(t){return m(this.__prime,t)},g.prototype.getGenerator=function(t){return m(this._gen,t)},g.prototype.setGenerator=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.__gen=t,this._gen=new i(t),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,e,n){"use strict";var i=t("randombytes");e.exports=v,v.simpleSieve=g,v.fermatTest=m;var r=t("bn.js"),o=new r(24),a=new(t("miller-rabin")),s=new r(1),l=new r(2),u=new r(5),h=(new r(16),new r(8),new r(10)),c=new r(3),d=(new r(7),new r(11)),f=new r(4),p=(new r(12),null);function g(t){for(var e=function(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<e&&t[r]<=i&&n%t[r]!=0;r++);e!==r&&t[r]<=i||(t[e++]=n)}return p=t,t}(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function m(t){var e=r.mont(t);return 0===l.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new r(2===e||5===e?[140,123]:[140,39]);var n,p;for(e=new r(e);;){for(n=new r(i(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(l),e.cmp(l)){if(!e.cmp(u))for(;n.mod(h).cmp(c);)n.iadd(f)}else for(;n.mod(o).cmp(d);)n.iadd(f);if(g(p=n.shrn(1))&&g(n)&&m(p)&&m(n)&&a.test(p)&&a.test(n))return n}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,e,n){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(t,e,n){"use strict";var i=n;i.version=t("../package.json").version,i.utils=t("./elliptic/utils"),i.rand=t("brorand"),i.curve=t("./elliptic/curve"),i.curves=t("./elliptic/curves"),i.ec=t("./elliptic/ec"),i.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("../utils"),o=r.getNAF,a=r.getJSF,s=r.assert;function l(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}e.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(t,e){s(t.precomputed);var n=t._getDoubles(),i=o(e,1,this._bitLength),r=(1<<n.step+1)-(n.step%2==0?2:1);r/=3;var a,l,u=[];for(a=0;a<i.length;a+=n.step){l=0;for(var h=a+n.step-1;h>=a;h--)l=(l<<1)+i[h];u.push(l)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=r;f>0;f--){for(a=0;a<u.length;a++)(l=u[a])===f?d=d.mixedAdd(n.points[a]):l===-f&&(d=d.mixedAdd(n.points[a].neg()));c=c.add(d)}return c.toP()},l.prototype._wnafMul=function(t,e){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var r=i.points,a=o(e,n,this._bitLength),l=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var h=0;u>=0&&0===a[u];u--)h++;if(u>=0&&h++,l=l.dblp(h),u<0)break;var c=a[u];s(0!==c),l="affine"===t.type?c>0?l.mixedAdd(r[c-1>>1]):l.mixedAdd(r[-c-1>>1].neg()):c>0?l.add(r[c-1>>1]):l.add(r[-c-1>>1].neg())}return"affine"===t.type?l.toP():l},l.prototype._wnafMulAdd=function(t,e,n,i,r){var s,l,u,h=this._wnafT1,c=this._wnafT2,d=this._wnafT3,f=0;for(s=0;s<i;s++){var p=(u=e[s])._getNAFPoints(t);h[s]=p.wnd,c[s]=p.points}for(s=i-1;s>=1;s-=2){var g=s-1,m=s;if(1===h[g]&&1===h[m]){var v=[e[g],null,null,e[m]];0===e[g].y.cmp(e[m].y)?(v[1]=e[g].add(e[m]),v[2]=e[g].toJ().mixedAdd(e[m].neg())):0===e[g].y.cmp(e[m].y.redNeg())?(v[1]=e[g].toJ().mixedAdd(e[m]),v[2]=e[g].add(e[m].neg())):(v[1]=e[g].toJ().mixedAdd(e[m]),v[2]=e[g].toJ().mixedAdd(e[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[g],n[m]);for(f=Math.max(b[0].length,f),d[g]=new Array(f),d[m]=new Array(f),l=0;l<f;l++){var w=0|b[0][l],x=0|b[1][l];d[g][l]=y[3*(w+1)+(x+1)],d[m][l]=0,c[g]=v}}else d[g]=o(n[g],h[g],this._bitLength),d[m]=o(n[m],h[m],this._bitLength),f=Math.max(d[g].length,f),f=Math.max(d[m].length,f)}var _=this.jpoint(null,null,null),C=this._wnafT4;for(s=f;s>=0;s--){for(var S=0;s>=0;){var M=!0;for(l=0;l<i;l++)C[l]=0|d[l][s],0!==C[l]&&(M=!1);if(!M)break;S++,s--}if(s>=0&&S++,_=_.dblp(S),s<0)break;for(l=0;l<i;l++){var A=C[l];0!==A&&(A>0?u=c[l][A-1>>1]:A<0&&(u=c[l][-A-1>>1].neg()),_="affine"===u.type?_.mixedAdd(u):_.add(u))}}for(s=0;s<i;s++)c[s]=null;return r?_:_.toP()},l.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(t,e){t=r.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?s(t[t.length-1]%2==0):7===t[0]&&s(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return r.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<e;r+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,i=1===n?null:this.dbl(),r=1;r<n;r++)e[r]=e[r-1].add(i);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},{"../utils":419,"bn.js":420}],407:[function(t,e,n){"use strict";var i=t("../utils"),r=t("bn.js"),o=t("inherits"),a=t("./base"),s=i.assert;function l(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new r(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,n,i,o){a.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(e,16),this.y=new r(n,16),this.z=i?new r(i,16):this.curve.one,this.t=o&&new r(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(l,a),e.exports=l,l.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},l.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},l.prototype.jpoint=function(t,e,n,i){return this.point(t,e,n,i)},l.prototype.pointFromX=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var l=s.fromRed().isOdd();return(e&&!l||!e&&l)&&(s=s.redNeg()),this.point(t,s)},l.prototype.pointFromY=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},l.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),i=e.redMul(this.a).redAdd(n),r=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===i.cmp(r)},o(u,a.BasePoint),l.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},l.prototype.point=function(t,e,n,i){return new u(this,t,e,n,i)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),r=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=i.redAdd(e),a=o.redSub(n),s=i.redSub(e),l=r.redMul(a),u=o.redMul(s),h=r.redMul(s),c=a.redMul(o);return this.curve.point(l,u,c,h)},u.prototype._projDbl=function(){var t,e,n,i,r,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),l=this.y.redSqr();if(this.curve.twisted){var u=(i=this.curve._mulA(s)).redAdd(l);this.zOne?(t=a.redSub(s).redSub(l).redMul(u.redSub(this.curve.two)),e=u.redMul(i.redSub(l)),n=u.redSqr().redSub(u).redSub(u)):(r=this.z.redSqr(),o=u.redSub(r).redISub(r),t=a.redSub(s).redISub(l).redMul(o),e=u.redMul(i.redSub(l)),n=u.redMul(o))}else i=s.redAdd(l),r=this.curve._mulC(this.z).redSqr(),o=i.redSub(r).redSub(r),t=this.curve._mulC(a.redISub(i)).redMul(o),e=this.curve._mulC(i).redMul(s.redISub(l)),n=i.redMul(o);return this.curve.point(t,e,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),r=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),a=r.redSub(i),s=r.redAdd(i),l=n.redAdd(e),u=o.redMul(a),h=s.redMul(l),c=o.redMul(l),d=a.redMul(s);return this.curve.point(u,h,d,c)},u.prototype._projAdd=function(t){var e,n,i=this.z.redMul(t.z),r=i.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),l=r.redSub(s),u=r.redAdd(s),h=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),c=i.redMul(l).redMul(h);return this.curve.twisted?(e=i.redMul(u).redMul(a.redSub(this.curve._mulA(o))),n=l.redMul(u)):(e=i.redMul(u).redMul(a.redSub(o)),n=this.curve._mulC(l).redMul(u)),this.curve.point(c,e,n)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},u.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,e,n){"use strict";var i=n;i.base=t("./base"),i.short=t("./short"),i.mont=t("./mont"),i.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("inherits"),o=t("./base"),a=t("../utils");function s(t){o.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(s,o),e.exports=s,s.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),i=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===i.redSqrt().redSqr().cmp(i)},r(l,o.BasePoint),s.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},s.prototype.point=function(t,e){return new l(this,t,e)},s.prototype.pointFromJSON=function(t){return l.fromJSON(this,t)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(t,e){return new l(t,e[0],e[1]||t.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},l.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),i=t.redMul(e),r=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(i,r)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),a=r.redMul(i),s=e.z.redMul(o.redAdd(a).redSqr()),l=e.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,l)},l.prototype.mul=function(t){for(var e=t.clone(),n=this,i=this.curve.point(null,null),r=[];0!==e.cmpn(0);e.iushrn(1))r.push(e.andln(1));for(var o=r.length-1;o>=0;o--)0===r[o]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,e,n){"use strict";var i=t("../utils"),r=t("bn.js"),o=t("inherits"),a=t("./base"),s=i.assert;function l(t){a.call(this,"short",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,n,i){a.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(e,16),this.y=new r(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(t,e,n,i){a.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(e,16),this.y=new r(n,16),this.z=new r(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(l,a),e.exports=l,l.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new r(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)n=new r(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new r(t.a,16),b:new r(t.b,16)}})):this._getEndoBasis(n)}}},l.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:r.mont(t),n=new r(2).toRed(e).redInvm(),i=n.redNeg(),o=new r(3).toRed(e).redNeg().redSqrt().redMul(n);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},l.prototype._getEndoBasis=function(t){for(var e,n,i,o,a,s,l,u,h,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,f=this.n.clone(),p=new r(1),g=new r(0),m=new r(0),v=new r(1),y=0;0!==d.cmpn(0);){var b=f.div(d);u=f.sub(b.mul(d)),h=m.sub(b.mul(p));var w=v.sub(b.mul(g));if(!i&&u.cmp(c)<0)e=l.neg(),n=p,i=u.neg(),o=h;else if(i&&2==++y)break;l=u,f=d,d=u,m=p,p=h,v=g,g=w}a=u.neg(),s=h;var x=i.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(x)>=0&&(a=e,s=n),i.negative&&(i=i.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:o},{a:a,b:s}]},l.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],i=e[1],r=i.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=r.mul(n.a),s=o.mul(i.a),l=r.mul(n.b),u=o.mul(i.b);return{k1:t.sub(a).sub(s),k2:l.add(u).neg()}},l.prototype.pointFromX=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(e&&!o||!e&&o)&&(i=i.redNeg()),this.point(t,i)},l.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,i=this.a.redMul(e),r=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===n.redSqr().redISub(r).cmpn(0)},l.prototype._endoWnafMulAdd=function(t,e,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],l=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[2*o]=s,i[2*o+1]=l,r[2*o]=a.k1,r[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,i,r,2*o,n),h=0;h<2*o;h++)i[h]=null,r[h]=null;return u},o(u,a.BasePoint),l.prototype.point=function(t,e,n){return new u(this,t,e,n)},l.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],n);if(!e[2])return i;function r(e){return t.point(e[0],e[1],n)}var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),r=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(i),o=r.redSqr().redISub(this.x.redAdd(this.x)),a=r.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new r(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){var i=[this,e],r=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r):this.curve._wnafMulAdd(1,i,r,2)},u.prototype.jmulAdd=function(t,e,n){var i=[this,e],r=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r,!0):this.curve._wnafMulAdd(1,i,r,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,a.BasePoint),l.prototype.jpoint=function(t,e,n){return new h(this,t,e,n)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(n,i)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(e),r=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=i.redSub(r),l=o.redSub(a);if(0===s.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),h=u.redMul(s),c=i.redMul(u),d=l.redSqr().redIAdd(h).redISub(c).redISub(c),f=l.redMul(c.redISub(d)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(d,f,p)},h.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,i=t.x.redMul(e),r=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(i),s=r.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=n.redMul(l),c=s.redSqr().redIAdd(u).redISub(h).redISub(h),d=s.redMul(h.redISub(c)).redISub(r.redMul(u)),f=this.z.redMul(a);return this.curve.jpoint(c,d,f)},h.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var i=this.curve.a,r=this.curve.tinv,o=this.x,a=this.y,s=this.z,l=s.redSqr().redSqr(),u=a.redAdd(a);for(e=0;e<t;e++){var h=o.redSqr(),c=u.redSqr(),d=c.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(l)),p=o.redMul(c),g=f.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),v=f.redMul(m);v=v.redIAdd(v).redISub(d);var y=u.redMul(s);e+1<t&&(l=l.redMul(d)),o=g,s=y,u=v}return this.curve.jpoint(o,u.redMul(r),s)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i),l=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=l,e=s.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),d=c.redSqr(),f=this.x.redAdd(c).redSqr().redISub(h).redISub(d);f=f.redIAdd(f);var p=h.redAdd(h).redIAdd(h),g=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(f).redISub(f),e=p.redMul(f.redISub(t)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},h.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=s.redSqr().redISub(a).redISub(a);t=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=s.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),d=this.x.redMul(c),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);t=f.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=f.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,n)},h.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(r)),l=e.redAdd(e),u=(l=l.redIAdd(l)).redMul(a),h=s.redSqr().redISub(u.redAdd(u)),c=u.redISub(h),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=s.redMul(c).redISub(d),p=n.redAdd(n).redMul(i);return this.curve.jpoint(h,f,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),i=e.redSqr(),r=t.redAdd(t).redIAdd(t),o=r.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(i),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),l=i.redIAdd(i);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=r.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(l),h=e.redMul(u);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(s).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(c,d,f)},h.prototype.mul=function(t,e){return t=new r(t,e),this.curve._wnafMul(this,t)},h.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),r=n.redMul(t.z);return 0===this.y.redMul(r).redISub(t.y.redMul(i)).cmpn(0)},h.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var i=t.clone(),r=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,e,n){"use strict";var i,r=n,o=t("hash.js"),a=t("./curve"),s=t("./utils").assert;function l(t){"short"===t.type?this.curve=new a.short(t):"edwards"===t.type?this.curve=new a.edwards(t):this.curve=new a.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var n=new l(e);return Object.defineProperty(r,t,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=l,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=t("./precomputed/secp256k1")}catch(t){i=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("hmac-drbg"),o=t("../utils"),a=t("../curves"),s=t("brorand"),l=o.assert,u=t("./key"),h=t("./signature");function c(t){if(!(this instanceof c))return new c(t);"string"==typeof t&&(l(Object.prototype.hasOwnProperty.call(a,t),"Unknown curve "+t),t=a[t]),t instanceof a.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}e.exports=c,c.prototype.keyPair=function(t){return new u(this,t)},c.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},c.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},c.prototype.genKeyPair=function(t){t||(t={});for(var e=new r({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||s(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new i(2));;){var a=new i(e.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},c.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},c.prototype.sign=function(t,e,n,o){"object"==b(n)&&(o=n,n=null),o||(o={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new i(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),l=t.toArray("be",a),u=new r({hash:this.hash,entropy:s,nonce:l,pers:o.pers,persEnc:o.persEnc||"utf8"}),c=this.n.sub(new i(1)),d=0;;d++){var f=o.k?o.k(d):new i(u.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(0!==m.cmpn(0)){var v=f.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==g.cmp(m)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new h({r:m,s:v,recoveryParam:y})}}}}}},c.prototype.verify=function(t,e,n,r){t=this._truncateToN(new i(t,16)),n=this.keyFromPublic(n,r);var o=(e=new h(e,"hex")).r,a=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,l=a.invm(this.n),u=l.mul(t).umod(this.n),c=l.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,n.getPublic(),c)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,n.getPublic(),c)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},c.prototype.recoverPubKey=function(t,e,n,r){l((3&n)===n,"The recovery param is more than two bits"),e=new h(e,r);var o=this.n,a=new i(t),s=e.r,u=e.s,c=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var f=e.r.invm(o),p=o.sub(a).mul(f).umod(o),g=u.mul(f).umod(o);return this.g.mulAdd(p,s,g)},c.prototype.getKeyRecoveryParam=function(t,e,n,i){if(null!==(e=new h(e,i)).recoveryParam)return e.recoveryParam;for(var r=0;r<4;r++){var o;try{o=this.recoverPubKey(t,e,r)}catch(t){continue}if(o.eq(n))return r}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("../utils").assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}e.exports=o,o.fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?r(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||r(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("../utils"),o=r.assert;function a(t,e){if(t instanceof a)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new i(t.r,16),this.s=new i(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function s(){this.place=0}function l(t,e){var n=t[e.place++];if(!(128&n))return n;var i=15&n;if(0===i||i>4)return!1;for(var r=0,o=0,a=e.place;o<i;o++,a++)r<<=8,r|=t[a],r>>>=0;return!(r<=127)&&(e.place=a,r)}function u(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function h(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}e.exports=a,a.prototype._importDER=function(t,e){t=r.toArray(t,e);var n=new s;if(48!==t[n.place++])return!1;var o=l(t,n);if(!1===o)return!1;if(o+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var a=l(t,n);if(!1===a)return!1;var u=t.slice(n.place,a+n.place);if(n.place+=a,2!==t[n.place++])return!1;var h=l(t,n);if(!1===h)return!1;if(t.length!==h+n.place)return!1;var c=t.slice(n.place,h+n.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new i(u),this.s=new i(c),this.recoveryParam=null,!0},a.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=u(e),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2];h(i,e.length),(i=i.concat(e)).push(2),h(i,n.length);var o=i.concat(n),a=[48];return h(a,o.length),a=a.concat(o),r.encode(a,t)}},{"../utils":419,"bn.js":420}],415:[function(t,e,n){"use strict";var i=t("hash.js"),r=t("../curves"),o=t("../utils"),a=o.assert,s=o.parseBytes,l=t("./key"),u=t("./signature");function h(t){if(a("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof h))return new h(t);t=r[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}e.exports=h,h.prototype.sign=function(t,e){t=s(t);var n=this.keyFromSecret(e),i=this.hashInt(n.messagePrefix(),t),r=this.g.mul(i),o=this.encodePoint(r),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),l=i.add(a).umod(this.curve.n);return this.makeSignature({R:r,S:l,Rencoded:o})},h.prototype.verify=function(t,e,n){t=s(t),e=this.makeSignature(e);var i=this.keyFromPublic(n),r=this.hashInt(e.Rencoded(),i.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(i.pub().mul(r)).eq(o)},h.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(t){return l.fromPublic(this,t)},h.prototype.keyFromSecret=function(t){return l.fromSecret(this,t)},h.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},h.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},h.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),r=o.intFromLE(n);return this.curve.pointFromY(r,i)},h.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(t){return o.intFromLE(t)},h.prototype.isPoint=function(t){return t instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,e,n){"use strict";var i=t("../utils"),r=i.assert,o=i.parseBytes,a=i.cachedProperty;function s(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}s.fromPublic=function(t,e){return e instanceof s?e:new s(t,{pub:e})},s.fromSecret=function(t,e){return e instanceof s?e:new s(t,{secret:e})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(t){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},s.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},s.prototype.getSecret=function(t){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},s.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},e.exports=s},{"../utils":419}],417:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("../utils"),o=r.assert,a=r.cachedProperty,s=r.parseBytes;function l(t,e){this.eddsa=t,"object"!=b(e)&&(e=s(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}a(l,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(l,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(l,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(l,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=l},{"../utils":419,"bn.js":420}],418:[function(t,e,n){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,e,n){"use strict";var i=n,r=t("bn.js"),o=t("minimalistic-assert"),a=t("minimalistic-crypto-utils");i.assert=o,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=function(t,e,n){var i=new Array(Math.max(t.bitLength(),n)+1);i.fill(0);for(var r=1<<e+1,o=t.clone(),a=0;a<i.length;a++){var s,l=o.andln(r-1);o.isOdd()?(s=l>(r>>1)-1?(r>>1)-l:l,o.isubn(s)):s=0,i[a]=s,o.iushrn(1)}return i},i.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var i,r=0,o=0;t.cmpn(-r)>0||e.cmpn(-o)>0;){var a,s,l=t.andln(3)+r&3,u=e.andln(3)+o&3;3===l&&(l=-1),3===u&&(u=-1),a=0==(1&l)?0:3!=(i=t.andln(7)+r&7)&&5!==i||2!==u?l:-l,n[0].push(a),s=0==(1&u)?0:3!=(i=e.andln(7)+o&7)&&5!==i||2!==l?u:-u,n[1].push(s),2*r===a+1&&(r=1-r),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return n},i.cachedProperty=function(t,e,n){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new r(t,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(t,e,n){e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,e,n){"use strict";var i=Object.create||function(t){var e=function(){};return e.prototype=t,new e},r=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n},o=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),s=0===u.x}catch(t){s=!1}function h(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,n){if(e)t.call(n);else for(var i=t.length,r=_(t,i),o=0;o<i;++o)r[o].call(n)}function d(t,e,n,i){if(e)t.call(n,i);else for(var r=t.length,o=_(t,r),a=0;a<r;++a)o[a].call(n,i)}function f(t,e,n,i,r){if(e)t.call(n,i,r);else for(var o=t.length,a=_(t,o),s=0;s<o;++s)a[s].call(n,i,r)}function p(t,e,n,i,r,o){if(e)t.call(n,i,r,o);else for(var a=t.length,s=_(t,a),l=0;l<a;++l)s[l].call(n,i,r,o)}function g(t,e,n,i){if(e)t.apply(n,i);else for(var r=t.length,o=_(t,r),a=0;a<r;++a)o[a].apply(n,i)}function m(t,e,n,r){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=t._events)?(a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),s=a[e]):(a=t._events=i(null),t._eventsCount=0),s){if("function"==typeof s?s=a[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(o=h(t))&&o>0&&s.length>o){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,"object"==("undefined"==typeof console?"undefined":b(console))&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[e]=n,++t._eventsCount;return t}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function y(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=o.call(v,i);return r.listener=n,i.wrapFn=r,r}function w(t,e,n){var i=t._events;if(!i)return[];var r=i[e];return r?"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):_(r,r.length):[]}function x(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function _(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');l=t}}):a.defaultMaxListeners=l,a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(t){var e,n,i,r,o,a,s="error"===t;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var l=new Error('Unhandled "error" event. ('+e+")");throw l.context=e,l}if(!(n=a[t]))return!1;var u="function"==typeof n;switch(i=arguments.length){case 1:c(n,u,this);break;case 2:d(n,u,this,arguments[1]);break;case 3:f(n,u,this,arguments[1],arguments[2]);break;case 4:p(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),o=1;o<i;o++)r[o-1]=arguments[o];g(n,u,this,r)}return!0},a.prototype.addListener=function(t,e){return m(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return m(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,y(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,y(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,o,a,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=i(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.removeAllListeners=function(t){var e,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=i(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=i(null):delete n[t]),this;if(0===arguments.length){var a,s=r(n);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this},a.prototype.listeners=function(t){return w(this,t,!0)},a.prototype.rawListeners=function(t){return w(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):x.call(t,e)},a.prototype.listenerCount=x,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("md5.js");e.exports=function(t,e,n,o){if(i.isBuffer(t)||(t=i.from(t,"binary")),e&&(i.isBuffer(e)||(e=i.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=i.alloc(a),l=i.alloc(o||0),u=i.alloc(0);a>0||o>0;){var h=new r;h.update(u),h.update(t),e&&h.update(e),u=h.digest();var c=0;if(a>0){var d=s.length-a;c=Math.min(a,u.length),u.copy(s,d,0,c),a-=c}if(c<u.length&&o>0){var f=l.length-o,p=Math.min(o,u.length-c);u.copy(l,f,c,c+p),o-=p}}return u.fill(0),{key:s,iv:l}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var i=t("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var r=t("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return r.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return r.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return r.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return r.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return r.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("readable-stream").Transform;function o(t){r.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(o,r),o.prototype._transform=function(t,e,n){var i=null;try{this.update(t,e)}catch(t){i=t}n(i)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var n=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)n[this._blockOffset++]=t[r++];for(var a=0,s=8*t.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,e,n){"use strict";var i=n;i.utils=t("./hash/utils"),i.common=t("./hash/common"),i.sha=t("./hash/sha"),i.ripemd=t("./hash/ripemd"),i.hmac=t("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,e,n){"use strict";var i=t("./utils"),r=t("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=o,o.prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-n,this.endian);for(var r=0;r<t.length;r+=this._delta32)this._update(t,r,r+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),r(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=t>>>24&255,i[r++]=t>>>16&255,i[r++]=t>>>8&255,i[r++]=255&t}else for(i[r++]=255&t,i[r++]=t>>>8&255,i[r++]=t>>>16&255,i[r++]=t>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,e,n){"use strict";var i=t("./utils"),r=t("minimalistic-assert");function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,n))}e.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),r(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./common"),o=i.rotl32,a=i.sum32,s=i.sum32_3,l=i.sum32_4,u=r.BlockHash;function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(t,e,n,i){return t<=15?e^n^i:t<=31?e&n|~e&i:t<=47?(e|~n)^i:t<=63?e&i|n&~i:e^(n|~i)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function f(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}i.inherits(h,u),n.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(t,e){for(var n=this.h[0],i=this.h[1],r=this.h[2],u=this.h[3],h=this.h[4],y=n,b=i,w=r,x=u,_=h,C=0;C<80;C++){var S=a(o(l(n,c(C,i,r,u),t[p[C]+e],d(C)),m[C]),h);n=h,h=u,u=o(r,10),r=i,i=S,S=a(o(l(y,c(79-C,b,w,x),t[g[C]+e],f(C)),v[C]),_),y=_,_=x,x=o(w,10),w=b,b=S}S=s(this.h[1],r,x),this.h[1]=s(this.h[2],u,_),this.h[2]=s(this.h[3],h,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],i,w),this.h[0]=S},h.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,e,n){"use strict";n.sha1=t("./sha/1"),n.sha224=t("./sha/224"),n.sha256=t("./sha/256"),n.sha384=t("./sha/384"),n.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,e,n){"use strict";var i=t("../utils"),r=t("../common"),o=t("./common"),a=i.rotl32,s=i.sum32,l=i.sum32_5,u=o.ft_1,h=r.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(d,h),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=a(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var r=this.h[0],o=this.h[1],h=this.h[2],d=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),g=l(a(r,5),u(p,o,h,d),f,n[i],c[p]);f=d,d=h,h=a(o,30),o=r,r=g}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],h),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],f)},d.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./256");function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,e,n){"use strict";var i=t("../utils"),r=t("../common"),o=t("./common"),a=t("minimalistic-assert"),s=i.sum32,l=i.sum32_4,u=i.sum32_5,h=o.ch32,c=o.maj32,d=o.s0_256,f=o.s1_256,p=o.g0_256,g=o.g1_256,m=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(y,m),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=l(g(n[i-2]),n[i-7],p(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],m=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7];for(a(this.k.length===n.length),i=0;i<n.length;i++){var _=u(x,f(y),h(y,b,w),this.k[i],n[i]),C=s(d(r),c(r,o,m));x=w,w=b,b=y,y=s(v,_),v=m,m=o,o=r,r=s(_,C)}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],v),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],x)},y.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./512");function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,e,n){"use strict";var i=t("../utils"),r=t("../common"),o=t("minimalistic-assert"),a=i.rotr64_hi,s=i.rotr64_lo,l=i.shr64_hi,u=i.shr64_lo,h=i.sum64,c=i.sum64_hi,d=i.sum64_lo,f=i.sum64_4_hi,p=i.sum64_4_lo,g=i.sum64_5_hi,m=i.sum64_5_lo,v=r.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,n,i,r){var o=t&n^~t&r;return o<0&&(o+=4294967296),o}function x(t,e,n,i,r,o){var a=e&i^~e&o;return a<0&&(a+=4294967296),a}function _(t,e,n,i,r){var o=t&n^t&r^n&r;return o<0&&(o+=4294967296),o}function C(t,e,n,i,r,o){var a=e&i^e&o^i&o;return a<0&&(a+=4294967296),a}function S(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function M(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function A(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function T(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function k(t,e){var n=a(t,e,1)^a(t,e,8)^l(t,e,7);return n<0&&(n+=4294967296),n}function R(t,e){var n=s(t,e,1)^s(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function I(t,e){var n=a(t,e,19)^a(e,t,29)^l(t,e,6);return n<0&&(n+=4294967296),n}function P(t,e){var n=s(t,e,19)^s(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}i.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var n=this.W,i=0;i<32;i++)n[i]=t[e+i];for(;i<n.length;i+=2){var r=I(n[i-4],n[i-3]),o=P(n[i-4],n[i-3]),a=n[i-14],s=n[i-13],l=k(n[i-30],n[i-29]),u=R(n[i-30],n[i-29]),h=n[i-32],c=n[i-31];n[i]=f(r,o,a,s,l,u,h,c),n[i+1]=p(r,o,a,s,l,u,h,c)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,i=this.h[0],r=this.h[1],a=this.h[2],s=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],p=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],k=this.h[11],R=this.h[12],I=this.h[13],P=this.h[14],E=this.h[15];o(this.k.length===n.length);for(var B=0;B<n.length;B+=2){var L=P,D=E,O=A(v,y),F=T(v,y),H=w(v,0,b,0,R),N=x(0,y,0,k,0,I),z=this.k[B],W=this.k[B+1],j=n[B],V=n[B+1],G=g(L,D,O,F,H,N,z,W,j,V),Z=m(L,D,O,F,H,N,z,W,j,V);L=S(i,r),D=M(i,r),O=_(i,0,a,0,l),F=C(0,r,0,s,0,u);var U=c(L,D,O,F),K=d(L,D,O,F);P=R,E=I,R=b,I=k,b=v,k=y,v=c(f,p,G,Z),y=d(p,p,G,Z),f=l,p=u,l=a,u=s,a=i,s=r,i=c(G,Z,U,K),r=d(G,Z,U,K)}h(this.h,0,i,r),h(this.h,2,a,s),h(this.h,4,l,u),h(this.h,6,f,p),h(this.h,8,v,y),h(this.h,10,b,k),h(this.h,12,R,I),h(this.h,14,P,E)},b.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,e,n){"use strict";var i=t("../utils").rotr32;function r(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}n.ft_1=function(t,e,n,i){return 0===t?r(e,n,i):1===t||3===t?a(e,n,i):2===t?o(e,n,i):void 0},n.ch32=r,n.maj32=o,n.p32=a,n.s0_256=function(t){return i(t,2)^i(t,13)^i(t,22)},n.s1_256=function(t){return i(t,6)^i(t,11)^i(t,25)},n.g0_256=function(t){return i(t,7)^i(t,18)^t>>>3},n.g1_256=function(t){return i(t,17)^i(t,19)^t>>>10}},{"../utils":437}],437:[function(t,e,n){"use strict";var i=t("minimalistic-assert"),r=t("inherits");function o(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function l(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}n.inherits=r,n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var i=0,r=0;r<t.length;r++){var a=t.charCodeAt(r);a<128?n[i++]=a:a<2048?(n[i++]=a>>6|192,n[i++]=63&a|128):o(t,r)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++r)),n[i++]=a>>18|240,n[i++]=a>>12&63|128,n[i++]=a>>6&63|128,n[i++]=63&a|128):(n[i++]=a>>12|224,n[i++]=a>>6&63|128,n[i++]=63&a|128)}else for(r=0;r<t.length;r++)n[r]=0|t[r];return n},n.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e},n.htonl=a,n.toHex32=function(t,e){for(var n="",i=0;i<t.length;i++){var r=t[i];"little"===e&&(r=a(r)),n+=l(r.toString(16))}return n},n.zero2=s,n.zero8=l,n.join32=function(t,e,n,r){var o=n-e;i(o%4==0);for(var a=new Array(o/4),s=0,l=e;s<a.length;s++,l+=4){var u;u="big"===r?t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],a[s]=u>>>0}return a},n.split32=function(t,e){for(var n=new Array(4*t.length),i=0,r=0;i<t.length;i++,r+=4){var o=t[i];"big"===e?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},n.rotr32=function(t,e){return t>>>e|t<<32-e},n.rotl32=function(t,e){return t<<e|t>>>32-e},n.sum32=function(t,e){return t+e>>>0},n.sum32_3=function(t,e,n){return t+e+n>>>0},n.sum32_4=function(t,e,n,i){return t+e+n+i>>>0},n.sum32_5=function(t,e,n,i,r){return t+e+n+i+r>>>0},n.sum64=function(t,e,n,i){var r=t[e],o=i+t[e+1]>>>0,a=(o<i?1:0)+n+r;t[e]=a>>>0,t[e+1]=o},n.sum64_hi=function(t,e,n,i){return(e+i>>>0<e?1:0)+t+n>>>0},n.sum64_lo=function(t,e,n,i){return e+i>>>0},n.sum64_4_hi=function(t,e,n,i,r,o,a,s){var l=0,u=e;return l+=(u=u+i>>>0)<e?1:0,l+=(u=u+o>>>0)<o?1:0,t+n+r+a+(l+=(u=u+s>>>0)<s?1:0)>>>0},n.sum64_4_lo=function(t,e,n,i,r,o,a,s){return e+i+o+s>>>0},n.sum64_5_hi=function(t,e,n,i,r,o,a,s,l,u){var h=0,c=e;return h+=(c=c+i>>>0)<e?1:0,h+=(c=c+o>>>0)<o?1:0,h+=(c=c+s>>>0)<s?1:0,t+n+r+a+l+(h+=(c=c+u>>>0)<u?1:0)>>>0},n.sum64_5_lo=function(t,e,n,i,r,o,a,s,l,u){return e+i+o+s+u>>>0},n.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},n.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},n.shr64_hi=function(t,e,n){return t>>>n},n.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,e,n){"use strict";var i=t("hash.js"),r=t("minimalistic-crypto-utils"),o=t("minimalistic-assert");function a(t){if(!(this instanceof a))return new a(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=r.toArray(t.entropy,t.entropyEnc||"hex"),n=r.toArray(t.nonce,t.nonceEnc||"hex"),i=r.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,i)}e.exports=a,a.prototype._init=function(t,e,n){var i=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(t,e,n,i){"string"!=typeof e&&(i=n,n=e,e=null),t=r.toArray(t,e),n=r.toArray(n,i),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},a.prototype.generate=function(t,e,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=n,n=e,e=null),n&&(n=r.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,t);return this._update(n),this._reseed++,r.encode(a,e)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,e,n){"use strict";n.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,h=-7,c=n?r-1:0,d=n?-1:1,f=t[e+c];for(c+=d,o=f&(1<<-h)-1,f>>=-h,h+=s;h>0;o=256*o+t[e+c],c+=d,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=i;h>0;a=256*a+t[e+c],c+=d,h-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=u}return(f?-1:1)*a*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var a,s,l,u=8*o-r-1,h=(1<<u)-1,c=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*l-1)*Math.pow(2,r),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+f]=255&a,f+=p,a/=256,u-=8);t[n+f-p]|=128*g}},{}],440:[function(t,e,n){"use strict";"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},{}],441:[function(t,e,i){(function(n,r,o,a,s,l,u,h){(function(){"use strict";!function(t){"object"==b(i)&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,i,r){function o(s,l){if(!i[s]){if(!n[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};n[s][0].call(c.exports,(function(t){return o(n[s][1][t]||t)}),c,c.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){var i=t("./utils"),r=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,r,a,s,l,u,h=[],c=0,d=t.length,f=d,p="string"!==i.getTypeOf(t);c<t.length;)f=d-c,r=p?(e=t[c++],n=c<d?t[c++]:0,c<d?t[c++]:0):(e=t.charCodeAt(c++),n=c<d?t.charCodeAt(c++):0,c<d?t.charCodeAt(c++):0),a=e>>2,s=(3&e)<<4|n>>4,l=1<f?(15&n)<<2|r>>6:64,u=2<f?63&r:64,h.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(u));return h.join("")},n.decode=function(t){var e,n,i,a,s,l,u=0,h=0,c="data:";if(t.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<t.length;)e=o.indexOf(t.charAt(u++))<<2|(a=o.indexOf(t.charAt(u++)))>>4,n=(15&a)<<4|(s=o.indexOf(t.charAt(u++)))>>2,i=(3&s)<<6|(l=o.indexOf(t.charAt(u++))),d[h++]=e,64!==s&&(d[h++]=n),64!==l&&(d[h++]=i);return d}},{"./support":30,"./utils":32}],2:[function(t,e,n){var i=t("./external"),r=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){var i=t("./utils"),r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var o=r,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}(0|e,t,t.length):function(t,e,n,i){var o=r,a=0+n;t^=-1;for(var s=0;s<a;s++)t=t>>>8^o[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){var i;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),s=i?"uint8array":"array";function l(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new l("Deflate",t)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){function i(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i}function r(t,e,n,r,a,h){var c,d,f=t.file,p=t.compression,g=h!==s.utf8encode,m=o.transformTo("string",h(f.name)),v=o.transformTo("string",s.utf8encode(f.name)),y=f.comment,b=o.transformTo("string",h(y)),w=o.transformTo("string",s.utf8encode(y)),x=v.length!==f.name.length,_=w.length!==y.length,C="",S="",M="",A=f.dir,T=f.date,k={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(k.crc32=t.crc32,k.compressedSize=t.compressedSize,k.uncompressedSize=t.uncompressedSize);var R=0;e&&(R|=8),g||!x&&!_||(R|=2048);var I=0,P=0;A&&(I|=16),"UNIX"===a?(P=798,I|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(f.unixPermissions,A)):(P=20,I|=function(t){return 63&(t||0)}(f.dosPermissions)),c=T.getUTCHours(),c<<=6,c|=T.getUTCMinutes(),c<<=5,c|=T.getUTCSeconds()/2,d=T.getUTCFullYear()-1980,d<<=4,d|=T.getUTCMonth()+1,d<<=5,d|=T.getUTCDate(),x&&(S=i(1,1)+i(l(m),4)+v,C+="up"+i(S.length,2)+S),_&&(M=i(1,1)+i(l(b),4)+w,C+="uc"+i(M.length,2)+M);var E="";return E+="\n\0",E+=i(R,2),E+=p.magic,E+=i(c,2),E+=i(d,2),E+=i(k.crc32,4),E+=i(k.compressedSize,4),E+=i(k.uncompressedSize,4),E+=i(m.length,2),E+=i(C.length,2),{fileRecord:u.LOCAL_FILE_HEADER+E+m+C,dirRecord:u.CENTRAL_FILE_HEADER+i(P,2)+E+i(b.length,2)+"\0\0\0\0"+i(I,4)+i(r,4)+m+C+b}}var o=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),l=t("../crc32"),u=t("../signature");function h(t,e,n,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,a),h.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=r(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=r(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return u.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=function(t,e,n,r,a){var s=o.transformTo("string",a(r));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+i(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},h.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},h.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){var i=t("../compressions"),r=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var o=new r(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var r=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:t,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){var i=t("./utils"),r=t("./external"),o=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function u(t){return new r.Promise((function(e,n){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",(function(t){n(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[r.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)})).then((function(t){for(var r=t.shift(),o=r.files,a=0;a<o.length;a++){var s=o[a],l=s.fileNameStr,u=i.resolve(s.fileNameStr);n.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders}),s.dir||(n.file(u).unsafeOriginalName=l)}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){var i=t("../utils"),r=t("../stream/GenericWorker");function o(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(o,r),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){var i=t("readable-stream").Readable;function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",(function(t,e){r.push(t)||r._helper.pause(),n&&n(e)})).on("error",(function(t){r.emit("error",t)})).on("end",(function(){r.push(null)}))}t("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){e.exports={isNode:void 0!==o,newBufferFrom:function(t,e){if(o.from&&o.from!==Uint8Array.from)return o.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new o(t,e)},allocBuffer:function(t){if(o.alloc)return o.alloc(t);var e=new o(t);return e.fill(0),e},isBuffer:function(t){return o.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){function i(t,e,n){var i,r=o.getTypeOf(e),s=o.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=p(t))&&m.call(this,i,!0);var c,v="string"===r&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!v),(e instanceof u&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",r="string"),c=e instanceof u||e instanceof a?e:d.isNode&&d.isStream(e)?new f(t,e):o.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new h(t,c,s);this.files[t]=y}var r=t("./utf8"),o=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),l=t("./defaults"),u=t("./compressedObject"),h=t("./zipObject"),c=t("./generate"),d=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},m=function(t,e){return e=void 0!==e?e:l.createFolders,t=g(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function v(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i)},filter:function(t){var e=[];return this.forEach((function(n,i){t(n,i)&&e.push(i)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,i.call(this,t,e,n),this;if(v(t)){var r=t;return this.filter((function(t,e){return!e.dir&&r.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null},folder:function(t){if(!t)return this;if(v(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=m.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=c.generateWorker(this,n,i)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){var i=t("./DataReader");function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){var i=t("../utils");function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,n){var i=t("./Uint8ArrayReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){var i=t("./DataReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){var i=t("./ArrayReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){var i=t("../utils"),r=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new s(t):r.uint8array?new l(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){var i=t("./GenericWorker"),r=t("../utils");function o(t){i.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(o,i),o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){var i=t("./GenericWorker"),r=t("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,i),o.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){var i=t("../utils"),r=t("./GenericWorker");function o(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(o,r),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){var i=t("../utils"),r=t("./GenericWorker");function o(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,n){var i=t("../utils"),r=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),l=t("../support"),u=t("../external"),h=null;if(l.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function c(t,e,n){var o=e;switch(e){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=e,this._mimeType=n,i.checkSupport(o),this._worker=t.pipe(new r(o)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}c.prototype={accumulate:function(t){return function(t,e){return new u.Promise((function(n,r){var a=[],l=t._internalType,u=t._outputType,h=t._mimeType;t.on("data",(function(t,n){a.push(t),e&&e(n)})).on("error",(function(t){a=[],r(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(u,function(t,e){var n,i=0,r=null,a=0;for(n=0;n<e.length;n++)a+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(a),n=0;n<e.length;n++)r.set(e[n],i),i+=e[n].length;return r;case"nodebuffer":return o.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,a),h);n(t)}catch(t){r(t)}a=[]})).resume()}))}(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){i.delay(e,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==o,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){for(var i=t("./utils"),r=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function h(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return r.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(l):new Array(l),o=a=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return r.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,o,a=t.length,l=new Array(2*a);for(e=n=0;e<a;)if((r=t[e++])<128)l[n++]=r;else if(4<(o=s[r]))l[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&e<a;)r=r<<6|63&t[e++],o--;1<o?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(t=i.transformTo(r.uint8array?"uint8array":"array",t))},i.inherits(u,a),u.prototype.processChunk=function(t){var e=i.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}(e),l=e;a!==e.length&&(r.uint8array?(l=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(l=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(l),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,i.inherits(h,a),h.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){var i=t("./support"),r=t("./base64"),o=t("./nodejsUtils"),a=t("./external");function s(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}t("setimmediate"),n.newBlob=function(t,e){n.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var e=65536,i=n.getTypeOf(t),r=!0;if("uint8array"===i?r=u.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=u.applyCanBeUsed.nodebuffer),r)for(;1<e;)try{return u.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return u.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=c;var f={};f.string={string:s,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,o.allocBuffer(t.length))}},f.array={string:c,array:s,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},f.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:s,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:s,nodebuffer:function(t){return o.newBufferFrom(t)}},f.nodebuffer={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:s},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return f[i][t](e)},n.resolve=function(t){for(var e=t.split("/"),n=[],i=0;i<e.length;i++){var r=e[i];"."===r||""===r&&0!==i&&i!==e.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&o.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.delay=function(t,e,n){h((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,o,s,u){return a.Promise.resolve(e).then((function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(e){var h=n.getTypeOf(e);return h?("arraybuffer"===h?e=n.transformTo("uint8array",e):"string"===h&&(u?e=r.decode(e):o&&!0!==s&&(e=function(t){return l(t,i.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,e,n){var i=t("./reader/readerFor"),r=t("./utils"),o=t("./signature"),a=t("./zipEntry"),s=t("./support");function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(0<i)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){var i=t("./reader/readerFor"),r=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),l=t("./compressions"),u=t("./support");function h(t,e){this.options=t,this.loadOptions=e}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(Object.prototype.hasOwnProperty.call(l,e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i};t.setIndex(r)},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),l=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new r(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)i.prototype[u[c]]=h;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(t){var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,a=new r(h),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){h(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(h,0)};else{var l=new t.MessageChannel;l.port1.onmessage=h,n=function(){l.port2.postMessage(0)}}var u=[];function h(){var t,e;i=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}i=!1}e.exports=function(t){1!==u.push(t)||i||n()}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){var i=t("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==r&&f(this,t)}function h(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function c(t,e,n){i((function(){var i;try{i=e(n)}catch(i){return o.reject(t,i)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function d(t){var e=t&&t.then;if(t&&("object"==b(t)||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var a=p((function(){e(r,i)}));"error"===a.status&&i(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=u).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(r);return this.state!==l?c(n,this.state===s?t:e,this.outcome):this.queue.push(new h(n,t,e)),n},h.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){o.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(d,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)f(t,i);else{t.state=s,t.outcome=e;for(var r=-1,a=t.queue.length;++r<a;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},u.reject=function(t){var e=new this(r);return o.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(r);++l<n;)h(t[l],l);return u;function h(t,r){e.resolve(t).then((function(t){a[r]=t,++s!==n||i||(i=!0,o.resolve(u,a))}),(function(t){i||(i=!0,o.reject(u,t))}))}},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var i,a=-1,s=new this(r);++a<e;)i=t[a],this.resolve(i).then((function(t){n||(n=!0,o.resolve(s,t))}),(function(t){n||(n=!0,o.reject(s,t))}));return s}},{immediate:36}],38:[function(t,e,n){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){var i=t("./zlib/deflate"),r=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(h="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=i.deflateSetDictionary(this.strm,h)))throw new Error(a[n]);this._dict_set=!0}}function h(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=u,n.deflate=h,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,h(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){var i=t("./zlib/inflate"),r=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),l=t("./zlib/zstream"),u=t("./zlib/gzheader"),h=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(t,e){var n,s,l,u,c,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===h.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(d="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===h.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),u=f.next_out-l,c=o.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&r.arraySet(f.output,f.output,l,u,0),this.onData(c)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=c,n.inflate=d,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=b(n))throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(e=i=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),e=r=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},o={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(t,e,n){var i=t("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,r,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),o=a=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,r,o,s=e||t.length,u=new Array(2*s);for(n=i=0;n<s;)if((r=t[n++])<128)u[i++]=r;else if(4<(o=a[r]))u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<s;)r=r<<6|63&t[n++],o--;1<o?u[i++]=65533:r<65536?u[i++]=r:(r-=65536,u[i++]=55296|r>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){e.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(r=r+e[i++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){var i,r=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),l=t("./messages"),u=-2,h=258,c=262,d=113;function f(t,e){return t.msg=l[e],e}function p(t){return(t<<1)-(4<t?9:0)}function g(t){for(var e=t.length;0<=--e;)t[e]=0}function m(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function v(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,m(t.strm)}function y(t,e){t.pending_buf[t.pending++]=e}function b(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function w(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-c?t.strstart-(t.w_size-c):0,u=t.window,d=t.w_mask,f=t.prev,p=t.strstart+h,g=u[o+a-1],m=u[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===m&&u[n+a-1]===g&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<p);if(i=h-(p-o),o=p-h,a<i){if(t.match_start=e,s<=(a=i))break;g=u[o+a-1],m=u[o+a]}}}while((e=f[e&d])>l&&0!=--r);return a<=t.lookahead?a:t.lookahead}function x(t){var e,n,i,o,l,u,h,d,f,p,g=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-c)){for(r.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,e=n=t.hash_size;i=t.head[--e],t.head[e]=g<=i?i-g:0,--n;);for(e=n=g;i=t.prev[--e],t.prev[e]=g<=i?i-g:0,--n;);o+=g}if(0===t.strm.avail_in)break;if(u=t.strm,h=t.window,d=t.strstart+t.lookahead,p=void 0,(f=o)<(p=u.avail_in)&&(p=f),n=0===p?0:(u.avail_in-=p,r.arraySet(h,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=a(u.adler,h,p,d):2===u.state.wrap&&(u.adler=s(u.adler,h,p,d)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<c&&0!==t.strm.avail_in)}function _(t,e){for(var n,i;;){if(t.lookahead<c){if(x(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-c&&(t.match_length=w(t,n)),t.match_length>=3)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function C(t,e){for(var n,i,r;;){if(t.lookahead<c){if(x(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-c&&(t.match_length=w(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-3,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(v(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&v(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function S(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):f(t,u)}function T(t){var e=A(t);return 0===e&&function(t){t.window_size=2*t.w_size,g(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function k(t,e,n,i,o,a){if(!t)return u;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),o<1||9<o||8!==n||i<8||15<i||e<0||9<e||a<0||4<a)return f(t,u);8===i&&(i=9);var l=new M;return(t.state=l).strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,T(t)}i=[new S(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(x(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,v(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-c&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(v(t,!1),t.strm.avail_out),1)})),new S(4,4,8,4,_),new S(4,5,16,8,_),new S(4,6,32,32,_),new S(4,4,16,16,C),new S(8,16,32,32,C),new S(8,16,128,128,C),new S(8,32,128,256,C),new S(32,128,258,1024,C),new S(32,258,258,4096,C)],n.deflateInit=function(t,e){return k(t,e,8,15,8,0)},n.deflateInit2=k,n.deflateReset=T,n.deflateResetKeep=A,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},n.deflate=function(t,e){var n,r,a,l;if(!t||!t.state||5<e||e<0)return t?f(t,u):u;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return f(t,0===t.avail_out?-5:u);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,y(r,31),y(r,139),y(r,8),r.gzhead?(y(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),y(r,255&r.gzhead.time),y(r,r.gzhead.time>>8&255),y(r,r.gzhead.time>>16&255),y(r,r.gzhead.time>>24&255),y(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),y(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(y(r,255&r.gzhead.extra.length),y(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(y(r,0),y(r,0),y(r,0),y(r,0),y(r,0),y(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),y(r,3),r.status=d);else{var c=8+(r.w_bits-8<<4)<<8;c|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(c|=32),c+=31-c%31,r.status=d,b(r,c),0!==r.strstart&&(b(r,t.adler>>>16),b(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),m(t),a=r.pending,r.pending!==r.pending_buf_size));)y(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),m(t),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,y(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),m(t),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,y(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&m(t),r.pending+2<=r.pending_buf_size&&(y(r,255&t.adler),y(r,t.adler>>8&255),t.adler=0,r.status=d)):r.status=d),0!==r.pending){if(m(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(n)&&4!==e)return f(t,-5);if(666===r.status&&0!==t.avail_in)return f(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var w=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(x(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,i,r,a,s=t.window;;){if(t.lookahead<=h){if(x(t),t.lookahead<=h&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=t.strstart+h;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);t.match_length=h-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(r,e):i[r.level].func(r,e);if(3!==w&&4!==w||(r.status=666),1===w||3===w)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===w&&(1===e?o._tr_align(r):5!==e&&(o._tr_stored_block(r,0,0,!1),3===e&&(g(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),m(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(y(r,255&t.adler),y(r,t.adler>>8&255),y(r,t.adler>>16&255),y(r,t.adler>>24&255),y(r,255&t.total_in),y(r,t.total_in>>8&255),y(r,t.total_in>>16&255),y(r,t.total_in>>24&255)):(b(r,t.adler>>>16),b(r,65535&t.adler)),m(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==d&&666!==e?f(t,u):(t.state=null,e===d?f(t,-3):0):u},n.deflateSetDictionary=function(t,e){var n,i,o,s,l,h,c,d,f=e.length;if(!t||!t.state)return u;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(t.adler=a(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,e,f-n.w_size,n.w_size,0),e=d,f=n.w_size),l=t.avail_in,h=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,x(n);n.lookahead>=3;){for(i=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=c,t.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){e.exports=function(t,e){var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A;n=t.state,i=t.next_in,M=t.input,r=i+(t.avail_in-5),o=t.next_out,A=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=n.dmax,u=n.wsize,h=n.whave,c=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(f+=M[i++]<<p,p+=8,f+=M[i++]<<p,p+=8),b=g[f&v];e:for(;;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))A[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&b,(w&=15)&&(p<w&&(f+=M[i++]<<p,p+=8),x+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=M[i++]<<p,p+=8,f+=M[i++]<<p,p+=8),b=m[f&y];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(_=65535&b,p<(w&=15)&&(f+=M[i++]<<p,(p+=8)<w&&(f+=M[i++]<<p,p+=8)),l<(_+=f&(1<<w)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=w,p-=w,(w=o-a)<_){if(h<(w=_-w)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=d,(C=0)===c){if(C+=u-w,w<x){for(x-=w;A[o++]=d[C++],--w;);C=o-_,S=A}}else if(c<w){if(C+=u+c-w,(w-=c)<x){for(x-=w;A[o++]=d[C++],--w;);if(C=0,c<x){for(x-=w=c;A[o++]=d[C++],--w;);C=o-_,S=A}}}else if(C+=c-w,w<x){for(x-=w;A[o++]=d[C++],--w;);C=o-_,S=A}for(;2<x;)A[o++]=S[C++],A[o++]=S[C++],A[o++]=S[C++],x-=3;x&&(A[o++]=S[C++],1<x&&(A[o++]=S[C++]))}else{for(C=o-_;A[o++]=A[C++],A[o++]=A[C++],A[o++]=A[C++],2<(x-=3););x&&(A[o++]=A[C++],1<x&&(A[o++]=A[C++]))}break}}break}}while(i<r&&o<s);i-=x=p>>3,f&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=p}},{}],49:[function(t,e,n){var i=t("../utils/common"),r=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),l=-2;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):l}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):l}function f(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,d(t))):l}function p(t,e){var n,i;return t?(i=new h,(t.state=i).window=null,0!==(n=f(t,e))&&(t.state=null),n):l}var g,m,v=!0;function y(t){if(v){var e;for(g=new i.Buf32(512),m=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),v=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function b(t,e,n,r){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r<(o=a.wsize-a.wnext)&&(o=r),i.arraySet(a.window,e,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=d,n.inflateReset2=f,n.inflateResetKeep=c,n.inflateInit=function(t){return p(t,15)},n.inflateInit2=p,n.inflate=function(t,e){var n,h,c,d,f,p,g,m,v,w,x,_,C,S,M,A,T,k,R,I,P,E,B,L,D=0,O=new i.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,c=t.output,g=t.avail_out,d=t.next_in,h=t.input,p=t.avail_in,m=n.hold,v=n.bits,w=p,x=g,E=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(2&n.wrap&&35615===m){O[n.check=0]=255&m,O[1]=m>>>8&255,n.check=o(n.check,O,2,0),v=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(v-=4,P=8+(15&(m>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,t.adler=n.check=1,n.mode=512&m?10:12,v=m=0;break;case 2:for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(O[0]=255&m,O[1]=m>>>8&255,n.check=o(n.check,O,2,0)),v=m=0,n.mode=3;case 3:for(;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(O[0]=255&m,O[1]=m>>>8&255,O[2]=m>>>16&255,O[3]=m>>>24&255,n.check=o(n.check,O,4,0)),v=m=0,n.mode=4;case 4:for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(O[0]=255&m,O[1]=m>>>8&255,n.check=o(n.check,O,2,0)),v=m=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(O[0]=255&m,O[1]=m>>>8&255,n.check=o(n.check,O,2,0)),v=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(_=n.length)&&(_=p),_&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,h,d,_,P)),512&n.flags&&(n.check=o(n.check,h,_,d)),p-=_,d+=_,n.length-=_),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;for(_=0;P=h[d+_++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&_<p;);if(512&n.flags&&(n.check=o(n.check,h,_,d)),p-=_,d+=_,P)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;for(_=0;P=h[d+_++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&_<p;);if(512&n.flags&&(n.check=o(n.check,h,_,d)),p-=_,d+=_,P)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}v=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}t.adler=n.check=u(m),v=m=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=g,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=v,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6!==e)break;m>>>=2,v-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,v=m=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(_=n.length){if(p<_&&(_=p),g<_&&(_=g),0===_)break t;i.arraySet(c,h,d,_,f),p-=_,d+=_,g-=_,f+=_,n.length-=_;break}n.mode=12;break;case 17:for(;v<14;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(n.nlen=257+(31&m),m>>>=5,v-=5,n.ndist=1+(31&m),m>>>=5,v-=5,n.ncode=4+(15&m),m>>>=4,v-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.lens[F[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},E=s(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,E){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&D,!((M=D>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(T<16)m>>>=M,v-=M,n.lens[n.have++]=T;else{if(16===T){for(L=M+2;v<L;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(m>>>=M,v-=M,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],_=3+(3&m),m>>>=2,v-=2}else if(17===T){for(L=M+3;v<L;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}v-=M,P=0,_=3+(7&(m>>>=M)),m>>>=3,v-=3}else{for(L=M+7;v<L;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}v-=M,P=0,_=11+(127&(m>>>=M)),m>>>=7,v-=7}if(n.have+_>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},E=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,E){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},E=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,E){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=p&&258<=g){t.next_out=f,t.avail_out=g,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=v,a(t,x),f=t.next_out,c=t.output,g=t.avail_out,d=t.next_in,h=t.input,p=t.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&D,!((M=D>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(A&&0==(240&A)){for(k=M,R=A,I=T;A=(D=n.lencode[I+((m&(1<<k+R)-1)>>k)])>>>16&255,T=65535&D,!(k+(M=D>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}m>>>=k,v-=k,n.back+=k}if(m>>>=M,v-=M,n.back+=M,n.length=T,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(L=n.extra;v<L;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(D=n.distcode[m&(1<<n.distbits)-1])>>>16&255,T=65535&D,!((M=D>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(0==(240&A)){for(k=M,R=A,I=T;A=(D=n.distcode[I+((m&(1<<k+R)-1)>>k)])>>>16&255,T=65535&D,!(k+(M=D>>>24)<=v);){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}m>>>=k,v-=k,n.back+=k}if(m>>>=M,v-=M,n.back+=M,64&A){t.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(L=n.extra;v<L;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break t;if(_=x-g,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}C=_>n.wnext?(_-=n.wnext,n.wsize-_):n.wnext-_,_>n.length&&(_=n.length),S=n.window}else S=c,C=f-n.offset,_=n.length;for(g<_&&(_=g),g-=_,n.length-=_;c[f++]=S[C++],--_;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;c[f++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===p)break t;p--,m|=h[d++]<<v,v+=8}if(x-=g,t.total_out+=x,n.total+=x,x&&(t.adler=n.check=n.flags?o(n.check,c,x,f-x):r(n.check,c,x,f-x)),x=g,(n.flags?m:u(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}v=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===p)break t;p--,m+=h[d++]<<v,v+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}v=m=0}n.mode=29;case 29:E=1;break t;case 30:E=-3;break t;case 31:return-4;default:return l}return t.next_out=f,t.avail_out=g,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=v,(n.wsize||x!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&b(t,t.output,t.next_out,x-t.avail_out)?(n.mode=31,-4):(w-=t.avail_in,x-=t.avail_out,t.total_in+=w,t.total_out+=x,n.total+=x,n.wrap&&x&&(t.adler=n.check=n.flags?o(n.check,c,x,t.next_out-x):r(n.check,c,x,t.next_out-x)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===x||4===e)&&0===E&&(E=-5),E)},n.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?l:((n.head=e).done=!1,0):l},n.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?l:11===n.mode&&r(1,e,i,0)!==n.check?-3:b(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){var i=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,l,u,h,c,d){var f,p,g,m,v,y,b,w,x,_=d.bits,C=0,S=0,M=0,A=0,T=0,k=0,R=0,I=0,P=0,E=0,B=null,L=0,D=new i.Buf16(16),O=new i.Buf16(16),F=null,H=0;for(C=0;C<=15;C++)D[C]=0;for(S=0;S<l;S++)D[e[n+S]]++;for(T=_,A=15;1<=A&&0===D[A];A--);if(A<T&&(T=A),0===A)return u[h++]=20971520,u[h++]=20971520,d.bits=1,0;for(M=1;M<A&&0===D[M];M++);for(T<M&&(T=M),C=I=1;C<=15;C++)if(I<<=1,(I-=D[C])<0)return-1;if(0<I&&(0===t||1!==A))return-1;for(O[1]=0,C=1;C<15;C++)O[C+1]=O[C]+D[C];for(S=0;S<l;S++)0!==e[n+S]&&(c[O[e[n+S]]++]=S);if(y=0===t?(B=F=c,19):1===t?(B=r,L-=257,F=o,H-=257,256):(B=a,F=s,-1),C=M,v=h,R=S=E=0,g=-1,m=(P=1<<(k=T))-1,1===t&&852<P||2===t&&592<P)return 1;for(;;){for(b=C-R,x=c[S]<y?(w=0,c[S]):c[S]>y?(w=F[H+c[S]],B[L+c[S]]):(w=96,0),f=1<<C-R,M=p=1<<k;u[v+(E>>R)+(p-=f)]=b<<24|w<<16|x|0,0!==p;);for(f=1<<C-1;E&f;)f>>=1;if(0!==f?(E&=f-1,E+=f):E=0,S++,0==--D[C]){if(C===A)break;C=e[n+c[S]]}if(T<C&&(E&m)!==g){for(0===R&&(R=T),v+=M,I=1<<(k=C-R);k+R<A&&!((I-=D[k+R])<=0);)k++,I<<=1;if(P+=1<<k,1===t&&852<P||2===t&&592<P)return 1;u[g=E&m]=T<<24|k<<16|v-h|0}}return 0!==E&&(u[v+E]=C-R<<24|64<<16|0),d.bits=T,0}},{"../utils/common":41}],51:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){var i=t("../utils/common");function r(t){for(var e=t.length;0<=--e;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var h=new Array(60);r(h);var c=new Array(512);r(c);var d=new Array(256);r(d);var f=new Array(29);r(f);var p,g,m,v=new Array(30);function y(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?c[t]:c[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function _(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function C(t,e,n){_(t,n[2*e],n[2*e+1])}function S(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function M(t,e,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=S(o[s]++,s))}}function A(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function T(t){8<t.bi_valid?x(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function k(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function R(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&k(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!k(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function I(t,e,n){var i,r,s,l,u=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],r=t.pending_buf[t.l_buf+u],u++,0===i?C(t,r,e):(C(t,(s=d[r])+256+1,e),0!==(l=o[s])&&_(t,r-=f[s],l),C(t,s=w(--i),n),0!==(l=a[s])&&_(t,i-=v[s],l)),u<t.last_lit;);C(t,256,e)}function P(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)R(t,o,n);for(r=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,R(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,s,l=e.dyn_tree,u=e.max_code,h=e.stat_desc.static_tree,c=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)p<(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)&&(o=p,g++),l[2*i+1]=o,u<i||(t.bl_count[o]++,a=0,f<=i&&(a=d[i-f]),s=l[2*i],t.opt_len+=s*(o+a),c&&(t.static_len+=s*(h[2*i+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(0<g);for(o=p;0!==o;o--)for(i=t.bl_count[o];0!==i;)u<(r=t.heap[--n])||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(t,e),M(o,u,t.bl_count)}function E(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<l&&r===a||(s<u?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=r,u=(s=0)===a?(l=138,3):r===a?(l=6,3):(l=7,4))}function B(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<l&&r===a)){if(s<u)for(;C(t,r,t.bl_tree),0!=--s;);else 0!==r?(r!==o&&(C(t,r,t.bl_tree),s--),C(t,16,t.bl_tree),_(t,s-3,2)):s<=10?(C(t,17,t.bl_tree),_(t,s-3,3)):(C(t,18,t.bl_tree),_(t,s-11,7));o=r,u=(s=0)===a?(l=138,3):r===a?(l=6,3):(l=7,4)}}r(v);var L=!1;function D(t,e,n,r){_(t,0+(r?1:0),3),function(t,e,n,r){T(t),x(t,n),x(t,~n),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){L||(function(){var t,e,n,i,r,l=new Array(16);for(i=n=0;i<28;i++)for(f[i]=n,t=0;t<1<<o[i];t++)d[n++]=i;for(d[n-1]=i,i=r=0;i<16;i++)for(v[i]=r,t=0;t<1<<a[i];t++)c[r++]=i;for(r>>=7;i<30;i++)for(v[i]=r<<7,t=0;t<1<<a[i]-7;t++)c[256+r++]=i;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,l[8]++;for(;t<=255;)u[2*t+1]=9,t++,l[9]++;for(;t<=279;)u[2*t+1]=7,t++,l[7]++;for(;t<=287;)u[2*t+1]=8,t++,l[8]++;for(M(u,287,l),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=S(t,5);p=new y(u,o,257,286,15),g=new y(h,a,0,30,15),m=new y(new Array(0),s,0,19,7)}(),L=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,g),t.bl_desc=new b(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,A(t)},n._tr_stored_block=D,n._tr_flush_block=function(t,e,n,i){var r,o,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),a=function(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?D(t,e,n,i):4===t.strategy||o===r?(_(t,2+(i?1:0),3),I(t,u,h)):(_(t,4+(i?1:0),3),function(t,e,n,i){var r;for(_(t,e-257,5),_(t,n-1,5),_(t,i-4,4),r=0;r<i;r++)_(t,t.bl_tree[2*l[r]+1],3);B(t,t.dyn_ltree,e-1),B(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),I(t,t.dyn_ltree,t.dyn_dtree)),A(t),i&&T(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(d[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){_(t,2,3),C(t,256,u),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,i){(function(t){!function(t,e){if(!t.setImmediate){var i,r,o,a,s=1,l={},u=!1,h=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,i="[object process]"==={}.toString.call(t.process)?function(t){n.nextTick((function(){f(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",p,!1):t.attachEvent("onmessage",p),function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,function(t){var e=h.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):function(t){setTimeout(f,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[s]=r,i(s),s++},c.clearImmediate=d}function d(t){delete l[t]}function f(t){if(u)setTimeout(f,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),u=!1}}}}function p(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&f(+e.data.slice(a.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,e,i){(function(t){(function(){"use strict";var n=/[\\^$.*+?()[\]{}|]/g,i=RegExp(n.source),r="object"==b(t)&&t&&t.Object===Object&&t,o="object"==("undefined"==typeof self?"undefined":b(self))&&self&&self.Object===Object&&self,a=r||o||Function("return this")(),s=Object.prototype.toString,l=a.Symbol,u=l?l.prototype:void 0,h=u?u.toString:void 0;e.exports=function(t){var e;return(t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(function(t){return"symbol"==b(t)||function(t){return!!t&&"object"==b(t)}(t)&&"[object Symbol]"==s.call(t)}(t))return h?h.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e))&&i.test(t)?t.replace(n,"\\$&"):t}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],443:[function(t,e,i){(function(t){(function(){"use strict";var n="[object Arguments]",r="[object Map]",o="[object Object]",a="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,u=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[n]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[r]=p["[object Number]"]=p[o]=p["[object RegExp]"]=p[a]=p["[object String]"]=p["[object WeakMap]"]=!1;var g="object"==b(t)&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":b(self))&&self&&self.Object===Object&&self,v=g||m||Function("return this")(),y="object"==b(i)&&i&&!i.nodeType&&i,w=y&&"object"==b(e)&&e&&!e.nodeType&&e,x=w&&w.exports===y&&g.process,_=function(){try{return x&&x.binding("util")}catch(t){}}(),C=_&&_.isTypedArray;function S(t,e,n,i){for(var r=-1,o=t?t.length:0;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function M(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function A(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function T(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function k(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var R,I,P,E=Array.prototype,B=Function.prototype,L=Object.prototype,D=v["__core-js_shared__"],O=(R=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",F=B.toString,H=L.hasOwnProperty,N=L.toString,z=RegExp("^"+F.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=v.Symbol,j=v.Uint8Array,V=L.propertyIsEnumerable,G=E.splice,Z=(I=Object.keys,P=Object,function(t){return I(P(t))}),U=_t(v,"DataView"),K=_t(v,"Map"),$=_t(v,"Promise"),X=_t(v,"Set"),Y=_t(v,"WeakMap"),q=_t(Object,"create"),J=It(U),Q=It(K),tt=It($),et=It(X),nt=It(Y),it=W?W.prototype:void 0,rt=it?it.valueOf:void 0,ot=it?it.toString:void 0;function at(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function st(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function lt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ut(t){var e=-1,n=t?t.length:0;for(this.__data__=new lt;++e<n;)this.add(t[e])}function ht(t){this.__data__=new st(t)}function ct(t,e){for(var n=t.length;n--;)if(Lt(t[n][0],e))return n;return-1}function dt(t,e,n,i){return pt(t,(function(t,r,o){e(i,t,n(t),o)})),i}at.prototype.clear=function(){this.__data__=q?q(null):{}},at.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},at.prototype.get=function(t){var e=this.__data__;if(q){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return H.call(e,t)?e[t]:void 0},at.prototype.has=function(t){var e=this.__data__;return q?void 0!==e[t]:H.call(e,t)},at.prototype.set=function(t,e){return this.__data__[t]=q&&void 0===e?"__lodash_hash_undefined__":e,this},st.prototype.clear=function(){this.__data__=[]},st.prototype.delete=function(t){var e=this.__data__,n=ct(e,t);return!(n<0||(n==e.length-1?e.pop():G.call(e,n,1),0))},st.prototype.get=function(t){var e=this.__data__,n=ct(e,t);return n<0?void 0:e[n][1]},st.prototype.has=function(t){return ct(this.__data__,t)>-1},st.prototype.set=function(t,e){var n=this.__data__,i=ct(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},lt.prototype.clear=function(){this.__data__={hash:new at,map:new(K||st),string:new at}},lt.prototype.delete=function(t){return xt(this,t).delete(t)},lt.prototype.get=function(t){return xt(this,t).get(t)},lt.prototype.has=function(t){return xt(this,t).has(t)},lt.prototype.set=function(t,e){return xt(this,t).set(t,e),this},ut.prototype.add=ut.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ut.prototype.has=function(t){return this.__data__.has(t)},ht.prototype.clear=function(){this.__data__=new st},ht.prototype.delete=function(t){return this.__data__.delete(t)},ht.prototype.get=function(t){return this.__data__.get(t)},ht.prototype.has=function(t){return this.__data__.has(t)},ht.prototype.set=function(t,e){var n=this.__data__;if(n instanceof st){var i=n.__data__;if(!K||i.length<199)return i.push([t,e]),this;n=this.__data__=new lt(i)}return n.set(t,e),this};var ft,pt=(ft=function(t,e){return t&&gt(t,e,Gt)},function(t,e){if(null==t)return t;if(!Ft(t))return ft(t,e);for(var n=t.length,i=-1,r=Object(t);++i<n&&!1!==e(r[i],i,r););return t}),gt=function(t,e,n){for(var i=-1,r=Object(t),o=n(t),a=o.length;a--;){var s=o[++i];if(!1===e(r[s],s,r))break}return t};function mt(t,e){for(var n=0,i=(e=Mt(e,t)?[e]:bt(e)).length;null!=t&&n<i;)t=t[Rt(e[n++])];return n&&n==i?t:void 0}function vt(t,e){return null!=t&&e in Object(t)}function yt(t,e,i,s,l){return t===e||(null==t||null==e||!zt(t)&&!Wt(e)?t!=t&&e!=e:function(t,e,i,s,l,u){var h=Ot(t),c=Ot(e),d="[object Array]",f="[object Array]";h||(d=(d=Ct(t))==n?o:d),c||(f=(f=Ct(e))==n?o:f);var p=d==o&&!A(t),g=f==o&&!A(e),m=d==f;if(m&&!p)return u||(u=new ht),h||Vt(t)?wt(t,e,i,s,l,u):function(t,e,n,i,o,s,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new j(t),new j(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Lt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case r:var u=T;case a:var h=2&s;if(u||(u=k),t.size!=e.size&&!h)return!1;var c=l.get(t);if(c)return c==e;s|=1,l.set(t,e);var d=wt(u(t),u(e),i,o,s,l);return l.delete(t),d;case"[object Symbol]":if(rt)return rt.call(t)==rt.call(e)}return!1}(t,e,d,i,s,l,u);if(!(2&l)){var v=p&&H.call(t,"__wrapped__"),y=g&&H.call(e,"__wrapped__");if(v||y){var b=v?t.value():t,w=y?e.value():e;return u||(u=new ht),i(b,w,s,l,u)}}return!!m&&(u||(u=new ht),function(t,e,n,i,r,o){var a=2&r,s=Gt(t),l=s.length;if(l!=Gt(e).length&&!a)return!1;for(var u=l;u--;){var h=s[u];if(!(a?h in e:H.call(e,h)))return!1}var c=o.get(t);if(c&&o.get(e))return c==e;var d=!0;o.set(t,e),o.set(e,t);for(var f=a;++u<l;){var p=t[h=s[u]],g=e[h];if(i)var m=a?i(g,p,h,e,t,o):i(p,g,h,t,e,o);if(!(void 0===m?p===g||n(p,g,i,r,o):m)){d=!1;break}f||(f="constructor"==h)}if(d&&!f){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,i,s,l,u))}(t,e,yt,i,s,l))}function bt(t){return Ot(t)?t:kt(t)}function wt(t,e,n,i,r,o){var a=2&r,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var h=-1,c=!0,d=1&r?new ut:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var f=t[h],p=e[h];if(i)var g=a?i(p,f,h,e,t,o):i(f,p,h,t,e,o);if(void 0!==g){if(g)continue;c=!1;break}if(d){if(!M(e,(function(t,e){if(!d.has(e)&&(f===t||n(f,t,i,r,o)))return d.add(e)}))){c=!1;break}}else if(f!==p&&!n(f,p,i,r,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function xt(t,e){var n,i,r=t.__data__;return("string"==(i=b(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function _t(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!zt(t)||function(t){return!!O&&O in t}(t))&&(Ht(t)||A(t)?z:d).test(It(t))}(n)?n:void 0}var Ct=function(t){return N.call(t)};function St(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||f.test(t))&&t>-1&&t%1==0&&t<e}function Mt(t,e){if(Ot(t))return!1;var n=b(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!jt(t))||l.test(t)||!s.test(t)||null!=e&&t in Object(e)}function At(t){return t==t&&!zt(t)}function Tt(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}(U&&"[object DataView]"!=Ct(new U(new ArrayBuffer(1)))||K&&Ct(new K)!=r||$&&"[object Promise]"!=Ct($.resolve())||X&&Ct(new X)!=a||Y&&"[object WeakMap]"!=Ct(new Y))&&(Ct=function(t){var e=N.call(t),n=e==o?t.constructor:void 0,i=n?It(n):void 0;if(i)switch(i){case J:return"[object DataView]";case Q:return r;case tt:return"[object Promise]";case et:return a;case nt:return"[object WeakMap]"}return e});var kt=Bt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(jt(t))return ot?ot.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return u.test(t)&&n.push(""),t.replace(h,(function(t,e,i,r){n.push(i?r.replace(c,"$1"):e||t)})),n}));function Rt(t){if("string"==typeof t||jt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function It(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Pt,Et=(Pt=function(t,e,n){H.call(t,n)?t[n].push(e):t[n]=[e]},function(t,e){var n={};return(Ot(t)?S:dt)(t,Pt,function(t){return"function"==typeof t?t:null==t?Zt:"object"==b(t)?Ot(t)?function(t,e){return Mt(t)&&At(e)?Tt(Rt(t),e):function(n){var i=function(t,e,n){var i=null==t?void 0:mt(t,e);return void 0===i?void 0:i}(n,t);return void 0===i&&i===e?function(t,e){return null!=t&&function(t,e,n){for(var i,r=-1,o=(e=Mt(e,t)?[e]:bt(e)).length;++r<o;){var a=Rt(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||!!(o=t?t.length:0)&&Nt(o)&&St(a,o)&&(Ot(t)||Dt(t))}(t,e,vt)}(n,t):yt(e,i,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){for(var e=Gt(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,At(r)]}return e}(t);return 1==e.length&&e[0][2]?Tt(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,i){var r=n.length,o=r;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var s=(a=n[r])[0],l=t[s],u=a[1];if(a[2]){if(void 0===l&&!(s in t))return!1}else{var h,c=new ht;if(!(void 0===h?yt(u,l,i,3,c):h))return!1}}return!0}(n,0,e)}}(t):Mt(e=t)?(n=Rt(e),function(t){return null==t?void 0:t[n]}):function(t){return function(e){return mt(e,t)}}(e);var e,n}(e),n)});function Bt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(Bt.Cache||lt),n}function Lt(t,e){return t===e||t!=t&&e!=e}function Dt(t){return function(t){return Wt(t)&&Ft(t)}(t)&&H.call(t,"callee")&&(!V.call(t,"callee")||N.call(t)==n)}Bt.Cache=lt;var Ot=Array.isArray;function Ft(t){return null!=t&&Nt(t.length)&&!Ht(t)}function Ht(t){var e=zt(t)?N.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Nt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function zt(t){var e=b(t);return!!t&&("object"==e||"function"==e)}function Wt(t){return!!t&&"object"==b(t)}function jt(t){return"symbol"==b(t)||Wt(t)&&"[object Symbol]"==N.call(t)}var Vt=C?function(t){return function(e){return t(e)}}(C):function(t){return Wt(t)&&Nt(t.length)&&!!p[N.call(t)]};function Gt(t){return Ft(t)?function(t,e){var n=Ot(t)||Dt(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!H.call(t,o)||r&&("length"==o||St(o,i))||n.push(o);return n}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||L))return Z(t);var e,n,i=[];for(var r in Object(t))H.call(t,r)&&"constructor"!=r&&i.push(r);return i}(t)}function Zt(t){return t}e.exports=Et}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],444:[function(t,e,n){"use strict";var i=Object.prototype.toString;e.exports=function(t){return!0===t||!1===t||function(t){return!!t&&"object"==b(t)}(t)&&"[object Boolean]"==i.call(t)}},{}],445:[function(t,e,i){(function(t){(function(){"use strict";var n="[object Arguments]",r="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[n]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[r]=u["[object Number]"]=u[o]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var h="object"==b(t)&&t&&t.Object===Object&&t,c="object"==("undefined"==typeof self?"undefined":b(self))&&self&&self.Object===Object&&self,d=h||c||Function("return this")(),f="object"==b(i)&&i&&!i.nodeType&&i,p=f&&"object"==b(e)&&e&&!e.nodeType&&e,g=p&&p.exports===f,m=g&&h.process,v=function(){try{return m&&m.binding&&m.binding("util")}catch(t){}}(),y=v&&v.isTypedArray;function w(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function x(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function _(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var C,S,M,A=Array.prototype,T=Function.prototype,k=Object.prototype,R=d["__core-js_shared__"],I=T.toString,P=k.hasOwnProperty,E=(C=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",B=k.toString,L=RegExp("^"+I.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=g?d.Buffer:void 0,O=d.Symbol,F=d.Uint8Array,H=k.propertyIsEnumerable,N=A.splice,z=O?O.toStringTag:void 0,W=Object.getOwnPropertySymbols,j=D?D.isBuffer:void 0,V=(S=Object.keys,M=Object,function(t){return S(M(t))}),G=gt(d,"DataView"),Z=gt(d,"Map"),U=gt(d,"Promise"),K=gt(d,"Set"),$=gt(d,"WeakMap"),X=gt(Object,"create"),Y=bt(G),q=bt(Z),J=bt(U),Q=bt(K),tt=bt($),et=O?O.prototype:void 0,nt=et?et.valueOf:void 0;function it(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function at(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ot;++e<n;)this.add(t[e])}function st(t){var e=this.__data__=new rt(t);this.size=e.size}function lt(t,e){for(var n=t.length;n--;)if(wt(t[n][0],e))return n;return-1}function ut(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":z&&z in Object(t)?function(t){var e=P.call(t,z),n=t[z];try{t[z]=void 0;var i=!0}catch(t){}var r=B.call(t);return i&&(e?t[z]=n:delete t[z]),r}(t):function(t){return B.call(t)}(t)}function ht(t){return Tt(t)&&ut(t)==n}function ct(t,e,i,s,l){return t===e||(null==t||null==e||!Tt(t)&&!Tt(e)?t!=t&&e!=e:function(t,e,i,s,l,u){var h=_t(t),c=_t(e),d=h?"[object Array]":vt(t),f=c?"[object Array]":vt(e),p=(d=d==n?o:d)==o,g=(f=f==n?o:f)==o,m=d==f;if(m&&Ct(t)){if(!Ct(e))return!1;h=!0,p=!1}if(m&&!p)return u||(u=new st),h||kt(t)?dt(t,e,i,s,l,u):function(t,e,n,i,o,s,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new F(t),new F(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return wt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case r:var u=x;case a:var h=1&i;if(u||(u=_),t.size!=e.size&&!h)return!1;var c=l.get(t);if(c)return c==e;i|=2,l.set(t,e);var d=dt(u(t),u(e),i,o,s,l);return l.delete(t),d;case"[object Symbol]":if(nt)return nt.call(t)==nt.call(e)}return!1}(t,e,d,i,s,l,u);if(!(1&i)){var v=p&&P.call(t,"__wrapped__"),y=g&&P.call(e,"__wrapped__");if(v||y){var b=v?t.value():t,w=y?e.value():e;return u||(u=new st),l(b,w,i,s,u)}}return!!m&&(u||(u=new st),function(t,e,n,i,r,o){var a=1&n,s=ft(t),l=s.length;if(l!=ft(e).length&&!a)return!1;for(var u=l;u--;){var h=s[u];if(!(a?h in e:P.call(e,h)))return!1}var c=o.get(t);if(c&&o.get(e))return c==e;var d=!0;o.set(t,e),o.set(e,t);for(var f=a;++u<l;){var p=t[h=s[u]],g=e[h];if(i)var m=a?i(g,p,h,e,t,o):i(p,g,h,t,e,o);if(!(void 0===m?p===g||r(p,g,n,i,o):m)){d=!1;break}f||(f="constructor"==h)}if(d&&!f){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,i,s,l,u))}(t,e,i,s,ct,l))}function dt(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var h=-1,c=!0,d=2&n?new at:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var f=t[h],p=e[h];if(i)var g=a?i(p,f,h,e,t,o):i(f,p,h,t,e,o);if(void 0!==g){if(g)continue;c=!1;break}if(d){if(!w(e,(function(t,e){if(a=e,!d.has(a)&&(f===t||r(f,t,n,i,o)))return d.push(e);var a}))){c=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function ft(t){return function(t,e,n){var i=e(t);return _t(t)?i:function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}(i,n(t))}(t,Rt,mt)}function pt(t,e){var n,i,r=t.__data__;return("string"==(i=b(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function gt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!At(t)||function(t){return!!E&&E in t}(t))&&(St(t)?L:s).test(bt(t))}(n)?n:void 0}it.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},it.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},it.prototype.get=function(t){var e=this.__data__;if(X){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return P.call(e,t)?e[t]:void 0},it.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:P.call(e,t)},it.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=X&&void 0===e?"__lodash_hash_undefined__":e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,n=lt(e,t);return!(n<0||(n==e.length-1?e.pop():N.call(e,n,1),--this.size,0))},rt.prototype.get=function(t){var e=this.__data__,n=lt(e,t);return n<0?void 0:e[n][1]},rt.prototype.has=function(t){return lt(this.__data__,t)>-1},rt.prototype.set=function(t,e){var n=this.__data__,i=lt(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},ot.prototype.clear=function(){this.size=0,this.__data__={hash:new it,map:new(Z||rt),string:new it}},ot.prototype.delete=function(t){var e=pt(this,t).delete(t);return this.size-=e?1:0,e},ot.prototype.get=function(t){return pt(this,t).get(t)},ot.prototype.has=function(t){return pt(this,t).has(t)},ot.prototype.set=function(t,e){var n=pt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},at.prototype.add=at.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},at.prototype.has=function(t){return this.__data__.has(t)},st.prototype.clear=function(){this.__data__=new rt,this.size=0},st.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},st.prototype.get=function(t){return this.__data__.get(t)},st.prototype.has=function(t){return this.__data__.has(t)},st.prototype.set=function(t,e){var n=this.__data__;if(n instanceof rt){var i=n.__data__;if(!Z||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ot(i)}return n.set(t,e),this.size=n.size,this};var mt=W?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a)&&(o[r++]=a)}return o}(W(t),(function(e){return H.call(t,e)})))}:function(){return[]},vt=ut;function yt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}function bt(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function wt(t,e){return t===e||t!=t&&e!=e}(G&&"[object DataView]"!=vt(new G(new ArrayBuffer(1)))||Z&&vt(new Z)!=r||U&&"[object Promise]"!=vt(U.resolve())||K&&vt(new K)!=a||$&&"[object WeakMap]"!=vt(new $))&&(vt=function(t){var e=ut(t),n=e==o?t.constructor:void 0,i=n?bt(n):"";if(i)switch(i){case Y:return"[object DataView]";case q:return r;case J:return"[object Promise]";case Q:return a;case tt:return"[object WeakMap]"}return e});var xt=ht(function(){return arguments}())?ht:function(t){return Tt(t)&&P.call(t,"callee")&&!H.call(t,"callee")},_t=Array.isArray,Ct=j||function(){return!1};function St(t){if(!At(t))return!1;var e=ut(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Mt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function At(t){var e=b(t);return null!=t&&("object"==e||"function"==e)}function Tt(t){return null!=t&&"object"==b(t)}var kt=y?function(t){return function(e){return t(e)}}(y):function(t){return Tt(t)&&Mt(t.length)&&!!u[ut(t)]};function Rt(t){return null!=(e=t)&&Mt(e.length)&&!St(e)?function(t,e){var n=_t(t),i=!n&&xt(t),r=!n&&!i&&Ct(t),o=!n&&!i&&!r&&kt(t),a=n||i||r||o,s=a?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=s.length;for(var u in t)!e&&!P.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||yt(u,l))||s.push(u);return s}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||k))return V(t);var e,n,i=[];for(var r in Object(t))P.call(t,r)&&"constructor"!=r&&i.push(r);return i}(t);var e}e.exports=function(t,e){return ct(t,e)}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],446:[function(t,e,i){(function(t){(function(){"use strict";var n="object"==b(t)&&t&&t.Object===Object&&t,i="object"==("undefined"==typeof self?"undefined":b(self))&&self&&self.Object===Object&&self,r=n||i||Function("return this")(),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=r.Symbol,u=l?l.toStringTag:void 0;e.exports=function(t){if(!function(t){var e=b(t);return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?function(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[u]=n:delete t[u]),r}(t):function(t){return s.call(t)}(t)}(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],447:[function(t,e,n){"use strict";e.exports=function(t){return null==t}},{}],448:[function(t,e,n){"use strict";e.exports=function(t){return void 0===t}},{}],449:[function(t,e,i){(function(t){(function(){"use strict";var n=/^\[object .+?Constructor\]$/,i="object"==b(t)&&t&&t.Object===Object&&t,r="object"==("undefined"==typeof self?"undefined":b(self))&&self&&self.Object===Object&&self,o=i||r||Function("return this")();function a(t,e){return!(!t||!t.length)&&function(t,e,n){if(e!=e)return function(t,e,n,i){for(var r=t.length,o=-1;++o<r;)if(e(t[o],o,t))return o;return-1}(t,s);for(var i=-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e)>-1}function s(t){return t!=t}function l(t,e){return t.has(e)}function u(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var h,c=Array.prototype,d=Function.prototype,f=Object.prototype,p=o["__core-js_shared__"],g=(h=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",m=d.toString,v=f.hasOwnProperty,y=f.toString,w=RegExp("^"+m.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=c.splice,_=B(o,"Map"),C=B(o,"Set"),S=B(Object,"create");function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function A(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function T(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function k(t){var e=-1,n=t?t.length:0;for(this.__data__=new T;++e<n;)this.add(t[e])}function R(t,e){for(var n,i,r=t.length;r--;)if((n=t[r][0])===(i=e)||n!=n&&i!=i)return r;return-1}function I(t){return!(!L(t)||(e=t,g&&g in e))&&(function(t){var e=L(t)?y.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?w:n).test(function(t){if(null!=t){try{return m.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}M.prototype.clear=function(){this.__data__=S?S(null):{}},M.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},M.prototype.get=function(t){var e=this.__data__;if(S){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return v.call(e,t)?e[t]:void 0},M.prototype.has=function(t){var e=this.__data__;return S?void 0!==e[t]:v.call(e,t)},M.prototype.set=function(t,e){return this.__data__[t]=S&&void 0===e?"__lodash_hash_undefined__":e,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(t){var e=this.__data__,n=R(e,t);return!(n<0||(n==e.length-1?e.pop():x.call(e,n,1),0))},A.prototype.get=function(t){var e=this.__data__,n=R(e,t);return n<0?void 0:e[n][1]},A.prototype.has=function(t){return R(this.__data__,t)>-1},A.prototype.set=function(t,e){var n=this.__data__,i=R(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},T.prototype.clear=function(){this.__data__={hash:new M,map:new(_||A),string:new M}},T.prototype.delete=function(t){return E(this,t).delete(t)},T.prototype.get=function(t){return E(this,t).get(t)},T.prototype.has=function(t){return E(this,t).has(t)},T.prototype.set=function(t,e){return E(this,t).set(t,e),this},k.prototype.add=k.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},k.prototype.has=function(t){return this.__data__.has(t)};var P=C&&1/u(new C([,-0]))[1]==1/0?function(t){return new C(t)}:function(){};function E(t,e){var n,i,r=t.__data__;return("string"==(i=b(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function B(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return I(n)?n:void 0}function L(t){var e=b(t);return!!t&&("object"==e||"function"==e)}e.exports=function(t){return t&&t.length?function(t,e,n){var i=-1,r=a,o=t.length,s=!0,h=[],c=h;if(o>=200){var d=P(t);if(d)return u(d);s=!1,r=l,c=new k}else c=h;t:for(;++i<o;){var f=t[i],p=f;if(f=0!==f?f:0,s&&p==p){for(var g=c.length;g--;)if(c[g]===p)continue t;h.push(f)}else r(c,p,n)||(c!==h&&c.push(p),h.push(f))}return h}(t):[]}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],450:[function(t,e,n){"use strict";var i=t("inherits"),r=t("hash-base"),o=t("safe-buffer").Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(t,e){return t<<e|t>>>32-e}function u(t,e,n,i,r,o,a){return l(t+(e&n|~e&i)+r+o|0,a)+e|0}function h(t,e,n,i,r,o,a){return l(t+(e&i|n&~i)+r+o|0,a)+e|0}function c(t,e,n,i,r,o,a){return l(t+(e^n^i)+r+o|0,a)+e|0}function d(t,e,n,i,r,o,a){return l(t+(n^(e|~i))+r+o|0,a)+e|0}i(s,r),s.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,i=this._b,r=this._c,o=this._d;n=u(n,i,r,o,t[0],3614090360,7),o=u(o,n,i,r,t[1],3905402710,12),r=u(r,o,n,i,t[2],606105819,17),i=u(i,r,o,n,t[3],3250441966,22),n=u(n,i,r,o,t[4],4118548399,7),o=u(o,n,i,r,t[5],1200080426,12),r=u(r,o,n,i,t[6],2821735955,17),i=u(i,r,o,n,t[7],4249261313,22),n=u(n,i,r,o,t[8],1770035416,7),o=u(o,n,i,r,t[9],2336552879,12),r=u(r,o,n,i,t[10],4294925233,17),i=u(i,r,o,n,t[11],2304563134,22),n=u(n,i,r,o,t[12],1804603682,7),o=u(o,n,i,r,t[13],4254626195,12),r=u(r,o,n,i,t[14],2792965006,17),n=h(n,i=u(i,r,o,n,t[15],1236535329,22),r,o,t[1],4129170786,5),o=h(o,n,i,r,t[6],3225465664,9),r=h(r,o,n,i,t[11],643717713,14),i=h(i,r,o,n,t[0],3921069994,20),n=h(n,i,r,o,t[5],3593408605,5),o=h(o,n,i,r,t[10],38016083,9),r=h(r,o,n,i,t[15],3634488961,14),i=h(i,r,o,n,t[4],3889429448,20),n=h(n,i,r,o,t[9],568446438,5),o=h(o,n,i,r,t[14],3275163606,9),r=h(r,o,n,i,t[3],4107603335,14),i=h(i,r,o,n,t[8],1163531501,20),n=h(n,i,r,o,t[13],2850285829,5),o=h(o,n,i,r,t[2],4243563512,9),r=h(r,o,n,i,t[7],1735328473,14),n=c(n,i=h(i,r,o,n,t[12],2368359562,20),r,o,t[5],4294588738,4),o=c(o,n,i,r,t[8],2272392833,11),r=c(r,o,n,i,t[11],1839030562,16),i=c(i,r,o,n,t[14],4259657740,23),n=c(n,i,r,o,t[1],2763975236,4),o=c(o,n,i,r,t[4],1272893353,11),r=c(r,o,n,i,t[7],4139469664,16),i=c(i,r,o,n,t[10],3200236656,23),n=c(n,i,r,o,t[13],681279174,4),o=c(o,n,i,r,t[0],3936430074,11),r=c(r,o,n,i,t[3],3572445317,16),i=c(i,r,o,n,t[6],76029189,23),n=c(n,i,r,o,t[9],3654602809,4),o=c(o,n,i,r,t[12],3873151461,11),r=c(r,o,n,i,t[15],530742520,16),n=d(n,i=c(i,r,o,n,t[2],3299628645,23),r,o,t[0],4096336452,6),o=d(o,n,i,r,t[7],1126891415,10),r=d(r,o,n,i,t[14],2878612391,15),i=d(i,r,o,n,t[5],4237533241,21),n=d(n,i,r,o,t[12],1700485571,6),o=d(o,n,i,r,t[3],2399980690,10),r=d(r,o,n,i,t[10],4293915773,15),i=d(i,r,o,n,t[1],2240044497,21),n=d(n,i,r,o,t[8],1873313359,6),o=d(o,n,i,r,t[15],4264355552,10),r=d(r,o,n,i,t[6],2734768916,15),i=d(i,r,o,n,t[13],1309151649,21),n=d(n,i,r,o,t[4],4149444226,6),o=d(o,n,i,r,t[11],3174756917,10),r=d(r,o,n,i,t[2],718787259,15),i=d(i,r,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},e.exports=s},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("brorand");function o(t){this.rand=t||new r.Rand}e.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(t)>=0);return r},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var r=t.bitLength(),o=i.mont(t),a=new i(1).toRed(o);e||(e=Math.max(1,r/48|0));for(var s=t.subn(1),l=0;!s.testn(l);l++);for(var u=t.shrn(l),h=s.toRed(o);e>0;e--){var c=this._randrange(new i(2),s);n&&n(c);var d=c.toRed(o).redPow(u);if(0!==d.cmp(a)&&0!==d.cmp(h)){for(var f=1;f<l;f++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(h))break}if(f===l)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),r=i.mont(t),o=new i(1).toRed(r);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var l=t.shrn(s),u=a.toRed(r);e>0;e--){var h=this._randrange(new i(2),a),c=t.gcd(h);if(0!==c.cmpn(1))return c;var d=h.toRed(r).redPow(l);if(0!==d.cmp(o)&&0!==d.cmp(u)){for(var f=1;f<s;f++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(u))break}if(f===s)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error(e||"Assertion failed")}e.exports=i,i.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}],454:[function(t,e,n){"use strict";var i=n;function r(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=r(t[n].toString(16));return e}i.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)n[i]=0|t[i];return n}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16));else for(i=0;i<t.length;i++){var r=t.charCodeAt(i),o=r>>8,a=255&r;o?n.push(o,a):n.push(a)}return n},i.zero2=r,i.toHex=o,i.encode=function(t,e){return"hex"===e?o(t):t}},{}],455:[function(t,e,n){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,e,n){"use strict";var i=t("asn1.js");n.certificate=t("./certificate");var r=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));n.RSAPrivateKey=r;var o=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));n.RSAPublicKey=o;var a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));n.PublicKey=a;var s=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),l=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));n.PrivateKey=l;var u=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));n.EncryptedPrivateKey=u;var h=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));n.DSAPrivateKey=h,n.DSAparam=i.define("DSAparam",(function(){this.int()}));var c=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));n.ECPrivateKey=c;var d=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));n.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,e,n){"use strict";var i=t("asn1.js"),r=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),l=i.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=i.define("RDNSequence",(function(){this.seqof(l)})),h=i.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),c=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))})),d=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(h),this.key("validity").use(c),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},{"asn1.js":170}],458:[function(t,e,n){"use strict";var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=t("evp_bytestokey"),s=t("browserify-aes"),l=t("safe-buffer").Buffer;e.exports=function(t,e){var n,u=t.toString(),h=u.match(i);if(h){var c="aes"+h[1],d=l.from(h[2],"hex"),f=l.from(h[3].replace(/[\r\n]/g,""),"base64"),p=a(e,d.slice(0,8),parseInt(h[1],10)).key,g=[],m=s.createDecipheriv(c,p,d);g.push(m.update(f)),g.push(m.final()),n=l.concat(g)}else{var v=u.match(o);n=l.from(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(r)[1],data:n}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,e,n){"use strict";var i=t("./asn1"),r=t("./aesid.json"),o=t("./fixProc"),a=t("browserify-aes"),s=t("pbkdf2"),l=t("safe-buffer").Buffer;function u(t){var e;"object"!=b(t)||l.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=l.from(t));var n,u,h=o(t,e),c=h.tag,d=h.data;switch(c){case"CERTIFICATE":u=i.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=i.PublicKey.decode(d,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=i.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":d=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=r[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,h=t.subjectPrivateKey,c=parseInt(o.split("-")[1],10)/8,d=s.pbkdf2Sync(e,n,i,c,"sha1"),f=a.createDecipheriv(o,d,u),p=[];return p.push(f.update(h)),p.push(f.final()),l.concat(p)}(d=i.EncryptedPrivateKey.decode(d,"der"),e);case"PRIVATE KEY":switch(n=(u=i.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:i.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=i.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=i.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+c)}}e.exports=u,u.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,e,n){"use strict";n.pbkdf2=t("./lib/async"),n.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,e,i){(function(n){(function(){"use strict";var i,r,o=t("safe-buffer").Buffer,a=t("./precondition"),s=t("./default-encoding"),l=t("./sync"),u=t("./to-buffer"),h=n.crypto&&n.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function f(){return r||(r=n.process&&n.process.nextTick?n.process.nextTick:n.queueMicrotask?n.queueMicrotask:n.setImmediate?n.setImmediate:n.setTimeout)}function p(t,e,n,i,r){return h.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return h.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:r}},t,i<<3)})).then((function(t){return o.from(t)}))}e.exports=function(t,e,r,g,m,v){"function"==typeof m&&(v=m,m=void 0);var y=c[(m=m||"sha1").toLowerCase()];if(y&&"function"==typeof n.Promise){if(a(r,g),t=u(t,s,"Password"),e=u(e,s,"Salt"),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){f()((function(){e(null,t)}))}),(function(t){f()((function(){e(t)}))}))}(function(t){if(n.process&&!n.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==d[t])return d[t];var e=p(i=i||o.alloc(8),i,10,128,t).then((function(){return!0})).catch((function(){return!1}));return d[t]=e,e}(y).then((function(n){return n?p(t,e,r,g,y):l(t,e,r,g,m)})),v)}else f()((function(){var n;try{n=l(t,e,r,g,m)}catch(t){return v(t)}v(null,n)}))}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,e,i){(function(t,n){(function(){"use strict";var i;i=n.process&&n.process.browser?"utf-8":n.process&&n.process.version?parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=i}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467}],463:[function(t,e,n){"use strict";var i=Math.pow(2,30)-1;e.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>i||e!=e)throw new TypeError("Bad key length")}},{}],464:[function(t,e,n){"use strict";var i=t("create-hash/md5"),r=t("ripemd160"),o=t("sha.js"),a=t("safe-buffer").Buffer,s=t("./precondition"),l=t("./default-encoding"),u=t("./to-buffer"),h=a.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(t,e,n){var s=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new r).update(t).digest()}:"md5"===t?i:function(e){return o(t).update(e).digest()}}(t),l="sha512"===t||"sha384"===t?128:64;e.length>l?e=s(e):e.length<l&&(e=a.concat([e,h],l));for(var u=a.allocUnsafe(l+c[t]),d=a.allocUnsafe(l+c[t]),f=0;f<l;f++)u[f]=54^e[f],d[f]=92^e[f];var p=a.allocUnsafe(l+n+4);u.copy(p,0,0,l),this.ipad1=p,this.ipad2=u,this.opad=d,this.alg=t,this.blocksize=l,this.hash=s,this.size=c[t]}d.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(t,e,n,i,r){s(n,i);var o=new d(r=r||"sha1",t=u(t,l,"Password"),(e=u(e,l,"Salt")).length),h=a.allocUnsafe(i),f=a.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var p=0,g=c[r],m=Math.ceil(i/g),v=1;v<=m;v++){f.writeUInt32BE(v,e.length);for(var y=o.run(f,o.ipad1),b=y,w=1;w<n;w++){b=o.run(b,o.ipad2);for(var x=0;x<g;x++)y[x]^=b[x]}y.copy(h,p),p+=g}return h}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer;e.exports=function(t,e,n){if(i.isBuffer(t))return t;if("string"==typeof t)return i.from(t,e);if(ArrayBuffer.isView(t))return i.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,e,n){(function(t){(function(){"use strict";void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,i)}));case 4:return t.nextTick((function(){e.call(null,n,i,r)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,e,n){"use strict";var i,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,h=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?h=u.concat(h):d=-1,h.length&&p())}function p(){if(!c){var t=l(f);c=!0;for(var e=h.length;e;){for(u=h,h=[];++d<e;)u&&u[d].run();d=-1,e=h.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new g(t,e)),1!==h.length||c||l(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(t,e,n){"use strict";n.publicEncrypt=t("./publicEncrypt"),n.privateDecrypt=t("./privateDecrypt"),n.privateEncrypt=function(t,e){return n.publicEncrypt(t,e,!0)},n.publicDecrypt=function(t,e){return n.privateDecrypt(t,e,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,e,n){"use strict";var i=t("create-hash"),r=t("safe-buffer").Buffer;function o(t){var e=r.allocUnsafe(4);return e.writeUInt32BE(t,0),e}e.exports=function(t,e){for(var n,a=r.alloc(0),s=0;a.length<e;)n=o(s++),a=r.concat([a,i("sha1").update(t).update(n).digest()]);return a.slice(0,e)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,e,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(t,e,n){"use strict";var i=t("parse-asn1"),r=t("./mgf"),o=t("./xor"),a=t("bn.js"),s=t("browserify-rsa"),l=t("create-hash"),u=t("./withPublic"),h=t("safe-buffer").Buffer;e.exports=function(t,e,n){var c;c=t.padding?t.padding:n?1:4;var d,f=i(t),p=f.modulus.byteLength();if(e.length>p||new a(e).cmp(f.modulus)>=0)throw new Error("decryption error");d=n?u(new a(e),f):s(e,f);var g=h.alloc(p-d.length);if(d=h.concat([g,d],p),4===c)return function(t,e){var n=t.modulus.byteLength(),i=l("sha1").update(h.alloc(0)).digest(),a=i.length;if(0!==e[0])throw new Error("decryption error");var s=e.slice(1,a+1),u=e.slice(a+1),c=o(s,r(u,a)),d=o(u,r(c,n-a-1));if(function(t,e){t=h.from(t),e=h.from(e);var n=0,i=t.length;t.length!==e.length&&(n++,i=Math.min(t.length,e.length));for(var r=-1;++r<i;)n+=t[r]^e[r];return n}(i,d.slice(0,a)))throw new Error("decryption error");for(var f=a;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===c)return function(t,e,n){for(var i=e.slice(0,2),r=2,o=0;0!==e[r++];)if(r>=e.length){o++;break}var a=e.slice(2,r-1);if(("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return e.slice(r)}(0,d,n);if(3===c)return d;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,e,n){"use strict";var i=t("parse-asn1"),r=t("randombytes"),o=t("create-hash"),a=t("./mgf"),s=t("./xor"),l=t("bn.js"),u=t("./withPublic"),h=t("browserify-rsa"),c=t("safe-buffer").Buffer;e.exports=function(t,e,n){var d;d=t.padding?t.padding:n?1:4;var f,p=i(t);if(4===d)f=function(t,e){var n=t.modulus.byteLength(),i=e.length,u=o("sha1").update(c.alloc(0)).digest(),h=u.length,d=2*h;if(i>n-d-2)throw new Error("message too long");var f=c.alloc(n-i-d-2),p=n-h-1,g=r(h),m=s(c.concat([u,f,c.alloc(1,1),e],p),a(g,p)),v=s(g,a(m,h));return new l(c.concat([c.alloc(1),v,m],n))}(p,e);else if(1===d)f=function(t,e,n){var i,o=e.length,a=t.modulus.byteLength();if(o>a-11)throw new Error("message too long");return i=n?c.alloc(a-o-3,255):function(t){for(var e,n=c.allocUnsafe(t),i=0,o=r(2*t),a=0;i<t;)a===o.length&&(o=r(2*t),a=0),(e=o[a++])&&(n[i++]=e);return n}(a-o-3),new l(c.concat([c.from([0,n?1:2]),i,c.alloc(1),e],a))}(p,e,n);else{if(3!==d)throw new Error("unknown padding");if((f=new l(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?h(f,p):u(f,p)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,e,n){"use strict";var i=t("bn.js"),r=t("safe-buffer").Buffer;e.exports=function(t,e){return r.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=t.length,i=-1;++i<n;)t[i]^=e[i];return t}},{}],475:[function(t,e,i){(function(n,i){(function(){"use strict";var r=t("safe-buffer").Buffer,o=i.crypto||i.msCrypto;o&&o.getRandomValues?e.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=r.allocUnsafe(t);if(t>0)if(t>65536)for(var a=0;a<t;a+=65536)o.getRandomValues(i.slice(a,a+65536));else o.getRandomValues(i);return"function"==typeof e?n.nextTick((function(){e(null,i)})):i}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,e,i){(function(e,n){(function(){"use strict";function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=t("safe-buffer"),a=t("randombytes"),s=o.Buffer,l=o.kMaxLength,u=n.crypto||n.msCrypto,h=Math.pow(2,32)-1;function c(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>h||t<0)throw new TypeError("offset must be a uint32");if(t>l||t>e)throw new RangeError("offset out of range")}function d(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>h||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>l)throw new RangeError("buffer too small")}function f(t,n,i,r){if(e.browser){var o=t.buffer,s=new Uint8Array(o,n,i);return u.getRandomValues(s),r?void e.nextTick((function(){r(null,t)})):t}if(!r)return a(i).copy(t,n),t;a(i,(function(e,i){if(e)return r(e);i.copy(t,n),r(null,t)}))}u&&u.getRandomValues||!e.browser?(i.randomFill=function(t,e,i,r){if(!(s.isBuffer(t)||t instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)r=e,e=0,i=t.length;else if("function"==typeof i)r=i,i=t.length-e;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return c(e,t.length),d(i,e,t.length),f(t,e,i,r)},i.randomFillSync=function(t,e,i){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(e,t.length),void 0===i&&(i=t.length-e),d(i,e,t.length),f(t,e,i)}):(i.randomFill=r,i.randomFillSync=r)}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,e,n){"use strict";var i={};function r(t,e,n){n||(n=Error);var r=function(t){var n,i;function r(n,i,r){return t.call(this,function(t,n,i){return"string"==typeof e?e:e(t,n,i)}(n,i,r))||this}return i=t,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,r}(n);r.prototype.name=n.name,r.prototype.code=t,i[t]=r}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,n){var i,r,a;if("string"==typeof e&&(r="not ",e.substr(0,r.length)===r)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a="The ".concat(t," ").concat(i," ").concat(o(e,"type"));else{var s=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+".".length>t.length)&&-1!==t.indexOf(".",n)}(t)?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(o(e,"type"))}return a+". Received type ".concat(b(n))}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i},{}],478:[function(t,e,n){(function(n){(function(){"use strict";var i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=u;var r=t("./_stream_readable"),o=t("./_stream_writable");t("inherits")(u,r);for(var a=i(o.prototype),s=0;s<a.length;s++){var l=a[s];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(t){if(!(this instanceof u))return new u(t);r.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(c,this)}function c(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,e,n){"use strict";e.exports=r;var i=t("./_stream_transform");function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t("inherits")(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":481,inherits:440}],480:[function(t,e,i){(function(n,i){(function(){"use strict";var r;e.exports=M,M.ReadableState=S,t("events").EventEmitter;var o,a=function(t,e){return t.listeners(e).length},s=t("./internal/streams/stream"),l=t("buffer").Buffer,u=(void 0!==i?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=t("util");o=h&&h.debuglog?h.debuglog("stream"):function(){};var c,d,f,p=t("./internal/streams/buffer_list"),g=t("./internal/streams/destroy"),m=t("./internal/streams/state").getHighWaterMark,v=t("../errors").codes,y=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,x=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(M,s);var _=g.errorOrDestroy,C=["error","close","destroy","pause","resume"];function S(e,n,i){r=r||t("./_stream_duplex"),e=e||{},"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=t("string_decoder/").StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function M(e){if(r=r||t("./_stream_duplex"),!(this instanceof M))return new M(e);var n=this instanceof r;this._readableState=new S(e,this,n),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function A(t,e,n,i,r){o("readableAddChunk",e);var a,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(o("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?R(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,I(t)))}}(t,s);else if(r||(a=function(t,e){var n,i;return i=e,l.isBuffer(i)||i instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],e)),n}(s,e)),a)_(t,a);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),i)s.endEmitted?_(t,new x):T(t,s,e,!0);else if(s.ended)_(t,new b);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?T(t,s,e,!1):P(t,s)):T(t,s,e,!1)}else i||(s.reading=!1,P(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function T(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&R(t)),P(t,e)}function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=1073741824?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(I,t))}function I(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,O(t)}function P(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(E,t,e))}function E(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function B(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function L(t){o("readable nexttick read 0"),t.read(0)}function D(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function H(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(N,e,t))}function N(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function z(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),M.prototype.destroy=g.destroy,M.prototype._undestroy=g.undestroy,M.prototype._destroy=function(t,e){e(t)},M.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=l.from(t,e),e=""),n=!0),A(this,t,e,!1,n)},M.prototype.unshift=function(t){return A(this,t,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(e){c||(c=t("string_decoder/").StringDecoder);var n=new c(e);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=n.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this},M.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?H(this):R(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&H(this),null;var i,r=e.needReadable;return o("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",r=!0),e.ended||e.reading?o("reading or ended",r=!1):r&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(i=t>0?F(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&H(this)),null!==i&&this.emit("data",i),i},M.prototype._read=function(t){_(this,new w("_read()"))},M.prototype.pipe=function(t,e){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,o("pipe count=%d opts=%j",r.pipesCount,e);var s=e&&!1===e.end||t===n.stdout||t===n.stderr?g:l;function l(){o("onend"),t.end()}r.endEmitted?n.nextTick(s):i.once("end",s),t.on("unpipe",(function e(n,a){o("onunpipe"),n===i&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),t.removeListener("close",f),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",d),t.removeListener("unpipe",e),i.removeListener("end",l),i.removeListener("end",g),i.removeListener("data",c),h=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,O(t))}}(i);t.on("drain",u);var h=!1;function c(e){o("ondata");var n=t.write(e);o("dest.write",n),!1===n&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==z(r.pipes,t))&&!h&&(o("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function d(e){o("onerror",e),g(),t.removeListener("error",d),0===a(t,"error")&&_(t,e)}function f(){t.removeListener("finish",p),g()}function p(){o("onfinish"),t.removeListener("close",f),g()}function g(){o("unpipe"),i.unpipe(t)}return i.on("data",c),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",d),t.once("close",f),t.once("finish",p),t.emit("pipe",i),r.flowing||(o("pipe resume"),i.resume()),t},M.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},M.prototype.on=function(t,e){var i=s.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,o("on readable",r.length,r.reading),r.length?R(this):r.reading||n.nextTick(L,this))),i},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(t,e){var i=s.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(B,this),i},M.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(B,this),e},M.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(D,t,e))}(this,t)),t.paused=!1,this},M.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){o("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var a=0;a<C.length;a++)t.on(C[a],this.emit.bind(this,C[a]));return this._read=function(e){o("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=t("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),M._fromList=F,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(M.from=function(e,n){return void 0===f&&(f=t("./internal/streams/from")),f(M,e,n)})}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,e,n){"use strict";e.exports=h;var i=t("../errors").codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,l=t("./_stream_duplex");function u(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function h(t){if(!(this instanceof h))return new h(t);l.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,n){d(t,e,n)}))}function d(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}t("inherits")(h,l),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,n){n(new r("_transform()"))},h.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){l.prototype._destroy.call(this,t,(function(t){e(t)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,e,i){(function(n,i){(function(){"use strict";function r(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(void 0),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}var o;e.exports=M,M.WritableState=S;var a,s={deprecate:t("util-deprecate")},l=t("./internal/streams/stream"),u=t("buffer").Buffer,h=(void 0!==i?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=t("./internal/streams/destroy"),d=t("./internal/streams/state").getHighWaterMark,f=t("../errors").codes,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,x=f.ERR_UNKNOWN_ENCODING,_=c.errorOrDestroy;function C(){}function S(e,i,a){o=o||t("./_stream_duplex"),e=e||{},"boolean"!=typeof a&&(a=i instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,r=i.sync,o=i.writecb;if("function"!=typeof o)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,r,o){--e.pendingcb,i?(n.nextTick(o,r),n.nextTick(P,t,e),t._writableState.errorEmitted=!0,_(t,r)):(o(r),t._writableState.errorEmitted=!0,_(t,r),P(t,e))}(t,i,r,e,o);else{var a=R(i)||t.destroyed;a||i.corked||i.bufferProcessing||!i.bufferedRequest||k(t,i),r?n.nextTick(T,t,i,a,o):T(t,i,a,o)}}(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function M(e){var n=this instanceof(o=o||t("./_stream_duplex"));if(!n&&!a.call(M,this))return new M(e);this._writableState=new S(e,this,n),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function A(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function T(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),P(t,e)}function k(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,o=new Array(i),a=e.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,A(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new r(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,h=n.encoding,c=n.callback;if(A(t,e,!1,e.objectMode?1:u.length,u,h,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function R(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final((function(n){e.pendingcb--,n&&_(t,n),e.prefinished=!0,t.emit("prefinish"),P(t,e)}))}function P(t,e){var i=R(e);if(i&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return i}t("inherits")(M,l),S.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(t){return!!a.call(this,t)||this===M&&t&&t._writableState instanceof S}})):a=function(t){return t instanceof this},M.prototype.pipe=function(){_(this,new v)},M.prototype.write=function(t,e,i){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=t,u.isBuffer(r)||r instanceof h);return s&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(i=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof i&&(i=C),o.ending?function(t,e){var i=new w;_(t,i),n.nextTick(e,i)}(this,i):(s||function(t,e,i,r){var o;return null===i?o=new b:"string"==typeof i||e.objectMode||(o=new p("chunk",["string","Buffer"],i)),!o||(_(t,o),n.nextTick(r,o),!1)}(this,o,t,i))&&(o.pendingcb++,a=function(t,e,n,i,r,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,n)),e}(e,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,s,i,r,o);return l}(this,o,s,t,e,i)),a},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||k(this,t))},M.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new x(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(t,e,n){n(new g("_write()"))},M.prototype._writev=null,M.prototype.end=function(t,e,i){var r=this._writableState;return"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,i){e.ending=!0,P(t,e),i&&(e.finished?n.nextTick(i):t.once("finish",i)),e.ended=!0,t.writable=!1}(this,r,i),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),M.prototype.destroy=c.destroy,M.prototype._undestroy=c.undestroy,M.prototype._destroy=function(t,e){e(t)}}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,e,n){(function(n){(function(){"use strict";var i;function r(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=t("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),c=Symbol("handlePromise"),d=Symbol("stream");function f(t,e){return{value:t,done:e}}function p(t){var e=t[a];if(null!==e){var n=t[d].read();null!==n&&(t[h]=null,t[a]=null,t[s]=null,e(f(n,!1)))}}function g(t){n.nextTick(p,t)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((r(i={get stream(){return this[d]},next:function(){var t=this,e=this[l];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(e,i){n.nextTick((function(){t[l]?i(t[l]):e(f(void 0,!0))}))}));var i,r=this[h];if(r)i=new Promise(function(t,e){return function(n,i){t.then((function(){e[u]?n(f(void 0,!0)):e[c](n,i)}),i)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(f(o,!1));i=new Promise(this[c])}return this[h]=i,i}},Symbol.asyncIterator,(function(){return this})),r(i,"return",(function(){var t=this;return new Promise((function(e,n){t[d].destroy(null,(function(t){t?n(t):e(f(void 0,!0))}))}))})),i),m);e.exports=function(t){var e,n=Object.create(v,(r(e={},d,{value:t,writable:!0}),r(e,a,{value:null,writable:!0}),r(e,s,{value:null,writable:!0}),r(e,l,{value:null,writable:!0}),r(e,u,{value:t._readableState.endEmitted,writable:!0}),r(e,c,{value:function(t,e){var i=n[d].read();i?(n[h]=null,n[a]=null,n[s]=null,t(f(i,!1))):(n[a]=t,n[s]=e)},writable:!0}),e));return n[h]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[s];return null!==e&&(n[h]=null,n[a]=null,n[s]=null,e(t)),void(n[l]=t)}var i=n[a];null!==i&&(n[h]=null,n[a]=null,n[s]=null,i(f(void 0,!0))),n[u]=!0})),t.on("readable",g.bind(null,n)),n}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t,e){if("object"!=b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:String(e)}var l=t("buffer").Buffer,u=t("util").inspect,h=u&&u.custom||"inspect";e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return l.alloc(0);for(var e,n,i,r=l.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,n=r,i=a,l.prototype.copy.call(e,n,i),a+=o.data.length,o=o.next;return r}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,i=e.data;for(t-=i.length;e=e.next;){var r=e.data,o=t>r.length?r.length:t;if(o===r.length?i+=r:i+=r.slice(0,t),0==(t-=o)){o===r.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=r.slice(o));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(t){var e=l.allocUnsafe(t),n=this.head,i=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var r=n.data,o=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,o),0==(t-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(o));break}++i}return this.length-=i,e}},{key:h,value:function(t,e){return u(this,r(r({},e),{},{depth:0,customInspect:!1}))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},{buffer:220,util:188}],485:[function(t,e,n){(function(t){(function(){"use strict";function n(t,e){r(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function r(t,e){t.emit("error",e)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(r,this,e)):t.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(i,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(i,a),o(e)):t.nextTick(i,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,i=t._writableState;n&&n.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,e,n){"use strict";var i=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i)}}}(o||r);var a=n.readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,l=function(){e.writable||h()},u=e._writableState&&e._writableState.finished,h=function(){s=!1,u=!0,a||o.call(e)},c=e._readableState&&e._readableState.endEmitted,d=function(){a=!1,c=!0,s||o.call(e)},f=function(t){o.call(e,t)},p=function(){var t;return a&&!c?(e._readableState&&e._readableState.ended||(t=new i),o.call(e,t)):s&&!u?(e._writableState&&e._writableState.ended||(t=new i),o.call(e,t)):void 0},g=function(){e.req.on("finish",h)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",h),e.on("abort",p),e.req?g():e.on("request",g)):s&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",d),e.on("finish",h),!1!==n.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",h),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",h),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",h),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)}}},{"../../../errors":477}],487:[function(t,e,n){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,e,n){"use strict";var i,r=t("../../../errors").codes,o=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function l(e,n,r,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===i&&(i=t("./end-of-stream")),i(e,{readable:n,writable:r},(function(t){if(t)return o(t);s=!0,o()}));var l=!1;return function(t){if(!s&&!l)return l=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(t){t()}function h(t,e){return t.pipe(e)}function c(t){return t.length?"function"!=typeof t[t.length-1]?s:t.pop():s}e.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,r=c(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var a=e.map((function(t,n){var o=n<e.length-1;return l(t,o,n>0,(function(t){i||(i=t),t&&a.forEach(u),o||(a.forEach(u),r(i))}))}));return e.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,e,n){"use strict";var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,n,r){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,r,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(r?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,e,n){"use strict";e.exports=t("events").EventEmitter},{events:422}],491:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,e,n){"use strict";var i=function(t){var e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:_(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function d(){}function f(){}function p(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(T([])));v&&v!==e&&n.call(v,o)&&(g=v);var y=p.prototype=d.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var r;i(this,"_invoke",{value:function(i,o){function a(){return new e((function(r,a){!function i(r,o,a,s){var l=h(t[r],t,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==b(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(c).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function _(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=h(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function C(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),c;var r=h(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=p,i(y,"constructor",{value:p,configurable:!0}),i(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new x(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(y),l(y,s,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}("object"==b(e)?e.exports:{});try{regeneratorRuntime=i}catch(t){"object"==("undefined"==typeof globalThis?"undefined":b(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(t,e,n){"use strict";var i=t("buffer").Buffer,r=t("inherits"),o=t("hash-base"),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function g(t,e,n,i,r,o,a,s){return p(t+(e^n^i)+o+a|0,s)+r|0}function m(t,e,n,i,r,o,a,s){return p(t+(e&n|~e&i)+o+a|0,s)+r|0}function v(t,e,n,i,r,o,a,s){return p(t+((e|~n)^i)+o+a|0,s)+r|0}function y(t,e,n,i,r,o,a,s){return p(t+(e&i|n&~i)+o+a|0,s)+r|0}function b(t,e,n,i,r,o,a,s){return p(t+(e^(n|~i))+o+a|0,s)+r|0}r(f,o),f.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,f=0|this._e,w=0|this._a,x=0|this._b,_=0|this._c,C=0|this._d,S=0|this._e,M=0;M<80;M+=1){var A,T;M<16?(A=g(n,i,r,o,f,t[s[M]],c[0],u[M]),T=b(w,x,_,C,S,t[l[M]],d[0],h[M])):M<32?(A=m(n,i,r,o,f,t[s[M]],c[1],u[M]),T=y(w,x,_,C,S,t[l[M]],d[1],h[M])):M<48?(A=v(n,i,r,o,f,t[s[M]],c[2],u[M]),T=v(w,x,_,C,S,t[l[M]],d[2],h[M])):M<64?(A=y(n,i,r,o,f,t[s[M]],c[3],u[M]),T=m(w,x,_,C,S,t[l[M]],d[3],h[M])):(A=b(n,i,r,o,f,t[s[M]],c[4],u[M]),T=g(w,x,_,C,S,t[l[M]],d[4],h[M])),n=f,f=o,o=p(r,10),r=i,i=A,w=S,S=C,C=p(_,10),_=x,x=T}var k=this._b+r+C|0;this._b=this._c+o+S|0,this._c=this._d+f+w|0,this._d=this._e+n+x|0,this._e=this._a+i+_|0,this._a=k},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},e.exports=f},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,e,n){"use strict";var i=t("buffer"),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,n),n.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},{buffer:220}],495:[function(t,e,n){(function(n){(function(){"use strict";var i,r=t("buffer"),o=r.Buffer,a={};for(i in r)r.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(a[i]=r[i]);var s=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(s[i]=o[i]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(t,e,n){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+b(t));if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(t));return o(t,e,n)}),s.alloc||(s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+b(t));if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=o(t);return e&&0!==e.length?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i}),!a.kStringMaxLength)try{a.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("xmlchars/xml/1.0/ed5"),r=t("xmlchars/xml/1.1/ed2"),o=t("xmlchars/xmlns/1.0/ed3"),a=i.isS,s=i.isChar,l=i.isNameStartChar,u=i.isNameChar,h=i.S_LIST,d=i.NAME_RE,f=r.isChar,g=o.isNCNameStartChar,m=o.isNCNameChar,w=o.NC_NAME_RE,x="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:x,xmlns:_},S={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},M=function(t){return 34===t||39===t},A=[34,39],T=[].concat(A,[91,62]),k=[].concat(A,[60,93]),R=[61,63].concat(p(h)),I=[].concat(p(h),[62,38,60]);function P(t,e,n){switch(e){case"xml":n!==x&&t.fail("xml prefix must be bound to ".concat(x,"."));break;case"xmlns":n!==_&&t.fail("xmlns prefix must be bound to ".concat(_,"."))}switch(n){case _:t.fail(""===e?"the default namespace may not be set to ".concat(n,"."):'may not assign a prefix (even "xmlns") to the URI '.concat(_,"."));break;case x:switch(e){case"xml":break;case"":t.fail("the default namespace may not be set to ".concat(n,"."));break;default:t.fail("may not assign the xml namespace to another prefix.")}}}var E=function(t){return w.test(t)},B=function(t){return d.test(t)};n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var L={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=function(){function t(e){v(this,t),this.opt=null!=e?e:{},this.fragmentOpt=!!this.opt.fragment;var n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=g,this.nameCheck=m,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);var i=this.opt.additionalNamespaces;null!=i&&(function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];P(t,r,e[r])}}(this,i),Object.assign(this.ns,i))}else this.nameStartCheck=l,this.nameCheck=u,this.isName=B,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}return y(t,[{key:"closed",get:function(){return this._closed}},{key:"_init",value:function(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var e=this.fragmentOpt;this.state=e?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=e,this.xmlDeclPossible=!e,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var n=this.opt.defaultXMLVersion;if(void 0===n){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(S),null===(t=this.readyHandler)||void 0===t||t.call(this)}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}},{key:"on",value:function(t,e){this[L[t]]=e}},{key:"off",value:function(t){this[L[t]]=void 0}},{key:"makeError",value:function(t){var e,n=null!==(e=this.fileName)&&void 0!==e?e:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+="".concat(this.line,":").concat(this.column)),n.length>0&&(n+=": "),new Error(n+t)}},{key:"fail",value:function(t){var e=this.makeError(t),n=this.errorHandler;if(void 0===n)throw e;return n(e),this}},{key:"write",value:function(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var e=!1;null===t?(e=!0,t=""):"object"==b(t)&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t="".concat(this.carriedFromPrevious).concat(t),this.carriedFromPrevious=void 0);var n=t.length,i=t.charCodeAt(n-1);!e&&(13===i||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[n-1],n--,t=t.slice(0,n));var r=this.stateTable;for(this.chunk=t,this.i=0;this.i<n;)r[this.state].call(this);return this.chunkPosition+=n,e?this.end():this}},{key:"close",value:function(){return this.write(null)}},{key:"getCode10",value:function(){var t=this.chunk,e=this.i;if(this.prevI=e,this.i=e+1,e>=t.length)return-1;var n=t.charCodeAt(e);if(this.column++,n<55296){if(n>=32||9===n)return n;switch(n){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return 10===t.charCodeAt(e+1)&&(this.i=e+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;var i=65536+1024*(n-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,i>1114111&&this.fail("disallowed character."),i}},{key:"getCode11",value:function(){var t=this.chunk,e=this.i;if(this.prevI=e,this.i=e+1,e>=t.length)return-1;var n=t.charCodeAt(e);if(this.column++,n<55296){if(n>31&&n<127||n>159&&8232!==n||9===n)return n;switch(n){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:var i=t.charCodeAt(e+1);10!==i&&133!==i||(this.i=e+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;var r=65536+1024*(n-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,r>1114111&&this.fail("disallowed character."),r}},{key:"getCodeNorm",value:function(){var t=this.getCode();return-2===t?10:t}},{key:"unget",value:function(){this.i=this.prevI,this.column--}},{key:"captureTo",value:function(t){for(var e=this.i,n=this.chunk;;){var i=this.getCode(),r=-2===i,o=r?10:i;if(-1===o||t.includes(o))return this.text+=n.slice(e,this.prevI),o;r&&(this.text+=n.slice(e,this.prevI)+"\n",e=this.i)}}},{key:"captureToChar",value:function(t){for(var e=this.i,n=this.chunk;;){var i=this.getCode();switch(i){case-2:this.text+=n.slice(e,this.prevI)+"\n",e=this.i,i=10;break;case-1:return this.text+=n.slice(e),!1}if(i===t)return this.text+=n.slice(e,this.prevI),!0}}},{key:"captureNameChars",value:function(){for(var t=this.chunk,e=this.i;;){var n=this.getCode();if(-1===n)return this.name+=t.slice(e),-1;if(!u(n))return this.name+=t.slice(e,this.prevI),-2===n?10:n}}},{key:"skipSpaces",value:function(){for(;;){var t=this.getCodeNorm();if(-1===t||!a(t))return t}}},{key:"setXMLVersion",value:function(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=s,this.getCode=this.getCode10):(this.isChar=f,this.getCode=this.getCode11)}},{key:"sBegin",value:function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}},{key:"sBeginWhitespace",value:function(){var t=this.i,e=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),e){case 60:if(this.state=15,0!==this.text.length)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}},{key:"sDoctype",value:function(){var t,e=this.captureTo(T);switch(e){case 62:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(e),91===e?this.state=4:M(e)&&(this.state=3,this.q=e)}}},{key:"sDoctypeQuote",value:function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)}},{key:"sDTD",value:function(){var t=this.captureTo(k);-1!==t&&(this.text+=String.fromCodePoint(t),93===t?this.state=2:60===t?this.state=6:M(t)&&(this.state=5,this.q=t))}},{key:"sDTDQuoted",value:function(){var t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)}},{key:"sDTDOpenWaka",value:function(){var t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}},{key:"sDTDOpenWakaBang",value:function(){var t=String.fromCodePoint(this.getCodeNorm()),e=this.openWakaBang+=t;this.text+=t,"-"!==e&&(this.state="--"===e?8:4,this.openWakaBang="")}},{key:"sDTDComment",value:function(){this.captureToChar(45)&&(this.text+="-",this.state=9)}},{key:"sDTDCommentEnding",value:function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8}},{key:"sDTDCommentEnded",value:function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),62===t?this.state=4:(this.fail("malformed comment."),this.state=8)}},{key:"sDTDPI",value:function(){this.captureToChar(63)&&(this.text+="?",this.state=12)}},{key:"sDTDPIEnding",value:function(){var t=this.getCodeNorm();this.text+=String.fromCodePoint(t),62===t&&(this.state=4)}},{key:"sText",value:function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}},{key:"sEntity",value:function(){var t=this.i,e=this.chunk;t:for(;;)switch(this.getCode()){case-2:this.entity+=e.slice(t,this.prevI)+"\n",t=this.i;break;case 59:var n=this.entityReturnState,i=this.entity+e.slice(t,this.prevI),r=void 0;this.state=n,""===i?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(i),this.entity=""),13===n&&void 0===this.textHandler||(this.text+=r);break t;case-1:this.entity+=e.slice(t);break t}}},{key:"sOpenWaka",value:function(){var t=this.getCode();if(l(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}},{key:"sOpenWakaBang",value:function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}},{key:"sComment",value:function(){this.captureToChar(45)&&(this.state=18)}},{key:"sCommentEnding",value:function(){var t,e=this.getCodeNorm();45===e?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(e),this.state=17)}},{key:"sCommentEnded",value:function(){var t=this.getCodeNorm();62!==t?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(t),this.state=17):this.state=13}},{key:"sCData",value:function(){this.captureToChar(93)&&(this.state=21)}},{key:"sCDataEnding",value:function(){var t=this.getCodeNorm();93===t?this.state=22:(this.text+="]"+String.fromCodePoint(t),this.state=20)}},{key:"sCDataEnding2",value:function(){var t,e=this.getCodeNorm();switch(e){case 62:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(e),this.state=20}}},{key:"sPIFirstChar",value:function(){var t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):63===t||a(t)?(this.fail("processing instruction without a target."),this.state=63===t?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)}},{key:"sPIRest",value:function(){for(var t=this.chunk,e=this.i;;){var n=this.getCodeNorm();if(-1===n)return void(this.piTarget+=t.slice(e));if(!this.nameCheck(n)){this.piTarget+=t.slice(e,this.prevI);var i=63===n;i||a(n)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?33:27):this.state=i?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}},{key:"sPIBody",value:function(){if(0===this.text.length){var t=this.getCodeNorm();63===t?this.state=26:a(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(63)&&(this.state=26)}},{key:"sPIEnding",value:function(){var t,e=this.getCodeNorm();if(62===e){var n=this.piTarget;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=13}else 63===e?this.text+="?":(this.text+="?"+String.fromCodePoint(e),this.state=25);this.xmlDeclPossible=!1}},{key:"sXMLDeclNameStart",value:function(){var t=this.skipSpaces();63!==t?-1!==t&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=33}},{key:"sXMLDeclName",value:function(){var t=this.captureTo(R);if(63===t)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(a(t)||61===t){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name ".concat(this.xmlDeclExpects[0],"."));break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=61===t?30:29}}},{key:"sXMLDeclEq",value:function(){var t=this.getCodeNorm();if(63===t)return this.state=33,void this.fail("XML declaration is incomplete.");a(t)||(61!==t&&this.fail("value required."),this.state=30)}},{key:"sXMLDeclValueStart",value:function(){var t=this.getCodeNorm();if(63===t)return this.state=33,void this.fail("XML declaration is incomplete.");a(t)||(M(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)}},{key:"sXMLDeclValue",value:function(){var t=this.captureTo([this.q,63]);if(63===t)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(-1!==t){var e=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var n=e;this.xmlDecl.version=n,/^1\.[0-9]+$/.test(n)?this.opt.forceXMLVersion||this.setXMLVersion(n):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(e)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=e;break;case"standalone":"yes"!==e&&"no"!==e&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=e}this.name="",this.state=32}}},{key:"sXMLDeclSeparator",value:function(){var t=this.getCodeNorm();63!==t?(a(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}},{key:"sXMLDeclEnding",value:function(){var t;62===this.getCodeNorm()?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}},{key:"sOpenTag",value:function(){var t,e=this.captureNameChars();if(-1!==e){var n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),e){case 62:this.openTag();break;case 47:this.state=35;break;default:a(e)||this.fail("disallowed character in tag name."),this.state=36}}}},{key:"sOpenTagSlash",value:function(){62===this.getCode()?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}},{key:"sAttrib",value:function(){var t=this.skipSpaces();-1!==t&&(l(t)?(this.unget(),this.state=37):62===t?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))}},{key:"sAttribName",value:function(){var t=this.captureNameChars();61===t?this.state=39:a(t)?this.state=38:62===t?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):-1!==t&&this.fail("disallowed character in attribute name.")}},{key:"sAttribNameSawWhite",value:function(){var t=this.skipSpaces();switch(t){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",62===t?this.openTag():l(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}},{key:"sAttribValue",value:function(){var t=this.getCodeNorm();M(t)?(this.q=t,this.state=40):a(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}},{key:"sAttribValueQuoted",value:function(){for(var t=this.q,e=this.chunk,n=this.i;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+e.slice(n,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=e.slice(n,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=e.slice(n,this.prevI)+" ",n=this.i;break;case 60:return this.text+=e.slice(n,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=e.slice(n))}}},{key:"sAttribValueClosed",value:function(){var t=this.getCodeNorm();a(t)?this.state=36:62===t?this.openTag():47===t?this.state=35:l(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}},{key:"sAttribValueUnquoted",value:function(){var t=this.captureTo(I);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",62===t?this.openTag():this.state=36}}},{key:"sCloseTag",value:function(){var t=this.captureNameChars();62===t?this.closeTag():a(t)?this.state=44:-1!==t&&this.fail("disallowed character in closing tag.")}},{key:"sCloseTagSawWhite",value:function(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}},{key:"handleTextInRoot",value:function(){var t=this.i,e=this.forbiddenState,n=this.chunk,i=this.textHandler;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,void 0!==i){var r=this.text,o=n.slice(t,this.prevI);0!==r.length?(i(r+o),this.text=""):0!==o.length&&i(o)}e=0;break t;case 38:this.state=14,this.entityReturnState=13,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=0;break t;case 93:switch(e){case 0:e=1;break;case 1:e=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:2===e&&this.fail('the string "]]>" is disallowed in char data.'),e=0;break;case-2:void 0!==i&&(this.text+=n.slice(t,this.prevI)+"\n"),t=this.i,e=0;break;case-1:void 0!==i&&(this.text+=n.slice(t));break t;default:e=0}this.forbiddenState=e}},{key:"handleTextOutsideRoot",value:function(){var t=this.i,e=this.chunk,n=this.textHandler,i=!1;t:for(;;){var r=this.getCode();switch(r){case 60:if(this.state=15,void 0!==n){var o=this.text,s=e.slice(t,this.prevI);0!==o.length?(n(o+s),this.text=""):0!==s.length&&n(s)}break t;case 38:this.state=14,this.entityReturnState=13,void 0!==n&&(this.text+=e.slice(t,this.prevI)),i=!0;break t;case-2:void 0!==n&&(this.text+=e.slice(t,this.prevI)+"\n"),t=this.i;break;case-1:void 0!==n&&(this.text+=e.slice(t));break t;default:a(r)||(i=!0)}}i&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}},{key:"pushAttribNS",value:function(t,e){var n,i=this.qname(t),r=i.prefix,o=i.local,a={name:t,prefix:r,local:o,value:e};if(this.attribList.push(a),null===(n=this.attributeHandler)||void 0===n||n.call(this,a),"xmlns"===r){var s=e.trim();"1.0"===this.currentXMLVersion&&""===s&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[o]=s,P(this,o,s)}else if("xmlns"===t){var l=e.trim();this.topNS[""]=l,P(this,"",l)}}},{key:"pushAttribPlain",value:function(t,e){var n,i={name:t,value:e};this.attribList.push(i),null===(n=this.attributeHandler)||void 0===n||n.call(this,i)}},{key:"end",value:function(){var t,e;this.sawRoot||this.fail("document must contain a root element.");for(var n=this.tags;n.length>0;){var i=n.pop();this.fail("unclosed tag: "+i.name)}0!==this.state&&13!==this.state&&this.fail("unexpected end.");var r=this.text;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this._closed=!0,null===(e=this.endHandler)||void 0===e||e.call(this),this._init(),this}},{key:"resolve",value:function(t){var e,n,i=this.topNS[t];if(void 0!==i)return i;for(var r=this.tags,o=r.length-1;o>=0;o--)if(void 0!==(i=r[o].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(n=(e=this.opt).resolvePrefix)||void 0===n?void 0:n.call(e,t)}},{key:"qname",value:function(t){var e=t.indexOf(":");if(-1===e)return{prefix:"",local:t};var n=t.slice(e+1),i=t.slice(0,e);return(""===i||""===n||n.includes(":"))&&this.fail("malformed name: ".concat(t,".")),{prefix:i,local:n}}},{key:"processAttribsNS",value:function(){var t,e=this.attribList,n=this.tag,i=this.qname(n.name),r=i.prefix,o=i.local;n.prefix=r,n.local=o;var a=n.uri=null!==(t=this.resolve(r))&&void 0!==t?t:"";if(""!==r&&("xmlns"===r&&this.fail('tags may not have "xmlns" as prefix.'),""===a&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(r),".")),n.uri=r)),0!==e.length){var s,l=n.attributes,u=new Set,h=c(e);try{for(h.s();!(s=h.n()).done;){var d=s.value,f=d.name,p=d.prefix,g=d.local,m=void 0,v=void 0;""===p?(m="xmlns"===f?_:"",v=f):(void 0===(m=this.resolve(p))&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(p),".")),m=p),v="{".concat(m,"}").concat(g)),u.has(v)&&this.fail("duplicate attribute: ".concat(v,".")),u.add(v),d.uri=m,l[f]=d}}catch(t){h.e(t)}finally{h.f()}this.attribList=[]}}},{key:"processAttribsPlain",value:function(){var t,e=this.attribList,n=this.tag.attributes,i=c(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.name,a=r.value;void 0!==n[o]&&this.fail("duplicate attribute: ".concat(o,".")),n[o]=a}}catch(t){i.e(t)}finally{i.f()}this.attribList=[]}},{key:"openTag",value:function(){var t;this.processAttribs();var e=this.tags,n=this.tag;n.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,n),e.push(n),this.state=13,this.name=""}},{key:"openSelfClosingTag",value:function(){var t,e,n;this.processAttribs();var i=this.tags,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(e=this.closeTagHandler)||void 0===e||e.call(this,r),null===(this.tag=null!==(n=i[i.length-1])&&void 0!==n?n:null)&&(this.closedRoot=!0),this.state=13,this.name=""}},{key:"closeTag",value:function(){var t=this.tags,e=this.name;if(this.state=13,this.name="",""===e)return this.fail("weird empty close tag."),void(this.text+="</>");for(var n=this.closeTagHandler,i=t.length;i-- >0;){var r=this.tag=t.pop();if(this.topNS=r.ns,null==n||n(r),r.name===e)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail("unmatched closing tag: ".concat(e,".")),this.text+="</".concat(e,">"))}},{key:"parseEntity",value:function(t){if("#"!==t[0]){var e=this.ENTITIES[t];return void 0!==e?e:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),"&".concat(t,";"))}var n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=parseInt(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),"&".concat(t,";"))}}]),t}()},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer;function r(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}r.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var n=this._block,r=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var l=a%r,u=Math.min(o-s,r-l),h=0;h<u;h++)n[l+h]=t[s+h];s+=u,(a+=u)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},{"safe-buffer":494}],498:[function(t,e,n){"use strict";var i=e.exports=function(t){t=t.toLowerCase();var e=i[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};i.sha=t("./sha"),i.sha1=t("./sha1"),i.sha224=t("./sha224"),i.sha256=t("./sha256"),i.sha384=t("./sha384"),i.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./hash"),o=t("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,r.call(this,64,56)}function u(t){return t<<30|t>>>2}function h(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,c=0;c<16;++c)n[c]=t.readInt32BE(4*c);for(;c<80;++c)n[c]=n[c-3]^n[c-8]^n[c-14]^n[c-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((e=i)<<5|e>>>27)+h(f,r,o,s)+l+n[d]+a[f];l=s,s=o,o=u(r),r=i,i=p}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./hash"),o=t("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,r.call(this,64,56)}function u(t){return t<<5|t>>>27}function h(t){return t<<30|t>>>2}function c(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,d=0;d<16;++d)n[d]=t.readInt32BE(4*d);for(;d<80;++d)n[d]=(e=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|e>>>31;for(var f=0;f<80;++f){var p=~~(f/20),g=u(i)+c(p,r,o,s)+l+n[f]+a[p]|0;l=s,s=o,o=h(r),r=i,i=g}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./sha256"),o=t("./hash"),a=t("safe-buffer").Buffer,s=new Array(64);function l(){this.init(),this._w=s,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},e.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./hash"),o=t("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function l(){this.init(),this._w=s,r.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function h(t,e,n){return t&e|n&(t|e)}function c(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function f(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(l,r),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,p=0|this._f,g=0|this._g,m=0|this._h,v=0;v<16;++v)n[v]=t.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((e=n[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[v-7]+f(n[v-15])+n[v-16];for(var y=0;y<64;++y){var b=m+d(l)+u(l,p,g)+a[y]+n[y]|0,w=c(i)+h(i,r,o)|0;m=g,g=p,p=l,l=s+b|0,s=o,o=r,r=i,i=b+w|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},l.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./sha512"),o=t("./hash"),a=t("safe-buffer").Buffer,s=new Array(160);function l(){this.init(),this._w=s,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var t=a.allocUnsafe(48);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./hash"),o=t("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function l(){this.init(),this._w=s,r.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function h(t,e,n){return t&e|n&(t|e)}function c(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}i(l,r),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(t){for(var e=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,s=0|this._eh,l=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,x=0|this._bl,_=0|this._cl,C=0|this._dl,S=0|this._el,M=0|this._fl,A=0|this._gl,T=0|this._hl,k=0;k<32;k+=2)e[k]=t.readInt32BE(4*k),e[k+1]=t.readInt32BE(4*k+4);for(;k<160;k+=2){var R=e[k-30],I=e[k-30+1],P=f(R,I),E=p(I,R),B=g(R=e[k-4],I=e[k-4+1]),L=m(I,R),D=e[k-14],O=e[k-14+1],F=e[k-32],H=e[k-32+1],N=E+O|0,z=P+D+v(N,E)|0;z=(z=z+B+v(N=N+L|0,L)|0)+F+v(N=N+H|0,H)|0,e[k]=z,e[k+1]=N}for(var W=0;W<160;W+=2){z=e[W],N=e[W+1];var j=h(n,i,r),V=h(w,x,_),G=c(n,w),Z=c(w,n),U=d(s,S),K=d(S,s),$=a[W],X=a[W+1],Y=u(s,l,y),q=u(S,M,A),J=T+K|0,Q=b+U+v(J,T)|0;Q=(Q=(Q=Q+Y+v(J=J+q|0,q)|0)+$+v(J=J+X|0,X)|0)+z+v(J=J+N|0,N)|0;var tt=Z+V|0,et=G+j+v(tt,Z)|0;b=y,T=A,y=l,A=M,l=s,M=S,s=o+Q+v(S=C+J|0,C)|0,o=r,C=_,r=i,_=x,i=n,x=w,n=Q+et+v(w=J+tt|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+x|0,this._cl=this._cl+_|0,this._dl=this._dl+C|0,this._el=this._el+S|0,this._fl=this._fl+M|0,this._gl=this._gl+A|0,this._hl=this._hl+T|0,this._ah=this._ah+n+v(this._al,w)|0,this._bh=this._bh+i+v(this._bl,x)|0,this._ch=this._ch+r+v(this._cl,_)|0,this._dh=this._dh+o+v(this._dl,C)|0,this._eh=this._eh+s+v(this._el,S)|0,this._fh=this._fh+l+v(this._fl,M)|0,this._gh=this._gh+y+v(this._gl,A)|0,this._hh=this._hh+b+v(this._hl,T)|0},l.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,e,n){"use strict";e.exports=r;var i=t("events").EventEmitter;function r(){i.call(this)}t("inherits")(r,i),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(h(),0===i.listenerCount(this,"error"))throw t}function h(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",h),n.removeListener("close",h),t.removeListener("close",h)}return n.on("error",u),t.on("error",u),n.on("end",h),n.on("close",h),t.on("close",h),t.emit("pipe",n),t}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,e,n){"use strict";var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],507:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,e,n){"use strict";var i=t("process-nextick-args"),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=c;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var a=t("./_stream_readable"),s=t("./_stream_writable");o.inherits(c,a);for(var l=r(s.prototype),u=0;u<l.length;u++){var h=l[u];c.prototype[h]||(c.prototype[h]=s.prototype[h])}function c(t){if(!(this instanceof c))return new c(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,e,n){"use strict";e.exports=o;var i=t("./_stream_transform"),r=Object.create(t("core-util-is"));function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=t("inherits"),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,e,i){(function(n,i){(function(){"use strict";var r=t("process-nextick-args");e.exports=b;var o,a=t("isarray");b.ReadableState=y,t("events").EventEmitter;var s=function(t,e){return t.listeners(e).length},l=t("./internal/streams/stream"),u=t("safe-buffer").Buffer,h=(void 0!==i?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=Object.create(t("core-util-is"));c.inherits=t("inherits");var d=t("util"),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=t("./internal/streams/BufferList"),m=t("./internal/streams/destroy");c.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,n){e=e||{};var i=n instanceof(o=o||t("./_stream_duplex"));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||t("./_stream_duplex"),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(t,e,n,i,r){var o,a=t._readableState;return null===e?(a.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,C(t)}}(t,a)):(r||(o=function(t,e){var n,i;return i=e,u.isBuffer(i)||i instanceof h||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?x(t,a,e,!1):M(t,a)):x(t,a,e,!1))):i||(a.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function x(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&C(t)),M(t,e)}function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(S,t):S(t))}function S(t){f("emit readable"),t.emit("readable"),R(t)}function M(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(A,t,e))}function A(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function T(t){f("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),R(t),e.flowing&&!e.reading&&t.read(0)}function R(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function I(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;for(t-=r.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?r+=o:r+=o.slice(0,t),0==(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=u.allocUnsafe(t),i=e.head,r=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0==(t-=a)){a===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(a));break}++r}return e.length-=r,n}(t,e),i}(t,e.buffer,e.decoder),n);var n}function P(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(E,e,t))}function E(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function B(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=t("string_decoder/").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?P(this):C(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&P(this),null;var i,r=e.needReadable;return f("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",r=!0),e.ended||e.reading?f("reading or ended",r=!1):r&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(n,e))),null===(i=t>0?I(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&P(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var i=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,e);var l=e&&!1===e.end||t===n.stdout||t===n.stderr?y:u;function u(){f("onend"),t.end()}o.endEmitted?r.nextTick(l):i.once("end",l),t.on("unpipe",(function e(n,r){f("onunpipe"),n===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),t.removeListener("close",m),t.removeListener("finish",v),t.removeListener("drain",h),t.removeListener("error",g),t.removeListener("unpipe",e),i.removeListener("end",u),i.removeListener("end",y),i.removeListener("data",p),c=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}));var h=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,R(t))}}(i);t.on("drain",h);var c=!1,d=!1;function p(e){f("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==B(o.pipes,t))&&!c&&(f("false write response, pause",o.awaitDrain),o.awaitDrain++,d=!0),i.pause())}function g(e){f("onerror",e),y(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",v),y()}function v(){f("onfinish"),t.removeListener("close",m),y()}function y(){f("unpipe"),i.unpipe(t)}return i.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",v),t.emit("pipe",i),o.flowing||(f("pipe resume"),i.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=B(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&C(this):r.nextTick(T,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(k,t,e))}(this,t)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){f("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){f("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,e,n){"use strict";e.exports=a;var i=t("./_stream_duplex"),r=Object.create(t("core-util-is"));function o(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);i.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){l(t,e,n)})):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=t("inherits"),r.inherits(a,i),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,e,i){(function(n,i,r){(function(){"use strict";var o=t("process-nextick-args");function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(void 0),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}e.exports=y;var s,l=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=v;var u=Object.create(t("core-util-is"));u.inherits=t("inherits");var h,c={deprecate:t("util-deprecate")},d=t("./internal/streams/stream"),f=t("safe-buffer").Buffer,p=(void 0!==i?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},g=t("./internal/streams/destroy");function m(){}function v(e,n){s=s||t("./_stream_duplex"),e=e||{};var i=n instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,u=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o.nextTick(r,i),o.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),S(t,e))}(t,n,i,e,r);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||x(t,n),i?l(w,t,n,a,r):w(t,n,a,r)}}(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||t("./_stream_duplex"),!(h.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function w(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),S(t,e)}function x(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)r[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;r.allBuffers=l,b(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,h=n.encoding,c=n.callback;if(b(t,e,!1,e.objectMode?1:u.length,u,h,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)}))}function S(t,e){var n=_(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(C,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(y,d),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!h.call(this,t)||this===y&&t&&t._writableState instanceof v}})):h=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var i,r=this._writableState,a=!1,s=!r.objectMode&&(i=t,f.isBuffer(i)||i instanceof p);return s&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=m),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(i,a),r=!1),r}(this,r,t,n))&&(r.pendingcb++,a=function(t,e,n,i,r,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n)),e}(e,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,i,r,o);return l}(this,r,s,t,e,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||x(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,e,n){"use strict";var i=t("safe-buffer").Buffer,r=t("util");e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);for(var e,n,r=i.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=r,n=a,o.data.copy(e,n),a+=o.data.length,o=o.next;return r},t}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":520,util:188}],514:[function(t,e,n){"use strict";var i=t("process-nextick-args");function r(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,t)):i.nextTick(r,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,i.nextTick(r,n,t)):i.nextTick(r,n,t):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,e,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(t,e,n){"use strict";e.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,e,n){"use strict";(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,e,n){"use strict";e.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,e,n){"use strict";e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,e,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,e,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,e,n){(function(e,i){(function(){"use strict";var r=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function u(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,i=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,r((function(){s[e]&&(i?t.apply(null,i):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof i?i:function(t){delete s[t]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,e,i){(function(t){(function(){"use strict";function n(e){try{if(!t.localStorage)return!1}catch(t){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],525:[function(t,e,n){"use strict";"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],526:[function(t,e,n){"use strict";e.exports=function(t){return t&&"object"==b(t)&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],527:[function(t,e,i){(function(e,n){(function(){"use strict";var r=/%[sdj%]/g;i.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),l=i[n];n<o;l=i[++n])g(l)||!x(l)?a+=" "+l:a+=" "+s(l);return a},i.deprecate=function(t,r){if(y(n.process))return function(){return i.deprecate(t,r).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return t.apply(this,arguments)}};var o,a={};function s(t,e){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(e)?n.showHidden=e:e&&i._extend(n,e),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),h(n,t,n.depth)}function l(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function u(t,e){return t}function h(t,e,n){if(t.customInspect&&e&&S(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return v(r)||(r=h(t,r,n)),r}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,e);if(o)return o;var a=Object.keys(e),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),C(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(S(e)){var l=e.name?": "+e.name:"";return t.stylize("[Function"+l+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(_(e))return t.stylize(Date.prototype.toString.call(e),"date");if(C(e))return c(e)}var u,b="",x=!1,M=["{","}"];return f(e)&&(x=!0,M=["[","]"]),S(e)&&(b=" [Function"+(e.name?": "+e.name:"")+"]"),w(e)&&(b=" "+RegExp.prototype.toString.call(e)),_(e)&&(b=" "+Date.prototype.toUTCString.call(e)),C(e)&&(b=" "+c(e)),0!==a.length||x&&0!=e.length?n<0?w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=x?function(t,e,n,i,r){for(var o=[],a=0,s=e.length;a<s;++a)R(e,String(a))?o.push(d(t,e,n,i,String(a),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(d(t,e,n,i,r,!0))})),o}(t,e,n,s,a):a.map((function(i){return d(t,e,n,s,i,x)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,b,M)):M[0]+b+M[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,i,r,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),R(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=g(n)?h(t,l.value,null):h(t,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),y(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function f(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return void 0===t}function w(t){return x(t)&&"[object RegExp]"===M(t)}function x(t){return"object"==b(t)&&null!==t}function _(t){return x(t)&&"[object Date]"===M(t)}function C(t){return x(t)&&("[object Error]"===M(t)||t instanceof Error)}function S(t){return"function"==typeof t}function M(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}i.debuglog=function(t){if(y(o)&&(o=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=e.pid;a[t]=function(){var e=i.format.apply(i,arguments);console.error("%s %d: %s",t,n,e)}}else a[t]=function(){};return a[t]},i.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=f,i.isBoolean=p,i.isNull=g,i.isNullOrUndefined=function(t){return null==t},i.isNumber=m,i.isString=v,i.isSymbol=function(t){return"symbol"==b(t)},i.isUndefined=y,i.isRegExp=w,i.isObject=x,i.isDate=_,i.isError=C,i.isFunction=S,i.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==b(t)||void 0===t},i.isBuffer=t("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.log=function(){console.log("%s - %s",k(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this)}).call(this,t("_process"),void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return c.default}});var i=d(t("./v1.js")),r=d(t("./v3.js")),o=d(t("./v4.js")),a=d(t("./v5.js")),s=d(t("./nil.js")),l=d(t("./version.js")),u=d(t("./validate.js")),h=d(t("./stringify.js")),c=d(t("./parse.js"));function d(t){return t&&t.__esModule?t:{default:t}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,e,n){"use strict";function i(t){return 14+(t+64>>>9<<4)+1}function r(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function o(t,e,n,i,o,a){return r((s=r(r(e,t),r(i,a)))<<(l=o)|s>>>32-l,n);var s,l}function a(t,e,n,i,r,a,s){return o(e&n|~e&i,t,e,r,a,s)}function s(t,e,n,i,r,a,s){return o(e&i|n&~i,t,e,r,a,s)}function l(t,e,n,i,r,a,s){return o(e^n^i,t,e,r,a,s)}function u(t,e,n,i,r,a,s){return o(n^(e|~i),t,e,r,a,s)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,i=0;i<n;i+=8){var r=t[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[i(e)-1]=e;for(var n=1732584193,o=-271733879,h=-1732584194,c=271733878,d=0;d<t.length;d+=16){var f=n,p=o,g=h,m=c;n=a(n,o,h,c,t[d],7,-680876936),c=a(c,n,o,h,t[d+1],12,-389564586),h=a(h,c,n,o,t[d+2],17,606105819),o=a(o,h,c,n,t[d+3],22,-1044525330),n=a(n,o,h,c,t[d+4],7,-176418897),c=a(c,n,o,h,t[d+5],12,1200080426),h=a(h,c,n,o,t[d+6],17,-1473231341),o=a(o,h,c,n,t[d+7],22,-45705983),n=a(n,o,h,c,t[d+8],7,1770035416),c=a(c,n,o,h,t[d+9],12,-1958414417),h=a(h,c,n,o,t[d+10],17,-42063),o=a(o,h,c,n,t[d+11],22,-1990404162),n=a(n,o,h,c,t[d+12],7,1804603682),c=a(c,n,o,h,t[d+13],12,-40341101),h=a(h,c,n,o,t[d+14],17,-1502002290),n=s(n,o=a(o,h,c,n,t[d+15],22,1236535329),h,c,t[d+1],5,-165796510),c=s(c,n,o,h,t[d+6],9,-1069501632),h=s(h,c,n,o,t[d+11],14,643717713),o=s(o,h,c,n,t[d],20,-373897302),n=s(n,o,h,c,t[d+5],5,-701558691),c=s(c,n,o,h,t[d+10],9,38016083),h=s(h,c,n,o,t[d+15],14,-660478335),o=s(o,h,c,n,t[d+4],20,-405537848),n=s(n,o,h,c,t[d+9],5,568446438),c=s(c,n,o,h,t[d+14],9,-1019803690),h=s(h,c,n,o,t[d+3],14,-187363961),o=s(o,h,c,n,t[d+8],20,1163531501),n=s(n,o,h,c,t[d+13],5,-1444681467),c=s(c,n,o,h,t[d+2],9,-51403784),h=s(h,c,n,o,t[d+7],14,1735328473),n=l(n,o=s(o,h,c,n,t[d+12],20,-1926607734),h,c,t[d+5],4,-378558),c=l(c,n,o,h,t[d+8],11,-2022574463),h=l(h,c,n,o,t[d+11],16,1839030562),o=l(o,h,c,n,t[d+14],23,-35309556),n=l(n,o,h,c,t[d+1],4,-1530992060),c=l(c,n,o,h,t[d+4],11,1272893353),h=l(h,c,n,o,t[d+7],16,-155497632),o=l(o,h,c,n,t[d+10],23,-1094730640),n=l(n,o,h,c,t[d+13],4,681279174),c=l(c,n,o,h,t[d],11,-358537222),h=l(h,c,n,o,t[d+3],16,-722521979),o=l(o,h,c,n,t[d+6],23,76029189),n=l(n,o,h,c,t[d+9],4,-640364487),c=l(c,n,o,h,t[d+12],11,-421815835),h=l(h,c,n,o,t[d+15],16,530742520),n=u(n,o=l(o,h,c,n,t[d+2],23,-995338651),h,c,t[d],6,-198630844),c=u(c,n,o,h,t[d+7],10,1126891415),h=u(h,c,n,o,t[d+14],15,-1416354905),o=u(o,h,c,n,t[d+5],21,-57434055),n=u(n,o,h,c,t[d+12],6,1700485571),c=u(c,n,o,h,t[d+3],10,-1894986606),h=u(h,c,n,o,t[d+10],15,-1051523),o=u(o,h,c,n,t[d+1],21,-2054922799),n=u(n,o,h,c,t[d+8],6,1873313359),c=u(c,n,o,h,t[d+15],10,-30611744),h=u(h,c,n,o,t[d+6],15,-1560198380),o=u(o,h,c,n,t[d+13],21,1309151649),n=u(n,o,h,c,t[d+4],6,-145523070),c=u(c,n,o,h,t[d+11],10,-1120210379),h=u(h,c,n,o,t[d+2],15,718787259),o=u(o,h,c,n,t[d+9],21,-343485551),n=r(n,f),o=r(o,p),h=r(h,g),c=r(c,m)}return[n,o,h,c]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(i(e)),r=0;r<e;r+=8)n[r>>5]|=(255&t[r/8])<<r%32;return n}(t),8*t.length))}},{}],530:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("./validate.js"))&&i.__esModule?i:{default:i};n.default=function(t){if(!(0,r.default)(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}},{"./validate.js":541}],532:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,e,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)};var r=new Uint8Array(16)},{}],534:[function(t,e,n){"use strict";function i(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function r(t,e){return t<<e|t>>>32-e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=[];for(var a=0;a<o.length;++a)t.push(o.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,l=Math.ceil(s/16),u=new Array(l),h=0;h<l;++h){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[64*h+4*d]<<24|t[64*h+4*d+1]<<16|t[64*h+4*d+2]<<8|t[64*h+4*d+3];u[h]=c}u[l-1][14]=8*(t.length-1)/Math.pow(2,32),u[l-1][14]=Math.floor(u[l-1][14]),u[l-1][15]=8*(t.length-1)&4294967295;for(var f=0;f<l;++f){for(var p=new Uint32Array(80),g=0;g<16;++g)p[g]=u[f][g];for(var m=16;m<80;++m)p[m]=r(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);for(var v=n[0],y=n[1],b=n[2],w=n[3],x=n[4],_=0;_<80;++_){var C=Math.floor(_/20),S=r(v,5)+i(C,y,b,w)+x+e[C]+p[_]>>>0;x=w,w=b,b=r(y,30)>>>0,y=v,v=S}n[0]=n[0]+v>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},{}],535:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;for(var i,r=(i=t("./validate.js"))&&i.__esModule?i:{default:i},o=[],a=0;a<256;++a)o.push((a+256).toString(16).substr(1));n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase();if(!(0,r.default)(n))throw TypeError("Stringified UUID is invalid");return n}},{"./validate.js":541}],536:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("./rng.js")),r=o(t("./stringify.js"));function o(t){return t&&t.__esModule?t:{default:t}}var a,s,l=0,u=0;n.default=function(t,e,n){var o=e&&n||0,h=e||new Array(16),c=(t=t||{}).node||a,d=void 0!==t.clockseq?t.clockseq:s;if(null==c||null==d){var f=t.random||(t.rng||i.default)();null==c&&(c=a=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=s=16383&(f[6]<<8|f[7]))}var p=void 0!==t.msecs?t.msecs:Date.now(),g=void 0!==t.nsecs?t.nsecs:u+1,m=p-l+(g-u)/1e4;if(m<0&&void 0===t.clockseq&&(d=d+1&16383),(m<0||p>l)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,u=g,s=d;var v=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;h[o++]=v>>>24&255,h[o++]=v>>>16&255,h[o++]=v>>>8&255,h[o++]=255&v;var y=p/4294967296*1e4&268435455;h[o++]=y>>>8&255,h[o++]=255&y,h[o++]=y>>>24&15|16,h[o++]=y>>>16&255,h[o++]=d>>>8|128,h[o++]=255&d;for(var b=0;b<6;++b)h[o+b]=c[b];return e||(0,r.default)(h)}},{"./rng.js":533,"./stringify.js":535}],537:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("./v35.js")),r=o(t("./md5.js"));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,i.default)("v3",48,r.default);n.default=a},{"./md5.js":529,"./v35.js":538}],538:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){function o(t,o,a,s){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof o&&(o=(0,r.default)(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+t.length);if(l.set(o),l.set(t,o.length),(l=n(l))[6]=15&l[6]|e,l[8]=63&l[8]|128,a){s=s||0;for(var u=0;u<16;++u)a[s+u]=l[u];return a}return(0,i.default)(l)}try{o.name=t}catch(t){}return o.DNS=a,o.URL=s,o},n.URL=n.DNS=void 0;var i=o(t("./stringify.js")),r=o(t("./parse.js"));function o(t){return t&&t.__esModule?t:{default:t}}var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=a;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=s},{"./parse.js":531,"./stringify.js":535}],539:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("./rng.js")),r=o(t("./stringify.js"));function o(t){return t&&t.__esModule?t:{default:t}}n.default=function(t,e,n){var o=(t=t||{}).random||(t.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=o[a];return e}return(0,r.default)(o)}},{"./rng.js":533,"./stringify.js":535}],540:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("./v35.js")),r=o(t("./sha1.js"));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,i.default)("v5",80,r.default);n.default=a},{"./sha1.js":534,"./v35.js":538}],541:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("./regex.js"))&&i.__esModule?i:{default:i};n.default=function(t){return"string"==typeof t&&r.default.test(t)}},{"./regex.js":532}],542:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("./validate.js"))&&i.__esModule?i:{default:i};n.default=function(t){if(!(0,r.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},{"./validate.js":541}],543:[function(t,e,n){"use strict";function i(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r ---",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z-----------",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9--",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u"),n.S_LIST=[32,10,13,9],n.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return 32===t||10===t||13===t||9===t},n.isNameStartChar=i,n.isNameChar=function(t){return i(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},{}],544:[function(t,e,n){"use strict";function i(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="---",n.RESTRICTED_CHAR="-\b\v\f---",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z-----------",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9--",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u"),n.S_LIST=[32,10,13,9],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return 32===t||10===t||13===t||9===t},n.isNameStartChar=i,n.isNameChar=function(t){return i(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},{}],545:[function(t,e,n){"use strict";function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z------------",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9--",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},{}]},{},[15])(15)},"object"==b(e)?t.exports=a():(r=[],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(t.exports=o))},55056:function(t,e,n){"use strict";n.d(e,{VO:function(){return C},vI:function(){return S}});var i=n(94611),r=n.n(i),o=n(9982),a=n(28012),s=n(86243),l=n(86235),u=n(59190),h=n(53227);function c(t,e,n){let i;if(!(0,h.Z)(t)||"object"!=typeof t||e&&e(t))return t;const r=(0,o.Z)(t),d=t.length;i=r?new Array(d):"object"==typeof t?{}:(0,a.Z)(t)||(0,l.Z)(t)||(0,u.Z)(t)?t:(0,s.Z)(t)?new Date(+t):void 0;const f=r?void 0:Object.keys(Object(t));let p=-1;if(i)for(;++p<(f||t).length;){const r=f?f[p]:p,o=t[r];n&&n.includes(r.toString())?i[r]=o:i[r]=c(o,e,n)}return i}var d=function(t){return null!==t&&"function"!=typeof t&&Number.isFinite(t.length)};var f=t=>"object"==typeof t&&null!==t,p=n(6274);var g=function(t){if(!f(t)||!(0,p.Z)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function m(t,e,n=!1,i=!1){if(e){if(t===e)return;if((0,h.Z)(e)&&"object"==typeof e){const r=Object(e),a=[];for(const t in r)a.push(t);let{length:s}=a,l=-1;for(;s--;){const s=a[++l];!(0,h.Z)(r[s])||"object"!=typeof r[s]||i&&(0,o.Z)(t[s])?y(t,s,r[s]):v(t,e,s,n,i)}}}}function v(t,e,n,i=!1,r=!1){const a=t[n],s=e[n];let l=e[n],u=!0;if((0,o.Z)(s)){if(i)l=[];else if((0,o.Z)(a))l=a;else if(d(a)){l=new Array(a.length);let t=-1;const e=a.length;for(;++t<e;)l[t]=a[t]}}else g(s)?(l=null!=a?a:{},"function"!=typeof a&&"object"==typeof a||(l={})):u=!1;u&&m(l,s,i,r),y(t,n,l)}function y(t,e,n){(void 0!==n&&!function(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}(t[e],n)||void 0===n&&!(e in t))&&(t[e]=n)}var b=n(94742),w=n(41638);const x=(t,e)=>{var n,i;if(!(null==e?void 0:e.fields))return t;if(0===t.length)return t;const r=e.fields,o=t[0],a={},s=[];for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const l=r[e];if(!l.type){let i=o;e in o||(i=null!==(n=t.find((t=>e in t)))&&void 0!==n?n:o),l.type="number"==typeof i[e]?"linear":"ordinal"}let u;if("number"==typeof l.sortIndex&&(u={key:e,type:l.type,index:l.sortIndex,sortIndex:{},sortIndexCount:0,sortReverse:!0===l.sortReverse},s.push(u)),(null===(i=l.domain)||void 0===i?void 0:i.length)>0)if("ordinal"===l.type){l._domainCache={},a[e]=l;const t={};l.domain.forEach(((e,n)=>{t[e]=n,l._domainCache[e]=n})),u&&(u.sortIndex=t,u.sortIndexCount=l.domain.length)}else l.domain.length>=2&&(a[e]=l)}return Object.keys(a).length>0&&(t=t.filter((t=>{for(const e in a){const n=a[e];if("ordinal"===n.type){if(!(t[e]in n._domainCache))return!1}else if(n.domain[0]>t[e]||n.domain[1]<t[e])return!1}return!0}))),s.sort(((t,e)=>t.index-e.index)),t.sort(((t,e)=>function(t,e,n){for(let i=0;i<n.length;i++){const r=n[i];let o=0;if("ordinal"===r.type?(void 0===r.sortIndex[e[r.key]]&&(r.sortIndex[e[r.key]]=r.sortIndexCount++),void 0===r.sortIndex[t[r.key]]&&(r.sortIndex[t[r.key]]=r.sortIndexCount++),o=r.sortIndex[t[r.key]]-r.sortIndex[e[r.key]]):"linear"===r.type&&(o=t[r.key]-e[r.key]),r.sortReverse&&(o=-o),0!==o)return o}return 0}(t,e,s))),t};const _="_data-view-diff-rank";class C{constructor(t,e){let n;this.dataSet=t,this.options=e,this.isDataView=!0,this.target=new(r()),this.parseOption=null,this.transformsArr=[],this.isRunning=!1,this.rawData={},this.history=!1,this.parserData={},this.latestData={},this._fields=null,this.reRunAllTransform=(t={pushHistory:!0,emitMessage:!0})=>(this.isRunning=!0,this.resetTransformData(),this.transformsArr.forEach((e=>{this.executeTransform(e,{pushHistory:t.pushHistory,emitMessage:!1}),this.isLastTransform(e)&&this.diffLastData()})),this.isRunning=!1,!1!==t.emitMessage&&this.target.emit("change",[]),this),this.markRunning=()=>{this.isRunning=!0,this.target.emit("markRunning",[])},n=(null==e?void 0:e.name)?e.name:(0,w.F)("dataview"),this.name=n,(null==e?void 0:e.history)&&(this.history=e.history,this.historyData=[]),this.dataSet.setDataView(n,this),this.setFields(null==e?void 0:e.fields)}parse(t,e,n=!1){var i;this.isRunning=!0,n&&this.target.emit("beforeParse",[]),e&&(this.parseOption=e);const r=this.cloneParseData(t,e);if(null==e?void 0:e.type){const t=(null!==(i=this.dataSet.getParser(e.type))&&void 0!==i?i:this.dataSet.getParser("bytejson"))(r,e.options,this);this.rawData=r,this.parserData=t,this.history&&this.historyData.push(r,t),this.latestData=t}else this.parserData=r,this.rawData=r,this.history&&this.historyData.push(r),this.latestData=r;return this.isRunning=!1,n&&this.target.emit("afterParse",[]),this}transform(t,e=!0){if(this.isRunning=!0,t&&t.type){let n=!0;if("fields"===t.type){this._fields=t.options.fields;const e=this.transformsArr.findIndex((e=>e.type===t.type));e>=0&&(n=!1,this.transformsArr[e].options.fields=this._fields)}if(n&&this.transformsArr.push(t),e){const e=this.isLastTransform(t);this.executeTransform(t),e&&this.diffLastData()}}return this.sortTransform(),this.isRunning=!1,this}isLastTransform(t){return this.transformsArr[this.transformsArr.length-1]===t}sortTransform(){this.transformsArr.length>=2&&this.transformsArr.sort(((t,e)=>{var n,i;return(null!==(n=t.level)&&void 0!==n?n:0)-(null!==(i=e.level)&&void 0!==i?i:0)}))}executeTransform(t,e={pushHistory:!0,emitMessage:!0}){const{pushHistory:n,emitMessage:i}=e,r=this.dataSet.getTransform(t.type)(this.latestData,t.options);this.history&&!1!==n&&this.historyData.push(r),this.latestData=r,!1!==i&&this.target.emit("change",[])}resetTransformData(){this.latestData=this.parserData,this.history&&(this.historyData.length=0,this.historyData.push(this.rawData,this.parserData))}enableDiff(t){this._diffData=!0,this._diffKeys=t,this._diffMap=new Map,this._diffRank=0}disableDiff(){this._diffData=!1,this._diffMap=null,this._diffRank=null}resetDiff(){this._diffMap=new Map,this._diffRank=0}diffLastData(){var t;if(!this._diffData)return;if(!this.latestData.forEach)return;if(!(null===(t=this._diffKeys)||void 0===t?void 0:t.length))return;const e=this._diffRank+1;if(0===this._diffRank)this.latestData.forEach((t=>{t[_]=e,this._diffMap.set(this._diffKeys.reduce(((e,n)=>e+t[n]),""),t)})),this.latestDataAUD={add:Array.from(this.latestData),del:[],update:[]};else{let t;this.latestDataAUD={add:[],del:[],update:[]},this.latestData.forEach((n=>{n[_]=e,t=this._diffKeys.reduce(((t,e)=>t+n[e]),""),this._diffMap.get(t)?this.latestDataAUD.update.push(n):this.latestDataAUD.add.push(n),this._diffMap.set(t,n)})),this._diffMap.forEach(((t,n)=>{t[_]<e&&(this.latestDataAUD.del.push(t),this._diffMap.delete(n))}))}this._diffRank=e}cloneParseData(t,e){let n=!1;return t instanceof C||!0!==(null==e?void 0:e.clone)||(n=!0),n?c(t):t}parseNewData(t,e){this.parse(t,e||this.parseOption),this.reRunAllTransform()}updateRawData(t,e){const n=this.cloneParseData(t,e);this.rawData=n,this.parserData=n,this.latestData=n,this.reRunAllTransform()}getFields(){var t;return this._fields?this._fields:"dataview"===(null===(t=this.parseOption)||void 0===t?void 0:t.type)&&1===this.rawData.length&&this.rawData[0].getFields?this.rawData[0].getFields():null}setFields(t,e=!1){this._fields=t&&e?function(t,...e){let n=-1;const i=e.length;for(;++n<i;)m(t,e[n],!0);return t}({},this._fields,t):t;const n=this.transformsArr.find((t=>"fields"===t.type));!(0,b.Z)(this._fields)&&(0,b.Z)(n)?(this.dataSet.registerTransform("fields",x),this.transform({type:"fields",options:{fields:this._fields}},!1)):n&&(n.options.fields=this._fields)}destroy(){this.dataSet.removeDataView(this.name),this._diffMap=null,this._diffRank=null,this.latestData=null,this.rawData=null,this.parserData=null,this.transformsArr=null,this.target=null}}function S(t){return t instanceof C}},41638:function(t,e,n){"use strict";n.d(e,{F:function(){return r}});let i=0;function r(t="dataset"){return i>1e8&&(i=0),t+"_"+i++}},69723:function(t,e,n){"use strict";n.d(e,{J:function(){return d}});var i=n(22304),r=n(99350),o=n(95063),a=n(44474),s=n(85830),l=n(37646),u=n(73283),h=n(66060),c=n(27272);(0,l.M)(),(0,u.k)(),(0,h.g)(),(0,c.i)();class d extends r.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,i.Z)({},d.defaultAttributes,t)),this._handlePointerUp=()=>{this.attribute.disabled||(this.attribute.checked?(this.setAttribute("checked",!1),this.setAttribute("indeterminate",!1)):(this.setAttribute("checked",!0),this.setAttribute("indeterminate",!1)),this._dispatchEvent("checkbox_state_change",{eventType:"checkbox_state_change",checked:this.attribute.checked}),this.stage.renderNextFrame())},this.renderGroup(),this.onBeforeAttributeUpdate=(t,e,n)=>{"interactive"in t&&this.setAttribute("pickable",t.interactive),"disabled"in t&&this.setAttribute("cursor",t.disable?this.attribute.disableCursor:this.attribute.cursor)},this.addEventListener("pointerup",this._handlePointerUp)}render(){this.removeAllChild(!0),this.renderBox(),this.renderIcon(),this.renderText(),this.layout()}renderBox(){this._box=new o.U((0,i.Z)({},this.attribute.box));const t=this.attribute.checked||this.attribute.indeterminate;t&&this.attribute.disabled?this._box.setAttributes({fill:this.attribute.box.disableCheckedFill,stroke:this.attribute.box.disableCheckedStroke}):t?this._box.setAttributes({fill:this.attribute.box.checkedFill,stroke:this.attribute.box.checkedStroke}):this.attribute.disabled&&this._box.setAttributes({fill:this.attribute.box.disableFill}),this.appendChild(this._box)}renderIcon(){this._checkIcon=new a.E((0,i.Z)({image:this.attribute.icon.checkIconImage},this.attribute.icon)),this.appendChild(this._checkIcon),this._indeterminateIcon=new a.E((0,i.Z)({image:this.attribute.icon.indeterminateIconImage},this.attribute.icon)),this.appendChild(this._indeterminateIcon),this.attribute.checked?(this._checkIcon.setAttribute("visible",!0),this._indeterminateIcon.setAttribute("visible",!1)):this.attribute.indeterminate?(this._checkIcon.setAttribute("visible",!1),this._indeterminateIcon.setAttribute("visible",!0)):(this._checkIcon.setAttribute("visible",!1),this._indeterminateIcon.setAttribute("visible",!1))}renderText(){this._text=new s.x((0,i.Z)({wrap:!0},this.attribute.text)),this.attribute.disabled&&this._text.setAttribute("fill",this.attribute.text.disableFill),this.appendChild(this._text)}renderGroup(){this.attribute.interactive||this.setAttribute("pickable",!1),this.attribute.disabled&&this.setAttribute("cursor",this.attribute.disableCursor)}layout(){const t=this.attribute.box.height,e=this.attribute.icon.height,n=this._text.AABBBounds.height(),i=Math.max(t,e,n),r=i/2-t/2,o=i/2-e/2,a=i/2-n/2,s=this.attribute.box.width,l=this.attribute.icon.width,u=Math.max(s,l),h=u/2-s/2,c=u/2-l/2,d=u+this.attribute.spaceBetweenTextAndIcon;this._box.setAttributes({x:h,y:r}),this._checkIcon.setAttributes({x:c,y:o}),this._indeterminateIcon.setAttributes({x:c,y:o}),this._text.setAttributes({x:d,y:a})}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,i.Z)({},d.defaultAttributes,t),super.initAttributes(t),this.renderGroup(),this.render()}}d.defaultAttributes={interactive:!0,disabled:!1,checked:!1,indeterminate:!1,cursor:"pointer",disableCursor:"not-allowed",spaceBetweenTextAndIcon:8,text:{text:"text",fontSize:14,fill:"#000",disableFill:"rgb(201,205,212)",textBaseline:"top",pickable:!1},icon:{checkIconImage:'<svg width="200" height="200" viewBox="0 0 1024 1024" fill="#fff" xmlns="http://www.w3.org/2000/svg"><path d="M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z"></path></svg>',indeterminateIconImage:'<svg width="200" height="200" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none"><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="5" d="M5 12h14"/></svg>',width:10,height:10,pickable:!1},box:{width:14,height:14,cornerRadius:2,fill:"#fff",stroke:"rgb(229,230,235)",disableFill:"rgb(242,243,245)",checkedFill:"rgb(22, 93, 255)",checkedStroke:"rgb(22, 93, 255)",disableCheckedFill:"rgb(148, 191, 255)",disableCheckedStroke:"rgb(148, 191, 255)",pickable:!1}}},83691:function(t,e,n){"use strict";n.d(e,{$M:function(){return r},HW:function(){return o},Ze:function(){return s},eV:function(){return l},iR:function(){return i},n0:function(){return a}});Math.PI,Math.PI;const i="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",r=14;var o;!function(t){t.selected="selected",t.selectedReverse="selected_reverse",t.hover="hover",t.hoverReverse="hover_reverse"}(o||(o={}));const a={[o.selectedReverse]:{},[o.selected]:{},[o.hover]:{},[o.hoverReverse]:{}},s={container:"",width:30,height:30,style:{}},l="scrollDrag"},99350:function(t,e,n){"use strict";n.d(e,{k:function(){return h}});var i=n(92096),r=n(84303),o=n(12190),a=n(31479),s=n(22304),l=n(45644);const u=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","visible","clip","pickable","childrenPickable","zIndex","cursor"];class h extends i.ZA{constructor(t,e){super(t),(null==e?void 0:e.mode)&&(this.mode=e.mode,this.setMode(e.mode)),(null==e?void 0:e.skipDefault)&&(this.skipDefault=!0),this.setTheme({common:{strokeBoundsBuffer:0}}),this.attribute=t,this.onSetStage((()=>{this.render(),this.bindEvents()}))}setAttribute(t,e,n,i){const r=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[t]:e},this.attribute,t,i);if(r)return this._setAttributes(r,n);(0,o.Z)(this.attribute[t])&&(0,o.Z)(e)&&!(0,a.Z)(this.attribute[t])&&!(0,a.Z)(e)?(0,s.Z)(this.attribute[t],e):this.attribute[t]=e,u.includes(t)||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!n&&!this.needUpdateTag(t)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}setAttributes(t,e,n){return t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,n)||t,this._setAttributes(t,e)}_setAttributes(t,e){const n=Object.keys(t);this._mergeAttributes(t,n),n.every((t=>u.includes(t)))||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!e&&!this.needUpdateTags(n)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}_mergeAttributes(t,e){(0,l.Z)(e)&&(e=Object.keys(t));for(let n=0;n<e.length;n++){const i=e[n];!(0,o.Z)(this.attribute[i])||(0,a.Z)(this.attribute[i])||(0,a.Z)(t[i])?this.attribute[i]=t[i]:(0,s.Z)(this.attribute[i],t[i])}}bindEvents(){}_getNodeId(t){var e;return`${null!==(e=this.id)&&void 0!==e?e:this._uid}-${this.name}-${t}`}_dispatchEvent(t,e){var n;const i=new r.A(t,e);i.manager=null===(n=this.stage)||void 0===n?void 0:n.eventSystem.manager,this.dispatchEvent(i)}}},69083:function(t,e,n){"use strict";n.d(e,{C:function(){return h},q:function(){return u}});var i=n(22304),r=n(53967),o=n(37646),a=n(66060),s=n(58639),l=n(73283);function u(){(0,o.M)(),(0,a.g)(),(0,s.k)(),(0,l.k)()}function h(t){(0,i.Z)(r.r.poptip,r.t,t)}},53967:function(t,e,n){"use strict";n.d(e,{r:function(){return o},t:function(){return r}});var i=n(22304);const r={visible:!0,position:"auto",titleStyle:{fontSize:16,fill:"#08979c"},contentStyle:{fontSize:12,fill:"green"},panel:{visible:!0,fill:"#e6fffb",size:12,space:0,stroke:"#87e8de",lineWidth:1,cornerRadius:4}},o={poptip:(0,i.Z)({},r)}},15772:function(t,e,n){"use strict";n.d(e,{Y:function(){return w}});var i=n(22304),r=n(99350),o=n(67604),a=n(85830),s=n(37646),l=n(73283),u=n(68725),h=n(83406),c=n(92908),d=n(58488);const f=["heightLimit","lineClamp"];class p extends a.x{constructor(t){super(Object.assign(Object.assign({},t),{wrap:!0}))}_isValid(){const{text:t}=this.attribute;return(0,u.Z)(t)?!t.every((t=>null==t||""===t)):null!=t&&""!==t}updateMultilineAABBBounds(t){var e,n,i,r;const o=this.getGraphicTheme(),{fontFamily:a=o.fontFamily,textAlign:s=o.textAlign,textBaseline:l=o.textBaseline,fontSize:u=o.fontSize,ellipsis:f=o.ellipsis,maxLineWidth:p,stroke:g=o.stroke,lineWidth:m=o.lineWidth,wordBreak:v=o.wordBreak,fontWeight:y=o.fontWeight,ignoreBuf:b=o.ignoreBuf,heightLimit:w=0,suffixPosition:x=o.suffixPosition,lineClamp:_}=this.attribute,C=null!==(e=(0,d.VA)(this.attribute.lineHeight,this.attribute.fontSize||o.fontSize))&&void 0!==e?e:this.attribute.fontSize||o.fontSize,S=b?0:2;if(!this.shouldUpdateShape()&&(null===(n=this.cache)||void 0===n?void 0:n.layoutData)){const t=this.cache.layoutData.bbox;return this._AABBBounds.set(t.xOffset,t.yOffset,t.xOffset+t.width,t.yOffset+t.height),g&&this._AABBBounds.expand(m/2),this._AABBBounds}const M=c.w.graphicUtil.textMeasure,A=new h.j(a,{fontSize:u,fontWeight:y,fontFamily:a},M),T=t.map((t=>t.toString())),k=[],R=[0,0];let I=1/0;if(w>0&&(I=Math.max(Math.floor(w/C),1)),_&&(I=Math.min(I,_)),"number"==typeof p&&p!==1/0){if(p>0)for(let t=0;t<T.length;t++){const e=T[t];let n=!0;if(t===I-1){const t=A.textMeasure.clipTextWithSuffix(e,A.textOptions,p,f,!1,x);k.push({str:t.str,width:t.width,ascent:0,descent:0,keepCenterInLine:!1});break}const o=A.textMeasure.clipText(e,A.textOptions,p,"break-word"===v);if(""!==e&&""===o.str){if(f){const t=A.textMeasure.clipTextWithSuffix(e,A.textOptions,p,f,!1,x);o.str=null!==(i=t.str)&&void 0!==i?i:"",o.width=null!==(r=t.width)&&void 0!==r?r:0}else o.str="",o.width=0;n=!1}if(k.push({str:o.str,width:o.width,ascent:0,descent:0,keepCenterInLine:!1}),o.str.length===e.length);else if(n){const n=e.substring(o.str.length);T.splice(t+1,0,n)}}let t=0;k.forEach((e=>{t=Math.max(t,e.width)})),R[0]=t}else{let t,e,n=0;for(let i=0,r=T.length;i<r;i++){if(i===I-1){const t=A.textMeasure.clipTextWithSuffix(T[i],A.textOptions,p,f,!1,x);k.push({str:t.str,width:t.width,ascent:0,descent:0,keepCenterInLine:!1}),n=Math.max(n,t.width);break}e=T[i],t=A.textMeasure.measureTextWidth(e,A.textOptions,"break-word"===v),n=Math.max(n,t),k.push({str:e,width:t,ascent:0,descent:0,keepCenterInLine:!1})}R[0]=n}R[1]=k.length*(C+S);const P={xOffset:0,yOffset:0,width:R[0],height:R[1]};A.LayoutBBox(P,s,l);const E=A.layoutWithBBox(P,k,s,l,C);return this.cache.layoutData=E,this.clearUpdateShapeTag(),this._AABBBounds.set(P.xOffset,P.yOffset,P.xOffset+P.width,P.yOffset+P.height),g&&this._AABBBounds.expand(m/2),this._AABBBounds}needUpdateTags(t){for(let e=0;e<f.length;e++){const n=f[e];if(-1!==t.indexOf(n))return!0}return super.needUpdateTags(t)}needUpdateTag(t){for(let e=0;e<f.length;e++)if(t===f[e])return!0;return super.needUpdateTag(t)}getNoWorkAnimateAttr(){return p.NOWORK_ANIMATE_ATTR}}function g(t){return new p(t)}var m=n(62071);function v(){v.__loaded||(v.__loaded=!0,m.i.RegisterGraphicCreator("wrapText",g))}v.__loaded=!1;const y=v;var b=n(27272);(0,s.M)(),(0,l.k)(),y(),(0,b.i)();class w extends r.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,i.Z)({},w.defaultAttributes,t)),this._handlePointerUp=()=>{this.attribute.disabled||this.attribute.checked||(this.setAttribute("checked",!0),this._dispatchEvent("radio_checked",{eventType:"radio_checked",target:this}),this.stage.renderNextFrame())},this.renderGroup(),this.onBeforeAttributeUpdate=(t,e,n)=>{"interactive"in t&&this.setAttribute("pickable",t.interactive),"disabled"in t&&this.setAttribute("cursor",t.disable?this.attribute.disableCursor:this.attribute.cursor)},this.addEventListener("pointerup",this._handlePointerUp)}render(){this.removeAllChild(!0),this.renderCircle(),this.renderText(),this.layout()}renderCircle(){this._circle=new o.w((0,i.Z)({},this.attribute.circle));const t=this.attribute.checked;t&&this.attribute.disabled?this._circle.setAttributes({fill:this.attribute.circle.disableCheckedFill,stroke:this.attribute.circle.disableCheckedStroke}):t?this._circle.setAttributes({fill:this.attribute.circle.checkedFill,stroke:this.attribute.circle.checkedStroke}):this.attribute.disabled&&this._circle.setAttributes({fill:this.attribute.circle.disableFill}),this.appendChild(this._circle)}renderText(){this._text=new a.x((0,i.Z)({},this.attribute.text)),this.attribute.disabled&&this._text.setAttribute("fill",this.attribute.text.disableFill),this.appendChild(this._text)}renderGroup(){this.attribute.interactive||this.setAttribute("pickable",!1),this.attribute.disabled&&this.setAttribute("cursor",this.attribute.disableCursor)}layout(){const t=2*(this.attribute.circle.outerRadius+this.attribute.circle.lineWidth),e=this._text.AABBBounds.height(),n=Math.max(t,e),i=n/2-t/2+this.attribute.circle.outerRadius+this.attribute.circle.lineWidth,r=n/2-e/2,o=2*(this.attribute.circle.outerRadius+this.attribute.circle.lineWidth),a=this.attribute.circle.outerRadius+this.attribute.circle.lineWidth,s=o+this.attribute.spaceBetweenTextAndIcon;this._circle.setAttributes({x:a,y:i}),this._text.setAttributes({x:s,y:r})}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,i.Z)({},w.defaultAttributes,t),super.initAttributes(t),this.renderGroup(),this.render()}}w.defaultAttributes={interactive:!0,disabled:!1,checked:!1,cursor:"pointer",disableCursor:"not-allowed",spaceBetweenTextAndIcon:8,text:{text:"text",fontSize:14,fill:"#000",disableFill:"rgb(201,205,212)",textBaseline:"top",pickable:!1},circle:{outerRadius:7,innerRadius:3,startAngle:0,endAngle:2*Math.PI,lineWidth:1,fill:"#fff",stroke:"rgb(229,230,235)",disableFill:"rgb(242,243,245)",checkedFill:"rgb(22, 93, 255)",checkedStroke:"rgb(22, 93, 255)",disableCheckedFill:"rgb(148, 191, 255)",disableCheckedStroke:"rgb(148, 191, 255)",pickable:!1}}},53908:function(t,e,n){"use strict";n.d(e,{M:function(){return o}});var i=n(37646),r=n(73283);function o(){(0,i.M)(),(0,r.k)()}},17705:function(t,e,n){"use strict";n.d(e,{B:function(){return p}});var i=n(36656),r=n(75467),o=n(21020),a=n(22304),s=n(59636),l=n(24930),u=n(95344),h=n(99350),c=n(53908),d=n(83691);const f={debounce:r.Z,throttle:o.Z};(0,c.M)();class p extends h.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},p.defaultAttributes,t)),this.name="scrollbar",this._onRailPointerDown=t=>{const{viewX:e,viewY:n}=t,{direction:i,width:r,height:o,range:a}=this.attribute,l=this._sliderSize,[u,h]=this._getScrollRange();let c;if("vertical"===i){const t=n-this._viewPosition.y,e=(0,s.Z)(t-l/2,u,h);c=t/o,this._slider.setAttribute("y",e,!0)}else{const t=e-this._viewPosition.x,n=(0,s.Z)(t-l/2,u,h);c=t/r,this._slider.setAttribute("x",n,!0)}this.setScrollRange([c-(a[1]-a[0])/2,c+(a[1]-a[0])/2],!1),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()},this._onSliderPointerDown=t=>{const{stopSliderDownPropagation:e=!0}=this.attribute;e&&t.stopPropagation();const{direction:n}=this.attribute,{x:r,y:o}=this.stage.eventPointTransform(t);this._prePos="horizontal"===n?r:o,this._dispatchEvent("scrollDown",{pos:this._prePos,event:t}),"browser"===i.rF.env?(i.rF.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),i.rF.addEventListener("pointerup",this._onSliderPointerUp)):(this.stage.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),this.stage.addEventListener("pointerup",this._onSliderPointerUp),this.stage.addEventListener("pointerupoutside",this._onSliderPointerUp))},this._computeScrollValue=t=>{const{direction:e}=this.attribute,{x:n,y:i}=this.stage.eventPointTransform(t);let r,o,a=0;const{width:s,height:l}=this.getSliderRenderBounds();return"vertical"===e?(o=i,a=o-this._prePos,r=a/l):(o=n,a=o-this._prePos,r=a/s),[o,r]},this._onSliderPointerMove=t=>{const{stopSliderMovePropagation:e=!0}=this.attribute;e&&t.stopPropagation();const n=this.getScrollRange(),[i,r]=this._computeScrollValue(t);this.setScrollRange([n[0]+r,n[1]+r],!0),this._prePos=i},this._onSliderPointerMoveWithDelay=0===this.attribute.delayTime?this._onSliderPointerMove:f[this.attribute.delayType](this._onSliderPointerMove,this.attribute.delayTime),this._onSliderPointerUp=t=>{t.preventDefault();const{realTime:e=!0,range:n,limitRange:r=[0,1]}=this.attribute,o=this.getScrollRange(),[a,s]=this._computeScrollValue(t),u=[o[0]+s,o[1]+s];this._dispatchEvent("scrollUp",{pre:n,value:(0,l.Z)(u,r[0],r[1])}),"browser"===i.rF.env?(i.rF.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),i.rF.removeEventListener("pointerup",this._onSliderPointerUp)):(this.stage.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),this.stage.removeEventListener("pointerup",this._onSliderPointerUp),this.stage.removeEventListener("pointerupoutside",this._onSliderPointerUp))}}setScrollRange(t,e=!0){const{direction:n="horizontal",limitRange:i=[0,1],range:r,realTime:o=!0}=this.attribute,a=(0,l.Z)(t,i[0],i[1]);if(e){const t=this._getSliderPos(a);if(this._slider){const e=t[1]-t[0];this._sliderSize=e,"horizontal"===n?this._slider.setAttributes({x:t[0],width:e},!0):this._slider.setAttributes({y:t[0],height:e},!0),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()}}this.attribute.range=a,o&&this._dispatchEvent(d.eV,{pre:r,value:a})}getScrollRange(){return this.attribute.range}bindEvents(){if(this.attribute.disableTriggerEvent)return;const{delayType:t="throttle",delayTime:e=0}=this.attribute;this._rail&&this._rail.addEventListener("pointerdown",f[t](this._onRailPointerDown,e)),this._slider&&this._slider.addEventListener("pointerdown",this._onSliderPointerDown)}render(){this._reset();const{direction:t="horizontal",width:e,height:n,range:i,limitRange:r=[0,1],railStyle:o,sliderStyle:a,padding:s=2}=this.attribute,h=this.createOrUpdateChild("scrollbar-container",{},"group"),c=h.createOrUpdateChild("scrollbar-rail",Object.assign({x:0,y:0,width:e,height:n},o),"rect");this._rail=c;const d=this.getSliderRenderBounds(),f=this._getSliderPos((0,l.Z)(i,r[0],r[1])),p=f[1]-f[0];let g;this._sliderSize=p,g="horizontal"===t?{x:f[0],y:d.y1,width:p,height:d.height}:{x:d.x1,y:f[0],width:d.width,height:p};const m=h.createOrUpdateChild("slider",Object.assign(Object.assign(Object.assign(Object.assign({},g),{cornerRadius:this._getDefaultSliderCornerRadius()}),a),{boundsPadding:(0,u.o)(s),pickMode:"imprecise"}),"rect");this._slider=m,this._container=h;const v=this._container.AABBBounds;this._viewPosition={x:v.x1,y:v.y1}}getSliderRenderBounds(){if(this._sliderRenderBounds)return this._sliderRenderBounds;const{width:t,height:e,padding:n=2}=this.attribute,[i,r,o,a]=(0,u.o)(n),s={x1:a,y1:i,x2:t-r,y2:e-o,width:Math.max(0,t-(a+r)),height:Math.max(0,e-(i+o))};return this._sliderRenderBounds=s,s}_getDefaultSliderCornerRadius(){const{direction:t,round:e}=this.attribute;if(e){const{width:e,height:n}=this.getSliderRenderBounds();return"horizontal"===t?n:e}return 0}_getSliderPos(t){const{direction:e}=this.attribute,{width:n,height:i,x1:r,y1:o}=this.getSliderRenderBounds();return"horizontal"===e?[n*t[0]+r,n*t[1]+r]:[i*t[0]+o,i*t[1]+o]}_getScrollRange(){if(this._sliderLimitRange)return this._sliderLimitRange;const{limitRange:t=[0,1],direction:e}=this.attribute,[n,i]=(0,l.Z)(t,0,1),{width:r,height:o,x1:a,y1:s}=this.getSliderRenderBounds(),u=this._sliderSize;return"horizontal"===e?(0,l.Z)([a+n*r,a+i*r],a,r-u):(0,l.Z)([s+n*o,s+i*o],s,o-u)}_reset(){this._sliderRenderBounds=null,this._sliderLimitRange=null}}p.defaultAttributes={direction:"horizontal",round:!0,sliderSize:20,sliderStyle:{fill:"rgba(0, 0, 0, .5)"},railStyle:{fill:"rgba(0, 0, 0, .0)"},padding:2,scrollRange:[0,1],delayType:"throttle",delayTime:0,realTime:!0}},93346:function(t,e,n){"use strict";n.d(e,{b:function(){return l}});var i=n(37646),r=n(73283),o=n(58639),a=n(41650),s=n(66060);function l(){(0,i.M)(),(0,r.k)(),(0,o.k)(),(0,a.v)(),(0,s.g)()}},95044:function(t,e,n){"use strict";n.d(e,{V:function(){return m}});var i=n(37806),r=n(22304),o=n(95344),a=n(2465),s=n(66990),l=n(19387),u=n(70375),h=n(47505),c=n(45644),d=n(99350),f=n(24929),p=n(93346),g=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};(0,p.b)();class m extends d.k{getBgRect(){return this._bgRect}getTextShape(){return this._textShape}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,r.Z)({},m.defaultAttributes,t)),this.name="tag",this._tagStates=[],this._rectStates=[],this._symbolStates=[],this._textStates=[]}render(){var t,e,n;this.cacheStates();const{text:r="",textStyle:d={},shape:p={},panel:m={},space:v=4,minWidth:y,maxWidth:b,padding:w=4,visible:x,state:_,type:C,textAlwaysCenter:S,containerTextAlign:M}=this.attribute,A=(0,o.o)(w),T=this.createOrUpdateChild("tag-content",{x:0,y:0,zIndex:1},"group");let k,R=-A[3],I=-A[0],P=A[1]+A[3],E=A[0]+A[2],B=0,L=0;const{visible:D}=p,O=g(p,["visible"]);if((0,a.Z)(D)){const t=(null==O?void 0:O.size)||10,e=(0,s.Z)(t)?t:Math.max(t[0],t[1]);k=T.createOrUpdateChild("tag-shape",Object.assign(Object.assign({symbolType:"circle",size:t,strokeBoundsBuffer:0},O),{visible:D,x:e/2,y:e/2}),"symbol"),(0,l.Z)(null==_?void 0:_.shape)||(k.states=_.shape),D&&(L=e+v)}let F;if(P+=L,B+=L,(0,f.TV)({text:r})||"rich"===C){const t=Object.assign(Object.assign(Object.assign({},(0,f.ut)(Object.assign({type:C,text:r},d))),d),{visible:(0,u.Z)(r)&&!1!==x,x:B,y:0});F=T.createOrUpdateChild("tag-text",t,"richtext"),P+=F.AABBBounds.width(),E+=F.AABBBounds.height(),R+=F.AABBBounds.x1,I+=F.AABBBounds.y1}else{const i=Object.assign(Object.assign({text:(0,h.Z)(r)&&"type"in r&&"text"===r.type?r.text:r,visible:(0,u.Z)(r)&&!1!==x,lineHeight:null==d?void 0:d.fontSize},d),{x:B,y:0});(0,c.Z)(i.lineHeight)&&(i.lineHeight=d.fontSize),F=T.createOrUpdateChild("tag-text",i,"text"),(0,l.Z)(null==_?void 0:_.text)||(F.states=_.text);const o=(0,f.fe)(i.text,d,null===(e=null===(t=this.stage)||void 0===t?void 0:t.getTheme())||void 0===e?void 0:e.text),a=o.width,g=o.height;P+=a;const m=null!==(n=p.size)&&void 0!==n?n:10,v=(0,s.Z)(m)?m:Math.max(m[0],m[1]);E+=Math.max(g,p.visible?v:0);const{textAlign:w,textBaseline:C}=d;((0,u.Z)(y)||(0,u.Z)(b))&&((0,u.Z)(y)&&P<y&&(P=y),(0,u.Z)(b)&&P>b&&(P=b,F.setAttribute("maxLineWidth",b-A[1]-A[2]))),R=0,I=0;let D=0;"left"===w||"start"===w?D=1:"right"===w||"end"===w?D=-1:"center"===w&&(D=0),D?D<0?(R-=P,k&&k.setAttribute("x",(k.attribute.x||0)-a),T.setAttribute("x",-A[1]-L)):D>0&&T.setAttribute("x",A[3]):(R-=P/2,k&&k.setAttribute("x",(k.attribute.x||0)-a/2),T.setAttribute("x",-L/2));const O="right"===M||"end"===M,H="left"===M||"start"===M;if((M?"center"===M:S)&&D){const t=P-A[1]-A[3],e=a+L,n=1===D?(t-e)/2+L+a/2:A[0]+L-(P/2+e/2-L)+a/2;if(F.setAttributes({x:n,textAlign:"center"}),k){const t=n-a/2-L+v/2;k.setAttributes({x:t})}}if(H&&1!==D){const t=P-A[1]-A[3],e=0===D?-t/2+L/2:-P+A[3]+A[1]+L,n=e+L;if(F.setAttributes({x:n,textAlign:"left"}),k){const t=e+v/2;k.setAttributes({x:t})}}if(O&&-1!==D){const t=P-A[1]-A[3],e=0===D?t/2+L/2:t;if(F.setAttributes({x:e,textAlign:"right"}),k){const t=e-a-L+v/2;k.setAttributes({x:t})}}"middle"===C?(I-=E/2,k&&k.setAttribute("y",0)):"bottom"===C?(I-=E,k&&k.setAttribute("y",-g/2),T.setAttribute("y",-A[2])):"top"===C&&(T.setAttribute("y",A[0]),k&&k.setAttribute("y",g/2))}const{visible:H}=m,N=g(m,["visible"]);if(x&&(0,a.Z)(H)){const t=this.createOrUpdateChild("tag-panel",Object.assign(Object.assign({},N),{visible:H&&!!r,width:P,height:E,x:R,y:I}),"rect");if((0,l.Z)(null==_?void 0:_.panel)||(t.states=_.panel),N.customShape){const e=N.customShape;t.pathProxy=t=>e(this,t,new i.r)}this._bgRect=t}this._textShape=F,this._symbol=k,this.resetStates()}initAttributes(t,e){t=(null==e?void 0:e.skipDefault)?t:(0,r.Z)({},m.defaultAttributes,t),super.initAttributes(t),this.render()}addState(t,e,n){super.addState(t,e,n),this._textShape&&this._textShape.addState(t,e,n),this._bgRect&&this._bgRect.addState(t,e,n),this._symbol&&this._symbol.addState(t,e,n)}removeState(t,e){super.removeState(t,e),this._textShape&&this._textShape.removeState(t,e),this._bgRect&&this._bgRect.removeState(t,e),this._symbol&&this._symbol.removeState(t,e)}cacheStates(){var t,e,n,i,r,o,a,s,l,u,h,c,d,f;this._tagStates=null!==(e=null===(t=this.currentStates)||void 0===t?void 0:t.slice())&&void 0!==e?e:[],this._rectStates=null!==(r=null===(i=null===(n=this._bgRect)||void 0===n?void 0:n.currentStates)||void 0===i?void 0:i.slice())&&void 0!==r?r:[],this._symbolStates=null!==(s=null===(a=null===(o=this._symbol)||void 0===o?void 0:o.currentStates)||void 0===a?void 0:a.slice())&&void 0!==s?s:[],this._textStates=null!==(h=null===(u=null===(l=this._textShape)||void 0===l?void 0:l.currentStates)||void 0===u?void 0:u.slice())&&void 0!==h?h:[],this.clearStates(),null===(c=this._bgRect)||void 0===c||c.clearStates(),null===(d=this._symbol)||void 0===d||d.clearStates(),null===(f=this._textShape)||void 0===f||f.clearStates()}resetStates(){var t,e,n;this._tagStates.length&&this.useStates(this._tagStates),this._rectStates.length&&(null===(t=this._bgRect)||void 0===t||t.useStates(this._rectStates)),this._symbolStates.length&&(null===(e=this._symbol)||void 0===e||e.useStates(this._symbolStates)),this._textStates.length&&(null===(n=this._textShape)||void 0===n||n.useStates(this._textStates))}}m.defaultAttributes={visible:!0,textStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},space:4,padding:4,shape:{fill:"#000"}}},24929:function(t,e,n){"use strict";n.d(e,{TV:function(){return c},fe:function(){return h},gM:function(){return u},ut:function(){return f},vS:function(){return p}});var i=n(69543),r=n(62071),o=n(58697),a=n(47505),s=n(70375),l=n(83691);const u=(t,e,n,r)=>new o.e(Object.assign({defaultFontParams:Object.assign({fontFamily:l.iR,fontSize:l.$M},r),getTextBounds:n?void 0:i.o,specialCharSet:"-/: .,@%'\"~"+o.e.ALPHABET_CHAR_SET+o.e.ALPHABET_CHAR_SET.toUpperCase()},null!=e?e:{}),t);function h(t,e,n={}){if(!t)return{width:0,height:0};const r=(0,i.o)({text:t,fontFamily:e.fontFamily||n.fontFamily||l.iR,fontSize:e.fontSize||n.fontSize||12,fontWeight:e.fontWeight||n.fontWeight,textAlign:e.textAlign||"center",textBaseline:e.textBaseline,ellipsis:!!e.ellipsis,maxLineWidth:e.maxLineWidth||1/0,lineHeight:e.fontSize||n.fontSize||12});return{width:r.width(),height:r.height()}}function c(t,e="type"){return"rich"===d(t,e)}function d(t,e="type"){var n,i;return(0,a.Z)(t.text)&&"type"in t.text?null!==(n=t.text.type)&&void 0!==n?n:"text":e in t&&null!==(i=t[e])&&void 0!==i?i:"text"}function f(t){var e,n;return(0,s.Z)(t.maxLineWidth)&&(t.maxWidth=t.maxLineWidth,delete t.maxLineWidth),t.width=null!==(e=t.width)&&void 0!==e?e:0,t.height=null!==(n=t.height)&&void 0!==n?n:0,t.textConfig=t.text.text||t.text,t}function p(t,e="type"){const n=d(t,e);return"rich"===n?r.i.richtext(f(t)):("html"===n?t=function(t){const{text:e,_originText:n}=t,{text:i}=e;return t.html=i,t.text=n,t.renderable=!1,t}(t):"react"===n&&(t=function(t){const{text:e,_originText:n}=t,{text:i}=e;return t.react=i,t.text=n,t.renderable=!1,t}(t)),r.i.text(t))}},64554:function(t,e,n){"use strict";n.d(e,{et:function(){return r}});var i=n(94378);Symbol.for("BoundsAllocate");const r=new class{constructor(){this.pools=[];for(let t=0;t<10;t++)this.pools.push(new i.FB)}allocate(t,e,n,r){if(!this.pools.length)return(new i.FB).setValue(t,e,n,r);const o=this.pools.pop();return o.x1=t,o.y1=e,o.x2=n,o.y2=r,o}allocateByObj(t){if(!this.pools.length)return new i.FB(t);const e=this.pools.pop();return e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}},79018:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var i=n(92908),r=n(96749);const o=new class{constructor(){this.pools=[],this.allocatedCanvas=[]}shareCanvas(){return this.allocatedCanvas.length?this.allocatedCanvas[0]:this.getCommonCanvas()}getCommonCanvas(){return this._commonCanvas||(this._commonCanvas=this.allocate({width:100,height:100,dpr:2})),this._commonCanvas}allocate(t){if(!this.pools.length){const e=(0,r.JN)(Object.assign({nativeCanvas:i.w.global.createCanvas(t)},t));return this.allocatedCanvas.push(e),e}const e=this.pools.pop();return e.resize(t.width,t.height),e.dpr=t.dpr,e}allocateByObj(t){if(!this.pools.length){const e={width:t.width/t.dpr,height:t.height/t.dpr,dpr:t.dpr},n=(0,r.JN)(Object.assign({nativeCanvas:i.w.global.createCanvas(e)},e));return this.allocatedCanvas.push(n),n}const e=this.pools.pop();return e.width=t.width,e.height=t.height,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}},63076:function(t,e,n){"use strict";n.d(e,{QE:function(){return a},yp:function(){return s}});var i=n(65087),r=n(67161);Symbol.for("MatrixAllocate"),Symbol.for("Mat4Allocate");class o{constructor(){this.pools=[]}static identity(t){return(0,r.TL)(t)}allocate(){if(!this.pools.length)return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];const t=this.pools.pop();return o.identity(t),t}allocateByObj(t){let e;e=this.pools.length?this.pools.pop():[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(let n=0;n<e.length;n++)e[n]=t[n];return e}free(t){t&&this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}}const a=new class{constructor(){this.pools=[]}allocate(t,e,n,r,o,a){if(!this.pools.length)return new i.y(t,e,n,r,o,a);const s=this.pools.pop();return s.a=t,s.b=e,s.c=n,s.d=r,s.e=o,s.f=a,s}allocateByObj(t){if(!this.pools.length)return new i.y(t.a,t.b,t.c,t.d,t.e,t.f);const e=this.pools.pop();return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f,e}free(t){this.pools.push(t)}get length(){return this.pools.length}release(...t){this.pools=[]}},s=new o},8527:function(t,e,n){"use strict";n.d(e,{rd:function(){return u},rs:function(){return c}});var i=n(21448),r=n(57343);class o{constructor(){}static linear(t){return t}static none(){return this.linear}static get(t){return t<-1?t=-1:t>1&&(t=1),function(e){return 0===t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}}static getPowIn(t){return function(e){return Math.pow(e,t)}}static getPowOut(t){return function(e){return 1-Math.pow(1-e,t)}}static getPowInOut(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}}static getBackIn(t){return function(e){return e*e*((t+1)*e-t)}}static getBackOut(t){return function(e){return--e*e*((t+1)*e+t)+1}}static getBackInOut(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}static sineIn(t){return 1-Math.cos(t*Math.PI/2)}static sineOut(t){return Math.sin(t*Math.PI/2)}static sineInOut(t){return-(Math.cos(Math.PI*t)-1)/2}static expoIn(t){return 0===t?0:Math.pow(2,10*t-10)}static expoOut(t){return 1===t?1:1-Math.pow(2,-10*t)}static expoInOut(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}static circIn(t){return-(Math.sqrt(1-t*t)-1)}static circOut(t){return Math.sqrt(1- --t*t)}static circInOut(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}static bounceOut(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}static bounceIn(t){return 1-o.bounceOut(1-t)}static bounceInOut(t){return t<.5?.5*o.bounceIn(2*t):.5*o.bounceOut(2*t-1)+.5}static getElasticIn(t,e){return function(n){if(0===n||1===n)return n;const i=e/r.f7*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r.f7/e)}}static getElasticOut(t,e){return function(n){if(0===n||1===n)return n;const i=e/r.f7*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*r.f7/e)+1}}static getElasticInOut(t,e){return function(n){const i=e/r.f7*Math.asin(1/t);return(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r.f7/e)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*r.f7/e)*.5+1}}}o.quadIn=o.getPowIn(2),o.quadOut=o.getPowOut(2),o.quadInOut=o.getPowInOut(2),o.cubicIn=o.getPowIn(3),o.cubicOut=o.getPowOut(3),o.cubicInOut=o.getPowInOut(3),o.quartIn=o.getPowIn(4),o.quartOut=o.getPowOut(4),o.quartInOut=o.getPowInOut(4),o.quintIn=o.getPowIn(5),o.quintOut=o.getPowOut(5),o.quintInOut=o.getPowInOut(5),o.backIn=o.getBackIn(1.7),o.backOut=o.getBackOut(1.7),o.backInOut=o.getBackInOut(1.7),o.elasticIn=o.getElasticIn(1,.3),o.elasticOut=o.getElasticOut(1,.3),o.elasticInOut=o.getElasticInOut(1,.3*1.5);var a=n(81813),s=n(85212),l=n(19122);class u{constructor(t,e,n,i,r){this.from=t,this.to=e,this.duration=n,this.easing=i,this.params=r,this.updateCount=0}bind(t,e){this.target=t,this.subAnimate=e,this.onBind()}onBind(){}onFirstRun(){}onStart(){}onEnd(){}getEndProps(){return this.to}getFromProps(){return this.from}getMergedEndProps(){var t;const e=this.getEndProps();return e?this._endProps===e?this._mergedEndProps:(this._endProps=e,void(this._mergedEndProps=Object.assign({},null!==(t=this.step.prev.getLastProps())&&void 0!==t?t:{},e))):this.step.prev?this.step.prev.getLastProps():e}update(t,e,n){if(0===this.updateCount){this.onFirstRun();const t=this.step.getLastProps();Object.keys(t).forEach((e=>{this.subAnimate.animate.validAttr(e)&&(n[e]=t[e])}))}this.updateCount+=1,this.onUpdate(t,e,n),t&&this.onEnd()}}class h extends u{constructor(t){super(null,null,0,"linear"),this.cb=t}onUpdate(t,e,n){}onStart(){this.cb()}}class c{constructor(t=l.R.GenAutoIncrementId(),e=s.P,n){this.id=t,this.timeline=e,this.status=i.td.INITIAL,this.tailAnimate=new d(this),this.subAnimates=[this.tailAnimate],this.timeScale=1,this.rawPosition=-1,this._startTime=0,this._duringTime=0,this.timeline.addAnimate(this),this.slience=n}setTimeline(t){t!==this.timeline&&(this.timeline.removeAnimate(this,!1),t.addAnimate(this))}getStartTime(){return this._startTime}getDuration(){return this.subAnimates.reduce(((t,e)=>t+e.totalDuration),0)}after(t){const e=t.getDuration();return this._startTime=e,this}afterAll(t){let e=-1/0;return t.forEach((t=>{e=(0,r.Fp)(t.getDuration(),e)})),this._startTime=e,this}parallel(t){return this._startTime=t.getStartTime(),this}static AddInterpolate(t,e){c.interpolateMap.set(t,e)}play(t){if(this.tailAnimate.play(t),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return 1===this.subAnimates.length&&this.tailAnimate.totalDuration===t.duration&&this.trySetAttribute(t.getFromProps(),t.mode),this}trySetAttribute(t,e=c.mode){t&&e&i.uq.SET_ATTR_IMMEDIATELY&&this.target.setAttributes&&this.target.setAttributes(t,!1,{type:i.Gk.ANIMATE_PLAY})}runCb(t){const e=new h((()=>{t(this,e.step.prev)}));return this.tailAnimate.play(e),this}customInterpolate(t,e,n,i,r,o){const a=c.interpolateMap.get(t)||c.interpolateMap.get("");return!!a&&a(t,e,n,i,r,o)}pause(){this.status===i.td.RUNNING&&(this.status=i.td.PAUSED)}resume(){this.status===i.td.PAUSED&&(this.status=i.td.RUNNING)}to(t,e,n,i){if(this.tailAnimate.to(t,e,n,i),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}from(t,e,n,i){if(this.tailAnimate.from(t,e,n,i),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}wait(t){if(this.tailAnimate.wait(t),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}startAt(t){if(this.tailAnimate.startAt(t),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}loop(t){if(this.tailAnimate.loop=t,this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}reversed(t){if(this.tailAnimate.reversed=t,this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}bounce(t){if(this.tailAnimate.bounce=t,this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}subAnimate(){const t=new d(this,this.tailAnimate);return this.tailAnimate=t,this.subAnimates.push(t),t.bind(this.target),this}getStartProps(){return this.subAnimates[0].getStartProps()}getEndProps(){return this.tailAnimate.getEndProps()}depreventAttr(t){this._preventAttrs&&this._preventAttrs.delete(t)}preventAttr(t){this._preventAttrs||(this._preventAttrs=new Set),this._preventAttrs.add(t)}preventAttrs(t){t.forEach((t=>this.preventAttr(t)))}validAttr(t){return!this._preventAttrs||!this._preventAttrs.has(t)}bind(t){return this.target=t,this.target.onAnimateBind&&!this.slience&&this.target.onAnimateBind(this),this.subAnimates.forEach((e=>{e.bind(t)})),this}advance(t){if(this._duringTime<this._startTime){if(this._duringTime+t*this.timeScale<this._startTime)return void(this._duringTime+=t*this.timeScale);t=this._duringTime+t*this.timeScale-this._startTime,this._duringTime=this._startTime}this.status===i.td.INITIAL&&(this.status=i.td.RUNNING,this._onStart&&this._onStart.forEach((t=>t()))),this.setPosition(Math.max(this.rawPosition,0)+t*this.timeScale)&&this.status===i.td.RUNNING&&(this.status=i.td.END,this._onEnd&&this._onEnd.forEach((t=>t())))}setPosition(t){let e,n=0;const i=this.rawPosition,r=this.subAnimates.reduce(((t,e)=>t+e.totalDuration),0);t<0&&(t=0);const o=t>=r;if(o&&(t=r),t===i)return o;for(let i=0;i<this.subAnimates.length&&(e=this.subAnimates[i],!(n+e.totalDuration>=t));i++)n+=e.totalDuration,e=void 0;return this.rawPosition=t,e.setPosition(t-n),o}onStart(t){this._onStart||(this._onStart=[]),this._onStart.push(t)}onEnd(t){this._onEnd||(this._onEnd=[]),this._onEnd.push(t)}onRemove(t){this._onRemove||(this._onRemove=[]),this._onRemove.push(t)}onFrame(t){this._onFrame||(this._onFrame=[]),this._onFrame.push(t)}release(){this.status=i.td.END}stop(t){t||this.target.onStop(),"start"===t?this.target.onStop(this.getStartProps()):"end"===t?this.target.onStop(this.getEndProps()):this.target.onStop(t),this.release()}}c.mode=i.uq.NORMAL,c.interpolateMap=new Map;class d{get totalDuration(){return this.calcAttr(),this._totalDuration+this._startAt}constructor(t,e){this.rawPosition=-1,this.position=0,this.loop=0,this.duration=0,this.animate=t,this.stepHead=new f(0,0,e?Object.assign({},e.stepTail.props):{}),this.stepTail=this.stepHead,this.dirty=!0,this._startAt=0}calcAttr(){this.dirty&&(this._totalDuration=this.duration*(this.loop+1))}bind(t){return this.target=t,this}play(t){let e=t.duration;(null==e||e<0)&&(e=0);const n=t.easing,r="string"==typeof n?o[n]:n,a=this._addStep(e,null,r);return a.type=i.Tq.customAnimate,this._appendProps(t.getEndProps(),a,!1),this._appendCustomAnimate(t,a),this}to(t,e,n,r){(null==e||e<0)&&(e=0);const a="string"==typeof n?o[n]:n,s=this._addStep(e,null,a);return s.type=i.Tq.to,this._appendProps(t,s,!!r&&r.tempProps),s.propKeys||(s.propKeys=Object.keys(s.props)),r&&r.noPreventAttrs||this.target.animates.forEach((t=>{t.id!==this.animate.id&&t.preventAttrs(s.propKeys)})),this}from(t,e,n,r){this.to(t,0,n,r);const o={};this.stepTail.propKeys||(this.stepTail.propKeys=Object.keys(this.stepTail.props)),this.stepTail.propKeys.forEach((t=>{o[t]=this.getLastPropByName(t,this.stepTail)})),this.to(o,e,n,r),this.stepTail.type=i.Tq.from}startAt(t){return t<0&&(t=0),this._startAt=t,this}getStartProps(){var t;return null===(t=this.stepHead)||void 0===t?void 0:t.props}getEndProps(){return this.stepTail.props}getLastStep(){return this._lastStep}wait(t){if(t>0){const e=this._addStep(+t,null);e.type=i.Tq.wait,e.prev.customAnimate?e.props=e.prev.customAnimate.getEndProps():e.props=e.prev.props,this.target.onAddStep&&this.target.onAddStep(e)}return this}_addStep(t,e,n){const i=new f(this.duration,t,e,n);return this.duration+=t,this.stepTail.append(i),this.stepTail=i,i}_appendProps(t,e,n){e.props=n?t:Object.assign({},t);let i=e.prev;const r=e.props;for(e.propKeys||(e.propKeys=Object.keys(e.props)),e.propKeys.forEach((t=>{void 0===e.props[t]&&(e.props[t]=this.target.getDefaultAttribute(t))}));i.prev;)i.props&&(i.propKeys||(i.propKeys=Object.keys(i.props)),i.propKeys.forEach((t=>{void 0===r[t]&&(r[t]=i.props[t])}))),e.propKeys=Object.keys(e.props),i=i.prev;const o=this.stepHead.props;e.propKeys||(e.propKeys=Object.keys(r)),e.propKeys.forEach((t=>{if(void 0===o[t]){const e=this.animate.getStartProps();o[t]=e[t]=this.target.getComputedAttribute(t)}})),this.target.onAddStep&&this.target.onAddStep(e)}_appendCustomAnimate(t,e){e.customAnimate=t,t.step=e,t.bind(this.target,this)}setPosition(t){var e;const n=this.duration,i=this.loop,r=this.rawPosition;let o,a,s=!1;const l=null!==(e=this._startAt)&&void 0!==e?e:0;if(t<0&&(t=0),t<l)return this.rawPosition=t,!1;if(t-=l,n<=0&&(s=!0,n<0))return s;if(o=Math.floor(t/n),a=t-o*n,s=t>=i*n+n,s&&(a=n,o=i,t=a*o+n),t===r)return s;const u=!this.reversed!=!(this.bounce&&o%2);return u&&(a=n-a),this._deltaPosition=a-this.position,this.position=a,this.rawPosition=t+l,this.updatePosition(s,u),s}updatePosition(t,e){if(!this.stepHead)return;let n=this.stepHead.next;const i=this.position,r=this.duration;if(this.target&&n){let o=n.next;for(;o&&o.position<=i;)n=o,o=n.next;let a=t?0===r?1:i/r:(i-n.position)/n.duration;n.easing&&(a=n.easing(a)),this.tryCallCustomAnimateLifeCycle(n,this._lastStep||(e?this.stepTail:this.stepHead),e),this.updateTarget(n,a,t),this._lastStep=n,this.animate._onFrame&&this.animate._onFrame.forEach((t=>t(n,a)))}}tryCallCustomAnimateLifeCycle(t,e,n){if(t!==e)if(n){let n=e.prev;for(;n&&n!==t;)n.customAnimate&&(n.customAnimate.onStart&&n.customAnimate.onStart(),n.customAnimate.onEnd&&n.customAnimate.onEnd()),n=t.prev;e&&e.customAnimate&&e.customAnimate.onEnd&&e.customAnimate.onEnd(),t&&t.customAnimate&&t.customAnimate.onStart&&t.customAnimate.onStart()}else{let n=e.next;for(;n&&n!==t;)n.customAnimate&&(n.customAnimate.onStart&&n.customAnimate.onStart(),n.customAnimate.onEnd&&n.customAnimate.onEnd()),n=n.next;e&&e.customAnimate&&e.customAnimate.onEnd&&e.customAnimate.onEnd(),t&&t.customAnimate&&t.customAnimate.onStart&&t.customAnimate.onStart()}}getLastPropByName(t,e){let n=e.prev;for(;n;){if(n.props&&void 0!==n.props[t])return n.props[t];if(n.customAnimate){const e=n.customAnimate.getEndProps()[t];if(void 0!==e)return e}n=n.prev}return a.Y.getInstance().warn("step"),e.props[t]}updateTarget(t,e,n){null==t.props&&null==t.customAnimate||this.target.onStep(this,this.animate,t,e,n)}}class f{constructor(t,e,n,i){this.duration=e,this.position=t,this.props=n,this.easing=i}append(t){t.prev=this,t.next=this.next,this.next=t}getLastProps(){let t=this.prev;for(;t;){if(t.props)return t.props;if(t.customAnimate)return t.customAnimate.getMergedEndProps();t=t.prev}return null}}},85212:function(t,e,n){"use strict";n.d(e,{L:function(){return o},P:function(){return a}});var i=n(21448),r=n(19122);class o{constructor(){this.id=r.R.GenAutoIncrementId(),this.animateHead=null,this.animateTail=null,this.animateCount=0,this.paused=!1}addAnimate(t){this.animateTail?(this.animateTail.nextAnimate=t,t.prevAnimate=this.animateTail,this.animateTail=t,t.nextAnimate=null):(this.animateHead=t,this.animateTail=t),this.animateCount++}pause(){this.paused=!0}resume(){this.paused=!1}tick(t){if(this.paused)return;let e=this.animateHead;for(this.animateCount=0;e;)e.status===i.td.END?this.removeAnimate(e):e.status===i.td.RUNNING||e.status===i.td.INITIAL?(this.animateCount++,e.advance(t)):e.status===i.td.PAUSED&&this.animateCount++,e=e.nextAnimate}clear(){let t=this.animateHead;for(;t;)t.release(),t=t.nextAnimate;this.animateHead=null,this.animateTail=null,this.animateCount=0}removeAnimate(t,e=!0){t._onRemove&&t._onRemove.forEach((t=>t())),t===this.animateHead?(this.animateHead=t.nextAnimate,t===this.animateTail?this.animateTail=null:this.animateHead.prevAnimate=null):t===this.animateTail?(this.animateTail=t.prevAnimate,this.animateTail.nextAnimate=null):(t.prevAnimate.nextAnimate=t.nextAnimate,t.nextAnimate.prevAnimate=t.prevAnimate),e&&t.release()}}const a=new o},92908:function(t,e,n){"use strict";n.d(e,{w:function(){return i}});const i=new class{}},48510:function(t,e,n){"use strict";n.d(e,{A:function(){return r},r:function(){return i}});const i=Symbol.for("CanvasFactory"),r=Symbol.for("Context2dFactory")},96749:function(t,e,n){"use strict";n.d(e,{JN:function(){return a}});var i=n(90154),r=n(92908),o=n(48510);function a(t){return i.n.getNamed(o.r,r.w.global.env)(t)}Math.sqrt(3)},32449:function(t,e,n){"use strict";n.d(e,{BM:function(){return u}});var i,r=n(8646);!function(t){t[t.Color255=0]="Color255",t[t.Color1=1]="Color1"}(i||(i={}));class o{static Get(t,e=i.Color1,n=[0,0,0,1]){if(e===i.Color1){const e=o.store1[t];if(e)return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n;const i=r.Il.parseColorString(t);if(i){const e=[i.r/255,i.g/255,i.b/255,i.opacity];o.store1[t]=e,o.store255[t]=[i.r,i.g,i.b,i.opacity],n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3]}return n}const a=o.store255[t];if(a)return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n;const s=r.Il.parseColorString(t);return s&&(o.store1[t]=[s.r/255,s.g/255,s.b/255,s.opacity],o.store255[t]=[s.r,s.g,s.b,s.opacity],n[0]=s.r,n[1]=s.g,n[2]=s.b,n[3]=s.opacity),n}static Set(t,e,n){if(e===i.Color1){if(o.store1[t])return;o.store1[t]=n,o.store255[t]=[Math.floor(255*n[0]),Math.floor(255*n[1]),Math.floor(255*n[2]),Math.floor(255*n[3])]}else{if(o.store255[t])return;o.store255[t]=n,o.store1[t]=[n[0]/255,n[1]/255,n[2]/255,n[3]]}}}o.store255={},o.store1={};var a=n(66990),s=n(68725);function l(t,e=!1){return Array.isArray(t)&&(0,a.Z)(t[0])?e?`rgb(${Math.round(t[0])},${Math.round(t[1])},${Math.round(t[2])},${t[3].toFixed(2)})`:`rgb(${Math.round(t[0])},${Math.round(t[1])},${Math.round(t[2])})`:t}function u(t,e,n,i,r){return Array.isArray(t)&&!(0,a.Z)(t[0])||Array.isArray(e)&&!(0,a.Z)(e[0])?new Array(4).fill(0).map(((r,o)=>h((0,s.Z)(t)?t[o]:t,(0,s.Z)(e)?e[o]:e,n,i))):h(t,e,n,i,r)}function h(t,e,n,r,a){if(!t||!e)return t&&l(t)||e&&l(e)||!1;let s,h,c=!1,d=!1;if(Array.isArray(t)?s=t:"string"==typeof t?s=o.Get(t,i.Color255):c=!0,Array.isArray(e)?h=e:"string"==typeof e?h=o.Get(e,i.Color255):d=!0,c!==d){const i=c?t:e,o=c?e:t,s=Object.assign(Object.assign({},i),{stops:i.stops.map((t=>Object.assign(Object.assign({},t),{color:l(o)})))});return c?u(i,s,n,r,a):u(s,i,n,r,a)}if(c){if(t.gradient===e.gradient){const i=t,r=e,o=i.stops,a=r.stops;if(o.length!==a.length)return!1;if("linear"===i.gradient)return function(t,e,n){const i=t.stops,r=e.stops;return{gradient:"linear",x0:t.x0+(e.x0-t.x0)*n,x1:t.x1+(e.x1-t.x1)*n,y0:t.y0+(e.y0-t.y0)*n,y1:t.y1+(e.y1-t.y1)*n,stops:new Array(i.length).fill(0).map(((t,e)=>({color:f(i[e].color,r[e].color,n),offset:i[e].offset+(r[e].offset-i[e].offset)*n})))}}(i,r,n);if("radial"===i.gradient)return function(t,e,n){const i=t.stops,r=e.stops;return{gradient:"radial",x0:t.x0+(e.x0-t.x0)*n,x1:t.x1+(e.x1-t.x1)*n,y0:t.y0+(e.y0-t.y0)*n,y1:t.y1+(e.y1-t.y1)*n,r0:t.r0+(e.r0-t.r0)*n,r1:t.r1+(e.r1-t.r1)*n,stops:new Array(i.length).fill(0).map(((t,e)=>({color:f(i[e].color,r[e].color,n),offset:i[e].offset+(r[e].offset-i[e].offset)*n})))}}(i,r,n);if("conical"===i.gradient)return function(t,e,n){const i=t.stops,r=e.stops;return{gradient:"conical",startAngle:t.startAngle+(e.startAngle-t.startAngle)*n,endAngle:t.endAngle+(e.endAngle-t.endAngle)*n,x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n,stops:new Array(i.length).fill(0).map(((t,e)=>({color:f(i[e].color,r[e].color,n),offset:i[e].offset+(r[e].offset-i[e].offset)*n})))}}(i,r,n)}return!1}return a&&a(s,h),l(function(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n,t[2]+(e[2]-t[2])*n,t[3]+(e[3]-t[3])*n]}(s,h,n),r)}const c=[0,0,0,0],d=[0,0,0,0];function f(t,e,n){return o.Get(t,i.Color255,c),o.Get(e,i.Color255,d),`rgba(${Math.round(c[0]+(d[0]-c[0])*n)},${Math.round(c[1]+(d[1]-c[1])*n)},${Math.round(c[2]+(d[2]-c[2])*n)},${c[3]+(d[3]-c[3])*n})`}},70199:function(t,e,n){"use strict";n.d(e,{y:function(){return o}});var i=n(57343),r=n(88890);const o=(t,e,n,o)=>{let a,s=!1,l=!1;if(e.forEachChildren((t=>(s=t.numberType===r.IJ,!s))),e.forEachChildren((t=>(l=!!t.findFace,!l))),s){const t=e.getChildren(),r=[...t];r.sort(((t,e)=>{var n,r,o,a;let s=(null!==(r=null!==(n=t.attribute.startAngle)&&void 0!==n?n:0+t.attribute.endAngle)&&void 0!==r?r:0)/2,l=(null!==(a=null!==(o=e.attribute.startAngle)&&void 0!==o?o:0+e.attribute.endAngle)&&void 0!==a?a:0)/2;for(;s<0;)s+=i.f7;for(;l<0;)l+=i.f7;return l-s})),r.forEach((t=>{t._next=null,t._prev=null})),e.removeAllChild(),e.update(),r.forEach((t=>{e.appendChild(t)})),o.hack_pieFace="outside",a=n(s,l),a&&a.graphic||(o.hack_pieFace="inside",a=n(s,l)),a&&a.graphic||(o.hack_pieFace="top",a=n(s,l)),e.removeAllChild(),t.forEach((t=>{t._next=null,t._prev=null})),t.forEach((t=>{e.appendChild(t)}))}else if(l){const i=e.getChildren(),r=i.map((e=>({ave_z:e.findFace().vertices.map((n=>{var i;return t.view(n[0],n[1],null!==(i=n[2]+e.attribute.z)&&void 0!==i?i:0)[2]})).reduce(((t,e)=>t+e),0),g:e})));r.sort(((t,e)=>e.ave_z-t.ave_z)),e.removeAllChild(),r.forEach((t=>{t.g._next=null,t.g._prev=null})),e.update(),r.forEach((t=>{e.add(t.g)})),a=n(s,l),e.removeAllChild(),i.forEach((t=>{t._next=null,t._prev=null})),e.update(),i.forEach((t=>{e.add(t)}))}else a=n(s,l);return a}},87620:function(t,e,n){"use strict";n(57862);e.Z=function(t){var e;return function(t){Object.prototype.hasOwnProperty;const e="function"==typeof Symbol,n=e&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=(e&&void 0!==Symbol.iterator&&Symbol.iterator,Object.create,Object.getPrototypeOf(Function)),r=Map,o=(Set,new WeakMap);function a(t,e,n){let i=o.get(t);if(h(i)){if(!n)return;i=new r,o.set(t,i)}let a=i.get(e);if(h(a)){if(!n)return;a=new r,i.set(e,a)}return a}function s(t,e,n){if(l(t,e,n))return!0;const i=m(e);return!c(i)&&s(t,i,n)}function l(t,e,n){const i=a(e,n,!1);return!h(i)&&!!i.has(t)}function u(t,e,n){if(l(t,e,n))return function(t,e,n){const i=a(e,n,!1);if(!h(i))return i.get(t)}(t,e,n);const i=m(e);return c(i)?void 0:u(t,i,n)}function h(t){return void 0===t}function c(t){return null===t}function d(t){return"object"==typeof t?null!==t:"function"==typeof t}function f(t,e){switch(function(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}const i=3===e?"string":5===e?"number":"default",r=function(t,e){const n=t[e];if(null!=n){if(!g(n))throw new TypeError;return n}}(t,n);if(void 0!==r){const e=r.call(t,i);if(d(e))throw new TypeError;return e}return function(t,e){if("string"===e){const e=t.toString;if(g(e)){const n=e.call(t);if(!d(n))return n}const n=t.valueOf;if(g(n)){const e=n.call(t);if(!d(e))return e}}else{const e=t.valueOf;if(g(e)){const n=e.call(t);if(!d(n))return n}const n=t.toString;if(g(n)){const e=n.call(t);if(!d(e))return e}}throw new TypeError}(t,"default"===i?"number":i)}function p(t){const e=f(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function g(t){return"function"==typeof t}function m(t){const e=Object.getPrototypeOf(t);if("function"!=typeof t||t===i)return e;if(e!==i)return e;const n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;const o=r.constructor;return"function"!=typeof o||o===t?e:o}t("defineMetadata",(function(t,e,n,i){if(!d(n))throw new TypeError;return r=t,o=e,void a(n,i,!0).set(r,o);var r,o})),t("hasMetadata",(function(t,e,n){if(!d(e))throw new TypeError;return h(n)||(n=p(n)),s(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!d(e))throw new TypeError;return h(n)||(n=p(n)),l(t,e,n)})),t("getMetadata",(function(t,e,n){if(!d(e))throw new TypeError;return h(n)||(n=p(n)),u(t,e,n)}))}((e=t,function(t,n){"function"!=typeof e[t]&&Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n})})),t}({})},98126:function(t,e,n){"use strict";n.d(e,{C:function(){return o}});var i=n(57343);const r=i.BZ-1e-8;class o{constructor(t){this.init(t)}init(t){this.bounds=t}arc(t,e,n,o,a,s){if(Math.abs(a-o)>r)return this.bounds.add(t-n,e-n),void this.bounds.add(t+n,e+n);let l,u,h,c,d=1/0,f=-1/0,p=1/0,g=-1/0;function m(t){h=n*Math.cos(t),c=n*Math.sin(t),h<d&&(d=h),h>f&&(f=h),c<p&&(p=c),c>g&&(g=c)}if(m(o),m(a),a!==o)if((o%=i.BZ)<0&&(o+=i.BZ),(a%=i.BZ)<0&&(a+=i.BZ),a<o&&(s=!s,l=o,o=a,a=l),s)for(a-=i.BZ,l=o-o%i.ou,u=0;u<4&&l>a;++u,l-=i.ou)m(l);else for(l=o-o%i.ou+i.ou,u=0;u<4&&l<a;++u,l+=i.ou)m(l);this.bounds.add(t+d,e+p),this.bounds.add(t+f,e+g)}arcTo(t,e,n,i,r){this.bounds.add(t,e)}bezierCurveTo(t,e,n,i,r,o){this.bounds.add(t,e),this.bounds.add(n,i),this.bounds.add(r,o)}closePath(){}ellipse(){throw new Error("ellipse")}lineTo(t,e){this.bounds.add(t,e)}moveTo(t,e){this.bounds.add(t,e)}quadraticCurveTo(t,e,n,i){this.bounds.add(t,e),this.bounds.add(n,i)}rect(t,e,n,i){this.bounds.add(t,e),this.bounds.add(t+n,e+i)}clear(){this.bounds.clear()}release(...t){}}},36531:function(t,e,n){"use strict";n.d(e,{L:function(){return l},D:function(){return s}});var i=n(68725),r=n(57343);const o=function(){const t=/^(linear\-gradient)/i,e=/^(radial\-gradient)/i,n=/^(conic\-gradient)/i,i=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,r=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,o=/^(left|center|right|top|bottom)/i,a=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,h=/^from\s*(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,c=/^\(/,d=/^\)/,f=/^,/,p=/(^\#[0-9a-fA-F]+)/,g=/^([a-zA-Z]+)/,m=/^(rgb\(\d{1,3},\s*\d{1,3},\s*\d{1,3}\))/i,v=/^(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*((\d\.\d+)|\d{1,3})\))/i;let y="";function b(t){const e=new Error(y+": "+t);throw e.source=y,e}function w(){return x("linear",t,_)||x("radial",e,S)||x("conic",n,C)}function x(t,e,n){return function(e,i){const r=L(e);if(r){L(c)||b("Missing (");const e=function(e){const i=n();return i&&(L(f)||b("Missing comma before color stops")),{type:t,orientation:i,colorStops:R(I)}}();return L(d)||b("Missing )"),e}}(e)}function _(){return B("directional",i,1)||B("angular",u,1)}function C(){return B("angular",h,1)}function S(){let t,e,n=M();return n&&(t=[],t.push(n),e=y,L(f)&&(n=M(),n?t.push(n):y=e)),t}function M(){let t=function(){const t=B("shape",/^(circle)/i,0);return t&&(t.style=E()||A()),t}()||function(){const t=B("shape",/^(ellipse)/i,0);return t&&(t.style=P()||A()),t}();if(t)t.at=T();else{const e=A();if(e){t=e;const n=T();n&&(t.at=n)}else{const e=k();e&&(t={type:"default-radial",at:e})}}return t}function A(){return B("extent-keyword",r,1)}function T(){if(B("position",/^at/,0)){const t=k();return t||b("Missing positioning value"),t}}function k(){const t={x:P(),y:P()};if(t.x||t.y)return{type:"position",value:t}}function R(t){let e=t();const n=[];if(e)for(n.push(e);L(f);)e=t(),e?n.push(e):b("One extra comma");return n}function I(){const t=B("hex",p,1)||B("rgba",v,1)||B("rgb",m,1)||B("literal",g,0);return t||b("Expected color definition"),t.length=P(),t}function P(){return B("%",s,1)||B("position-keyword",o,1)||E()}function E(){return B("px",a,1)||B("em",l,1)}function B(t,e,n){const i=L(e);if(i)return{type:t,value:i[n]}}function L(t){const e=/^[\n\r\t\s]+/.exec(y);e&&D(e[0].length);const n=t.exec(y);return n&&D(n[0].length),n}function D(t){y=y.substr(t)}return function(t){return y=t.toString(),function(){const t=R(w);return y.length>0&&b("Invalid input not EOF"),t}()}}();class a{static IsGradient(t){return!("string"==typeof t&&!t.includes("gradient"))}static IsGradientStr(t){return"string"==typeof t&&t.includes("gradient")}static Parse(t){if(a.IsGradientStr(t))try{const e=o(t)[0];if(e){if("linear"===e.type)return a.ParseLinear(e);if("radial"===e.type)return a.ParseRadial(e);if("conic"===e.type)return a.ParseConic(e)}}catch(e){return t}return t}static ParseConic(t){const{orientation:e,colorStops:n=[]}=t,i=r.pi/2,o=parseFloat(e.value)/180*r.pi-i;return{gradient:"conical",x:.5,y:.5,startAngle:o,endAngle:o+r.f7,stops:n.map((t=>({color:t.value,offset:parseFloat(t.length.value)/100})))}}static ParseRadial(t){const{colorStops:e=[]}=t;return{gradient:"radial",x0:.5,y0:.5,x1:.5,y1:.5,r0:0,r1:1,stops:e.map((t=>({color:t.value,offset:parseFloat(t.length.value)/100})))}}static ParseLinear(t){const{orientation:e,colorStops:n=[]}=t,i=r.pi/2;let o="angular"===e.type?parseFloat(e.value)/180*r.pi:0;for(;o<0;)o+=r.f7;for(;o>=r.f7;)o-=r.f7;let a=0,s=0,l=0,u=0;return o<i?(a=0,s=1,l=Math.sin(o),u=s-Math.cos(o)):o<r.pi?(a=0,s=0,l=Math.cos(o-i),u=Math.sin(o-i)):o<r.pi+i?(a=1,s=0,l=a-Math.sin(o-r.pi),u=Math.cos(o-r.pi)):(a=1,l=a-Math.cos(o-i-r.pi),u-=Math.sin(o-i-r.pi)),{gradient:"linear",x0:a,y0:s,x1:l,y1:u,stops:n.map((t=>({color:t.value,offset:parseFloat(t.length.value)/100})))}}}function s(t,e,n){let i=e;const{a:r,b:o,c:a,d:s}=t.currentMatrix,l=Math.sign(r)*Math.sqrt(r*r+o*o),u=Math.sign(s)*Math.sqrt(a*a+s*s);return l+u===0?0:(i=i/Math.abs(l+u)*2*n,i)}function l(t,e,n,r=0,o=0){if(!e||!0===e)return"black";let s,l;if((0,i.Z)(e))for(let t=0;t<e.length&&(l=e[t],!l);t++);else l=e;if(l=a.Parse(l),"string"==typeof l)return l;if(n.AABBBounds&&(!n.attribute||0!==n.attribute.scaleX||0!==n.attribute.scaleY)){const e=n.AABBBounds;let i=e.x2-e.x1,a=e.y2-e.y1,u=e.x1-r,h=e.y1-o;if(n.attribute){const{scaleX:t=1,scaleY:e=1}=n.attribute;i/=t,a/=e,u/=t,h/=e}"linear"===l.gradient?s=function(t,e,n,i,r,o){var a,s,l,u;const h=t.createLinearGradient(n+(null!==(a=e.x0)&&void 0!==a?a:0)*r,i+(null!==(s=e.y0)&&void 0!==s?s:0)*o,n+(null!==(l=e.x1)&&void 0!==l?l:1)*r,i+(null!==(u=e.y1)&&void 0!==u?u:0)*o);return e.stops.forEach((t=>{h.addColorStop(t.offset,t.color)})),h}(t,l,u,h,i,a):"conical"===l.gradient?s=function(t,e,n,i,r,o){var a,s;const l=t.createConicGradient(n+(null!==(a=e.x)&&void 0!==a?a:0)*r,i+(null!==(s=e.y)&&void 0!==s?s:0)*o,e.startAngle,e.endAngle);return e.stops.forEach((t=>{l.addColorStop(t.offset,t.color)})),l.GetPattern(r+n,o+i,void 0)}(t,l,u,h,i,a):"radial"===l.gradient&&(s=function(t,e,n,i,r,o){var a,s,l,u,h,c;const d=t.createRadialGradient(n+(null!==(a=e.x0)&&void 0!==a?a:.5)*r,i+(null!==(s=e.y0)&&void 0!==s?s:.5)*o,Math.max(r,o)*(null!==(l=e.r0)&&void 0!==l?l:0),n+(null!==(u=e.x1)&&void 0!==u?u:.5)*r,i+(null!==(h=e.y1)&&void 0!==h?h:.5)*o,Math.max(r,o)*(null!==(c=e.r1)&&void 0!==c?c:.5));return e.stops.forEach((t=>{d.addColorStop(t.offset,t.color)})),d}(t,l,u,h,i,a))}return s||"orange"}},27836:function(t,e,n){"use strict";n.d(e,{EM:function(){return a},Qc:function(){return i},yb:function(){return o}});const i=Symbol("ContributionProvider");class r{constructor(t,e){this.serviceIdentifier=t,this.container=e}getContributions(){return this.caches||(this.caches=[],this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier))),this.caches}}function o(t,e){t(i).toDynamicValue((({container:t})=>new r(e,t))).inSingletonScope().whenTargetNamed(e)}function a(t,e){t(i).toDynamicValue((({container:t})=>new r(e,t))).whenTargetNamed(e)}},37806:function(t,e,n){"use strict";n.d(e,{r:function(){return I}});var i=n(98126),r=n(94378);class o{constructor(){this.curves=[],this.bounds=new r.FB}getCurveLengths(){return this.curves.map((t=>t.getLength()))}getPointAt(t){return{x:0,y:0}}getLength(){return 0}getBounds(){return this.bounds}}const a=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7},l=0,u=1,h=2,c=3,d=4,f=5,p=6,g=7,m=8;let v,y,b,w,x,_;var C=n(57343),S=n(21448),M=n(74096);function A(t){const e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=l*o,h=-s*a,c=s*o,d=l*a,f=Math.cos(i),p=Math.sin(i),g=Math.cos(r),m=Math.sin(r),v=.5*(r-i),y=Math.sin(.5*v),b=8/3*y*y/Math.sin(v),w=e+f-b*p,x=n+p+b*f,_=e+g,C=n+m,S=_+b*m,M=C-b*g;return[u*w+h*x,c*w+d*x,u*S+h*M,c*S+d*M,u*_+h*C,c*_+d*C]}function T(t,e,n,i){const r=function(t,e,n,i,r,o,a,s,l){const u=(0,M.M4)(a),h=Math.sin(u),c=Math.cos(u),d=c*(s-t)*.5+h*(l-e)*.5,f=c*(l-e)*.5-h*(s-t)*.5;let p=d*d/((n=Math.abs(n))*n)+f*f/((i=Math.abs(i))*i);p>1&&(p=Math.sqrt(p),n*=p,i*=p);const g=c/n,m=h/n,v=-h/i,y=c/i,b=g*s+m*l,w=v*s+y*l,x=g*t+m*e,_=v*t+y*e;let S=1/((x-b)*(x-b)+(_-w)*(_-w))-.25;S<0&&(S=0);let A=Math.sqrt(S);o===r&&(A=-A);const T=.5*(b+x)-A*(_-w),k=.5*(w+_)+A*(x-b),R=Math.atan2(w-k,b-T);let I=Math.atan2(_-k,x-T)-R;I<0&&1===o?I+=C.BZ:I>0&&0===o&&(I-=C.BZ);const P=Math.ceil(Math.abs(I/(C.ou+.001))),E=[];for(let t=0;t<P;++t){const e=R+t*I/P,r=R+(t+1)*I/P;E[t]=[T,k,e,r,n,i,h,c]}return E}(i[5],i[6],i[0],i[1],i[3],i[4],i[2],e,n);for(let e=0;e<r.length;++e){const n=A(r[e]);t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}}var k=n(54743),R=n(40088);class I extends o{constructor(t){super(),this.commandList=[],t&&(this._ctx=t),this._boundsContext=new i.C(this.bounds)}setCtx(t){this._ctx=t}moveTo(t,e){return this.commandList.push([p,t,e]),this._ctx&&this._ctx.moveTo(t,e),this}lineTo(t,e){return this.commandList.push([f,t,e]),this._ctx&&this._ctx.lineTo(t,e),this}quadraticCurveTo(t,e,n,i){return this.commandList.push([g,t,e,n,i]),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this}bezierCurveTo(t,e,n,i,r,o){return this.commandList.push([h,t,e,n,i,r,o]),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,r,o),this}arcTo(t,e,n,i,r){return this.commandList.push([u,t,e,n,i,r]),this._ctx&&this._ctx.arcTo(t,e,n,i,r),this}ellipse(t,e,n,i,r,o,a,s){return this.commandList.push([d,t,e,n,i,r,o,a,s]),this._ctx&&this._ctx.ellipse(t,e,n,i,r,o,a,s),this}rect(t,e,n,i){return this.commandList.push([m,t,e,n,i]),this._ctx&&this._ctx.rect(t,e,n,i),this}arc(t,e,n,i,r,o){return this.commandList.push([l,t,e,n,i,r,o]),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this}closePath(){return this.commandList.push([c]),this._ctx&&this._ctx.closePath(),this}addCurve(t){this.curves.push(t)}clear(){this.transformCbList=null,this.commandList.length=0,this.curves.length=0}beginPath(){this.clear()}toString(){if(!this.toStringCbList){const t=[];t[p]=t=>`M${t[1]} ${t[2]}`,t[f]=t=>`L${t[1]} ${t[2]}`,t[g]=t=>`Q${t[1]} ${t[2]} ${t[3]} ${t[4]}`,t[h]=t=>`C${t[1]} ${t[2]} ${t[3]} ${t[4]} ${t[5]} ${t[6]}`,t[l]=t=>{const e=[];((t,e,n,i,r,o,a)=>{const s=Math.abs(n-e),l=s>.5*Math.PI?Math.ceil(2*s/Math.PI):1,u=(n-e)/l;for(let n=0;n<l;n++){const s=e+u*n,l=e+u*(n+1),h=4*Math.tan(Math.abs(u)/4)/3,c=l<s?-1:1,d=Math.cos(s),f=Math.sin(s),p=Math.cos(l),g=Math.sin(l),m=d*o+i,v=f*a+r,y=p*o+i,b=g*a+r,w=o*h*c,x=a*h*c;t.push(m-w*f,v+x*d,y+w*g,b-x*p,y,b)}})(e,t[4],t[5],t[1],t[2],t[3],t[3]);let n="";for(let t=0;t<e.length;t+=6)n+=`C${e[t]} ${e[t+1]} ${e[t+2]} ${e[t+3]} ${e[t+4]} ${e[t+5]}`;return n},t[m]=t=>`M${t[1]} ${t[2]} h${t[3]} v${t[4]} H${t[1]}Z`,t[c]=t=>"Z",this.toStringCbList=t}const t=this.toStringCbList;let e="";return this.commandList.forEach((n=>{e+=t[n[0]](n)})),e}fromString(t,e,n,i,r){this.clear();const o=function(t){if(!t)return[];const e=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);if(null===e)return[];let n,i;const r=[];for(let t=0,o=e.length;t<o;t++)if(v=e[t],y=v.slice(1),b=v[0],n=[b],i=y.match(a),null!==i){for(let t=0,e=i.length;t<e;t++)w=i[t],x=parseFloat(w),Number.isNaN(x)||n.push(x);if(_=s[b],n.length-1>_){let t,e=b;for(let i=1,o=n.length;i<o;i+=_){t=[e];for(let e=i,r=i+_;e<r;e++)t.push(n[e]);r.push(t),"m"===e?e="l":"M"===e&&(e="L")}}else r.push(n)}else r.push(n);return r}(t);return this._runCommandStrList(o,e,n,i,r),this._updateBounds(),this}fromLine(t){const{points:e,curveType:n,clipRangeByDimension:i}=t.attribute;if(!e)return;const r=(0,R.X0)(e,n);"x"===i?this.direction=S.Nm.ROW:"y"===i?this.direction=S.Nm.COLUMN:"auto"===i&&(this.direction=r.direction),this.curves=r.curves}fromCustomPath2D(t,e,n,i,r){return this.clear(),this._runCommandList(t.commandList,e,n,i,r),this._updateBounds(),this}transform(t,e,n,i){const r=this.commandList;if(!this.transformCbList){const t=[];t[p]=this.moveToTransform,t[f]=this.lineToTransform,t[g]=this.quadraticCurveToTransform,t[h]=this.bezierCurveToTransform,t[u]=this.arcToTransform,t[d]=this.ellipseTransform,t[m]=this.rectTransform,t[l]=this.arcTransform,t[c]=this.closePathTransform,this.transformCbList=t}r.forEach((r=>{this.transformCbList[r[0]](r,t,e,n,i)})),this._updateBounds()}moveToTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n}lineToTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n}quadraticCurveToTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n,t[3]=t[3]*i+e,t[4]=t[4]*r+n}bezierCurveToTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n,t[3]=t[3]*i+e,t[4]=t[4]*r+n,t[5]=t[5]*i+e,t[6]=t[6]*r+n}arcToTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n,t[3]=t[3]*i+e,t[4]=t[4]*r+n,t[5]=t[5]*(i+r)/2}ellipseTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n,t[3]=t[3]*i,t[4]=t[4]*r}rectTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n,t[3]=t[3]*i,t[4]=t[4]*r}arcTransform(t,e,n,i,r){t[1]=t[1]*i+e,t[2]=t[2]*r+n,t[3]=t[3]*(i+r)/2}closePathTransform(){}_runCommandStrList(t,e=0,n=0,i=1,r=1){let o,a,s,l,u,h=null,c=0,d=0,f=0,p=0;for(let g=0,m=t.length;g<m;++g){switch(o=t[g],1===i&&1===r||(o=E(o,i,r)),o[0]){case"l":c+=o[1],d+=o[2],this.lineTo(c+e,d+n);break;case"L":c=o[1],d=o[2],this.lineTo(c+e,d+n);break;case"h":c+=o[1],this.lineTo(c+e,d+n);break;case"H":c=o[1],this.lineTo(c+e,d+n);break;case"v":d+=o[1],this.lineTo(c+e,d+n);break;case"V":d=o[1],this.lineTo(c+e,d+n);break;case"m":c+=o[1],d+=o[2],this.moveTo(c+e,d+n);break;case"M":c=o[1],d=o[2],this.moveTo(c+e,d+n);break;case"c":a=c+o[5],s=d+o[6],f=c+o[3],p=d+o[4],this.bezierCurveTo(c+o[1]+e,d+o[2]+n,f+e,p+n,a+e,s+n),c=a,d=s;break;case"C":c=o[5],d=o[6],f=o[3],p=o[4],this.bezierCurveTo(o[1]+e,o[2]+n,f+e,p+n,c+e,d+n);break;case"s":a=c+o[3],s=d+o[4],f=2*c-f,p=2*d-p,this.bezierCurveTo(f+e,p+n,c+o[1]+e,d+o[2]+n,a+e,s+n),f=c+o[1],p=d+o[2],c=a,d=s;break;case"S":a=o[3],s=o[4],f=2*c-f,p=2*d-p,this.bezierCurveTo(f+e,p+n,o[1]+e,o[2]+n,a+e,s+n),c=a,d=s,f=o[1],p=o[2];break;case"q":a=c+o[3],s=d+o[4],f=c+o[1],p=d+o[2],this.quadraticCurveTo(f+e,p+n,a+e,s+n),c=a,d=s;break;case"Q":a=o[3],s=o[4],this.quadraticCurveTo(o[1]+e,o[2]+n,a+e,s+n),c=a,d=s,f=o[1],p=o[2];break;case"t":a=c+o[1],s=d+o[2],null===h[0].match(/[QqTt]/)?(f=c,p=d):"t"===h[0]?(f=2*c-l,p=2*d-u):"q"===h[0]&&(f=2*c-f,p=2*d-p),l=f,u=p,this.quadraticCurveTo(f+e,p+n,a+e,s+n),c=a,d=s,f=c+o[1],p=d+o[2];break;case"T":a=o[1],s=o[2],f=2*c-f,p=2*d-p,this.quadraticCurveTo(f+e,p+n,a+e,s+n),c=a,d=s;break;case"a":T(this,c+e,d+n,[o[1],o[2],o[3],o[4],o[5],o[6]+c+e,o[7]+d+n]),c+=o[6],d+=o[7];break;case"A":T(this,c+e,d+n,[o[1],o[2],o[3],o[4],o[5],o[6]+e,o[7]+n]),c=o[6],d=o[7];break;case"z":case"Z":this.closePath()}h=o}}_runCommandList(t,e=0,n=0,i=1,r=1){if(0!==e||0!==n||1!==i||1!==r)for(let o=0,a=t.length;o<a;++o){const a=t[o].slice();switch(a[0]){case f:this.lineToTransform(a,e,n,i,r);break;case p:this.moveToTransform(a,e,n,i,r);break;case h:this.bezierCurveToTransform(a,e,n,i,r);break;case g:this.quadraticCurveToTransform(a,e,n,i,r);break;case l:this.arcToTransform(a,e,n,i,r);break;case d:this.ellipseTransform(a,e,n,i,r);break;case m:this.rectTransform(a,e,n,i,r);break;case u:this.arcToTransform(a,e,n,i,r);break;case c:this.closePath()}}else this.commandList=t.map((t=>t.slice()))}_updateBounds(){this.bounds.clear(),(0,k.h)(this.commandList,this._boundsContext)}release(){this.commandList=[],this._boundsContext=null,this._ctx=null}getLength(){if(this.direction===S.Nm.COLUMN){if(!this.curves.length)return 0;const t=this.curves[0],e=this.curves[this.curves.length-1];return(0,C.Wn)(t.p0.y-e.p1.y)}if(this.direction===S.Nm.ROW){if(!this.curves.length)return 0;const t=this.curves[0],e=this.curves[this.curves.length-1];return(0,C.Wn)(t.p0.x-e.p1.x)}return this.curves.reduce(((t,e)=>t+e.getLength()),0)}getAttrAt(t){if(!this.curves)return{pos:{x:0,y:0},angle:0};let e,n=0;for(let i=0;i<this.curves.length;i++){e=this.curves[i];const r=e.getLength(this.direction);if(n+r>=t)break;n+=r}const i=(t-n)/e.getLength(this.direction);return{pos:e.getPointAt(i),angle:e.getAngleAt(i)}}}const P=["l",0,0,0,0,0,0,0];function E(t,e,n){const i=P[0]=t[0];if("a"===i||"A"===i)P[1]=e*t[1],P[2]=n*t[2],P[3]=t[3],P[4]=t[4],P[5]=t[5],P[6]=e*t[6],P[7]=n*t[7];else if("h"===i||"H"===i)P[1]=e*t[1];else if("v"===i||"V"===i)P[1]=n*t[1];else for(let i=1,r=t.length;i<r;++i)P[i]=(i%2==1?e:n)*t[i];return P}},21448:function(t,e,n){"use strict";var i,r,o,a,s,l,u,h,c;n.d(e,{D5:function(){return h},Gk:function(){return o},Gz:function(){return i},LZ:function(){return r},Nm:function(){return u},Oh:function(){return c},Tq:function(){return l},td:function(){return a},uq:function(){return s}}),function(t){t[t.NONE=0]="NONE",t[t.UPDATE_BOUNDS=1]="UPDATE_BOUNDS",t[t.UPDATE_SHAPE=2]="UPDATE_SHAPE",t[t.CLEAR_SHAPE=253]="CLEAR_SHAPE",t[t.UPDATE_SHAPE_AND_BOUNDS=3]="UPDATE_SHAPE_AND_BOUNDS",t[t.INIT=179]="INIT",t[t.CLEAR_BOUNDS=254]="CLEAR_BOUNDS",t[t.UPDATE_GLOBAL_MATRIX=32]="UPDATE_GLOBAL_MATRIX",t[t.CLEAR_GLOBAL_MATRIX=223]="CLEAR_GLOBAL_MATRIX",t[t.UPDATE_LOCAL_MATRIX=16]="UPDATE_LOCAL_MATRIX",t[t.CLEAR_LOCAL_MATRIX=239]="CLEAR_LOCAL_MATRIX",t[t.UPDATE_GLOBAL_LOCAL_MATRIX=48]="UPDATE_GLOBAL_LOCAL_MATRIX",t[t.UPDATE_LAYOUT=128]="UPDATE_LAYOUT",t[t.CLEAR_LAYOUT=127]="CLEAR_LAYOUT"}(i||(i={})),function(t){t[t.GLOBAL=1]="GLOBAL",t[t.LOCAL=16]="LOCAL",t[t.GLOBAL_ACCURATE=3]="GLOBAL_ACCURATE",t[t.LOCAL_ACCURATE=48]="LOCAL_ACCURATE"}(r||(r={})),function(t){t[t.INIT=0]="INIT",t[t.DEFAULT=1]="DEFAULT",t[t.STATE=2]="STATE",t[t.ANIMATE_BIND=10]="ANIMATE_BIND",t[t.ANIMATE_PLAY=11]="ANIMATE_PLAY",t[t.ANIMATE_START=12]="ANIMATE_START",t[t.ANIMATE_UPDATE=13]="ANIMATE_UPDATE",t[t.ANIMATE_END=14]="ANIMATE_END",t[t.TRANSLATE=20]="TRANSLATE",t[t.TRANSLATE_TO=21]="TRANSLATE_TO",t[t.SCALE=22]="SCALE",t[t.SCALE_TO=23]="SCALE_TO",t[t.ROTATE=24]="ROTATE",t[t.ROTATE_TO=25]="ROTATE_TO"}(o||(o={})),function(t){t[t.INITIAL=0]="INITIAL",t[t.RUNNING=1]="RUNNING",t[t.PAUSED=2]="PAUSED",t[t.END=3]="END"}(a||(a={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.SET_ATTR_IMMEDIATELY=1]="SET_ATTR_IMMEDIATELY"}(s||(s={})),function(t){t.wait="wait",t.from="from",t.to="to",t.customAnimate="customAnimate"}(l||(l={})),function(t){t[t.ROW=1]="ROW",t[t.COLUMN=2]="COLUMN"}(u||(u={})),function(t){t[t.CubicBezierCurve=0]="CubicBezierCurve",t[t.QuadraticBezierCurve=1]="QuadraticBezierCurve",t[t.ArcCurve=2]="ArcCurve",t[t.LineCurve=3]="LineCurve",t[t.EllipseCurve=4]="EllipseCurve",t[t.MoveCurve=5]="MoveCurve"}(h||(h={})),function(t){t[t.beforeFillStroke=0]="beforeFillStroke",t[t.afterFillStroke=1]="afterFillStroke"}(c||(c={}))},19122:function(t,e,n){"use strict";n.d(e,{R:function(){return i}});class i{static GenAutoIncrementId(){return i.auto_increment_id++}}i.auto_increment_id=0},39225:function(t,e,n){"use strict";n.d(e,{f:function(){return r}});var i=n(99945);const r=(0,n(70048).v)(i.B8)},70048:function(t,e,n){"use strict";n.d(e,{f:function(){return s},v:function(){return l}});var i=n(60660),r=n(99945),o=n(87620);function a(t,e,n,i){!function(t,e,n,i){const r=[i];let a={};o.Z.hasOwnMetadata(t,e)&&(a=o.Z.getMetadata(t,e));let s=a[n];void 0===s&&(s=[]),s.push(...r),a[n]=s,o.Z.defineMetadata(t,a,e)}(r.LD,t,n.toString(),i)}function s(t){return(e,n,i)=>{a(e,0,i,t)}}function l(t){return e=>(n,r,o)=>s(new i.S(t,e))(n,r,o)}},35223:function(t,e,n){"use strict";n.d(e,{b:function(){return o}});var i=n(99945),r=n(87620);function o(){return function(t){return r.Z.defineMetadata(i.FL,null,t),t}}},91112:function(t,e,n){"use strict";n.d(e,{t:function(){return a}});var i=n(60660),r=n(99945),o=n(70048);function a(t){return(0,o.f)(new i.S(r.vO,t))}},64008:function(t,e,n){"use strict";n.d(e,{n:function(){return r}});var i=n(19122);class r{constructor(t){this.id=i.R.GenAutoIncrementId(),this.registry=t}}},60660:function(t,e,n){"use strict";n.d(e,{S:function(){return r}});var i=n(99945);class r{constructor(t,e){this.key=t,this.value=e}toString(){return this.key===i.vO?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}},99945:function(t,e,n){"use strict";n.d(e,{B8:function(){return r},FL:function(){return s},LD:function(){return a},Lc:function(){return o},vO:function(){return i}});const i="named",r="inject",o="multi_inject",a="inversify:tagged",s="inversify:paramtypes"},67161:function(t,e,n){"use strict";function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function r(t,e,n){const i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],h=e[9],c=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+u*i,t[5]=a*r+h*i,t[6]=s*r+c*i,t[7]=l*r+d*i,t[8]=u*r-o*i,t[9]=h*r-a*i,t[10]=c*r-s*i,t[11]=d*r-l*i,t}function o(t,e,n){const i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],h=e[9],c=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-u*i,t[1]=a*r-h*i,t[2]=s*r-c*i,t[3]=l*r-d*i,t[8]=o*i+u*r,t[9]=a*i+h*r,t[10]=s*i+c*r,t[11]=l*i+d*r,t}function a(t,e,n){const i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],h=e[5],c=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+u*i,t[1]=a*r+h*i,t[2]=s*r+c*i,t[3]=l*r+d*i,t[4]=u*r-o*i,t[5]=h*r-a*i,t[6]=c*r-s*i,t[7]=d*r-l*i,t}function s(t,e,n){const i=n[0],r=n[1],o=n[2];let a,s,l,u,h,c,d,f,p,g,m,v;return e===t?(t[12]=e[0]*i+e[4]*r+e[8]*o+e[12],t[13]=e[1]*i+e[5]*r+e[9]*o+e[13],t[14]=e[2]*i+e[6]*r+e[10]*o+e[14],t[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[0],s=e[1],l=e[2],u=e[3],h=e[4],c=e[5],d=e[6],f=e[7],p=e[8],g=e[9],m=e[10],v=e[11],t[0]=a,t[1]=s,t[2]=l,t[3]=u,t[4]=h,t[5]=c,t[6]=d,t[7]=f,t[8]=p,t[9]=g,t[10]=m,t[11]=v,t[12]=a*i+h*r+p*o+e[12],t[13]=s*i+c*r+g*o+e[13],t[14]=l*i+d*r+m*o+e[14],t[15]=u*i+f*r+v*o+e[15]),t}function l(t,e){t[0]=e.a,t[1]=e.b,t[2]=0,t[3]=0,t[4]=e.c,t[5]=e.d,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e.e,t[13]=e.f,t[14]=0,t[15]=1}function u(t,e,n){const i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function h(t,e,n){const i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15];let b=n[0],w=n[1],x=n[2],_=n[3];return t[0]=b*i+w*s+x*c+_*g,t[1]=b*r+w*l+x*d+_*m,t[2]=b*o+w*u+x*f+_*v,t[3]=b*a+w*h+x*p+_*y,b=n[4],w=n[5],x=n[6],_=n[7],t[4]=b*i+w*s+x*c+_*g,t[5]=b*r+w*l+x*d+_*m,t[6]=b*o+w*u+x*f+_*v,t[7]=b*a+w*h+x*p+_*y,b=n[8],w=n[9],x=n[10],_=n[11],t[8]=b*i+w*s+x*c+_*g,t[9]=b*r+w*l+x*d+_*m,t[10]=b*o+w*u+x*f+_*v,t[11]=b*a+w*h+x*p+_*y,b=n[12],w=n[13],x=n[14],_=n[15],t[12]=b*i+w*s+x*c+_*g,t[13]=b*r+w*l+x*d+_*m,t[14]=b*o+w*u+x*f+_*v,t[15]=b*a+w*h+x*p+_*y,t}function c(t,e,n){const i=e[0],r=e[1],o=e[2];let a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t}n.d(e,{B$:function(){return l},G9:function(){return h},Iu:function(){return s},TL:function(){return i},fF:function(){return c},jI:function(){return a},lM:function(){return r},mN:function(){return u},uD:function(){return o}})},54743:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});const i=[(t,e,n,i,r,o,a)=>e.arc(t[1]*r+n,t[2]*o+i,t[3]*(r+o)/2,t[4],t[5],t[6],a),(t,e,n,i,r,o,a)=>e.arcTo(t[1]*r+n,t[2]*o+i,t[3]*r+n,t[4]*o+i,t[5]*(r+o)/2,a),(t,e,n,i,r,o,a)=>e.bezierCurveTo(t[1]*r+n,t[2]*o+i,t[3]*r+n,t[4]*o+i,t[5]*r+n,t[6]*o+i,a),(t,e,n,i)=>e.closePath(),(t,e,n,i,r,o)=>e.ellipse(t[1]*r+n,t[2]*o+i,t[3]*r,t[4]*o,t[5],t[6],t[7],t[8]),(t,e,n,i,r,o,a)=>e.lineTo(t[1]*r+n,t[2]*o+i,a),(t,e,n,i,r,o,a)=>e.moveTo(t[1]*r+n,t[2]*o+i,a),(t,e,n,i,r,o,a)=>e.quadraticCurveTo(t[1]*r+n,t[2]*o+i,t[3]*r+n,t[4]*o+i,a),(t,e,n,i,r,o,a)=>e.rect(t[1]*r+n,t[2]*o+i,t[3]*r,t[4]*o,a)];function r(t,e,n=0,r=0,o=1,a=1,s){for(let l=0;l<t.length;l++){const u=t[l];i[u[0]](u,e,n,r,o,a,s)}}},46530:function(t,e,n){"use strict";n.d(e,{V3:function(){return l},fW:function(){return s},hJ:function(){return u}});var i=n(57343),r=n(21448),o=n(19591);function a(t,e,n,i,r,o,a){var s;let l=e.p0,u=i;if(n&&n.originP1===n.originP2&&(l=n.p0),e.defined)i||(t.lineTo(l.x+r,l.y+o,a),u=!i);else{const{originP1:h,originP2:c}=e;let d;if(h&&!1!==h.defined&&!n?d=l:h&&!1!==c.defined&&(d=null!==(s=e.p3)&&void 0!==s?s:e.p1),i){u=!i;const n=d?d.x:e.p0.x,s=d?d.y:e.p0.y;t.moveTo(n+r,s+o,a)}else d&&(u=!i,t.lineTo(d.x+r,d.y+o,a))}return u}function s(t,e,n,s,l){const{offsetX:u=0,offsetY:h=0,offsetZ:c=0,mode:d="none",drawConnect:f=!1}=l||{};if(f&&"none"===d)return;if(!e)return;let p=!0;const{curves:g}=e;if(n>=1){if(f){let e,n=!0;g.forEach(((i,r)=>{i.originP1!==i.originP2?(n=a(t,i,e,n,u,h,c),e=i):e=i}))}else g.forEach((e=>{e.defined?(p&&t.moveTo(e.p0.x+u,e.p0.y+h,c),(0,o.w)(t,e,1,l),p=!1):p=!0}));return}if(n<=0)return;let m;"x"===s?m=r.Nm.ROW:"y"===s?m=r.Nm.COLUMN:"auto"===s&&(m=e.direction);const v=n*e.tryUpdateLength(m);let y=0,b=!0,w=null;for(let e=0,n=g.length;e<n;e++){const n=g[e],r=n.getLength(m),s=(v-y)/r;if(y+=r,s<0)break;if(f){if(n.originP1===n.originP2){w=n;continue}b=a(t,n,w,b,u,h,c),w=n}else{if(!n.defined){p=!0;continue}p&&t.moveTo(n.p0.x+u,n.p0.y+h,c),(0,o.w)(t,n,(0,i.VV)(s,1),l),p=!1}}}function l(t,e,n,i){const{offsetX:r=0,offsetY:o=0}=i||{},a=e?e.points[e.points.length-1]:n.points[0];t.moveTo(a.x+r,a.y+o),n.points.forEach((e=>{!1!==e.defined?t.lineTo(e.x+r,e.y+o):t.moveTo(e.x+r,e.y+o)}))}function u(t,e,n,i){const{offsetX:r=0,offsetY:o=0}=i||{},{points:a}=n,s=[];let l=0;for(let t=0;t<a.length;t++)!1===a[t].defined&&(l+1!==t&&s.slice(l,t),l=t);s.length,s.push(a),s.forEach(((n,i)=>{var a,s,l,u;const h=e&&0===i?e.points[e.points.length-1]:n[0];t.moveTo(h.x+r,h.y+o),n.forEach((e=>{!1!==e.defined?t.lineTo(e.x+r,e.y+o):t.moveTo(e.x+r,e.y+o)}));for(let e=n.length-1;e>=0;e--){const i=n[e];t.lineTo(null!==(a=i.x1)&&void 0!==a?a:i.x,null!==(s=i.y1)&&void 0!==s?s:i.y)}t.lineTo(null!==(l=h.x1)&&void 0!==l?l:h.x,null!==(u=h.y1)&&void 0!==u?u:h.y),t.closePath()}))}},19591:function(t,e,n){"use strict";n.d(e,{w:function(){return r}});var i=n(86717);function r(t,e,n,r){if(!e.p1)return;const{offsetX:o=0,offsetY:a=0,offsetZ:s=0}=r||{};if(1===n)e.p2&&e.p3?t.bezierCurveTo(o+e.p1.x,a+e.p1.y,o+e.p2.x,a+e.p2.y,o+e.p3.x,a+e.p3.y,s):t.lineTo(o+e.p1.x,a+e.p1.y,s);else if(e.p2&&e.p3){const[r]=(0,i.m)(e,n);t.bezierCurveTo(o+r.p1.x,a+r.p1.y,o+r.p2.x,a+r.p2.y,o+r.p3.x,a+r.p3.y,s)}else{const i=e.getPointAt(n);t.lineTo(o+i.x,a+i.y,s)}}},24369:function(t,e,n){"use strict";n.d(e,{H:function(){return i}});class i{getLength(t){return null!=t?this.calcProjLength(t):(Number.isFinite(this.length)||(this.length=this.calcLength()),this.length)}}},86717:function(t,e,n){"use strict";n.d(e,{A:function(){return c},m:function(){return h}});var i=n(945),r=n(57343),o=n(24369),a=n(21448);function s(t,e,n,r,o){return function(t,e){let n=0;const r=t.length;for(let o=0;o<r;o++){const a=t[o],s=e[o],l=t[(o+1)%r],u=e[(o+1)%r];n+=i.HL.distanceNN(a,s,l,u)}return n/2}([t.x,e.x,n.x,r.x],[t.y,e.y,n.y,r.y])}function l(t,e,n,i,r){const o=1-r;return o*o*o*t+3*e*r*o*o+3*n*r*r*o+i*r*r*r}function u(t,e,n,r,o){const a=l(t.x,e.x,n.x,r.x,o),s=l(t.y,e.y,n.y,r.y,o);return new i.E9(a,s)}function h(t,e){const{p0:n,p1:r,p2:o,p3:a}=t,s=u(n,r,o,a,e),l=i.HL.pointAtPP(n,r,e),h=i.HL.pointAtPP(r,o,e),d=i.HL.pointAtPP(o,a,e),f=i.HL.pointAtPP(l,h,e),p=i.HL.pointAtPP(h,d,e);return[new c(n,l,f,s),new c(s,p,d,a)]}class c extends o.H{constructor(t,e,n,i){super(),this.type=a.D5.CubicBezierCurve,this.p0=t,this.p1=e,this.p2=n,this.p3=i}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y+this.p3.x+this.p3.y)}getPointAt(t){if(!1!==this.defined)return u(this.p0,this.p1,this.p2,this.p3,t);throw new Error("definedfalsegetPointAt")}calcLength(){return this._validPoint()?s(this.p0,this.p1,this.p2,this.p3):60}calcProjLength(t){return t===a.Nm.ROW?(0,r.Wn)(this.p0.x-this.p3.x):t===a.Nm.COLUMN?(0,r.Wn)(this.p0.y-this.p3.y):0}getAngleAt(t){const e=(0,r.Fp)(t-.01,0),n=(0,r.VV)(t+.01,1),i=this.getPointAt(e),o=this.getPointAt(n);return(0,r.fv)(o.y-i.y,o.x-i.x)}}},76960:function(t,e,n){"use strict";n.d(e,{d:function(){return s},g:function(){return l}});var i=n(945),r=n(57343),o=n(24369),a=n(21448);function s(t,e){const{p0:n,p1:r}=t,o=i.HL.pointAtPP(n,r,e);return[new l(n,o),new l(o,r)]}class l extends o.H{constructor(t,e){super(),this.type=a.D5.LineCurve,this.p0=t,this.p1=e}getPointAt(t){if(!1!==this.defined)return i.HL.pointAtPP(this.p0,this.p1,t);throw new Error("definedfalsegetPointAt")}getAngleAt(t){return null==this.angle&&(this.angle=(0,r.fv)(this.p1.y-this.p0.y,this.p1.x-this.p0.x)),this.angle}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y)}calcLength(){return this._validPoint()?i.HL.distancePP(this.p0,this.p1):60}calcProjLength(t){return t===a.Nm.ROW?(0,r.Wn)(this.p0.x-this.p1.x):t===a.Nm.COLUMN?(0,r.Wn)(this.p0.y-this.p1.y):0}}},40088:function(t,e,n){"use strict";n.d(e,{X0:function(){return B}});var i=n(57343),r=n(945),o=n(21448),a=n(86717),s=n(76960);class l{get endX(){return this._lastX}get endY(){return this._lastY}constructor(t,e){this.init(t,e)}init(t,e){this._lastX=this._lastY=this._startX=this._startY=0,this.curveType=t,this.direction=e,this.curves=[]}bezierCurveTo(t,e,n,i,o,s,l,u){const h=new a.A(new r.E9(this._lastX,this._lastY),new r.E9(t,e),new r.E9(n,i),new r.E9(o,s));h.originP1=this._lastOriginP,h.originP2=u,h.defined=l,this.curves.push(h),this._lastX=o,this._lastY=s,this._lastOriginP=u}closePath(){if(this.curves.length<2)return;const t=this.curves[this.curves.length-1];this.lineTo(this._startX,this._startY,t.defined,this._startOriginP)}ellipse(){throw new Error("SegContextellipse")}lineTo(t,e,n,i){const r=this.addLinearCurve(t,e,n,this._lastOriginP,i);this.curves.push(r),this._lastX=t,this._lastY=e,this._lastOriginP=i}moveTo(t,e,n){return this._lastX=this._startX=t,this._lastY=this._startY=e,this._lastOriginP=n,this._startOriginP=n,this}quadraticCurveTo(t,e,n,i){throw new Error("SegContextquadraticCurveTo")}clear(){this.curves=[],this.length=NaN}tryUpdateLength(t){return this.getLength(t)}addLinearCurve(t,e,n,i,o){const a=new s.g(new r.E9(this._lastX,this._lastY),new r.E9(t,e));return a.originP1=i,a.originP2=o,a.defined=n,a}getPointAt(t){throw new Error("")}getCurveLengths(){return[]}getLength(t){var e,n;if(t===o.Nm.COLUMN){if(!this.curves.length)return 0;const t=this.curves[0],n=this.curves[this.curves.length-1],r=null!==(e=n.p3)&&void 0!==e?e:n.p1;return(0,i.Wn)(t.p0.y-r.y)}if(t===o.Nm.ROW){if(!this.curves.length)return 0;const t=this.curves[0],e=this.curves[this.curves.length-1],r=null!==(n=e.p3)&&void 0!==n?n:e.p1;return(0,i.Wn)(t.p0.x-r.x)}return Number.isFinite(this.length)||(this.length=this.curves.reduce(((t,e)=>t+e.getLength()),0)),this.length}}class u extends l{bezierCurveTo(t,e,n,i,r,o,a,s){return super.bezierCurveTo(e,t,i,n,o,r,a,s)}lineTo(t,e,n,i){return super.lineTo(e,t,n,i)}moveTo(t,e,n){return super.moveTo(e,t,n)}clear(){return super.clear()}}function h(t,e,n=1){let i=!1;for(let n=0,r=e.length;n<=r;n++)n>=r===i&&((i=!i)?t.lineStart():t.lineEnd()),i&&t.point(e[n])}function c(t,e,n){const r=null!=e?e:(0,i.Wn)(n[n.length-1].x-n[0].x)>(0,i.Wn)(n[n.length-1].y-n[0].y)?o.Nm.ROW:o.Nm.COLUMN;return"monotoneY"===t?new u(t,r):new l(t,r)}class d{constructor(t,e){this.context=t,e&&(this.startPoint=e)}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){const e=t.x,n=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,n,!1!==this._lastDefined&&!1!==t.defined,t):this.context.moveTo(e,n,t);break;case 1:this._point=2;default:this.context.lineTo(e,n,!1!==this._lastDefined&&!1!==t.defined,t)}this._lastDefined=t.defined}tryUpdateLength(){return this.context.tryUpdateLength()}}function f(t,e={}){const{direction:n,startPoint:i}=e;if(t.length<2-Number(!!i))return null;const r=c("linear",n,t);return function(t,e){h(t,e,1)}(new d(r,i),t),r}function p(t,e,n,i,r){t.context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6,i,t.lastPoint1)}class g{constructor(t,e){this.context=t,this.startPoint=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){2===this._point&&p(this,6*this._x1-(this._x0+4*this._x1),6*this._y1-(this._y0+4*this._y1),!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1),(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){const e=t.x,n=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,n,!1!==this._lastDefined1&&!1!==this._lastDefined2,t):this.context.moveTo(e,n,t);break;case 1:this._point=2;break;default:p(this,e,n,!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}}function m(t,e={}){const{direction:n,startPoint:i}=e;if(t.length<2-Number(!!i))return null;if(t.length<3-Number(!!i))return f(t,e);const r=c("basis",n,t);return function(t,e){h(t,e,2)}(new g(r,i),t),r}function v(t){return t<0?-1:1}function y(t,e,n){const i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||Number(r<0&&-0)),a=(n-t._y1)/(r||Number(i<0&&-0)),s=(o*r+a*i)/(i+r);return(v(o)+v(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function b(t,e){const n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function w(t,e,n,i,r){const o=t._x0,a=t._y0,s=t._x1,l=t._y1,u=(s-o)/3;t.context.bezierCurveTo(o+u,a+u*e,s-u,l-u*n,s,l,i,t.lastPoint1)}class x{constructor(t,e){this.context=t,this.startPoint=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x1,this._y1,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1);break;case 3:w(this,this._t0,b(this,this._t0),!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1)}(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){let e=NaN;const n=t.x,i=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(n,i,!1!==this._lastDefined1&&!1!==this._lastDefined2,t):this.context.moveTo(n,i,t);break;case 1:this._point=2;break;case 2:this._point=3,w(this,b(this,e=y(this,n,i)),e,!1!==this._lastDefined1&&!1!==this._lastDefined2);break;default:w(this,this._t0,e=y(this,n,i),!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=i,this._t0=e,this._lastDefined1=this._lastDefined2,this._lastDefined2=!1!==t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}}class _ extends x{constructor(t,e){super(t,e)}point(t){return super.point({y:t.x,x:t.y,defined:t.defined})}}function C(t,e={}){const{direction:n,startPoint:i}=e;if(t.length<2-Number(!!i))return null;if(t.length<3-Number(!!i))return f(t,e);const r=c("monotoneX",n,t);return function(t,e){h(t,e,2)}(new x(r,i),t),r}function S(t,e={}){const{direction:n,startPoint:i}=e;if(t.length<2-Number(!!i))return null;if(t.length<3-Number(!!i))return f(t,e);const r=c("monotoneY",n,t);return function(t,e){h(t,e,2)}(new _(r,i),t),r}class M{constructor(t,e=.5,n){this.context=t,this._t=e,this.startPoint=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x=this._y=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){0<this._t&&this._t<1&&2===this._point&&this.context.lineTo(this._x,this._y,!1!==this._lastDefined,this.lastPoint),(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}point(t){const e=t.x,n=t.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,n,!1!==this._lastDefined&&!1!==t.defined,t):this.context.moveTo(e,n,t);break;case 1:this._point=2;default:if(this._t<=0)this.context.lineTo(this._x,n,!1!==this._lastDefined&&!1!==t.defined,this.lastPoint),this.context.lineTo(e,n,!1!==this._lastDefined&&!1!==t.defined,t);else{const i=this._x*(1-this._t)+e*this._t;this.context.lineTo(i,this._y,!1!==this._lastDefined&&!1!==t.defined,this.lastPoint),this.context.lineTo(i,n,!1!==this._lastDefined&&!1!==t.defined,t)}}this._lastDefined=t.defined,this._x=e,this._y=n,this.lastPoint=t}tryUpdateLength(){return this.context.tryUpdateLength()}}function A(t,e,n={}){const{direction:r,startPoint:a}=n;if(t.length<2-Number(!!a))return null;const s=new l("step",null!=r?r:(0,i.Wn)(t[t.length-1].x-t[0].x)>(0,i.Wn)(t[t.length-1].y-t[0].y)?o.Nm.ROW:o.Nm.COLUMN);return function(t,e){h(t,e,1)}(new M(s,e,a),t),s}class T extends d{lineEnd(){this.context.closePath()}}function k(t,e={}){const{direction:n,startPoint:i}=e;if(t.length<2-Number(!!i))return null;const r=c("linear",n,t);return function(t,e){h(t,e,1)}(new T(r,i),t),r}function R(t,e,n,r,o){let a=t._x1,s=t._y1,l=t._x2,u=t._y2;if(t._l01_a>i.Ho){const e=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,n=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*e-t._x0*t._l12_2a+t._x2*t._l01_2a)/n,s=(s*e-t._y0*t._l12_2a+t._y2*t._l01_2a)/n}if(t._l23_a>i.Ho){const i=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,r=3*t._l23_a*(t._l23_a+t._l12_a);l=(l*i+t._x1*t._l23_2a-e*t._l12_2a)/r,u=(u*i+t._y1*t._l23_2a-n*t._l12_2a)/r}t.context.bezierCurveTo(a,s,l,u,t._x2,t._y2,r,t.lastPoint1)}function I(t,e){return function(n,i,r={}){const{direction:o,startPoint:a}=r;if(n.length<2-Number(!!a))return null;if(n.length<3-Number(!!a))return f(n,r);const s=c(t,o,n);return h(new e(s,i,a),n,2),s}}const P=I("catmullRom",class{constructor(t,e=.5,n){this.context=t,this.startPoint=n,this._alpha=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x2,this._y2,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1);break;case 3:this.point({x:this._x2,y:this._y2})}(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(t){const{x:e,y:n}=t;if(this._point){const t=this._x2-e,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(e,n,!1!==this._lastDefined1&&!1!==this._lastDefined2):this.context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3;default:R(this,e,n,!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}});const E=I("catmullRomClosed",class{constructor(t,e=.5,n){this.context=t,this.startPoint=n,this._alpha=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 1:this.context.moveTo(this._x3,this._y3,this.lastPoint1),this.context.closePath();break;case 2:this.context.lineTo(this._x3,this._y3,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1),this.context.closePath();break;case 3:this.point({x:this._x3,y:this._y3}),this.point({x:this._x4,y:this._y4}),this.point({x:this._x5,y:this._y5})}}point(t){const{x:e,y:n}=t;if(this._point){const t=this._x2-e,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=n;break;case 1:this._point=2,this.context.moveTo(this._x4=e,this._y4=n,t);break;case 2:this._point=3,this._x5=e,this._y5=n;break;default:R(this,e,n,!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=n,this._lastDefined1=this._lastDefined2,this._lastDefined2=t.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=t}tryUpdateLength(){return this.context.tryUpdateLength()}});function B(t,e,n){var i,r;switch(e){case"linear":default:return f(t,n);case"basis":return m(t,n);case"monotoneX":return C(t,n);case"monotoneY":return S(t,n);case"step":return A(t,.5,n);case"stepBefore":return A(t,0,n);case"stepAfter":return A(t,1,n);case"catmullRom":return P(t,null!==(i=null==n?void 0:n.curveTension)&&void 0!==i?i:.5,n);case"catmullRomClosed":return E(t,null!==(r=null==n?void 0:n.curveTension)&&void 0!==r?r:.5,n);case"linearClosed":return k(t,n)}}},53881:function(t,e,n){"use strict";n.d(e,{U:function(){return s}});var i=n(57343),r=n(66990),o=n(42921);const a=i.pi/2;function s(t,e,n,s,l,u,h){let c;if(s<0&&(e+=s,s=-s),l<0&&(n+=l,l=-l),(0,r.Z)(u,!0))c=[u=(0,i.Wn)(u),u,u,u];else if(Array.isArray(u)){const t=u;let e,n;switch(t.length){case 0:c=[0,0,0,0];break;case 1:e=(0,i.Wn)(t[0]),c=[e,e,e,e];break;case 2:case 3:e=(0,i.Wn)(t[0]),n=(0,i.Wn)(t[1]),c=[e,n,e,n];break;default:c=t,c[0]=(0,i.Wn)(c[0]),c[1]=(0,i.Wn)(c[1]),c[2]=(0,i.Wn)(c[2]),c[3]=(0,i.Wn)(c[3])}}else c=[0,0,0,0];if(s<0||c[0]+c[1]+c[2]+c[3]<1e-12)return t.rect(e,n,s,l);const[d,f,p,g]=[[e,n],[e+s,n],[e+s,n+l],[e,n+l]],m=Math.min(s/2,l/2),v=[Math.min(m,c[0]),Math.min(m,c[1]),Math.min(m,c[2]),Math.min(m,c[3])],y=[d[0]+v[0],d[1]],b=[d[0],d[1]+v[0]],w=[f[0]-v[1],f[1]],x=[f[0],f[1]+v[1]],_=[p[0]-v[2],p[1]],C=[p[0],p[1]-v[2]],S=[g[0]+v[3],g[1]],M=[g[0],g[1]-v[3]];if(t.moveTo(y[0],y[1]),h&&h[0]?h[0](y[0],y[1],w[0],w[1]):t.lineTo(w[0],w[1]),!(0,o.h6)(w,x)){h&&h[0]&&t.moveTo(w[0],w[1]);const e=w[0],n=w[1]+v[1];t.arc(e,n,v[1],-a,0,!1)}if(h&&h[1]?h[1](x[0],x[1],C[0],C[1]):t.lineTo(C[0],C[1]),!(0,o.h6)(_,C)){const e=C[0]-v[2],n=C[1];h&&h[1]&&t.moveTo(C[0],C[1]),t.arc(e,n,v[2],0,a,!1)}if(h&&h[2]?h[2](_[0],_[1],S[0],S[1]):t.lineTo(S[0],S[1]),!(0,o.h6)(S,M)){const e=S[0],n=S[1]-v[3];h&&h[2]&&t.moveTo(S[0],S[1]),t.arc(e,n,v[3],a,i.pi,!1)}if(h&&h[3]?h[3](M[0],M[1],b[0],b[1]):t.lineTo(b[0],b[1]),!(0,o.h6)(y,b)){const e=y[0],n=y[1]+v[0];h&&h[3]&&t.moveTo(b[0],b[1]),t.arc(e,n,v[0],i.pi,i.pi+a,!1)}return!h&&t.closePath(),t}},27079:function(t,e,n){"use strict";n.d(e,{Ud:function(){return a},kD:function(){return o},qA:function(){return s}});var i=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};function r(t,e,n){const i={},r=[];return t.forEachChildren((t=>{const{zIndex:n=e}=t.attribute;i[n]?i[n].push(t):(i[n]=[t],r.push(n))}),n),r.sort(((t,e)=>n?e-t:t-e)),{childMap:i,zIdxArray:r}}function o(t,e,n,i=!1,o=!1){let a=!1;if(o)a=!0;else{let n;t.forEachChildren(((t,i)=>{const{zIndex:r=e}=t.attribute;if(0===i)n=r;else if(n!==r)return a=!0,!0;return!1}),i)}if(a){const{childMap:a,zIdxArray:s}=r(t,e,i);let l=!1;for(let t=0;t<s.length&&!l;t++){const e=a[s[t]];o&&e.sort(((t,e)=>{var n,r;return(i?-1:1)*((null!==(n=e.attribute.z)&&void 0!==n?n:0)-(null!==(r=t.attribute.z)&&void 0!==r?r:0))}));for(let t=0;t<e.length;t++)if(n(e[t],t)){l=!0;break}}}else t.forEachChildren(n,i)}function a(t,e,n,r=!1){return i(this,void 0,void 0,(function*(){yield t.forEachChildrenAsync(n,r)}))}function s(t,e,n,i=!1){let o=!1;t.forEachChildren(((t,e)=>{const{zIndex:i=n}=t.attribute;if(0===e);else if(void 0!==i)return o=!0,!0;return!1}),i);let a=null,s=!1;if(o){const{childMap:o,zIdxArray:l}=r(t,n,i);let u=!1;for(let t=0;t<l.length&&!u;t++){const n=o[l[t]];for(let t=0;t<n.length;t++){if(s){u=!0,a=n[t];break}n[t]._uid!==e||(s=!0)}}}else t.forEachChildren((t=>s?(a=t,!0):(t._uid===e&&(s=!0),!1)),i);return a}},67984:function(t,e,n){"use strict";function i(t,e){return"end"===t||"right"===t?-e:"center"===t?-e/2:0}function r(t,e,n,i=0){return"middle"===t?-e/2:"top"===t?0:"bottom"===t?i-e:t&&"alphabetic"!==t?0:(n||(n=e),-(e-n)/2-.79*n)}n.d(e,{js:function(){return i},nV:function(){return r}})},58488:function(t,e,n){"use strict";n.d(e,{Dn:function(){return h},SA:function(){return v},VA:function(){return x},dZ:function(){return w},dj:function(){return d},hT:function(){return y},jx:function(){return g}});var i,r=n(2465),o=n(68725),a=n(57343),s=n(945),l=n(44409);!function(t){t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=4]="Bottom",t[t.Left=8]="Left",t[t.ALL=15]="ALL"}(i||(i={}));const u=[!1,!1,!1,!1],h=t=>{var e;let n=!0;if((0,r.Z)(t,!0)){for(let i=0;i<4;i++)u[i]=t,n&&(n=!(null!==(e=u[i])&&void 0!==e&&!e));n=t}else if(Array.isArray(t))for(let e=0;e<4;e++)u[e]=!!t[e],n&&(n=!!u[e]);else u[0]=!1,u[1]=!1,u[2]=!1,u[3]=!1;return{isFullStroke:n,stroke:u}},c=[0,0,0,0],d=t=>t?(0,o.Z)(t)?0===t.length?0:1===t.length?t[0]:2===t.length?(c[0]=t[0],c[2]=t[0],c[1]=t[1],c[3]=t[1],c):t:t:0,f=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],p=[1,2,3,0,1,2,3,0];function g(t,e,n,i){for(;t>=a.f7;)t-=a.f7;for(;t<0;)t+=a.f7;for(;t>e;)e+=a.f7;f[0].x=n,f[1].y=n,f[2].x=-n,f[3].y=-n;const r=Math.ceil(t/a.ou)%4,o=Math.ceil(e/a.ou)%4;if(i.add((0,a.mC)(t)*n,(0,a.O$)(t)*n),i.add((0,a.mC)(e)*n,(0,a.O$)(e)*n),r!==o||e-t>a.pi){let t=!1;for(let e=0;e<p.length;e++)if(t||r!==p[e]){if(t&&o===p[e])break;if(t){const t=f[p[e]];i.add(t.x,t.y)}}else{t=!0;const e=f[r];i.add(e.x,e.y)}}}function m(t,e,n){const{x:i,y:r}=(0,a.KU)(t.x,t.y,e.x,e.y,n),{x:o,y:l}=(0,a.KU)(t.x1,t.y1,e.x1,e.y1,n),u=new s.E9(i,r,o,l);return u.defined=e.defined,u}function v(t,e,n){if(!t||!e)return[];Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);let i=[];if(t.length>e.length){i=e.map((t=>{const e=new s.E9(t.x,t.y,t.x1,t.y1);return e.defined=t.defined,e}));for(let r=0;r<e.length;r++)i[r]=m(t[r],e[r],n)}else{i=e.map((t=>{const e=new s.E9(t.x,t.y,t.x1,t.y1);return e.defined=t.defined,e}));for(let r=0;r<t.length;r++)i[r]=m(t[r],e[r],n)}return i}function y(t,e){if((0,o.Z)(t)){let n;for(let i=0;i<t.length&&void 0===n;i++)n=t[i][e];return n}return t[e]}class b{constructor(t=b.TimeOut){this.durations=[],this.timeout=t,this.lastDate=0,this.durationsListThreshold=30}call(t){return this.lastDate=Date.now(),setTimeout((()=>{this.appendDuration(Date.now()-this.lastDate),t(0)}),this.timeout,!0)}clear(t){clearTimeout(t)}appendDuration(t){this.durations.push(t),this.durations.length>this.durationsListThreshold&&this.durations.shift(),this.timeout=Math.min(Math.max(this.durations.reduce(((t,e)=>t+e),0)/this.durations.length,1e3/60),1e3/30)}}b.TimeOut=1e3/60;const w=new b,x=(t,e)=>{const n=((t,e)=>(0,l.Z)(t)&&"%"===t[t.length-1]?e*(Number.parseFloat(t.substring(0,t.length-1))/100):t)(t,e);return isNaN(n)?n:Math.max(e,n)}},50747:function(t,e,n){"use strict";n.d(e,{D0:function(){return i},iR:function(){return o},y2:function(){return r}});const i=Symbol.for("EnvContribution"),r=Symbol.for("VGlobal"),o="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol"},90154:function(t,e,n){"use strict";n.d(e,{n:function(){return x}});var i=n(19122);const r="Singleton",o="Transient",a="ConstantValue",s="DynamicValue",l="Factory",u="Function",h="Instance",c="Invalid";class d{constructor(t,e){this.id=i.R.GenAutoIncrementId(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=c,this.constraint=t=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.dynamicValue=null}clone(){const t=new d(this.serviceIdentifier,this.scope);return t.activated=t.scope===r&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.provider=this.provider,t.constraint=this.constraint,t.cache=this.cache,t}}var f=n(99945),p=n(87620);class g{getConstructorMetadata(t){return{compilerGeneratedMetadata:p.Z.getMetadata(f.FL,t),userGeneratedMetadata:p.Z.getMetadata(f.LD,t)||{}}}getPropertiesMetadata(t){throw new Error("")}}var m=n(60660);const v=(y=f.vO,t=>{const e=e=>{if(null==e)return!1;if(e.key===y&&e.value===t)return!0;if(null==e.constructorArgsMetadata)return!1;const n=e.constructorArgsMetadata;for(let e=0;e<n.length;e++)if(n[e].key===y&&n[e].value===t)return!0;return!1};return e.metaData=new m.S(y,t),e});var y;class b{constructor(t){this._binding=t}inRequestScope(){throw new Error("")}inSingletonScope(){return this._binding.scope=r,this}inTransientScope(){return this._binding.scope=o,this}whenTargetNamed(t){return this._binding.constraint=v(t),this}}class w{constructor(t){this._binding=t}to(t){return this._binding.type=h,this._binding.implementationType=t,new b(this._binding)}toSelf(){const t=this._binding.serviceIdentifier;return this.to(t)}toDynamicValue(t){return this._binding.type=s,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new b(this._binding)}toConstantValue(t){return this._binding.type=a,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=r,new b(this._binding)}toFactory(t){return this._binding.type=l,this._binding.factory=t,this._binding.scope=r,new b(this._binding)}toService(t){this.toDynamicValue((e=>e.container.get(t)))}}const x=new class{constructor(t){const e=t||{};e.defaultScope=e.defaultScope||o,this.options=e,this.id=i.R.GenAutoIncrementId(),this._bindingDictionary=new Map,this._metadataReader=new g}load(t){const e=this._getContainerModuleHelpersFactory()(t.id);t.registry(e.bindFunction,e.unbindFunction,e.isboundFunction,e.rebindFunction)}get(t){const e=this._getNotAllArgs(t,!1);return this._get(e)}getAll(t){const e=this._getAllArgs(t);return this._get(e)}getTagged(t,e,n){const i=this._getNotAllArgs(t,!1,e,n);return this._get(i)}getNamed(t,e){return this.getTagged(t,f.vO,e)}isBound(t){return this._bindingDictionary.has(t)}bind(t){const e=this.options.defaultScope,n=new d(t,e),i=this._bindingDictionary.get(t)||[];return i.push(n),this._bindingDictionary.set(t,i),new w(n)}unbind(t){this._bindingDictionary.delete(t)}rebind(t){return this.unbind(t),this.bind(t)}_getContainerModuleHelpersFactory(){const t=(t,e)=>{t._binding.moduleId=e},e=e=>n=>{const i=this.bind(n);return t(i,e),i},n=()=>t=>this.unbind(t),i=()=>t=>this.isBound(t),r=e=>n=>{const i=this.rebind(n);return t(i,e),i};return t=>({bindFunction:e(t),isboundFunction:i(),rebindFunction:r(t),unbindFunction:n(),unbindAsyncFunction:t=>null})}_getNotAllArgs(t,e,n,i){return{avoidConstraints:!1,isMultiInject:e,serviceIdentifier:t,key:n,value:i}}_getAllArgs(t){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:t}}_get(t){const e=[];return this._bindingDictionary.get(t.serviceIdentifier).filter((e=>e.constraint(t))).forEach((t=>{e.push(this._resolveFromBinding(t))})),t.isMultiInject||1!==e.length?e:e[0]}_getChildRequest(t){const e=t.implementationType,{userGeneratedMetadata:n}=this._metadataReader.getConstructorMetadata(e),i=Object.keys(n),r=[];for(let t=0;t<i.length;t++){const e=n[t],i={};e.forEach((t=>{i[t.key]=t.value}));const o={inject:i[f.B8],multiInject:i[f.Lc]},a=o.inject||o.multiInject,s={serviceIdentifier:a,constructorArgsMetadata:e},l={injectIdentifier:a,metadata:e,bindings:this._bindingDictionary.get(a).filter((t=>t.constraint(s)))};r.push(l)}return r}_resolveFromBinding(t){const e=this._getResolvedFromBinding(t);return this._saveToScope(t,e),e}_getResolvedFromBinding(t){let e;switch(t.type){case a:case u:e=t.cache;break;case h:e=this._resolveInstance(t,t.implementationType);break;default:e=t.dynamicValue({container:this})}return e}_resolveInstance(t,e){if(t.activated)return t.cache;const n=this._getChildRequest(t);return this._createInstance(e,n)}_createInstance(t,e){return e.length?new t(...this._resolveRequests(e)):new t}_resolveRequests(t){return t.map((t=>t.bindings.length>1?t.bindings.map((t=>this._resolveFromBinding(t))):this._resolveFromBinding(t.bindings[0])))}_saveToScope(t,e){t.scope===r&&(t.cache=e,t.activated=!0)}}},23421:function(t,e,n){"use strict";n.d(e,{Gp:function(){return i},IT:function(){return o},XJ:function(){return l},kj:function(){return a},no:function(){return r},ym:function(){return s}});const i=Symbol.for("TransformUtil"),r=Symbol.for("GraphicUtil"),o=Symbol.for("LayerService"),a=Symbol.for("StaticLayerHandlerContribution"),s=Symbol.for("DynamicLayerHandlerContribution"),l=Symbol.for("VirtualLayerHandlerContribution")},83406:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});var i=n(1491);class r{constructor(t,e,n){this.fontFamily=t,this.textOptions=e,this.textMeasure=n}LayoutBBox(t,e,n,i){if(t.xOffset="left"===e||"start"===e?0:"center"===e?t.width/-2:"right"===e||"end"===e?-t.width:0,"top"===n)t.yOffset=0;else if("middle"===n)t.yOffset=t.height/-2;else if("alphabetic"===n){let e=.79;if(1===i.length){const t=i[0];e=t.ascent/(t.ascent+t.descent)}t.yOffset=t.height*-e}else t.yOffset=-t.height;return t}GetLayoutByLines(t,e,n,r,o="",a,s){const{lineWidth:l,suffixPosition:u="end",measureMode:h=i.r.actualBounding,keepCenterInLine:c=!1}=null!=s?s:{};t=t.map((t=>t.toString()));const d=[],f=[0,0];if("number"==typeof l&&l!==1/0){let e;for(let n=0,i=t.length;n<i;n++){const i=this.textMeasure.measureTextPixelADscentAndWidth(t[n],this.textOptions,h);let r=t[n].toString();if(i.width>l){const i=this.textMeasure.clipTextWithSuffix(t[n],this.textOptions,l,o,a,u);r=i.str,e=i.width}else e=i.width;d.push({str:r,width:e,ascent:i.ascent,descent:i.descent,keepCenterInLine:c})}f[0]=l}else{let e,n,i=0;for(let r=0,o=t.length;r<o;r++){n=t[r];const o=this.textMeasure.measureTextPixelADscentAndWidth(t[r],this.textOptions,h);e=o.width,i=Math.max(i,e),d.push({str:n,width:e,ascent:o.ascent,descent:o.descent,keepCenterInLine:c})}f[0]=i}f[1]=d.length*r,f[0]=d.reduce(((t,e)=>Math.max(t,e.width)),0);const p={xOffset:0,yOffset:0,width:f[0],height:f[1]};return this.LayoutBBox(p,e,n,d),this.layoutWithBBox(p,d,e,n,r)}layoutWithBBox(t,e,n,i,r){const o=[0,0],a=e.length*r;"top"===i||("middle"===i?o[1]=(t.height-a)/2:"bottom"===i&&(o[1]=t.height-a));for(let a=0;a<e.length;a++)this.lineOffset(t,e[a],n,i,r,o);return{bbox:t,lines:e,fontFamily:this.fontFamily,fontSize:this.textOptions.fontSize,fontWeight:this.textOptions.fontWeight,lineHeight:r,textAlign:n,textBaseline:i}}lineOffset(t,e,n,i,r,o){if("left"===n||"start"===n?e.leftOffset=0:"center"===n?e.leftOffset=(t.width-e.width)/2:"right"!==n&&"end"!==n||(e.leftOffset=t.width-e.width),e.topOffset=r/2+(e.ascent-e.descent)/2+o[1],!e.keepCenterInLine){const t=0,n=e.ascent+e.descent+t;if(n<r-t&&("bottom"===i?e.topOffset+=(r-n)/2:"top"===i&&(e.topOffset-=(r-n)/2)),"alphabetic"===i){const t=r/(e.ascent+e.descent);e.topOffset=r/2+(e.ascent-e.descent)/2*t+o[1]}}return o[1]+=r,e}}},51854:function(t,e,n){"use strict";n.d(e,{f:function(){return d},j:function(){return c}});var i=n(35223),r=n(1491),o=n(77887),a=n(99253),s=n(81813),l=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let u=class{configure(t,e){this.canvas=t.canvas,this.context=t.context,t.bindTextMeasure(this)}_measureTextWithoutAlignBaseline(t,e,n){this.context.setTextStyleWithoutAlignBaseline(e);const i=this.context.measureText(t);return n?this.compatibleMetrics(i,e):i}_measureTextWithAlignBaseline(t,e,n){this.context.setTextStyle(e);const i=this.context.measureText(t);return n?this.compatibleMetrics(i,e):i}compatibleMetrics(t,e){if(null==t.actualBoundingBoxAscent||null==t.actualBoundingBoxDescent||null==t.fontBoundingBoxAscent||null==t.fontBoundingBoxDescent){const{ascent:n,descent:i}=this.measureTextBoundADscentEstimate(e);t.actualBoundingBoxAscent=n,t.actualBoundingBoxDescent=i,t.fontBoundingBoxAscent=n,t.fontBoundingBoxDescent=i}if(null==t.actualBoundingBoxLeft||null==t.actualBoundingBoxRight){const{left:n,right:i}=this.measureTextBoundLeftRightEstimate(e);t.actualBoundingBoxLeft=n,t.actualBoundingBoxRight=i}return t}estimate(t,{fontSize:e=o.T5.fontSize}){let n=0,i=0;for(let e=0;e<t.length;e++)t.charCodeAt(e)<128?n++:i++;return{width:~~(.8*n*e+i*e),height:e}}measureTextWidth(t,e,n){return this.context?(n=null!=n?n:this._measureTextWithoutAlignBaseline(t,e)).width:this.estimate(t,e).width}measureTextBoundsWidth(t,e,n){return this.context?(n=null!=n?n:this._measureTextWithoutAlignBaseline(t,e)).width:this.estimate(t,e).width}measureTextBoundsLeftRight(t,e,n){return this.context?{left:(n=null!=n?n:this._measureTextWithAlignBaseline(t,e,!0)).actualBoundingBoxLeft,right:n.actualBoundingBoxRight}:this.measureTextBoundLeftRightEstimate(e)}measureTextPixelHeight(t,e,n){var i;return this.context?(n=null!=n?n:this._measureTextWithoutAlignBaseline(t,e,!0),Math.abs(n.actualBoundingBoxAscent-n.actualBoundingBoxDescent)):null!==(i=e.fontSize)&&void 0!==i?i:o.q9.fontSize}measureTextPixelADscent(t,e,n){return this.context?{ascent:(n=null!=n?n:this._measureTextWithAlignBaseline(t,e,!0)).actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent}:this.measureTextBoundADscentEstimate(e)}measureTextBoundHieght(t,e,n){var i;return this.context?(n=null!=n?n:this._measureTextWithoutAlignBaseline(t,e,!0),Math.abs(n.fontBoundingBoxAscent-n.fontBoundingBoxDescent)):null!==(i=e.fontSize)&&void 0!==i?i:o.q9.fontSize}measureTextBoundADscent(t,e,n){return this.context?{ascent:(n=null!=n?n:this._measureTextWithAlignBaseline(t,e,!0)).fontBoundingBoxAscent,descent:n.fontBoundingBoxDescent}:this.measureTextBoundADscentEstimate(e)}measureTextBoundADscentEstimate(t){var e;const n=null!==(e=t.fontSize)&&void 0!==e?e:o.q9.fontSize;return{ascent:.79*n,descent:.21*n}}measureTextBoundLeftRightEstimate(t){var e;const n=null!==(e=t.fontSize)&&void 0!==e?e:o.q9.fontSize,{textAlign:i}=t;return"center"===i?{left:n/2,right:n/2}:"right"===i||"end"===i?{left:n,right:0}:{left:0,right:n}}measureTextPixelADscentAndWidth(t,e,n){if(!this.context)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(e)),{width:this.estimate(t,e).width});const i=this._measureTextWithoutAlignBaseline(t,e,!0);if(n===r.r.actualBounding)return{ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,width:i.width};if(n===r.r.estimate)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(e)),{width:i.width});if(n===r.r.fontBounding){let t=i.fontBoundingBoxAscent,e=i.fontBoundingBoxDescent;if(i.actualBoundingBoxDescent&&e<i.actualBoundingBoxDescent){const n=i.actualBoundingBoxDescent-e;e+=n,t-=n}else if(i.actualBoundingBoxAscent&&t<i.actualBoundingBoxAscent){const n=i.actualBoundingBoxAscent-t;t+=n,e-=n}return{ascent:t,descent:e,width:i.width}}return{ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,width:i.width}}measureText(t,e){return this.context?(this.context.setTextStyleWithoutAlignBaseline(e),this.context.measureText(t)):this.estimate(t,e)}clipTextVertical(t,e,n,i){if(0===t.length)return{verticalList:t,width:0};const{fontSize:r=12}=e;t.forEach((t=>{t.width=0===t.direction?r:this.measureTextWidth(t.text,e)}));const o=[];let s=0,l=0;for(;l<t.length&&s+t[l].width<n;l++)s+=t[l].width,o.push(t[l]);if(t[l]&&t[l].text.length>1){const r=this._clipText(t[l].text,e,n-s,0,t[l].text.length-1,"end",!1);if(i&&r.str!==t[l].text){let n="",i=0;for(let e=0;e<l;e++){const r=t[e];n+=r.text,i+=r.text.length}n+=t[l].text;const o=i+r.str.length;let s=(0,a.SZ)(n,o);s-=i,s!==r.str.length-1&&(r.str=r.str.substring(0,s),r.width=this.measureTextWidth(r.str,e))}o.push(Object.assign(Object.assign({},t[l]),{text:r.str,width:r.width})),s+=r.width}return{verticalList:o,width:s}}clipText(t,e,n,i,r){if(0===t.length)return{str:"",width:0};let o=this.measureTextWidth(t,e);if(o<=n)return{str:t,width:o};if(o=this.measureTextWidth(t[0],e),o>n)return{str:"",width:0};const s=this._clipText(t,e,n,0,t.length-1,"end",!1);if(i&&s.str!==t){let n=(0,a.SZ)(t,s.str.length,r);n!==s.str.length&&(n>s.str.length&&(s.wordBreaked=n,n=s.str.length),s.str=t.substring(0,n),s.width=this.measureTextWidth(s.str,e))}return s}_clipText(t,e,n,i,r,o,a){let s;if("start"===o)s=this._clipTextStart(t,e,n,i,r),a&&(s.result=a+s.str);else if("middle"===o){const i=this._clipTextMiddle(t,e,n,"","",0,0,1);s={str:"none",width:i.width,result:i.left+a+i.right}}else s=this._clipTextEnd(t,e,n,i,r),a&&(s.result=s.str+a);return s}_clipTextEnd(t,e,n,i,r){if(i===r){s.Y.getInstance().warn(`_clipTextEnd${t}, ${i}, ${r}`);const n=t.substring(0,r+1);return{str:n,width:this.measureTextWidth(n,e)}}const o=Math.floor((i+r)/2),a=t.substring(0,o+1),l=this.measureTextWidth(a,e);let u;if(l>n){if(a.length<=1)return{str:"",width:0};const r=t.substring(0,o);return u=this.measureTextWidth(r,e),u<=n?{str:r,width:u}:this._clipTextEnd(t,e,n,i,o)}if(l<n){if(o>=t.length-1)return{str:t,width:this.measureTextWidth(t,e)};const i=t.substring(0,o+2);return u=this.measureTextWidth(i,e),u>=n?{str:a,width:l}:this._clipTextEnd(t,e,n,o,r)}return{str:a,width:l}}_clipTextStart(t,e,n,i,r){const o=Math.ceil((i+r)/2),a=t.substring(o-1,t.length),s=this.measureTextWidth(a,e);let l;if(s>n){if(a.length<=1)return{str:"",width:0};const i=t.substring(o,t.length);return l=this.measureTextWidth(i,e),l<=n?{str:i,width:l}:this._clipTextStart(t,e,n,o,t.length)}if(s<n){if(o<=0)return{str:t,width:this.measureTextWidth(t,e)};const r=t.substring(o-2,t.length);return l=this.measureTextWidth(r,e),l>=n?{str:a,width:s}:this._clipTextStart(t,e,n,i,o)}return{str:a,width:s}}_clipTextMiddle(t,e,n,i,r,o,a,s){const l=t.substring(0,s),u=this.measureTextWidth(l,e);if(u+a>n)return{left:i,right:r,width:o+a};const h=t.substring(t.length-s,t.length),c=this.measureTextWidth(h,e);return u+c>n?{left:l,right:r,width:u+a}:this._clipTextMiddle(t,e,n,l,h,u,c,s+1)}clipTextWithSuffixVertical(t,e,n,i,r,o){if(""===i)return this.clipTextVertical(t,e,n,r);if(0===t.length)return{verticalList:t,width:0};const a=this.clipTextVertical(t,e,n,r);if(a.verticalList.length===t.length&&a.verticalList[a.verticalList.length-1].width===t[t.length-1].width)return a;const s=this.measureTextWidth(i,e);if(s>n)return a;let l;if(n-=s,"start"===o){const o=this.revertVerticalList(t);l=this.clipTextVertical(o,e,n,r);const a=this.revertVerticalList(l.verticalList);a.unshift({text:i,direction:1,width:s}),l.verticalList=a}else if("middle"===o){const o=this.clipTextVertical(t,e,n/2,r),a=this.revertVerticalList(t),u=this.clipTextVertical(a,e,n/2,r);o.verticalList.push({text:i,direction:1,width:s}),this.revertVerticalList(u.verticalList).forEach((t=>o.verticalList.push(t))),l={verticalList:o.verticalList,width:o.width+u.width}}else l=this.clipTextVertical(t,e,n,r),l.verticalList.push({text:i,direction:1,width:s});return l.width+=s,l}revertVerticalList(t){return t.reverse().map((t=>{const e=t.text.split("").reverse().join("");return Object.assign(Object.assign({},t),{text:e})}))}clipTextWithSuffix(t,e,n,i,r,o,s=!1){if(""===i)return this.clipText(t,e,n,r);if(0===t.length)return{str:"",width:0};const l=this.measureTextWidth(t,e);if(!s&&l<=n)return{str:t,width:l};const u=this.measureTextWidth(i,e);if(u>n)return{str:"",width:0};if(s&&l+u<=n)return{str:t+i,width:l+u};n-=u;const h=this._clipText(t,e,n,0,t.length-1,o,i);if(r&&h.str!==t){const n=(0,a.SZ)(t,h.str.length);n!==h.str.length&&(h.result=t.substring(0,n),h.width=this.measureTextWidth(h.str,e))}else s&&h.str===t&&(h.result=t+i);return h.str=h.result,h.width+=u,h}};u=l([(0,i.b)()],u);var h=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};const c=Symbol.for("TextMeasureContribution");let d=class extends u{};d=h([(0,i.b)()],d)},80331:function(t,e,n){"use strict";n.d(e,{Il:function(){return f},Oo:function(){return c},zd:function(){return d}});var i=n(35223),r=n(88575),o=n(19122),a=n(90154),s=n(12455),l=n(92908),u=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const c=Symbol.for("VWindow"),d=Symbol.for("WindowHandlerContribution");let f=class{get width(){if(this._handler){const t=this._handler.getWH();return this._width=t.width}return this._width}get height(){if(this._handler){const t=this._handler.getWH();return this._height=t.height}return this._height}get dpr(){return this._handler.getDpr()}constructor(){this.hooks={onChange:new s.n(["x","y","width","height"])},this.active=()=>{const t=this.global;t.env&&!this.actived&&(a.n.getNamed(d,t.env).configure(this,t),this.actived=!0)},this._uid=o.R.GenAutoIncrementId(),this.global=l.w.global,this.postInit()}postInit(){this.global.hooks.onSetEnv.tap("window",this.active),this.active()}get style(){var t;return null!==(t=this._handler.getStyle())&&void 0!==t?t:{}}set style(t){this._handler.setStyle(t)}create(t){var e,n;this._handler.createWindow(t);const i=this._handler.getWH();this._width=i.width,this._height=i.height,t.viewBox?this.setViewBox(t.viewBox):!1!==t.canvasControled?this.setViewBox({x1:0,y1:0,x2:this._width,y2:this._height}):this.setViewBox({x1:0,y1:0,x2:null!==(e=t.width)&&void 0!==e?e:this._width,y2:null!==(n=t.height)&&void 0!==n?n:this._height}),this.title=this._handler.getTitle(),this.resizable=!0}setWindowHandler(t){this._handler=t}setDpr(t){return this._handler.setDpr(t)}resize(t,e){return this._handler.resizeWindow(t,e)}configure(){throw new Error("")}release(){return this.global.hooks.onSetEnv.unTap("window",this.active),this._handler.releaseWindow()}getContext(){return this._handler.getContext()}getNativeHandler(){return this._handler.getNativeHandler()}getImageBuffer(t){return this._handler.getImageBuffer?this._handler.getImageBuffer(t):null}addEventListener(t,e,n){return this._handler.addEventListener(t,e,n)}removeEventListener(t,e,n){return this._handler.removeEventListener(t,e,n)}dispatchEvent(t){return this._handler.dispatchEvent(t)}getBoundingClientRect(){return this._handler.getBoundingClientRect()}getContainer(){return this._handler.container}clearViewBox(t){this._handler.clearViewBox(t)}setViewBox(t){this._handler.setViewBox(t)}setViewBoxTransform(t,e,n,i,r,o){this._handler.setViewBoxTransform(t,e,n,i,r,o)}getViewBox(){return this._handler.getViewBox()}getViewBoxTransform(){return this._handler.getViewBoxTransform()}pointTransform(t,e){const n=this._handler.getViewBox(),i={x:t,y:e};return this._handler.getViewBoxTransform().transformPoint({x:t,y:e},i),i.x-=n.x1,i.y-=n.y1,i}hasSubView(){const t=this._handler.getViewBox();return!(0===t.x1&&0===t.y1&&(0,r.Yt)(this.width,t.width())&&(0,r.Yt)(this.height,t.height()))}isVisible(t){return this._handler.isVisible(t)}onVisibleChange(t){return this._handler.onVisibleChange(t)}getTopLeft(t){return this._handler.getTopLeft(t)}};f=u([(0,i.b)(),h("design:paramtypes",[])],f)},93669:function(t,e,n){"use strict";n.d(e,{KV:function(){return s},kP:function(){return a}});var i=n(92908);let r;function o(){if(null==r)try{const t=document.createElement("canvas"),e=t.getContext("2d");r=!!(window&&t.getBoundingClientRect&&requestAnimationFrame&&window.devicePixelRatio&&e&&e.isPointInPath&&e.isPointInStroke),r&&(r=!!document.createElement)}catch(t){r=!1}}function a(){o();const t=i.w.global&&i.w.global.env;return t?"browser"===t:r}function s(){o();const t=i.w.global&&i.w.global.env;return t?"node"===t:!r}},64153:function(t,e,n){"use strict";n.d(e,{x:function(){return r}});var i=n(31479);class r{get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get x(){return this.canvas.x}get y(){return this.canvas.y}get canvasX(){return this.canvas.x}get canvasY(){return this.canvas.y}get viewX(){return this.viewport.x}get viewY(){return this.viewport.y}constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=r.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer={x:0,y:0},this.page={x:0,y:0},this.canvas={x:0,y:0},this.viewport={x:0,y:0},this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.composedDetailPath(),this.path}composedDetailPath(){return this.pickParams&&this.pickParams.graphic?(this.detailPath=this.path.slice(),this._composedDetailPath(this.pickParams)):this.detailPath=this.path.slice(),this.detailPath}_composedDetailPath(t){if(t&&t.graphic){const e=this.pickParams.graphic;if(e.stage){const n=e.stage.eventSystem.manager.propagationPath(e);this.detailPath.push(n),this._composedDetailPath(t.params)}}}preventDefault(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault()}catch(t){this.nativeEvent.preventDefault&&(0,i.Z)(this.nativeEvent.preventDefault)&&this.nativeEvent.preventDefault()}this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.stopPropagation()}catch(t){this.nativeEvent.stopPropagation&&(0,i.Z)(this.nativeEvent.stopPropagation)&&this.nativeEvent.stopPropagation()}this.propagationStopped=!0}initEvent(){}initUIEvent(){}clone(){throw new Error("Method not implemented.")}}},84303:function(t,e,n){"use strict";n.d(e,{A:function(){return r}});var i=n(64153);class r extends i.x{constructor(t,e){super(),this.type=t,this.detail=e}}},51948:function(t,e,n){"use strict";n.d(e,{F:function(){return i}});class i{static registerPlugin(t,e){i._pluginClasses[t]=e}static getPlugin(t){return i._pluginClasses[t]}}i._pluginClasses={}},67604:function(t,e,n){"use strict";n.d(e,{Q:function(){return m},w:function(){return g}});var i=n(66990),r=n(68725),o=n(74096),a=n(57343),s=n(37906),l=n(37806),u=n(58488),h=n(9353),c=n(92908),d=n(88890),f=n(51386);const p=["innerRadius","outerRadius","startAngle","endAngle","cornerRadius","padAngle","padRadius","cap",...s.DH];class g extends s.zs{constructor(t){super(t),this.type="arc",this.numberType=d.r_}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{startAngle:t,endAngle:e,outerRadius:n,innerRadius:i}=this.attribute;return this._validNumber(t)&&this._validNumber(e)&&this._validNumber(n)&&this._validNumber(i)}getParsedCornerRadius(){const t=this.getGraphicTheme(),{cornerRadius:e=t.cornerRadius,innerPadding:n=t.innerPadding,outerPadding:o=t.outerPadding}=this.attribute;let{outerRadius:a=t.outerRadius,innerRadius:s=t.innerRadius}=this.attribute;if(a+=o,s-=n,0===e||"0%"===e)return 0;const l=Math.abs(a-s),u=t=>Math.min((0,i.Z)(t,!0)?t:l*parseFloat(t)/100,l/2);if((0,r.Z)(e)){const t=e.map((t=>u(t)||0));return 0===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:(3===t.length&&t.push(0),t)}return u(e)}getParsedAngle(){const t=this.getGraphicTheme();let{startAngle:e=t.startAngle,endAngle:n=t.endAngle}=this.attribute;const{cap:i=t.cap}=this.attribute,r=n-e>=0?1:-1,s=n-e;if(e=(0,o.gt)(e),n=e+s,i&&(0,a.Wn)(s)<a.f7-a.Ho){let o=1,s=1;i.length&&(o=Number(i[0]),s=Number(i[1]));let{outerRadius:l=t.outerRadius,innerRadius:u=t.innerRadius}=this.attribute;const{outerPadding:h=t.outerPadding,innerPadding:c=t.innerPadding}=this.attribute;l+=h,u-=c;const d=Math.abs(l-u)/2,f=d/l;if(d>a.Ho&&l>a.Ho)return{startAngle:e-r*f*o,endAngle:n+r*f*s,sc:r*f*o,ec:r*f*s}}return{startAngle:e,endAngle:n}}getParsePadAngle(t,e){const n=this.getGraphicTheme(),{innerPadding:i=n.innerPadding,outerPadding:r=n.outerPadding,padAngle:o=n.padAngle}=this.attribute;let{outerRadius:s=n.outerRadius,innerRadius:l=n.innerRadius}=this.attribute;s+=r,l-=i;const{padRadius:u=(0,a._b)(s*s+l*l)}=this.attribute,h=(0,a.Wn)(e-t);let c=t,d=e,f=t,p=e;const g=o/2;let m=h,v=h;if(g>a.Ho&&u>a.Ho){const n=e>t?1:-1;let i=(0,a.ZR)(Number(u)/l*(0,a.O$)(g)),r=(0,a.ZR)(Number(u)/s*(0,a.O$)(g));return(m-=2*i)>a.Ho?(i*=n,f+=i,p-=i):(m=0,f=p=(t+e)/2),(v-=2*r)>a.Ho?(r*=n,c+=r,d-=r):(v=0,c=d=(t+e)/2),{outerStartAngle:c,outerEndAngle:d,innerStartAngle:f,innerEndAngle:p,innerDeltaAngle:m,outerDeltaAngle:v}}return{outerStartAngle:c,outerEndAngle:d,innerStartAngle:f,innerEndAngle:p,innerDeltaAngle:m,outerDeltaAngle:v}}getGraphicTheme(){return(0,h.gh)(this).arc}updateAABBBounds(t,e,n,i){this.updatePathProxyAABBBounds(n)||(i?this.updateArcAABBBoundsImprecise(t,e,n):this.updateArcAABBBoundsAccurate(t,e,n));const{tb1:r,tb2:o}=c.w.graphicService.updateTempAABBBounds(n);(0,f.E)(t,e,r),n.union(r),r.setValue(o.x1,o.y1,o.x2,o.y2);const{lineJoin:a=e.lineJoin}=t;return c.w.graphicService.transformAABBBounds(t,n,e,"miter"===a,this),n}updateArcAABBBoundsImprecise(t,e,n){let{outerRadius:i=e.outerRadius,innerRadius:r=e.innerRadius}=t;const{outerPadding:o=e.outerPadding,innerPadding:a=e.innerPadding}=t;return i+=o,r-=a,i<r&&(i=r),n.set(-i,-i,i,i),n}updateArcAABBBoundsAccurate(t,e,n){let{outerRadius:i=e.outerRadius,innerRadius:r=e.innerRadius}=t;const{outerPadding:o=e.outerPadding,innerPadding:s=e.innerPadding}=t;if(i+=o,r-=s,i<r){const t=i;i=r,r=t}let{endAngle:l=e.endAngle,startAngle:h=e.startAngle}=t;if(h>l){const t=h;h=l,l=t}return i<=a.Ho?n.set(0,0,0,0):Math.abs(l-h)>a.f7-a.Ho?n.set(-i,-i,i,i):((0,u.jx)(h,l,i,n),(0,u.jx)(h,l,r,n)),n}needUpdateTags(t){return super.needUpdateTags(t,p)}needUpdateTag(t){return super.needUpdateTag(t,p)}toCustomPath(){var t,e,n,i;const r=this.attribute,{startAngle:o,endAngle:s}=this.getParsedAngle();let u=(null!==(t=r.innerRadius)&&void 0!==t?t:0)-(null!==(e=r.innerPadding)&&void 0!==e?e:0),h=(null!==(n=r.outerRadius)&&void 0!==n?n:0)-(null!==(i=r.outerPadding)&&void 0!==i?i:0);const c=(0,a.Wn)(s-o),d=s>o;if(h<u){const t=h;h=u,u=t}const f=new l.r;if(h<=a.Ho)f.moveTo(0,0);else if(c>=a.f7-a.Ho)f.moveTo(0+h*(0,a.mC)(o),0+h*(0,a.O$)(o)),f.arc(0,0,h,o,s,!d),u>a.Ho&&(f.moveTo(0+u*(0,a.mC)(s),0+u*(0,a.O$)(s)),f.arc(0,0,u,s,o,d));else{const t=h*(0,a.mC)(o),e=h*(0,a.O$)(o),n=u*(0,a.mC)(s),i=u*(0,a.O$)(s);f.moveTo(0+t,0+e),f.arc(0,0,h,o,s,!d),f.lineTo(0+n,0+i),f.arc(0,0,u,s,o,d),f.closePath()}return f}clone(){return new g(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return g.NOWORK_ANIMATE_ATTR}}function m(t){return new g(t)}g.NOWORK_ANIMATE_ATTR=Object.assign({cap:1},s.Wl)},69543:function(t,e,n){"use strict";n.d(e,{o:function(){return o}});var i=n(62071);let r;function o(t){return r||(r=i.i.CreateGraphic("text",{})),r.initAttributes(t),r.AABBBounds}},41152:function(t,e,n){"use strict";n.d(e,{C:function(){return d},y:function(){return f}});var i=n(57343),r=n(37906),o=n(37806),a=n(58488),s=n(9353),l=n(92908),u=n(88890),h=n(51386);const c=["radius","startAngle","endAngle",...r.DH];class d extends r.zs{constructor(t={radius:1}){super(t),this.type="circle",this.numberType=u.Aw}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{startAngle:t,endAngle:e,radius:n}=this.attribute;return this._validNumber(t)&&this._validNumber(e)&&this._validNumber(n)}getGraphicTheme(){return(0,s.gh)(this).circle}updateAABBBounds(t,e,n,i){this.updatePathProxyAABBBounds(n)||(i?this.updateCircleAABBBoundsImprecise(t,e,n):this.updateCircleAABBBoundsAccurate(t,e,n));const{tb1:r,tb2:o}=l.w.graphicService.updateTempAABBBounds(n);return(0,h.E)(t,e,r),n.union(r),r.setValue(o.x1,o.y1,o.x2,o.y2),l.w.graphicService.transformAABBBounds(t,n,e,!1,this),n}updateCircleAABBBoundsImprecise(t,e,n){const{radius:i=e.radius}=t;return n.set(-i,-i,i,i),n}updateCircleAABBBoundsAccurate(t,e,n){const{startAngle:r=e.startAngle,endAngle:o=e.endAngle,radius:s=e.radius}=t;return o-r>i.f7-i.Ho?n.set(-s,-s,s,s):(0,a.jx)(r,o,s,n),n}needUpdateTags(t){return super.needUpdateTags(t,c)}needUpdateTag(t){return super.needUpdateTag(t,c)}toCustomPath(){var t,e,n;const i=this.attribute,r=null!==(t=i.radius)&&void 0!==t?t:this.getDefaultAttribute("radius"),a=null!==(e=i.startAngle)&&void 0!==e?e:this.getDefaultAttribute("startAngle"),s=null!==(n=i.endAngle)&&void 0!==n?n:this.getDefaultAttribute("endAngle"),l=new o.r;return l.arc(0,0,r,a,s),l}clone(){return new d(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return d.NOWORK_ANIMATE_ATTR}}function f(t){return new d(t)}d.NOWORK_ANIMATE_ATTR=r.Wl},77887:function(t,e,n){"use strict";n.d(e,{F1:function(){return l},Iq:function(){return T},J7:function(){return _},T5:function(){return A},Up:function(){return m},WC:function(){return c},YW:function(){return R},ZD:function(){return C},bZ:function(){return b},e9:function(){return w},eh:function(){return v},h8:function(){return x},jK:function(){return k},kx:function(){return S},pp:function(){return u},q9:function(){return d},t8:function(){return y},th:function(){return M},xF:function(){return g}});var i=n(65087),r=n(57343),o=n(81813),a=n(37806),s=n(1491);const l={x:0,y:0,z:0,dx:0,dy:0,dz:0,scrollX:0,scrollY:0,scaleX:1,scaleY:1,scaleZ:1,angle:0,alpha:0,beta:0,scaleCenter:[0,0],anchor:[0,0],anchor3d:[0,0],postMatrix:new i.y},u={fillOpacity:1,fill:!1,shadowBlur:0,shadowColor:"black",shadowOffsetX:0,shadowOffsetY:0},h={strokeOpacity:1,lineDash:[],lineDashOffset:0,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,strokeBoundsBuffer:2,stroke:!1},c=Object.assign({outerBorder:Object.assign(Object.assign({},h),{distance:0}),innerBorder:Object.assign(Object.assign({},h),{distance:0})},h),d={text:"",maxLineWidth:1/0,maxWidth:1/0,textAlign:"left",textBaseline:"alphabetic",fontSize:16,fontFamily:"PingFang SC,Microsoft Yahei,system-ui,-apple-system,segoe ui,\n    Roboto,Helvetica,Arial,sans-serif, apple color emoji,segoe ui emoji,segoe ui symbol",fontWeight:"",ellipsis:"",fontVariant:"",fontStyle:"",lineHeight:void 0,underline:0,lineThrough:0,scaleIn3d:!1,direction:"horizontal",wordBreak:"break-all",ignoreBuf:!1,verticalMode:0,wrap:!1,whiteSpace:"no-wrap",heightLimit:1/0,lineClamp:1/0,suffixPosition:"end",underlineDash:[],underlineOffset:0,disableAutoClipedPoptip:void 0,measureMode:s.r.fontBounding,keepCenterInLine:!1},f=Object.assign(Object.assign(Object.assign(Object.assign({forceBoundsWidth:void 0,forceBoundsHeight:void 0,opacity:1,background:null,backgroundOpacity:1,backgroundCornerRadius:0,texture:null,textureColor:"black",textureSize:10,texturePadding:2,backgroundMode:"no-repeat",backgroundFit:!0,blur:0,cursor:null,html:null,react:null},u),c),{alignSelf:"auto"}),{pickStrokeBuffer:0}),p={connectedType:"none",connectedStyle:{},connectedX:NaN,connectedY:NaN},g=Object.assign(Object.assign(Object.assign({strokeSeg:null,renderable:!0,pickable:!0,shadowGraphic:void 0,childrenPickable:!0,fillPickable:!0,strokePickable:!0,visible:!0,zIndex:0,layout:null,boundsPadding:0,fillStrokeOrder:0,renderStyle:"default",pickMode:"accurate",customPickShape:null,boundsMode:"accurate",keepDirIn3d:!0,shadowRootIdx:1,globalZIndex:1,globalCompositeOperation:"",overflow:"hidden",shadowPickMode:"graphic",keepStrokeScale:!1},{_debug_bounds:!1}),f),l);const m=Object.assign(Object.assign({},g),{startAngle:0,endAngle:r.f7,innerRadius:0,outerRadius:1,innerPadding:0,outerPadding:0,cornerRadius:0,padRadius:0,padAngle:0,cap:!1,forceShowCap:!1}),v=Object.assign(Object.assign(Object.assign({},g),p),{points:[],segments:[],curveType:"linear",clipRange:1,closePath:!1,curveTension:1}),y=Object.assign(Object.assign({},g),{radius:1,startAngle:0,endAngle:r.f7}),b=Object.assign(Object.assign({},g),{width:0,height:0,cornerRadius:0,path:[],clip:!1,visibleAll:!0,display:"relative",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",baseOpacity:1}),w=Object.assign(Object.assign({},g),{path:"",width:0,height:0,cornerRadius:0,clip:!1}),x=Object.assign(Object.assign(Object.assign({},g),p),{points:[],segments:[],curveType:"linear",clipRange:1,clipRangeByDimension:"default",closePath:!1,curveTension:1}),_=Object.assign(Object.assign({},g),{path:new a.r,fillStrokeOrder:1,customPath:()=>{o.Y.getInstance().warn("")}}),C=Object.assign(Object.assign({},g),{points:[],cornerRadius:0,closePath:!0}),S=Object.assign(Object.assign({},g),{width:0,height:0,x1:0,y1:0,strokeBoundsBuffer:0,cornerRadius:0}),M=(Object.assign(Object.assign({},g),{width:0,height:0,x1:0,y1:0,cornerRadius:0,length:0}),Object.assign(Object.assign({},g),{symbolType:"circle",size:10,keepDirIn3d:!0})),A=Object.assign(Object.assign(Object.assign({},g),d),{strokeBoundsBuffer:0,keepDirIn3d:!0}),T=Object.assign(Object.assign(Object.assign({},g),d),{editable:!1,width:300,height:300,ellipsis:!0,wordBreak:"break-word",verticalDirection:"top",textAlign:"left",textBaseline:"top",layoutDirection:"horizontal",textConfig:[],disableAutoWrapLine:!1,maxHeight:void 0,maxWidth:void 0,singleLine:!1}),k=Object.assign(Object.assign({repeatX:"no-repeat",repeatY:"no-repeat",image:"",width:0,height:0},g),{fill:!0,cornerRadius:0}),R=Object.assign(Object.assign({},k),{backgroundShowMode:"never",backgroundWidth:0,backgroundHeight:0,textAlign:"left",textBaseline:"middle",direction:"horizontal",margin:0,id:"",width:20,height:20,backgroundFill:"rgba(101, 117, 168, 0.1)",backgroundFillOpacity:1,backgroundStroke:!1,backgroundStrokeOpacity:1,backgroundRadius:4,opacity:1})},88890:function(t,e,n){"use strict";n.d(e,{$M:function(){return p},Aw:function(){return s},B5:function(){return g},Hf:function(){return h},IJ:function(){return o},IO:function(){return b},I_:function(){return l},Kh:function(){return d},Lo:function(){return w},PN:function(){return u},Ri:function(){return a},Us:function(){return m},_u:function(){return f},fB:function(){return v},qm:function(){return c},r_:function(){return r},tA:function(){return y}});var i=n(84306);const r=(0,i.Gg)(),o=(0,i.Gg)(),a=(0,i.Gg)(),s=(0,i.Gg)(),l=((0,i.Gg)(),(0,i.Gg)()),u=(0,i.Gg)(),h=(0,i.Gg)(),c=(0,i.Gg)(),d=(0,i.Gg)(),f=((0,i.Gg)(),(0,i.Gg)()),p=((0,i.Gg)(),(0,i.Gg)()),g=(0,i.Gg)(),m=(0,i.Gg)(),v=Symbol.for("GraphicService"),y=Symbol.for("GraphicCreator"),b=(Object.keys({"stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-width":"lineWidth","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity"}),{"stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-width":"lineWidth","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity",stroke:"stroke",fill:"fill"}),w=Object.keys(b)},62071:function(t,e,n){"use strict";n.d(e,{i:function(){return i}});const i=new class{constructor(){this.store=new Map}RegisterGraphicCreator(t,e){this.store.set(t,e),this[t]=e}CreateGraphic(t,e){const n=this.store.get(t);return n?n(e):null}}},51386:function(t,e,n){"use strict";n.d(e,{E:function(){return i}});const i=(t,e,n)=>{const{outerBorder:i,shadowBlur:r=e.shadowBlur}=t;if(i){const t=e.outerBorder,{distance:o=t.distance,lineWidth:a=t.lineWidth}=i;n.expand(o+(r+a)/2)}return n}},19747:function(t,e,n){"use strict";n.d(e,{JG:function(){return x},M_:function(){return w},RT:function(){return b}});var i=n(35223),r=n(39225),o=n(94378),a=n(66990),s=n(12455),l=n(67984),u=n(84306),h=n(63076),c=n(98126),d=n(54743),f=n(88890),p=n(67161),g=n(92908),m=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(t,e){return function(n,i){e(n,i,t)}};function b(t,e,n){var i;const{x:r=n.x,y:o=n.y,z:a=n.z,dx:s=n.dx,dy:l=n.dy,dz:u=n.dz,scaleX:c=n.scaleX,scaleY:d=n.scaleY,scaleZ:f=n.scaleZ,alpha:g=n.alpha,beta:m=n.beta,angle:v=n.angle,anchor3d:y=e.attribute.anchor,anchor:b}=e.attribute,w=[0,0,0];if(y){if("string"==typeof y[0]){const t=parseFloat(y[0])/100,n=e.AABBBounds;w[0]=n.x1+(n.x2-n.x1)*t}else w[0]=y[0];if("string"==typeof y[1]){const t=parseFloat(y[1])/100,n=e.AABBBounds;w[1]=n.x1+(n.x2-n.x1)*t}else w[1]=y[1];w[2]=null!==(i=y[2])&&void 0!==i?i:0}if((0,p.TL)(t),(0,p.Iu)(t,t,[r+s,o+l,a+u]),(0,p.Iu)(t,t,[w[0],w[1],w[2]]),(0,p.lM)(t,t,m),(0,p.uD)(t,t,g),(0,p.Iu)(t,t,[-w[0],-w[1],w[2]]),(0,p.mN)(t,t,[c,d,f]),v){const n=h.yp.allocate(),i=[0,0];if(b){if("string"==typeof y[0]){const t=parseFloat(y[0])/100,n=e.AABBBounds;i[0]=n.x1+(n.x2-n.x1)*t}else i[0]=y[0];if("string"==typeof y[1]){const t=parseFloat(y[1])/100,n=e.AABBBounds;i[1]=n.x1+(n.x2-n.x1)*t}else i[1]=y[1]}(0,p.Iu)(n,n,[i[0],i[1],0]),(0,p.jI)(n,n,v),(0,p.Iu)(n,n,[-i[0],-i[1],0]),(0,p.G9)(t,t,n)}}function w(t){const{alpha:e,beta:n}=t.attribute;return e||n}let x=class{constructor(t){this.creator=t,this.hooks={onAttributeUpdate:new s.n(["graphic"]),onSetStage:new s.n(["graphic","stage"]),onRemove:new s.n(["graphic"]),onRelease:new s.n(["graphic"]),onAddIncremental:new s.n(["graphic","group","stage"]),onClearIncremental:new s.n(["graphic","group","stage"]),beforeUpdateAABBBounds:new s.n(["graphic","stage","willUpdate","aabbBounds"]),afterUpdateAABBBounds:new s.n(["graphic","stage","aabbBounds","globalAABBBounds","selfChange"]),clearAABBBounds:new s.n(["graphic","stage","aabbBounds"])},this.tempAABBBounds1=new o.FB,this.tempAABBBounds2=new o.FB}onAttributeUpdate(t){this.hooks.onAttributeUpdate.taps.length&&this.hooks.onAttributeUpdate.call(t)}onSetStage(t,e){this.hooks.onSetStage.taps.length&&this.hooks.onSetStage.call(t,e)}onRemove(t){this.hooks.onRemove.taps.length&&this.hooks.onRemove.call(t)}onRelease(t){this.hooks.onRelease.taps.length&&this.hooks.onRelease.call(t)}onAddIncremental(t,e,n){this.hooks.onAddIncremental.taps.length&&this.hooks.onAddIncremental.call(t,e,n)}onClearIncremental(t,e){this.hooks.onClearIncremental.taps.length&&this.hooks.onClearIncremental.call(t,e)}beforeUpdateAABBBounds(t,e,n,i){this.hooks.beforeUpdateAABBBounds.taps.length&&this.hooks.beforeUpdateAABBBounds.call(t,e,n,i)}afterUpdateAABBBounds(t,e,n,i,r){this.hooks.afterUpdateAABBBounds.taps.length&&this.hooks.afterUpdateAABBBounds.call(t,e,n,i,r)}clearAABBBounds(t,e,n){this.hooks.clearAABBBounds.taps.length&&this.hooks.clearAABBBounds.call(t,e,n)}updatePathProxyAABBBounds(t,e){const n="function"==typeof e.pathProxy?e.pathProxy(e.attribute):e.pathProxy;if(!n)return!1;const i=new c.C(t);return(0,d.h)(n.commandList,i,0,0),!0}updateHTMLTextAABBBounds(t,e,n,i){const{textAlign:r,textBaseline:o}=t;if(null!=t.forceBoundsHeight){const e=(0,a.Z)(t.forceBoundsHeight)?t.forceBoundsHeight:t.forceBoundsHeight(),i=(0,l.nV)(o,e,e);n.set(n.x1,i,n.x2,i+e)}if(null!=t.forceBoundsWidth){const e=(0,a.Z)(t.forceBoundsWidth)?t.forceBoundsWidth:t.forceBoundsWidth(),i=(0,l.js)(r,e);n.set(i,n.y1,i+e,n.y2)}}combindShadowAABBBounds(t,e){if(e&&e.shadowRoot){const n=e.shadowRoot.AABBBounds;t.union(n)}}transformAABBBounds(t,e,n,i,r){if(!e.empty()){const{scaleX:r=n.scaleX,scaleY:o=n.scaleY,stroke:a=n.stroke,shadowBlur:s=n.shadowBlur,lineWidth:l=n.lineWidth,pickStrokeBuffer:h=n.pickStrokeBuffer,strokeBoundsBuffer:c=n.strokeBoundsBuffer}=t,d=this.tempAABBBounds1,f=this.tempAABBBounds2;if(a&&l){const t=(l+h)/Math.abs(r+o);(0,u.ph)(d,t,i,c),e.union(d),d.setValue(f.x1,f.y1,f.x2,f.y2)}if(s){const{shadowOffsetX:i=n.shadowOffsetX,shadowOffsetY:a=n.shadowOffsetY}=t,l=s/Math.abs(r+o)*2;(0,u.ph)(d,l,!1,c+1),d.translate(i,a),e.union(d)}}if(this.combindShadowAABBBounds(e,r),e.empty())return;let a=!0;const s=r.transMatrix;r&&r.isContainer&&(a=!(1===s.a&&0===s.b&&0===s.c&&1===s.d&&0===s.e&&0===s.f)),a&&(0,o.n2)(e,e,s)}validCheck(t,e,n,i){if(!i)return!0;if(null!=t.forceBoundsHeight||null!=t.forceBoundsWidth)return!0;if(i.shadowRoot||i.isContainer)return!0;const{visible:r=e.visible}=t;return!(!i.valid||!r)||(n.empty()||(i.parent&&n.transformWithMatrix(i.parent.globalTransMatrix),g.w.graphicService.clearAABBBounds(i,i.stage,n),n.clear()),!1)}updateTempAABBBounds(t){const e=this.tempAABBBounds1,n=this.tempAABBBounds2;return e.setValue(t.x1,t.y1,t.x2,t.y2),n.setValue(t.x1,t.y1,t.x2,t.y2),{tb1:e,tb2:n}}};x=m([(0,i.b)(),y(0,(0,r.f)(f.tA)),v("design:paramtypes",[Object])],x)},37906:function(t,e,n){"use strict";n.d(e,{DH:function(){return F},zs:function(){return V},Wl:function(){return j}});var i=n(94378),r=n(65087),o=n(945),a=n(45644),s=n(69600),l=n(44409);var u=t=>new RegExp(/^(http(s)?:\/\/)\w+[^\s]+(\.[^\s]+){1,}$/).test(t);var h=t=>new RegExp(/^data:image\/(?:gif|png|jpeg|bmp|webp|svg\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g).test(t),c=n(47505),d=n(94611),f=n.n(d),p=n(81813),g=n(2465),m=n(31479),v=n(19122),y=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};class b extends(f()){get previousSibling(){return this._prev}get nextSibling(){return this._next}get children(){return this.getChildren()}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}get count(){return this._count}get childrenCount(){return this._idMap?this._idMap.size:0}constructor(){super(),this._uid=v.R.GenAutoIncrementId(),this._firstChild=null,this._lastChild=null,this.parent=null,this._count=1}forEachChildren(t,e=!1){if(e){let e=this._lastChild,n=0;for(;e;){if(t(e,n++))return;e=e._prev}}else{let e=this._firstChild,n=0;for(;e;){if(t(e,n++))return;e=e._next}}}forEachChildrenAsync(t,e=!1){return y(this,void 0,void 0,(function*(){if(e){let e=this._lastChild,n=0;for(;e;){let i=t(e,n++);if(i.then&&(i=yield i),i)return;e=e._prev}}else{let e=this._firstChild,n=0;for(;e;){let i=t(e,n++);if(i.then&&(i=yield i),i)return;e=e._next}}}))}forEach(t){return this.forEachChildren(t)}appendChild(t,e=!0){if(this._uid===t._uid)return null;if(!e&&t.isAncestorsOf(this))throw new Error("Node::appendChildappend");return t.parent&&t.parent.removeChild(t),t.parent=this,this._lastChild?(this._lastChild._next=t,t._prev=this._lastChild,this._lastChild=t):(this._firstChild=this._lastChild=t,t._prev=t._next=null),this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this.setCount(t.count),this._structEdit=!0,t}appendChildArrHighPerformance(t,e=!1){return console.error(""),t}insertBefore(t,e){if(!e)return this.appendChild(t);if(this===t||t===e)return null;if(t.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");return e.parent!==this?null:(t.parent&&t.parent.removeChild(t),t.parent=this,t._prev=e._prev,e._prev?e._prev._next=t:this._firstChild=t,e._prev=t,t._next=e,this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t)}insertAfter(t,e){if(!e)return this.appendChild(t);if(this===t||t===e)return null;if(t.isAncestorsOf(this))throw new Error("Node::insertAfterinsert");return e.parent!==this?null:(t.parent&&t.parent.removeChild(t),t.parent=this,e._next?(e._next._prev=t,t._next=e._next):this._lastChild=t,e._next=t,t._prev=e,this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t)}insertInto(t,e){if(!this._ignoreWarn&&this._nodeList&&p.Y.getInstance().warn("insertIntoKeepIdxinsertInto"),e>=this.childrenCount)return this.appendChild(t);if(this===t)return null;if(t.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");if(t.parent&&t.parent.removeChild(t),t.parent=this,0===e)t._next=this._firstChild,this._firstChild&&(this._firstChild._prev=t),t._prev=null,this._firstChild=t;else{let n=this._firstChild;for(let t=0;t<e;t++){if(!n)return null;t>0&&(n=n._next)}if(!n)return null;t._next=n._next,t._prev=n,n._next=t,t._next&&(t._next._prev=t)}return this._idMap||(this._idMap=new Map),this._idMap.set(t._uid,t),this._structEdit=!0,this.setCount(t.count),t}insertIntoKeepIdx(t,e){if(this._nodeList||(this._nodeList=this.children),this._nodeList[e]){const n=this._nodeList[e];return this._nodeList.splice(e,0,t),this.insertBefore(t,n)}let n;this._nodeList[e]=t;for(let t=e-1;t>=0&&(n=this._nodeList[t],!n);t--);if(n)return n._next?this.insertBefore(t,n._next):this.appendChild(t);this._ignoreWarn=!0;const i=this.insertInto(t,0);return this._ignoreWarn=!1,i}removeChild(t){if(!this._idMap)return null;if(!this._idMap.has(t._uid))return null;if(this._idMap.delete(t._uid),this._nodeList){const e=this._nodeList.findIndex((e=>e===t));e>=0&&this._nodeList.splice(e,1)}return t._prev?t._prev._next=t._next:this._firstChild=t._next,t._next?t._next._prev=t._prev:this._lastChild=t._prev,t.parent=null,t._prev=null,t._next=null,this._structEdit=!0,this.setCount(-t.count),t}delete(){this.parent&&this.parent.removeChild(this)}removeAllChild(t){if(!this._idMap)return;this._nodeList&&(this._nodeList.length=0);let e=this._firstChild;for(;e;){const t=e._next;e.parent=null,e._prev=null,e._next=null,e=e._next,e=t}this._firstChild=null,this._lastChild=null,this._idMap.clear(),this._structEdit=!0,this.setCount(1-this._count)}replaceChild(t,e){throw new Error("")}find(t,e=!1){let n=null;return this.forEachChildren(((e,i)=>!(e===this||!t(e,i)||(n=e,0)))),e&&this.forEachChildren((e=>{if(e.isContainer){const i=e.find(t,!0);if(i)return n=i,!0}return!1})),n}findAll(t,e=!1){let n=[];return this.forEachChildren(((e,i)=>{e!==this&&t(e,i)&&n.push(e)})),e&&this.forEachChildren((e=>{if(e.isContainer){const i=e.findAll(t,!0);i.length&&(n=n.concat(i))}})),n}getElementById(t){return this.find((e=>e.id===t),!0)}findChildById(t){return this.getElementById(t)}findChildByUid(t){return this._idMap&&this._idMap.get(t)||null}getElementsByName(t){return this.findAll((e=>e.name===t),!0)}findChildrenByName(t){return this.getElementsByName(t)}getElementsByType(t){return this.findAll((e=>e.type===t),!0)}getChildByName(t,e=!1){return this.find((e=>e.name===t),e)}getChildAt(t){let e=this._firstChild;if(!e)return null;for(let n=0;n<t;n++){if(!e._next)return null;e=e._next}return e}at(t){return this.getChildAt(t)}containNode(t){if(!this._idMap)return!1;if(this._idMap.has(t._uid))return!0;let e=this._firstChild;for(;e;){if(e.containNode(t))return!0;e=e._next}return!1}getRootNode(){let t=this.parent;for(;null==t?void 0:t.parent;)t=t.parent;return t||this}hasChildNodes(){return null!==this._firstChild}addChild(t){return this.appendChild(t)}add(t){return this.appendChild(t)}getChildren(){const t=[];let e=this._firstChild;for(;e;)t.push(e),e=e._next;return t}isChildOf(t){return!!this.parent&&this.parent._uid===t._uid}isParentOf(t){return t.isChildOf(this)}isDescendantsOf(t){let e=this.parent;if(!e)return!1;do{if(e._uid===t._uid)return!0;e=e.parent}while(null!==e);return!1}isAncestorsOf(t){return t.isDescendantsOf(this)}getAncestor(t){throw new Error("")}setAllDescendantsProps(t,e){let n=this._firstChild;for(;n;)n[t]=e,n.setAllDescendantsProps(t,e),n=n._next}setCount(t){this._count+=t;let e=this.parent;if(e)do{e._count+=t,e=e.parent}while(null!==e)}clone(){throw new Error("")}cloneTo(t){throw new Error("")}getParent(){return this.parent}del(t){return this.removeChild(t)}addEventListener(t,e,n){const i=(0,g.Z)(n,!0)&&n||(0,c.Z)(n)&&n.capture,r=(0,c.Z)(n)&&n.once,o=(0,m.Z)(e)?void 0:e;return t=i?`${t}capture`:t,e=(0,m.Z)(e)?e:e.handleEvent,r?super.once(t,e,o):super.on(t,e,o),this}on(t,e,n){return this.addEventListener(t,e,n)}removeEventListener(t,e,n){const i=(0,g.Z)(n,!0)&&n||(0,c.Z)(n)&&n.capture,r=(0,m.Z)(e)?void 0:e;t=i?`${t}capture`:t,e=(0,m.Z)(e)?e:e.handleEvent;const o=(0,c.Z)(n)&&n.once;return super.off(t,e,r,o),this}off(t,e,n){return this.removeEventListener(t,e,n)}once(t,e,n){return(0,c.Z)(n)?(n.once=!0,this.addEventListener(t,e,n)):this.addEventListener(t,e,{once:!0})}removeAllEventListeners(){return super.removeAllListeners(),this}removeAllListeners(){return this.removeAllEventListeners()}dispatchEvent(t,...e){return super.emit(t.type,t,...e),!t.defaultPrevented}emit(t,e){return this.dispatchEvent(t,e)}release(){this.removeAllListeners()}}var w=n(84303),x=n(64153);const _={dispatchEvent(t){var e;if(!(t instanceof x.x))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=[],t.detailPath&&(t.detailPath=[]),t.target=this,null===(e=null==t?void 0:t.manager)||void 0===e||e.dispatchEvent(t),!t.defaultPrevented},emit(t,e){return this.dispatchEvent(new w.A(t,e))}};var C=n(77887),S=n(92908),M=n(8527);const A=200,T="cubicOut";var k=n(32449),R=n(37806),I=n(5198),P=n(21448),E=n(98126),B=n(54743),L=n(58488);const D=new r.y,O=new i.FB,F=["lineWidth","scaleX","scaleY","angle","anchor","visible"],H=["x","y"],N=["scaleX","scaleY"],z=["angle"],W=new o.E9,j={strokeSeg:1,boundsPadding:2,pickMode:1,boundsMode:1,customPickShape:1,pickable:1,childrenPickable:1,visible:1,zIndex:1,layout:1,keepDirIn3d:1,globalZIndex:1,outerBorder:1,innerBorder:1,lineDash:1,lineCap:1,lineJoin:1,miterLimit:2,strokeBoundsBuffer:2,scaleCenter:1,anchor:1,anchor3d:1,postMatrix:1,backgroundMode:2,background:1,texture:1,cursor:1,html:1};class V extends b{static mixin(t){const e=Object.keys(t);for(let n=0;n<e.length;++n){const i=e[n];Object.defineProperty(V.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}get AABBBounds(){return this.tryUpdateAABBBounds("imprecise"===this.attribute.boundsMode)}get OBBBounds(){return this.tryUpdateOBBBounds()}get globalAABBBounds(){return this.tryUpdateGlobalAABBBounds()}get transMatrix(){return this.tryUpdateLocalTransMatrix(!0)}get globalTransMatrix(){return this.tryUpdateGlobalTransMatrix(!0)}constructor(t={}){var e;super(),this._AABBBounds=new i.FB,this._updateTag=P.Gz.INIT,this.attribute=t,this.valid=this.isValid(),this.updateAABBBoundsStamp=0,t.background?this.loadImage(null!==(e=t.background.background)&&void 0!==e?e:t.background,!0):t.shadowGraphic&&this.setShadowGraphic(t.shadowGraphic)}setMode(t){"3d"===t?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}getOffsetXY(t,e=!1){var n,i;const{dx:r=t.dx,dy:o=t.dy}=this.attribute;if(e&&this.parent){const t=this.parent.attribute;W.x=r+(null!==(n=t.scrollX)&&void 0!==n?n:0),W.y=o+(null!==(i=t.scrollY)&&void 0!==i?i:0)}else W.x=r,W.y=o;return W}onAnimateBind(t){this._emitCustomEvent("animate-bind",t)}tryUpdateAABBBounds(t){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;if(!this.valid)return this._AABBBounds.clear(),this._AABBBounds;S.w.graphicService.beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const e=this.doUpdateAABBBounds(t);return S.w.graphicService.afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,!0),e}tryUpdateOBBBounds(){return this._OBBBounds||(this._OBBBounds=new i.a5),this.tryUpdateAABBBounds(),this.updateOBBBoundsStamp===this.updateAABBBoundsStamp?this._OBBBounds:(this.updateOBBBoundsStamp=this.updateAABBBoundsStamp,this.valid?this.doUpdateOBBBounds():(this._OBBBounds.clear(),this._OBBBounds))}combindShadowAABBBounds(t){if(this.shadowRoot){const e=this.shadowRoot.AABBBounds.clone();t.union(e)}}doUpdateOBBBounds(){return this._OBBBounds}doUpdateAABBBounds(t){this.updateAABBBoundsStamp++;const e=this.getGraphicTheme();this._AABBBounds.clear();const n=this.attribute,i=this.updateAABBBounds(n,e,this._AABBBounds,t),{boundsPadding:r=e.boundsPadding}=n,o=(0,L.dj)(r);return o&&i.expand(o),this.clearUpdateBoundTag(),i}updatePathProxyAABBBounds(t){const e="function"==typeof this.pathProxy?this.pathProxy(this.attribute):this.pathProxy;if(!e)return!1;const n=new E.C(t);return(0,B.h)(e.commandList,n,0,0),!0}tryUpdateGlobalAABBBounds(){const t=this.AABBBounds;return this._globalAABBBounds?this._globalAABBBounds.setValue(t.x1,t.y1,t.x2,t.y2):this._globalAABBBounds=t.clone(),this._globalAABBBounds.empty()||this.parent&&this._globalAABBBounds.transformWithMatrix(this.parent.globalTransMatrix),this._globalAABBBounds}tryUpdateGlobalTransMatrix(t=!0){if(this._globalTransMatrix){if(this.parent){const t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();return this.shouldUpdateGlobalMatrix()&&this.doUpdateGlobalMatrix(),this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!0}tryUpdateLocalTransMatrix(t=!0){return this._transMatrix||(this._transMatrix=new r.y),this.shouldUpdateLocalMatrix()&&(this.doUpdateLocalMatrix(),t&&this.clearUpdateLocalPositionTag()),this._transMatrix}shouldUpdateAABBBounds(){return this.shadowRoot?(!!(this._updateTag&P.Gz.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds())&&S.w.graphicService.validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this):!!(this._updateTag&P.Gz.UPDATE_BOUNDS)&&S.w.graphicService.validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this)}shouldSelfChangeUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&P.Gz.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&P.Gz.UPDATE_BOUNDS)}shouldUpdateLocalMatrix(){return!!(this._updateTag&P.Gz.UPDATE_LOCAL_MATRIX)}isValid(){var t,e;const n=this.attribute;return Number.isFinite((null!==(t=n.x)&&void 0!==t?t:0)+(null!==(e=n.y)&&void 0!==e?e:0))}_validNumber(t){return null==t||Number.isFinite(t)}shouldUpdateShape(){return!!(this._updateTag&P.Gz.UPDATE_SHAPE)}clearUpdateShapeTag(){this._updateTag&=P.Gz.CLEAR_SHAPE}containsPoint(t,e,n,i){if(!i)return!1;if(n===P.LZ.GLOBAL){const n=new o.E9(t,e);this.parent&&this.parent.globalTransMatrix.transformPoint(n,n),t=n.x,e=n.y}return i.containsPoint(this,{x:t,y:e})}setAttributes(t,e=!1,n){(t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,n)||t).background?this.loadImage(t.background,!0):t.shadowGraphic&&this.setShadowGraphic(t.shadowGraphic),this._setAttributes(t,e,n)}_setAttributes(t,e=!1,n){const i=Object.keys(t);for(let e=0;e<i.length;e++){const n=i[e];this.attribute[n]=t[n]}this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!e&&!this.needUpdateTags(i)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(n)}setAttribute(t,e,n,i){var r;const o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[t]:e},this.attribute,t,i);o?this._setAttributes(o,n,i):(0,a.Z)(null===(r=this.normalAttrs)||void 0===r?void 0:r[t])?(this.attribute[t]=e,this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!n&&!this.needUpdateTag(t)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i)):this.normalAttrs[t]=e,"background"===t?this.loadImage(e,!0):"shadowGraphic"===t&&this.setShadowGraphic(e)}needUpdateTags(t,e=F){for(let n=0;n<e.length;n++){const i=e[n];if(-1!==t.indexOf(i))return!0}return!1}needUpdateTag(t,e=F){for(let n=0;n<e.length;n++)if(t===e[n])return!0;return!1}initAttributes(t){const e={type:P.Gk.INIT};t=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,null,e)||t,this.attribute=t,t.background?this.loadImage(t.background,!0):t.shadowGraphic&&this.setShadowGraphic(t.shadowGraphic),this._updateTag=P.Gz.INIT,this.valid=this.isValid(),this.onAttributeUpdate(e)}translate(t,e){var n,i;if(0===t&&0===e)return this;const r={type:P.Gk.TRANSLATE},o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:t,y:e},this.attribute,H,r);o&&(t=o.x,e=o.y,delete o.x,delete o.y,this._setAttributes(o));const a=this.attribute,s=a.postMatrix;return s?S.w.transformUtil.fromMatrix(s,s).translate(t,e):(a.x=(null!==(n=a.x)&&void 0!==n?n:C.F1.x)+t,a.y=(null!==(i=a.y)&&void 0!==i?i:C.F1.y)+e),this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this}translateTo(t,e){const n=this.attribute;if(n.x===t&&n.y===e)return this;const i={type:P.Gk.TRANSLATE_TO},r=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:t,y:e},this.attribute,H,i);return r?(this._setAttributes(r,!1,i),this):(n.x=t,n.y=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this)}scale(t,e,n){var i,o;if(1===t&&1===e)return this;const a={type:P.Gk.SCALE},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:t,scaleY:e,scaleCenter:n},this.attribute,N,a);s&&(t=s.scaleX,e=s.scaleY,delete s.scaleX,delete s.scaleY,this._setAttributes(s));const l=this.attribute;if(n){let{postMatrix:i}=this.attribute;i||(i=new r.y,l.postMatrix=i),S.w.transformUtil.fromMatrix(i,i).scale(t,e,n)}else l.scaleX=(null!==(i=l.scaleX)&&void 0!==i?i:C.F1.scaleX)*t,l.scaleY=(null!==(o=l.scaleY)&&void 0!==o?o:C.F1.scaleY)*e;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(a),this}scaleTo(t,e){const n=this.attribute;if(n.scaleX===t&&n.scaleY===e)return this;const i={type:P.Gk.SCALE_TO},r=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:t,scaleY:e},this.attribute,N,i);return r?(this._setAttributes(r,!1,i),this):(n.scaleX=t,n.scaleY=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this)}rotate(t,e){var n;if(0===t)return this;const i={type:P.Gk.ROTATE},o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({angle:t,rotateCenter:e},this.attribute,z,i);o&&(delete o.angle,this._setAttributes(o,!1,i));const a=this.attribute;if(e){let{postMatrix:n}=this.attribute;n||(n=new r.y,a.postMatrix=n),S.w.transformUtil.fromMatrix(n,n).rotate(t,e)}else a.angle=(null!==(n=a.angle)&&void 0!==n?n:C.F1.angle)+t;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this}rotateTo(t){const e=this.attribute;if(e.angle===t)return this;const n={type:P.Gk.ROTATE_TO},i=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(t,this.attribute,z,n);return i?(this._setAttributes(i,!1,n),this):(e.angle=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(n),this)}skewTo(t,e){return this}animate(t){this.animates||(this.animates=new Map);const e=new M.rs(null==t?void 0:t.id,this.stage&&this.stage.getTimeline(),null==t?void 0:t.slience);if(e.bind(this),t){const{onStart:n,onFrame:i,onEnd:r,onRemove:o}=t;null!=n&&e.onStart(n),null!=i&&e.onFrame(i),null!=r&&e.onEnd(r),null!=o&&e.onRemove(o),e.interpolateFunc=t.interpolate}return this.animates.set(e.id,e),e.onRemove((()=>{this.animates.delete(e.id)})),e}onAttributeUpdate(t){t&&t.skipUpdateCallback||(S.w.graphicService.onAttributeUpdate(this),this._emitCustomEvent("afterAttributeUpdate",t))}update(t){t?(t.bounds&&this.tryUpdateAABBBounds("imprecise"===this.attribute.boundsMode),t.trans&&this.tryUpdateLocalTransMatrix()):(this.tryUpdateAABBBounds("imprecise"===this.attribute.boundsMode),this.tryUpdateLocalTransMatrix())}hasState(t){return!(!this.currentStates||!this.currentStates.length)&&(!!(0,a.Z)(t)||this.currentStates.includes(t))}getState(t){var e;return null===(e=this.states)||void 0===e?void 0:e[t]}applyStateAttrs(t,e,n,i){var r,o,a,s;if(n){const n=Object.keys(t),l=this.getNoWorkAnimateAttr(),u={};let h;n.forEach((e=>{l[e]?(h||(h={}),h[e]=t[e]):u[e]=i&&void 0===t[e]?this.getDefaultAttribute(e):t[e]}));const c=this.animate({slience:!0});c.stateNames=e,c.to(u,null!==(o=null===(r=this.stateAnimateConfig)||void 0===r?void 0:r.duration)&&void 0!==o?o:A,null!==(s=null===(a=this.stateAnimateConfig)||void 0===a?void 0:a.easing)&&void 0!==s?s:T),h&&this.setAttributes(h,!1,{type:P.Gk.STATE})}else this.stopStateAnimates(),this.setAttributes(t,!1,{type:P.Gk.STATE})}updateNormalAttrs(t){const e={};this.normalAttrs?(Object.keys(t).forEach((t=>{t in this.normalAttrs?(e[t]=this.normalAttrs[t],delete this.normalAttrs[t]):e[t]=this.getNormalAttribute(t)})),Object.keys(this.normalAttrs).forEach((e=>{t[e]=this.normalAttrs[e]}))):Object.keys(t).forEach((t=>{e[t]=this.getNormalAttribute(t)})),this.normalAttrs=e}stopStateAnimates(t="end"){this.animates&&this.animates.forEach((e=>{e.stateNames&&(e.stop(t),this.animates.delete(e.id))}))}getNormalAttribute(t){let e=this.attribute[t];return this.animates&&this.animates.forEach((n=>{if(n.stateNames){const i=n.getEndProps();(0,s.Z)(i,t)&&(e=i[t])}})),e}clearStates(t){this.hasState()&&this.normalAttrs?(this.currentStates=[],this.applyStateAttrs(this.normalAttrs,this.currentStates,t,!0)):this.currentStates=[],this.normalAttrs=null}removeState(t,e){if((this.currentStates?this.currentStates.indexOf(t):-1)>=0){const n=this.currentStates.filter((e=>e!==t));this.useStates(n,e)}}toggleState(t,e){if(this.hasState(t))this.removeState(t,e);else if((this.currentStates?this.currentStates.indexOf(t):-1)<0){const n=this.currentStates?this.currentStates.slice():[];n.push(t),this.useStates(n,e)}}addState(t,e,n){var i;if(this.currentStates&&this.currentStates.includes(t)&&(e||1===this.currentStates.length))return;const r=e&&(null===(i=this.currentStates)||void 0===i?void 0:i.length)?this.currentStates.concat([t]):[t];this.useStates(r,n)}useStates(t,e){var n;if(!t.length)return void this.clearStates(e);if((null===(n=this.currentStates)||void 0===n?void 0:n.length)===t.length&&!t.some(((t,e)=>this.currentStates[e]!==t)))return;const i={};t.forEach((e=>{var n;const r=this.stateProxy?this.stateProxy(e,t):null===(n=this.states)||void 0===n?void 0:n[e];r&&Object.assign(i,r)})),this.updateNormalAttrs(i),this.currentStates=t,this.applyStateAttrs(i,t,e)}addUpdateBoundTag(){this._updateTag|=P.Gz.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}addUpdateShapeTag(){this._updateTag|=P.Gz.UPDATE_SHAPE}addUpdateShapeAndBoundsTag(){this._updateTag|=P.Gz.UPDATE_SHAPE_AND_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}updateShapeAndBoundsTagSetted(){return(this._updateTag&P.Gz.UPDATE_SHAPE_AND_BOUNDS)===P.Gz.UPDATE_SHAPE_AND_BOUNDS}clearUpdateBoundTag(){this._updateTag&=P.Gz.CLEAR_BOUNDS}addUpdatePositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=P.Gz.UPDATE_GLOBAL_LOCAL_MATRIX}addUpdateGlobalPositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=P.Gz.UPDATE_GLOBAL_MATRIX}clearUpdateLocalPositionTag(){this._updateTag&=P.Gz.CLEAR_LOCAL_MATRIX}clearUpdateGlobalPositionTag(){this._updateTag&=P.Gz.CLEAR_GLOBAL_MATRIX}addUpdateLayoutTag(){this._updateTag|=P.Gz.UPDATE_LAYOUT}clearUpdateLayoutTag(){this._updateTag&=P.Gz.CLEAR_LAYOUT}needUpdateLayout(){return!!(this._updateTag&P.Gz.UPDATE_LAYOUT)}getAnchor(t,e){const n=[0,0],i=()=>{if(e.b)return e.b;const{scaleX:t,scaleY:n,angle:i}=this.attribute;return O.copy(this._AABBBounds),this.setAttributes({scaleX:1,scaleY:1,angle:0}),e.b=this.AABBBounds.clone(),this._AABBBounds.copy(O),this.setAttributes({scaleX:t,scaleY:n,angle:i}),e.b};if("string"==typeof t[0]){const e=parseFloat(t[0])/100,r=i();n[0]=r.x1+(r.x2-r.x1)*e}else n[0]=t[0];if("string"==typeof t[1]){const e=parseFloat(t[1])/100,r=i();n[1]=r.y1+(r.y2-r.y1)*e}else n[1]=t[1];return n}doUpdateLocalMatrix(){const{x:t=C.F1.x,y:e=C.F1.y,scaleX:n=C.F1.scaleX,scaleY:i=C.F1.scaleY,angle:o=C.F1.angle,scaleCenter:a,anchor:s,postMatrix:l}=this.attribute;let u=[0,0];const h={};if(s&&(u=this.getAnchor(s,h)),!a||1===n&&1===i)(0,r.X)(this._transMatrix,this._transMatrix.reset(),t,e,n,i,o,s&&u);else{const r=this._transMatrix;r.reset(),r.translate(u[0],u[1]),r.rotate(o),r.translate(-u[0],-u[1]),r.translate(t,e),u=this.getAnchor(a,h),S.w.transformUtil.fromMatrix(r,r).scale(n,i,{x:u[0],y:u[1]})}const c=this.getOffsetXY(C.F1);if(this._transMatrix.e+=c.x,this._transMatrix.f+=c.y,l){const t=D.setValue(l.a,l.b,l.c,l.d,l.e,l.f),e=this._transMatrix;t.multiply(e.a,e.b,e.c,e.d,e.e,e.f),e.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}doUpdateGlobalMatrix(){if(this.parent){this._globalTransMatrix.multiply(this.transMatrix.a,this.transMatrix.b,this.transMatrix.c,this.transMatrix.d,this.transMatrix.e,this.transMatrix.f);const{scrollX:t=0,scrollY:e=0}=this.parent.attribute;this._globalTransMatrix.translate(t,e)}}setStage(t,e){if(this.stage!==t){if(this.stage=t,this.layer=e,this.setStageToShadowRoot(t,e),this.animates&&this.animates.size){const e=t.getTimeline();this.animates.forEach((t=>{t.setTimeline(e)}))}this._onSetStage&&this._onSetStage(this,t,e),S.w.graphicService.onSetStage(this,t)}}setStageToShadowRoot(t,e){this.shadowRoot&&this.shadowRoot.setStage(t,e)}onAddStep(t){}onStop(t){t&&this.setAttributes(t,!1,{type:P.Gk.ANIMATE_END})}onStep(t,e,n,i,r){const o={};if(n.customAnimate)n.customAnimate.update(r,i,o);else{const a=n.props,s=n.parsedProps,l=n.propKeys;this.stepInterpolate(t,e,o,n,i,r,a,void 0,s,l)}this.setAttributes(o,!1,{type:P.Gk.ANIMATE_UPDATE,animationState:{ratio:i,end:r,step:n,isFirstFrameOfStep:t.getLastStep()!==n}}),this.stage&&this.stage.renderNextFrame()}stepInterpolate(t,e,n,i,r,o,a,s,l,u){u||(u=Object.keys(a),i.propKeys=u),o?i.propKeys.forEach((t=>{e.validAttr(t)&&(n[t]=a[t])})):u.forEach((o=>{var u;if(!e.validAttr(o))return;const h=a[o],c=null!==(u=s&&s[o])&&void 0!==u?u:t.getLastPropByName(o,i);if(null==h||null==c||h===c)return void(n[o]=h);let d;d=e.interpolateFunc&&e.interpolateFunc(o,r,c,h,n),d||(d=e.customInterpolate(o,r,c,h,this,n),d||this.defaultInterpolate(h,c,o,n,l,r)||this._interpolate(o,r,c,h,n))})),i.parsedProps=l}defaultInterpolate(t,e,n,i,r,o){if(Number.isFinite(t))return i[n]=e+(t-e)*o,!0;if("fill"===n){r||(r={});const a=r.fillColorArray,s=(0,k.BM)(e,null!=a?a:t,o,!1,((t,e)=>{r.fillColorArray=e}));return s&&(i[n]=s),!0}if("stroke"===n){r||(r={});const a=r.strokeColorArray,s=(0,k.BM)(e,null!=a?a:t,o,!1,((t,e)=>{r.strokeColorArray=e}));return s&&(i[n]=s),!0}if("shadowColor"===n){r||(r={});const a=r.shadowColorArray,s=(0,k.BM)(e,null!=a?a:t,o,!0,((t,e)=>{r.shadowColorArray=e}));return s&&(i[n]=s),!0}return!1}_interpolate(t,e,n,i,r){}getDefaultAttribute(t){return this.getGraphicTheme()[t]}getComputedAttribute(t){var e;return null!==(e=this.attribute[t])&&void 0!==e?e:this.getDefaultAttribute(t)}onSetStage(t,e=!1){this._onSetStage=t,e&&this.stage&&t(this,this.stage)}attachShadow(t){return t&&(t.shadowHost=this),this.shadowRoot=null!=t?t:S.w.graphicService.creator.shadowRoot(this),this.addUpdateBoundTag(),this.shadowRoot.setStage(this.stage,this.layer),this.shadowRoot}detachShadow(){this.shadowRoot&&(this.addUpdateBoundTag(),this.shadowRoot=null)}toJson(){return{attribute:this.attribute,_uid:this._uid,type:this.type,name:this.name,children:this.children.map((t=>t.toJson()))}}createPathProxy(t){return(0,l.Z)(t,!0)?this.pathProxy=(new R.r).fromString(t):this.pathProxy=new R.r,this.pathProxy}loadImage(t,e=!1){if(!t||e&&function(t){return!(!t.fill&&!t.stroke)}(t))return;const n=t;this.resources||(this.resources=new Map);const i={data:"init",state:null};this.resources.set(n,i),"string"==typeof t?(i.state="loading",t.startsWith("<svg")?(I.h.GetSvg(t,this),this.backgroundImg=this.backgroundImg||e):(u(t)||t.includes("/")||h(t))&&(I.h.GetImage(t,this),this.backgroundImg=this.backgroundImg||e)):(0,c.Z)(t)?(i.state="success",i.data=t,this.backgroundImg=this.backgroundImg||e):i.state="fail"}setShadowGraphic(t){t?this.attachShadow().add(t):this.detachShadow()}imageLoadSuccess(t,e,n){if(!this.resources)return;const i=this.resources.get(t);i&&(i.state="success",i.data=e,n&&n(),this.addUpdateBoundTag(),this.stage&&this.stage.renderNextFrame())}imageLoadFail(t,e){if(!this.resources)return;const n=this.resources.get(t);n&&(n.state="fail",e&&e())}_stopAnimates(t){t&&t.forEach((t=>{t.stop()}))}stopAnimates(t=!1){this._stopAnimates(this.animates),this.shadowRoot&&this.shadowRoot.stopAnimates(!0),this.isContainer&&t&&this.forEachChildren((e=>{e.stopAnimates(t)}))}release(){this.releaseStatus="released",S.w.graphicService.onRelease(this)}_emitCustomEvent(t,e){var n,i;if(this._events&&t in this._events){const r=new w.A(t,e);r.bubbles=!1,r.manager=null===(i=null===(n=this.stage)||void 0===n?void 0:n.eventSystem)||void 0===i?void 0:i.manager,this.dispatchEvent(r)}}}V.mixin(_)},92096:function(t,e,n){"use strict";n.d(e,{ZA:function(){return c},sS:function(){return d}});var i,r=n(945),o=n(92908),a=n(37906),s=n(9353),l=n(21448),u=n(88890),h=n(77887);!function(t){t[t.LESS_GROUP=0]="LESS_GROUP",t[t.MORE_GROUP=1]="MORE_GROUP"}(i||(i={}));class c extends a.zs{constructor(t){super(t),this.type="group",this.parent=null,this.isContainer=!0,this.numberType=u.I_,this._childUpdateTag=l.Gz.UPDATE_BOUNDS}setMode(t){"3d"===t?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}setTheme(t){return this.theme||(this.theme=new s.Q2),this.theme.setTheme(t,this)}createTheme(){this.theme||(this.theme=new s.Q2)}visibleAll(t){this.setAttribute("visible",t),this.forEachChildren((e=>{e.isContainer&&e.visibleAll?e.visibleAll(t):e.setAttribute("visible",t)}))}hideAll(){this.visibleAll(!1)}showAll(){this.visibleAll(!0)}containsPoint(t,e,n){if(n===l.LZ.GLOBAL){const n=new r.E9(t,e);return this.parent&&this.parent.globalTransMatrix.transformPoint(n,n),this.AABBBounds.contains(n.x,n.y)}return this.AABBBounds.contains(t,e)}shouldUpdateAABBBounds(){return!!super.shouldUpdateAABBBounds()||!!(this._childUpdateTag&l.Gz.UPDATE_BOUNDS)}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;o.w.graphicService.beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const t=this.shouldSelfChangeUpdateAABBBounds(),e=this.doUpdateAABBBounds();return this.addUpdateLayoutTag(),o.w.graphicService.afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,t),e}doUpdateLocalMatrix(){const{x:t=h.F1.x,y:e=h.F1.y,dx:n=h.F1.dx,dy:i=h.F1.dy,scaleX:r=h.F1.scaleX,scaleY:o=h.F1.scaleY,angle:a=h.F1.angle,postMatrix:s}=this.attribute;if(0!==t||0!==e||0!==n||0!==i||1!==r||1!==o||0!==a||s)return super.doUpdateLocalMatrix();this._transMatrix.reset()}getGraphicTheme(){return(0,s.gh)(this).group}updateAABBBounds(t,e,n){const i=n;n=n.clone();const{width:r,height:a,path:s,clip:l=e.clip}=t;if(s&&s.length?s.forEach((t=>{n.union(t.AABBBounds)})):null!=r&&null!=a&&n.set(0,0,Math.max(0,r),Math.max(0,a)),!l){this.forEachChildren((t=>{n.union(t.AABBBounds)}));const{scrollX:e=0,scrollY:i=0}=t;n.translate(e,i)}return o.w.graphicService.updateTempAABBBounds(n),o.w.graphicService.transformAABBBounds(t,n,e,!1,this),i.copy(n),i}doUpdateAABBBounds(){this.updateAABBBoundsStamp++;const t=super.doUpdateAABBBounds();return this.parent&&this.parent.addChildUpdateBoundTag(),this._emitCustomEvent("AAABBBoundsChange"),t}clearUpdateBoundTag(){this._updateTag&=l.Gz.CLEAR_BOUNDS,this._childUpdateTag&=l.Gz.CLEAR_BOUNDS}addUpdateBoundTag(){this._updateTag|=l.Gz.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag()}addChildUpdateBoundTag(){this._childUpdateTag&l.Gz.UPDATE_BOUNDS||(this._childUpdateTag|=l.Gz.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag())}getTheme(){return this.theme.getTheme(this)}incrementalAppendChild(t){const e=super.appendChild(t);return this.stage&&e&&(e.stage=this.stage,e.layer=this.layer),this.addUpdateBoundTag(),o.w.graphicService.onAddIncremental(t,this,this.stage),e}incrementalClearChild(){super.removeAllChild(),this.addUpdateBoundTag(),o.w.graphicService.onClearIncremental(this,this.stage)}_updateChildToStage(t){return this.stage&&t&&t.setStage(this.stage,this.layer),this.addUpdateBoundTag(),t}appendChild(t,e=!0){const n=super.appendChild(t);return e&&this.stage&&n&&n.setStage(this.stage,this.layer),this.addUpdateBoundTag(),n}insertBefore(t,e){return this._updateChildToStage(super.insertBefore(t,e))}insertAfter(t,e){return this._updateChildToStage(super.insertAfter(t,e))}insertInto(t,e){return this._updateChildToStage(super.insertInto(t,e))}removeChild(t){const e=super.removeChild(t);return t.stage=null,o.w.graphicService.onRemove(t),this.addUpdateBoundTag(),e}removeAllChild(t=!1){this.forEachChildren((e=>{o.w.graphicService.onRemove(e),t&&e.isContainer&&e.removeAllChild(t)})),super.removeAllChild(),this.addUpdateBoundTag()}setStage(t,e){this.stage!==t&&(this.stage=t,this.layer=e,this.setStageToShadowRoot(t,e),this._onSetStage&&this._onSetStage(this,t,e),o.w.graphicService.onSetStage(this,t),this.forEachChildren((e=>{e.setStage(t,this.layer)})))}addUpdatePositionTag(){super.addUpdatePositionTag(),this.forEachChildren((t=>{t.isContainer&&t.addUpdateGlobalPositionTag()}))}addUpdateGlobalPositionTag(){super.addUpdateGlobalPositionTag(),this.forEachChildren((t=>{t.isContainer&&t.addUpdateGlobalPositionTag()}))}tryUpdateGlobalTransMatrix(t=!0){if(this.shouldUpdateGlobalMatrix()){if(this._globalTransMatrix){if(this.parent){const t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();this.doUpdateGlobalMatrix(),t&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!!(this._updateTag&l.Gz.UPDATE_GLOBAL_MATRIX)}_getChildByName(t,e){return this.find((e=>e.name===t),e)}createOrUpdateChild(t,e,n){let i=this._getChildByName(t);return i?i.setAttributes(e):(i=o.w.graphicService.creator[n](e),i.name=t,this.add(i)),i}clone(){return new c(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return c.NOWORK_ANIMATE_ATTR}}function d(t){return new c(t)}c.NOWORK_ANIMATE_ATTR=a.Wl},44474:function(t,e,n){"use strict";n.d(e,{B:function(){return c},E:function(){return h}});var i=n(37906),r=n(77887),o=n(9353),a=n(92908),s=n(88890),l=n(51386);const u=["width","height","image",...i.DH];class h extends i.zs{constructor(t){super(t),this.type="image",this.numberType=s.PN,this.loadImage(this.attribute.image)}get width(){var t;return null!==(t=this.attribute.width)&&void 0!==t?t:0}set width(t){this.attribute.width===t&&(this.attribute.width=t,this.addUpdateShapeAndBoundsTag())}get height(){var t;return null!==(t=this.attribute.height)&&void 0!==t?t:0}set height(t){this.attribute.height===t&&(this.attribute.height=t,this.addUpdateShapeAndBoundsTag())}get repeatX(){var t;return null!==(t=this.attribute.repeatX)&&void 0!==t?t:"no-repeat"}set repeatX(t){this.attribute.repeatX===t&&(this.attribute.repeatX=t)}get repeatY(){var t;return null!==(t=this.attribute.repeatY)&&void 0!==t?t:"no-repeat"}set repeatY(t){this.attribute.repeatY===t&&(this.attribute.repeatY=t)}get image(){return this.attribute.image}set image(t){t!==this.attribute.image&&(this.attribute.image=t,this.loadImage(this.attribute.image))}imageLoadSuccess(t,e,n){super.imageLoadSuccess(t,e,(()=>{this.successCallback&&this.successCallback()}))}imageLoadFail(t,e){super.imageLoadFail(t,(()=>{this.failCallback&&this.failCallback()}))}setAttributes(t,e,n){return t.image&&this.loadImage(t.image),super.setAttributes(t,e,n)}setAttribute(t,e,n,i){return"image"===t&&this.loadImage(e),super.setAttribute(t,e,n,i)}getGraphicTheme(){return(0,o.gh)(this).image}updateAABBBounds(t,e,n){if(!this.updatePathProxyAABBBounds(n)){const{width:i=e.width,height:r=e.height}=t;n.set(0,0,i,r)}const{tb1:i,tb2:r}=a.w.graphicService.updateTempAABBBounds(n);return(0,l.E)(t,e,i),n.union(i),i.setValue(r.x1,r.y1,r.x2,r.y2),a.w.graphicService.transformAABBBounds(t,n,e,!1,this),n}getDefaultAttribute(t){return r.jK[t]}needUpdateTags(t){return super.needUpdateTags(t,u)}needUpdateTag(t){return super.needUpdateTag(t,u)}clone(){return new h(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return h.NOWORK_ANIMATE_ATTR}}function c(t){return new h(t)}h.NOWORK_ANIMATE_ATTR=Object.assign({image:1,repeatX:1,repeatY:1},i.Wl)},64877:function(t,e,n){"use strict";n.d(e,{W:function(){return c},x:function(){return h}});var i=n(37906),r=n(9353),o=n(92908),a=n(58488),s=n(37806),l=n(88890);const u=["segments","points","curveType","curveTension",...i.DH];class h extends i.zs{constructor(t={}){super(t),this.type="line",this.numberType=l.Hf}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;const{points:t,segments:e}=this.attribute;return e?0!==e.length:!(!t||t.length<=1)}_interpolate(t,e,n,i,r){"points"===t&&(r.points=(0,a.SA)(n,i,e))}getGraphicTheme(){return(0,r.gh)(this).line}updateAABBBounds(t,e,n){this.updatePathProxyAABBBounds(n)||(t.segments?this.updateLineAABBBoundsBySegments(t,e,n):this.updateLineAABBBoundsByPoints(t,e,n)),o.w.graphicService.updateTempAABBBounds(n);const{lineJoin:i=e.lineJoin}=t;return o.w.graphicService.transformAABBBounds(t,n,e,"miter"===i,this),n}updateLineAABBBoundsByPoints(t,e,n,i){const{points:r=e.points,connectedType:o}=t,a=n;return r.forEach((t=>{!1===t.defined&&"zero"!==o&&"connect"!==o||a.add(t.x,t.y)})),a}updateLineAABBBoundsBySegments(t,e,n,i){const{segments:r=e.segments,connectedType:o}=t,a=n;return r.forEach((t=>{t.points.forEach((t=>{!1===t.defined&&"zero"!==o&&"connect"!==o||a.add(t.x,t.y)}))})),a}needUpdateTags(t){return super.needUpdateTags(t,u)}needUpdateTag(t){return super.needUpdateTag(t,u)}toCustomPath(){const t=this.attribute,e=new s.r,n=t.segments,i=t=>{if(t&&t.length){let n=!0;t.forEach((t=>{!1!==t.defined&&(n?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y),n=!1)}))}};return n&&n.length?n.forEach((t=>{i(t.points)})):t.points&&i(t.points),e}clone(){return new h(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return h.NOWORK_ANIMATE_ATTR}}function c(t){return new h(t)}h.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},i.Wl)},95063:function(t,e,n){"use strict";n.d(e,{U:function(){return c},f:function(){return d}});var i=n(37906),r=n(37806),o=n(9353),a=n(92908),s=n(88890),l=n(45644);var u=n(51386);const h=["width","x1","y1","height","cornerRadius",...i.DH];class c extends i.zs{constructor(t){super(t),this.type="rect",this.numberType=s._u}isValid(){return super.isValid()&&this._isValid()}_isValid(){return!0}getGraphicTheme(){return(0,o.gh)(this).rect}updateAABBBounds(t,e,n){if(!this.updatePathProxyAABBBounds(n)){let{width:e,height:i}=t;const{x1:r,y1:o,x:a,y:s}=t;e=null!=e?e:r-a,i=null!=i?i:o-s,(isFinite(e)||isFinite(i)||isFinite(a)||isFinite(s))&&n.set(0,0,e||0,i||0)}const{tb1:i,tb2:r}=a.w.graphicService.updateTempAABBBounds(n);return(0,u.E)(t,e,i),n.union(i),i.setValue(r.x1,r.y1,r.x2,r.y2),a.w.graphicService.transformAABBBounds(t,n,e,!1,this),n}needUpdateTags(t){return super.needUpdateTags(t,h)}needUpdateTag(t){return super.needUpdateTag(t,h)}toCustomPath(){const t=this.attribute,{x:e,y:n,width:i,height:o}=(t=>{if(!t)return{x:0,y:0,width:0,height:0};let e=(0,l.Z)(t.width)?t.x1-t.x:t.width,n=(0,l.Z)(t.height)?t.y1-t.y:t.height,i=0,r=0;return e<0?(i=e,e=-e):Number.isNaN(e)&&(e=0),n<0?(r=n,n=-n):Number.isNaN(n)&&(n=0),{x:i,y:r,width:e,height:n}})(t),a=new r.r;return a.moveTo(e,n),a.rect(e,n,i,o),a}clone(){return new c(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return c.NOWORK_ANIMATE_ATTR}}function d(t){return new c(t)}c.NOWORK_ANIMATE_ATTR=i.Wl},12255:function(t,e,n){"use strict";n.d(e,{H:function(){return b},p:function(){return w}});var i=n(66990),r=n(37906),o=n(77887),a=n(99253);class s{constructor(t,e,n,i,r,o,s,l,u,h,c,d,f,p){this.left=t,this.top=e,this.width=n,this.height=i,this.actualHeight=0,this.bottom=e+i,this.right=t+n,this.ellipsis=r,this.wordBreak=o,this.verticalDirection=s,this.lines=[],this.globalAlign=l,this.globalBaseline=u,this.layoutDirection=h,this.directionKey=a.i7[this.layoutDirection],this.isWidthMax=c,this.isHeightMax=d,this.singleLine=f,p?(p.clear(),this.icons=p):this.icons=new Map}draw(t,e){const{width:n,height:i}=this.getActualSize(),r=this.isWidthMax?Math.min(this.width,n):this.width||n||0;let o=this.isHeightMax?Math.min(this.height,i):this.height||i||0;o=Math.min(o,i);let a=0;switch(this.globalBaseline){case"top":a=0;break;case"middle":a=-o/2;break;case"bottom":a=-o}let s=0;"right"===this.globalAlign||"end"===this.globalAlign?s=-r:"center"===this.globalAlign&&(s=-r/2);let l=this[this.directionKey.height];this.singleLine&&(l=this.lines[0].height+1);let u=!1;if("middle"===this.verticalDirection)if(this.actualHeight>=l&&0!==l)for(let n=0;n<this.lines.length;n++){const{top:i,height:r}=this.lines[n];if(i+r<this[this.directionKey.top]||i+r>this[this.directionKey.top]+l)return u;let o=!1;this.ellipsis&&this.lines[n+1]&&this.lines[n+1].top+this.lines[n+1].height>this[this.directionKey.top]+l&&(o=!0,u=!0),this.lines[n].draw(t,o,this.lines[n][this.directionKey.left]+s,this.lines[n][this.directionKey.top]+a,this.ellipsis,e)}else{const n=Math.floor((l-this.actualHeight)/2);"vertical"===this.layoutDirection?s+=n:a+=n;for(let n=0;n<this.lines.length;n++)this.lines[n].draw(t,!1,this.lines[n][this.directionKey.left]+s,this.lines[n][this.directionKey.top]+a,this.ellipsis,e)}else if("bottom"===this.verticalDirection&&"vertical"!==this.layoutDirection)for(let n=0;n<this.lines.length;n++){const{top:i,height:r}=this.lines[n],o=l-this.lines[n].top-this.lines[n].height;if(0===l)this.lines[n].draw(t,!1,s,o+a,this.ellipsis,e);else{if(o+r>this[this.directionKey.top]+l||o<this[this.directionKey.top])return u;{let i=!1;this.ellipsis&&this.lines[n+1]&&o-this.lines[n+1].height<this[this.directionKey.top]&&(i=!0,u=!0),this.lines[n].draw(t,i,s,o+a,this.ellipsis,e)}}}else{"bottom"===this.verticalDirection&&"vertical"===this.layoutDirection&&this.singleLine&&this.isWidthMax&&(s+=this.lines[0].height+1);for(let n=0;n<this.lines.length;n++){"bottom"===this.verticalDirection&&"vertical"===this.layoutDirection&&(s-=this.lines[n].height+this.lines[n].top);const{top:i,height:r}=this.lines[n];if(0===l)this.lines[n].draw(t,!1,this.lines[n][this.directionKey.left]+s,this.lines[n][this.directionKey.top]+a,this.ellipsis,e);else{if(i+r<this[this.directionKey.top]||i+r>this[this.directionKey.top]+l)return u;{let i=!1;this.ellipsis&&this.lines[n+1]&&this.lines[n+1].top+this.lines[n+1].height>this[this.directionKey.top]+l&&(i=!0,u=!0),this.lines[n].draw(t,i,this.lines[n][this.directionKey.left]+s,this.lines[n][this.directionKey.top]+a,this.ellipsis,e)}}}}return u}getActualSize(){return this.ellipsis?this.getActualSizeWidthEllipsis():this.getRawActualSize()}getRawActualSize(){let t=0,e=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.actualWidth>t&&(t=i.actualWidth),e+=i.height}return{width:"vertical"===this.layoutDirection?e:t,height:"vertical"===this.layoutDirection?t:e}}getActualSizeWidthEllipsis(){let t=0,e=0;const{width:n,height:i}=this.getRawActualSize();this.width;let r=this.height||i||0;r=Math.min(r,i);let o=this[this.directionKey.height];if(this.singleLine&&(o=this.lines[0].height+1),"middle"===this.verticalDirection)if(this.actualHeight>=o&&0!==o)for(let n=0;n<this.lines.length;n++){const{top:i,height:r}=this.lines[n];if(i+r<this[this.directionKey.top]||i+r>this[this.directionKey.top]+o);else if(this.ellipsis&&this.lines[n+1]&&this.lines[n+1].top+this.lines[n+1].height>this[this.directionKey.top]+o){const i=!0===this.ellipsis?"...":this.ellipsis||"",r=this.lines[n].getWidthWithEllips(i);r>t&&(t=r),e+=this.lines[n].height}else this.lines[n].actualWidth>t&&(t=this.lines[n].actualWidth),e+=this.lines[n].height}else{Math.floor((o-this.actualHeight)/2);for(let n=0;n<this.lines.length;n++)this.lines[n].actualWidth>t&&(t=this.lines[n].actualWidth),e+=this.lines[n].height}else if("bottom"===this.verticalDirection)for(let n=0;n<this.lines.length;n++){const{top:i,height:r}=this.lines[n],a=o-this.lines[n].top-this.lines[n].height;if(0===o)this.lines[n].actualWidth>t&&(t=this.lines[n].actualWidth),e+=this.lines[n].height;else if(a+r>this[this.directionKey.top]+o||a<this[this.directionKey.top]);else if(this.ellipsis&&this.lines[n+1]&&a-this.lines[n+1].height<this[this.directionKey.top]){const i=!0===this.ellipsis?"...":this.ellipsis||"",r=this.lines[n].getWidthWithEllips(i);r>t&&(t=r),e+=this.lines[n].height}else this.lines[n].actualWidth>t&&(t=this.lines[n].actualWidth),e+=this.lines[n].height}else for(let n=0;n<this.lines.length;n++){const{top:i,height:r}=this.lines[n];if(0===o)this.lines[n].actualWidth>t&&(t=this.lines[n].actualWidth),e+=this.lines[n].height;else if(i+r<this[this.directionKey.top]||i+r>this[this.directionKey.top]+o);else if(this.ellipsis&&this.lines[n+1]&&this.lines[n+1].top+this.lines[n+1].height>this[this.directionKey.top]+o){const i=!0===this.ellipsis?"...":this.ellipsis||"",r=this.lines[n].getWidthWithEllips(i);r>t&&(t=r),e+=this.lines[n].height}else this.lines[n].actualWidth>t&&(t=this.lines[n].actualWidth),e+=this.lines[n].height}return{width:"vertical"===this.layoutDirection?e:t,height:"vertical"===this.layoutDirection?t:e}}}var l=n(58488);class u{constructor(t,e,n){this.fontSize=n.fontSize||16,this.textBaseline=n.textBaseline||"alphabetic";const i=(0,l.VA)(n.lineHeight,this.fontSize);this.lineHeight="number"==typeof i?i>this.fontSize?i:this.fontSize:Math.floor(1.2*this.fontSize),this.height=this.lineHeight;const{ascent:r,height:o,descent:s,width:u}=(0,a.MS)(t,n);let h=0,c=0,d=0;this.height>o&&(h=(this.height-o)/2,c=Math.ceil(h),d=Math.floor(h)),"top"===this.textBaseline?(this.ascent=h,this.descent=o-h):"bottom"===this.textBaseline?(this.ascent=o-h,this.descent=h):"middle"===this.textBaseline?(this.ascent=this.height/2,this.descent=this.height/2):(this.ascent=r+c,this.descent=s+d),this.length=t.length,this.width=u||0,this.text=t||"",this.newLine=e||!1,this.character=n,this.left=0,this.top=0,this.ellipsis="normal",this.ellipsisWidth=0,this.ellipsisOtherParagraphWidth=0,"vertical"===n.direction&&(this.direction=n.direction,this.widthOrigin=this.width,this.heightOrigin=this.height,this.width=this.heightOrigin,this.height=this.widthOrigin,this.lineHeight=this.height),this.ellipsisStr="..."}updateWidth(){const{width:t}=(0,a.MS)(this.text,this.character);this.width=t,"vertical"===this.direction&&(this.widthOrigin=this.width,this.width=this.heightOrigin,this.height=this.widthOrigin)}draw(t,e,n,i,r){let o=this.text,s=this.left+n;e+=this.top;let l=this.direction;if(this.verticalEllipsis)o=this.ellipsisStr,l="vertical",e-=this.ellipsisWidth/2;else{if("hide"===this.ellipsis)return;if("add"===this.ellipsis)o+=this.ellipsisStr,"right"!==r&&"end"!==r||(s-=this.ellipsisWidth);else if("replace"===this.ellipsis){const t=(0,a.Hi)(o,("vertical"===l?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,o.length-1);if(o=o.slice(0,t),o+=this.ellipsisStr,"right"===r||"end"===r){const{width:e}=(0,a.MS)(this.text.slice(t),this.character);"vertical"===l||(s-=this.ellipsisWidth-e)}}}switch(this.character.script){case"super":e-=this.ascent*(1/3);break;case"sub":e+=this.descent/2}"vertical"===l&&(t.save(),t.rotateAbout(Math.PI/2,s,e),t.translate(-this.heightOrigin||-this.lineHeight/2,-this.descent/2),t.translate(s,e),s=0,e=0);const{lineWidth:u=1}=this.character;this.character.stroke&&u&&t.strokeText(o,s,e),this.character.fill&&t.fillText(o,s,e),this.character.fill&&("boolean"==typeof this.character.lineThrough||"boolean"==typeof this.character.underline?(this.character.underline&&t.fillRect(s,1+e,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1),this.character.lineThrough&&t.fillRect(s,1+e-this.ascent/2,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)):"underline"===this.character.textDecoration?t.fillRect(s,1+e,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1):"line-through"===this.character.textDecoration&&t.fillRect(s,1+e-this.ascent/2,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)),"vertical"===l&&t.restore()}getWidthWithEllips(t){let e=this.text;const n="vertical"===t?this.height:this.width;if("hide"===this.ellipsis)return n;if("add"===this.ellipsis)return n+this.ellipsisWidth;if("replace"===this.ellipsis){const t=(0,a.Hi)(e,n-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,e.length-1);e=e.slice(0,t),e+=this.ellipsisStr;const{width:i}=(0,a.MS)(this.text.slice(t),this.character);return n+this.ellipsisWidth-i}return n}}var h=n(68725),c=n(44474);class d extends c.E{constructor(t){if(super(t),this._x=0,this._y=0,this._hovered=!1,this._marginArray=[0,0,0,0],"always"===t.backgroundShowMode&&(this._hovered=!0),t.margin){const e=(0,l.dj)(t.margin);this._marginArray="number"==typeof e?[e,e,e,e]:e}this.onBeforeAttributeUpdate=(t,e,n)=>{if((0,h.Z)(n)&&-1!==n.indexOf("margin")||"margin"===n)if(e.margin){const t=(0,l.dj)(e.margin);this._marginArray="number"==typeof t?[t,t,t,t]:t}else this._marginArray=[0,0,0,0]}}get width(){var t;return(null!==(t=this.attribute.width)&&void 0!==t?t:0)+this._marginArray[1]+this._marginArray[3]}get height(){var t;return(null!==(t=this.attribute.height)&&void 0!==t?t:0)+this._marginArray[0]+this._marginArray[2]}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.doUpdateAABBBounds();const{width:t=o.jK.width,height:e=o.jK.height}=this.attribute,{backgroundWidth:n=t,backgroundHeight:i=e}=this.attribute,r=(n-t)/2,a=(i-e)/2;return this._AABBBounds.expand([0,2*r,2*a,0]),this._AABBBounds}setHoverState(t){"hover"===this.attribute.backgroundShowMode&&this._hovered!==t&&(this._hovered=t)}}class f{constructor(t,e,n,i,r,o,s,l){this.left=t,this.width=e,this.baseline=n,this.ascent=i,this.descent=r,this.top=n-i,this.paragraphs=o.map((t=>t)),this.textAlign=(this.paragraphs[0]instanceof d?this.paragraphs[0].attribute.textAlign:this.paragraphs[0].character.textAlign)||"left",this.direction=s,this.directionKey=a.i7[this.direction],this.actualWidth=0;let h=0;this.paragraphs.forEach(((t,e)=>{if(0===e&&t instanceof u){const e=a.cV.exec(t.text);0!==(null==e?void 0:e.index)&&(t.text=t.text.slice(null==e?void 0:e.index),t.updateWidth())}this.actualWidth+=t[this.directionKey.width],h=Math.max(t[this.directionKey.height],h)})),this.height=h,this.blankWidth=l?0:this.width-this.actualWidth,this.calcOffset(e,l)}calcOffset(t,e){const n=this.directionKey,i=this.height;let r=this.left,o=0;this.actualWidth<t&&!e&&("right"===this.textAlign||"end"===this.textAlign?r=t-this.actualWidth:"center"===this.textAlign?r=(t-this.actualWidth)/2:"justify"===this.textAlign&&(this.paragraphs.length<2?r=(t-this.actualWidth)/2:o=(t-this.actualWidth)/(this.paragraphs.length-1))),this.paragraphs.map((function(t){t instanceof d?(t["_"+n.x]=r,r+=t[n.width]+o,t["_"+n.y]="top"===t.attribute.textBaseline?0:"bottom"===t.attribute.textBaseline?i-t.height:(i-t.height)/2):(t[n.left]=r,r+=t[n.width]+o)}))}draw(t,e,n,i,r,o){if(r&&(e||this.paragraphs.some((t=>t.overflow)))){let t=!0,n=!1;for(let e=this.paragraphs.length-1;e>=0;e--){const i=this.paragraphs[e];if(i.overflow)t=t&&""===i.text;else if(t){n=!0;break}}let i=0;if(!n)for(let t=this.paragraphs.length-1;t>=0;t--){const n=this.paragraphs[t];if(n.overflow){if(""===n.text)break;continue}if(n instanceof d)break;if("vertical"===this.direction&&"vertical"!==n.direction){n.verticalEllipsis=!0;break}const o=!0===r?"...":r||"";n.ellipsisStr=o;const{width:s}=(0,a.MS)(o,n.character),l=s||0;if(l<=this.blankWidth+i){e&&(n.ellipsis="add");break}if(l<=this.blankWidth+i+n.width){n.ellipsis="replace",n.ellipsisWidth=l,n.ellipsisOtherParagraphWidth=this.blankWidth+i;break}n.ellipsis="hide",i+=n.width}}this.paragraphs.forEach(((e,r)=>{if(e instanceof d)return e.setAttributes({x:n+e._x,y:i+e._y}),void o(e,t,n+e._x,i+e._y,this.ascent);const s={x1:this.left,y1:this.top,x2:this.left+this.actualWidth,y2:this.top+this.height};(0,a.p3)(t,e.character),(0,a.nq)(t,e.character,s),e.draw(t,i+this.ascent,n,0===r,this.textAlign)}))}getWidthWithEllips(t){let e=0;for(let n=this.paragraphs.length-1;n>=0;n--){const i=this.paragraphs[n];if(i instanceof d)break;const{width:r}=(0,a.MS)(t,i.character),o=r||0;if(o<=this.blankWidth+e){i.ellipsis="add",i.ellipsisWidth=o;break}if(o<=this.blankWidth+e+i.width){i.ellipsis="replace",i.ellipsisWidth=o,i.ellipsisOtherParagraphWidth=this.blankWidth+e;break}i.ellipsis="hide",e+=i.width}let n=0;return this.paragraphs.forEach(((t,e)=>{n+=t instanceof d?t.width:t.getWidthWithEllips(this.direction)})),n}}class p{constructor(t){this.frame=t,this.width=this.frame.width,this.height=this.frame.height,this.lineWidth=0,this.y=this.frame.top,this.maxAscent=0,this.maxDescent=0,this.maxAscentForBlank=0,this.maxDescentForBlank=0,this.lineBuffer=[],this.direction=t.layoutDirection,this.directionKey=a.i7[this.direction]}store(t){if(t instanceof d){this.frame.icons.set(t.richtextId,t),this.lineBuffer.push(t),this.lineWidth+=t[this.directionKey.width];let e=0,n=0;"top"===t.attribute.textBaseline?(e=0,n=t.height):"bottom"===t.attribute.textBaseline?(e=t.height,n=0):(e=t.height/2,n=t.height/2),this.maxAscent=Math.max(this.maxAscent,e),this.maxDescent=Math.max(this.maxDescent,n)}else this.lineBuffer.push(t),0!==t.text.length?(this.lineWidth+=t[this.directionKey.width],this.maxAscent=Math.max(this.maxAscent,t.ascent),this.maxDescent=Math.max(this.maxDescent,t.descent)):(this.maxAscentForBlank=Math.max(this.maxAscentForBlank,t.ascent),this.maxDescentForBlank=Math.max(this.maxDescentForBlank,t.descent))}send(){if(0===this.lineBuffer.length)return;const t=0===this.maxAscent?this.maxAscentForBlank:this.maxAscent,e=0===this.maxDescent?this.maxDescentForBlank:this.maxDescent,n=new f(this.frame.left,this[this.directionKey.width],this.y+t,t,e,this.lineBuffer,this.direction,"horizontal"===this.direction?this.frame.isWidthMax:this.frame.isHeightMax);this.frame.lines.push(n),this.frame.actualHeight+=n.height,this.y+=n.height,this.lineBuffer.length=0,this.lineWidth=this.maxAscent=this.maxDescent=this.maxAscentForBlank=this.maxDescentForBlank=0}deal(t,e=!1){t instanceof d?"horizontal"===this.direction&&0===this.width||"vertical"===this.direction&&0===this.height||this.lineWidth+t[this.directionKey.width]<=this[this.directionKey.width]?this.store(t):0===this.lineBuffer.length?(this.store(t),this.send()):(this.send(),this.deal(t)):"number"!=typeof this.width||this.width<0||(t.newLine&&this.send(),0!==t.text.length&&("horizontal"===this.direction&&0===this.width||"vertical"===this.direction&&0===this.height||this.lineWidth+t[this.directionKey.width]<=this[this.directionKey.width]?this.store(t):this.lineWidth===this[this.directionKey.width]?(this.send(),this.deal(t)):this.cut(t,e)))}cut(t,e){const n=this[this.directionKey.width]-this.lineWidth||0,i=Math.ceil(n/t[this.directionKey.width]*t.length)||0,r=(0,a.Hi)(t.text,n,t.character,i,"break-word"===this.frame.wordBreak);if(0!==r){const[n,i]=function(t,e){const n=t.text.slice(0,e),i=t.text.slice(e);return[new u(n,t.newLine,t.character),new u(i,!0,t.character)]}(t,r);this.store(n),e?this.send():this.deal(i)}else 0!==this.lineBuffer.length&&(this.send(),this.deal(t))}}var g=n(9353),m=n(92908),v=n(88890);const y=["width","height","ellipsis","wordBreak","verticalDirection","maxHeight","maxWidth","textAlign","textBaseline","textConfig","layoutDirection","fill","stroke","fontSize","fontFamily","fontStyle","fontWeight","lineWidth","opacity","fillOpacity","strokeOpacity",...r.DH];class b extends r.zs{constructor(t){super(t),this.type="richtext",this._currentHoverIcon=null,this.numberType=v.$M,this.onBeforeAttributeUpdate=(t,e,n)=>{for(const n in t)if("hoverIconId"===n){if(t[n]===e[n])continue;const i=this._frameCache.icons.get(t[n]);this.updateHoverIconState(i)}}}get width(){var t;return null!==(t=this.attribute.width)&&void 0!==t?t:o.Iq.width}set width(t){this.attribute.width!==t&&(this.attribute.width=t,this.addUpdateShapeAndBoundsTag())}get height(){var t;return null!==(t=this.attribute.height)&&void 0!==t?t:o.Iq.height}set height(t){this.attribute.height!==t&&(this.attribute.height=t,this.addUpdateShapeAndBoundsTag())}get maxWidth(){return this.attribute.maxWidth}set maxWidth(t){this.attribute.maxWidth!==t&&(this.attribute.maxWidth=t,this.addUpdateShapeAndBoundsTag())}get maxHeight(){return this.attribute.maxHeight}set maxHeight(t){this.attribute.maxHeight!==t&&(this.attribute.maxHeight=t,this.addUpdateShapeAndBoundsTag())}get ellipsis(){var t;return null!==(t=this.attribute.ellipsis)&&void 0!==t?t:o.Iq.ellipsis}set ellipsis(t){this.attribute.ellipsis!==t&&(this.attribute.ellipsis=t,this.addUpdateShapeAndBoundsTag())}get wordBreak(){var t;return null!==(t=this.attribute.wordBreak)&&void 0!==t?t:o.Iq.wordBreak}set wordBreak(t){this.attribute.wordBreak!==t&&(this.attribute.wordBreak=t,this.addUpdateShapeAndBoundsTag())}get verticalDirection(){var t;return null!==(t=this.attribute.verticalDirection)&&void 0!==t?t:o.Iq.verticalDirection}set verticalDirection(t){this.attribute.verticalDirection!==t&&(this.attribute.verticalDirection=t,this.addUpdateShapeAndBoundsTag())}get textAlign(){var t;return null!==(t=this.attribute.textAlign)&&void 0!==t?t:o.Iq.textAlign}set textAlign(t){this.attribute.textAlign!==t&&(this.attribute.textAlign=t,this.addUpdateShapeAndBoundsTag())}get textBaseline(){var t;return null!==(t=this.attribute.textBaseline)&&void 0!==t?t:o.Iq.textBaseline}set textBaseline(t){this.attribute.textBaseline!==t&&(this.attribute.textBaseline=t,this.addUpdateShapeAndBoundsTag())}get textConfig(){var t;return null!==(t=this.attribute.textConfig)&&void 0!==t?t:o.Iq.textConfig}set textConfig(t){this.attribute.textConfig=t,this.addUpdateShapeAndBoundsTag()}getGraphicTheme(){return(0,g.gh)(this).richtext}updateAABBBounds(t,e,n){const{width:i=e.width,height:r=e.height,maxWidth:o=e.maxWidth,maxHeight:a=e.maxHeight,textAlign:s=e.textAlign,textBaseline:l=e.textBaseline}=t;if(i>0&&r>0)n.set(0,0,i,r);else{const t=this.getFrameCache(),{width:e,height:s}=t.getActualSize();let l=i||e||0,u=r||s||0;u="number"==typeof a&&u>a?a:u||0,l="number"==typeof o&&l>o?o:l||0,n.set(0,0,l,u)}let u=0;switch(l){case"top":u=0;break;case"middle":u=-n.height()/2;break;case"bottom":u=-n.height()}let h=0;switch(s){case"left":h=0;break;case"center":h=-n.width()/2;break;case"right":h=-n.width()}return n.translate(h,u),m.w.graphicService.updateTempAABBBounds(n),null==t.forceBoundsHeight&&null==t.forceBoundsWidth||m.w.graphicService.updateHTMLTextAABBBounds(t,e,n),m.w.graphicService.transformAABBBounds(t,n,e,!1,this),n}needUpdateTags(t){return super.needUpdateTags(t,y)}needUpdateTag(t){return super.needUpdateTag(t,y)}getFrameCache(){return this.shouldUpdateShape()&&(this.doUpdateFrameCache(),this.clearUpdateShapeTag()),this._frameCache}get cliped(){const t=this.getFrameCache();if(t.actualHeight>t.height)return!0;const{disableAutoWrapLine:e}=this.attribute;if(e)for(let e=0;e<t.lines.length;e++){const n=t.lines[e];for(let t=0;t<n.paragraphs.length;t++){const e=n.paragraphs[t];if(e.overflow&&""!==e.text)return!0}}return!1}combinedStyleToCharacter(t){const{fill:e,stroke:n,fontSize:i,fontFamily:r,fontStyle:o,fontWeight:a,lineWidth:s,opacity:l,fillOpacity:u,strokeOpacity:h}=this.attribute;return Object.assign({fill:e,stroke:n,fontSize:i,fontFamily:r,fontStyle:o,fontWeight:a,lineWidth:s,opacity:l,fillOpacity:u,strokeOpacity:h},t)}doUpdateFrameCache(t){var e;const{textConfig:n=[],maxWidth:r,maxHeight:o,width:a,height:l,ellipsis:h,wordBreak:c,verticalDirection:f,textAlign:g,textBaseline:m,layoutDirection:v,singleLine:y,disableAutoWrapLine:b}=this.attribute,w=[],x=null!=t?t:n;for(let t=0;t<x.length;t++)if("image"in x[t]){const e=this.combinedStyleToCharacter(x[t]);e.lineWidth=void 0;const n=e.id&&this._frameCache&&this._frameCache.icons&&this._frameCache.icons.get(e.id);if(n)w.push(n);else{const t=new d(e);t.successCallback=()=>{var t;this.addUpdateBoundTag(),null===(t=this.stage)||void 0===t||t.renderNextFrame()},t.richtextId=e.id,w.push(t)}}else{const e=this.combinedStyleToCharacter(x[t]);if((0,i.Z)(e.text)&&(e.text=`${e.text}`),e.text&&e.text.includes("\n")){const t=e.text.split("\n");for(let n=0;n<t.length;n++)w.push(new u(t[n],0!==n,e))}else e.text&&w.push(new u(e.text,!1,e))}const _="number"==typeof r&&Number.isFinite(r)&&r>0,C="number"==typeof o&&Number.isFinite(o)&&o>0,S="number"==typeof a&&Number.isFinite(a)&&a>0&&(!_||a<=r),M="number"==typeof l&&Number.isFinite(l)&&l>0&&(!C||l<=o),A=new s(0,0,(S?a:_?r:0)||0,(M?l:C?o:0)||0,h,c,f,g,m,v||"horizontal",!S&&_,!M&&C,y||!1,null===(e=this._frameCache)||void 0===e?void 0:e.icons),T=new p(A);if(b){let t=0,e=!1;for(let n=0;n<w.length;n++){const i=w[n];e?(i.overflow=!0,i.left=1/0,i.top=1/0,!i.newLine&&A.lines[A.lines.length-1].paragraphs.push(i)):T.deal(i,!0),A.lines.length!==t&&(t=A.lines.length,T.lineBuffer.length=0,i.overflow=!0,i.left=1e3,i.top=1e3,A.lines[A.lines.length-1].paragraphs.push(i),e=!0),i.newLine&&(e=!1,T.lineWidth=0),T.send()}}else for(let t=0;t<w.length;t++)T.deal(w[t]);if(T.send(),!("horizontal"===A.layoutDirection?S:M)){const t=A.getActualSizeWidthEllipsis();let e="horizontal"===A.layoutDirection?t.width:t.height;("horizontal"===A.layoutDirection?_:C)&&(e=Math.min(e,"horizontal"===A.layoutDirection?r:o)),A.lines.forEach((function(t){t.calcOffset(e,!1)}))}this._frameCache=A}clone(){return new b(Object.assign({},this.attribute))}setStage(t,e){super.setStage(t,e),this.getFrameCache().icons.forEach((n=>{n.setStage(t,e)}))}bindIconEvent(){this.addEventListener("pointermove",(t=>{const e=this.pickIcon(t.global);e&&e===this._currentHoverIcon||(e?this.setAttribute("hoverIconId",e.richtextId):!e&&this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0))})),this.addEventListener("pointerleave",(t=>{this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0)}))}updateHoverIconState(t){var e,n,i,r,o;t?(null===(e=this._currentHoverIcon)||void 0===e||e.setHoverState(!1),this._currentHoverIcon=t,this._currentHoverIcon.setHoverState(!0),null===(n=this.stage)||void 0===n||n.setCursor(t.attribute.cursor),null===(i=this.stage)||void 0===i||i.renderNextFrame()):(this._currentHoverIcon.setHoverState(!1),this._currentHoverIcon=null,null===(r=this.stage)||void 0===r||r.setCursor(),null===(o=this.stage)||void 0===o||o.renderNextFrame())}pickIcon(t){const e=this.getFrameCache(),{e:n,f:i}=this.globalTransMatrix;let r;return e.icons.forEach(((e,o)=>{var a,s;const l=e.AABBBounds.clone();l.translate(e._marginArray[3],e._marginArray[0]),l.containsPoint({x:t.x-n,y:t.y-i})&&(r=e,r.globalX=(null!==(a=r.attribute.x)&&void 0!==a?a:0)+n+e._marginArray[3],r.globalY=(null!==(s=r.attribute.y)&&void 0!==s?s:0)+i+e._marginArray[0])})),r}getNoWorkAnimateAttr(){return b.NOWORK_ANIMATE_ATTR}}function w(t){return new b(t)}b.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,verticalDirection:1,textAlign:1,textBaseline:1,textConfig:1,layoutDirection:1},r.Wl)},99253:function(t,e,n){"use strict";n.d(e,{Hi:function(){return g},MS:function(){return y},SZ:function(){return m},cV:function(){return c},i7:function(){return a},nq:function(){return f},p3:function(){return p}});var i=n(92908),r=n(36531),o=n(50747);const a={horizontal:{width:"width",height:"height",left:"left",top:"top",x:"x",y:"y",bottom:"bottom"},vertical:{width:"height",height:"width",left:"top",top:"left",x:"y",y:"x",bottom:"right"}},s=(o.iR,!0),l=!1,u=(String.fromCharCode(160),/\w|\(|\)|-/),h=/[.?!,;:/]/,c=/\S/,d=(t,e)=>{let n=e.fontSize||16;switch(e.script){case"super":case"sub":n*=.8}t.setTextStyle({textAlign:"left",textBaseline:e.textBaseline||"alphabetic",fontStyle:e.fontStyle||"",fontWeight:e.fontWeight||"",fontSize:n,fontFamily:e.fontFamily})};function f(t,e,n){const i=e&&e.fill||s;if(!i)return void(t.globalAlpha=0);const{fillOpacity:o=1,opacity:a=1}=e;t.globalAlpha=o*a,t.fillStyle=n?(0,r.L)(t,i,{AABBBounds:n}):i,d(t,e)}function p(t,e){const n=e&&e.stroke||l;if(!n)return void(t.globalAlpha=0);const{strokeOpacity:i=1,opacity:r=1}=e;t.globalAlpha=i*r,t.lineWidth=e&&"number"==typeof e.lineWidth?e.lineWidth:1,t.strokeStyle=n,d(t,e)}function g(t,e,n,r,o){if(!e||e<=0)return 0;const a=i.w.graphicUtil.textMeasure;let s=r,l=t.slice(0,s),u=Math.floor(a.measureText(l,n).width),h=t.slice(0,s+1),c=Math.floor(a.measureText(h,n).width);for(;u>e||c<=e;){if(u>e?s--:s++,s>t.length){s=t.length;break}if(s<0){s=0;break}l=t.slice(0,s),u=Math.floor(a.measureText(l,n).width),h=t.slice(0,s+1),c=Math.floor(a.measureText(h,n).width)}return o&&(s=m(t,s)),s}function m(t,e,n=!1){let i=e;for(;u.test(t[i-1])&&u.test(t[i])||h.test(t[i]);)if(i--,i<=0)return n?v(t,e):e;return i}function v(t,e){let n=e;for(;u.test(t[n-1])&&u.test(t[n])||h.test(t[n]);)if(n++,n>=t.length)return n;return n}function y(t,e){const n=i.w.graphicUtil.textMeasure.measureText(t,e),r={ascent:0,height:0,descent:0,width:0};return"number"!=typeof n.actualBoundingBoxAscent||"number"!=typeof n.actualBoundingBoxDescent?(r.width=Math.floor(n.width),r.height=e.fontSize||0,r.ascent=r.height,r.descent=0):(r.width=Math.floor(n.width),r.height=Math.floor(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent),r.ascent=Math.floor(n.actualBoundingBoxAscent),r.descent=r.height-r.ascent),r}},36337:function(t,e,n){"use strict";n.d(e,{t:function(){return Et}});var i=n(94378),r=n(68725),o=n(57343),a=n(66990);class s{bounds(t,e){if((0,a.Z)(t)){const n=t/2;e.x1=-n,e.x2=n,e.y1=-n,e.y2=n}else e.x1=-t[0]/2,e.x2=t[0]/2,e.y1=-t[1]/2,e.y2=t[1]/2}parseSize(t){return(0,a.Z)(t)?t:Math.min(t[0],t[1])}}function l(t,e,n,i,r){return r?t.arc(n,i,e,0,o.BZ,!1,r):t.arc(n,i,e,0,o.BZ),!1}var u=new class extends s{constructor(){super(...arguments),this.type="circle",this.pathStr="M0.5,0A0.5,0.5,0,1,1,-0.5,0A0.5,0.5,0,1,1,0.5,0"}draw(t,e,n,i,r){return l(t,this.parseSize(e)/2,n,i,r)}drawOffset(t,e,n,i,r,o){return l(t,this.parseSize(e)/2+r,n,i,o)}drawToSvgPath(t,e,n,i){const r=this.parseSize(t)/2;return`M ${e-r}, ${n} a ${r},${r} 0 1,0 ${2*r},0 a ${r},${r} 0 1,0 -${2*r},0`}};var h=new class extends s{constructor(){super(...arguments),this.type="cross",this.pathStr="M-0.5,-0.2L-0.5,0.2L-0.2,0.2L-0.2,0.5L0.2,0.5L0.2,0.2L0.5,0.2L0.5,-0.2L0.2,-0.2L0.2,-0.5L-0.2,-0.5L-0.2,-0.2Z"}draw(t,e,n,i,r){return function(t,e,n,i,r){return t.moveTo(-3*e+n,-e+i,r),t.lineTo(-e+n,-e+i,r),t.lineTo(-e+n,-3*e+i,r),t.lineTo(e+n,-3*e+i,r),t.lineTo(e+n,-e+i,r),t.lineTo(3*e+n,-e+i,r),t.lineTo(3*e+n,e+i,r),t.lineTo(e+n,e+i,r),t.lineTo(e+n,3*e+i,r),t.lineTo(-e+n,3*e+i,r),t.lineTo(-e+n,e+i,r),t.lineTo(-3*e+n,e+i,r),t.closePath(),!0}(t,this.parseSize(e)/6,n,i,r)}drawOffset(t,e,n,i,r,o){return function(t,e,n,i,r,o){return t.moveTo(-3*e+n-r,-e+i-r,o),t.lineTo(-e+n-r,-e+i-r,o),t.lineTo(-e+n-r,-3*e+i-r,o),t.lineTo(e+n+r,-3*e+i-r,o),t.lineTo(e+n+r,-e+i-r,o),t.lineTo(3*e+n+r,-e+i-r,o),t.lineTo(3*e+n+r,e+i+r,o),t.lineTo(e+n+r,e+i+r,o),t.lineTo(e+n+r,3*e+i+r,o),t.lineTo(-e+n-r,3*e+i+r,o),t.lineTo(-e+n-r,e+i+r,o),t.lineTo(-3*e+n-r,e+i+r,o),t.closePath(),!0}(t,this.parseSize(e)/6,n,i,r,o)}};function c(t,e,n,i,r){return t.moveTo(n,i-e,r),t.lineTo(e+n,i,r),t.lineTo(n,i+e,r),t.lineTo(n-e,i,r),t.closePath(),!0}var d=new class extends s{constructor(){super(...arguments),this.type="diamond",this.pathStr="M-0.5,0L0,-0.5L0.5,0L0,0.5Z"}draw(t,e,n,i,r){return c(t,this.parseSize(e)/2,n,i,r)}drawFitDir(t,e,n,i,r){return c(t,this.parseSize(e)/2,n,i,r)}drawOffset(t,e,n,i,r,o){return c(t,this.parseSize(e)/2+r,n,i,o)}};function f(t,e,n,i){const r=2*e;return t.rect(n-e,i-e,r,r),!1}var p=new class extends s{constructor(){super(...arguments),this.type="square",this.pathStr="M-0.5,-0.5h1v1h-1Z"}draw(t,e,n,i){return f(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return f(t,this.parseSize(e)/2+r,n,i)}};function g(t,e,n,i,r=0){return t.moveTo(n+e+2*r,e+i+r),t.lineTo(n-e-2*r,e+i+r),t.lineTo(n,i-e-2*r),t.closePath(),!0}class m extends s{constructor(){super(...arguments),this.type="triangleUp",this.pathStr="M0.5,0.5 L-0.5,0.5 L0,-0.5 Z"}draw(t,e,n,i){return g(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return g(t,this.parseSize(e)/2,n,i,r)}}var v=new m;var y=new class extends m{constructor(){super(...arguments),this.type="triangle"}};const b=Math.sin(Math.PI/10)/Math.sin(7*Math.PI/10),w=Math.sin(o.BZ/10)*b,x=-Math.cos(o.BZ/10)*b;function _(t,e,n,i){const r=w*e,a=x*e;t.moveTo(n,-e+i),t.lineTo(r+n,a+i);for(let s=1;s<5;++s){const l=o.BZ*s/5,u=Math.cos(l),h=Math.sin(l);t.lineTo(h*e+n,-u*e+i),t.lineTo(u*r-h*a+n,h*r+u*a+i)}return t.closePath(),!0}var C=new class extends s{constructor(){super(...arguments),this.type="star",this.pathStr="M0 -1L0.22451398828979266 -0.3090169943749474L0.9510565162951535 -0.30901699437494745L0.3632712640026804 0.1180339887498948L0.5877852522924732 0.8090169943749473L8.326672684688674e-17 0.3819660112501051L-0.587785252292473 0.8090169943749476L-0.3632712640026804 0.11803398874989487L-0.9510565162951536 -0.30901699437494723L-0.22451398828979274 -0.30901699437494734Z"}draw(t,e,n,i){return _(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return _(t,this.parseSize(e)/2+r,n,i)}};const S=(0,o._b)(3);function M(t,e,n,i){const r=e,o=r/S,a=o/5,s=e;return t.moveTo(0+n,-r+i),t.lineTo(o/2+n,i),t.lineTo(a/2+n,i),t.lineTo(a/2+n,s+i),t.lineTo(-a/2+n,s+i),t.lineTo(-a/2+n,i),t.lineTo(-o/2+n,i),t.closePath(),!0}var A=new class extends s{constructor(){super(...arguments),this.type="arrow",this.pathStr="M-0.07142857142857142,0.5L0.07142857142857142,0.5L0.07142857142857142,-0.0625L0.2,-0.0625L0,-0.5L-0.2,-0.0625L-0.07142857142857142,-0.0625Z"}draw(t,e,n,i){return M(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return M(t,this.parseSize(e)/2+r,n,i)}};function T(t,e,n,i){const r=2*e;return t.moveTo(n,-e+i),t.lineTo(r/3/2+n,e+i),t.lineTo(-r/3/2+n,e+i),t.closePath(),!0}var k=new class extends s{constructor(){super(...arguments),this.type="wedge",this.pathStr="M0,-0.5773502691896257L-0.125,0.28867513459481287L0.125,0.28867513459481287Z"}draw(t,e,n,i){return T(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return T(t,this.parseSize(e)/2+r,n,i)}};function R(t,e,n,i){return t.moveTo(-e+n,i),t.lineTo(n,e+i),!1}var I=new class extends s{constructor(){super(...arguments),this.type="stroke",this.pathStr=""}draw(t,e,n,i){return R(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return R(t,this.parseSize(e)/2+r,n,i)}};const P=-.5,E=(0,o._b)(3)/2,B=1/(0,o._b)(12);function L(t,e,n,i){const r=e/2,o=e*B,a=r,s=e*B+e,l=-a,u=s;return t.moveTo(r+n,o+i),t.lineTo(a+n,s+i),t.lineTo(l+n,u+i),t.lineTo(P*r-E*o+n,E*r+P*o+i),t.lineTo(P*a-E*s+n,E*a+P*s+i),t.lineTo(P*l-E*u+n,E*l+P*u+i),t.lineTo(P*r+E*o+n,P*o-E*r+i),t.lineTo(P*a+E*s+n,P*s-E*a+i),t.lineTo(P*l+E*u+n,P*u-E*l+i),t.closePath(),!1}var D=new class extends s{constructor(){super(...arguments),this.type="wye",this.pathStr="M0.25 0.14433756729740646L0.25 0.6443375672974064L-0.25 0.6443375672974064L-0.25 0.14433756729740643L-0.6830127018922193 -0.10566243270259357L-0.4330127018922193 -0.5386751345948129L0 -0.28867513459481287L0.4330127018922193 -0.5386751345948129L0.6830127018922193 -0.10566243270259357Z"}draw(t,e,n,i){return L(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return L(t,this.parseSize(e)/2+r,n,i)}};function O(t,e,n,i,r){return t.moveTo(-e+n-2*r,i),t.lineTo(e+n+r,e+i+2*r),t.lineTo(e+n+r,i-e-2*r),t.closePath(),!0}var F=new class extends s{constructor(){super(...arguments),this.type="triangleLeft",this.pathStr="M-0.5,0 L0.5,0.5 L0.5,-0.5 Z"}draw(t,e,n,i){return O(t,this.parseSize(e)/2,n,i,0)}drawOffset(t,e,n,i,r){return O(t,this.parseSize(e)/2,n,i,r)}};function H(t,e,n,i,r=0){return t.moveTo(n-e-r,e+i+2*r),t.lineTo(e+n+2*r,i),t.lineTo(n-e-r,i-e-2*r),t.closePath(),!0}var N=new class extends s{constructor(){super(...arguments),this.type="triangleRight",this.pathStr="M-0.5,0.5 L0.5,0 L-0.5,-0.5 Z"}draw(t,e,n,i){return H(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return H(t,this.parseSize(e)/2,n,i,r)}};function z(t,e,n,i,r=0){return t.moveTo(n-e-2*r,i-e-r),t.lineTo(n+e+2*r,i-e-r),t.lineTo(n,i+e+2*r),t.closePath(),!0}var W=new class extends s{constructor(){super(...arguments),this.type="triangleDown",this.pathStr="M-0.5,-0.5 L0.5,-0.5 L0,0.5 Z"}draw(t,e,n,i){return z(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r){return z(t,this.parseSize(e)/2,n,i,r)}};const j=(0,o._b)(3);function V(t,e,n,i){const r=e*j;return t.moveTo(n,i+-r/3*2),t.lineTo(e+n,i+r),t.lineTo(n-e,i+r),t.closePath(),!0}var G=new class extends s{constructor(){super(...arguments),this.type="thinTriangle",this.pathStr="M0,-0.5773502691896257L-0.5,0.28867513459481287L0.5,0.28867513459481287Z"}draw(t,e,n,i){return V(t,this.parseSize(e)/2/j,n,i)}drawOffset(t,e,n,i,r){return V(t,this.parseSize(e)/2/j+r,n,i)}};function Z(t,e,n,i){const r=2*e;return t.moveTo(e+n,i-r),t.lineTo(n-e,i),t.lineTo(e+n,r+i),!0}var U=new class extends s{constructor(){super(...arguments),this.type="arrow2Left",this.pathStr="M 0.25 -0.5 L -0.25 0 l 0.25 0.5"}draw(t,e,n,i){return Z(t,this.parseSize(e)/4,n,i)}drawOffset(t,e,n,i,r){return Z(t,this.parseSize(e)/4+r,n,i)}};function K(t,e,n,i){const r=2*e;return t.moveTo(n-e,i-r),t.lineTo(n+e,i),t.lineTo(n-e,r+i),!0}var $=new class extends s{constructor(){super(...arguments),this.type="arrow2Right",this.pathStr="M -0.25 -0.5 l 0.25 0 l -0.25 0.5"}draw(t,e,n,i){return K(t,this.parseSize(e)/4,n,i)}drawOffset(t,e,n,i,r){return K(t,this.parseSize(e)/4+r,n,i)}};function X(t,e,n,i){const r=2*e;return t.moveTo(n-r,i+e),t.lineTo(n,i-e),t.lineTo(n+r,i+e),!0}var Y=new class extends s{constructor(){super(...arguments),this.type="arrow2Up",this.pathStr="M -0.5 0.25 L 0 -0.25 l 0.5 0.25"}draw(t,e,n,i){return X(t,this.parseSize(e)/4,n,i)}drawOffset(t,e,n,i,r){return X(t,this.parseSize(e)/4+r,n,i)}};function q(t,e,n,i){const r=2*e;return t.moveTo(n-r,i-e),t.lineTo(n,i+e),t.lineTo(n+r,i-e),!0}var J=new class extends s{constructor(){super(...arguments),this.type="arrow2Down",this.pathStr="M -0.5 -0.25 L 0 0.25 l 0.5 -0.25"}draw(t,e,n,i){return q(t,this.parseSize(e)/4,n,i)}drawOffset(t,e,n,i,r){return q(t,this.parseSize(e)/4+r,n,i)}};function Q(t,e,n,i,r){return t.moveTo(n,i-e),t.lineTo(n,i+e),!0}var tt=new class extends s{constructor(){super(...arguments),this.type="lineV",this.pathStr="M0,-0.5L0,0.5"}draw(t,e,n,i,r){return Q(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r,o){return Q(t,this.parseSize(e)/2+r,n,i)}drawToSvgPath(t,e,n,i){const r=this.parseSize(t)/2;return`M ${e}, ${n-r} L ${e},${n+r}`}};function et(t,e,n,i,r){return t.moveTo(n-e,i),t.lineTo(n+e,i),!0}var nt=new class extends s{constructor(){super(...arguments),this.type="lineH",this.pathStr="M-0.5,0L0.5,0"}draw(t,e,n,i,r){return et(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r,o){return et(t,this.parseSize(e)/2+r,n,i)}drawToSvgPath(t,e,n,i){const r=this.parseSize(t)/2;return`M ${e-r}, ${n} L ${e+r},${n}`}};function it(t,e,n,i,r){return t.moveTo(n-e,i-e),t.lineTo(n+e,i+e),t.moveTo(n+e,i-e),t.lineTo(n-e,i+e),!0}var rt=new class extends s{constructor(){super(...arguments),this.type="close",this.pathStr="M-0.5,-0.5L0.5,0.5,M0.5,-0.5L-0.5,0.5"}draw(t,e,n,i,r){return it(t,this.parseSize(e)/2,n,i)}drawOffset(t,e,n,i,r,o){return it(t,this.parseSize(e)/2+r,n,i)}drawToSvgPath(t,e,n,i){const r=this.parseSize(t)/2;return`M ${e-r}, ${n-r} L ${e+r},${n+r} M ${e+r}, ${n-r} L ${e-r},${n+r}`}};function ot(t,e,n,i){return t.rect(n-e[0]/2,i-e[1]/2,e[0],e[1]),!1}function at(t,e,n,i){const r=e,o=e/2;return t.rect(n-r/2,i-o/2,r,o),!1}var st=new class extends s{constructor(){super(...arguments),this.type="rect",this.pathStr="M -0.5,0.25 L 0.5,0.25 L 0.5,-0.25,L -0.5,-0.25 Z"}draw(t,e,n,i){return(0,a.Z)(e)?at(t,e,n,i):ot(t,e,n,i)}drawOffset(t,e,n,i,r){return(0,a.Z)(e)?at(t,e+2*r,n,i):ot(t,[e[0]+2*r,e[1]+2*r],n,i)}};const lt={};[u,h,d,p,G,y,C,A,k,I,D,F,N,v,W,U,$,Y,J,st,tt,nt,rt].forEach((t=>{lt[t.type]=t}));const ut={arrowLeft:"M 0.25 -0.5 L -0.25 0 l 0.5 0.5",arrowRight:"M -0.25 -0.5 l 0.5 0.5 l -0.5 0.5",rectRound:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",roundLine:"M 1.2392 -0.258 L -1.3432 -0.258 C -1.4784 -0.258 -1.588 -0.1436 -1.588 -0.002 c 0 0.1416 0.1096 0.256 0.2448 0.256 l 2.5824 0 c 0.1352 0 0.2448 -0.1144 0.2448 -0.256 C 1.484 -0.1436 1.3744 -0.258 1.2392 -0.258 z"};var ht=n(54743);const ct=new i.FB;class dt{constructor(t,e,n=!1){this.pathStr="",this.type=t,(0,r.Z)(e)?this.svgCache=e:this.path=e,this.isSvg=n}drawOffset(t,e,n,i,r,o,a){return e=this.parseSize(e),this.isSvg?!!this.svgCache&&(this.svgCache.forEach((r=>{t.beginPath(),(0,ht.h)(r.path.commandList,t,n,i,e,e),a&&a(r.path,r.attribute)})),!1):((0,ht.h)(this.path.commandList,t,n,i,e+r,e+r),!1)}draw(t,e,n,i,r,o){return e=this.parseSize(e),this.drawOffset(t,e,n,i,0,r,o)}parseSize(t){return(0,a.Z)(t)?t:Math.min(t[0],t[1])}bounds(t,e){if(t=this.parseSize(t),this.isSvg){if(!this.svgCache)return;return e.clear(),void this.svgCache.forEach((({path:n})=>{ct.x1=n.bounds.x1*t,ct.y1=n.bounds.y1*t,ct.x2=n.bounds.x2*t,ct.y2=n.bounds.y2*t,e.union(ct)}))}this.path.bounds&&(e.x1=this.path.bounds.x1*t,e.y1=this.path.bounds.y1*t,e.x2=this.path.bounds.x2*t,e.y2=this.path.bounds.y2*t)}}var ft=n(37906),pt=n(9353),gt=n(92908),mt=n(37806),vt=n(88890);class yt{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}function bt(t,e,n,i){const r=t.indexOf(e,n);if(-1===r)throw new Error(i);return r+e.length-1}function wt(t,e,n,i=">"){const r=function(t,e,n=">"){let i,r="";for(let o=e;o<t.length;o++){let e=t[o];if(i)e===i&&(i="");else if('"'===e||"'"===e)i=e;else if(e===n[0]){if(!n[1])return{data:r,index:o};if(t[o+1]===n[1])return{data:r,index:o}}else"\t"===e&&(e=" ");r+=e}}(t,e+1,i);if(!r)return;let o=r.data;const a=r.index,s=o.search(/\s/);let l=o,u=!0;-1!==s&&(l=o.substr(0,s).replace(/\s\s*$/,""),o=o.substr(s+1));const h=l;if(n){const t=l.indexOf(":");-1!==t&&(l=l.substr(t+1),u=l!==r.data.substr(t+1))}return{tagName:l,tagExp:o,closeIndex:a,attrExpPresent:u,rawTagName:h}}const xt=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");class _t{constructor(t){this.currentNode=null,this.options=t,this.tagsNodeStack=[],this.docTypeEntities={}}addChild(t,e,n){const i=e.tagname;"string"==typeof i?(e.tagname=i,t.addChild(e)):t.addChild(e)}buildAttributesMap(t,e,n){const i={};if(!t)return;const r=function(t,e){const n=[];let i=e.exec(t);for(;i;){const r=[];r.startIndex=e.lastIndex-i[0].length;const o=i.length;for(let t=0;t<o;t++)r.push(i[t]);n.push(r),i=e.exec(t)}return n}(t,xt),o=r.length;for(let t=0;t<o;t++){const e=r[t][1],n=r[t][4];e&&(i[e]=void 0===n||(isNaN(n)?n:Number(n)))}return i}parseXml(t){t=t.replace(/\r\n?/g,"\n");const e=new yt("!xml");let n=e,i="",r="";for(let o=0;o<t.length;o++)if("<"===t[o])if("/"===t[o+1]){const e=bt(t,">",o,"Closing Tag is not closed."),a=r.lastIndexOf(".");r=r.substring(0,a),n=this.tagsNodeStack.pop(),n&&n.child&&i&&n.child[n.child.length-1][":@"]&&(n.child[n.child.length-1][":@"].text=i),i="",o=e}else if("?"===t[o+1])o=wt(t,o,!1,"?>").closeIndex+1;else if("!--"===t.substr(o+1,3))o=bt(t,"--\x3e",o+4,"Comment is not closed.");else{const a=wt(t,o,!1);let s=a.tagName,l=a.tagExp;const u=a.attrExpPresent,h=a.closeIndex;if(s!==e.tagname&&(r+=r?"."+s:s),l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===s[s.length-1]?(s=s.substr(0,s.length-1),r=r.substr(0,r.length-1),l=s):l=l.substr(0,l.length-1);const t=new yt(s);s!==l&&u&&(t[":@"]=this.buildAttributesMap(l,r,s)),this.addChild(n,t,r),r=r.substr(0,r.lastIndexOf("."))}else{const t=new yt(s);this.tagsNodeStack.push(n),s!==l&&u&&(t[":@"]=this.buildAttributesMap(l,r,s)),this.addChild(n,t,r),n=t}i="",o=h}else i+=t[o];return e.child}}function Ct(t,e){return St(t)}function St(t,e){const n={};for(let r=0;r<t.length;r++){const o=t[r],a=Mt(o);let s="";if(s=void 0===e?a:e+"."+a,void 0!==a&&o[a]){const t=St(o[a],s);i=t,Object.keys(i).length,o[":@"]&&At(t,o[":@"],s),void 0!==n[a]&&n.hasOwnProperty(a)?(Array.isArray(n[a])||(n[a]=[n[a]]),n[a].push(t)):n[a]=t}}var i;return n}function Mt(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function At(t,e,n){if(e){const n=Object.keys(e),i=n.length;for(let r=0;r<i;r++){const i=n[r];t[i]=e[i]}}}class Tt{constructor(t){this.options=Object.assign({},Tt.defaultOptions,t)}valid(t){return t.startsWith("<")}parse(t){if(!this.valid)return!1;return Ct(new _t(this.options).parseXml(t),this.options)}}Tt.defaultOptions={};var kt=n(84306);const Rt=new i.FB,It=["symbolType","size",...ft.DH];class Pt extends ft.zs{constructor(t={symbolType:"circle"}){super(t),this.type="symbol",this.numberType=vt.B5}getParsedPath(){return this.shouldUpdateShape()&&(this.doUpdateParsedPath(),this.clearUpdateShapeTag()),this._parsedPath}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{size:t}=this.attribute;return(0,r.Z)(t)?2===t.length&&t.every(this._validNumber):this._validNumber(t)}doUpdateParsedPath(){const t=this.getGraphicTheme();let{symbolType:e=t.symbolType}=this.attribute,n=lt[e];if(n)return this._parsedPath=n,n;if(n=Pt.userSymbolMap[e],n)return this._parsedPath=n,n;if(e=ut[e]||e,!0===((i=e).startsWith("<svg")||i.startsWith("<?xml"))){const t=new Tt,{svg:n}=t.parse(e);if(!n)return null;const i=(0,r.Z)(n.path)?n.path:[n.path];Rt.clear();const a=[];i.forEach((t=>{const e=(new mt.r).fromString(t.d),n={};vt.Lo.forEach((e=>{t[e]&&(n[vt.IO[e]]=t[e])})),a.push({path:e,attribute:n}),Rt.union(e.bounds)}));const s=Rt.width(),l=Rt.height(),u=1/(0,o.Fp)(s,l);return a.forEach((t=>t.path.transform(0,0,u,u))),this._parsedPath=new dt(e,a,!0),Pt.userSymbolMap[e]=this._parsedPath,this._parsedPath}var i;const a=(new mt.r).fromString(e),s=a.bounds.width(),l=a.bounds.height(),u=1/(0,o.Fp)(s,l);return a.transform(0,0,u,u),this._parsedPath=new dt(e,a),Pt.userSymbolMap[e]=this._parsedPath,this._parsedPath}getGraphicTheme(){return(0,pt.gh)(this).symbol}updateAABBBounds(t,e,n,i){this.updatePathProxyAABBBounds(n)||(i?this.updateSymbolAABBBoundsImprecise(t,e,n):this.updateSymbolAABBBoundsAccurate(t,e,n));const{tb1:r,tb2:o}=gt.w.graphicService.updateTempAABBBounds(n);((t,e,n)=>{const{outerBorder:i,shadowBlur:r=e.shadowBlur,strokeBoundsBuffer:o=e.strokeBoundsBuffer}=t;if(i){const t=e.outerBorder,{distance:a=t.distance,lineWidth:s=t.lineWidth}=i;(0,kt.ph)(n,a+(r+s)/2,!0,o)}})(t,e,r),n.union(r),r.setValue(o.x1,o.y1,o.x2,o.y2);const{lineJoin:a=e.lineJoin}=t;return gt.w.graphicService.transformAABBBounds(t,n,e,"miter"===a,this),n}updateSymbolAABBBoundsImprecise(t,e,n){const{size:i=e.size}=t;if((0,r.Z)(i))n.set(-i[0]/2,-i[1]/2,i[0]/2,i[1]/2);else{const t=i/2;n.set(-t,-t,t,t)}return n}updateSymbolAABBBoundsAccurate(t,e,n){const{size:i=e.size}=t;return this.getParsedPath().bounds(i,n),n}needUpdateTags(t){return super.needUpdateTags(t,It)}needUpdateTag(t){return super.needUpdateTag(t,It)}toCustomPath(){const t=this.getParsedPath(),e=this.attribute.size,n=(0,r.Z)(e)?e:[e,e];return t.path?(new mt.r).fromCustomPath2D(t.path,0,0,n[0],n[1]):(new mt.r).fromString(t.pathStr,0,0,n[0],n[1])}clone(){return new Pt(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Pt.NOWORK_ANIMATE_ATTR}}function Et(t){return new Pt(t)}Pt.userSymbolMap={},Pt.NOWORK_ANIMATE_ATTR=Object.assign({symbolType:1},ft.Wl)},85830:function(t,e,n){"use strict";n.d(e,{r:function(){return y},x:function(){return v}});var i=n(45677),r=n(68725),o=n(73500),a=n(94378),s=n(57343),l=n(67984),u=n(83406),h=n(92908),c=n(37906),d=n(9353),f=n(58488),p=n(88890),g=n(84306);const m=["text","maxLineWidth","maxWidth","textAlign","textBaseline","heightLimit","lineClamp","fontSize","fontFamily","fontWeight","ellipsis","lineHeight","direction","wordBreak","heightLimit","lineClamp",...c.DH];class v extends c.zs{get font(){const t=this.getGraphicTheme();return this._font||(this._font=(0,i.U)(this.attribute,t)),this._font}get clipedText(){var t;const e=this.attribute,n=this.getGraphicTheme(),i=this.getMaxWidth(n);return Number.isFinite(i)?(this.tryUpdateAABBBounds(),this.cache.clipedText):(null!==(t=e.text)&&void 0!==t?t:n.text).toString()}get clipedWidth(){return this.tryUpdateAABBBounds(),this.cache.clipedWidth}get cliped(){var t,e;const n=this.getGraphicTheme(),i=this.attribute,r=this.getMaxWidth(n);if(!Number.isFinite(r))return!1;const{text:o}=this.attribute;if(this.tryUpdateAABBBounds(),null===(e=null===(t=this.cache)||void 0===t?void 0:t.layoutData)||void 0===e?void 0:e.lines){let t="";return this.cache.layoutData.lines.forEach((e=>{t+=e.str})),(Array.isArray(o)?o.join(""):o)!==t}return"vertical"===i.direction&&this.cache.verticalList&&this.cache.verticalList[0]?this.cache.verticalList[0].map((t=>t.text)).join("")!==i.text.toString():null!=this.clipedText&&this.clipedText!==i.text.toString()}get multilineLayout(){return this.tryUpdateAABBBounds(),this.cache.layoutData}get isMultiLine(){return Array.isArray(this.attribute.text)||"normal"===this.attribute.whiteSpace}constructor(t={text:"",fontSize:16}){super(t),this.type="text",this.numberType=p.Us,this.cache={}}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{text:t}=this.attribute;return(0,r.Z)(t)?!t.every((t=>null==t||""===t)):null!=t&&""!==t}getGraphicTheme(){return(0,d.gh)(this).text}doUpdateOBBBounds(){const t=this.getGraphicTheme();this._OBBBounds.clear();const e=this.attribute,{angle:n=t.angle}=e;if(!n){const t=this.AABBBounds;return this._OBBBounds.setValue(t.x1,t.y1,t.x2,t.y2),this._OBBBounds}this.obbText||(this.obbText=new v({})),this.obbText.setAttributes(Object.assign(Object.assign({},e),{angle:0}));const i=this.obbText.AABBBounds,{x:r,y:a}=e,s={x:(i.x1+i.x2)/2,y:(i.y1+i.y2)/2},l=(0,o.xj)(s,n,{x:r,y:a});return this._OBBBounds.copy(i),this._OBBBounds.translate(l.x-s.x,l.y-s.y),this._OBBBounds.angle=n,this._OBBBounds}updateAABBBounds(t,e,n){const{text:i=e.text}=this.attribute;Array.isArray(i)?this.updateMultilineAABBBounds(i):this.updateSingallineAABBBounds(i);const{tb1:r}=h.w.graphicService.updateTempAABBBounds(n),{scaleX:o=e.scaleX,scaleY:s=e.scaleY,shadowBlur:l=e.shadowBlur,strokeBoundsBuffer:u=e.strokeBoundsBuffer}=t;if(l){const t=l/Math.abs(o+s);(0,g.ph)(r,t,!0,u),n.union(r)}return h.w.graphicService.combindShadowAABBBounds(n,this),null==t.forceBoundsHeight&&null==t.forceBoundsWidth||h.w.graphicService.updateHTMLTextAABBBounds(t,e,n),(0,a.n2)(n,n,this.transMatrix),n}updateSingallineAABBBounds(t){this.updateMultilineAABBBounds([t]);const e=this.cache.layoutData;if(e&&e.lines&&e.lines.length){const t=e.lines[0];this.cache.clipedText=t.str,this.cache.clipedWidth=t.width}return this._AABBBounds}updateMultilineAABBBounds(t){const e=this.getGraphicTheme(),{direction:n=e.direction,underlineOffset:i=e.underlineOffset}=this.attribute,r="horizontal"===n?this.updateHorizontalMultilineAABBBounds(t):this.updateVerticalMultilineAABBBounds(t);return"horizontal"===n&&i&&this._AABBBounds.add(this._AABBBounds.x1,this._AABBBounds.y2+i),r}guessLineHeightBuf(t){return t?.1*t:0}updateHorizontalMultilineAABBBounds(t){var e;const n=this.getGraphicTheme(),i=this.attribute,{fontFamily:r=n.fontFamily,textAlign:o=n.textAlign,textBaseline:a=n.textBaseline,fontSize:s=n.fontSize,fontWeight:l=n.fontWeight,ellipsis:c=n.ellipsis,maxLineWidth:d,stroke:f=n.stroke,wrap:p=n.wrap,measureMode:g=n.measureMode,lineWidth:m=n.lineWidth,whiteSpace:v=n.whiteSpace,suffixPosition:y=n.suffixPosition,ignoreBuf:b=n.ignoreBuf,keepCenterInLine:w=n.keepCenterInLine}=i,x=b?0:this.guessLineHeightBuf(s),_=this.getLineHeight(i,n,x);if("normal"===v||p)return this.updateWrapAABBBounds(t);if(!this.shouldUpdateShape()&&(null===(e=this.cache)||void 0===e?void 0:e.layoutData)){const t=this.cache.layoutData.bbox;return this._AABBBounds.set(t.xOffset,t.yOffset,t.xOffset+t.width,t.yOffset+t.height),f&&this._AABBBounds.expand(m/2),this._AABBBounds}const C=h.w.graphicUtil.textMeasure,S=new u.j(r,{fontSize:s,fontWeight:l,fontFamily:r,lineHeight:_},C).GetLayoutByLines(t,o,a,_,!0===c?n.ellipsis:c||void 0,!1,{lineWidth:d,suffixPosition:y,measureMode:g,keepCenterInLine:w}),{bbox:M}=S;return this.cache.layoutData=S,this.clearUpdateShapeTag(),this._AABBBounds.set(M.xOffset,M.yOffset,M.xOffset+M.width,M.yOffset+M.height),f&&this._AABBBounds.expand(m/2),this._AABBBounds}updateWrapAABBBounds(t){var e,n,i;const o=this.getGraphicTheme(),{fontFamily:a=o.fontFamily,textAlign:s=o.textAlign,textBaseline:l=o.textBaseline,fontSize:c=o.fontSize,ellipsis:d=o.ellipsis,maxLineWidth:f,stroke:p=o.stroke,lineWidth:g=o.lineWidth,wordBreak:m=o.wordBreak,fontWeight:v=o.fontWeight,ignoreBuf:y=o.ignoreBuf,measureMode:b=o.measureMode,suffixPosition:w=o.suffixPosition,heightLimit:x=0,lineClamp:_,keepCenterInLine:C=o.keepCenterInLine}=this.attribute,S=y?0:this.guessLineHeightBuf(c),M=this.getLineHeight(this.attribute,o,S);if(!this.shouldUpdateShape()&&(null===(e=this.cache)||void 0===e?void 0:e.layoutData)){const t=this.cache.layoutData.bbox;return this._AABBBounds.set(t.xOffset,t.yOffset,t.xOffset+t.width,t.yOffset+t.height),p&&this._AABBBounds.expand(g/2),this._AABBBounds}const A=h.w.graphicUtil.textMeasure,T={fontSize:c,fontWeight:v,fontFamily:a,lineHeight:M},k=new u.j(a,T,A),R=(0,r.Z)(t)?t.map((t=>t.toString())):[t.toString()],I=[],P=[0,0];let E=1/0;if(x>0&&(E=Math.max(Math.floor(x/M),1)),_&&(E=Math.min(E,_)),"number"==typeof f&&f!==1/0){if(f>0)for(let t=0;t<R.length;t++){const e=R[t];let r=!0;if(t===E-1){const n=A.clipTextWithSuffix(e,T,f,d,!1,w,t!==R.length-1),i=A.measureTextPixelADscentAndWidth(n.str,T,b);I.push({str:n.str,width:n.width,ascent:i.ascent,descent:i.descent,keepCenterInLine:C});break}const o=A.clipText(e,T,f,"break-all"!==m,"keep-all"===m);if(""!==e&&""===o.str||o.wordBreaked){if(d){const t=A.clipTextWithSuffix(e,T,f,d,!1,w);o.str=null!==(n=t.str)&&void 0!==n?n:"",o.width=null!==(i=t.width)&&void 0!==i?i:0}else o.str="",o.width=0;r=!1}const a=A.measureTextPixelADscentAndWidth(o.str,T,b);I.push({str:o.str,width:o.width,ascent:a.ascent,descent:a.descent,keepCenterInLine:C});let s=o.str.length;if(!o.wordBreaked||""!==e&&""===o.str||(r=!0,s=o.wordBreaked),o.str.length===e.length);else if(r){let n=e.substring(s);"keep-all"===m&&(n=n.replace(/^\s+/g,"")),R.splice(t+1,0,n)}}let t=0;I.forEach((e=>{t=Math.max(t,e.width)})),P[0]=t}else{let t,e,n=0;for(let i=0,r=R.length;i<r;i++){if(i===E-1){const t=A.clipTextWithSuffix(R[i],T,f,d,!1,w),e=A.measureTextPixelADscentAndWidth(t.str,T,b);I.push({str:t.str,width:t.width,ascent:e.ascent,descent:e.descent,keepCenterInLine:C}),n=Math.max(n,t.width);break}e=R[i],t=A.measureTextWidth(e,T),n=Math.max(n,t);const r=A.measureTextPixelADscentAndWidth(e,T,b);I.push({str:e,width:t,ascent:r.ascent,descent:r.descent,keepCenterInLine:C})}P[0]=n}P[1]=I.length*M;const B={xOffset:0,yOffset:0,width:P[0],height:P[1]};k.LayoutBBox(B,s,l,I);const L=k.layoutWithBBox(B,I,s,l,M);return this.cache.layoutData=L,this.clearUpdateShapeTag(),this._AABBBounds.set(B.xOffset,B.yOffset,B.xOffset+B.width,B.yOffset+B.height),p&&this._AABBBounds.expand(g/2),this._AABBBounds}updateVerticalMultilineAABBBounds(t){var e,n;const i=this.getGraphicTheme(),r=h.w.graphicUtil.textMeasure;let o;const a=this.attribute,{maxLineWidth:u=i.maxLineWidth,ellipsis:c=i.ellipsis,fontFamily:d=i.fontFamily,fontSize:f=i.fontSize,fontWeight:p=i.fontWeight,stroke:m=i.stroke,lineWidth:y=i.lineWidth,verticalMode:b=i.verticalMode,suffixPosition:w=i.suffixPosition}=a,x=this.getLineHeight(a,i,0);let{textAlign:_=i.textAlign,textBaseline:C=i.textBaseline}=a;if(!b){const t=_;_=null!==(e=v.baselineMapAlign[C])&&void 0!==e?e:"left",C=null!==(n=v.alignMapBaseline[t])&&void 0!==n?n:"top"}if(o=0,!this.shouldUpdateShape()&&this.cache){this.cache.verticalList.forEach((t=>{const e=t.reduce(((t,e)=>t+e.width),0);o=(0,s.Fp)(e,o)}));const t=(0,l.js)(_,o),e=this.cache.verticalList.length*x,n=(0,l.nV)(C,e,f);return this._AABBBounds.set(n,t,n+e,t+o),m&&this._AABBBounds.expand(y/2),this._AABBBounds}const S=t.map((t=>(0,g.Xk)(t.toString())));S.forEach(((t,e)=>{if(Number.isFinite(u))if(c){const n=!0===c?i.ellipsis:c,a=r.clipTextWithSuffixVertical(t,{fontSize:f,fontWeight:p,fontFamily:d},u,n,!1,w);S[e]=a.verticalList,o=a.width}else{const n=r.clipTextVertical(t,{fontSize:f,fontWeight:p,fontFamily:d},u,!1);S[e]=n.verticalList,o=n.width}else o=0,t.forEach((t=>{const e=t.direction===g.m5.HORIZONTAL?f:r.measureTextWidth(t.text,{fontSize:f,fontWeight:p,fontFamily:d});o+=e,t.width=e}))})),this.cache.verticalList=S,this.clearUpdateShapeTag(),this.cache.verticalList.forEach((t=>{const e=t.reduce(((t,e)=>t+e.width),0);o=(0,s.Fp)(e,o)}));const M=(0,l.js)(_,o),A=this.cache.verticalList.length*x,T=(0,l.nV)(C,A,f);return this._AABBBounds.set(T,M,T+A,M+o),m&&this._AABBBounds.expand(y/2),this._AABBBounds}getMaxWidth(t){var e,n;const i=this.attribute;return null!==(n=null!==(e=i.maxLineWidth)&&void 0!==e?e:i.maxWidth)&&void 0!==n?n:t.maxWidth}getLineHeight(t,e,n){var i;return null!==(i=(0,f.VA)(t.lineHeight,t.fontSize||e.fontSize))&&void 0!==i?i:(t.fontSize||e.fontSize)+n}needUpdateTags(t,e=m){return super.needUpdateTags(t,e)}needUpdateTag(t,e=m){return super.needUpdateTag(t,e)}clone(){return new v(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return v.NOWORK_ANIMATE_ATTR}getBaselineMapAlign(){return v.baselineMapAlign}getAlignMapBaseline(){return v.alignMapBaseline}}function y(t){return new v(t)}v.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,direction:1,textAlign:1,textBaseline:1,fontFamily:1,fontWeight:1},c.Wl),v.baselineMapAlign={top:"left",bottom:"right",middle:"center"},v.alignMapBaseline={left:"top",right:"bottom",center:"middle"}},9353:function(t,e,n){"use strict";n.d(e,{Q2:function(){return u},gh:function(){return c}});var i=n(81813),r=n(77887);const o={arc:r.Up,area:r.eh,circle:r.t8,line:r.h8,path:r.J7,symbol:r.th,text:r.T5,rect:r.kx,polygon:r.ZD,richtext:r.Iq,richtextIcon:r.YW,image:r.jK,group:r.bZ,glyph:r.e9},a=Object.keys(o);function s(t,e){Object.keys(e).forEach((n=>{t[n]=e[n]}))}const l={arc:Object.assign({},o.arc),area:Object.assign({},o.area),circle:Object.assign({},o.circle),line:Object.assign({},o.line),path:Object.assign({},o.path),symbol:Object.assign({},o.symbol),text:Object.assign({},o.text),rect:Object.assign({},o.rect),polygon:Object.assign({},o.polygon),richtext:Object.assign({},o.richtext),richtextIcon:Object.assign({},o.richtextIcon),image:Object.assign({},o.image),group:Object.assign({},o.group),glyph:Object.assign({},o.glyph)};class u{constructor(){this.initTheme(),this.dirty=!1}initTheme(){this._defaultTheme={},a.forEach((t=>{this._defaultTheme[t]=Object.create(l[t])})),this.combinedTheme=this._defaultTheme}getTheme(t){if(!t)return this.combinedTheme;if(!this.dirty)return this.combinedTheme;let e={};const n=this.getParentWithTheme(t);return n&&(e=n.theme),this.applyTheme(t,e),this.combinedTheme}getParentWithTheme(t){for(;t.parent;)if((t=t.parent).theme)return t;return null}applyTheme(t,e,n=!1){if(this.dirty){const r=this.getParentWithTheme(t);if(r){const t=r.theme;(t.dirty||n)&&t.applyTheme(r,e,!0)}this.userTheme?this.doCombine(r&&r.theme.combinedTheme):(r?this.combinedTheme=r.theme.combinedTheme:(this.combinedTheme=this._defaultTheme,i.Y.getInstance().warn("")),this.dirty=!1)}return this.combinedTheme}doCombine(t){const e=this.userTheme,n=this.combinedTheme;a.forEach((i=>{const r=Object.create(l[i]);t&&t[i]&&s(r,t[i]),n[i]&&s(r,n[i]),e[i]&&s(r,e[i]),this.combinedTheme[i]=r})),e.common&&a.forEach((t=>{s(this.combinedTheme[t],e.common)})),this.dirty=!1}setTheme(t,e){let n=this.userTheme;n?Object.keys(t).forEach((e=>{n[e]?Object.assign(n[e],t[e]):n[e]=Object.assign({},t[e])})):n=t,this.userTheme=n,this.dirty=!0,this.dirtyChildren(e)}resetTheme(t,e){this.userTheme=t,this.dirty=!0,this.dirtyChildren(e)}dirtyChildren(t){t.forEachChildren((t=>{t.isContainer&&(t.theme&&(t.theme.dirty=!0),this.dirtyChildren(t))}))}}const h=new u;function c(t,e){return t.glyphHost?c(t.glyphHost):e?(t.isContainer,e):function(t){let e;if(e=t.isContainer?t:t.parent,e){for(;e&&!e.theme;)e=e.parent;return e?(e.theme||e.createTheme(),e.theme.getTheme(e)):h.getTheme()}return null}(t)||t.attachedThemeGraphic&&c(t.attachedThemeGraphic)||h.getTheme()}},84306:function(t,e,n){"use strict";n.d(e,{Gg:function(){return o},Xk:function(){return s},m5:function(){return a},ph:function(){return i}});function i(t,e,n,i=0){return t.expand(e+(i/2+(n?function(t,e){return t?e:0}(n,e):0))),t}let r=0;function o(){return r++}var a;function s(t){const e=[];let n=0,i="";for(let r=0;r<t.length;r++)h(t[r])?n?i+=t[r]:(n=1,i=t[r]):(n&&(e.push({text:i,direction:a.VERTICAL}),i="",n=0),e.push({text:t[r],direction:a.HORIZONTAL}));return i&&e.push({text:i,direction:a.VERTICAL}),e}!function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(a||(a={}));const l=new Map;["","","","","","","","","",""].forEach((t=>l.set(t,!0)));const u=new Map;function h(t){if(l.has(t))return!0;if(u.has(t))return!1;let e=!1;return t.codePointAt(0)<256&&(e=!0),e}[""].forEach((t=>u.set(t,!0)))},1491:function(t,e,n){"use strict";var i;n.d(e,{r:function(){return i}}),function(t){t[t.estimate=0]="estimate",t[t.actualBounding=1]="actualBounding",t[t.fontBounding=2]="fontBounding"}(i||(i={}))},36656:function(t,e,n){"use strict";n.d(e,{WN:function(){return de},VJ:function(){return he},rF:function(){return ce}});var i=n(64008),r=n(35223),o=n(39225),a=n(91112),s=n(27836),l=n(12455),u=n(50747),h=n(19122),c=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(t,e){return function(n,i){e(n,i,t)}},p=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};let g=class{get env(){return this._env}get isImageAnonymous(){return this._isImageAnonymous}set isImageAnonymous(t){this._isImageAnonymous=t}get devicePixelRatio(){return this._env||this.setEnv("browser"),this.envContribution.getDevicePixelRatio()}get supportEvent(){return this._env||this.setEnv("browser"),this.envContribution.supportEvent}set supportEvent(t){this._env||this.setEnv("browser"),this.envContribution.supportEvent=t}get supportsTouchEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents}set supportsTouchEvents(t){this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents=t}get supportsPointerEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents}set supportsPointerEvents(t){this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents=t}get supportsMouseEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents}set supportsMouseEvents(t){this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents=t}get applyStyles(){return this._env||this.setEnv("browser"),this.envContribution.applyStyles}set applyStyles(t){this._env||this.setEnv("browser"),this.envContribution.applyStyles=t}constructor(t){this.contributions=t,this._isImageAnonymous=!0,this.id=h.R.GenAutoIncrementId(),this.hooks={onSetEnv:new l.n(["lastEnv","env","global"])},this.measureTextMethod="native",this.optimizeVisible=!1}bindContribution(t){const e=[];if(this.contributions.getContributions().forEach((n=>{const i=n.configure(this,t);i&&i.then&&e.push(i)})),e.length)return Promise.all(e)}getDynamicCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getDynamicCanvasCount()}getStaticCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getStaticCanvasCount()}setEnv(t,e){if(e&&!0===e.force||this._env!==t)return this.deactiveCurrentEnv(),this.activeEnv(t,e)}deactiveCurrentEnv(){this.envContribution&&this.envContribution.release()}activeEnv(t,e){const n=this._env;this._env=t;const i=this.bindContribution(e);if(i&&i.then)return i.then((()=>{this.envParams=e,this.hooks.onSetEnv.call(n,t,this)}));this.envParams=e,this.hooks.onSetEnv.call(n,t,this)}setActiveEnvContribution(t){this.envContribution=t}createCanvas(t){return this._env||this.setEnv("browser"),this.envContribution.createCanvas(t)}createOffscreenCanvas(t){return this._env||this.setEnv("browser"),this.envContribution.createOffscreenCanvas(t)}releaseCanvas(t){return this._env||this.setEnv("browser"),this.envContribution.releaseCanvas(t)}addEventListener(t,e,n){return this._env||this.setEnv("browser"),this.envContribution.addEventListener(t,e,n)}removeEventListener(t,e,n){return this._env||this.setEnv("browser"),this.envContribution.removeEventListener(t,e,n)}dispatchEvent(t){return this._env||this.setEnv("browser"),this.envContribution.dispatchEvent(t)}getRequestAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getRequestAnimationFrame()}getCancelAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getCancelAnimationFrame()}getElementById(t){return this._env||this.setEnv("browser"),this.envContribution.getElementById?this.envContribution.getElementById(t):null}getRootElement(){return this._env||this.setEnv("browser"),this.envContribution.getRootElement?this.envContribution.getRootElement():null}getDocument(){return this._env||this.setEnv("browser"),this.envContribution.getDocument?this.envContribution.getDocument():null}mapToCanvasPoint(t,e){return this._env||this.setEnv("browser"),this.envContribution.mapToCanvasPoint?this.envContribution.mapToCanvasPoint(t,e):null}loadImage(t){return this._env||this.setEnv("browser"),this.envContribution.loadImage(t)}loadSvg(t){return this._env||this.setEnv("browser"),this.envContribution.loadSvg(t)}loadJson(t){return this._env||this.setEnv("browser"),this.envContribution.loadJson(t)}loadArrayBuffer(t){return this._env||this.setEnv("browser"),this.envContribution.loadArrayBuffer(t)}loadBlob(t){return this._env||this.setEnv("browser"),this.envContribution.loadBlob(t)}loadFont(t,e,n){return p(this,void 0,void 0,(function*(){return this._env||this.setEnv("browser"),this.envContribution.loadFont(t,e,n)}))}isChrome(){return null!=this._isChrome||(this._env||this.setEnv("browser"),this._isChrome="browser"===this._env&&navigator.userAgent.indexOf("Chrome")>-1),this._isChrome}isSafari(){return null!=this._isSafari||(this._env||this.setEnv("browser"),this._isSafari="browser"===this._env&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)),this._isSafari}getNativeAABBBounds(t){return this._env||this.setEnv("browser"),this.envContribution.getNativeAABBBounds(t)}removeDom(t){return this._env||this.setEnv("browser"),this.envContribution.removeDom(t)}createDom(t){return this._env||this.setEnv("browser"),this.envContribution.createDom(t)}updateDom(t,e){return this._env||this.setEnv("browser"),this.envContribution.updateDom(t,e)}getElementTop(t,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTop(t,e)}getElementLeft(t,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementLeft(t,e)}getElementTopLeft(t,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTopLeft(t,e)}};g=c([(0,r.b)(),f(0,(0,o.f)(s.Qc)),f(0,(0,a.t)(u.D0)),d("design:paramtypes",[Object])],g);var m=n(51854),v=n(77887),y=n(58697),b=n(65087),w=n(79018),x=n(92908),_=n(90154),C=n(80331),S=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},M=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},A=function(t,e){return function(n,i){e(n,i,t)}};let T=class{get canvas(){return this.tryInitCanvas(),this._canvas}get context(){return this.tryInitCanvas(),this._context}constructor(t){this.contributions=t,this.configured=!1,this.global=x.w.global,this.global.hooks.onSetEnv.tap("graphic-util",((t,e,n)=>{this.configured=!1,this.configure(n,e)}))}get textMeasure(){return this._textMeasure||this.configure(this.global,this.global.env),this._textMeasure}configure(t,e){this.configured||(this.contributions.getContributions().forEach((t=>{t.configure(this,e)})),this.configured=!0)}tryInitCanvas(){if(!this._canvas){const t=w.A.shareCanvas();this._canvas=t,this._context=t.getContext("2d")}}bindTextMeasure(t){this._textMeasure=t}measureText(t,e,n="native"){var i;this.configure(this.global,this.global.env);const r=this.global.measureTextMethod;this.global.measureTextMethod=n;const o={width:this._textMeasure.measureTextWidth(t,e),height:null!==(i=e.fontSize)&&void 0!==i?i:v.q9.fontSize};return this.global.measureTextMethod=r,o}createTextMeasureInstance(t,e,n){return this.configure(this.global,this.global.env),new y.e(Object.assign({defaultFontParams:{fontFamily:v.q9.fontFamily,fontSize:v.q9.fontSize},getCanvasForMeasure:n||(()=>this.canvas),getTextBounds:void 0,specialCharSet:"-/: .,@%'\"~"+y.e.ALPHABET_CHAR_SET+y.e.ALPHABET_CHAR_SET.toUpperCase()},null!=e?e:{}),t)}drawGraphicToCanvas(t,e,n){if(!e.defaultLayer)return null;const i=_.n.get(C.Oo),r=t.AABBBounds,o=r.width(),a=r.height(),s=-r.x1,l=-r.y1;i.create({viewBox:{x1:s,y1:l,x2:r.x2,y2:r.y2},width:o,height:a,canvas:n,dpr:e.window.dpr,canvasControled:!0,offscreen:!0,title:""});const u=e.params.optimize.disableCheckGraphicWidthOutRange;e.params.optimize.disableCheckGraphicWidthOutRange=!0,e.defaultLayer.getNativeHandler().drawTo(i,[t],{transMatrix:i.getViewBoxTransform(),viewBox:i.getViewBox(),stage:e,layer:e.defaultLayer,renderService:e.renderService,background:"transparent",clear:!0,updateBounds:!1}),e.params.optimize.disableCheckGraphicWidthOutRange=u;const h=i.getNativeHandler();return h.nativeCanvas?h.nativeCanvas:null}};var k;T=S([(0,r.b)(),A(0,(0,o.f)(s.Qc)),A(0,(0,a.t)(m.j)),M("design:paramtypes",[Object])],T),function(t){t[t.transform=0]="transform",t[t.matrix=1]="matrix"}(k||(k={}));const R=new b.y;let I=class{constructor(){this.matrix=new b.y}init(t){return this.mode=k.transform,this.originTransform=t,this.matrix.reset(),this}fromMatrix(t,e){return this.mode=k.matrix,this.outSourceMatrix=t,this.outTargetMatrix=e,this}scaleMatrix(t,e,n){const i=this.outSourceMatrix;if(R.setValue(i.a,i.b,i.c,i.d,i.e,i.f),this.outTargetMatrix.reset(),n){const{x:i,y:r}=n;this.outTargetMatrix.translate(i,r),this.outTargetMatrix.scale(t,e),this.outTargetMatrix.translate(-i,-r)}else this.outTargetMatrix.scale(t,e);return this.outTargetMatrix.multiply(R.a,R.b,R.c,R.d,R.e,R.f),this}rotateMatrix(t,e){const n=this.outSourceMatrix;if(R.setValue(n.a,n.b,n.c,n.d,n.e,n.f),this.outTargetMatrix.reset(),e){const{x:n,y:i}=e;this.outTargetMatrix.translate(n,i),this.outTargetMatrix.rotate(t),this.outTargetMatrix.translate(-n,-i)}else this.outTargetMatrix.rotate(t);return this.outTargetMatrix.multiply(R.a,R.b,R.c,R.d,R.e,R.f),this}scale(t,e,n){return this.mode===k.matrix?this.scaleMatrix(t,e,n):this}rotate(t,e){return this.mode===k.matrix?this.rotateMatrix(t,e):this}translateMatrix(t,e){const n=this.outSourceMatrix;return R.setValue(n.a,n.b,n.c,n.d,n.e,n.f),this.outTargetMatrix.reset(),this.outTargetMatrix.translate(t,e),this.outTargetMatrix.multiply(R.a,R.b,R.c,R.d,R.e,R.f),this}translate(t,e){return this.mode===k.matrix?this.translateMatrix(t,e):this}simplify(t){return this.mode===k.matrix?this.simplifyMatrix(t):this}simplifyMatrix(t){return this}};I=S([(0,r.b)(),M("design:paramtypes",[])],I);var P=n(9353),E=n(92096);class B extends E.ZA{get offscreen(){return this.layerHandler.offscreen}get layerMode(){return this.layerHandler.type}get width(){return this.stage?this.stage.width:0}get height(){return this.stage?this.stage.height:0}get viewWidth(){return this.stage?this.stage.viewWidth:0}get viewHeight(){return this.stage?this.stage.viewHeight:0}get dirtyBound(){throw new Error("")}get dpr(){return this._dpr}constructor(t,e,n,i){var r;super({}),this.stage=t,this.global=e,this.window=n,this.main=i.main,this.layerHandler=i.layerHandler,this.layerHandler.init(this,n,{main:i.main,canvasId:i.canvasId,width:this.viewWidth,height:this.viewHeight,zIndex:null!==(r=i.zIndex)&&void 0!==r?r:0}),this.layer=this,this.subLayers=new Map,this.theme=new P.Q2,this.background="rgba(0, 0, 0, 0)",this.afterDrawCbs=[]}combineSubLayer(t=!0){const e=Array.from(this.subLayers.values()).sort(((t,e)=>t.zIndex-e.zIndex));this.layerHandler.merge(e.map((e=>(e.layer.subLayers.size&&e.layer.combineSubLayer(t),e.layer.getNativeHandler())))),t&&e.forEach((t=>{t.group&&(t.group.incremental=0)})),e.forEach((t=>{x.w.layerService.releaseLayer(this.stage,t.layer)})),this.subLayers.clear()}getNativeHandler(){return this.layerHandler}setStage(t,e){super.setStage(t,this)}pick(t,e){throw new Error("")}tryRenderSecondaryLayer(t,e){this.layerHandler.secondaryHandlers&&this.layerHandler.secondaryHandlers.length&&this.layerHandler.secondaryHandlers.forEach((n=>{n.layer.renderCount=this.renderCount,n.layer.render(t,e)}))}render(t,e){var n;this.layerHandler.render([this],{renderService:t.renderService,stage:this.stage,layer:this,viewBox:t.viewBox,transMatrix:t.transMatrix,background:null!==(n=t.background)&&void 0!==n?n:this.background,updateBounds:t.updateBounds},e),this.afterDrawCbs.forEach((t=>t(this))),this.tryRenderSecondaryLayer(t,e)}resize(t,e){this.layerHandler.resize(t,e)}resizeView(t,e){this.layerHandler.resizeView(t,e)}setDpr(t){this.layerHandler.setDpr(t)}afterDraw(t){this.afterDrawCbs.push(t)}startAnimate(t){throw new Error("")}setToFrame(t){throw new Error("")}prepare(t,e){}release(){super.release(),this.layerHandler.release(),this.subLayers&&this.subLayers.forEach((t=>{x.w.layerService.releaseLayer(this.stage,t.layer)}))}drawTo(t,e){var n;this.layerHandler.drawTo(t,[this],Object.assign({background:null!==(n=e.background)&&void 0!==n?n:this.background,renderService:e.renderService,viewBox:e.viewBox,transMatrix:e.transMatrix,stage:this.stage,layer:this},e)),this.afterDrawCbs.forEach((t=>t(this)))}}var L,D=n(23421),O=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},F=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let H=L=class{static GenerateLayerId(){return`${L.idprefix}_${L.prefix_count++}`}constructor(){this.layerMap=new Map,this.global=x.w.global}tryInit(){this.inited||(this.staticLayerCountInEnv=this.global.getStaticCanvasCount(),this.dynamicLayerCountInEnv=this.global.getDynamicCanvasCount(),this.inited=!0)}getStageLayer(t){return this.layerMap.get(t)}getRecommendedLayerType(t){return t||(0!==this.staticLayerCountInEnv?"static":0!==this.dynamicLayerCountInEnv?"dynamic":"virtual")}getLayerHandler(t){let e;return e="static"===t?_.n.get(D.kj):"dynamic"===t?_.n.get(D.ym):_.n.get(D.XJ),e}createLayer(t,e={main:!1}){var n;this.tryInit();let i=this.getRecommendedLayerType(e.layerMode);i=e.main||e.canvasId?"static":i;const r=this.getLayerHandler(i),o=new B(t,this.global,t.window,Object.assign(Object.assign({main:!1},e),{layerMode:i,canvasId:null!==(n=e.canvasId)&&void 0!==n?n:L.GenerateLayerId(),layerHandler:r})),a=this.layerMap.get(t)||[];return a.push(o),this.layerMap.set(t,a),this.staticLayerCountInEnv--,o}prepareStageLayer(t){let e;t.forEachChildren((t=>{const n=t.getNativeHandler();"virtual"===n.type?(n.mainHandler=e,e.secondaryHandlers.push(n)):(e=n,e.secondaryHandlers=[])}))}releaseLayer(t,e){e.release();const n=this.layerMap.get(t)||[];this.layerMap.set(t,n.filter((t=>t!==e)))}layerCount(t){return(this.layerMap.get(t)||[]).length}restLayerCount(t){return"browser"===this.global.env?10:0}releaseStage(t){this.layerMap.delete(t)}};H.idprefix="visactor_layer",H.prefix_count=0,H=L=O([(0,r.b)(),F("design:paramtypes",[])],H);var N=new i.n((t=>{t(u.y2).to(g).inSingletonScope(),t(C.Oo).to(C.Il),t(D.no).to(T).inSingletonScope(),t(D.Gp).to(I).inSingletonScope(),t(D.IT).to(H).inSingletonScope()})),z=n(51179),W=new i.n((t=>{t(z.pi).to(z.I2)})),j=n(40139),V=n(33692),G=new i.n(((t,e,n)=>{n(j.hH)||(t(j.BR).toSelf(),t(j.hH).toService(j.BR)),t(V.ZN).toSelf().inSingletonScope(),t(V.uH).toService(V.ZN),t(V.DZ).toSelf().inSingletonScope(),t(V.uH).toService(V.DZ),t(V.ax).toSelf().inSingletonScope(),t(V.uH).toService(V.ax),(0,s.yb)(t,V.uH)})),Z=n(19747),U=n(88890),K=n(62071),$=new i.n((t=>{t(U.fB).to(Z.JG).inSingletonScope(),t(U.tA).toConstantValue(K.i)})),X=n(21817),Y=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},q=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},J=function(t,e){return function(n,i){e(n,i,t)}};let Q=class{constructor(t){this.autoEnablePlugins=t,this.onStartupFinishedPlugin=[],this.onRegisterPlugin=[],this.actived=!1}active(t,e){this.stage=t,this.actived=!0;const{pluginList:n}=e;n&&_.n.isBound(X.X)&&this.autoEnablePlugins.getContributions().forEach((t=>{n.includes(t.name)&&this.register(t)}))}findPluginsByName(t){const e=[];return this.onStartupFinishedPlugin.forEach((n=>{n.name===t&&e.push(n)})),this.onRegisterPlugin.forEach((n=>{n.name===t&&e.push(n)})),e}register(t){"onStartupFinished"===t.activeEvent?this.onStartupFinishedPlugin.push(t):"onRegister"===t.activeEvent&&(this.onRegisterPlugin.push(t),t.activate(this))}unRegister(t){"onStartupFinished"===t.activeEvent?this.onStartupFinishedPlugin.splice(this.onStartupFinishedPlugin.indexOf(t),1):"onRegister"===t.activeEvent&&this.onRegisterPlugin.splice(this.onStartupFinishedPlugin.indexOf(t),1),t.deactivate(this)}release(...t){this.onStartupFinishedPlugin.forEach((t=>{t.deactivate(this)})),this.onStartupFinishedPlugin=[],this.onRegisterPlugin.forEach((t=>{t.deactivate(this)})),this.onRegisterPlugin=[]}};Q=Y([(0,r.b)(),J(0,(0,o.f)(s.Qc)),J(0,(0,a.t)(X.X)),q("design:paramtypes",[Object])],Q);var tt=new i.n((t=>{t(X.H).to(Q),(0,s.EM)(t,X.X)})),et=new i.n((t=>{(0,s.yb)(t,u.D0)})),nt=new i.n((t=>{t(m.j).to(m.f).inSingletonScope(),(0,s.yb)(t,m.j)})),it=n(96749),rt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ot=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let at=class{constructor(){this.type="static",this.offscreen=!1,this.global=x.w.global}setDpr(t){this.canvas.dpr=t}init(t,e,n){if(this.layer=t,this.window=e,n.main)this.main=!0,this.context=e.getContext(),this.canvas=this.context.getCanvas();else{let t;this.main=!1,n.canvasId&&(t=this.global.getElementById(n.canvasId)),t||(t=this.global.createCanvas({width:e.width,height:e.height})),t.style&&(t.style["pointer-events"]="none");const i=e.getContext().getCanvas().nativeCanvas,r=(0,it.JN)({nativeCanvas:t,width:e.width,height:e.height,dpr:e.dpr,id:n.canvasId,canvasControled:!0,container:e.getContainer(),x:i.offsetLeft,y:i.offsetTop});r.applyPosition(),this.canvas=r,this.context=r.getContext()}}resize(t,e){this.canvas.resize(t,e)}resizeView(t,e){}render(t,e,n){var i;if(!this.main){const t=this.window.getContext().getCanvas().nativeCanvas;!t||this.canvas.x===t.offsetLeft&&this.canvas.y===t.offsetTop||(this.canvas.x=t.offsetLeft,this.canvas.y=t.offsetTop,this.canvas.applyPosition())}e.renderService.render(t,Object.assign(Object.assign({context:this.context,clear:null!==(i=e.background)&&void 0!==i?i:"#ffffff"},e),n))}merge(t){t.forEach((t=>{const e=t.getContext().canvas.nativeCanvas;this.context.drawImage(e,0,0)}))}prepare(t,e){}drawTo(t,e,n){var i;const r=t.getContext();n.renderService.render(e,Object.assign(Object.assign({context:r},n),{clear:n.clear?null!==(i=n.background)&&void 0!==i?i:"#fff":void 0}))}getContext(){return this.context}release(){this.canvas.release()}};at=rt([(0,r.b)(),ot("design:paramtypes",[])],at);var st=new i.n((t=>{t(at).toSelf(),t(D.kj).toService(at)}));var lt=n(99945);const ut=(0,n(70048).v)(lt.Lc);var ht=n(27079),ct=n(94378),dt=n(73500),ft=n(81813),pt=n(21196),gt=n(41693),mt=n(36531),vt=n(64554),yt=n(63076),bt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},wt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xt=function(t,e){return function(n,i){e(n,i,t)}};let _t=class{constructor(t,e){this.contributions=t,this.drawItemInterceptorContributions=e,this.currentRenderMap=new Map,this.defaultRenderMap=new Map,this.styleRenderMap=new Map,this.dirtyBounds=new ct.YZ,this.backupDirtyBounds=new ct.YZ,this.global=x.w.global,this.layerService=x.w.layerService,this.init()}init(){this.contributions.forEach((t=>{if(t.style){const e=this.styleRenderMap.get(t.style)||new Map;e.set(t.numberType,t),this.styleRenderMap.set(t.style,e)}else this.defaultRenderMap.set(t.numberType,t)})),this.InterceptorContributions=this.drawItemInterceptorContributions.getContributions().sort(((t,e)=>t.order-e.order))}prepareForDraw(t,e){e.updateBounds?this.useDirtyBounds=!0:this.useDirtyBounds=!e.stage.params.optimize.disableCheckGraphicWidthOutRange}draw(t,e){this.prepareForDraw(t,e),e.drawContribution=this,this.currentRenderMap=this.styleRenderMap.get(e.renderStyle)||this.defaultRenderMap,this.currentRenderService=t;const{context:n,stage:i,viewBox:r,transMatrix:o}=e;if(!n)return;const a=this.dirtyBounds.setValue(0,0,r.width(),r.height());if(i.dirtyBounds&&!i.dirtyBounds.empty()){const t=(0,dt.di)(a,i.dirtyBounds,!1);a.x1=Math.floor(t.x1),a.y1=Math.floor(t.y1),a.x2=Math.ceil(t.x2),a.y2=Math.ceil(t.y2)}const s=n.dpr%1;(s||.5!==s)&&(a.x1=Math.floor(a.x1*n.dpr)/n.dpr,a.y1=Math.floor(a.y1*n.dpr)/n.dpr,a.x2=Math.ceil(a.x2*n.dpr)/n.dpr,a.y2=Math.ceil(a.y2*n.dpr)/n.dpr),this.backupDirtyBounds.copy(a),n.inuse=!0,n.setClearMatrix(o.a,o.b,o.c,o.d,o.e,o.f),n.clearMatrix(),n.setTransformForCurrent(!0),n.translate(r.x1,r.y1,!0),n.beginPath(),n.rect(a.x1,a.y1,a.width(),a.height()),n.clip(),i.camera&&(this.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),this.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0)),this.clearScreen(t,n,e),n.save(),t.renderTreeRoots.sort(((t,e)=>{var n,i;return(null!==(n=t.attribute.zIndex)&&void 0!==n?n:v.xF.zIndex)-(null!==(i=e.attribute.zIndex)&&void 0!==i?i:v.xF.zIndex)})).forEach((t=>{t.isContainer?this.renderGroup(t,e,yt.QE.allocate(1,0,0,1,0,0)):this.renderItem(t,e)})),n.restore(),n.setClearMatrix(1,0,0,1,0,0),n.inuse=!1,n.draw()}doRegister(){throw new Error("")}_findNextGraphic(t){let e=t.parent,n=t._uid;for(;e;){const t=(0,ht.qA)(e,n,v.xF.zIndex);if(t)return t;n=e._uid,e=e.parent}return null}renderGroup(t,e,n,i){if(e.break||!1===t.attribute.visibleAll)return;if(t.incremental&&(null==e.startAtId||e.startAtId===t._uid))return e.break=!0,void this._increaseRender(t,e);if(this.useDirtyBounds&&!(0,dt.SX)(t.AABBBounds,this.dirtyBounds,!1))return;let r,o=n;if(this.useDirtyBounds){r=vt.et.allocateByObj(this.dirtyBounds);const e=t.transMatrix;o=yt.QE.allocateByObj(n).multiply(e.a,e.b,e.c,e.d,e.e,e.f),this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(o.getInverse())}this.renderItem(t,e,{drawingCb:()=>{var n;i?t.forEachChildren((t=>{e.break||(t.isContainer?this.renderGroup(t,e,o):this.renderItem(t,e))})):(0,ht.kD)(t,v.xF.zIndex,(t=>{e.break||(t.isContainer?this.renderGroup(t,e,o):this.renderItem(t,e))}),!1,!!(null===(n=e.context)||void 0===n?void 0:n.camera))}}),this.useDirtyBounds&&(this.dirtyBounds.copy(r),vt.et.free(r),yt.QE.free(o))}_increaseRender(t,e){const{layer:n,stage:i}=e,{subLayers:r}=n;let o=r.get(t._uid);o||(o={layer:this.layerService.createLayer(i),zIndex:r.size,group:t},r.set(t._uid,o));const a=o.layer.getNativeHandler().getContext(),s=o.drawContribution||_.n.get(pt.Pf);s.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),s.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0),s.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:s,clear:"transparent",layer:o.layer,context:a,startAtId:t._uid,break:!1})),o.drawContribution=s;const l=this._findNextGraphic(t);if(l)if(l.isContainer&&l.incremental)this._increaseRender(l,e);else{let t=r.get(l._uid);t||(t={layer:this.layerService.createLayer(i),zIndex:r.size},r.set(l._uid,t));const n=t.layer.getNativeHandler().getContext();this.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:s,clear:"transparent",layer:t.layer,context:n,startAtId:l._uid,break:!1}))}}getRenderContribution(t){let e;return e||(e=this.selectRenderByNumberType(t.numberType,t)),e||(e=this.selectRenderByType(t.type)),e}renderItem(t,e,n){if(this.InterceptorContributions.length)for(let i=0;i<this.InterceptorContributions.length;i++){const r=this.InterceptorContributions[i];if(r.beforeDrawItem&&r.beforeDrawItem(t,this.currentRenderService,e,this,n))return}const i=this.getRenderContribution(t);if(!i)return;let r,o=this.scrollMatrix&&(0!==this.scrollMatrix.e||0!==this.scrollMatrix.f);if(t.parent){const{scrollX:e=0,scrollY:n=0}=t.parent.attribute;(e||n)&&(o=!0,this.scrollMatrix||(this.scrollMatrix=yt.QE.allocate(1,0,0,1,0,0)),this.scrollMatrix.translate(-e,-n))}if(o&&(r=this.dirtyBounds.clone().transformWithMatrix(this.scrollMatrix)),this.useDirtyBounds&&!t.isContainer&&!(0,dt.SX)(t.AABBBounds,null!=r?r:this.dirtyBounds,!1)){if(o&&t.parent){const{scrollX:e=0,scrollY:n=0}=t.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(e,n)}return}const a=null!=e.startAtId&&t._uid!==e.startAtId;if(t._uid===e.startAtId&&(e.startAtId=null),n&&(n.skipDraw=a),a?t.isContainer&&i.draw(t,this.currentRenderService,e,n):i.draw(t,this.currentRenderService,e,n),o&&t.parent){const{scrollX:e=0,scrollY:n=0}=t.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(e,n)}if(this.InterceptorContributions.length)for(let n=0;n<this.InterceptorContributions.length;n++){const i=this.InterceptorContributions[n];if(i.afterDrawItem&&i.afterDrawItem(t,this.currentRenderService,e,this))return}}selectRenderByType(t){return ft.Y.getInstance().warn(""),null}selectRenderByNumberType(t,e){let n;if(e.attribute.renderStyle){const i=this.styleRenderMap.get(e.attribute.renderStyle);n=i&&i.get(t)}return n||this.currentRenderMap.get(t)||this.defaultRenderMap.get(t)}clearScreen(t,e,n){var i,r;const{clear:o,viewBox:a}=n,s=a.width(),l=a.height();if(o){e.clearRect(0,0,s,l);const n=null===(i=t.drawParams)||void 0===i?void 0:i.stage;if(n&&(e.globalAlpha=null!==(r=n.attribute.opacity)&&void 0!==r?r:1),n&&n.backgroundImg&&n.resources){const t=n.resources.get(o);t&&"success"===t.state&&t.data&&e.drawImage(t.data,0,0,s,l)}else e.fillStyle=(0,mt.L)(e,o,{AABBBounds:{x1:0,y1:0,x2:0+s,y2:0+l}},0,0),e.fillRect(0,0,s,l)}}afterDraw(t,e){}};_t=bt([(0,r.b)(),xt(0,ut(pt.uz)),xt(1,(0,o.f)(s.Qc)),xt(1,(0,a.t)(gt.xL)),wt("design:paramtypes",[Array,Object])],_t);var Ct=n(68725),St=n(53881),Mt=n(91711),At=n(46195),Tt=n(21448),kt=n(22466);class Rt extends kt.M2{constructor(){super(...arguments),this.time=Tt.Oh.beforeFillStroke}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){const{background:d,backgroundMode:f=l.backgroundMode,backgroundFit:p=l.backgroundFit}=t.attribute;if(d)if(t.backgroundImg&&t.resources){const n=t.resources.get(d);if("success"!==n.state||!n.data)return;e.highPerformanceSave(),e.setTransformFromMatrix(t.parent.globalTransMatrix,!0);const i=t.AABBBounds;this.doDrawImage(e,n.data,i,f,p),e.highPerformanceRestore(),e.setTransformForCurrent()}else e.highPerformanceSave(),e.fillStyle=d,e.fill(),e.highPerformanceRestore()}}const It=new Rt;var Pt=n(67161),Et=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Bt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lt=function(t,e){return function(n,i){e(n,i,t)}};let Dt=class{constructor(t){this.groupRenderContribitions=t,this.numberType=U.I_}drawShape(t,e,n,i,r,o,a,s){const l=(0,P.gh)(t,null==o?void 0:o.theme).group,{fill:u=l.fill,background:h,stroke:c=l.stroke,opacity:d=l.opacity,width:f=l.width,height:p=l.height,clip:g=l.clip,fillOpacity:m=l.fillOpacity,strokeOpacity:v=l.strokeOpacity,cornerRadius:y=l.cornerRadius,path:b=l.path,lineWidth:w=l.lineWidth,visible:x=l.visible,fillStrokeOrder:_=l.fillStrokeOrder,x:C=l.x,y:S=l.y}=t.attribute,M=(0,Mt.GT)(d,m,f,p,u),A=(0,Mt.Ze)(d,v,f,p),T=(0,Mt.dz)(u,h),k=(0,Mt.ak)(c,w);if(!t.valid||!x)return;if(!g){if(!T&&!k)return;if(!(M||A||a||s||h))return}if(b&&b.length&&r.drawContribution){const t=e.disableFill,n=e.disableStroke,i=e.disableBeginPath;e.disableFill=!0,e.disableStroke=!0,e.disableBeginPath=!0,b.forEach((t=>{r.drawContribution.getRenderContribution(t).draw(t,r.renderService,r,o)})),e.disableFill=t,e.disableStroke=n,e.disableBeginPath=i}else 0===y||(0,Ct.Z)(y)&&y.every((t=>0===t))?(e.beginPath(),e.rect(n,i,f,p)):(e.beginPath(),(0,St.U)(e,n,i,f,p,y));this._groupRenderContribitions||(this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(It));const R={doFill:T,doStroke:k};this._groupRenderContribitions.forEach((o=>{o.time===Tt.Oh.beforeFillStroke&&o.drawShape(t,e,n,i,T,k,M,A,l,r,a,s,R)})),g&&e.clip(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l);const I=()=>{R.doFill&&(a?a(e,t.attribute,l):M&&(e.setCommonStyle(t,t.attribute,C-n,S-i,l),e.fill()))},E=()=>{R.doStroke&&(s?s(e,t.attribute,l):A&&(e.setStrokeStyle(t,t.attribute,C-n,S-i,l),e.stroke()))};_?(E(),I()):(I(),E()),this._groupRenderContribitions.forEach((o=>{o.time===Tt.Oh.afterFillStroke&&o.drawShape(t,e,n,i,T,k,M,A,l,r,a,s)}))}draw(t,e,n,i){const{context:r}=n;if(!r)return;const{clip:o,baseOpacity:a=1}=t.attribute;o?r.save():r.highPerformanceSave();const s=r.baseGlobalAlpha;r.baseGlobalAlpha*=a;const l=(0,P.gh)(t,null==i?void 0:i.theme).group,u=r.modelMatrix;if(r.camera){const e=yt.yp.allocate(),n=yt.yp.allocate();(0,Z.RT)(n,t,l),(0,Pt.G9)(e,u||e,n),r.modelMatrix=e,yt.yp.free(n),r.setTransform(1,0,0,1,0,0,!0)}else r.transformFromMatrix(t.transMatrix,!0);r.beginPath(),i.skipDraw?this.drawShape(t,r,0,0,n,i,(()=>!1),(()=>!1)):this.drawShape(t,r,0,0,n);const{scrollX:h=l.scrollX,scrollY:c=l.scrollY}=t.attribute;let d;(h||c)&&r.translate(h,c),i&&i.drawingCb&&(d=i.drawingCb()),r.modelMatrix!==u&&yt.yp.free(r.modelMatrix),r.modelMatrix=u,r.baseGlobalAlpha=s,d&&d.then?d.then((()=>{o?r.restore():r.highPerformanceRestore()})):o?r.restore():r.highPerformanceRestore()}};Dt=Et([(0,r.b)(),Lt(0,(0,o.f)(s.Qc)),Lt(0,(0,a.t)(At.jd)),Bt("design:paramtypes",[Object])],Dt);var Ot=n(56350),Ft=n(57343),Ht=n(40088),Nt=n(86717),zt=n(76960),Wt=n(19591);function jt(t,e,n,i){if(e.length<2)return;const{offsetX:r=0,offsetY:o=0,offsetZ:a=0,mode:s}=i||{};let l=e[0];t.moveTo(l.p0.x+r,l.p0.y+o,a),l=e[e.length-1];let u=l.p3||l.p1;t.lineTo(u.x+r,u.y+o,a),l=n[n.length-1],t.lineTo(l.p0.x+r,l.p0.y+o,a),l=n[0],u=l.p3||l.p1,t.lineTo(u.x+r,u.y+o,a),t.closePath()}function Vt(t,e,n,i){const{offsetX:r=0,offsetY:o=0,offsetZ:a=0}=i||{};let s=!0;e.forEach((e=>{e.defined?(s&&t.moveTo(e.p0.x+r,e.p0.y+o,a),(0,Wt.w)(t,e,1,i),s=!1):s=!0})),s=!0;for(let e=n.length-1;e>=0;e--){const l=n[e];l.defined?(s&&t.lineTo(l.p0.x+r,l.p0.y+o,a),(0,Wt.w)(t,l,1,i),s=!1):s=!0}t.closePath()}var Gt=n(46530),Zt=n(32091),Ut=n(27963),Kt=n(58488);class $t extends Ut.${constructor(){super(...arguments),this.time=Tt.Oh.afterFillStroke}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){var f,p,g,m;this.textureMap||this.initTextureMap(e,t.stage);const{attribute:v=t.attribute}=d||{},{texture:y=(null!==(f=t.attribute.texture)&&void 0!==f?f:(0,Kt.hT)(l,"texture")),textureColor:b=(null!==(p=t.attribute.textureColor)&&void 0!==p?p:(0,Kt.hT)(l,"textureColor")),textureSize:w=(null!==(g=t.attribute.textureSize)&&void 0!==g?g:(0,Kt.hT)(l,"textureSize")),texturePadding:x=(null!==(m=t.attribute.texturePadding)&&void 0!==m?m:(0,Kt.hT)(l,"texturePadding"))}=v;y&&this.drawTexture(y,t,e,n,i,l,b,w,x)}}const Xt=new $t,Yt=kt.R6;var qt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Jt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qt=function(t,e){return function(n,i){e(n,i,t)}};let te=class extends Zt.Y{constructor(t){super(),this.areaRenderContribitions=t,this.numberType=U.Ri,this.builtinContributions=[Xt,Yt],this.init(t)}drawLinearAreaHighPerformance(t,e,n,i,r,o,a,s,l,u,h,c,d){var f,p,g;const{points:m}=t.attribute;if(m.length<2)return;e.beginPath();const v=null!==(f=this.z)&&void 0!==f?f:0,y=m[0];e.moveTo(y.x+a,y.y+s,v);for(let t=1;t<m.length;t++){const n=m[t];e.lineTo(n.x+a,n.y+s,v)}for(let t=m.length-1;t>=0;t--){const n=m[t];e.lineTo((null!==(p=n.x1)&&void 0!==p?p:n.x)+a,(null!==(g=n.y1)&&void 0!==g?g:n.y)+s,v)}e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),this.beforeRenderStep(t,e,a,s,!!r,!1,n,!1,l,u,c,null,{attribute:t.attribute});const{x:b=0,x:w=0}=t.attribute;!1!==n&&(c?c(e,t.attribute,l):r&&(e.setCommonStyle(t,t.attribute,b-a,w-s,l),e.fill())),this.afterRenderStep(t,e,a,s,!!r,!1,n,!1,l,u,c,null,{attribute:t.attribute}),(()=>{var n,r;if(i){const{stroke:i=l&&l.stroke}=t.attribute;if((0,Ct.Z)(i)&&(i[0]||i[2])&&!1===i[1])if(e.beginPath(),i[0]){e.moveTo(y.x+a,y.y+s,v);for(let t=1;t<m.length;t++){const n=m[t];e.lineTo(n.x+a,n.y+s,v)}}else if(i[2]){const t=m[m.length-1];e.moveTo(t.x+a,t.y+s,v);for(let t=m.length-2;t>=0;t--){const i=m[t];e.lineTo((null!==(n=i.x1)&&void 0!==n?n:i.x)+a,(null!==(r=i.y1)&&void 0!==r?r:i.y)+s,v)}}d?d(e,t.attribute,l):(e.setStrokeStyle(t,t.attribute,b-a,w-s,l),e.stroke())}})()}drawShape(t,e,n,i,r,o,a,s){var l,u,h,c,d,f;const p=(0,P.gh)(t,null==o?void 0:o.theme).area,{fill:g=p.fill,stroke:m=p.stroke,fillOpacity:v=p.fillOpacity,z:y=p.z,strokeOpacity:b=p.strokeOpacity,curveTension:w=p.curveTension}=t.attribute,x=this.valid(t,p,a,s);if(!x)return;const{doFill:_}=x,C=x.doStroke&&x.sVisible,{clipRange:S=p.clipRange,closePath:M,points:A,segments:T}=t.attribute;let{curveType:k=p.curveType}=t.attribute;if(M&&"linear"===k&&(k="linearClosed"),1===S&&!T&&!A.some((t=>!1===t.defined))&&"linear"===k)return this.drawLinearAreaHighPerformance(t,e,!!g,C,v,b,n,i,p,r,o,a,s);if(t.shouldUpdateShape()){if(T&&T.length){let e,n;const i=T.map(((t,i)=>{if(t.points.length<=1&&0===i)return t.points[0]&&(n={endX:t.points[0].x,endY:t.points[0].y}),null;1===i?e={x:n.endX,y:n.endY}:i>1&&(e.x=n.endX,e.y=n.endY);const r=(0,Ht.X0)(t.points,k,{startPoint:e,curveTension:w});return n=r,r})).filter((t=>!!t));let r;const o=[];for(let t=T.length-1;t>=0;t--){const e=T[t].points,n=[];for(let t=e.length-1;t>=0;t--)n.push({x:null!==(l=e[t].x1)&&void 0!==l?l:e[t].x,y:null!==(u=e[t].y1)&&void 0!==u?u:e[t].y});if(0!==t){const e=T[t-1].points,i=e[e.length-1];i&&n.push({x:null!==(h=i.x1)&&void 0!==h?h:i.x,y:null!==(c=i.y1)&&void 0!==c?c:i.y})}n.length>1&&(r=(0,Ht.X0)(n,"stepBefore"===k?"stepAfter":"stepAfter"===k?"stepBefore":k,{curveTension:w}),o.unshift(r))}t.cacheArea=o.map(((t,e)=>({top:i[e],bottom:t})))}else{if(!A||!A.length)return t.cacheArea=null,void t.clearUpdateShapeTag();{const e=A,n=[];for(let t=A.length-1;t>=0;t--)n.push({x:null!==(d=A[t].x1)&&void 0!==d?d:A[t].x,y:null!==(f=A[t].y1)&&void 0!==f?f:A[t].y});const i=(0,Ht.X0)(e,k,{curveTension:w}),r=(0,Ht.X0)(n,"stepBefore"===k?"stepAfter":"stepAfter"===k?"stepBefore":k,{curveTension:w});t.cacheArea={top:i,bottom:r}}}t.clearUpdateShapeTag()}if(Array.isArray(t.cacheArea)){const o=t.attribute.segments.filter((t=>t.points.length));if(1===o[0].points.length&&o.shift(),1===S){let l=!1;t.cacheArea.forEach(((u,h)=>{l||(l=this.drawSegmentItem(e,u,_,v,C,b,o[h],[p,t.attribute],S,n,i,y,t,r,a,s))}))}else{const l=t.cacheArea.reduce(((t,e)=>t+e.top.getLength()),0),u=S*l;let h=0,c=!1;t.cacheArea.forEach(((l,d)=>{if(c)return;const f=l.top.getLength(),g=(u-h)/f;h+=f,g>0&&(c=this.drawSegmentItem(e,l,_,v,C,b,o[d],[p,t.attribute],(0,Ft.VV)(g,1),n,i,y,t,r,a,s))}))}}else this.drawSegmentItem(e,t.cacheArea,_,v,C,b,t.attribute,p,S,n,i,y,t,r,a,s)}draw(t,e,n,i){const r=(0,P.gh)(t,null==i?void 0:i.theme).area;this._draw(t,r,!1,n,i)}drawSegmentItem(t,e,n,i,r,o,a,s,l,u,h,c,d,f,p,g){let m=!1;return m=m||this._drawSegmentItem(t,e,n,i,r,o,a,s,l,u,h,c,d,f,!1,p,g),m=m||this._drawSegmentItem(t,e,n,i,r,o,a,s,l,u,h,c,d,f,!0,p,g),m}_drawSegmentItem(t,e,n,i,r,o,a,s,l,u,h,c,d,f,p,g,m){var v,y,b,w;if(!(e&&e.top&&e.bottom&&e.top.curves&&e.top.curves.length&&e.bottom.curves&&e.bottom.curves.length))return;let{connectedType:x,connectedX:_,connectedY:C,connectedStyle:S}=a;const M=[];if(p&&((0,Ct.Z)(s)?(x=null!==(v=null!=x?x:s[0].connectedType)&&void 0!==v?v:s[1].connectedType,_=null!==(y=null!=_?_:s[0].connectedX)&&void 0!==y?y:s[1].connectedX,C=null!==(b=null!=C?C:s[0].connectedY)&&void 0!==b?b:s[1].connectedY,S=null!==(w=null!=S?S:s[0].connectedStyle)&&void 0!==w?w:s[1].connectedStyle):(x=null!=x?x:s.connectedType,_=null!=_?_:s.connectedX,C=null!=C?C:s.connectedY,S=null!=S?S:s.connectedStyle),"connect"!==x&&"zero"!==x&&(x="none"),(0,Ct.Z)(s)?s.forEach((t=>M.push(t))):M.push(s),M.push(a)),p&&"none"===x)return!1;t.beginPath();const{points:A,segments:T}=d.attribute;let k,R,I=Tt.Nm.ROW;if(T){const t=T[T.length-1];R=T[0].points[0],k=t.points[t.points.length-1]}else R=A[0],k=A[A.length-1];const P=(0,Ft.Wn)(k.x-R.x),E=(0,Ft.Wn)(k.y-R.y);I=null==k.x1?Tt.Nm.ROW:null==k.y1?Tt.Nm.COLUMN:Number.isFinite(P+E)?P>E?Tt.Nm.ROW:Tt.Nm.COLUMN:Tt.Nm.ROW,function(t,e,n,i){var r;const{drawConnect:o=!1,mode:a="none"}=i||{};if(o&&"none"===a)return;const{top:s,bottom:l}=e;if(s.curves.length!==l.curves.length)return;if(n>=1){const e=[],n=[];let r=!0;if(o){let r,o,a=!0;const u=s.curves.length;s.curves.forEach(((s,h)=>{const c=l.curves[u-h-1];let d=s,f=c;if(s.originP1===s.originP2)return r=s,void(o=c);if(r&&r.originP1===r.originP2&&(d=r,f=o),s.defined)a||(e.push(d),n.push(f),jt(t,e,n,i),e.length=0,n.length=0,a=!a);else{const{originP1:r,originP2:o}=s;let l,u;r&&!1!==r.defined?(l=d,u=f):r&&!1!==o.defined&&(l=s,u=c),a?(a=!a,e.push(l||s),n.push(u||c)):l&&(a=!a,e.push(l||s),n.push(u||c),jt(t,e,n,i),e.length=0,n.length=0)}r=s})),jt(t,e,n,i)}else{for(let o=0,a=s.curves.length;o<a;o++){const u=s.curves[o];r!==u.defined?(r?(Vt(t,e,n,i),e.length=0,n.length=0):(e.push(u),n.push(l.curves[a-o-1])),r=!r):r&&(e.push(u),n.push(l.curves[a-o-1]))}Vt(t,e,n,i)}return}if(n<=0)return;let{direction:u}=i||{};const{curves:h}=s,c=null!==(r=h[h.length-1].p3)&&void 0!==r?r:h[h.length-1].p1,d=(0,Ft.Wn)(c.x-h[0].p0.x),f=(0,Ft.Wn)(c.y-h[0].p0.y);u=null!=u?u:d>f?Tt.Nm.ROW:Tt.Nm.COLUMN,Number.isFinite(d)||(u=Tt.Nm.COLUMN),Number.isFinite(f)||(u=Tt.Nm.ROW);const p=n*(u===Tt.Nm.ROW?d:f);let g=0,m=!0;const v=[],y=[];let b,w,x=!0;for(let e=0,n=s.curves.length;e<n;e++){const r=s.curves[e],a=r.getLength(u),h=(p-g)/a;if(h<0)break;if(g+=a,o){const o=l.curves[n-e-1];let a=r,s=o;if(r.originP1===r.originP2){b=r,w=o;continue}if(b&&b.originP1===b.originP2&&(a=b,s=w),r.defined)x||(v.push(a),y.push(s),jt(t,v,y,i),v.length=0,y.length=0,x=!x);else{const{originP1:e,originP2:n}=r;let l,u;e&&!1!==e.defined?(l=a,u=s):e&&!1!==n.defined&&(l=r,u=o),x?(x=!x,v.push(l||r),y.push(u||o)):l&&(x=!x,v.push(l||r),y.push(u||o),jt(t,v,y,i),v.length=0,y.length=0)}b=r}else{let o=null,a=null;m!==r.defined?(m?(Vt(t,v,y,i),v.length=0,y.length=0):(o=r,a=l.curves[n-e-1]),m=!m):m&&(o=r,a=l.curves[n-e-1]),o&&a&&(h<1&&(o=o.p2&&o.p3?(0,Nt.m)(o,h)[0]:(0,zt.d)(o,h)[0],a=a.p2&&a.p3?(0,Nt.m)(a,1-h)[1]:(0,zt.d)(a,1-h)[1]),o.defined=m,a.defined=m,v.push(o),y.push(a)),o=null,a=null}}o?jt(t,v,y,i):Vt(t,v,y,i)}(t.camera?t:t.nativeContext,e,l,{offsetX:u,offsetY:h,offsetZ:c,direction:I,drawConnect:p,mode:x,zeroX:_,zeroY:C}),this.beforeRenderStep(d,t,u,h,!!i,!1,n,!1,s,f,g,null,{attribute:a}),t.setShadowBlendStyle&&t.setShadowBlendStyle(d,a,s);const{x:B=0,x:L=0}=a;return!1!==n&&(g?g(t,a,s):i&&(t.setCommonStyle(d,p?S:a,B-u,L-h,p?M:s),t.fill())),this.afterRenderStep(d,t,u,h,!!i,!1,n,!1,s,f,g,null,{attribute:a}),(()=>{if(!1!==r)if(m)m(t,a,s);else{const{stroke:n=s&&s[1]&&s[1].stroke}=a;(0,Ct.Z)(n)&&(n[0]||n[2])&&!1===n[1]&&(t.beginPath(),(0,Gt.fW)(t.camera?t:t.nativeContext,n[0]?e.top:e.bottom,l,I===Tt.Nm.ROW?"x":"y",{offsetX:u,offsetY:h,offsetZ:c,drawConnect:p,mode:x,zeroX:_,zeroY:C})),t.setStrokeStyle(d,p?S:a,B-u,L-h,p?M:s),t.stroke()}})(),!1}};te=qt([(0,r.b)(),Qt(0,(0,o.f)(s.Qc)),Qt(0,(0,a.t)(At.Gq)),Jt("design:paramtypes",[Object])],te);var ee=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let ne=class extends te{constructor(){super(...arguments),this.numberType=U.Ri}drawShape(t,e,n,i,r,o,a){if(t.incremental&&r.multiGraphicOptions){const{startAtIdx:o,length:s}=r.multiGraphicOptions,{segments:l=[]}=t.attribute;if(o>l.length)return;const u=(0,P.gh)(t).area,{fill:h=u.fill,fillOpacity:c=u.fillOpacity,opacity:d=u.opacity,visible:f=u.visible}=t.attribute,p=(0,Mt.Bv)(d,c,h),g=(0,Mt.dz)(h);if(!t.valid||!f)return;if(!g)return;if(!p&&!a)return;for(let r=o;r<o+s;r++)this.drawIncreaseSegment(t,e,l[r-1],l[r],t.attribute.segments[r],[u,t.attribute],n,i)}else super.drawShape(t,e,n,i,r,o,a)}drawIncreaseSegment(t,e,n,i,r,o,a,s){i&&(e.beginPath(),(0,Gt.hJ)(e.camera?e:e.nativeContext,n,i,{offsetX:a,offsetY:s}),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,r,o),e.setCommonStyle(t,r,a,s,o),e.fill())}};ne=ee([(0,r.b)()],ne);var ie,re=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},oe=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ae=function(t,e){return function(n,i){e(n,i,t)}},se=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};!function(t){t[t.NORMAL=0]="NORMAL",t[t.STOP=1]="STOP"}(ie||(ie={}));let le=class extends _t{constructor(t,e,n,i){super(t,i),this.contributions=t,this.lineRender=e,this.areaRender=n,this.drawItemInterceptorContributions=i,this.rendering=!1,this.currFrameStartAt=0,this.currentIdx=0,this.status=ie.NORMAL,this.checkingForDrawPromise=null,this.hooks={completeDraw:new l.n([])},this.defaultRenderMap.set(this.lineRender.numberType,this.lineRender),this.defaultRenderMap.set(this.areaRender.numberType,this.areaRender)}draw(t,e){return se(this,void 0,void 0,(function*(){if(this.checkingForDrawPromise)return;this.lastRenderService=t,this.lastDrawContext=e,this.checkingForDrawPromise=this.checkForDraw(e);const n=yield this.checkingForDrawPromise;if(this.checkingForDrawPromise=null,n)return;this.currentRenderService=t;const{context:i,viewBox:r}=e;i&&(i.inuse=!0,i.clearMatrix(),i.setTransformForCurrent(!0),i.save(),e.restartIncremental&&this.clearScreen(this.currentRenderService,i,e),i.translate(r.x1,r.y1,!0),i.save(),t.renderTreeRoots.sort(((t,e)=>{var n,i;return(null!==(n=t.attribute.zIndex)&&void 0!==n?n:v.xF.zIndex)-(null!==(i=e.attribute.zIndex)&&void 0!==i?i:v.xF.zIndex)})).forEach((t=>{this.renderGroup(t,e)})),this.hooks.completeDraw.tap("top-draw",(()=>{i.restore(),i.restore(),i.draw(),i.inuse=!1,this.rendering=!1})))}))}_increaseRender(t,e){return se(this,void 0,void 0,(function*(){this.rendering=!0,yield this._renderIncrementalGroup(t,e)}))}_renderIncrementalGroup(t,e){return se(this,void 0,void 0,(function*(){this.count=t.count,yield new Promise((n=>{this.renderItem(t,e,{drawingCb:()=>se(this,void 0,void 0,(function*(){if(2!==t.count)yield(0,ht.Ud)(t,v.xF.zIndex,((n,i)=>{if(this.status===ie.STOP)return!0;if(n.isContainer)return!1;if(i<this.currentIdx)return!1;const r=this.currFrameStartAt+t.incremental;return i<r&&(this.currentIdx=i+1,this.renderItem(n,e)),i===r-1&&(this.currFrameStartAt=this.currentIdx,this.waitToNextFrame())})),n(!1);else{const i=t.getChildAt(0);if(i.incremental&&i.attribute.segments)for(i.incrementalAt||(i.incrementalAt=0);i.incrementalAt<i.attribute.segments.length;)e.multiGraphicOptions={startAtIdx:i.incrementalAt,length:i.incremental},this.renderItem(i,e),i.incrementalAt+=i.incremental,yield this.waitToNextFrame();else this.renderItem(i,e);n(!1)}}))})})),this.hooks.completeDraw.call()}))}waitToNextFrame(){return se(this,void 0,void 0,(function*(){return new Promise((t=>{this.global.getRequestAnimationFrame()((()=>{t(!1)}))}))}))}checkForDraw(t){return se(this,void 0,void 0,(function*(){let e=this.rendering;return t.restartIncremental&&(e=!1,yield this.forceStop(),this.resetToInit()),e}))}forceStop(){return se(this,void 0,void 0,(function*(){this.rendering&&(this.status=ie.STOP,yield new Promise((t=>{this.hooks.completeDraw.tap("stopCb",(()=>{this.status=ie.NORMAL,this.hooks.completeDraw.taps=this.hooks.completeDraw.taps.filter((t=>"stopCb"!==t.name)),t(!1)}))})))}))}resetToInit(){this.currFrameStartAt=0,this.currentIdx=0}renderGroup(t,e){return se(this,void 0,void 0,(function*(){if(!e.break&&!1!==t.attribute.visibleAll)return t.incremental&&e.startAtId===t._uid?(yield this._increaseRender(t,e),void(e.break=!0)):void(yield new Promise((n=>{this.renderItem(t,e,{drawingCb:()=>se(this,void 0,void 0,(function*(){yield(0,ht.Ud)(t,v.xF.zIndex,(t=>se(this,void 0,void 0,(function*(){e.break||t.isContainer&&(yield this.renderGroup(t,e))})))),n(!1)}))})})))}))}};le=re([(0,r.b)(),ae(0,ut(pt.uz)),ae(1,(0,o.f)(Ot.U)),ae(2,(0,o.f)(ne)),ae(3,(0,o.f)(s.Qc)),ae(3,(0,a.t)(gt.xL)),oe("design:paramtypes",[Array,Object,Object,Object])],le);var ue=new i.n((t=>{t(kt.M2).toSelf().inSingletonScope(),t(Ut.$).toSelf().inSingletonScope(),t(pt.Iv).to(_t),t(pt.Pf).to(le),t(pt.Cb).to(Dt).inSingletonScope(),t(pt.uz).toService(pt.Cb),(0,s.yb)(t,At.jd),t(kt.Sg).toSelf().inSingletonScope(),(0,s.yb)(t,At.tg),(0,s.yb)(t,pt.uz),t(gt.pN).toSelf().inSingletonScope(),t(gt.xL).toService(gt.pN),(0,s.yb)(t,gt.xL)}));function he(){he.__loaded||(he.__loaded=!0,_.n.load(N),_.n.load($),_.n.load(W),_.n.load(G),_.n.load(tt),function(t){t.load(et),t.load(nt),t.load(st)}(_.n),function(t){t.load(ue)}(_.n))}he.__loaded=!1,he();const ce=_.n.get(u.y2);x.w.global=ce;const de=_.n.get(D.no);x.w.graphicUtil=de;const fe=_.n.get(D.Gp);x.w.transformUtil=fe;const pe=_.n.get(U.fB);x.w.graphicService=pe;const ge=_.n.get(D.IT);x.w.layerService=ge},40139:function(t,e,n){"use strict";n.d(e,{BR:function(){return r},hH:function(){return i}});Symbol.for("GraphicPicker");const i=Symbol.for("PickerService"),r=(Symbol.for("BoundsPicker"),Symbol.for("GlobalPickerService"))},33692:function(t,e,n){"use strict";n.d(e,{DZ:function(){return h},ZN:function(){return d},ax:function(){return c},uH:function(){return u}});var i=n(945),r=n(35223),o=n(63076),a=n(70199),s=n(9353),l=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};const u=Symbol.for("PickItemInterceptor");let h=class{constructor(){this.order=1}afterPickItem(t,e,n,i,r){return t.attribute.shadowRootIdx>0||!t.attribute.shadowRootIdx?this._pickItem(t,e,n,i,r):null}beforePickItem(t,e,n,i,r){return t.attribute.shadowRootIdx<0?this._pickItem(t,e,n,i,r):null}_pickItem(t,e,n,r,a){var l;if(!t.shadowRoot)return null;const{parentMatrix:u}=a||{};if(!u)return null;const h=e.pickContext;h.highPerformanceSave();const c=null===(l=(0,s.gh)(t))||void 0===l?void 0:l[t.type],{shadowPickMode:d=(null==c?void 0:c.shadowPickMode)}=t.attribute,f=t.shadowRoot,p=o.QE.allocateByObj(u),g=new i.E9(p.a*n.x+p.c*n.y+p.e,p.b*n.x+p.d*n.y+p.f),m=e.pickGroup(f,g,p,r);return h.highPerformanceRestore(),!m.graphic&&m.group&&"full"===d&&(m.graphic=m.group),m}};h=l([(0,r.b)()],h);let c=class{constructor(){this.order=1}beforePickItem(t,e,n,r,o){const a=t.baseGraphic;if(a&&a.parent){const t=new i.E9(n.x,n.y),o=e.pickContext;o.highPerformanceSave();const s=a.parent.globalTransMatrix;s.transformPoint(t,t);const l=a.isContainer?e.pickGroup(a,t.clone(),s,r):e.pickItem(a,t.clone(),s,r);return o.highPerformanceRestore(),l}return null}};c=l([(0,r.b)()],c);let d=class{constructor(){this.order=1}beforePickItem(t,e,n,i,r){if(!t.in3dMode||i.in3dInterceptor)return null;const o=e.pickContext,s=t.stage;if(!o||!s)return null;if(i.in3dInterceptor=!0,o.save(),this.initCanvasCtx(o),o.camera=s.camera,t.isContainer){const s=(0,a.y)(o,t,(()=>e.pickGroup(t,n,r.parentMatrix,i)),i);return o.camera=null,i.in3dInterceptor=!1,o.restore(),s}return o.restore(),null}initCanvasCtx(t){t.setTransformForCurrent()}};d=l([(0,r.b)()],d)},21817:function(t,e,n){"use strict";n.d(e,{H:function(){return r},X:function(){return i}});const i=Symbol.for("AutoEnablePlugins"),r=Symbol.for("PluginService")},32091:function(t,e,n){"use strict";n.d(e,{Y:function(){return u}});var i=n(19747),r=n(63076),o=n(91711),a=n(21448),s=n(67161);const l={x:0,y:0,z:0,lastModelMatrix:null};class u{init(t){t&&(this._renderContribitions=t.getContributions()),this._renderContribitions||(this._renderContribitions=[]),this.builtinContributions&&this.builtinContributions.forEach((t=>this._renderContribitions.push(t))),this._renderContribitions.length&&(this._renderContribitions.sort(((t,e)=>e.order-t.order)),this._beforeRenderContribitions=this._renderContribitions.filter((t=>t.time===a.Oh.beforeFillStroke)),this._afterRenderContribitions=this._renderContribitions.filter((t=>t.time===a.Oh.afterFillStroke)))}beforeRenderStep(t,e,n,i,r,o,a,s,l,u,h,c,d){this._beforeRenderContribitions&&this._beforeRenderContribitions.forEach((f=>{f.supportedAppName&&t.stage&&t.stage.params&&t.stage.params.context&&t.stage.params.context.appName&&!(Array.isArray(f.supportedAppName)?f.supportedAppName:[f.supportedAppName]).includes(t.stage.params.context.appName)||f.drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d)}))}afterRenderStep(t,e,n,i,r,o,a,s,l,u,h,c,d){this._afterRenderContribitions&&this._afterRenderContribitions.forEach((f=>{f.supportedAppName&&t.stage&&t.stage.params&&t.stage.params.context&&t.stage.params.context.appName&&!(Array.isArray(f.supportedAppName)?f.supportedAppName:[f.supportedAppName]).includes(t.stage.params.context.appName)||f.drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d)}))}valid(t,e,n,i){const{fill:r=e.fill,background:a,stroke:s=e.stroke,opacity:l=e.opacity,fillOpacity:u=e.fillOpacity,lineWidth:h=e.lineWidth,strokeOpacity:c=e.strokeOpacity,visible:d=e.visible}=t.attribute,f=(0,o.Bv)(l,u,r),p=(0,o.Kf)(l,c),g=(0,o.dz)(r,a),m=(0,o.ak)(s,h);return!(!t.valid||!d)&&!(!g&&!m)&&!!(f||p||n||i||a)&&{fVisible:f,sVisible:p,doFill:g,doStroke:m}}transform(t,e,n,o=!1){const{x:a=e.x,y:u=e.y,z:h=e.z,scaleX:c=e.scaleX,scaleY:d=e.scaleY,angle:f=e.angle,postMatrix:p}=t.attribute,g=n.modelMatrix,m=n.camera;l.x=a,l.y=u,l.z=h,l.lastModelMatrix=g;const v=m&&(o||(0,i.M_)(t)),y=v?t.transMatrix.onlyTranslate()&&!p:1===c&&1===d&&0===f&&!p;if(v){const o=r.yp.allocate(),a=r.yp.allocate();(0,i.RT)(a,t,e),(0,s.G9)(o,g||o,a),l.x=0,l.y=0,l.z=0,n.modelMatrix=o,n.setTransform(1,0,0,1,0,0,!0),r.yp.free(a)}if(y&&!g){const i=t.getOffsetXY(e);l.x+=i.x,l.y+=i.y,l.z=h,n.setTransformForCurrent()}else if(v)l.x=0,l.y=0,l.z=0,n.setTransform(1,0,0,1,0,0,!0);else if(m&&n.project){const i=t.getOffsetXY(e);l.x+=i.x,l.y+=i.y,this.transformWithoutTranslate(n,l.x,l.y,l.z,c,d,f)}else n.transformFromMatrix(t.transMatrix,!0),l.x=0,l.y=0,l.z=0;return l}transformUseContext2d(t,e,n,i){const r=i.camera;if(this.camera=r,r){const e=t.AABBBounds,r=e.x2-e.x1,o=e.y2-e.y1,a=i.project(0,0,n),s=i.project(r,0,n),l=i.project(r,o,n),u={x:0,y:0},h={x:r,y:0},c={x:r,y:o};i.camera=null;const d=1/(u.x*(c.y-h.y)-h.x*c.y+c.x*h.y+(h.x-c.x)*u.y),f=-(u.y*(l.x-s.x)-h.y*l.x+c.y*s.x+(h.y-c.y)*a.x)*d,p=(h.y*l.y+u.y*(s.y-l.y)-c.y*s.y+(c.y-h.y)*a.y)*d,g=(u.x*(l.x-s.x)-h.x*l.x+c.x*s.x+(h.x-c.x)*a.x)*d,m=-(h.x*l.y+u.x*(s.y-l.y)-c.x*s.y+(c.x-h.x)*a.y)*d,v=(u.x*(c.y*s.x-h.y*l.x)+u.y*(h.x*l.x-c.x*s.x)+(c.x*h.y-h.x*c.y)*a.x)*d,y=(u.x*(c.y*s.y-h.y*l.y)+u.y*(h.x*l.y-c.x*s.y)+(c.x*h.y-h.x*c.y)*a.y)*d;i.setTransform(f,p,g,m,v,y,!0)}}restoreTransformUseContext2d(t,e,n,i){this.camera&&(i.camera=this.camera)}transformWithoutTranslate(t,e,n,i,r,o,a){const s=t.project(e,n,i);t.translate(s.x,s.y,!1),t.scale(r,o,!1),t.rotate(a,!1),t.translate(-s.x,-s.y,!1),t.setTransformForCurrent()}_draw(t,e,n,i,a){const{context:s}=i;if(!s)return;const{renderable:l}=t.attribute;if(!1===l)return;s.highPerformanceSave();const u=this.transform(t,e,s,n),{x:h,y:c,z:d,lastModelMatrix:f}=u;this.z=d,(0,o.d2)(t,s,h,c,i,a)||(this.drawShape(t,s,h,c,i,a),this.z=0,s.modelMatrix!==f&&r.yp.free(s.modelMatrix),s.modelMatrix=f),s.highPerformanceRestore()}}},22466:function(t,e,n){"use strict";n.d(e,{M2:function(){return p},R6:function(){return g},Sg:function(){return m}});var i=n(35223),r=n(39225),o=n(91112),a=n(9353),s=n(79018),l=n(21448),u=n(27836),h=n(46195),c=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(t,e){return function(n,i){e(n,i,t)}};class p{constructor(){this.time=l.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,s,l,u,h,c,d,f){var p;const{background:g,backgroundOpacity:m=(null!==(p=t.attribute.fillOpacity)&&void 0!==p?p:u.backgroundOpacity),opacity:v=u.opacity,backgroundMode:y=u.backgroundMode,backgroundFit:b=u.backgroundFit}=t.attribute;if(g)if(t.backgroundImg&&t.resources){const r=t.resources.get(g);if("success"!==r.state||!r.data)return;if(e.save(),t.parent&&!t.transMatrix.onlyTranslate()){const n=(0,a.gh)(t.parent).group,{scrollX:i=n.scrollX,scrollY:r=n.scrollY}=t.parent.attribute;e.setTransformFromMatrix(t.parent.globalTransMatrix,!0),e.translate(i,r)}e.clip();const o=t.AABBBounds;e.setCommonStyle(t,t.attribute,n,i,u),e.globalAlpha=m*v,this.doDrawImage(e,r.data,o,y,b),e.restore(),t.transMatrix.onlyTranslate()||e.setTransformForCurrent()}else e.highPerformanceSave(),e.setCommonStyle(t,t.attribute,n,i,u),e.globalAlpha=m*v,e.fillStyle=g,e.fill(),e.highPerformanceRestore()}doDrawImage(t,e,n,i,r){if("no-repeat"===i)t.drawImage(e,n.x1,n.y1,n.width(),n.height());else{const o=n.width(),a=n.height();let l=o,u=a;if(r&&"repeat"!==i&&(e.width||e.height)){const n=e.width,r=e.height;"repeat-x"===i?(l=n*(a/r),u=a):"repeat-y"===i&&(u=r*(o/n),l=o);const h=t.dpr,c=s.A.allocate({width:l,height:u,dpr:h}),d=c.getContext("2d");d&&(d.inuse=!0,d.clearMatrix(),d.setTransformForCurrent(!0),d.clearRect(0,0,l,u),d.drawImage(e,0,0,l,u),e=c.nativeCanvas),s.A.free(c)}const h=t.dpr,c=t.createPattern(e,i);c.setTransform&&c.setTransform(new DOMMatrix([1/h,0,0,1/h,0,0])),t.fillStyle=c,t.translate(n.x1,n.y1),t.fillRect(0,0,o,a),t.translate(-n.x1,-n.y1)}}}const g=new p;let m=class{constructor(t){this.subRenderContribitions=t,this.time=l.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){this._subRenderContribitions||(this._subRenderContribitions=this.subRenderContribitions.getContributions()),this._subRenderContribitions.forEach((f=>{f.render(t,e,n,i,r,o,a,s,l,u,h,c,d)}))}};m=c([(0,i.b)(),f(0,(0,r.f)(u.Qc)),f(0,(0,o.t)(h.tg)),d("design:paramtypes",[Object])],m)},27963:function(t,e,n){"use strict";n.d(e,{$:function(){return a},H:function(){return s}});var i=n(79018),r=n(21448),o=n(57343);class a{constructor(){this.time=r.Oh.afterFillStroke,this.useStyle=!0,this.order=10}createCommonPattern(t,e,n,r,o){const a=(t-2*e)/2,s=r.dpr,l=i.A.allocate({width:t,height:t,dpr:s}),u=l.getContext("2d");if(!u)return null;u.inuse=!0,u.clearMatrix(),u.setTransformForCurrent(!0),u.clearRect(0,0,t,t),o(a,u);const h=r.createPattern(l.nativeCanvas,"repeat");return h.setTransform&&h.setTransform(new DOMMatrix([1/s,0,0,1/s,0,0])),i.A.free(l),h}createCirclePattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((t,e)=>{e.fillStyle=n,e.arc(t,t,t,0,o.f7),e.fill()}))}createDiamondPattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((e,i)=>{const r=t/2,o=r;i.fillStyle=n,i.moveTo(r,o-e),i.lineTo(e+r,o),i.lineTo(r,o+e),i.lineTo(r-e,o),i.closePath(),i.fill()}))}createRectPattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((t,i)=>{const r=e,o=r;i.fillStyle=n,i.fillRect(r,o,2*t,2*t)}))}createVerticalLinePattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((i,r)=>{const o=e;r.fillStyle=n,r.fillRect(o,0,2*i,t)}))}createHorizontalLinePattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((i,r)=>{const o=e;r.fillStyle=n,r.fillRect(0,o,t,2*i)}))}createBiasLRLinePattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((e,i)=>{i.strokeStyle=n,i.lineWidth=e,i.moveTo(0,0),i.lineTo(t,t);const r=t/2,o=-r;i.moveTo(r,o),i.lineTo(r+t,o+t),i.moveTo(-r,-o),i.lineTo(-r+t,-o+t),i.stroke()}))}createBiasRLLinePattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((e,i)=>{i.strokeStyle=n,i.lineWidth=e,i.moveTo(t,0),i.lineTo(0,t);const r=t/2,o=r;i.moveTo(t+r,o),i.lineTo(r,o+t),i.moveTo(t-r,-o),i.lineTo(-r,-o+t),i.stroke()}))}createGridPattern(t,e,n,i){return this.createCommonPattern(t,e,n,i,((t,i)=>{const r=e,o=r;i.fillStyle=n,i.fillRect(r,o,t,t),i.fillRect(r+t,o+t,t,t)}))}initTextureMap(t,e){this.textureMap=new Map}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){this.textureMap||this.initTextureMap(e,t.stage);const{texture:f=l.texture,textureColor:p=l.textureColor,textureSize:g=l.textureSize,texturePadding:m=l.texturePadding}=t.attribute;f&&this.drawTexture(f,t,e,n,i,l,p,g,m)}drawTexture(t,e,n,i,r,o,a,s,l){let u=this.textureMap.get(t);if(!u)switch(t){case"circle":u=this.createCirclePattern(s,l,a,n);break;case"diamond":u=this.createDiamondPattern(s,l,a,n);break;case"rect":u=this.createRectPattern(s,l,a,n);break;case"vertical-line":u=this.createVerticalLinePattern(s,l,a,n);break;case"horizontal-line":u=this.createHorizontalLinePattern(s,l,a,n);break;case"bias-lr":u=this.createBiasLRLinePattern(s,l,a,n);break;case"bias-rl":u=this.createBiasRLLinePattern(s,l,a,n);break;case"grid":u=this.createGridPattern(s,l,a,n)}u&&(n.highPerformanceSave(),n.setCommonStyle(e,e.attribute,i,r,o),n.fillStyle=u,n.fill(),n.highPerformanceRestore())}}const s=new a},46195:function(t,e,n){"use strict";n.d(e,{$K:function(){return d},Cs:function(){return o},Gq:function(){return r},JO:function(){return s},Mj:function(){return l},OL:function(){return i},U7:function(){return u},X3:function(){return c},d5:function(){return h},jd:function(){return a},tg:function(){return f}});const i=Symbol.for("ArcRenderContribution"),r=Symbol.for("AreaRenderContribution"),o=Symbol.for("CircleRenderContribution"),a=Symbol.for("GroupRenderContribution"),s=Symbol.for("ImageRenderContribution"),l=Symbol.for("PathRenderContribution"),u=Symbol.for("PolygonRenderContribution"),h=Symbol.for("RectRenderContribution"),c=Symbol.for("SymbolRenderContribution"),d=Symbol.for("TextRenderContribution"),f=(Symbol.for("CommonRenderContribution"),Symbol.for("InteractiveSubRenderContribution"))},57241:function(t,e,n){"use strict";n.d(e,{Er:function(){return f},NB:function(){return p},d4:function(){return d},gq:function(){return m},k7:function(){return g},sH:function(){return c}});var i=n(68725),r=n(35223),o=n(36531),a=n(22466),s=n(53881),l=n(21448),u=n(27963),h=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class c{constructor(){this.time=l.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,r,a,l,u,h,c,d,f,p){const{outerBorder:g,innerBorder:m}=t.attribute,v=g&&!1!==g.visible,y=m&&!1!==m.visible;if(!v&&!y)return;const{cornerRadius:b=c.cornerRadius,opacity:w=c.opacity,x:x=c.x,y:_=c.y,scaleX:C=c.scaleX,scaleY:S=c.scaleY,x1:M,y1:A,keepStrokeScale:T=c.keepStrokeScale}=t.attribute;let{width:k,height:R}=t.attribute;k=(null!=k?k:M-n)||0,R=(null!=R?R:A-r)||0;const I=(a,l)=>{const u=!(!a||!a.stroke),h="outerBorder"===l?-1:1,{distance:d=c[l].distance}=a,f=T?d:(0,o.D)(e,d,e.dpr),g=n+h*f,m=r+h*f,v=2*f;if(0===b||(0,i.Z)(b)&&b.every((t=>0===t))?(e.beginPath(),e.rect(g,m,k-h*v,R-h*v)):(e.beginPath(),(0,s.U)(e,g,m,k-h*v,R-h*v,b)),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,c),p)p(e,a,c[l]);else if(u){const i=c[l].opacity;c[l].opacity=w,e.setStrokeStyle(t,a,(x-n)/C,(_-r)/S,c[l]),c[l].opacity=i,e.stroke()}};v&&I(g,"outerBorder"),y&&I(m,"innerBorder")}}let d=class{constructor(){this.time=l.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{stroke:f=l.stroke}=t.attribute;Array.isArray(f)&&f.some((t=>!1===t))&&(d.doStroke=!1)}};d=h([(0,r.b)()],d);let f=class{constructor(){this.time=l.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,r,o,a,l,u,h,c,d,f){const{x1:p,y1:g,x:m=h.x,y:v=h.y,stroke:y=h.stroke,cornerRadius:b=h.cornerRadius}=t.attribute;let{width:w,height:x}=t.attribute;if(w=(null!=w?w:p-m)||0,x=(null!=x?x:g-v)||0,Array.isArray(y)&&y.some((t=>!1===t))){if(e.setStrokeStyle(t,t.attribute,n,r,h),!(0===b||(0,i.Z)(b)&&b.every((t=>0===t)))){let i,o=0;return(0,s.U)(e,n,r,w,x,b,new Array(4).fill(0).map(((a,s)=>(a,l,u,c)=>{y[s]&&(o===s-1&&y[s]===i||(e.setStrokeStyle(t,Object.assign(Object.assign({},t.attribute),{stroke:y[s]}),n,r,h),e.beginPath(),e.moveTo(a,l),i=y[s]),o=s,e.lineTo(u,c),e.stroke(),3===s&&e.beginPath())}))),void e.stroke()}if(e.beginPath(),e.moveTo(n,r),y[0]?e.lineTo(n+w,r):e.moveTo(n+w,r),y[1]?e.lineTo(n+w,r+x):e.moveTo(n+w,r+x),y[2]?e.lineTo(n,r+x):e.moveTo(n,r+x),y[3]){const t=y[0]?r-e.lineWidth/2:r;e.lineTo(n,t)}else e.moveTo(n,r);e.stroke()}}};f=h([(0,r.b)()],f);const p=new c,g=u.H,m=a.R6},2502:function(t,e,n){"use strict";n.d(e,{C:function(){return h}});var i=n(47505),r=n(21448),o=n(22466),a=n(64554),s=n(69543),l=n(53881);class u extends o.M2{constructor(){super(...arguments),this.time=r.Oh.beforeFillStroke}drawShape(t,e,n,r,o,u,h,c,d,f,p,g){var m,v,y,b,w,x,_,C,S,M;const{backgroundMode:A=d.backgroundMode,backgroundFit:T=d.backgroundFit}=t.attribute;let k,{background:R}=t.attribute;if(!R)return;const I=()=>{"richtext"===t.type&&(e.restore(),e.save(),k&&e.setTransformFromMatrix(k,!0,1))};let P;"richtext"===t.type&&(k=e.currentMatrix.clone(),e.restore(),e.save(),e.setTransformForCurrent());const E=(0,i.Z)(R)&&R.background,B=t.transMatrix.onlyTranslate();if(E){const e=t.AABBBounds,n=(null!==(m=R.x)&&void 0!==m?m:e.x1)+(null!==(v=R.dx)&&void 0!==v?v:0),i=(null!==(y=R.y)&&void 0!==y?y:e.y1)+(null!==(b=R.dy)&&void 0!==b?b:0),r=null!==(w=R.width)&&void 0!==w?w:e.width(),o=null!==(x=R.height)&&void 0!==x?x:e.height();if(P=a.et.allocate(n,i,n+r,i+o),R=R.background,!B){const t=P.width(),e=P.height();P.set((null!==(_=R.x)&&void 0!==_?_:0)+(null!==(C=R.dx)&&void 0!==C?C:0),(null!==(S=R.y)&&void 0!==S?S:0)+(null!==(M=R.dy)&&void 0!==M?M:0),t,e)}}else P=t.AABBBounds,B||(P=(0,s.o)(Object.assign(Object.assign({},t.attribute),{angle:0,scaleX:1,scaleY:1,x:0,y:0,dx:0,dy:0})).clone());if(t.backgroundImg&&t.resources){const i=t.resources.get(R);if("success"!==i.state||!i.data)return void I();e.highPerformanceSave(),B&&e.setTransformFromMatrix(t.parent.globalTransMatrix,!0),e.setCommonStyle(t,t.attribute,n,r,d),this.doDrawImage(e,i.data,P,A,T),e.highPerformanceRestore(),e.setTransformForCurrent()}else{const{backgroundCornerRadius:i}=t.attribute;e.highPerformanceSave(),e.setCommonStyle(t,t.attribute,n,r,d),e.fillStyle=R,i?((0,l.U)(e,P.x1,P.y1,P.width(),P.height(),i),e.fill()):e.fillRect(P.x1,P.y1,P.width(),P.height()),e.highPerformanceRestore()}E&&a.et.free(P),I()}}const h=new u},41693:function(t,e,n){"use strict";n.d(e,{pN:function(){return m},xL:function(){return c}});var i=n(35223),r=n(94378),o=n(67161),a=n(62071),s=n(63076),l=n(70199),u=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const c=Symbol.for("DrawItemInterceptor"),d=new r.FB,f=new r.FB;class p{constructor(){this.order=1}afterDrawItem(t,e,n,i,r){return null==t.attribute.shadowRootIdx&&t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx<0||(t.attribute.shadowRootIdx>0||!t.attribute.shadowRootIdx||t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx>0)&&this.drawItem(t,e,n,i,r),!1}beforeDrawItem(t,e,n,i,r){return null==t.attribute.shadowRootIdx&&t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx>0||(t.attribute.shadowRootIdx<0||t.shadowRoot&&t.shadowRoot.attribute.shadowRootIdx<0)&&this.drawItem(t,e,n,i,r),!1}drawItem(t,e,n,i,r){if(!t.shadowRoot)return!1;const{context:o}=n;if(o.highPerformanceSave(),o.transformFromMatrix(t.transMatrix,!0),i.dirtyBounds&&i.backupDirtyBounds){d.copy(i.dirtyBounds),f.copy(i.backupDirtyBounds);const e=t.globalTransMatrix.getInverse();i.dirtyBounds.copy(i.backupDirtyBounds).transformWithMatrix(e),i.backupDirtyBounds.copy(i.dirtyBounds)}return i.renderGroup(t.shadowRoot,n,s.QE.allocate(1,0,0,1,0,0)),o.highPerformanceRestore(),i.dirtyBounds&&i.backupDirtyBounds&&(i.dirtyBounds.copy(d),i.backupDirtyBounds.copy(f)),!0}}class g{constructor(){this.order=1}afterDrawItem(t,e,n,i,r){return t.attribute._debug_bounds&&this.drawItem(t,e,n,i,r),!1}drawItem(t,e,n,i,r){if(!t.attribute._debug_bounds)return!1;const{context:o}=n;o.highPerformanceSave(),t.parent&&o.setTransformFromMatrix(t.parent.globalTransMatrix,!0),t.glyphHost&&t.glyphHost.parent&&o.setTransformFromMatrix(t.glyphHost.parent.globalTransMatrix,!0);const a=t.AABBBounds;return!0!==t.attribute._debug_bounds&&t.attribute._debug_bounds(o,t),o.strokeRect(a.x1,a.y1,a.width(),a.height()),o.highPerformanceRestore(),!0}}let m=class{constructor(){this.order=1,this.interceptors=[new p,new y,new v,new g]}afterDrawItem(t,e,n,i,r){for(let o=0;o<this.interceptors.length;o++)if(this.interceptors[o].afterDrawItem&&this.interceptors[o].afterDrawItem(t,e,n,i,r))return!0;return!1}beforeDrawItem(t,e,n,i,r){if((!t.in3dMode||n.in3dInterceptor)&&!t.shadowRoot&&!(t.baseGraphic||t.attribute.globalZIndex||t.interactiveGraphic))return!1;for(let o=0;o<this.interceptors.length;o++)if(this.interceptors[o].beforeDrawItem&&this.interceptors[o].beforeDrawItem(t,e,n,i,r))return!0;return!1}};m=u([(0,i.b)(),h("design:paramtypes",[])],m);class v{constructor(){this.order=1}beforeDrawItem(t,e,n,i,r){return!this.processing&&(t.baseGraphic?this.beforeDrawInteractive(t,e,n,i,r):this.beforeSetInteractive(t,e,n,i,r))}beforeSetInteractive(t,e,n,i,r){let o=t.interactiveGraphic;if(t.attribute.globalZIndex){o||(o=t.clone(),t.interactiveGraphic=o,o.baseGraphic=t),o.setAttributes({globalZIndex:0,zIndex:t.attribute.globalZIndex},!1,{skipUpdateCallback:!0}),n.stage.tryInitInteractiveLayer();const e=n.stage.getLayer("_builtin_interactive");return e&&this.getShadowRoot(e).add(o),!0}if(o){n.stage.tryInitInteractiveLayer();const e=n.stage.getLayer("_builtin_interactive");e&&this.getShadowRoot(e).removeChild(o),t.interactiveGraphic=null,o.baseGraphic=null}return!1}beforeDrawInteractive(t,e,n,i,r){const o=t.baseGraphic;let a=!!o.stage,s=o.parent;for(;a&&s&&s.stage!==s;)a=!!s.stage,s=s.parent;if(!a){const e=n.stage.getLayer("_builtin_interactive");return e&&this.getShadowRoot(e).removeChild(t),!0}if(o){this.processing=!0;const{context:t}=n;return t.highPerformanceSave(),t.setTransformFromMatrix(o.parent.globalTransMatrix,!0),o.isContainer?i.renderGroup(o,n,o.parent.globalTransMatrix):i.renderItem(o,n),t.highPerformanceRestore(),this.processing=!1,!0}return!1}getShadowRoot(t){var e;let n=t.getElementById("_interactive_group");return n||(n=a.i.CreateGraphic("group",{}),n.id="_interactive_group",t.add(n)),null!==(e=n.shadowRoot)&&void 0!==e?e:n.attachShadow()}}class y{constructor(){this.order=1}beforeDrawItem(t,e,n,i,r){if(!t.in3dMode||n.in3dInterceptor)return!1;n.in3dInterceptor=!0;const{context:a,stage:u}=e.drawParams;a.canvas,a.save(),this.initCanvasCtx(a),a.camera=u.camera;const h=a.currentMatrix;h.a/=a.dpr,h.b/=a.dpr,h.c/=a.dpr,h.d/=a.dpr,h.e/=a.dpr,h.f/=a.dpr;const c=s.yp.allocate();(0,o.B$)(c,h);const d=a.modelMatrix;if(d){if(c){const t=s.yp.allocate();a.modelMatrix=(0,o.G9)(t,d,c)}}else a.modelMatrix=c;return a.setTransform(1,0,0,1,0,0,!0),t.isContainer?(0,l.y)(a,t,((e,r)=>i.renderGroup(t,n,t.parent.globalTransMatrix,!e&&r)),n):i.renderItem(t,n),a.camera=null,a.restore(),a.modelMatrix!==d&&s.yp.free(a.modelMatrix),a.modelMatrix=d,n.in3dInterceptor=!1,!0}initCanvasCtx(t){t.setTransformForCurrent()}}},56350:function(t,e,n){"use strict";n.d(e,{U:function(){return h}});var i=n(35223),r=n(9353),o=n(88890),a=n(91711),s=n(4339),l=n(46530),u=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let h=class extends s.X{constructor(){super(...arguments),this.numberType=o.Hf}drawShape(t,e,n,i,o,s,l,u){if(t.incremental&&o.multiGraphicOptions){const{startAtIdx:e,length:s}=o.multiGraphicOptions,{segments:h=[]}=t.attribute;if(e>h.length)return;const c=(0,r.gh)(t).line,{fill:d=c.fill,stroke:f=c.stroke,opacity:p=c.opacity,fillOpacity:g=c.fillOpacity,strokeOpacity:m=c.strokeOpacity,lineWidth:v=c.lineWidth,visible:y=c.visible}=t.attribute,b=(0,a.Bv)(p,g,d),w=(0,a.Kf)(p,m),x=(0,a.dz)(d),_=(0,a.ak)(f,v);if(!t.valid||!y)return;if(!x&&!_)return;if(!(b||w||l||u))return;const{context:C}=o;for(let r=e;r<e+s;r++)this.drawIncreaseSegment(t,C,h[r-1],h[r],t.attribute.segments[r],[c,t.attribute],n,i)}else super.drawShape(t,e,n,i,o,s,l,u)}drawIncreaseSegment(t,e,n,i,r,o,a,s){i&&(e.beginPath(),(0,l.V3)(e.nativeContext,n,i,{offsetX:a,offsetY:s}),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,r,o),e.setStrokeStyle(t,r,a,s,o),e.stroke())}};h=u([(0,i.b)()],h)},4339:function(t,e,n){"use strict";n.d(e,{X:function(){return d}});var i=n(68725),r=n(57343),o=n(35223),a=n(9353),s=n(88890),l=n(32091),u=n(46530),h=n(40088),c=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let d=class extends l.Y{constructor(){super(...arguments),this.numberType=s.Hf}draw(t,e,n,i){const r=(0,a.gh)(t,null==i?void 0:i.theme).line;this._draw(t,r,!1,n,i)}drawSegmentItem(t,e,n,r,o,a,s,l,h,c,d,f,p,g,m){var v,y,b,w,x;if(!e)return;t.beginPath();const _=null!==(v=this.z)&&void 0!==v?v:0;(0,u.fW)(t.camera?t:t.nativeContext,e,h,c,{offsetX:d,offsetY:f,offsetZ:_}),p.cache&&!(0,i.Z)(p.cache)&&p.cache.curves.every((t=>t.defined))&&p.attribute.curveType&&p.attribute.curveType.includes("Closed")&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(p,s,l);const{x:C=0,x:S=0}=s;!1!==n&&(g?g(t,s,l):o&&(t.setCommonStyle(p,s,C-d,S-f,l),t.fill())),!1!==r&&(m?m(t,s,l):a&&(t.setStrokeStyle(p,s,C-d,S-f,l),t.stroke()));let{connectedType:M,connectedX:A,connectedY:T,connectedStyle:k}=s;if((0,i.Z)(l)?(M=null!==(y=null!=M?M:l[0].connectedType)&&void 0!==y?y:l[1].connectedType,A=null!==(b=null!=A?A:l[0].connectedX)&&void 0!==b?b:l[1].connectedX,T=null!==(w=null!=T?T:l[0].connectedY)&&void 0!==w?w:l[1].connectedY,k=null!==(x=null!=k?k:l[0].connectedStyle)&&void 0!==x?x:l[1].connectedStyle):(M=null!=M?M:l.connectedType,A=null!=A?A:l.connectedX,T=null!=T?T:l.connectedY,k=null!=k?k:l.connectedStyle),"connect"!==M&&"zero"!==M&&(M="none"),"none"!==M){t.beginPath(),(0,u.fW)(t.camera?t:t.nativeContext,e,h,c,{offsetX:d,offsetY:f,offsetZ:_,drawConnect:!0,mode:M,zeroX:A,zeroY:T});const v=[];(0,i.Z)(l)?l.forEach((t=>v.push(t))):v.push(l),v.push(s),!1!==n&&(g?g(t,s,l):o&&(t.setCommonStyle(p,k,C-d,S-f,v),t.fill())),!1!==r&&(m?m(t,s,l):a&&(t.setStrokeStyle(p,k,C-d,S-f,v),t.stroke()))}return!1}drawLinearLineHighPerformance(t,e,n,i,r,o,a,s,l,u,h,c,d){var f;e.beginPath();const p=null!==(f=this.z)&&void 0!==f?f:0,{points:g}=t.attribute,m=g[0];e.moveTo(m.x+a,m.y+s,p);for(let t=1;t<g.length;t++){const n=g[t];e.lineTo(n.x+a,n.y+s,p)}e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l);const{x:v=0,x:y=0}=t.attribute;!1!==n&&(c?c(e,t.attribute,l):r&&(e.setCommonStyle(t,t.attribute,v-a,y-s,l),e.fill())),!1!==i&&(d?d(e,t.attribute,l):o&&(e.setStrokeStyle(t,t.attribute,v-a,y-s,l),e.stroke()))}drawShape(t,e,n,i,o,s,l,u){const c=(0,a.gh)(t,null==s?void 0:s.theme).line,{fill:d=c.fill,stroke:f=c.stroke,fillOpacity:p=c.fillOpacity,strokeOpacity:g=c.strokeOpacity,segments:m,points:v,closePath:y,curveTension:b=c.curveTension}=t.attribute;if(!this.valid(t,c,l,u))return;let{curveType:w=c.curveType}=t.attribute;y&&"linear"===w&&(w="linearClosed");const{clipRange:x=c.clipRange,clipRangeByDimension:_=c.clipRangeByDimension}=t.attribute;if(1===x&&!m&&!v.some((t=>!1===t.defined))&&"linear"===w)return this.drawLinearLineHighPerformance(t,e,!!d,!!f,p,g,n,i,c,o,s,l,u);if(t.shouldUpdateShape()){const{points:e,segments:n}=t.attribute,i=e;if(n&&n.length){let e,i;if(t.cache=n.map(((t,n)=>{if(t.points.length<=1&&0===n)return t.points[0]&&(i={endX:t.points[0].x,endY:t.points[0].y,curves:[{defined:!1!==t.points[0].defined}]}),null;1===n?e={x:i.endX,y:i.endY,defined:i.curves[i.curves.length-1].defined}:n>1&&(e.x=i.endX,e.y=i.endY,e.defined=i.curves[i.curves.length-1].defined);const r=(0,h.X0)(t.points,w,{startPoint:e,curveTension:b});return i=r,r})).filter((t=>!!t)),"linearClosed"===w){let e;for(let n=0;n<t.cache.length;n++){const i=t.cache[n];for(let t=0;t<i.curves.length;t++)if(i.curves[t].defined){e=i.curves[t].p0;break}if(e)break}t.cache[t.cache.length-1]&&t.cache[t.cache.length-1].lineTo(e.x,e.y,!0)}}else{if(!e||!e.length)return t.cache=null,void t.clearUpdateShapeTag();t.cache=(0,h.X0)(i,w,{curveTension:b})}t.clearUpdateShapeTag()}if(Array.isArray(t.cache)){const o=t.attribute.segments.filter((t=>t.points.length));if(1===o[0].points.length&&o.shift(),1===x){let r=!1;t.cache.forEach(((a,s)=>{r||(r=this.drawSegmentItem(e,a,!!d,!!f,p,g,o[s],[c,t.attribute],x,_,n,i,t,l,u))}))}else{const a=t.cache.reduce(((t,e)=>t+e.getLength()),0),s=x*a;let h=0,m=!1;t.cache.forEach(((a,v)=>{if(m)return;const y=a.getLength(),b=(s-h)/y;h+=y,b>0&&(m=this.drawSegmentItem(e,a,!!d,!!f,p,g,o[v],[c,t.attribute],(0,r.VV)(b,1),_,n,i,t,l,u))}))}}else this.drawSegmentItem(e,t.cache,!!d,!!f,p,g,t.attribute,c,x,_,n,i,t,l,u)}};d=c([(0,o.b)()],d)},21196:function(t,e,n){"use strict";n.d(e,{Cb:function(){return s},EY:function(){return f},Iv:function(){return m},O:function(){return l},Pf:function(){return i},Uj:function(){return c},Xe:function(){return r},ZT:function(){return h},aP:function(){return o},e0:function(){return g},fS:function(){return p},lG:function(){return u},tP:function(){return d},uz:function(){return a}});const i=Symbol.for("IncrementalDrawContribution"),r=Symbol.for("ArcRender"),o=(Symbol.for("Arc3dRender"),Symbol.for("AreaRender"),Symbol.for("CircleRender")),a=Symbol.for("GraphicRender"),s=Symbol.for("GroupRender"),l=Symbol.for("LineRender"),u=Symbol.for("PathRender"),h=Symbol.for("PolygonRender"),c=Symbol.for("RectRender"),d=(Symbol.for("Rect3DRender"),Symbol.for("SymbolRender")),f=Symbol.for("TextRender"),p=Symbol.for("RichTextRender"),g=(Symbol.for("Pyramid3dRender"),Symbol.for("GlyphRender"),Symbol.for("ImageRender")),m=(Symbol.for("RenderSelector"),Symbol.for("DrawContribution"))},91711:function(t,e,n){"use strict";n.d(e,{Bv:function(){return u},Eg:function(){return m},GT:function(){return h},Kf:function(){return c},ZN:function(){return g},Ze:function(){return d},ak:function(){return l},d2:function(){return f},dz:function(){return s},gI:function(){return p}});var i=n(68725),r=n(57343),o=n(54743),a=n(9353);function s(t,e){return!(!t&&!e)}function l(t,e){let n;return n=(0,i.Z)(t)?t.some((t=>t||void 0===t)):!!t,n&&e>0}function u(t,e,n){return n&&t*e>0}function h(t,e,n,i,r){return r&&t*e>0&&0!==n&&0!==i}function c(t,e){return t*e>0}function d(t,e,n,i){return t*e>0&&0!==n&&0!==i}function f(t,e,n,i,r,h,d,f){if(!t.pathProxy)return!1;const p=(0,a.gh)(t,null==h?void 0:h.theme)[t.type.replace("3d","")],{fill:g=p.fill,stroke:m=p.stroke,opacity:v=p.opacity,fillOpacity:y=p.fillOpacity,lineWidth:b=p.lineWidth,strokeOpacity:w=p.strokeOpacity,visible:x=p.visible,x:_=p.x,y:C=p.y}=t.attribute,S=u(v,y,g),M=c(v,w),A=s(g),T=l(m,b);if(!x)return!0;if(!A&&!T)return!0;if(!(S||M||d||f))return!0;e.beginPath();const k="function"==typeof t.pathProxy?t.pathProxy(t.attribute):t.pathProxy;return(0,o.h)(k.commandList,e,n,i),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,p),T&&(f?f(e,t.attribute,p):M&&(e.setStrokeStyle(t,t.attribute,n-_,i-C,p),e.stroke())),A&&(d?d(e,t.attribute,p):S&&(e.setCommonStyle(t,t.attribute,n-_,i-C,p),e.fill())),!0}function p(t,e,n,i,r,o,a){const s=t-n,l=e-i,u=(a?o:-o)/Math.sqrt(s*s+l*l),h=u*l,c=-u*s,d=t+h,f=e+c,p=n+h,g=i+c,m=(d+p)/2,v=(f+g)/2,y=p-d,b=g-f,w=y*y+b*b,x=r-o,_=d*g-p*f,C=(b<0?-1:1)*Math.sqrt(Math.max(0,x*x*w-_*_));let S=(_*b-y*C)/w,M=(-_*y-b*C)/w;const A=(_*b+y*C)/w,T=(-_*y+b*C)/w,k=S-m,R=M-v,I=A-m,P=T-v;return k*k+R*R>I*I+P*P&&(S=A,M=T),{cx:S,cy:M,x01:-h,y01:-c,x11:S*(r/x-1),y11:M*(r/x-1)}}function g(t,e,n,o,a){const s=(0,r.Wn)(n-e),l=t.getParsedCornerRadius(),u=(0,i.Z)(l),{outerDeltaAngle:h,innerDeltaAngle:c,outerStartAngle:d,outerEndAngle:f,innerEndAngle:p,innerStartAngle:g}=t.getParsePadAngle(e,n),m=u?l[0]:l,v=u?l[1]:l,y=u?l[2]:l,b=u?l[3]:l,w=Math.max(v,m),x=Math.max(y,b);let _=w,C=x;const S=a*(0,r.mC)(d),M=a*(0,r.O$)(d),A=o*(0,r.mC)(p),T=o*(0,r.O$)(p);let k,R,I,P;if((x>r.Ho||w>r.Ho)&&(k=a*(0,r.mC)(f),R=a*(0,r.O$)(f),I=o*(0,r.mC)(g),P=o*(0,r.O$)(g),s<r.pi)){const t=function(t,e,n,i,o,a,s,l){const u=n-t,h=i-e,c=s-o,d=l-a;let f=d*u-c*h;return f*f<r.Ho?[]:(f=(c*(e-a)-d*(t-o))/f,[t+f*u,e+f*h])}(S,M,I,P,k,R,A,T);if(t){const e=S-t[0],n=M-t[1],i=k-t[0],s=R-t[1],l=1/(0,r.O$)((0,r.Kh)((e*i+n*s)/((0,r._b)(e*e+n*n)*(0,r._b)(i*i+s*s)))/2),u=(0,r._b)(t[0]*t[0]+t[1]*t[1]);C=(0,r.VV)(x,(o-u)/(l-1)),_=(0,r.VV)(w,(a-u)/(l+1))}}return{outerDeltaAngle:h,xors:S,yors:M,xirs:I,yirs:P,xore:k,yore:R,xire:A,yire:T,limitedOcr:_,limitedIcr:C,outerCornerRadiusStart:m,outerCornerRadiusEnd:v,maxOuterCornerRadius:w,maxInnerCornerRadius:x,outerStartAngle:d,outerEndAngle:f,innerDeltaAngle:c,innerEndAngle:p,innerStartAngle:g,innerCornerRadiusStart:b,innerCornerRadiusEnd:y}}function m(t,e,n,i,o,a,s){const{startAngle:l,endAngle:u}=t.getParsedAngle(),h=(0,r.Wn)(u-l),c=u>l;let d=!1;if(o<a){const t=o;o=a,a=t}if(o<=r.Ho)e.moveTo(n,i);else if(h>=r.f7-r.Ho)e.moveTo(n+o*(0,r.mC)(l),i+o*(0,r.O$)(l)),e.arc(n,i,o,l,u,!c),a>r.Ho&&(e.moveTo(n+a*(0,r.mC)(u),i+a*(0,r.O$)(u)),e.arc(n,i,a,u,l,c));else{const{outerDeltaAngle:h,xors:f,yors:m,xirs:v,yirs:y,limitedOcr:b,outerCornerRadiusStart:w,outerCornerRadiusEnd:x,maxOuterCornerRadius:_,xore:C,yore:S,xire:M,yire:A,outerStartAngle:T,outerEndAngle:k,limitedIcr:R,innerDeltaAngle:I,innerEndAngle:P,innerStartAngle:E,innerCornerRadiusStart:B,innerCornerRadiusEnd:L,maxInnerCornerRadius:D}=g(t,l,u,a,o);if(h<.001)s&&(s[3]||s[1])&&e.moveTo(n+f,i+m),d=!0;else if(b>r.Ho){const t=(0,r.VV)(w,b),a=(0,r.VV)(x,b),l=p(v,y,f,m,o,t,Number(c)),u=p(C,S,M,A,o,a,Number(c));b<_&&t===a?!s||s[0]?(e.moveTo(n+l.cx+l.x01,i+l.cy+l.y01),e.arc(n+l.cx,i+l.cy,b,(0,r.fv)(l.y01,l.x01),(0,r.fv)(u.y01,u.x01),!c)):e.moveTo(n+l.cx+b*(0,r.mC)((0,r.fv)(u.y01,u.x01)),i+l.cy+b*(0,r.O$)((0,r.fv)(u.y01,u.x01))):!s||s[0]?(e.moveTo(n+l.cx+l.x01,i+l.cy+l.y01),t>0&&e.arc(n+l.cx,i+l.cy,t,(0,r.fv)(l.y01,l.x01),(0,r.fv)(l.y11,l.x11),!c),e.arc(n,i,o,(0,r.fv)(l.cy+l.y11,l.cx+l.x11),(0,r.fv)(u.cy+u.y11,u.cx+u.x11),!c),a>0&&e.arc(n+u.cx,i+u.cy,a,(0,r.fv)(u.y11,u.x11),(0,r.fv)(u.y01,u.x01),!c)):a>0?e.moveTo(n+u.cx+a*(0,r.mC)((0,r.fv)(u.y01,u.x01)),i+u.cy+a*(0,r.O$)((0,r.fv)(u.y01,u.x01))):e.moveTo(n+C,i+o*(0,r.O$)(k))}else!s||s[0]?(e.moveTo(n+f,i+m),e.arc(n,i,o,T,k,!c)):e.moveTo(n+o*(0,r.mC)(k),i+o*(0,r.O$)(k));if(!(a>r.Ho)||I<.001)!s||s[1]?e.lineTo(n+M,i+A):e.moveTo(n+M,i+A),d=!0;else if(R>r.Ho){const t=(0,r.VV)(B,R),o=(0,r.VV)(L,R),l=p(M,A,C,S,a,-o,Number(c)),u=p(f,m,v,y,a,-t,Number(c));if(!s||s[1]?e.lineTo(n+l.cx+l.x01,i+l.cy+l.y01):e.moveTo(n+l.cx+l.x01,i+l.cy+l.y01),R<D&&t===o){const t=(0,r.fv)(u.y01,u.x01);!s||s[2]?e.arc(n+l.cx,i+l.cy,R,(0,r.fv)(l.y01,l.x01),t,!c):e.moveTo(n+l.cx+(0,r.mC)(t),i+l.cy+(0,r.O$)(t))}else!s||s[2]?(o>0&&e.arc(n+l.cx,i+l.cy,o,(0,r.fv)(l.y01,l.x01),(0,r.fv)(l.y11,l.x11),!c),e.arc(n,i,a,(0,r.fv)(l.cy+l.y11,l.cx+l.x11),(0,r.fv)(u.cy+u.y11,u.cx+u.x11),c),t>0&&e.arc(n+u.cx,i+u.cy,t,(0,r.fv)(u.y11,u.x11),(0,r.fv)(u.y01,u.x01),!c)):t>0?e.moveTo(n+u.cx+t*(0,r.mC)((0,r.fv)(u.y01,u.x01)),i+u.cy+t*(0,r.O$)((0,r.fv)(u.y01,u.x01))):e.moveTo(n+v,i+y)}else!s||s[1]?e.lineTo(n+M,i+A):e.moveTo(n+M,i+A),!s||s[2]?e.arc(n,i,a,P,E,c):e.moveTo(n+a*(0,r.mC)(E),i+a*(0,r.O$)(E))}return s?s[3]&&e.lineTo(n+o*(0,r.mC)(l),i+o*(0,r.O$)(l)):e.closePath(),d}},51179:function(t,e,n){"use strict";n.d(e,{I2:function(){return h},pi:function(){return u}});var i=n(35223),r=n(39225),o=n(21196),a=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t,e){return function(n,i){e(n,i,t)}};const u=Symbol.for("RenderService");Symbol.for("BeforeRenderConstribution");let h=class{constructor(t){this.drawContribution=t}prepare(t){t&&this.renderTreeRoots.forEach((e=>{this._prepare(e,t)}))}_prepare(t,e){t.forEachChildren((t=>{this._prepare(t,e)})),t.update({bounds:e,trans:!0})}prepareRenderList(){}beforeDraw(t){}draw(t){this.drawContribution.draw(this,Object.assign({},this.drawParams))}afterDraw(t){this.drawContribution.afterDraw&&this.drawContribution.afterDraw(this,Object.assign({},this.drawParams))}render(t,e){this.renderTreeRoots=t,this.drawParams=e;const n=e.updateBounds;this.prepare(n),this.prepareRenderList(),this.beforeDraw(e),this.draw(e),this.afterDraw(e),this.drawParams=null}};h=a([(0,i.b)(),l(0,(0,r.f)(o.Iv)),s("design:paramtypes",[Object])],h)},5198:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var i=n(92908);class r{static GetImage(t,e){var n;const o=r.cache.get(t);o?"fail"===o.loadState?i.w.global.getRequestAnimationFrame()((()=>{e.imageLoadFail(t)})):"init"===o.loadState||"loading"===o.loadState?null===(n=o.waitingMark)||void 0===n||n.push(e):e&&e.imageLoadSuccess(t,o.data):r.loadImage(t,e)}static GetSvg(t,e){var n;let o=r.cache.get(t);o?"fail"===o.loadState?i.w.global.getRequestAnimationFrame()((()=>{e.imageLoadFail(t)})):"init"===o.loadState||"loading"===o.loadState?null===(n=o.waitingMark)||void 0===n||n.push(e):e&&e.imageLoadSuccess(t,o.data):(o={type:"image",loadState:"init"},r.cache.set(t,o),o.dataPromise=i.w.global.loadSvg(t),o.dataPromise?(o.waitingMark=[e],o.dataPromise.then((e=>{var n;o.loadState=(null==e?void 0:e.data)?"success":"fail",o.data=null==e?void 0:e.data,null===(n=o.waitingMark)||void 0===n||n.map(((n,i)=>{(null==e?void 0:e.data)?(o.loadState="success",o.data=e.data,n.imageLoadSuccess(t,e.data)):(o.loadState="fail",n.imageLoadFail(t))})),o.waitingMark&&(o.waitingMark=[])}))):(o.loadState="fail",e.imageLoadFail(t)))}static GetFile(t,e){let n=r.cache.get(t);return n?"fail"===n.loadState?Promise.reject():"init"===n.loadState||"loading"===n.loadState?n.dataPromise.then((t=>t.data)):Promise.resolve(n.data):(n={type:e,loadState:"init"},r.cache.set(t,n),"arrayBuffer"===e?n.dataPromise=i.w.global.loadArrayBuffer(t):"blob"===e?n.dataPromise=i.w.global.loadBlob(t):"json"===e&&(n.dataPromise=i.w.global.loadJson(t)),n.dataPromise.then((t=>t.data)))}static loading(){setTimeout((()=>{if(!r.isLoading&&r.toLoadAueue.length){r.isLoading=!0;const t=r.toLoadAueue.splice(0,10),e=[];t.forEach((t=>{const{url:n,marks:o}=t,a={type:"image",loadState:"init"};if(r.cache.set(n,a),a.dataPromise=i.w.global.loadImage(n),a.dataPromise){a.waitingMark=o;const t=a.dataPromise.then((t=>{var e;a.loadState=(null==t?void 0:t.data)?"success":"fail",a.data=null==t?void 0:t.data,null===(e=a.waitingMark)||void 0===e||e.map(((e,i)=>{(null==t?void 0:t.data)?(a.loadState="success",a.data=t.data,e.imageLoadSuccess(n,t.data)):(a.loadState="fail",e.imageLoadFail(n))})),a.waitingMark&&(a.waitingMark=[])}));e.push(t)}else a.loadState="fail",o.forEach((t=>t.imageLoadFail(n)))})),Promise.all(e).then((()=>{r.isLoading=!1,this.onLoadSuccessCb.forEach((t=>t())),r.loading()})).catch((t=>{console.error(t),r.isLoading=!1,this.onLoadSuccessCb.forEach((t=>t())),r.loading()}))}}),0)}static loadImage(t,e){const n=o(t,r.toLoadAueue);if(-1!==n)return r.toLoadAueue[n].marks.push(e),void r.loading();r.toLoadAueue.push({url:t,marks:[e]}),r.loading()}static improveImageLoading(t){const e=o(t,r.toLoadAueue);if(-1!==e){const t=r.toLoadAueue.splice(e,1);r.toLoadAueue.unshift(t[0])}}static onLoadSuccess(t){this.onLoadSuccessCb.push(t)}}function o(t,e){for(let n=0;n<e.length;n++)if(e[n].url===t)return n;return-1}r.cache=new Map,r.isLoading=!1,r.toLoadAueue=[],r.onLoadSuccessCb=[]},12455:function(t,e,n){"use strict";n.d(e,{n:function(){return r}});class i{constructor(t,e){this._args=t,this.name=e,this.taps=[]}tap(t,e){this._tap("sync",t,e)}unTap(t,e){const n="string"==typeof t?t.trim():t.name;n&&(this.taps=this.taps.filter((t=>!(t.name===n&&(!e||t.fn===e)))))}_parseOptions(t,e,n){let i;if("string"==typeof e)i={name:e.trim()};else if("object"!=typeof e||null===e)throw new Error("Invalid tap options");if("string"!=typeof i.name||""===i.name)throw new Error("Missing name for tap");return i=Object.assign({type:t,fn:n},i),i}_tap(t,e,n){this._insert(this._parseOptions(t,e,n))}_insert(t){let e;"string"==typeof t.before?e=new Set([t.before]):Array.isArray(t.before)&&(e=new Set(t.before));let n=0;"number"==typeof t.stage&&(n=t.stage);let i=this.taps.length;for(;i>0;){i--;const t=this.taps[i];this.taps[i+1]=t;const r=t.stage||0;if(e){if(e.has(t.name)){e.delete(t.name);continue}if(e.size>0)continue}if(!(r>n)){i++;break}}this.taps[i]=t}}class r extends i{call(...t){this.taps.map((t=>t.fn)).forEach((e=>e(...t)))}}},46307:function(t,e,n){"use strict";n.d(e,{EG:function(){return c},Jj:function(){return m},NP:function(){return o},Nv:function(){return r},VA:function(){return d},bZ:function(){return p},p8:function(){return g},qP:function(){return l},q_:function(){return a},rE:function(){return u},rV:function(){return h},sg:function(){return f},uU:function(){return s}});var i=n(62071);const r={onPointerDown:"pointerdown",onPointerUp:"pointerup",onPointerUpOutside:"pointerupoutside",onPointerTap:"pointertap",onPointerOver:"pointerover",onPointerMove:"pointermove",onPointerEnter:"pointerenter",onPointerLeave:"pointerleave",onPointerOut:"pointerout",onMouseDown:"mousedown",onMouseUp:"mouseup",onMouseUpOutside:"mouseupoutside",onMouseMove:"mousemove",onMouseOver:"mouseover",onMouseOut:"mouseout",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onPinch:"pinch",onPinchStart:"pinchstart",onPinchEnd:"pinchend",onPan:"pan",onPanStart:"panstart",onPanEnd:"panend",onDrag:"drag",onDragStart:"dragstart",onDragEnter:"dragenter",onDragLeave:"dragleave",onDragOver:"dragover",onDragEnd:"dragend",onRightDown:"rightdown",onRightUp:"rightup",onRightUpOutside:"rightupoutside",onTouchStart:"touchstart",onTouchEnd:"touchend",onTouchEndOutside:"touchendoutside",onTouchMove:"touchmove",onTouchCancel:"touchcancel",onPress:"press",onPressUp:"pressup",onPressEnd:"pressend",onSwipe:"swipe",onDrop:"drop",onWeel:"wheel",onClick:"click",onDblClick:"dblclick"};Object.keys(r);function o(t){return i.i.arc(t?t.attribute:{})}function a(t){return i.i.area(t?t.attribute:{})}function s(t){return i.i.circle(t?t.attribute:{})}function l(t){return i.i.group(t?t.attribute:{})}function u(t){return i.i.glyph(t?t.attribute:{})}function h(t){return i.i.image(t?t.attribute:{})}function c(t){return i.i.line(t?t.attribute:{})}function d(t){return i.i.path(t?t.attribute:{})}function f(t){return i.i.polygon(t?t.attribute:{})}function p(t){return i.i.rect(t?t.attribute:{})}function g(t){return i.i.symbol(t?t.attribute:{})}function m(t){return i.i.text(t?t.attribute:{})}function v(t){return i.i.richtext(t?t.attribute:{})}v.Text=function(t){return Object.assign({type:"rich/text"},t)},v.Image=function(t){return Object.assign({type:"rich/image"},t)}},17974:function(t,e,n){"use strict";n.d(e,{D:function(){return o}});var i=n(32091),r=n(63076);class o extends i.Y{contains(t,e,n){const{pickContext:i}=null!=n?n:{};if(!i)return!1;const o=t.getGraphicTheme();i.highPerformanceSave();const a=this.transform(t,o,i),{x:s,y:l,z:u,lastModelMatrix:h}=a;let c=e;if(i.camera){c=e.clone();const n=t.parent.globalTransMatrix;c.x=n.a*e.x+n.c*e.y+n.e,c.y=n.b*e.x+n.d*e.y+n.f}this.canvasRenderer.z=u;let d=!1;return this.canvasRenderer.drawShape(t,i,s,l,n,null,((t,e,n)=>!!d||(d=t.isPointInPath(c.x,c.y),d))),this.canvasRenderer.z=0,i.modelMatrix!==h&&r.yp.free(i.modelMatrix),i.modelMatrix=h,i.highPerformanceRestore(),d}}},5320:function(t,e,n){"use strict";n.d(e,{Q:function(){return a}});var i=n(32091),r=n(36531),o=n(63076);class a extends i.Y{contains(t,e,n){if(!t.AABBBounds.containsPoint(e))return!1;if("imprecise"===t.attribute.pickMode)return!0;const{pickContext:i}=null!=n?n:{};if(!i)return!1;i.highPerformanceSave();const a=t.getGraphicTheme(),s=this.transform(t,a,i),{x:l,y:u,z:h,lastModelMatrix:c}=s;let d=e;if(i.camera){d=e.clone();const n=t.parent.globalTransMatrix;d.x=n.a*e.x+n.c*e.y+n.e,d.y=n.b*e.x+n.d*e.y+n.f}this.canvasRenderer.z=h;let f=!1;return this.canvasRenderer.drawShape(t,i,l,u,{},null,(t=>!!f||(f=t.isPointInPath(d.x,d.y),f)),((t,e,n)=>{if(f)return!0;const o=e.lineWidth||n.lineWidth,a=e.pickStrokeBuffer||n.pickStrokeBuffer,s=e.keepStrokeScale||n.keepStrokeScale;return i.lineWidth=s?o+a:(0,r.D)(i,o+a,i.dpr),f=t.isPointInStroke(d.x,d.y),f})),this.canvasRenderer.z=0,i.modelMatrix!==c&&o.yp.free(i.modelMatrix),i.modelMatrix=c,i.highPerformanceRestore(),f}}},1434:function(t,e,n){"use strict";n.d(e,{o:function(){return r}});var i=n(36531);class r{contains(t,e,n){if(!t.AABBBounds.containsPoint(e))return!1;if("imprecise"===t.attribute.pickMode)return!0;const{pickContext:r}=null!=n?n:{};if(!r)return!1;const o=t.getGraphicTheme();r.highPerformanceSave();let{x:a=o.x,y:s=o.y}=t.attribute;if(t.transMatrix.onlyTranslate()){const e=t.getOffsetXY(o);a+=e.x,s+=e.y,r.setTransformForCurrent()}else a=0,s=0,r.transformFromMatrix(t.transMatrix,!0);let l=!1;return this.canvasRenderer.drawShape(t,r,a,s,{},null,((t,n,i)=>!!l||(l=t.isPointInPath(e.x,e.y),l)),((t,n,o)=>{if(l)return!0;const a=n.lineWidth||o.lineWidth,s=n.pickStrokeBuffer||o.pickStrokeBuffer,u=n.keepStrokeScale||o.keepStrokeScale;return r.lineWidth=u?a+s:(0,i.D)(r,a+s,r.dpr),l=t.isPointInStroke(e.x,e.y),l})),r.highPerformanceRestore(),l}}},35821:function(t,e,n){"use strict";n.d(e,{EL:function(){return S},ES:function(){return m},Ex:function(){return l},RC:function(){return b},Rz:function(){return g},Sp:function(){return w},TF:function(){return y},XN:function(){return i},Yr:function(){return h},ZY:function(){return _},cs:function(){return a},e_:function(){return f},g2:function(){return s},ks:function(){return v},nb:function(){return u},p1:function(){return c},pE:function(){return C},t3:function(){return r},uV:function(){return d},ww:function(){return x},xp:function(){return o},zT:function(){return p}});const i=Symbol.for("MathPickerContribution"),r=Symbol.for("MathArcPicker"),o=(Symbol.for("MathAreaPicker"),Symbol.for("MathCirclePicker")),a=Symbol.for("MathImagePicker"),s=Symbol.for("MathLinePicker"),l=Symbol.for("MathPathPicker"),u=Symbol.for("MathRectPicker"),h=Symbol.for("MathSymbolPicker"),c=Symbol.for("MathTextPicker"),d=Symbol.for("MathPolygonPicker"),f=(Symbol.for("MathGlyphPicker"),Symbol.for("CanvasArcPicker")),p=(Symbol.for("CanvasArc3dPicker"),Symbol.for("CanvasAreaPicker"),Symbol.for("CanvasCirclePicker")),g=Symbol.for("CanvasImagePicker"),m=(Symbol.for("CanvasGifImagePicker"),Symbol.for("CanvasLinePicker")),v=Symbol.for("CanvasPathPicker"),y=Symbol.for("CanvasRectPicker"),b=(Symbol.for("CanvasRect3dPicker"),Symbol.for("CanvasSymbolPicker")),w=Symbol.for("CanvasTextPicker"),x=Symbol.for("CanvasPolygonPicker"),_=(Symbol.for("CanvasPyramid3dPicker"),Symbol.for("CanvasRichTextPicker")),C=(Symbol.for("CanvasGlyphPicker"),Symbol.for("CanvasGroupPicker")),S=Symbol.for("CanvasPickerContribution")},64615:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(88890),r=n(35223),o=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let a=class{constructor(){this.type="image",this.numberType=i.PN}contains(t,e,n){const{pickContext:i}=null!=n?n:{};return!!i&&!!t.AABBBounds.containsPoint(e)}};a=o([(0,r.b)()],a)},45584:function(t,e,n){"use strict";n.d(e,{X:function(){return i}});const i=(0,n(93669).kP)()},37646:function(t,e,n){"use strict";n.d(e,{M:function(){return a}});var i=n(92096),r=n(62071);function o(){o.__loaded||(o.__loaded=!0,r.i.RegisterGraphicCreator("group",i.sS))}o.__loaded=!1;const a=o},27272:function(t,e,n){"use strict";n.d(e,{i:function(){return V}});var i=n(44474),r=n(62071);var o=n(90154),a=n(27836),s=n(64008),l=n(22466),u=n(46195),h=n(35223),c=n(39225),d=n(91112),f=n(9353),p=n(88890),g=n(68725),m=n(44409),v=n(53881),y=n(32091),b=n(21448),w=n(57241);class x extends w.sH{constructor(){super(...arguments),this.time=b.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){return super.drawShape(t,e,n,i,r,o,a,s,l,u,h,c)}}const _=new x,C=l.R6;var S=n(5198),M=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},A=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},T=function(t,e){return function(n,i){e(n,i,t)}};const k=["","repeat-x","repeat-y","repeat"];let R=class extends y.Y{constructor(t){super(),this.imageRenderContribitions=t,this.numberType=p.PN,this.builtinContributions=[_,C],this.init(t)}drawShape(t,e,n,i,r,o,a,s){const l=(0,f.gh)(t).image,{width:u=l.width,height:h=l.height,repeatX:c=l.repeatX,repeatY:d=l.repeatY,x:p=l.x,y:m=l.y,cornerRadius:y=l.cornerRadius,fillStrokeOrder:b=l.fillStrokeOrder,image:w}=t.attribute,x=this.valid(t,l,a);if(!x)return;const{fVisible:_,sVisible:C,doFill:S,doStroke:M}=x;if(!w||!t.resources)return;const A=t.resources.get(w);if("success"!==A.state)return;let T=!1;0===y||(0,g.Z)(y)&&y.every((t=>0===t))||(e.beginPath(),(0,v.U)(e,n,i,u,h,y),T=!0),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l);const R=()=>{if(S)if(a)a(e,t.attribute,l);else if(_){e.setCommonStyle(t,t.attribute,n,i,l);let r=0;if("repeat"===c&&(r|=1),"repeat"===d&&(r|=2),r){const t=e.createPattern(A.data,k[r]);e.fillStyle=t,e.translate(n,i,!0),e.fillRect(0,0,u,h),e.translate(-n,-i,!0)}else e.drawImage(A.data,n,i,u,h)}},I=()=>{M&&(s?s(e,t.attribute,l):C&&(e.setStrokeStyle(t,t.attribute,p-n,m-i,l),e.stroke()))};b?(I(),T&&(e.save(),e.clip()),this.beforeRenderStep(t,e,n,i,S,!1,_,!1,l,r,a),R(),T&&e.restore()):(T&&(e.save(),e.clip()),this.beforeRenderStep(t,e,n,i,S,!1,_,!1,l,r,a),R(),T&&e.restore(),I()),this.afterRenderStep(t,e,n,i,S,!1,_,!1,l,r,a)}draw(t,e,n){const{image:i}=t.attribute;if(!i||!t.resources)return;const r=t.resources.get(i);if("loading"===r.state&&(0,m.Z)(i))return void S.h.improveImageLoading(i);if("success"!==r.state)return;const{context:o}=e.drawParams;if(!o)return;const a=(0,f.gh)(t).image;this._draw(t,a,!1,n)}};R=M([(0,h.b)(),T(0,(0,c.f)(a.Qc)),T(0,(0,d.t)(u.JO)),A("design:paramtypes",[Object])],R);var I=n(21196);let P=!1;const E=new s.n((t=>{P||(P=!0,t(I.e0).to(R).inSingletonScope(),t(I.uz).toService(I.e0),t(u.JO).toService(l.Sg),(0,a.yb)(t,u.JO))}));var B=n(45584),L=n(35821),D=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let O=class{constructor(){this.type="image",this.numberType=p.PN}contains(t,e,n){const{pickContext:i}=null!=n?n:{};return!!i&&!!t.AABBBounds.containsPoint(e)}};O=D([(0,h.b)()],O);let F=!1;const H=new s.n(((t,e,n,i)=>{F||(F=!0,t(L.Rz).to(O).inSingletonScope(),t(L.EL).toService(L.Rz))}));var N=n(64615);let z=!1;const W=new s.n(((t,e,n,i)=>{z||(z=!0,t(L.cs).to(N.Z).inSingletonScope(),t(N.Z).toService(L.cs))}));function j(){j.__loaded||(j.__loaded=!0,r.i.RegisterGraphicCreator("image",i.B),o.n.load(E),o.n.load(B.X?H:W))}j.__loaded=!1;const V=j},23274:function(t,e,n){"use strict";n.d(e,{N:function(){return E}});var i=n(64877),r=n(62071);var o=n(90154),a=n(64008),s=n(56350),l=n(4339),u=n(21196);let h=!1;const c=new a.n((t=>{h||(h=!0,t(l.X).toSelf().inSingletonScope(),t(s.U).toSelf().inSingletonScope(),t(u.O).to(l.X).inSingletonScope(),t(u.uz).toService(u.O))}));var d=n(45584),f=n(35821),p=n(88890),g=n(35223),m=n(39225),v=n(5320),y=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},b=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},w=function(t,e){return function(n,i){e(n,i,t)}};let x=class extends v.Q{constructor(t){super(),this.canvasRenderer=t,this.type="line",this.numberType=p.Hf}};x=y([(0,g.b)(),w(0,(0,m.f)(u.O)),b("design:paramtypes",[Object])],x);let _=!1;const C=new a.n(((t,e,n,i)=>{_||(_=!0,t(f.ES).to(x).inSingletonScope(),t(f.EL).toService(f.ES))}));var S=n(1434),M=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},A=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},T=function(t,e){return function(n,i){e(n,i,t)}};let k=class extends S.o{constructor(t){super(),this.canvasRenderer=t,this.type="line",this.numberType=p.Hf}};k=M([(0,g.b)(),T(0,(0,m.f)(u.O)),A("design:paramtypes",[Object])],k);let R=!1;const I=new a.n(((t,e,n,i)=>{R||(R=!0,t(f.g2).to(k).inSingletonScope(),t(f.XN).toService(f.g2))}));function P(){P.__loaded||(P.__loaded=!0,r.i.RegisterGraphicCreator("line",i.W),o.n.load(c),o.n.load(d.X?C:I))}P.__loaded=!1;const E=P},73283:function(t,e,n){"use strict";n.d(e,{k:function(){return K}});var i=n(95063),r=n(62071);var o=n(90154),a=n(27836),s=n(64008),l=n(57241),u=n(22466),h=n(46195),c=n(68725),d=n(35223),f=n(39225),p=n(91112),g=n(9353),m=n(88890),v=n(53881),y=n(91711),b=n(32091),w=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},x=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_=function(t,e){return function(n,i){e(n,i,t)}};let C=class extends b.Y{constructor(t){super(),this.rectRenderContribitions=t,this.type="rect",this.numberType=m._u,this.builtinContributions=[l.NB,l.gq,l.k7],this.init(t)}drawShape(t,e,n,i,r,o,a,s){var l;const u=null!==(l=this.tempTheme)&&void 0!==l?l:(0,g.gh)(t,null==o?void 0:o.theme).rect,{fill:h=u.fill,background:d,stroke:f=u.stroke,cornerRadius:p=u.cornerRadius,opacity:m=u.opacity,fillOpacity:b=u.fillOpacity,lineWidth:w=u.lineWidth,strokeOpacity:x=u.strokeOpacity,visible:_=u.visible,x1:C,y1:S,x:M=u.x,y:A=u.y,fillStrokeOrder:T=u.fillStrokeOrder}=t.attribute;let{width:k,height:R}=t.attribute;k=(null!=k?k:C-M)||0,R=(null!=R?R:S-A)||0;const I=(0,y.GT)(m,b,k,R,h),P=(0,y.Ze)(m,x,k,R),E=(0,y.dz)(h,d),B=(0,y.ak)(f,w);if(!t.valid||!_)return;if(!E&&!B)return;if(!(I||P||a||s||d))return;0===p||(0,c.Z)(p)&&p.every((t=>0===t))?(e.beginPath(),e.rect(n,i,k,R)):(e.beginPath(),(0,v.U)(e,n,i,k,R,p));const L={doFill:E,doStroke:B};e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,u),this.beforeRenderStep(t,e,n,i,E,B,I,P,u,r,a,s,L);const D=()=>{L.doFill&&(a?a(e,t.attribute,u):I&&(e.setCommonStyle(t,t.attribute,M-n,A-i,u),e.fill()))},O=()=>{L.doStroke&&(s?s(e,t.attribute,u):P&&(e.setStrokeStyle(t,t.attribute,M-n,A-i,u),e.stroke()))};T?(O(),D()):(D(),O()),this.afterRenderStep(t,e,n,i,E,B,I,P,u,r,a,s)}draw(t,e,n,i){const r=(0,g.gh)(t,null==i?void 0:i.theme).rect;this.tempTheme=r,this._draw(t,r,!1,n,i),this.tempTheme=null}};C=w([(0,d.b)(),_(0,(0,f.f)(a.Qc)),_(0,(0,p.t)(h.d5)),x("design:paramtypes",[Object])],C);var S=n(21196);let M=!1;const A=new s.n((t=>{M||(M=!0,t(C).toSelf().inSingletonScope(),t(S.Uj).to(C).inSingletonScope(),t(S.uz).toService(S.Uj),t(l.Er).toSelf(),t(l.d4).toSelf(),t(h.d5).toService(l.Er),t(h.d5).toService(l.d4),t(h.d5).toService(u.Sg),(0,a.yb)(t,h.d5))}));var T=n(45584),k=n(35821),R=n(94378),I=n(66990),P=n(36531);const E=new R.FB;class B{constructor(){this.type="rect",this.numberType=m._u}contains(t,e,n){if(!t.AABBBounds.containsPoint(e))return!1;if("imprecise"===t.attribute.pickMode)return!0;const{pickContext:i}=null!=n?n:{};if(!i)return!1;const r=t.getGraphicTheme(),{cornerRadius:o=r.cornerRadius}=t.attribute;let{x:a=r.x,y:s=r.y}=t.attribute;i.highPerformanceSave();let l=!0;if(t.transMatrix.onlyTranslate()){const e=t.getOffsetXY(r);a+=e.x,s+=e.y,i.setTransformForCurrent()}else a=0,s=0,l=!1,i.transformFromMatrix(t.transMatrix,!0);let u=!0;if(!l||t.shadowRoot||(0,I.Z)(o,!0)&&0!==o||(0,c.Z)(o)&&o.some((t=>0!==t)))u=!1,this.canvasRenderer.drawShape(t,i,a,s,{},null,((t,n,i)=>!!u||(u=t.isPointInPath(e.x,e.y),u)),((t,n,r)=>{if(u)return!0;const o=n.lineWidth||r.lineWidth,a=n.pickStrokeBuffer||r.pickStrokeBuffer,s=n.keepStrokeScale||r.keepStrokeScale;return i.lineWidth=s?o+a:(0,P.D)(i,o+a,i.dpr),u=t.isPointInStroke(e.x,e.y),u}));else{const{fill:n=r.fill,stroke:i=r.stroke,lineWidth:o=r.lineWidth}=t.attribute;if(n)u=!0;else if(i){const n=t.AABBBounds;E.setValue(n.x1,n.y1,n.x2,n.y2),E.expand(-o/2),u=!E.containsPoint(e)}}return i.highPerformanceRestore(),u}}var L=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},D=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=function(t,e){return function(n,i){e(n,i,t)}};let F=class extends B{constructor(t){super(),this.canvasRenderer=t}};F=L([(0,d.b)(),O(0,(0,f.f)(S.Uj)),D("design:paramtypes",[Object])],F);let H=!1;const N=new s.n(((t,e,n,i)=>{H||(H=!0,t(k.TF).to(F).inSingletonScope(),t(k.EL).toService(k.TF))}));var z=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},W=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},j=function(t,e){return function(n,i){e(n,i,t)}};let V=class extends B{constructor(t){super(),this.canvasRenderer=t}};V=z([(0,d.b)(),j(0,(0,f.f)(S.Uj)),W("design:paramtypes",[Object])],V);let G=!1;const Z=new s.n(((t,e,n,i)=>{G||(G=!0,t(k.nb).to(V).inSingletonScope(),t(k.XN).toService(k.nb))}));function U(){U.__loaded||(U.__loaded=!0,r.i.RegisterGraphicCreator("rect",i.f),o.n.load(A),o.n.load(T.X?N:Z))}U.__loaded=!1;const K=U},41650:function(t,e,n){"use strict";n.d(e,{v:function(){return B}});var i=n(12255),r=n(62071);var o=n(90154),a=n(64008),s=n(35223),l=n(53881),u=n(9353),h=n(88890),c=n(91711),d=n(32091),f=n(2502),p=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},g=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let m=class extends d.Y{constructor(){super(),this.numberType=h.$M,this.builtinContributions=[f.C],this.init()}drawShape(t,e,n,i,r){const o=(0,u.gh)(t).richtext,{strokeOpacity:a=o.strokeOpacity,opacity:s=o.opacity,fillOpacity:l=o.fillOpacity,visible:h=o.visible}=t.attribute;if(!t.valid||!h)return;const d=(0,c.Bv)(s,l,!0),f=(0,c.Bv)(s,a,!0);d&&(e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,o),e.translate(n,i),this.beforeRenderStep(t,e,n,i,d,f,d,f,o,r),t.getFrameCache().draw(e,this.drawIcon),this.afterRenderStep(t,e,n,i,d,f,d,f,o,r))}drawIcon(t,e,n,i,r){var o;const a=(0,u.gh)(t).richtextIcon,{width:s=a.width,height:h=a.height,opacity:c=a.opacity,image:d,backgroundFill:f=a.backgroundFill,backgroundFillOpacity:p=a.backgroundFillOpacity,backgroundStroke:g=a.backgroundStroke,backgroundStrokeOpacity:m=a.backgroundStrokeOpacity,backgroundRadius:v=a.backgroundRadius,margin:y}=t.attribute,{backgroundWidth:b=s,backgroundHeight:w=h}=t.attribute;if(y&&(n+=t._marginArray[3],i+=t._marginArray[0]),t._hovered){const t=(b-s)/2,r=(w-h)/2;0===v?(e.beginPath(),e.rect(n-t,i-r,b,w)):(e.beginPath(),(0,l.U)(e,n-t,i-r,b,w,v)),f&&(e.globalAlpha=p,e.fillStyle=f,e.fill()),g&&(e.globalAlpha=m,e.strokeStyle=g,e.stroke())}const x=d&&(null===(o=null==t?void 0:t.resources)||void 0===o?void 0:o.get(d));x&&"success"===x.state&&(e.globalAlpha=c,e.drawImage(x.data,n,i,s,h))}draw(t,e,n){const i=(0,u.gh)(t).richtext;this._draw(t,i,!1,n)}};m=p([(0,s.b)(),g("design:paramtypes",[])],m);var v=n(21196);let y=!1;const b=new a.n((t=>{y||(y=!0,t(v.fS).to(m).inSingletonScope(),t(v.uz).toService(v.fS))}));var w=n(45584),x=n(35821),_=n(39225),C=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},S=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},M=function(t,e){return function(n,i){e(n,i,t)}};let A=class{constructor(t){this.canvasRenderer=t,this.type="richtext",this.numberType=h.$M}contains(t,e,n){return!!t.AABBBounds.containsPoint(e)}};A=C([(0,s.b)(),M(0,(0,_.f)(v.fS)),S("design:paramtypes",[Object])],A);let T=!1;const k=new a.n(((t,e,n,i)=>{T||(T=!0,t(x.ZY).to(A).inSingletonScope(),t(x.EL).toService(x.ZY))}));var R=n(64615);let I=!1;const P=new a.n(((t,e,n,i)=>{I||(I=!0,t(x.cs).to(R.Z).inSingletonScope(),t(R.Z).toService(x.cs))}));function E(){E.__loaded||(E.__loaded=!0,r.i.RegisterGraphicCreator("richtext",i.p),o.n.load(b),o.n.load(w.X?k:P))}E.__loaded=!1;const B=E},58639:function(t,e,n){"use strict";n.d(e,{k:function(){return $}});var i=n(36337),r=n(62071);var o=n(90154),a=n(27836),s=n(64008),l=n(22466),u=n(46195),h=n(21196),c=n(35223),d=n(39225),f=n(91112),p=n(9353),g=n(88890),m=n(32091),v=n(68725),y=n(36531),b=n(21448),w=n(27963);const x=new class{constructor(){this.time=b.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){const d=t.getParsedPath();if(!d)return;const{outerBorder:f,innerBorder:p}=t.attribute,g=f&&!1!==f.visible,m=p&&!1!==p.visible;if(!g&&!m)return;const{size:v=l.size,opacity:b=l.opacity,x:w=l.x,y:x=l.y,scaleX:_=l.scaleX,scaleY:C=l.scaleY,keepStrokeScale:S=l.keepStrokeScale}=t.attribute,M=(r,o)=>{const a=!(!r||!r.stroke),{distance:s=l[o].distance}=r,u=S?s:(0,y.D)(e,s,e.dpr),h="outerBorder"===o?1:-1;if(e.beginPath(),!1===d.drawOffset(e,v,n,i,h*u)&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),c)c(e,r,l[o]);else if(a){const a=l[o].opacity;l[o].opacity=b,e.setStrokeStyle(t,r,(w-n)/_,(x-i)/C,l[o]),l[o].opacity=a,e.stroke()}};g&&M(f,"outerBorder"),m&&M(p,"innerBorder")}},_=w.H,C=l.R6;var S=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},M=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},A=function(t,e){return function(n,i){e(n,i,t)}};let T=class extends m.Y{constructor(t){super(),this.symbolRenderContribitions=t,this.numberType=g.B5,this.builtinContributions=[x,C,_],this.init(t)}drawShape(t,e,n,i,r,o,a,s){var l;const u=(0,p.gh)(t,null==o?void 0:o.theme).symbol,{size:h=u.size,x:c=u.x,y:d=u.y,scaleX:f=u.scaleX,scaleY:g=u.scaleY,fillStrokeOrder:m=u.fillStrokeOrder}=t.attribute,y=this.valid(t,u,a,s);if(!y)return;const{fVisible:b,sVisible:w,doFill:x,doStroke:_}=y,C=t.getParsedPath();if(!C)return;const{keepDirIn3d:S=u.keepDirIn3d}=t.attribute,M=null!==(l=this.z)&&void 0!==l?l:0;e.beginPath();const A=(r,o)=>{var l,h,p;if(t._parsedPath.svgCache){const e=Object.assign({},o);e.fill=null!==(l=o.fill)&&void 0!==l?l:t.attribute.fill,e.opacity=null!==(h=o.opacity)&&void 0!==h?h:t.attribute.opacity,e.fillOpacity=t.attribute.fillOpacity,e.stroke=null!==(p=o.stroke)&&void 0!==p?p:t.attribute.stroke,o=e}const v=()=>{o.fill&&(a?a(e,t.attribute,u):(e.setCommonStyle(t,o,c-n,d-i,u),e.fill()))},y=()=>{o.stroke&&(s?s(e,t.attribute,u):(e.setStrokeStyle(t,o,(c-n)/f,(d-i)/g,u),e.stroke()))};m?(y(),v()):(v(),y())};if(S&&e.camera&&e.project){const t=e.project(n,i,M),r=e.camera;e.camera=null,!1===C.draw(e,(0,v.Z)(h)?[h[0]*f,h[1]*g]:h*f,t.x,t.y,void 0,A)&&e.closePath(),e.camera=r}else!1===C.draw(e,h,n,i,M,A)&&e.closePath();e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,u),this.beforeRenderStep(t,e,n,i,x,_,b,w,u,r,a,s);const T=()=>{x&&!C.isSvg&&(a?a(e,t.attribute,u):b&&(e.setCommonStyle(t,t.attribute,c-n,d-i,u),e.fill()))},k=()=>{_&&!C.isSvg&&(s?s(e,t.attribute,u):w&&(e.setStrokeStyle(t,t.attribute,(c-n)/f,(d-i)/g,u),e.stroke()))};m?(k(),T()):(T(),k()),this.afterRenderStep(t,e,n,i,x,_,b,w,u,r,a,s)}draw(t,e,n,i){const r=(0,p.gh)(t,null==i?void 0:i.theme).symbol;this._draw(t,r,!1,n,i)}};T=S([(0,c.b)(),A(0,(0,d.f)(a.Qc)),A(0,(0,f.t)(u.X3)),M("design:paramtypes",[Object])],T);let k=!1;const R=new s.n((t=>{k||(k=!0,t(T).toSelf().inSingletonScope(),t(h.tP).to(T).inSingletonScope(),t(h.uz).toService(h.tP),t(u.X3).toService(l.Sg),(0,a.yb)(t,u.X3))}));var I=n(45584),P=n(35821),E=n(63076),B=n(17974),L=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},D=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=function(t,e){return function(n,i){e(n,i,t)}};let F=class extends B.D{constructor(t){super(),this.canvasRenderer=t,this.type="symbol",this.numberType=g.B5}contains(t,e,n){const{pickContext:i}=null!=n?n:{};if(!i)return!1;const r=t.getParsedPath();if(!i.camera){if(!t.AABBBounds.containsPoint(e))return!1;if(r.isSvg||"imprecise"===t.attribute.pickMode)return!0}i.highPerformanceSave();const o=t.getGraphicTheme(),a=this.transform(t,o,i),{x:s,y:l,z:u,lastModelMatrix:h}=a;let c=e;if(i.camera){c=e.clone();const n=t.parent.globalTransMatrix;c.x=n.a*e.x+n.c*e.y+n.e,c.y=n.b*e.x+n.d*e.y+n.f}this.canvasRenderer.z=u;let d=!1;return this.canvasRenderer.drawShape(t,i,s,l,{},null,((t,e,n)=>!!d||(d=t.isPointInPath(c.x,c.y),d)),((t,e,n)=>{if(d)return!0;const r=e.lineWidth||n.lineWidth,o=e.pickStrokeBuffer||n.pickStrokeBuffer,a=e.keepStrokeScale||n.keepStrokeScale;return i.lineWidth=a?r+o:(0,y.D)(i,r+o,i.dpr),d=t.isPointInStroke(c.x,c.y),d})),this.canvasRenderer.z=0,i.modelMatrix!==h&&E.yp.free(i.modelMatrix),i.modelMatrix=h,i.highPerformanceRestore(),d}};F=L([(0,c.b)(),O(0,(0,d.f)(h.tP)),D("design:paramtypes",[Object])],F);let H=!1;const N=new s.n(((t,e,n,i)=>{H||(H=!0,t(P.RC).to(F).inSingletonScope(),t(P.EL).toService(P.RC))}));var z=n(1434),W=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},j=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},V=function(t,e){return function(n,i){e(n,i,t)}};let G=class extends z.o{constructor(t){super(),this.canvasRenderer=t,this.type="symbol",this.numberType=g.B5}};G=W([(0,c.b)(),V(0,(0,d.f)(h.tP)),j("design:paramtypes",[Object])],G);let Z=!1;const U=new s.n(((t,e,n,i)=>{Z||(Z=!0,t(P.Yr).to(G).inSingletonScope(),t(P.XN).toService(P.Yr))}));function K(){K.__loaded||(K.__loaded=!0,r.i.RegisterGraphicCreator("symbol",i.t),o.n.load(R),o.n.load(I.X?N:U))}K.__loaded=!1;const $=K},66060:function(t,e,n){"use strict";n.d(e,{g:function(){return V}});var i=n(85830),r=n(62071);var o=n(90154),a=n(27836),s=n(64008),l=n(22466),u=n(46195),h=n(21196),c=n(35223),d=n(39225),f=n(91112),p=n(9353),g=n(88890),m=n(67984),v=n(32091),y=n(63076),b=n(57343),w=n(45644),x=n(58488),_=n(2502),C=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},S=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},M=function(t,e){return function(n,i){e(n,i,t)}};let A=class extends v.Y{constructor(t){super(),this.textRenderContribitions=t,this.numberType=g.Us,this.builtinContributions=[_.C],this.init(t)}drawShape(t,e,n,i,r,o,a,s){var l,u,h;const c=(0,p.gh)(t,null==o?void 0:o.theme).text,{text:d,underline:f=c.underline,lineThrough:g=c.lineThrough,keepDirIn3d:m=c.keepDirIn3d,direction:v=c.direction,fontSize:w=c.fontSize,verticalMode:_=c.verticalMode,x:C=c.x,y:S=c.y}=t.attribute,M=null!==(l=(0,x.VA)(t.attribute.lineHeight,w))&&void 0!==l?l:w,A=this.valid(t,c,a,s);if(!A)return;const{fVisible:T,sVisible:k,doFill:R,doStroke:I}=A,P=!m,E=this.z||0;e.beginPath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,c),this.beforeRenderStep(t,e,n,i,R,I,T,k,c,r,a,s),P&&this.transformUseContext2d(t,c,E,e);const B=(r,o,l,u)=>{let h=n+o;const d=i+l;if(u){e.highPerformanceSave(),h+=w;const t=y.QE.allocate(1,0,0,1,0,0);t.rotateByCenter(Math.PI/2,h,d),e.transformFromMatrix(t,!0),y.QE.free(t)}I&&(s?s(e,t.attribute,c):k&&(e.setStrokeStyle(t,t.attribute,C-n,S-i,c),e.strokeText(r,h,d,E))),R&&(a?a(e,t.attribute,c):T&&(e.setCommonStyle(t,t.attribute,C-n,S-i,c),e.fillText(r,h,d,E))),u&&(e.highPerformanceRestore(),e.setTransformForCurrent())};if(e.setTextStyleWithoutAlignBaseline(t.attribute,c,E),"horizontal"===v){const{multilineLayout:r}=t;if(!r)return void e.highPerformanceRestore();const{xOffset:o,yOffset:l}=r.bbox;I&&(s?s(e,t.attribute,c):k&&(e.setStrokeStyle(t,t.attribute,C-n,S-i,c),r.lines.forEach((t=>{e.strokeText(t.str,(t.leftOffset||0)+o+n,(t.topOffset||0)+l+i,E)})))),R&&(a?a(e,t.attribute,c):T&&(e.setCommonStyle(t,t.attribute,C-n,S-i,c),r.lines.forEach((r=>{e.fillText(r.str,(r.leftOffset||0)+o+n,(r.topOffset||0)+l+i,E),this.drawUnderLine(f,g,t,(r.leftOffset||0)+o+n,(r.topOffset||0)+l+i,r.descent,(r.descent-r.ascent)/2,E,c,e,{width:r.width})}))))}else{let{textAlign:n=c.textAlign,textBaseline:i=c.textBaseline}=t.attribute;if(!_){const e=n;n=null!==(u=t.getBaselineMapAlign()[i])&&void 0!==u?u:"left",i=null!==(h=t.getAlignMapBaseline()[e])&&void 0!==h?h:"top"}t.tryUpdateAABBBounds();const r=t.cache,{verticalList:o}=r;e.textAlign="left",e.textBaseline="top";const a=M*o.length;let s=0;o.forEach((t=>{const e=t.reduce(((t,e)=>t+(e.width||0)),0);s=(0,b.Fp)(e,s)}));let l=0,d=0;"bottom"===i?d=-a:"middle"===i&&(d=-a/2),"center"===n?l-=s/2:"right"===n&&(l-=s),o.forEach(((t,e)=>{const i=t.reduce(((t,e)=>t+(e.width||0)),0),r=s-i;let o=l;"center"===n?o+=r/2:"right"===n&&(o+=r),t.forEach((t=>{const{text:n,width:i,direction:r}=t;B(n,a-(e+1)*M+d,o,r),o+=i}))}))}P&&this.restoreTransformUseContext2d(t,c,E,e),this.afterRenderStep(t,e,n,i,R,I,T,k,c,r,a,s)}draw(t,e,n,i){const r=(0,p.gh)(t,null==i?void 0:i.theme).text,{keepDirIn3d:o=r.keepDirIn3d}=t.attribute,a=!o;this._draw(t,r,a,n,i)}drawUnderLine(t,e,n,i,r,o,a,s,l,u,h){if(e+t<=0)return;const{textAlign:c=l.textAlign,fill:d=l.fill,opacity:f=l.opacity,underlineOffset:p=l.underlineOffset,underlineDash:g=l.underlineDash,fillOpacity:v=l.fillOpacity}=n.attribute,y=!(0,w.Z)(h),b=y?h.width:n.clipedWidth,x=y?0:(0,m.js)(c,b),_={lineWidth:0,stroke:d,opacity:f,strokeOpacity:v};if(t){_.lineWidth=t,u.setStrokeStyle(n,_,i,r,l),g&&u.setLineDash(g),u.beginPath();const e=r+o+p;u.moveTo(i+x,e,s),u.lineTo(i+x+b,e,s),u.stroke()}if(e){_.lineWidth=e,u.setStrokeStyle(n,_,i,r,l),u.beginPath();const t=r+a;u.moveTo(i+x,t,s),u.lineTo(i+x+b,t,s),u.stroke()}}};A=C([(0,c.b)(),M(0,(0,d.f)(a.Qc)),M(0,(0,f.t)(u.$K)),S("design:paramtypes",[Object])],A);let T=!1;const k=new s.n((t=>{T||(T=!0,t(h.EY).to(A).inSingletonScope(),t(h.uz).toService(h.EY),t(u.$K).toService(l.Sg),(0,a.yb)(t,u.$K))}));var R=n(45584),I=n(35821),P=n(17974),E=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},B=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},L=function(t,e){return function(n,i){e(n,i,t)}};let D=class extends P.D{constructor(t){super(),this.canvasRenderer=t,this.type="text",this.numberType=g.Us}contains(t,e,n){const{pickContext:i}=null!=n?n:{};if(!i)return!1;const r=t.AABBBounds;if(!i.camera)return!!r.containsPoint(e);i.highPerformanceSave();const o=t.getGraphicTheme(),{keepDirIn3d:a=o.keepDirIn3d}=t.attribute,s=!a,l=this.transform(t,o,i,s),{x:u,y:h,z:c,lastModelMatrix:d}=l;this.canvasRenderer.z=c;let f=e;if(i.camera){f=e.clone();const n=t.parent.globalTransMatrix;f.x=n.a*e.x+n.c*e.y+n.e,f.y=n.b*e.x+n.d*e.y+n.f}let p=!1;return this.canvasRenderer.drawShape(t,i,u,h,{},null,((e,n,i)=>{if(p)return!0;const{fontSize:r=o.fontSize,textBaseline:a=o.textBaseline,textAlign:s=o.textAlign}=t.attribute,l=t.AABBBounds,d=l.height(),g=l.width(),v=(0,m.nV)(a,d,r),y=(0,m.js)(s,g);return e.rect(y+u,v+h,g,d,c),p=e.isPointInPath(f.x,f.y),p}),((t,e,n)=>p)),this.canvasRenderer.z=0,i.modelMatrix!==d&&y.yp.free(i.modelMatrix),i.modelMatrix=d,i.highPerformanceRestore(),p}};D=E([(0,c.b)(),L(0,(0,d.f)(h.EY)),B("design:paramtypes",[Object])],D);let O=!1;const F=new s.n(((t,e,n,i)=>{O||(O=!0,t(I.Sp).to(D).inSingletonScope(),t(I.EL).toService(I.Sp))}));var H=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let N=class{constructor(){this.type="text",this.numberType=g.Us}contains(t,e,n){return!!t.AABBBounds.containsPoint(e)}};N=H([(0,c.b)()],N);let z=!1;const W=new s.n(((t,e,n,i)=>{z||(z=!0,t(I.p1).to(N).inSingletonScope(),t(I.XN).toService(I.p1))}));function j(){j.__loaded||(j.__loaded=!0,r.i.RegisterGraphicCreator("text",i.r),o.n.load(k),o.n.load(R.X?F:W))}j.__loaded=!1;const V=j},67877:function(t,e,n){"use strict";n.d(e,{j:function(){return y}});var i=n(53227),r=n(51807);function o(t,e,n=1e-10,i=1e-10){const r=i,o=n*Math.max(t,e);return Math.abs(t-e)<=Math.max(r,o)}function a(t,e,n,i){return t>e&&!o(t,e,n,i)}function s(t,e,n,i){return t<e&&!o(t,e,n,i)}var l=n(94742),u=n(86235),h=n(19855),c=n(36280);const d=Symbol("implicit");class f extends c.s{specified(t){var e;return t?(this._specified=Object.assign(null!==(e=this._specified)&&void 0!==e?e:{},t),this):Object.assign({},this._specified)}_getSpecifiedValue(t){if(this._specified)return this._specified[t]}constructor(){super(),this.type=h._f.Ordinal,this._index=new Map,this._domain=[],this._ordinalRange=[],this._unknown=d}clone(){const t=(new f).domain(this._domain).range(this._ordinalRange).unknown(this._unknown);return this._specified&&t.specified(this._specified),t}calculateVisibleDomain(t){return(0,i.Z)(this._rangeFactorStart)&&(0,i.Z)(this._rangeFactorEnd)&&2===t.length?[this.invert(t[0]),this.invert(t[1])]:this._domain}scale(t){const e=`${t}`,n=this._getSpecifiedValue(e);if(void 0!==n)return n;let i=this._index.get(e);if(!i){if(this._unknown!==d)return this._unknown;i=this._domain.push(t),this._index.set(e,i)}const r=this._ordinalRange[(i-1)%this._ordinalRange.length];return this._fishEyeTransform?this._fishEyeTransform(r):r}invert(t){let e=0;for(;e<this._ordinalRange.length&&this._ordinalRange[e]!==t;)e++;return this._domain[(e-1)%this._domain.length]}domain(t){if(!t)return this._domain.slice();this._domain=[],this._index=new Map;for(const e of t){const t=`${e}`;this._index.has(t)||this._index.set(t,this._domain.push(e))}return this}range(t){if(!t)return this._ordinalRange.slice();const e=Array.from(t);return this._ordinalRange=e,this}index(t){var e;return this._index&&null!==(e=this._index.get(`${t}`))&&void 0!==e?e:-1}}var p=n(55424),g=n(49725);function m(t,e,n,i){const r=[];let o=t;for(;o<=e;)r.push(o),o+=n;return i&&r.reverse(),r}function v(t,e,n,i){let r,o;if(e=Math.floor(+e),t=Math.floor(+t),!(n=Math.floor(+n)))return[];if(t===e)return[t];if(r=e<t){const n=t;t=e,e=n}let a=(0,g.i)(1,e-t+1)(n);if(o=Math.floor((e-t+1)/a),!i)for(;Math.ceil((e-t+1)/o)>n&&a>1;)a-=1,o=Math.floor((e-t)/a);return m(t,e,o,r)}class y extends f{constructor(t){super(),this.type=h._f.Band,this._range=[0,1],this._step=void 0,this._bandwidth=void 0,this._isFixed=!1,this._round=!1,this._paddingInner=0,this._paddingOuter=0,this._align=.5,this._unknown=void 0,delete this.unknown,this.rescale(t)}rescale(t,e){if(t)return this;this._wholeRange=null;const n=this._calculateWholeRange(this._range,e),i=super.domain().length,r=n[1]<n[0];let o=n[Number(r)-0];const a=n[1-Number(r)],s=(0,p.U6)(i,this._paddingInner,this._paddingOuter);return this._step=(a-o)/Math.max(1,s||1),this._round&&(this._step=Math.floor(this._step)),o+=(a-o-this._step*(i-this._paddingInner))*this._align,this.isBandwidthFixed()||(this._bandwidth=this._step*(1-this._paddingInner)),this._round&&(o=Math.round(o),this.isBandwidthFixed()||(this._bandwidth=Math.round(this._bandwidth))),this._bandRangeState={reverse:r,start:r?o+this._step*(i-1):o,count:i},this.generateFishEyeTransform(),this}scale(t){if(!this._bandRangeState)return;const e=`${t}`,n=this._getSpecifiedValue(e);if(void 0!==n)return n;let i=this._index.get(e);if(!i){if(this._unknown!==d)return this._unknown;i=this._domain.push(t),this._index.set(e,i)}const{count:r,start:o,reverse:a}=this._bandRangeState,s=o+(i-1)%r*(a?-1:1)*this._step;return this._fishEyeTransform?this._fishEyeTransform(s):s}_calculateWholeRange(t,e){if(this._wholeRange)return this._wholeRange;if((this._minBandwidth||this._maxBandwidth)&&!this._isBandwidthFixedByUser()){let e;if((0,i.Z)(this._rangeFactorStart)&&(0,i.Z)(this._rangeFactorEnd)&&2===t.length){const n=(0,p.BK)(t,[this._rangeFactorStart,this._rangeFactorEnd]);e=Math.abs(n[1]-n[0])}else e=Math.abs(t[1]-t[0]);const n=(0,p.at)(super.domain().length,e,this._paddingInner,this._paddingOuter,this._round);n<this._minBandwidth?(this._bandwidth=this._minBandwidth,this._isFixed=!0):n>this._maxBandwidth?(this._bandwidth=this._maxBandwidth,this._isFixed=!0):(this._bandwidth=n,this._isFixed=!1)}if(this.isBandwidthFixed()){const n=(0,p.$l)(super.domain().length,this._bandwidth,this._paddingInner,this._paddingOuter)*Math.sign(t[1]-t[0]),r=Math.min((t[1]-t[0])/n,1);if((0,i.Z)(this._rangeFactorStart)&&(0,i.Z)(this._rangeFactorEnd)){if(n>0){const e=t[0]-n*this._rangeFactorStart,i=e+n;this._wholeRange=[e,i]}else{const e=t[1]+n*(1-this._rangeFactorEnd),i=e-n;this._wholeRange=[i,e]}const i=this._rangeFactorStart+r<=1,o=this._rangeFactorEnd-r>=0;"rangeFactorStart"===e&&i?this._rangeFactorEnd=this._rangeFactorStart+r:"rangeFactorEnd"===e&&o?this._rangeFactorStart=this._rangeFactorEnd-r:t[0]<=t[1]?i?this._rangeFactorEnd=this._rangeFactorStart+r:o?this._rangeFactorStart=this._rangeFactorEnd-r:(this._rangeFactorStart=0,this._rangeFactorEnd=r):o?this._rangeFactorStart=this._rangeFactorEnd-r:i?this._rangeFactorEnd=this._rangeFactorStart+r:(this._rangeFactorStart=1-r,this._rangeFactorEnd=1)}else this._rangeFactorStart=0,this._rangeFactorEnd=r,this._wholeRange=[t[0],t[0]+n];return this._wholeRange}return super._calculateWholeRange(t)}calculateWholeRangeSize(){const t=this._calculateWholeRange(this._range);return Math.abs(t[1]-t[0])}calculateVisibleDomain(t){const e=this._domain;if((0,i.Z)(this._rangeFactorStart)&&(0,i.Z)(this._rangeFactorEnd)&&e.length){const n=this._getInvertIndex(t[0]),i=this._getInvertIndex(t[1]);return e.slice(Math.min(n,i),Math.max(n,i)+1)}return e}domain(t,e){return t?(super.domain(t),this.rescale(e)):super.domain()}range(t,e){return t?(this._range=[(0,r.H)(t[0]),(0,r.H)(t[1])],this.rescale(e)):this._range}rangeRound(t,e){return this._range=[(0,r.H)(t[0]),(0,r.H)(t[1])],this._round=!0,this.rescale(e)}ticks(t=10){const e=this.calculateVisibleDomain(this._range);return-1===t?e:v(0,e.length-1,t,!1).map((t=>e[t]))}tickData(t=10){return this.ticks(t).map(((t,e)=>({index:e,tick:t,value:(this.scale(t)-this._range[0]+this._bandwidth/2)/(this._range[1]-this._range[0])})))}forceTicks(t=10){const e=this.calculateVisibleDomain(this._range);return v(0,e.length-1,t,!0).filter((t=>t<e.length)).map((t=>e[t]))}stepTicks(t){const e=this.calculateVisibleDomain(this._range);return function(t,e,n){let i;if(e=Math.floor(+e),t=Math.floor(+t),n=(0,g.i)(1,e-t+1)(Math.floor(+n)),i=e<t){const n=t;t=e,e=n}return m(t,e,n,i)}(0,e.length-1,t).map((t=>e[t]))}_getInvertIndex(t){let e=0;const n=this.step()/2,i=this.bandwidth()/2,r=this._domain.length,o=this.range(),l=o[0]>o[o.length-1];for(e=0;e<r;e++){const o=this.scale(this._domain[e])+i;if(0===e&&(!l&&!a(t,o+n)||l&&!s(t,o-n)))break;if(e===r-1)break;if(!s(t,o-n)&&!a(t,o+n))break}return e>=0&&e<=r-1?e:r-1}invert(t){return this._domain[this._getInvertIndex(t)]}padding(t,e){return void 0!==t?(this._paddingOuter=Math.max(0,Math.min(Array.isArray(t)?Math.min.apply(null,t):t)),this._paddingInner=this._paddingOuter,this.rescale(e)):this._paddingInner}paddingInner(t,e){return void 0!==t?(this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale(e)):this._paddingInner}paddingOuter(t,e){return void 0!==t?(this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale(e)):this._paddingOuter}step(){return this._step}round(t,e){return void 0!==t?(this._round=t,this.rescale(e)):this._round}align(t,e){return void 0!==t?(this._align=Math.max(0,Math.min(1,t)),this.rescale(e)):this._align}rangeFactor(t,e){return t?(super.rangeFactor(t),this.rescale(e)):super.rangeFactor()}rangeFactorStart(t,e){return(0,l.Z)(t)?super.rangeFactorStart():(super.rangeFactorStart(t),this.rescale(e,"rangeFactorStart"))}rangeFactorEnd(t,e){return(0,l.Z)(t)?super.rangeFactorEnd():(super.rangeFactorEnd(t),this.rescale(e,"rangeFactorEnd"))}bandwidth(t,e){return t?("auto"===t?(this._bandwidth=void 0,this._isFixed=!1):(this._bandwidth=t,this._isFixed=!0),this._userBandwidth=t,this.rescale(e)):this._bandwidth}maxBandwidth(t,e){return t?(this._maxBandwidth="auto"===t?void 0:t,this.rescale(e)):this._maxBandwidth}minBandwidth(t,e){return t?(this._minBandwidth="auto"===t?void 0:t,this.rescale(e)):this._minBandwidth}fishEye(t,e,n){return t||n?(this._fishEyeOptions=t,this._fishEyeTransform=null,this.rescale(e)):this._fishEyeOptions}isBandwidthFixed(){return this._isFixed&&!!this._bandwidth}_isBandwidthFixedByUser(){return this._isFixed&&this._userBandwidth&&(0,u.Z)(this._userBandwidth)}clone(){var t,e,n;return new y(!0).domain(this._domain,!0).range(this._range,!0).round(this._round,!0).paddingInner(this._paddingInner,!0).paddingOuter(this._paddingOuter,!0).align(this._align,!0).bandwidth(null!==(t=this._userBandwidth)&&void 0!==t?t:"auto",!0).maxBandwidth(null!==(e=this._maxBandwidth)&&void 0!==e?e:"auto",!0).minBandwidth(null!==(n=this._maxBandwidth)&&void 0!==n?n:"auto")}}},36280:function(t,e,n){"use strict";n.d(e,{s:function(){return s}});var i=n(53227),r=n(94742),o=n(32370),a=n(55424);class s{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(t){return this._wholeRange?this._wholeRange:(0,i.Z)(this._rangeFactorStart)&&(0,i.Z)(this._rangeFactorEnd)&&2===t.length?(this._wholeRange=(0,a.BK)(t,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):t}rangeFactor(t,e,n){return t?(2===t.length&&t.every((t=>t>=0&&t<=1))&&(this._wholeRange=null,0===t[0]&&1===t[1]?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=t[0],this._rangeFactorEnd=t[1])),this):n?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):(0,i.Z)(this._rangeFactorStart)&&(0,i.Z)(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(t,e){var n;return(0,r.Z)(t)?this._rangeFactorStart:(t>=0&&t<=1&&(this._wholeRange=null,0!==t||!(0,r.Z)(this._rangeFactorEnd)&&1!==this._rangeFactorEnd?(this._rangeFactorStart=t,this._rangeFactorEnd=null!==(n=this._rangeFactorEnd)&&void 0!==n?n:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(t,e){var n;return(0,r.Z)(t)?this._rangeFactorEnd:(t>=0&&t<=1&&(this._wholeRange=null,0!==t||!(0,r.Z)(this._rangeFactorStart)&&0!==this._rangeFactorStart?(this._rangeFactorEnd=t,this._rangeFactorStart=null!==(n=this._rangeFactorStart)&&void 0!==n?n:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var t;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:e=2,radiusRatio:n=.1,radius:i}=this._fishEyeOptions,a=this.range(),s=a[0],l=a[a.length-1],u=Math.min(s,l),h=Math.max(s,l),c=(0,o.Z)(null!==(t=this._fishEyeOptions.focus)&&void 0!==t?t:0,u,h),d=(0,r.Z)(i)?(h-u)*n:i;let f=Math.exp(e);f=f/(f-1)*d;const p=e/d;this._fishEyeTransform=t=>{const e=Math.abs(t-c);if(e>=d)return t;if(e<=1e-6)return c;const n=f*(1-Math.exp(-e*p))/e*.75+.25;return c+(t-c)*n}}unknown(t){return arguments.length?(this._unknown=t,this):this._unknown}get(t,e){var n;return null!==(n=null==this?void 0:this[t])&&void 0!==n?n:e}}},60109:function(t,e,n){"use strict";n.d(e,{y:function(){return P}});var i={};n.r(i),n.d(i,{interpolateRgb:function(){return _}});var r=n(36280),o=n(86235),a=n(9982),s=n(53227),l=n(94742),u=n(32370);function h(t,e,n){e/=100,n/=100;const i=(1-Math.abs(2*n-1))*e,r=i*(1-Math.abs(t/60%2-1)),o=n-i/2;let a=0,s=0,l=0;return 0<=t&&t<60?(a=i,s=r,l=0):60<=t&&t<120?(a=r,s=i,l=0):120<=t&&t<180?(a=0,s=i,l=r):180<=t&&t<240?(a=0,s=r,l=i):240<=t&&t<300?(a=r,s=0,l=i):300<=t&&t<360&&(a=i,s=0,l=r),a=Math.round(255*(a+o)),s=Math.round(255*(s+o)),l=Math.round(255*(l+o)),{r:a,g:s,b:l}}function c(t,e,n){t/=255,e/=255,n/=255;const i=Math.min(t,e,n),r=Math.max(t,e,n),o=r-i;let a=0,s=0,l=0;return a=0===o?0:r===t?(e-n)/o%6:r===e?(n-t)/o+2:(t-e)/o+4,a=Math.round(60*a),a<0&&(a+=360),l=(r+i)/2,s=0===o?0:o/(1-Math.abs(2*l-1)),s=+(100*s).toFixed(1),l=+(100*l).toFixed(1),{h:a,s:s,l:l}}const d=/^#([0-9a-f]{3,8})$/,f={transparent:4294967040},p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function m(t){return(0,o.Z)(t)?new x(t>>16,t>>8&255,255&t,1):(0,a.Z)(t)?new x(t[0],t[1],t[2]):new x(255,255,255)}function v(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function y(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}const b=(t,e)=>{const n=d.exec(t);if(e||n){const t=parseInt(n[1],16),e=n[1].length;return 3===e?new x((t>>8&15)+((t>>8&15)<<4),(t>>4&15)+((t>>4&15)<<4),(15&t)+((15&t)<<4),1):6===e?m(t):8===e?new x(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):null}};class w{static Brighter(t,e=1){return 1===e?t:new w(t).brighter(e).toRGBA()}static SetOpacity(t,e=1){return 1===e?t:new w(t).setOpacity(e).toRGBA()}static getColorBrightness(t,e="hsl"){const n=t instanceof w?t:new w(t);switch(e){case"hsv":default:return n.getHSVBrightness();case"hsl":return n.getHSLBrightness();case"lum":return n.getLuminance();case"lum2":return n.getLuminance2();case"lum3":return n.getLuminance3()}}static parseColorString(t){if((0,s.Z)(f[t]))return function(t){return(0,o.Z)(t)?new x(t>>>24,t>>>16&255,t>>>8&255,255&t):(0,a.Z)(t)?new x(t[0],t[1],t[2],t[3]):new x(255,255,255,1)}(f[t]);if((0,s.Z)(p[t]))return m(p[t]);const e=`${t}`.trim().toLowerCase(),n=b(e);if(void 0!==n)return n;if(/^(rgb|RGB|rgba|RGBA)/.test(e)){const t=e.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new x(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),parseFloat(t[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(e)){const t=e.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),n=h(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10));return new x(n.r,n.g,n.b,parseFloat(t[3]))}}constructor(t){const e=w.parseColorString(t);e?this.color=e:(console.warn(`Warn: ${t}Color`),this.color=new x(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(t){const{r:e,g:n,b:i}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(e*t))),this.color.g=Math.max(0,Math.min(255,Math.floor(n*t))),this.color.b=Math.max(0,Math.min(255,Math.floor(i*t))),this}add(t){const{r:e,g:n,b:i}=this.color;return this.color.r+=Math.min(255,e+t.color.r),this.color.g+=Math.min(255,n+t.color.g),this.color.b+=Math.min(255,i+t.color.b),this}sub(t){return this.color.r=Math.max(0,this.color.r-t.color.r),this.color.g=Math.max(0,this.color.g-t.color.g),this.color.b=Math.max(0,this.color.b-t.color.b),this}multiply(t){const{r:e,g:n,b:i}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(e*t.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(n*t.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(i*t.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return.5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(t,e,n){const i=this.color.opacity,r=c(this.color.r,this.color.g,this.color.b),o=h((0,l.Z)(t)?r.h:(0,u.Z)(t,0,360),(0,l.Z)(e)?r.s:e>=0&&e<=1?100*e:e,(0,l.Z)(n)?r.l:n<=1&&n>=0?100*n:n);return this.color=new x(o.r,o.g,o.b,i),this}setRGB(t,e,n){return!(0,l.Z)(t)&&(this.color.r=t),!(0,l.Z)(e)&&(this.color.g=e),!(0,l.Z)(n)&&(this.color.b=n),this}setHex(t){const e=`${t}`.trim().toLowerCase(),n=b(e,!0);return null!=n?n:this}setColorName(t){const e=p[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}setScalar(t){return this.color.r=t,this.color.g=t,this.color.b=t,this}setOpacity(t=1){return this.color.opacity=t,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}clone(){return new w(this.color.toString())}copyGammaToLinear(t,e=2){return this.color.r=Math.pow(t.color.r,e),this.color.g=Math.pow(t.color.g,e),this.color.b=Math.pow(t.color.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.color.r=Math.pow(t.color.r,n),this.color.g=Math.pow(t.color.g,n),this.color.b=Math.pow(t.color.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.color.r=v(t.color.r),this.color.g=v(t.color.g),this.color.b=v(t.color.b),this}copyLinearToSRGB(t){return this.color.r=y(t.color.r),this.color.g=y(t.color.g),this.color.b=y(t.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class x{constructor(t,e,n,i){this.r=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.g=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.b=isNaN(+n)?255:Math.max(0,Math.min(255,+n)),(0,s.Z)(i)?this.opacity=isNaN(+i)?1:Math.max(0,Math.min(1,+i)):this.opacity=1}formatHex(){return`#${g(this.r)+g(this.g)+g(this.b)+(1===this.opacity?"":g(255*this.opacity))}`}formatRgb(){const t=this.opacity;return`${1===t?"rgb(":"rgba("}${this.r},${this.g},${this.b}${1===t?")":`,${t})`}`}formatHsl(){const t=this.opacity,{h:e,s:n,l:i}=c(this.r,this.g,this.b);return`${1===t?"hsl(":"hsla("}${e},${n}%,${i}%${1===t?")":`,${t})`}`}toString(){return this.formatHex()}}function _(t,e){const n=t.r,i=e.r,r=t.g,o=e.g,a=t.b,s=e.b,l=t.opacity,u=e.opacity;return t=>{const e=Math.round(n*(1-t)+i*t),h=Math.round(r*(1-t)+o*t),c=Math.round(a*(1-t)+s*t);return new x(e,h,c,l*(1-t)+u*t)}}function C(t,e){return n=>t*(1-n)+e*n}function S(t,e){return function(n){return Math.round(t*(1-n)+e*n)}}const M=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;new RegExp(M.source,"g");const{interpolateRgb:A}=i;function T(t,e){const n=typeof e;let i;if((0,l.Z)(e)||"boolean"===n)return()=>e;if("number"===n)return C(t,e);if("string"===n){if(i=w.parseColorString(e)){const e=A(w.parseColorString(t),i);return t=>e(t).formatRgb()}return C(Number(t),Number(e))}return e instanceof x?A(t,e):e instanceof w?A(t.color,e.color):e instanceof Date?function(t,e){const n=t.valueOf(),i=e.valueOf(),r=new Date;return t=>(r.setTime(n*(1-t)+i*t),r)}(t,e):C(Number(t),Number(e))}var k=n(55424),R=n(51807),I=n(49725);class P extends r.s{constructor(t=k.yR,e=k.yR){super(),this._unknown=void 0,this.transformer=t,this.untransformer=e,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=k.yR,this._piecewise=k.Pd,this._interpolate=T}calculateVisibleDomain(t){var e;return(0,s.Z)(this._rangeFactorStart)&&(0,s.Z)(this._rangeFactorEnd)&&2===t.length?[this.invert(t[0]),this.invert(t[1])]:null!==(e=this._niceDomain)&&void 0!==e?e:this._domain}fishEye(t,e,n){return t||n?(this._fishEyeOptions=t,this._fishEyeTransform=null,this.rescale(e)):this._fishEyeOptions}scale(t){var e;if(t=Number(t),Number.isNaN(t)||this._domainValidator&&!this._domainValidator(t))return this._unknown;this._output||(this._output=this._piecewise((null!==(e=this._niceDomain)&&void 0!==e?e:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const n=this._output(this.transformer(this._clamp(t)));return this._fishEyeTransform?this._fishEyeTransform(n):n}invert(t){var e;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),(null!==(e=this._niceDomain)&&void 0!==e?e:this._domain).map(this.transformer),C)),this._clamp(this.untransformer(this._input(t)))}domain(t,e){var n;if(!t)return(null!==(n=this._niceDomain)&&void 0!==n?n:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const i=Array.from(t,R.H);return this._domain=i,this.rescale(e)}range(t,e){if(!t)return this._range.slice();const n=Array.from(t);return this._range=n,this.rescale(e)}rangeRound(t,e){const n=Array.from(t);return this._range=n,this._interpolate=S,this.rescale(e)}rescale(t){var e;if(t)return this;const n=null!==(e=this._niceDomain)&&void 0!==e?e:this._domain,i=n.length,r=this._range.length;let o=Math.min(i,r);if(i&&i<r&&this._forceAlign){const t=r-i+1,e=n[i-1],a=i>=2?(e-n[i-2])/t:0;for(let r=1;r<=t;r++)n[i-2+r]=e-a*(t-r);o=r}return this._autoClamp&&(this._clamp=(0,I.i)(n[0],n[o-1])),this._piecewise=o>2?k.PP:k.Pd,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(t,e,n){return arguments.length?(e?(this._autoClamp=!1,this._clamp=e):(this._autoClamp=!!t,this._clamp=t?void 0:k.yR),this.rescale(n)):this._clamp!==k.yR}interpolate(t,e){return arguments.length?(this._interpolate=t,this.rescale(e)):this._interpolate}ticks(t=10){return[]}tickData(t=10){const e=this.ticks(t);return(null!=e?e:[]).map(((t,e)=>({index:e,tick:t,value:(this.scale(t)-this._range[0])/(this._range[1]-this._range[0])})))}rangeFactor(t,e){return t?(super.rangeFactor(t),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(t,e){return(0,l.Z)(t)?super.rangeFactorStart():(super.rangeFactorStart(t),this._output=this._input=null,this)}rangeFactorEnd(t,e){return(0,l.Z)(t)?super.rangeFactorEnd():(super.rangeFactorEnd(t),this._output=this._input=null,this)}forceAlignDomainRange(t){return arguments.length?(this._forceAlign=t,this):this._forceAlign}}},18416:function(t,e,n){"use strict";n.d(e,{f:function(){return l}});var i=n(19855),r=n(94373),o=n(60109);var a=t=>"function"==typeof t,s=n(53227);class l extends o.y{constructor(){super(...arguments),this.type=i._f.Linear}clone(){return(new l).domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate)}tickFormat(){return()=>{}}d3Ticks(t=10,e){const n=this.calculateVisibleDomain(this._range);return(0,r.Z6)(n[0],n[n.length-1],t,e)}ticks(t=10,e){var n;if(a(null==e?void 0:e.customTicks))return e.customTicks(this,t);if((0,s.Z)(this._rangeFactorStart)&&(0,s.Z)(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&2===this._range.length||!this._niceType)return this.d3Ticks(t,e);const i=null!==(n=this._niceDomain)&&void 0!==n?n:this._domain,o=this._domain,l=i[0],u=i[i.length-1];let h=(0,r.sd)(o[0],o[o.length-1],t,e);if(!h.length)return h;if(this._domainValidator)h=h.filter(this._domainValidator);else if((h[0]!==l||h[h.length-1]!==u)&&this._niceType){const t=i.slice();if("all"===this._niceType?(t[0]=h[0],t[t.length-1]=h[h.length-1],this._niceDomain=t,this.rescale()):"min"===this._niceType&&h[0]!==l?(t[0]=h[0],this._niceDomain=t,this.rescale()):"max"===this._niceType&&h[h.length-1]!==u&&(t[t.length-1]=h[h.length-1],this._niceDomain=t,this.rescale()),"all"!==this._niceType){const e=Math.min(t[0],t[t.length-1]),n=Math.max(t[0],t[t.length-1]);h=h.filter((t=>t>=e&&t<=n))}}return h}forceTicks(t=10){const e=this.calculateVisibleDomain(this._range);return(0,r.S8)(e[0],e[e.length-1],t)}stepTicks(t){const e=this.calculateVisibleDomain(this._range);return(0,r.Hb)(e[0],e[e.length-1],t)}nice(t=10,e){var n,i;const o=this._domain;let a=[];if(e){const t=(0,r.OQ)(o,e);if(a=t.niceMinMax,this._domainValidator=t.domainValidator,this._niceType=t.niceType,t.niceDomain)return this._niceDomain=t.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const e=(0,r.EL)(o.slice(),t);"min"===this._niceType?e[e.length-1]=null!==(n=a[1])&&void 0!==n?n:e[e.length-1]:"max"===this._niceType&&(e[0]=null!==(i=a[0])&&void 0!==i?i:e[0]),this._niceDomain=e,this.rescale()}return this}niceMin(t=10){this._niceType="min";const e=this._domain[this._domain.length-1],n=(0,r.EL)(this.domain(),t);return n&&(n[n.length-1]=e,this._niceDomain=n,this.rescale()),this}niceMax(t=10){this._niceType="max";const e=this._domain[0],n=(0,r.EL)(this._domain.slice(),t);return n&&(n[0]=e,this._niceDomain=n,this.rescale()),this}}},72607:function(t,e,n){"use strict";n.d(e,{n:function(){return o}});var i=n(94373),r=n(55424);class o{nice(t=10,e){var n,o,a,s;const l=this._domain;let u=[],h=null;if(e){const t=(0,i.OQ)(l,e);if(u=t.niceMinMax,this._domainValidator=t.domainValidator,h=t.niceType,t.niceDomain)return this._niceDomain=t.niceDomain,this.rescale(),this}else h="all";if(h){const t=(0,r.kx)(l.slice(),null!==(o=null===(n=this.getNiceConfig)||void 0===n?void 0:n.call(this))&&void 0!==o?o:{floor:t=>Math.floor(t),ceil:t=>Math.ceil(t)});return"min"===h?t[t.length-1]=null!==(a=u[1])&&void 0!==a?a:t[t.length-1]:"max"===h&&(t[0]=null!==(s=u[0])&&void 0!==s?s:t[0]),this._niceDomain=t,this.rescale(),this}return this}niceMin(){const t=this._domain[this._domain.length-1];this.nice();const e=this._domain.slice();return this._domain&&(e[e.length-1]=t,this._niceDomain=e,this.rescale()),this}niceMax(){const t=this._domain[0];this.nice();const e=this._domain.slice();return this._domain&&(e[0]=t,this._niceDomain=e,this.rescale()),this}}},99856:function(t,e,n){"use strict";n.d(e,{Y:function(){return c}});var i=n(94373),r=n(60109),o=n(19855),a=n(55424),s=n(43697),l=n(72607);function u(t){return e=>-t(-e)}function h(t=Number.EPSILON){return e=>Math.max(e,t)}class c extends r.y{constructor(){super((0,a.J7)(10),(0,a.ye)(10)),this.type=o._f.Log,this._limit=h(),this._logs=this.transformer,this._pows=this.untransformer,this._domain=[1,10],this._base=10}clone(){return(new c).domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate,!0).base(this._base)}rescale(t){var e;if(t)return this;super.rescale();const n=(0,a.J7)(this._base),i=(0,a.ye)(this._base);return(null!==(e=this._niceDomain)&&void 0!==e?e:this._domain)[0]<0?(this._logs=u(n),this._pows=u(i),this._limit=function(t=Number.EPSILON){return e=>Math.min(e,-t)}(),this.transformer=a.op,this.untransformer=a.ge):(this._logs=n,this._pows=i,this._limit=h(),this.transformer=this._logs,this.untransformer=i),this}scale(t){var e;if(t=Number(t),Number.isNaN(t)||this._domainValidator&&!this._domainValidator(t))return this._unknown;this._output||(this._output=this._piecewise((null!==(e=this._niceDomain)&&void 0!==e?e:this._domain).map(this._limit).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const n=this._output(this.transformer(this._limit(this._clamp(t))));return this._fishEyeTransform?this._fishEyeTransform(n):n}base(t,e){return arguments.length?(this._base=t,this.rescale(e)):this._base}tickFormat(){return a.yR}d3Ticks(t=10,e){const n=this.domain(),r=this._limit(n[0]),o=this._limit(n[n.length-1]);return(0,i.e3)(r,o,t,this._base,this.transformer,this.untransformer,e)}ticks(t=10){const e=this.calculateVisibleDomain(this._range);return(0,i.jb)(this._limit(e[0]),this._limit(e[e.length-1]),t,this._base,this.transformer,this.untransformer)}forceTicks(t=10){const e=this.calculateVisibleDomain(this._range);return(0,i.RX)(e[0],e[e.length-1],t,this.transformer,this.untransformer)}stepTicks(t){const e=this.calculateVisibleDomain(this._range);return(0,i.RX)(this._limit(e[0]),this._limit(e[e.length-1]),t,this.transformer,this.untransformer)}getNiceConfig(){return{floor:t=>this._pows(Math.floor(this._logs(this._limit(t)))),ceil:t=>Math.abs(t)>=1?Math.ceil(t):this._pows(Math.ceil(this._logs(this._limit(t))))}}}(0,s.jB)(c,l.n)},25880:function(t,e,n){"use strict";n.d(e,{g:function(){return u}});var i=n(43697),r=n(18416),o=n(19855),a=n(94373),s=n(55424),l=n(72607);class u extends r.f{constructor(){super((0,s.QG)(1),(0,s.Xw)(1)),this.type=o._f.Symlog,this._const=1}clone(){return(new u).domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate,!0).constant(this._const)}constant(t,e){return arguments.length?(this._const=t,this.transformer=(0,s.QG)(t),this.untransformer=(0,s.Xw)(t),this.rescale(e)):this._const}d3Ticks(t=10,e){const n=this.domain(),i=n[0],r=n[n.length-1];return(0,a.e3)(i,r,t,this._const,this.transformer,this.untransformer,e)}ticks(t=10){const e=this.calculateVisibleDomain(this._range);return(0,a.jb)(e[0],e[e.length-1],t,this._const,this.transformer,this.untransformer)}forceTicks(t=10){const e=this.calculateVisibleDomain(this._range);return(0,a.RX)(e[0],e[e.length-1],t,this.transformer,this.untransformer)}stepTicks(t){const e=this.calculateVisibleDomain(this._range);return(0,a.RX)(e[0],e[e.length-1],t,this.transformer,this.untransformer)}}(0,i.jB)(u,l.n)},19855:function(t,e,n){"use strict";var i;n.d(e,{_f:function(){return i}}),function(t){t.Identity="identity",t.Linear="linear",t.Log="log",t.Pow="pow",t.Sqrt="sqrt",t.Symlog="symlog",t.Time="time",t.Quantile="quantile",t.Quantize="quantize",t.Threshold="threshold",t.Ordinal="ordinal",t.Point="point",t.Band="band"}(i||(i={}));const r={};Object.values(i).forEach((t=>{r[t]=!0}))},94373:function(t,e,n){"use strict";n.d(e,{Z6:function(){return d},e3:function(){return _},S8:function(){return v},RX:function(){return S},EL:function(){return b},OQ:function(){return w},Hb:function(){return y},sd:function(){return p},jb:function(){return C}});var i=n(53227);const r=t=>{let e=null,n=null;return(...i)=>(e&&i.every(((t,n)=>t===e[n]))||(e=i,n=t(...i)),n)};var o=n(86235),a=n(55424);const s=Math.sqrt(50),l=Math.sqrt(10),u=Math.sqrt(2),h=[1,2,5,10],c=(t,e,n)=>{let r=1,o=t;const a=Math.floor((e-1)/2),s=Math.abs(t);return t>=0&&t<=Number.MIN_VALUE?o=0:t<0&&t>=-Number.MIN_VALUE?o=-(e-1):!n&&s<1?r=g(s).step:(n||s>1)&&(o=Math.floor(t)-a*r),r>0?(t>0?o=Math.max(o,0):t<0&&(o=Math.min(o,-(e-1)*r)),function(t,e,n){(0,i.Z)(e)||(e=t,t=0),(0,i.Z)(n)||(n=1);let r=-1;const o=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(o);for(;++r<o;)a[r]=t+r*n;return a}(0,e).map((t=>o+t*r))):t>0?f(0,-(e-1)/r,r):f((e-1)/r,0,r)},d=r(((t,e,n,i)=>{let r,o,a,s,l=-1;if(n=+n,(t=+t)==(e=+e))return[t];if(Math.abs(t-e)<=Number.MIN_VALUE&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),s=m(t,e,n).step,!isFinite(s))return[];if(s>0){let n=Math.round(t/s),i=Math.round(e/s);for(n*s<t&&++n,i*s>e&&--i,a=new Array(o=i-n+1);++l<o;)a[l]=(n+l)*s}else if(s<0&&(null==i?void 0:i.noDecimals)){s=1;const n=Math.ceil(t),i=Math.floor(e);if(!(n<=i))return[];for(a=new Array(o=i-n+1);++l<o;)a[l]=n+l}else{s=-s;let n=Math.round(t*s),i=Math.round(e*s);for(n/s<t&&++n,i/s>e&&--i,a=new Array(o=i-n+1);++l<o;)a[l]=(n+l)/s}return r&&a.reverse(),a})),f=(t,e,n)=>{let i,r,o=-1;if(n>0){let a=Math.floor(t/n),s=Math.ceil(e/n);for((a+1)*n<t&&++a,(s-1)*n>e&&--s,r=new Array(i=s-a+1);++o<i;)r[o]=(a+o)*n}else{n=-n;let a=Math.floor(t*n),s=Math.ceil(e*n);for((a+1)/n<t&&++a,(s-1)/n>e&&--s,r=new Array(i=s-a+1);++o<i;)r[o]=(a+o)/n}return r},p=r(((t,e,n,i)=>{let r,o,a;if(n=+n,(t=+t)==(e=+e))return c(t,n,null==i?void 0:i.noDecimals);if(Math.abs(t-e)<=Number.MIN_VALUE&&n>0)return c(t,n,null==i?void 0:i.noDecimals);(r=e<t)&&(a=t,t=e,e=a);const s=m(t,e,n);let l=s.step;if(!isFinite(l))return[];if(l>0){let i=1;const{power:r,gap:a}=s,u=10===a?2*10**r:1*10**r;for(;i<=5&&(o=f(t,e,l),o.length>n+1)&&n>2;)l+=u,i+=1;n>2&&o.length<n-1&&(o=((t,e,n)=>{let i;const r=t[0],o=t[t.length-1],a=e-t.length;if(o<=0){const e=[];for(i=a;i>=1;i--)e.push(r-i*n);return e.concat(t)}if(r>=0){for(i=1;i<=a;i++)t.push(o+i*n);return t}let s=[];const l=[];for(i=1;i<=a;i++)i%2==0?s=[r-Math.floor(i/2)*n].concat(s):l.push(o+Math.ceil(i/2)*n);return s.concat(t).concat(l)})(o,n,l))}else(null==i?void 0:i.noDecimals)&&l<0&&(l=1),o=f(t,e,l);return r&&o.reverse(),o})),g=t=>{const e=Math.floor(Math.log(t)/Math.LN10),n=t/10**e;let i=h[0];return n>=s?i=h[3]:n>=l?i=h[2]:n>=u&&(i=h[1]),e>=0?{step:i*10**e,gap:i,power:e}:{step:-(10**-e)/i,gap:i,power:e}};function m(t,e,n){const i=(e-t)/Math.max(0,n);return g(i)}function v(t,e,n){let i;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if(n<=0||0===(i=function(t,e,n){return(e-t)/Math.max(1,n-1)}(t,e,n))||!isFinite(i))return[];const r=new Array(n);for(let e=0;e<n;e++)r[e]=t+e*i;return r}function y(t,e,n){let i,r,o=-1;if(n=+n,(r=(e=+e)<(t=+t))&&(i=t,t=e,e=i),!isFinite(n)||e-t<=n)return[t];const a=Math.floor((e-t)/n+1),s=new Array(a);for(;++o<a;)s[o]=t+o*n;return r&&s.reverse(),s}function b(t,e=10){let n,i,r=0,o=t.length-1,a=t[r],s=t[o],l=10;for(s<a&&(i=a,a=s,s=i,i=r,r=o,o=i);l-- >0;){if(i=m(a,s,e).step,i===n)return t[r]=a,t[o]=s,t;if(i>0)a=Math.floor(a/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;a=Math.ceil(a*i)/i,s=Math.floor(s*i)/i}n=i}}function w(t,e){const n=(0,o.Z)(e.forceMin),i=(0,o.Z)(e.forceMax);let r=null;const a=[];let s=null;const l=n&&i?t=>t>=e.forceMin&&t<=e.forceMax:n?t=>t>=e.forceMin:i?t=>t<=e.forceMax:null;return n?a[0]=e.forceMin:(0,o.Z)(e.min)&&e.min<=Math.min(t[0],t[t.length-1])&&(a[0]=e.min),i?a[1]=e.forceMax:(0,o.Z)(e.max)&&e.max>=Math.max(t[0],t[t.length-1])&&(a[1]=e.max),(0,o.Z)(a[0])&&(0,o.Z)(a[1])?(s=t.slice(),s[0]=a[0],s[s.length-1]=a[1]):r=(0,o.Z)(a[0])||(0,o.Z)(a[1])?(0,o.Z)(a[0])?"max":"min":"all",{niceType:r,niceDomain:s,niceMinMax:a,domainValidator:l}}const x=(t,e,n)=>Math.abs(e-t)<1?+n.toFixed(1):Math.round(+n),_=r(((t,e,n,i,r,o,a)=>{let s=t,l=e;const u=l<s;u&&([s,l]=[l,s]);let h,c,d=r(s),f=r(l),g=[];if(!(i%1)&&f-d<n){if(d=Math.floor(d),f=Math.ceil(f),s>0){for(;d<=f;++d)for(h=1;h<i;++h)if(c=d<0?h/o(-d):h*o(d),!(c<s)){if(c>l)break;g.push(c)}}else for(;d<=f;++d)for(h=i-1;h>=1;--h)if(c=d>0?h/o(-d):h*o(d),!(c<s)){if(c>l)break;g.push(c)}2*g.length<n&&(g=p(s,l,n))}else g=p(d,f,Math.min(f-d,n)).map(o);return g=g.filter((t=>0!==t)),(null==a?void 0:a.noDecimals)&&(g=Array.from(new Set(g.map((t=>Math.floor(t)))))),u?g.reverse():g})),C=r(((t,e,n,i,r,o)=>{const s=[],l={},u=r(t),h=r(e);let c=[];if(Number.isInteger(i))c=p(u,h,n);else{const t=(h-u)/(n-1);for(let e=0;e<n;e++)c.push(u+e*t)}return c.forEach((n=>{const r=o(n),u=Number.isInteger(i)?x(t,e,r):x(t,e,(0,a.ok)(r)),h=x(t,e,(0,a.uT)(u,[t,e]));!l[h]&&!isNaN(h)&&c.length>1&&(l[h]=1,s.push(h))})),s})),S=r(((t,e,n,i,r)=>v(i(t),i(e),n).map((t=>(0,a.ok)(r(t))))));r(((t,e,n,i,r)=>y(i(t),i(e),n).map((t=>(0,a.ok)(r(t))))))},55424:function(t,e,n){"use strict";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}n.d(e,{U6:function(){return g},Pd:function(){return p},at:function(){return v},BK:function(){return y},ge:function(){return s},yR:function(){return o},op:function(){return a},J7:function(){return h},kx:function(){return w},ok:function(){return x},PP:function(){return b},ye:function(){return u},uT:function(){return _},$l:function(){return m},Xw:function(){return d},QG:function(){return c}});var r=n(94742);function o(t){return t}const a=t=>-Math.log(-t),s=t=>-Math.exp(-t),l=t=>isFinite(t)?Math.pow(10,t):t<0?0:t,u=t=>10===t?l:t===Math.E?Math.exp:e=>Math.pow(t,e),h=t=>t===Math.E?Math.log:10===t?Math.log10:2===t?Math.log2:(t=Math.log(t),e=>Math.log(e)/t),c=t=>e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),d=t=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*t;function f(t,e){if(t=Number(t),e=Number(e),e-=t)return n=>(n-t)/e;const n=Number.isNaN(e)?NaN:.5;return()=>n}function p(t,e,n){const i=t[0],r=t[1],o=e[0],a=e[1];let s,l;return r<i?(s=f(r,i),l=n(a,o)):(s=f(i,r),l=n(o,a)),t=>l(s(t))}function g(t,e,n){let i;return i=1===t?t+2*n:t-e+2*n,t?i>0?i:1:0}function m(t,e,n,i){return 1===n&&(n=0),g(t,n,i)*(e/(1-n))}function v(t,e,n,i,r){const o=g(t,n,i);let a=e/Math.max(1,o||1);r&&(a=Math.floor(a));let s=a*(1-n);return r&&(s=Math.round(s)),s}function y(t,e){const n=(t[1]-t[0])/(e[1]-e[0]),i=t[0]-n*e[0];return[i,n+i]}function b(t,e,n){const o=Math.min(t.length,e.length)-1,a=new Array(o),s=new Array(o);let l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<o;)a[l]=f(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(e){const n=function(t,e,n=0,o){for((0,r.Z)(o)&&(o=t.length);n<o;){const r=n+o>>>1;i(t[r],e)>0?o=r:n=r+1}return n}(t,e,1,o)-1;return s[n](a[n](e))}}const w=(t,e)=>{const n=t.slice();let i=0,r=n.length-1,o=n[i],a=n[r];return a<o&&([i,r]=[r,i],[o,a]=[a,o]),n[i]=e.floor(o),n[r]=e.ceil(a),n},x=(t,e=!1)=>{const n=Math.floor(Math.log10(t)),i=t/Math.pow(10,n);let r;return r=e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,r*Math.pow(10,n)},_=(t,e)=>{let n,i;return e[0]<e[1]?(n=e[0],i=e[1]):(n=e[1],i=e[0]),Math.min(Math.max(t,n),i)}},76535:function(t,e,n){"use strict";n.d(e,{s:function(){return S}});var i=n(55309),r=n.n(i);function o(t,e){let n="";for(let e=t+1;e>0;e=Math.floor((e-1)/26))n=String.fromCharCode((e-1)%26+65)+n;return n+(e+1)}var a=n(66990);function s(t){if(!t)return[0,0,0];if(t.startsWith("#")){let e=t.substring(1);return 3===e.length&&(e=e.replace(/(.)/g,"$1$1")),[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}if(t.startsWith("rgb("))return t.substring(4,t.length-1).split(",").map(Number);if(t.startsWith("rgba("))return t.substring(5,t.length-1).split(",").map(Number);if((0,a.Z)(h[t]))return[(e=h[t])>>16,e>>8&255,255&e,1];var e;if((0,a.Z)(u[t]))return function(t){return[t>>>24,t>>>16&255,t>>>8&255,255&t]}(u[t]);throw new Error("Unsupported color format")}function l(t){if(3===t.length&&t.push(1),4!==t.length)throw new Error("Invalid RGBA array");const[e,n,i,r]=t.map(Math.round);return`${Math.round(255*r).toString(16).padStart(2,"0")}${e.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}const u={transparent:4294967040},h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function c(t,e){return{name:(i=t.fontFamily,i.split(",").map((t=>t.trim()))[0]||"Arial"),size:t.fontSize||10,bold:(n=t.fontWeight,"number"==typeof n?n>=600:Number(n)>=600||"bold"===n),italic:"italic"===t.fontStyle,color:m("link"===e?t._linkColor:t.color),underline:t.underline};var n,i}function d(t){return{type:"pattern",pattern:"solid",fgColor:m(t.bgColor)}}function f(t){var e,n,i,r,o,a,s,l;const{borderColor:u,borderLineWidth:h,borderLineDash:c,_strokeArrayWidth:d,_strokeArrayColor:f}=t;if(f||d){const t={};return f&&!f[0]||d&&!d[0]||(t.top={style:p(null!==(e=null==d?void 0:d[0])&&void 0!==e?e:h,c),color:m(null!==(n=null==f?void 0:f[0])&&void 0!==n?n:u)}),f&&!f[1]||d&&!d[1]||(t.right={style:p(null!==(i=null==d?void 0:d[1])&&void 0!==i?i:h,c),color:m(null!==(r=null==f?void 0:f[1])&&void 0!==r?r:u)}),f&&!f[2]||d&&!d[2]||(t.bottom={style:p(null!==(o=null==d?void 0:d[2])&&void 0!==o?o:h,c),color:m(null!==(a=null==f?void 0:f[2])&&void 0!==a?a:u)}),f&&!f[3]||d&&!d[3]||(t.left={style:p(null!==(s=null==d?void 0:d[3])&&void 0!==s?s:h,c),color:m(null!==(l=null==f?void 0:f[3])&&void 0!==l?l:u)}),t}if(0===h)return{};const g={style:p(h,c),color:m(u)};return{top:g,left:g,bottom:g,right:g}}function p(t,e){return e&&e.length?t<=2?"dashed":"mediumDashed":t<=.5?"hair":t<=1?"thin":t<=2?"medium":"thick"}function g(t,e){return{horizontal:t.textAlign||"left",vertical:t.textBaseline||"middle",wrapText:t.autoWrapText||!1,indent:e||0}}function m(t){return{argb:l(s(t))}}var v=n(25946),y=n(65833),b=n(36656),w=n(68725),x=n(70375);function _(t,e,n){var i,r,o;let a=0;const s=n.internalProps.layoutMap;if(s.isHeader(t,e)){const n=s.getHeader(t,e);(0,x.Z)(null==n?void 0:n.hierarchyLevel)&&(a=(null!==(i=n.hierarchyLevel)&&void 0!==i?i:0)*(null!==(r=s.rowHierarchyIndent)&&void 0!==r?r:0))}else{const i=n.getBodyColumnDefine(t,e);if(null==i?void 0:i.tree){const i=n.dataSource.getIndexKey(n.getRecordShowIndexByCell(t,e));a=Array.isArray(i)&&"none"!==n.getHierarchyState(t,e)?(i.length-1)*(null!==(o=s.hierarchyIndent)&&void 0!==o?o:0):0}}return a}var C=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};function S(t,e){return C(this,void 0,void 0,(function*(){const n=new(r().Workbook),i=n.addWorksheet("sheet1");i.properties.defaultRowHeight=40;const a=[],s=t.rowCount-1,l=t.colCount-1,u=[],h=new Set;for(let r=0;r<=l;r++){const o=t.getColWidth(r);a[r]={width:o/6};for(let o=0;o<=s;o++){if(0===r){const e=t.getRowHeight(o);i.getRow(o+1).height=e}yield M(r,o,t,i,n,e);const a=t.getCellRange(r,o);if(a.start.col!==a.end.col||a.start.row!==a.end.row){const t=`${a.start.col},${a.start.row}:${a.end.col},${a.end.row}}`;h.has(t)||(h.add(t),u.push(a))}}}i.columns=a,u.forEach((t=>{i.mergeCells(t.start.row+1,t.start.col+1,t.end.row+1,t.end.col+1)}));const c=[];return t.frozenRowCount>0&&c.push({state:"frozen",ySplit:t.frozenRowCount,topLeftCell:o(0,t.frozenRowCount)}),t.frozenColCount>0&&c.push({state:"frozen",xSplit:t.frozenColCount,topLeftCell:o(t.frozenColCount,0)}),i.views=c,(null==e?void 0:e.excelJSWorksheetCallback)&&e.excelJSWorksheetCallback(i),yield n.xlsx.writeBuffer()}))}function M(t,e,n,i,r,a){var s;return C(this,void 0,void 0,(function*(){const{layoutMap:l}=n.internalProps,u=n.getCellType(t,e),h=n.getCellRawRecord(t,e);let p=null!==(s=h&&h.vtableMergeName)&&void 0!==s?s:n.getCellValue(t,e);var m;(m=p)&&("object"==typeof m||"function"==typeof m)&&"function"==typeof m.then&&(p=yield p);const y=n.getCellStyle(t,e),b=n.getCellLocation(t,e),x="body"!==b?n.getHeaderDefine(t,e):n.getBodyColumnDefine(t,e);let C,S,M,T;if(("body"!==b||(null==x?void 0:x.dragOrder)||!!(null==x?void 0:x.icon)||!!(null==x?void 0:x.tree))&&(C=n.getCellIcons(t,e)),"body"!==b?(S=null==x?void 0:x.headerCustomRender,M=null==x?void 0:x.headerCustomLayout):(S=(null==x?void 0:x.customRender)||n.customRender,M=null==x?void 0:x.customLayout),null==a?void 0:a.formatExportOutput){const r={cellType:u,cellValue:p,table:n,col:t,row:e},s=a.formatExportOutput(r);if(void 0!==s){let r=i.getCell(o(t,e));r.value=s,r.font=c(y,u),r.fill=d(y),r.border=f(y);const l=_(t,e,n);if(r.alignment=g(y,Math.ceil(l/r.font.size)),r&&(null==a?void 0:a.formatExcelJSCell)){const i=a.formatExcelJSCell({cellType:u,cellValue:p,table:n,col:t,row:e},r);i&&(r=i)}return r}}if("image"===u||"video"===u||"progressbar"===u||"sparkline"===u||l.isAxisCell(t,e)||!(null==a?void 0:a.ignoreIcon)&&(0,w.Z)(C)&&C.length||S||M){const o=A(t,e,n),a=r.addImage({base64:o,extension:"png"});i.addImage(a,{tl:{col:t+1/80,row:e+1/120},br:{col:t+1,row:e+1},editAs:"oneCell"})}else if("text"===u||"link"===u){T=i.getCell(o(t,e)),T.value=function(t,e){return"link"===e?{text:t,hyperlink:t,tooltip:t}:t}(p,u),T.font=c(y,u),T.fill=d(y),T.border=f(y);const r=_(t,e,n);T.alignment=g(y,Math.ceil(r/T.font.size))}else if("chart"===u){const o=n.scenegraph.getCell(t,e);(0,v.pF)(o.firstChild);const a=A(t,e,n),s=r.addImage({base64:a,extension:"png"});i.addImage(s,{tl:{col:t+1/80,row:e+1/120},br:{col:t+1,row:e+1},editAs:"oneCell"}),n.scenegraph.updateNextFrame()}if(T&&(null==a?void 0:a.formatExcelJSCell)){const i=a.formatExcelJSCell({cellType:u,cellValue:p,table:n,col:t,row:e},T);i&&(T=i)}return T}))}function A(t,e,n){var i;let r=n.scenegraph.getCell(t,e),o=!1;"empty"===r.role&&(r=(0,y.wW)(t,e,n,!0),r.setStage(n.scenegraph.stage),o=!0,r.stage.dirtyBounds.set(-1/0,-1/0,1/0,1/0));const a=r.attribute.stroke;r.attribute.stroke=!1;const s=b.WN.drawGraphicToCanvas(r,n.scenegraph.stage);return r.attribute.stroke=a,o&&(null===(i=r.parent)||void 0===i||i.removeChild(r)),s.toDataURL()}},94257:function(t,e,n){"use strict";n.d(e,{n:function(){return r},r:function(){return o}});var i=n(60991);function r(t,e){const n=new Blob([`\ufeff${t}`],{type:"text/csv;charset=utf-8"});(0,i.saveAs)(n,`${e}.csv`)}function o(t,e){const n=new Blob([t],{type:"application/octet-stream"});(0,i.saveAs)(n,`${e}.xlsx`)}},41155:function(t,e,n){"use strict";n.d(e,{T:function(){return y}});var i=n(77609),r=n(73403),o=n(9576),a=n(68725),s=n(70375),l=n(58788),u=n(65833),h=n(95063),c=n(95433),d=n(97925);class f{constructor(t){this.titleRows=[],this.showedTitleRows=[],this.rowNow=-1,this.skipStartRow=-1,this.skipEndRow=-1,this.table=t,this.table.on("scroll",(t=>{"vertical"===t.scrollDirection&&this.updateGroupTitle()})),this.table.on("tree_hierarchy_state_change",(t=>{this.updateGroupTitle()})),this.table.on("resize_column",(t=>{this.updateGroupTitle()}))}updateGroupTitle(){0===this.table.scrollTop?(this.titleRows=[],this.showedTitleRows=[]):-1!==this.skipStartRow&&-1!==this.skipEndRow&&this.skipStartRow!==this.table.scenegraph.proxy.bodyTopRow-1?(this.table.scenegraph.proxy.screenTopRow<=this.skipStartRow||this.table.scenegraph.proxy.screenTopRow>=this.skipEndRow)&&(this.skipStartRow=-1,this.skipEndRow=-1,this.updateGroupTitleInfo()):(this.skipStartRow=-1,this.skipEndRow=-1,this.updateGroupTitleInfo()),this.updateScenegraph()}updateGroupTitleInfo(){this.rowNow=this.table.scenegraph.proxy.screenTopRow+this.titleRows.length;const t=this.table.getRecordIndexByCell(0,this.rowNow),e=this.table.getRecordIndexByCell(0,this.rowNow+1);this.getTitleRowsByRecordIndex(t,e)}getTitleRowsByRecordIndex(t,e){const n=[];(0,a.Z)(t)||(t=[t]),(0,a.Z)(e)||(e=[e]);for(let e=0;e<t.length;e++){const i=t.slice(0,e+1),r=this.table.dataSource.getRaw(i);n.push(r)}const i=[],r=e.length===t.length+1;let o=t.slice(0,r?t.length:t.length-1);const s=this.table.dataSource.currentIndexedData;for(let e=this.rowNow-this.table.columnHeaderLevelCount;e>=0;e--){const n=s[e];if((0,a.Z)(n)&&o.length===n.length){let t=!0;for(let e=0;e<n.length;e++)if(n[e]!==o[e]){t=!1;break}t&&(i.push(e+this.table.columnHeaderLevelCount),o=o.slice(0,o.length-1))}else if(n===t[0]){i.push(e+this.table.columnHeaderLevelCount);break}}this.titleRows=i.reverse()}updateScenegraph(){const{table:t}=this,{shadowGroup:e,shadowGroupFrozen:n}=function(t){const e=t.scenegraph.colHeaderGroup,n=t.scenegraph.cornerHeaderGroup;if(!e.border){const n=(0,h.f)({x:0,y:0,width:0,height:0,cursor:"pointer"});e.add(n),e.border=n,n.attachShadow(n.shadowRoot),n.name="border-rect",n.addEventListener("click",(e=>{const n=t.listTreeStickCellPlugin.titleRows,{shadowTarget:i}=e.pickParams,r=(0,d.J$)(i),{col:o,row:a}=r;m(a-n.indexOf(a),t)}))}if(!n.border){const e=(0,h.f)({x:0,y:0,width:0,height:0,cursor:"pointer"});n.add(e),n.border=e,e.attachShadow(e.shadowRoot),e.name="border-rect",e.addEventListener("click",(e=>{const n=t.listTreeStickCellPlugin.titleRows,{shadowTarget:i}=e.pickParams,r=(0,d.J$)(i),{col:o,row:a}=r;m(a-n.indexOf(a),t)}))}const i=e.border.shadowRoot,r=n.border.shadowRoot;return i.removeAllChild(),r.removeAllChild(),{shadowGroup:i,shadowGroupFrozen:r}}(t);this.showedTitleRows.length=0;let i=0;for(let r=0;r<t.colCount;r++){let o;r<t.frozenColCount?(o=new l.Z({x:t.getColsWidth(0,r-1),y:t.getFrozenRowsHeight()}),n.add(o)):(o=new l.Z({x:t.getColsWidth(t.frozenColCount,r-1),y:t.getFrozenRowsHeight()}),e.add(o)),o.col=r;for(let e=0;e<this.titleRows.length;e++){const n=this.titleRows[e];if(p(n,this.rowNow,t.scenegraph.proxy.screenTopRow,this.titleRows)){0===r&&i++;continue}0===r&&this.showedTitleRows.push(n);const a=t.scenegraph.getCell(r,n);if("cell"===a.role){const t=g(a);t.setAttributes({y:40*e}),o.add(t)}else{const i=(0,u.wW)(r,n,t,!0,!0);i.setAttributes({y:40*e}),o.add(i)}}}i>0&&-1===this.skipStartRow&&-1===this.skipEndRow&&(this.skipStartRow=t.scenegraph.proxy.screenTopRow-1,this.skipEndRow=t.scenegraph.proxy.screenTopRow+1)}}function p(t,e,n,i){return t===e&&t!==n+i.length-1||t===n+i.indexOf(t)+1&&t<e}function g(t){const e=t.clone();if(e.role=t.role,e.col=t.col,e.row=t.row,e.mergeStartCol=t.mergeStartCol,e.mergeStartRow=t.mergeStartRow,e.mergeEndCol=t.mergeEndCol,e.mergeEndRow=t.mergeEndRow,e.contentWidth=t.contentWidth,e.contentHeight=t.contentHeight,"cell"===e.role){const t=(0,h.f)({x:0,y:0,width:e.attribute.width,height:e.attribute.height});e.add(t)}if("group"===t.type){const n=e;t.forEachChildren((t=>{const e=g(t);n.add(e)}))}return e}function m(t,e){const n=e.getDrawRange();if((0,s.Z)(t)&&t>=e.frozenRowCount){const i=e.getFrozenRowsHeight(),r=e.getRowsHeight(0,t-1);e.scrollTop=Math.min(r-i,e.getAllRowsHeight()-n.height)-1}e.scenegraph.updateNextFrame()}var v=n(52672);(0,r.R2)(),(0,r.Eg)(),(0,r.I)(),(0,r.FD)(),(0,r._t)(),(0,r.Mh)(),c.F.registerComponent("listTreeStickCellPlugin",f),(0,o.zf)(),(0,v.LQ)(),(0,v.yR)(),(0,v.pk)(),(0,v.m4)(),(0,v.Jy)(),(0,v.dB)(),(0,v.ge)(),(0,v.au)();class y extends i.e{}},77609:function(t,e,n){"use strict";n.d(e,{e:function(){return I}});var i=n(86036),r=n(22304),o=n(70375),a=n(97176),s=n(64127),l=n(87269),u=n(36657);class h{constructor(t,e,n,i){this.seqId=0,this.leftRowSeriesNumberColumnCount=0,this.rightRowSeriesNumberColumnCount=0,this.bodyRowSpanCount=1,this._transpose=!1,this._showHeader=!0,this._recordsCount=0,this._hasAggregation=!1,this._hasAggregationOnTopCount=0,this._hasAggregationOnBottomCount=0,this._cellRangeMap=new Map,this._showHeader=n,this._table=t,this._columns=[],this._columnsIncludeHided=[],this._headerCellIds=[],this.hierarchyIndent=null!=i?i:20,this.hierarchyTextStartAlignment=t.options.hierarchyTextStartAlignment,this.columnTree=new u.KO(e,{seqId:0}),this._headerObjectsIncludeHided=this._addHeaders(0,e,[]),this._headerObjects=this._headerObjectsIncludeHided.filter((t=>!0!==t.define.hide)),this._headerObjectMap=this._headerObjects.reduce(((t,e)=>(t[e.id]=e,t)),{}),this.rowHierarchyType=(0,l.C1)(this)?"tree":"grid",this._hasAggregation=(0,l.MP)(this),this._hasAggregationOnBottomCount=(0,l.WM)(this),this._hasAggregationOnTopCount=(0,l.OT)(this),this.handleRowSeriesNumber(t.internalProps.rowSeriesNumber)}handleRowSeriesNumber(t){var e,n;t&&(Array.isArray(t)?this.rowSeriesNumberColumn=t.map(((e,n)=>{var i,o,a;return{id:this.seqId++,title:e.title,define:(0,r.Z)({field:"_vtable_rowSeries_number_"+n},e),cellType:null!==(i=e.cellType)&&void 0!==i?i:"text",headerType:null!==(o=t.cellType)&&void 0!==o?o:"text",style:e.style,width:e.width,format:e.format,field:null!==(a=e.field)&&void 0!==a?a:"_vtable_rowSeries_number_"+n,icon:e.icon,headerIcon:e.headerIcon,isChildNode:!1}})):this.rowSeriesNumberColumn=[{id:this.seqId++,title:t.title,define:(0,r.Z)({field:"_vtable_rowSeries_number"},t),cellType:null!==(e=t.cellType)&&void 0!==e?e:"text",headerType:null!==(n=t.cellType)&&void 0!==n?n:"text",style:t.style,width:t.width,format:t.format,field:"_vtable_rowSeries_number",icon:t.icon,headerIcon:t.headerIcon,isChildNode:!1}],this.leftRowSeriesNumberColumn=this.rowSeriesNumberColumn.filter((t=>!0)),this.rightRowSeriesNumberColumn=this.rowSeriesNumberColumn.filter((t=>!1)),this.leftRowSeriesNumberColumnCount=this.leftRowSeriesNumberColumn.length,this.rightRowSeriesNumberColumnCount=this.rightRowSeriesNumberColumn.length)}get transpose(){return this._transpose}set transpose(t){this._transpose=t}get showHeader(){return this._showHeader}set showHeader(t){this._showHeader=t}isSeriesNumberInHeader(t,e){if(this.leftRowSeriesNumberColumnCount>0&&t>=0&&e>=0&&t<this.leftRowSeriesNumberColumnCount){if(this.transpose)return!1;if(e<this.headerLevelCount)return!0}if(this.rightRowSeriesNumberColumnCount>0&&e>=0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount){if(this.transpose)return!1;if(e<this.headerLevelCount)return!0}return!1}isSeriesNumberInBody(t,e){if(this.leftRowSeriesNumberColumnCount>0&&t>=0&&t<this.leftRowSeriesNumberColumnCount){if(this.transpose)return!0;if(e>=this.headerLevelCount)return!0}if(this.rightRowSeriesNumberColumnCount>0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount){if(this.transpose)return!0;if(e>=this.headerLevelCount)return!0}return!1}isSeriesNumber(t,e){if((0,o.Z)(t)&&(0,o.Z)(e)){if(this.leftRowSeriesNumberColumnCount>0&&t>=0&&e>=0&&t<this.leftRowSeriesNumberColumnCount)return!0;if(this.rightRowSeriesNumberColumnCount>0&&e>=0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount)return!0}return!1}getSeriesNumberHeader(t,e){if(this.leftRowSeriesNumberColumnCount>0&&t>=0&&t<this.leftRowSeriesNumberColumnCount){if(this.transpose)return;if(e<this.headerLevelCount)return Object.assign({},this.leftRowSeriesNumberColumn[t],{style:this._table.internalProps.rowSeriesNumber.headerStyle})}if(this.rightRowSeriesNumberColumnCount>0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount&&e<this.headerLevelCount){if(this.transpose)return;if(e<this.headerLevelCount)return this.rightRowSeriesNumberColumn[t-(this.colCount-this.rightRowSeriesNumberColumnCount)]}}getSeriesNumberBody(t,e){if(this.leftRowSeriesNumberColumnCount>0&&t>=0&&t<this.leftRowSeriesNumberColumnCount){if(this.transpose)return this.leftRowSeriesNumberColumn[t];if(e>=this.headerLevelCount)return this.leftRowSeriesNumberColumn[t]}if(this.rightRowSeriesNumberColumnCount>0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount){if(this.transpose)return this.rightRowSeriesNumberColumn[t-(this.colCount-this.rightRowSeriesNumberColumnCount)];if(e>=this.headerLevelCount)return this.rightRowSeriesNumberColumn[t-(this.colCount-this.rightRowSeriesNumberColumnCount)]}}isHeader(t,e){return!!(this.transpose&&t>=this.leftRowSeriesNumberColumnCount&&t<this.headerLevelCount+this.leftRowSeriesNumberColumnCount)||!this.transpose&&e>=0&&e<this.headerLevelCount}isAggregation(t,e){if(this.hasAggregation){if(this.hasAggregationOnBottomCount)if(this.transpose){if(t>=this.colCount-this.hasAggregationOnBottomCount)return!0}else if(e>=this.rowCount-this.hasAggregationOnBottomCount)return!0;if(this.hasAggregationOnTopCount)if(this.transpose){if(t>=this.rowHeaderLevelCount&&t<this.rowHeaderLevelCount+this.hasAggregationOnTopCount)return!0}else if(e>=this.columnHeaderLevelCount&&e<this.columnHeaderLevelCount+this.hasAggregationOnTopCount)return!0}return!1}isTopAggregation(t,e){if(this.hasAggregationOnTopCount)if(this.transpose){if(t>=this.rowHeaderLevelCount&&t<this.rowHeaderLevelCount+this.hasAggregationOnTopCount)return!0}else if(e>=this.columnHeaderLevelCount&&e<this.columnHeaderLevelCount+this.hasAggregationOnTopCount)return!0;return!1}isBottomAggregation(t,e){if(this.hasAggregationOnBottomCount)if(this.transpose){if(t>=this.colCount-this.hasAggregationOnBottomCount)return!0}else if(e>=this.rowCount-this.hasAggregationOnBottomCount)return!0;return!1}get hasAggregation(){return this._hasAggregation}get hasAggregationOnTopCount(){return this._hasAggregationOnTopCount}get hasAggregationOnBottomCount(){return this._hasAggregationOnBottomCount}getAggregatorsByCell(t,e){return this.getColumnDefine(t,e).vtable_aggregator}getAggregatorsByCellRange(t,e,n,i){let r=[];if(!this.transpose){for(let i=t;i<=n;i++){const t=this.getColumnDefine(i,e);t.vtable_aggregator&&(r=r.concat(Array.isArray(t.vtable_aggregator)?t.vtable_aggregator:[t.vtable_aggregator]))}return r}for(let n=e;n<=i;n++){const e=this.getColumnDefine(t,n);e.vtable_aggregator&&(r=r.concat(Array.isArray(e.vtable_aggregator)?e.vtable_aggregator:[e.vtable_aggregator]))}return[]}getAggregatorOnTop(t,e){const n=this.getColumnDefine(t,e),i=n.vtable_aggregator,r=n.aggregation;if(Array.isArray(r)){const n=r.reduce(((t,e,n)=>(e.showOnTop&&t.push(n),t)),[]).map((t=>i[t]));return this.transpose?n[t-this.rowHeaderLevelCount]:n[e-this.columnHeaderLevelCount]}return this.transpose&&t-this.rowHeaderLevelCount==0?(null==r?void 0:r.showOnTop)?i:null:this.transpose||e-this.columnHeaderLevelCount!=0?null:(null==r?void 0:r.showOnTop)?i:null}getAggregatorOnBottom(t,e){const n=this.getColumnDefine(t,e),i=n.vtable_aggregator,r=n.aggregation;if(Array.isArray(r)){const n=r.reduce(((t,e,n)=>(e.showOnTop||t.push(n),t)),[]).map((t=>i[t]));return this.transpose?n[t-(this.colCount-this.hasAggregationOnBottomCount)]:n[e-(this.rowCount-this.hasAggregationOnBottomCount)]}return this.transpose&&t-(this.colCount-this.hasAggregationOnBottomCount)==0?(null==r?void 0:r.showOnTop)?null:i:this.transpose||e-(this.rowCount-this.hasAggregationOnBottomCount)!=0||(null==r?void 0:r.showOnTop)?null:i}getAggregatorCellAddress(t,e,n,i){const r=[],o=this.hasAggregationOnTopCount,a=this.hasAggregationOnBottomCount;if(this.transpose){for(let n=e;n<=i;n++)if(this.getColumnDefine(t,n).vtable_aggregator){for(let t=0;t<o;t++)r.push({col:this.headerLevelCount+t,row:n});for(let t=0;t<a;t++)r.push({col:this.rowCount-a+t,row:n})}}else for(let i=t;i<=n;i++)if(this.getColumnDefine(i,e).vtable_aggregator){for(let t=0;t<o;t++)r.push({col:i,row:this.headerLevelCount+t});for(let t=0;t<a;t++)r.push({col:i,row:this.rowCount-a+t})}return r}getCellLocation(t,e){return this.isHeader(t,e)?this.transpose?"rowHeader":"columnHeader":"body"}isRowHeader(t,e){return!!(this.transpose&&t>=this.leftRowSeriesNumberColumnCount&&t<this.headerLevelCount+this.leftRowSeriesNumberColumnCount)}isColumnHeader(t,e){return!this.transpose&&e>=0&&e<=this.headerLevelCount-1&&t>=this.leftRowSeriesNumberColumnCount&&t<this.colCount-this.rightRowSeriesNumberColumnCount}isFrozenColumn(t,e){if((0,o.Z)(e)){if(t>=0&&t<this.frozenColCount&&e>=this.frozenRowCount&&e<this.rowCount-this.bottomFrozenRowCount)return!0}else if(this.frozenColCount>0&&t>=0&&t<this.frozenColCount)return!0;return!1}isRightFrozenColumn(t,e){if((0,o.Z)(e)){if(t>=this.colCount-this.rightFrozenColCount&&e>=this.frozenRowCount&&e<this.rowCount-this.bottomFrozenRowCount)return!0}else if(this.rightFrozenColCount>0&&t>=this.colCount-this.rightFrozenColCount)return!0;return!1}isFrozenRow(t,e){if((0,o.Z)(e)){if(e>=0&&e<this.frozenRowCount&&t>=this.frozenColCount&&t<this.colCount-this.rightFrozenColCount)return!0}else if(e=t,this.frozenRowCount>0&&e>=0&&e<this.frozenRowCount)return!0;return!1}isBottomFrozenRow(t,e){if((0,o.Z)(e)){if(e>=this.rowCount-this.bottomFrozenRowCount&&t>=this.frozenColCount&&t<this.colCount-this.rightFrozenColCount)return!0}else if(e=t,this.bottomFrozenRowCount>0&&e>=this.rowCount-this.bottomFrozenRowCount)return!0;return!1}isLeftTopCorner(t,e){return t>=0&&t<this.frozenColCount&&e>=0&&e<this.frozenRowCount}isLeftBottomCorner(t,e){return t>=0&&t<this.frozenColCount&&e>=this.rowCount-this.bottomFrozenRowCount}isRightTopCorner(t,e){return t>=this.colCount-this.rightFrozenColCount&&e>=0&&e<this.frozenRowCount}isRightBottomCorner(t,e){return t>=this.colCount-this.rightFrozenColCount&&e>=this.rowCount-this.bottomFrozenRowCount}isCornerHeader(t,e){return!1}getColumnHeaderRange(){var t,e;return this.transpose?{start:{col:0,row:0},end:{col:this._headerCellIds.length-1,row:(null!==(t=this.rowCount)&&void 0!==t?t:0)-1}}:{start:{col:0,row:0},end:{col:(null!==(e=this.colCount)&&void 0!==e?e:0)-1,row:this._headerCellIds.length-1}}}getRowHeaderRange(){var t,e;return this.transpose?{start:{col:0,row:0},end:{col:this._headerCellIds.length-1,row:(null!==(t=this.rowCount)&&void 0!==t?t:0)-1}}:{start:{col:0,row:0},end:{col:(null!==(e=this.colCount)&&void 0!==e?e:0)-1,row:this._headerCellIds.length-1}}}getCornerHeaderRange(){}getBodyRange(){var t,e,n,i;return this.transpose?{start:{col:this.headerLevelCount,row:0},end:{col:(null!==(t=this.colCount)&&void 0!==t?t:0)-1,row:(null!==(e=this.rowCount)&&void 0!==e?e:0)-1}}:{start:{col:0,row:this.headerLevelCount},end:{col:(null!==(n=this.colCount)&&void 0!==n?n:0)-1,row:(null!==(i=this.rowCount)&&void 0!==i?i:0)-1}}}get headerLevelCount(){return this.showHeader?this._headerCellIds.length:0}get columnHeaderLevelCount(){return this.transpose?0:this.headerLevelCount}get rowHeaderLevelCount(){return this.transpose?this.headerLevelCount:0}get frozenColCount(){return this._table.internalProps.frozenColCount?this.colCount>this._table.internalProps.frozenColCount?this._table.internalProps.frozenColCount:this.colCount:0}get frozenRowCount(){return this._table.internalProps.frozenRowCount?this.rowCount>=this._table.internalProps.frozenRowCount?this._table.internalProps.frozenRowCount:this.rowCount:0}get bottomFrozenRowCount(){return this._table.internalProps.bottomFrozenRowCount?this.rowCount-this.headerLevelCount>=this._table.internalProps.bottomFrozenRowCount?this._table.internalProps.bottomFrozenRowCount:this.rowCount-this.headerLevelCount:0}get rightFrozenColCount(){return this._table.internalProps.rightFrozenColCount?this.colCount-this.frozenColCount>=this._table.internalProps.rightFrozenColCount?this._table.internalProps.rightFrozenColCount:Math.max(0,this.colCount-this.frozenColCount):0}get colCount(){return this.transpose?this.headerLevelCount+this.recordsCount+this.leftRowSeriesNumberColumnCount+this.rightRowSeriesNumberColumnCount:this._columns.length+this.leftRowSeriesNumberColumnCount+this.rightRowSeriesNumberColumnCount}get rowCount(){return this.transpose?this._columns.length:this.headerLevelCount+this.recordsCount}get bodyRowCount(){return this.transpose?this._columns.length:this.rowCount-this.bottomFrozenRowCount-this.headerLevelCount}get bodyColCount(){return this.transpose?this.colCount-this.rightFrozenColCount-this.rowHeaderLevelCount:this._columns.length}get recordsCount(){return this._recordsCount}set recordsCount(t){this._recordsCount=t}get headerObjects(){return this._headerObjects}get columnObjects(){return this._columns}get headerObjectsIncludeHided(){return this._headerObjectsIncludeHided}get columnWidths(){if(this.leftRowSeriesNumberColumnCount){const t=this.leftRowSeriesNumberColumn.map((t=>({width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth})));return t.push(...this._columns.map((t=>({width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth})))),t}return this._columns.map((t=>({width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth})))}getColumnWidthDefined(t){var e;if(t>=0){if(t<this.leftRowSeriesNumberColumnCount)return this.leftRowSeriesNumberColumn[t];if(this.transpose){let n,i,r=0;if(t>=this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount){let t;return this.columnObjects.forEach(((e,o)=>{"number"==typeof e.width?r=Math.max(e.width,r):"auto"===e.width&&(t=!0),"number"==typeof e.minWidth&&(i=Math.max(e.minWidth,i)),"number"==typeof e.maxWidth&&(n=Math.max(e.maxWidth,n))})),r=r>0?r:t?"auto":void 0,{width:r,minWidth:i,maxWidth:n}}if(this.isRowHeader(t,0)){const n=Array.isArray(this._table.defaultHeaderColWidth)?null!==(e=this._table.defaultHeaderColWidth[t])&&void 0!==e?e:this._table.defaultColWidth:this._table.defaultHeaderColWidth;return"auto"===n?{width:"auto"}:{width:n}}}return this._columns[t-this.leftRowSeriesNumberColumnCount]}}getCellId(t,e){var n,i,r,o;return this.transpose?t>=this.headerLevelCount+this.leftRowSeriesNumberColumnCount?null===(n=this._columns[e])||void 0===n?void 0:n.id:this.isSeriesNumber(t,e)?e+"_series_number":null===(i=this._headerCellIds[t-this.leftRowSeriesNumberColumnCount])||void 0===i?void 0:i[e]:this.isSeriesNumber(t,e)?this.rowSeriesNumberColumn[t].id:this.headerLevelCount<=e?null===(r=this._columns[t-this.leftRowSeriesNumberColumnCount])||void 0===r?void 0:r.id:null===(o=this._headerCellIds[e])||void 0===o?void 0:o[t-this.leftRowSeriesNumberColumnCount]}getHeader(t,e){if(this.isSeriesNumberInHeader(t,e))return this.getSeriesNumberHeader(t,e);const n=this.getCellId(t,e);return this._headerObjectMap[n]}getHeaderField(t,e){var n,i,r;if(this.isSeriesNumberInHeader(t,e))return null===(n=this.getSeriesNumberHeader(t,e))||void 0===n?void 0:n.field;if(this.isSeriesNumberInBody(t,e))return null===(i=this.getSeriesNumberBody(t,e))||void 0===i?void 0:i.field;const o=this.getCellId(t,e);return(null===(r=this._headerObjectMap[o])||void 0===r?void 0:r.field)||(this.transpose?this._columns[e]&&this._columns[e].field:this._columns[t-this.leftRowSeriesNumberColumnCount]&&this._columns[t-this.leftRowSeriesNumberColumnCount].field)}getHeaderCellAdressById(t){for(let e=0;e<this._headerCellIds.length;e++){const n=this._headerCellIds[e];for(let i=0;i<n.length;i++)if(n[i]===t)return this.transpose?{col:e,row:i}:{col:i+this.leftRowSeriesNumberColumnCount,row:e}}}getHeaderCellAddressByField(t){const e=this.headerObjects.find((e=>e&&e.field===t));return e&&this.getHeaderCellAdressById(e.id)}getBody(t,e){return this.isSeriesNumber(t,e)?this.getSeriesNumberBody(t,e):this.transpose?this._columns[e]:this._columns[t-this.leftRowSeriesNumberColumnCount]}getBodyLayoutRangeById(t){var e,n;if(this.transpose){for(let n=0;n<(null!==(e=this.rowCount)&&void 0!==e?e:0);n++)if(t===this._columns[n].id)return{start:{col:0,row:n},end:{col:0,row:n}}}else for(let e=this.leftRowSeriesNumberColumnCount;e<(null!==(n=this.colCount)&&void 0!==n?n:0);e++)if(t===this._columns[e-this.leftRowSeriesNumberColumnCount].id)return{start:{col:e,row:0},end:{col:e,row:0}};return{start:{col:-1,row:-1},end:{col:-1,row:-1}}}getCellRange(t,e){return function(t,e,n){var i,r,o;if(-1===t||-1===e)return{start:{col:t,row:e},end:{col:t,row:e}};if(n._cellRangeMap.has(`$${t}$${e}`))return n._cellRangeMap.get(`$${t}$${e}`);let a={start:{col:t,row:e},end:{col:t,row:e}};if(n.transpose)a=function(t,e,n){var i,r,o,a;const s={start:{col:t,row:e},end:{col:t,row:e}};if(n.headerLevelCount+n.leftRowSeriesNumberColumnCount<=t||-1===t&&-1===e){if(n.headerLevelCount+n.leftRowSeriesNumberColumnCount<=t&&(null===(r=null===(i=n.columnObjects[e])||void 0===i?void 0:i.define)||void 0===r?void 0:r.mergeCell)){const i=n._table.getCellValue(t,e);for(let r=t-1;r>=n.headerLevelCount+n.leftRowSeriesNumberColumnCount;r--){const o=n._table.getCellValue(r,e);if("boolean"==typeof n.columnObjects[e].define.mergeCell){if(i!==o)break}else if(!n.columnObjects[e].define.mergeCell(i,o,{source:{col:t,row:e},target:{col:r,row:e},table:n._table}))break;s.start.col=r}for(let r=t+1;r<(null!==(o=n.colCount)&&void 0!==o?o:0);r++){const o=n._table.getCellValue(r,e);if("boolean"==typeof n.columnObjects[e].define.mergeCell){if(i!==o)break}else if(!n.columnObjects[e].define.mergeCell(i,o,{source:{col:t,row:e},target:{col:r,row:e},table:n._table}))break;s.end.col=r}}return s}const l=n.getCellId(t,e);for(let i=e-1;i>=0&&l===n.getCellId(t,i);i--)s.start.row=i;for(let i=e+1;i<(null!==(a=n.rowCount)&&void 0!==a?a:0)&&l===n.getCellId(t,i);i++)s.end.row=i;for(let i=t-1;i>=0&&l===n.getCellId(i,e);i--)s.start.col=i;for(let i=t+1;i<n.headerLevelCount+n.leftRowSeriesNumberColumnCount&&l===n.getCellId(i,e);i++)s.end.col=i;return s}(t,e,n);else if(n.headerLevelCount<=e){if(n.headerLevelCount<=e&&(null===(r=null===(i=n.columnObjects[t-n.leftRowSeriesNumberColumnCount])||void 0===i?void 0:i.define)||void 0===r?void 0:r.mergeCell)){const i=n._table.getCellValue(t,e);for(let r=e-1;r>=n.headerLevelCount;r--){const o=n._table.getCellValue(t,r);if("boolean"==typeof n.columnObjects[t-n.leftRowSeriesNumberColumnCount].define.mergeCell){if(i!==o)break}else if(!n.columnObjects[t-n.leftRowSeriesNumberColumnCount].define.mergeCell(i,o,{source:{col:t,row:e},target:{col:t,row:r},table:n._table}))break;a.start.row=r}for(let r=e+1;r<n.rowCount;r++){const o=n._table.getCellValue(t,r);if("boolean"==typeof n.columnObjects[t-n.leftRowSeriesNumberColumnCount].define.mergeCell){if(i!==o)break}else if(!n.columnObjects[t-n.leftRowSeriesNumberColumnCount].define.mergeCell(i,o,{source:{col:t,row:e},target:{col:t,row:r},table:n._table}))break;a.end.row=r}}!function(t,e,n,i){var r;if("tree"!==i.rowHierarchyType)return;const o=i._table.getCellRawRecord(t,e);(null===(r=i._table.internalProps.rowSeriesNumber)||void 0===r?void 0:r.enableTreeCheckbox)?(null==o?void 0:o.vtableMerge)&&t>=i.leftRowSeriesNumberColumnCount&&(n.start.col=i.rowHeaderLevelCount+i.leftRowSeriesNumberColumnCount,n.end.col=i.colCount-1,n.start.row=n.end.row=e):(null==o?void 0:o.vtableMerge)&&(n.start.col=i.rowHeaderLevelCount,n.end.col=i.colCount-1,n.start.row=n.end.row=e)}(t,e,a,n)}else{const i=n.getCellId(t,e);for(let r=t-1;r>=0&&i===n.getCellId(r,e);r--)a.start.col=r;for(let r=t+1;r<(null!==(o=n.colCount)&&void 0!==o?o:0)&&i===n.getCellId(r,e);r++)a.end.col=r;for(let r=e-1;r>=0&&i===n.getCellId(t,r);r--)a.start.row=r;for(let r=e+1;r<n.headerLevelCount&&i===n.getCellId(t,r);r++)a.end.row=r}return n._cellRangeMap.set(`$${t}$${e}`,a),a}(t,e,this)}isCellRangeEqual(t,e,n,i){const r=this.getCellRange(t,e),o=this.getCellRange(n,i);return r.start.col===o.start.col&&r.end.col===o.end.col&&r.start.row===o.start.row&&r.end.row===o.end.row}getRecordShowIndexByCell(t,e){const n=this.hasAggregationOnTopCount?this.headerLevelCount+1:this.headerLevelCount;return this.transpose?t<n?-1:t-n:e<n?-1:e-n}getRecordStartRowByRecordIndex(t){return(this.hasAggregationOnTopCount?this.headerLevelCount+1:this.headerLevelCount)+t}_addHeaders(t,e,n,i){const r=[],o=this._newRow(t,i);return e.forEach((e=>{var s,l,u,h;const c=this._columns.length,d=this.seqId++,f={id:d,title:null!==(s=e.title)&&void 0!==s?s:e.caption,headerIcon:e.headerIcon,field:e.field,style:e.headerStyle,headerType:null!==(l=e.headerType)&&void 0!==l?l:"text",dropDownMenu:e.dropDownMenu,define:e,columnWidthComputeMode:e.columnWidthComputeMode};r[d]=f;for(let e=t-1;e>=0;e--)this._headerCellIds[e]&&(this._headerCellIds[e][c]=n[e]);if(i?this._headerCellIds[t-1]&&(o[c]=this._headerCellIds[t-1][c]):o[c]=d,e.columns)!e.columns.every((t=>t.hide))&&this._addHeaders(t+1,e.columns,[...n,d],e.hideColumnsSubHeader||i).forEach((t=>r.push(t)));else{const n={id:this.seqId++,field:e.field,fieldFormat:e.fieldFormat,width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,icon:e.icon,cellType:null!==(h=null!==(u=e.cellType)&&void 0!==u?u:e.columnType)&&void 0!==h?h:"text",chartModule:"chartModule"in e?e.chartModule:null,chartSpec:"chartSpec"in e?e.chartSpec:null,sparklineSpec:"sparklineSpec"in e?e.sparklineSpec:a.hW,style:e.style,define:e,columnWidthComputeMode:e.columnWidthComputeMode,disableColumnResize:null==e?void 0:e.disableColumnResize,aggregation:e.aggregation,isChildNode:t>=1};if(this._columnsIncludeHided.push(n),!0!==e.hide){this._columns.push(n);for(let e=t+1;e<this._headerCellIds.length;e++)this._headerCellIds[e][c]=d}}})),r}_newRow(t,e=!1){if(this._headerCellIds[t]){const e=this._headerCellIds[t-1];if(e.length>this._headerCellIds[t].length)for(let n=this._headerCellIds[t].length;n<e.length;n++)this._headerCellIds[t][n]=e[n];return this._headerCellIds[t]}if(e)return[];const n=this._headerCellIds[t]=[];if(!this._columns.length)return n;const i=this._headerCellIds[t-1];for(let t=0;t<i.length;t++)n[t]=i[t];return n}getCellHeaderPaths(t,e){if(this.isSeriesNumber(t,e))return;let n=[],i=[];return this.transpose?i=[{field:this._columns[e].field}]:n=[{field:this._columns[t-this.leftRowSeriesNumberColumnCount].field}],{colHeaderPaths:n,rowHeaderPaths:i,cellLocation:this.getCellLocation(t,e)}}getParentCellId(t,e){if(0!==e){if(this.isColumnHeader(t,e))return this.getCellId(t,e-1);if(this.isRowHeader(t,e)){if(this.isSeriesNumberInBody(t-1,e))return;return this.getCellId(t-1,e)}}}canMoveHeaderPosition(t,e){if(this.isSeriesNumberInHeader(e.col,e.row)||this.isSeriesNumberInHeader(t.col,t.row))return!1;if(!this.transpose&&this.isSeriesNumberInBody(e.col,e.row)&&this.isSeriesNumberInBody(t.col,t.row)){const n=this.getRecordShowIndexByCell(0,t.row),i=this.getRecordShowIndexByCell(0,e.row);return this._table.dataSource.canChangeOrder(n,i)}if(this.transpose&&this.isSeriesNumberInBody(e.col,e.row)&&this.isSeriesNumberInBody(t.col,t.row)&&(this.getBody(t.col+this.leftRowSeriesNumberColumnCount,t.row).isChildNode&&this.getBody(e.col+this.leftRowSeriesNumberColumnCount,e.row).isChildNode?(t.col=t.col+this.leftRowSeriesNumberColumnCount+this.rowHeaderLevelCount-1,e.col=e.col+this.leftRowSeriesNumberColumnCount+this.rowHeaderLevelCount-1):(t.col=t.col+this.leftRowSeriesNumberColumnCount,e.col=e.col+this.leftRowSeriesNumberColumnCount)),t.col<0||t.row<0||e.col<0||e.row<0)return!1;if("disabled"===this._table.internalProps.frozenColDragHeaderMode&&this._table.isFrozenColumn(e.col))return!1;const n=this.getCellRange(t.col,t.row);return this.isColumnHeader(t.col,t.row)?this.getParentCellId(t.col,n.start.row)===this.getParentCellId(e.col,n.start.row):!!this.isRowHeader(t.col,t.row)&&this.getParentCellId(n.start.col,t.row)===this.getParentCellId(n.start.col,e.row)}moveHeaderPosition(t,e){if(this.canMoveHeaderPosition(t,e)){let n=this.getCellRange(t.col,t.row);if(this.isColumnHeader(t.col,t.row)){const i=n.end.col-n.start.col+1;let r;const o=this.getCellRange(e.col,n.start.row);if(r=e.col>=t.col?o.end.col-i+1:o.start.col,r===n.start.col)return null;for(let t=0;t<this._headerCellIds.length;t++){const e=this._headerCellIds[t].splice(n.start.col-this.leftRowSeriesNumberColumnCount,i);e.unshift(r-this.leftRowSeriesNumberColumnCount,0),Array.prototype.splice.apply(this._headerCellIds[t],e)}const a=this._columns.splice(n.start.col-this.leftRowSeriesNumberColumnCount,i);return a.unshift(r-this.leftRowSeriesNumberColumnCount,0),Array.prototype.splice.apply(this._columns,a),this.columnTree.movePosition(n.start.row,n.start.col-this.leftRowSeriesNumberColumnCount,r-this.leftRowSeriesNumberColumnCount),this.columnTree.reset(this.columnTree.tree.children),this._cellRangeMap=new Map,{sourceIndex:n.start.col,targetIndex:r,sourceSize:i,targetSize:o.end.col-o.start.col+1,moveType:"column"}}if(this.isRowHeader(t.col,t.row)||this.isSeriesNumberInBody(t.col,t.row)&&this.transpose){this.isSeriesNumberInBody(t.col,t.row)&&(n=this.getCellRange(t.col+this.leftRowSeriesNumberColumnCount,t.row));const i=n.end.row-n.start.row+1;let r;const o=this.getCellRange(n.start.col,e.row);if(r=e.row>=t.row?o.end.row-i+1:o.start.row,r===n.start.row)return null;for(let t=0;t<this._headerCellIds.length;t++){const e=this._headerCellIds[t].splice(n.start.row,i);e.unshift(r,0),Array.prototype.splice.apply(this._headerCellIds[t],e)}const a=this._columns.splice(n.start.row,i);return a.unshift(r,0),Array.prototype.splice.apply(this._columns,a),this.columnTree.movePosition(n.start.col-this.leftRowSeriesNumberColumnCount,n.start.row,r+(e.row>t.row?n.end.row-n.start.row:0)),this.columnTree.reset(this.columnTree.tree.children),this._cellRangeMap=new Map,{sourceIndex:n.start.row,targetIndex:r,sourceSize:i,targetSize:o.end.row-o.start.row+1,moveType:"row"}}if(this.isSeriesNumberInBody(t.col,t.row))return{sourceIndex:t.row,targetIndex:e.row,sourceSize:1,targetSize:1,moveType:"row"}}return null}toggleHierarchyState(t){return{addCellPositions:t.add.map((t=>({col:0,row:this._table.columnHeaderLevelCount+t}))),removeCellPositions:t.remove.map((t=>({col:0,row:this._table.columnHeaderLevelCount+t})))}}setChartInstance(t,e,n){const i=this.transpose?this._columns[e]:this._columns[t-this.leftRowSeriesNumberColumnCount];"function"!=typeof i.chartSpec&&(i.chartInstance=n)}getChartInstance(t,e){return(this.transpose?this._columns[e]:this._columns[t-this.leftRowSeriesNumberColumnCount]).chartInstance}checkHasChart(){return(0,s.YL)(this)}getAxisConfigInPivotChart(t,e){}isEmpty(t,e){return!1}isAxisCell(t,e){return!1}getChartAxes(t,e){return[]}isShareChartSpec(t,e){const n=this.getBody(t,e);return"function"!=typeof(null==n?void 0:n.chartSpec)}isNoChartDataRenderNothing(t,e){const n=this.getBody(t,e);return(null==n?void 0:n.define).noDataRenderNothing}getChartSpec(t,e){return this.getRawChartSpec(t,e)}getRawChartSpec(t,e){const n=this.getBody(t,e),i=null==n?void 0:n.chartSpec;return"function"==typeof i?i({col:t,row:e,dataValue:this._table.getCellOriginValue(t,e)||"",value:this._table.getCellValue(t,e)||"",rect:this._table.getCellRangeRelativeRect(this._table.getCellRange(t,e)),table:this._table}):i}getChartDataId(t,e){return(0,s.py)(t,e,this)}release(){const t=this._table._getActiveChartInstance();null==t||t.release(),this.columnObjects.forEach((t=>{var e;null===(e=t.chartInstance)||void 0===e||e.release()}))}clearCellRangeMap(){this._cellRangeMap.clear()}updateColumnTitle(t,e,n){const i=this._table.internalProps.layoutMap.getHeader(t,e);i.title=n,i.define.title=n}getColumnByField(t){var e;return null===(e=this.columnObjects)||void 0===e?void 0:e.reduce(((e,n,i)=>(n.field===t&&e.push({col:i,columnDefine:n}),e)),[])}getColumnByKey(t){var e;let n;return{columnDefine:null===(e=this.columnObjects)||void 0===e?void 0:e.find(((e,i)=>{var r;return(null===(r=e.define)||void 0===r?void 0:r.key)===t&&(n=i,!0)})),col:n}}getColumnDefine(t,e){if(t>=0)return t<this.leftRowSeriesNumberColumnCount?this.leftRowSeriesNumberColumn[t].define:this.transpose?this._columns[e].define:this._columns[t-this.leftRowSeriesNumberColumnCount].define}}var c=n(68725),d=n(99766),f=n(23206),p=n(6577),g=n(74910),m=n(74303),v=n(9677),y=n(53036),b=n(51917),w=n(66430),x=n(35517),_=n(48328),C=n(95433),S=n(44409);function M(t){return(0,S.Z)(t)?{groupByRules:[t]}:(0,c.Z)(t)?{groupByRules:t.map((t=>(0,S.Z)(t)?t:t.key))}:{}}var A=n(21582),T=n(95170);function k(t,e,n,i){if("group"===i)return i;if("sort"===i&&!n.options.groupBy)return i;let r="normal";return n.options.groupBy?r="group":!n.isHeader(t,e)&&n.dataSource.lastOrderField&&n.getBodyField(t,e)===n.dataSource.lastOrderField&&(r="sort"),r}function R(t){let e=t.sortState;e=!e||Array.isArray(e)?e:[e],e&&(e=e.map((e=>{var n;return e.orderFn=null!==(n=t._getSortFuncFromHeaderOption(void 0,e.field))&&void 0!==n?n:b.K$,e})),t.dataSource.sort(e))}class I extends f.D{constructor(t,e){var n,i,r,a,s,l;"node"===g.X.mode?(e=t,t=null):t instanceof HTMLElement||(e=t,t=t.container?t.container:null),super(t,e),this.showHeader=!0;const u=this.internalProps;if(u.frozenColDragHeaderMode=e.frozenColDragHeaderMode,this.pagination=e.pagination,u.sortState=e.sortState,u.multipleSort=!!e.multipleSort,u.dataConfig=e.groupBy?M(e.groupBy):{},u.columns=e.columns?(0,x.u)(e.columns,["children"]):e.header?(0,x.u)(e.header,["children"]):[],(0,d.rQ)(this),u.enableTreeNodeMerge=null!==(i=null!==(n=e.enableTreeNodeMerge)&&void 0!==n?n:(0,o.Z)(e.groupBy))&&void 0!==i&&i,this.internalProps.headerHelper.setTableColumnsEditor(),this.showHeader=null===(r=e.showHeader)||void 0===r||r,this.internalProps.columnWidthConfig=e.columnWidthConfig,this.transpose=null!==(a=e.transpose)&&void 0!==a&&a,"node"!==g.X.mode&&(this.editorManager=new v.$(this)),this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,e.dataSource?this.dataSource=e.dataSource:e.records?this.setRecords(e.records,{sortState:u.sortState}):this.setRecords([]),e.title){const t=C.F.getComponent("title");u.title=new t(e.title,this),this.scenegraph.resize()}if(this.options.emptyTip)if(this.internalProps.emptyTip)null===(s=this.internalProps.emptyTip)||void 0===s||s.resetVisible();else{const t=C.F.getComponent("emptyTip");this.internalProps.emptyTip=new t(this.options.emptyTip,this),null===(l=this.internalProps.emptyTip)||void 0===l||l.resetVisible()}if(e.enableTreeStickCell){const t=C.F.getComponent("listTreeStickCellPlugin");this.listTreeStickCellPlugin=new t(this)}setTimeout((()=>{this.fireListeners(p.B.INITIALIZED,null)}),0)}isListTable(){return!0}isPivotTable(){return!1}isPivotChart(){return!1}get sortState(){return this.internalProps.sortState}get records(){var t;return null===(t=this.dataSource)||void 0===t?void 0:t.records}get recordsCount(){return this.dataSource.records.length}updateColumns(t){var e,n,i,r;const o={col:this.stateManager.hover.cellPos.col,row:this.stateManager.hover.cellPos.row};this.internalProps.columns=(0,x.u)(t,["children"]),(0,d.rQ)(this),this.options.columns=t,this.internalProps.headerHelper.setTableColumnsEditor(),this._hasAutoImageColumn=void 0,this.refreshHeader(),null===(n=(e=this.dataSource).updateColumns)||void 0===n||n.call(e,this.internalProps.columns),this.records&&(0,d.bW)(t)&&this.dataSource.processRecords(null!==(r=null===(i=this.dataSource.dataSourceObj)||void 0===i?void 0:i.records)&&void 0!==r?r:this.dataSource.dataSourceObj),this.internalProps.useOneRowHeightFillAll=!1,this.scenegraph.clearCells(),this.headerStyleCache=new Map,this.bodyStyleCache=new Map,this.bodyBottomStyleCache=new Map,this.scenegraph.createSceneGraph(),this.stateManager.updateHoverPos(o.col,o.row),this.renderAsync(),this.eventManager.updateEventBinder()}get columns(){return this.internalProps.layoutMap.columnTree.getCopiedTree()}get header(){return this.internalProps.columns}set header(t){this.internalProps.columns=t,(0,d.rQ)(this),this.options.header=t,this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,this.renderAsync()}get transpose(){var t;return null!==(t=this.internalProps.transpose)&&void 0!==t&&t}set transpose(t){this.internalProps.transpose!==t&&(this.internalProps.transpose=t,this.internalProps.layoutMap&&(this.internalProps.layoutMap.transpose=t,this.refreshRowColCount(),this._resetFrozenColCount(),this.renderAsync()))}getCellValue(t,e,n){if(-1===t||-1===e)return null;if(!n){const n=this.getCustomMergeValue(t,e);if(n)return n}const i=this;if(i.internalProps.layoutMap.isSeriesNumber(t,e)){if(i.internalProps.layoutMap.isSeriesNumberInHeader(t,e)){const{title:n}=i.internalProps.layoutMap.getSeriesNumberHeader(t,e);return n}let n;if(this.options.groupBy){const r=i.getCellRawRecord(t,e);if(null==r?void 0:r.vtableMerge)return"";n=this.dataSource.getGroupSeriesNumber(e-this.columnHeaderLevelCount)}else n=e-this.columnHeaderLevelCount+1;const{format:r}=i.internalProps.layoutMap.getSeriesNumberBody(t,e);return"function"==typeof r?r(t,e,this,n):n}if(i.internalProps.layoutMap.isHeader(t,e)){const{title:n}=i.internalProps.layoutMap.getHeader(t,e);return"function"==typeof n?n():n}if(i.internalProps.layoutMap.isAggregation(t,e)){if(i.internalProps.layoutMap.isTopAggregation(t,e)){const n=i.internalProps.layoutMap.getAggregatorOnTop(t,e);return(null==n?void 0:n.formatValue)?n.formatValue(t,e,this):""}if(i.internalProps.layoutMap.isBottomAggregation(t,e)){const n=i.internalProps.layoutMap.getAggregatorOnBottom(t,e);return(null==n?void 0:n.formatValue)?n.formatValue(t,e,this):""}}const{field:r,fieldFormat:o}=i.internalProps.layoutMap.getBody(t,e);return i.getFieldData(o||r,t,e)}getCellOriginValue(t,e){if(-1===t||-1===e)return null;const n=this;if(n.internalProps.layoutMap.isSeriesNumber(t,e)){if(n.internalProps.layoutMap.isSeriesNumberInHeader(t,e)){const{title:i}=n.internalProps.layoutMap.getSeriesNumberHeader(t,e);return i}const{format:i}=n.internalProps.layoutMap.getSeriesNumberBody(t,e);return"function"==typeof i?i(t,e,this):e-this.columnHeaderLevelCount}if(n.internalProps.layoutMap.isHeader(t,e)){const{title:i}=n.internalProps.layoutMap.getHeader(t,e);return"function"==typeof i?i():i}if(n.internalProps.layoutMap.isAggregation(t,e)){if(n.internalProps.layoutMap.isTopAggregation(t,e)){const i=n.internalProps.layoutMap.getAggregatorOnTop(t,e);return null==i?void 0:i.value()}if(n.internalProps.layoutMap.isBottomAggregation(t,e)){const i=n.internalProps.layoutMap.getAggregatorOnBottom(t,e);return null==i?void 0:i.value()}}const{field:i}=n.internalProps.layoutMap.getBody(t,e);return n.getFieldData(i,t,e)}getCellRawValue(t,e){if(-1===t||-1===e)return null;const n=this;if(n.internalProps.layoutMap.isHeader(t,e)){const{title:i}=n.internalProps.layoutMap.getHeader(t,e);return"function"==typeof i?i():i}const{field:i}=n.internalProps.layoutMap.getBody(t,e);return n.getRawFieldData(i,t,e)}getRecordShowIndexByCell(t,e){const{layoutMap:n}=this.internalProps;return n.getRecordShowIndexByCell(t,e)}getRecordIndexByCell(t,e){const{layoutMap:n}=this.internalProps,i=n.getRecordShowIndexByCell(t,e);return this.dataSource.getRecordIndexPaths(i)}getTableIndexByRecordIndex(t){return this.transpose?this.dataSource.getTableIndex(t)+this.rowHeaderLevelCount:this.dataSource.getTableIndex(t)+this.columnHeaderLevelCount}getTableIndexByField(t){const e=this.internalProps.layoutMap.columnObjects.find((e=>e.field===t));if(!e)return-1;const n=this.internalProps.layoutMap.getBodyLayoutRangeById(e.id);return this.transpose?n.start.row:n.start.col}getCellAddrByFieldRecord(t,e){return this.transpose?{col:this.getTableIndexByRecordIndex(e),row:this.getTableIndexByField(t)}:{col:this.getTableIndexByField(t),row:this.getTableIndexByRecordIndex(e)}}getCellOriginRecord(t,e){const n=this.getRecordShowIndexByCell(t,e);if(n>-1)return this.dataSource.get(n)}getCellRawRecord(t,e){const n=this.getRecordShowIndexByCell(t,e);if(n>-1)return this.dataSource.getRaw(n)}_canResizeColumn(t,e){const n=super._canResizeColumn(t,e);if(n&&!this.transpose){const n=this.internalProps.layoutMap.getBody(t,this.columnHeaderLevelCount),i=this.internalProps.layoutMap.isSeriesNumber(t,e);if(null==n?void 0:n.disableColumnResize)return!1;if(i&&!0===this.internalProps.rowSeriesNumber.disableColumnResize)return!1}return n}updateOption(t){var e,n,i,r,a,s;const l=this.internalProps;if(super.updateOption(t),l.frozenColDragHeaderMode=t.frozenColDragHeaderMode,this.pagination=t.pagination,l.sortState=t.sortState,l.dataConfig=t.groupBy?M(t.groupBy):{},this.showHeader=null===(e=t.showHeader)||void 0===e||e,l.columns=t.columns?(0,x.u)(t.columns,["children"]):t.header?(0,x.u)(t.header,["children"]):[],(0,d.rQ)(this),l.enableTreeNodeMerge=null!==(i=null!==(n=t.enableTreeNodeMerge)&&void 0!==n?n:(0,o.Z)(t.groupBy))&&void 0!==i&&i,this.internalProps.headerHelper.setTableColumnsEditor(),this.transpose=null!==(r=t.transpose)&&void 0!==r&&r,this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,this.internalProps.columnWidthConfig=t.columnWidthConfig,l.releaseList&&(l.releaseList.forEach((t=>{var e;return null===(e=null==t?void 0:t.release)||void 0===e?void 0:e.call(t)})),l.releaseList=null),t.dataSource?this.dataSource=t.dataSource:t.records?this.setRecords(t.records,{sortState:t.sortState}):(this._resetFrozenColCount(),this.scenegraph.createSceneGraph(),this.render()),t.title){const e=C.F.getComponent("title");l.title=new e(t.title,this),this.scenegraph.resize()}if(this.options.emptyTip)if(this.internalProps.emptyTip)null===(a=this.internalProps.emptyTip)||void 0===a||a.resetVisible();else{const t=C.F.getComponent("emptyTip");this.internalProps.emptyTip=new t(this.options.emptyTip,this),null===(s=this.internalProps.emptyTip)||void 0===s||s.resetVisible()}return new Promise((t=>{setTimeout(t,0)}))}updatePagination(t){this.pagination&&("number"==typeof t.currentPage&&t.currentPage>=0&&(this.pagination.currentPage=t.currentPage),t.perPageCount&&(this.pagination.perPageCount=t.perPageCount||this.pagination.perPageCount),this.internalProps.layoutMap.clearCellRangeMap(),this.internalProps.useOneRowHeightFillAll=!1,this.scenegraph.clearCells(),this.dataSource.updatePagination(this.pagination),this.refreshRowColCount(),this.stateManager.initCheckedState(this.records),this.scenegraph.createSceneGraph(),this.renderAsync())}refreshHeader(){var t;const e=this.internalProps,n=this.transpose,i=this.showHeader;(e.layoutMap=new h(this,null!==(t=e.columns)&&void 0!==t?t:[],i,this.options.hierarchyIndent)).transpose=n,n||this.setMinMaxLimitWidth(!0),this.refreshRowColCount()}refreshRowColCount(){var t,e,n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v;const y=this,{layoutMap:b}=y.internalProps;if(!b)return;const w=null!==(e=null===(t=y.internalProps.dataSource)||void 0===t?void 0:t.length)&&void 0!==e?e:0;b.recordsCount=w+(w>0?b.hasAggregationOnTopCount+b.hasAggregationOnBottomCount:0),y.transpose?(y.rowCount=null!==(n=b.rowCount)&&void 0!==n?n:0,y.colCount=null!==(i=b.colCount)&&void 0!==i?i:0,this.internalProps.frozenColCount=Math.max((null!==(r=b.headerLevelCount)&&void 0!==r?r:0)+b.leftRowSeriesNumberColumnCount,null!==(o=this.options.frozenColCount)&&void 0!==o?o:0),this.internalProps.frozenRowCount=null!==(a=this.options.frozenRowCount)&&void 0!==a?a:0,y.bottomFrozenRowCount!==(null!==(s=this.options.bottomFrozenRowCount)&&void 0!==s?s:0)&&(y.bottomFrozenRowCount=null!==(l=this.options.bottomFrozenRowCount)&&void 0!==l?l:0),y.rightFrozenColCount!==(null!==(u=this.options.rightFrozenColCount)&&void 0!==u?u:0)&&(y.rightFrozenColCount=null!==(h=this.options.rightFrozenColCount)&&void 0!==h?h:0)):(y.colCount=null!==(c=b.colCount)&&void 0!==c?c:0,y.rowCount=b.recordsCount*b.bodyRowSpanCount+b.headerLevelCount,this.internalProps.frozenColCount=null!==(d=this.options.frozenColCount)&&void 0!==d?d:0,y.frozenRowCount=Math.max(b.headerLevelCount,null!==(f=this.options.frozenRowCount)&&void 0!==f?f:0),y.bottomFrozenRowCount!==(null!==(p=this.options.bottomFrozenRowCount)&&void 0!==p?p:0)&&(y.bottomFrozenRowCount=null!==(g=this.options.bottomFrozenRowCount)&&void 0!==g?g:0),y.rightFrozenColCount!==(null!==(m=this.options.rightFrozenColCount)&&void 0!==m?m:0)&&(y.rightFrozenColCount=null!==(v=this.options.rightFrozenColCount)&&void 0!==v?v:0)),this.stateManager.setFrozenCol(this.internalProps.frozenColCount)}getFieldData(t,e,n){if(null===t)return null;if(this.internalProps.layoutMap.isHeader(e,n))return null;const i=this.getRecordShowIndexByCell(this.transpose?e-this.internalProps.layoutMap.leftRowSeriesNumberColumnCount:e,n);return this.internalProps.dataSource.getField(i,t,e,n,this)}getRawFieldData(t,e,n){if(null===t)return null;if(this.internalProps.layoutMap.isHeader(e,n))return null;const i=this.getRecordShowIndexByCell(e,n);return this.internalProps.dataSource.getRawField(i,t,e,n,this)}_moveHeaderPosition(t,e){const n=this.getCellRange(t.col,t.row),i=this.getCellRange(e.col,e.row),r=this.internalProps.layoutMap.moveHeaderPosition(t,e);return r?("column"===r.moveType?(this.colWidthsMap.exchangeOrder(n.start.col,n.end.col-n.start.col+1,i.start.col,i.end.col-i.start.col+1,r.targetIndex),this.transpose||(this.colWidthsLimit={},this.setMinMaxLimitWidth())):r.targetIndex>r.sourceIndex?this.rowHeightsMap.exchangeOrder(r.sourceIndex,r.sourceSize,r.targetIndex+r.sourceSize-r.targetSize,r.targetSize,r.targetIndex):this.rowHeightsMap.exchangeOrder(r.sourceIndex,r.sourceSize,r.targetIndex,r.targetSize,r.targetIndex),r):null}changeRecordOrder(t,e){this.transpose?(t=this.getRecordShowIndexByCell(t,0),e=this.getRecordShowIndexByCell(e,0)):(t=this.getRecordShowIndexByCell(0,t),e=this.getRecordShowIndexByCell(0,e)),this.dataSource.changeOrder(t,e)}getCellAddress(t,e){let n;for(let e=0;e<this.internalProps.records.length;e++){const i=this.internalProps.records[e];if("function"==typeof t)t(i)&&(n=e);else{let r=!0;for(const e in t)if(i[e]!==t[e]){r=!1;break}r&&(n=e)}if((0,o.Z)(n))break}const i=this.getCellRangeByField(e,n);if(i)return{row:i.start.row,col:i.start.col}}getCellRangeByField(t,e){const{layoutMap:n}=this.internalProps,i=n.columnObjects.find((e=>e.field===t));if(i){const t=n.getBodyLayoutRangeById(i.id);let r;return(0,o.Z)(e)&&(r=n.getRecordStartRowByRecordIndex(e)),this.transpose?{start:{row:t.start.row,col:(0,o.Z)(r)?r+t.start.col:void 0},end:{row:t.end.row,col:(0,o.Z)(r)?r+t.end.col:void 0}}:{start:{col:t.start.col,row:(0,o.Z)(r)?r+t.start.row:void 0},end:{col:t.end.col,row:(0,o.Z)(r)?r+t.end.row:void 0}}}return null}getHierarchyState(t,e){if(!this.options.groupBy&&!this.getBodyColumnDefine(t,e).tree)return i.g.none;const n=this.getRecordShowIndexByCell(t,e);return this.dataSource.getHierarchyState(n)}toggleHierarchyState(t,e,n=!0){this.stateManager.updateHoverIcon(t,e,void 0,void 0);const r=this.getHierarchyState(t,e);if(r===i.g.expand)this._refreshHierarchyState(t,e,n),this.fireListeners(p.B.TREE_HIERARCHY_STATE_CHANGE,{col:t,row:e,hierarchyState:i.g.collapse});else if(r===i.g.collapse){const r=this.getCellOriginRecord(t,e);Array.isArray(r.children)&&this._refreshHierarchyState(t,e,n),this.fireListeners(p.B.TREE_HIERARCHY_STATE_CHANGE,{col:t,row:e,hierarchyState:i.g.expand,originData:r})}}setLoadingHierarchyState(t,e){this.scenegraph.setLoadingHierarchyState(t,e)}_refreshHierarchyState(t,e,n=!0){var i,r;let o=!1,a=!1;const s=this.internalProps.layoutMap.checkHasChart();s&&(this.autoFillWidth&&(o=this.getAllColsWidth()<=this.tableNoFrameWidth),this.autoFillHeight&&(a=this.getAllRowsHeight()<=this.tableNoFrameHeight));const l=this.getRecordShowIndexByCell(t,e),u=this.dataSource.toggleHierarchyState(l,this.scenegraph.proxy.rowStart-this.columnHeaderLevelCount,Math.max(this.scenegraph.proxy.rowEnd-this.columnHeaderLevelCount,this.scenegraph.proxy.rowStart-this.columnHeaderLevelCount+this.scenegraph.proxy.rowLimit-1)),h=this.internalProps.layoutMap.toggleHierarchyState(u);this.refreshRowColCount();for(let t=this.rowCount-this.bottomFrozenRowCount;t<this.rowCount;t++){const e=(0,y.P)(t,0,this.colCount-1,this);this._setRowHeight(t,e)}this.clearCellStyleCache(),this.internalProps.layoutMap.clearCellRangeMap(),this.internalProps.useOneRowHeightFillAll=!1;const{updateCells:c,addCells:d,removeCells:f}=function(t,e,n,i){const r=[{col:e,row:n}],o=[],a=[],{addCellPositions:s,removeCellPositions:l}=t,u=i.scenegraph.proxy,{rowStart:h,rowLimit:c}=u;let{rowEnd:d}=u,f=1/0;for(let t=0;t<s.length;t++){const{row:n}=s[t];d-h+1===c?n>=h&&n<=d&&(f=Math.min(f,n)):(o.push({col:e,row:n}),d++)}const p=Math.min(h+c,i.rowCount-1-i.bottomFrozenRowCount),g=p<h+c;for(let t=0;t<l.length;t++){const{row:n}=l[l.length-t-1];n<h||n>d||(n>p||g?(a.push({col:e,row:n}),f--):f=Math.min(f,n))}if(f!==1/0)for(let t=f;t<=d;t++)r.push({col:e,row:t});return i.scenegraph.proxy.refreshRowCount(),{updateCells:r,addCells:o,removeCells:a}}(h,t,e,this);null===(i=this.reactCustomLayout)||void 0===i||i.clearCache(),this.scenegraph.updateRow(f,d,c,n,!0),null===(r=this.reactCustomLayout)||void 0===r||r.updateAllCustomCell(),s&&(this.autoFillWidth&&!o&&(o=this.getAllColsWidth()<=this.tableNoFrameWidth),this.autoFillHeight&&!a&&(a=this.getAllRowsHeight()<=this.tableNoFrameHeight),("adaptive"===this.widthMode||o||"adaptive"===this.heightMode||a)&&this.scenegraph.updateChartSizeForResizeColWidth(-1))}_hasHierarchyTreeHeader(){var t,e;return null===(e=null!==(t=this.options.columns)&&void 0!==t?t:this.options.header)||void 0===e?void 0:e.some(((t,e)=>t.tree))}getMenuInfo(t,e,n){return{field:this.getHeaderField(t,e),value:this.getCellValue(t,e),cellLocation:this.getCellLocation(t,e),event:void 0}}_getSortFuncFromHeaderOption(t,e,n){if(t||(t=this.internalProps.columns),e&&t&&t.length>0)for(let i=0;i<t.length;i++){const r=t[i];if((n&&n===r.fieldKey||!n&&r.field===e)&&r.sort&&"function"==typeof r.sort)return r.sort;if(r.columns){const t=this._getSortFuncFromHeaderOption(r.columns,e,n);if(t)return t}}}updateSortState(t,e=!0){var n;if(t)this.internalProps.sortState=t;else if(this.internalProps.sortState)if(Array.isArray(this.internalProps.sortState))for(let e=0;e<this.internalProps.sortState.length;e++)(t=null===(n=this.internalProps.sortState)||void 0===n?void 0:n[e])&&(t.order="normal");else this.internalProps.sortState.order="normal",t=this.internalProps.sortState;(t=Array.isArray(t)?t:[t]).some((t=>t.field))&&e&&this.internalProps.layoutMap.headerObjects.some((t=>!1!==t.define.sort))&&(this.dataSource.sort(t.map((t=>{const e=this._getSortFuncFromHeaderOption(this.internalProps.columns,t.field);return this.internalProps.layoutMap.headerObjects.find((e=>e&&e.field===t.field)),{field:t.field,order:t.order,orderFn:null!=e?e:b.K$}}))),this.internalProps.layoutMap.clearCellRangeMap(),this.internalProps.useOneRowHeightFillAll=!1,this.scenegraph.sortCell()),t.length&&this.stateManager.updateSortState(t)}updateFilterRules(t){this.scenegraph.clearCells(),this.sortState?(this.dataSource.updateFilterRulesForSorted(t),R(this)):this.dataSource.updateFilterRules(t),this.refreshRowColCount(),this.stateManager.initCheckedState(this.records),this.scenegraph.createSceneGraph()}getCheckboxState(t){if(this.stateManager.checkedState.size<this.rowCount-this.columnHeaderLevelCount&&this.stateManager.initLeftRecordsCheckState(this.records),(0,o.Z)(t)){let e=this.stateManager.checkedState.values();return this.options.groupBy&&(e=(0,_.aC)(this)),Array.from(e,(e=>e[t]))}return new Array(...this.stateManager.checkedState.values())}getCellCheckboxState(t,e){var n;const i=this.getBodyColumnDefine(t,e),r=null==i?void 0:i.field,a=this.getCellType(t,e);if((0,o.Z)(r)&&"checkbox"===a){const i=this.dataSource.getIndexKey(this.getRecordShowIndexByCell(t,e)).toString();return null===(n=this.stateManager.checkedState.get(i))||void 0===n?void 0:n[r]}}getRadioState(t){return(0,o.Z)(t)?this.stateManager.radioState[t]:this.stateManager.radioState}getCellRadioState(t,e){return(0,w.Wg)(t,e,this)}setCellCheckboxState(t,e,n){(0,_.Jd)(t,e,n,this)}setCellRadioState(t,e,n){(0,w.vj)(t,e,n,this)}setRecords(t,e){var n,i,r,a;let s;null===(n=this.internalProps.dataSource)||void 0===n||n.release(),this.internalProps.releaseList=null===(i=this.internalProps.releaseList)||void 0===i?void 0:i.filter((t=>!t.dataSourceObj)),this.internalProps.dataSource=null,Array.isArray(e)||(null==e?void 0:e.order)?s=e:e?s=e.sortState:null===e&&(s=null),"undefined"!=typeof window&&window.performance.now();const l={col:this.stateManager.hover.cellPos.col,row:this.stateManager.hover.cellPos.row};if(this.scenegraph.clearCells(),void 0!==s&&(null===s||!Array.isArray(s)&&(0,o.Z)(s.field)||Array.isArray(s))&&(this.internalProps.sortState=this.internalProps.multipleSort?Array.isArray(s)?s:[s]:s,this.stateManager.setSortState(this.sortState)),t){if((0,d.mP)(this,t),this.sortState){const t=Array.isArray(this.sortState)?this.sortState:[this.sortState];t.some((t=>t.order&&t.field&&"normal"!==t.order))&&this.internalProps.layoutMap.headerObjectsIncludeHided.some((t=>!1!==t.define.sort))&&this.dataSource.sort(t.map((t=>{const e=this._getSortFuncFromHeaderOption(void 0,t.field);return this.internalProps.layoutMap.headerObjectsIncludeHided.find((e=>e&&e.field===t.field)),{field:t.field,order:t.order||"asc",orderFn:null!=e?e:b.K$}})))}this.refreshRowColCount()}else(0,d.mP)(this,t);if(this.stateManager.initCheckedState(t),this.clearCellStyleCache(),this.scenegraph.createSceneGraph(),this.stateManager.updateHoverPos(l.col,l.row),this.internalProps.title&&!this.internalProps.title.isReleased&&(this._updateSize(),this.internalProps.title.resize(),this.scenegraph.resize()),this.options.emptyTip)if(this.internalProps.emptyTip)null===(r=this.internalProps.emptyTip)||void 0===r||r.resetVisible();else{const t=C.F.getComponent("emptyTip");this.internalProps.emptyTip=new t(this.options.emptyTip,this),null===(a=this.internalProps.emptyTip)||void 0===a||a.resetVisible()}this.render(),(0,o.Z)(l.col)&&(0,o.Z)(l.row)&&l.col>=0&&l.row>=0&&setTimeout((()=>{var t;null===(t=this.internalProps)||void 0===t||t.tooltipHandler.showTooltip(l.col,l.row)}),0)}setRecordChildren(t,e,n,i=!0){const r=this.getCellOriginRecord(e,n);r.children=t;const o=this.getRecordShowIndexByCell(e,n);this.dataSource.setRecord(r,o),this._refreshHierarchyState(e,n,i)}startEditCell(t,e,n){var i;if((0,o.Z)(t)&&(0,o.Z)(e))this.eventManager.isDraging=!1,this.selectCell(t,e),this.editorManager.startEditCell(t,e,n);else if(null===(i=this.stateManager.select)||void 0===i?void 0:i.cellPos){const{col:t,row:e}=this.stateManager.select.cellPos;(0,o.Z)(t)&&(0,o.Z)(e)&&this.editorManager.startEditCell(t,e,n)}}completeEditCell(){this.editorManager.completeEdit()}getEditor(t,e){var n,i;const r=this.getBodyColumnDefine(t,e);let o=this.isHeader(t,e)?null!==(n=null==r?void 0:r.headerEditor)&&void 0!==n?n:this.options.headerEditor:null!==(i=null==r?void 0:r.editor)&&void 0!==i?i:this.options.editor;return"function"==typeof o&&(o=o({col:t,row:e,dataValue:this.getCellOriginValue(t,e),value:this.getCellValue(t,e)||"",table:this})),"string"==typeof o?m.U(o):o}isHasEditorDefine(t,e){var n,i;const r=this.getBodyColumnDefine(t,e);let a=this.isHeader(t,e)?null!==(n=null==r?void 0:r.headerEditor)&&void 0!==n?n:this.options.headerEditor:null!==(i=null==r?void 0:r.editor)&&void 0!==i?i:this.options.editor;return"function"==typeof a&&(a=a({col:t,row:e,dataValue:this.getCellOriginValue(t,e),value:this.getCellValue(t,e)||"",table:this})),(0,o.Z)(a)}changeCellValue(t,e,n,i=!1){return function(t,e,n,i,r){if(i&&r.isHasEditorDefine(t,e)||!1===i){const i=r.getRecordShowIndexByCell(t,e),{field:o}=r.internalProps.layoutMap.getBody(t,e),a=r.getCellRawValue(t,e),s=r.getCellOriginValue(t,e);r.isHeader(t,e)?r.internalProps.layoutMap.updateColumnTitle(t,e,n):r.dataSource.changeFieldValue(n,i,o,t,e,r);const l=r.getCellRange(t,e),u=r.internalProps.layoutMap.getAggregatorsByCell(t,e);if(u){if(Array.isArray(u))for(let t=0;t<(null==u?void 0:u.length);t++)u[t].recalculate();else u.recalculate();const t=r.internalProps.layoutMap.getAggregatorCellAddress(l.start.col,l.start.row,l.end.col,l.end.row);for(let e=0;e<t.length;e++){const n=r.getCellRange(t[e].col,t[e].row);for(let t=n.start.col;t<=n.end.col;t++)for(let e=n.start.row;e<=n.end.row;e++)r.scenegraph.updateCellContent(t,e)}}for(let t=l.start.col;t<=l.end.col;t++)for(let e=l.start.row;e<=l.end.row;e++)r.scenegraph.updateCellContent(t,e);if("adaptive"===r.widthMode||r.autoFillWidth&&r.getAllColsWidth()<=r.tableNoFrameWidth)0===r.internalProps._widthResizedColMap.size&&r.scenegraph.recalculateColWidths();else if(!r.internalProps._widthResizedColMap.has(t)){const e=r.getColWidth(t),n=(0,A.al)(t,0,r.rowCount-1,r,!1);n!==e&&r.scenegraph.updateColWidth(t,n-e)}if("adaptive"===r.heightMode||r.autoFillHeight&&r.getAllRowsHeight()<=r.tableNoFrameHeight)0===r.internalProps._heightResizedRowMap.size&&r.scenegraph.recalculateRowHeights();else if(r.isAutoRowHeight()&&!r.internalProps._heightResizedRowMap.has(e)){const t=r.getRowHeight(e),n=(0,y.P)(e,0,r.colCount-1,r);r.scenegraph.updateRowHeight(e,n-t)}const h=r.getCellOriginValue(t,e);s!==h&&r.fireListeners(p.B.CHANGE_CELL_VALUE,{col:t,row:e,rawValue:a,currentValue:s,changedValue:h}),r.scenegraph.updateNextFrame()}}(t,e,n,i,this)}changeCellValues(t,e,n,i=!1){return function(t,e,n,i,r){var o,a;let s=t,l=e;const u=[],h=[];let c;for(let i=0;i<n.length&&!(e+i>r.rowCount-1);i++){const o=n[i],a=[],s=[];u.push(a),h.push(s);for(let n=0;n<o.length&&!(t+n>r.colCount-1);n++){c=k(t+n,e+i,r,c);const o=r.getCellRawValue(t+n,e+i);a.push(o);const l=r.getCellOriginValue(t+n,e+i);s.push(l)}}for(let c=0;c<n.length&&!(e+c>r.rowCount-1);c++){l=e+c;const d=n[c];let f=t;for(let n=0;n<d.length&&!(t+n>r.colCount-1);n++){f=t+n;let s=!1;if(!1===i)s=!0;else if(r.isHasEditorDefine(t+n,e+c)){const i=r.getEditor(t+n,e+c),l=h[c][n],u=d[n],f=null===(a=null===(o=null==i?void 0:i.validateValue)||void 0===o?void 0:o.call(i,u,l))||void 0===a||a;s=!!(0,T.tI)(f)||!0===f||"validate-exit"===f||"invalidate-exit"===f}if(s){const i=d[n],o=r.getRecordShowIndexByCell(t+n,e+c),{field:a}=r.internalProps.layoutMap.getBody(t+n,e+c),s=u[c][n],l=h[c][n];r.isHeader(t+n,e+c)?r.internalProps.layoutMap.updateColumnTitle(t+n,e+c,i):r.dataSource.changeFieldValue(i,o,a,t+n,e+c,r);const f=r.getCellOriginValue(t+n,e+c);l!==f&&r.fireListeners(p.B.CHANGE_CELL_VALUE,{col:t+n,row:e+c,rawValue:s,currentValue:l,changedValue:f})}}s=Math.max(s,f)}const d=r.getCellRange(t,e),f=r.getCellRange(s,l),g=r.internalProps.layoutMap.getAggregatorsByCellRange(d.start.col,d.start.row,f.end.col,f.end.row);if(g){for(let t=0;t<(null==g?void 0:g.length);t++)g[t].recalculate();if("normal"===c){const t=r.internalProps.layoutMap.getAggregatorCellAddress(d.start.col,d.start.row,f.end.col,f.end.row);for(let e=0;e<t.length;e++){const n=r.getCellRange(t[e].col,t[e].row);for(let t=n.start.col;t<=n.end.col;t++)for(let e=n.start.row;e<=n.end.row;e++)r.scenegraph.updateCellContent(t,e)}}}if("group"===c&&r.dataSource.updateRecordsForGroup([],[]),"sort"===c||"group"===c)return r.dataSource.sortedIndexMap.clear(),R(r),r.refreshRowColCount(),r.internalProps.layoutMap.clearCellRangeMap(),r.scenegraph.clearCells(),void r.scenegraph.createSceneGraph();for(let t=d.start.col;t<=f.end.col;t++)for(let e=d.start.row;e<=f.end.row;e++)r.scenegraph.updateCellContent(t,e);if("adaptive"===r.widthMode||r.autoFillWidth&&r.getAllColsWidth()<=r.tableNoFrameWidth)0===r.internalProps._widthResizedColMap.size&&r.scenegraph.recalculateColWidths();else for(let e=t;e<=f.end.col;e++)if(!r.internalProps._widthResizedColMap.has(e)){const t=r.getColWidth(e),n=(0,A.al)(e,0,r.rowCount-1,r,!1);n!==t&&r.scenegraph.updateColWidth(e,n-t)}if("adaptive"===r.heightMode||r.autoFillHeight&&r.getAllRowsHeight()<=r.tableNoFrameHeight)r.scenegraph.recalculateRowHeights();else if(r.isAutoRowHeight()){const t=[],n=[];for(let i=e;i<=f.end.row;i++)if(r.rowHeightsMap.get(i)){const e=r.getRowHeight(i),o=(0,y.P)(i,0,r.colCount-1,r);t.push(i),n.push(o-e)}r.scenegraph.updateRowsHeight(t,n)}r.scenegraph.updateNextFrame()}(t,e,n,i,this)}addRecord(t,e){var n;(function(t,e,n){var i,r,o,a;if(n.options.groupBy)null===(r=(i=n.dataSource).addRecordsForGroup)||void 0===r||r.call(i,[t],e),n.refreshRowColCount(),n.internalProps.layoutMap.clearCellRangeMap(),n.sortState&&R(n),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else if("tree"===n.dataSource.rowHierarchyType)null===(a=(o=n.dataSource).addRecordsForTree)||void 0===a||a.call(o,[t],e),n.refreshRowColCount(),n.internalProps.layoutMap.clearCellRangeMap(),n.sortState&&R(n),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else if(n.sortState)n.dataSource.addRecordForSorted(t),R(n),n.refreshRowColCount(),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else{(void 0===e||e>n.dataSource.sourceLength)&&(e=n.dataSource.sourceLength);const i=n.transpose?n.rowHeaderLevelCount:n.columnHeaderLevelCount;n.dataSource.addRecord(t,e);const r=n.rowCount;if(n.refreshRowColCount(),0===n.scenegraph.proxy.totalActualBodyRowCount)return n.scenegraph.clearCells(),void n.scenegraph.createSceneGraph();const o=n.transpose?n.colCount:n.rowCount;if(n.pagination){const{perPageCount:t,currentPage:a}=n.pagination,s=t*(a||0)+t;if(e<s)if(e<s-t)n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else{const a=e-(s-t)+i;if(r-i===n.pagination.perPageCount){const t=[];for(let e=a;e<o;e++)n.transpose?t.push({col:e,row:0}):t.push({col:0,row:e});n.transpose?n.scenegraph.updateCol([],[],t):n.scenegraph.updateRow([],[],t)}else{const t=[];for(let e=a;e<Math.min(o,a+1);e++)n.transpose?t.push({col:e,row:0}):t.push({col:0,row:e});n.transpose?n.scenegraph.updateCol([],t,[]):n.scenegraph.updateRow([],t,[])}}}else{const t=[];for(let r=e+i;r<e+i+1;r++)n.transpose?t.push({col:r,row:0}):t.push({col:0,row:r});const r=[],o=n.internalProps.layoutMap.hasAggregationOnTopCount,a=n.internalProps.layoutMap.hasAggregationOnBottomCount;for(let t=i;t<i+o;t++)n.transpose?r.push({col:t,row:0}):r.push({col:0,row:t});for(let t=(n.transpose?n.colCount:n.rowCount)-a;t<(n.transpose?n.colCount:n.rowCount);t++)n.transpose?r.push({col:t,row:0}):r.push({col:0,row:t});n.transpose?n.scenegraph.updateCol([],t,[]):n.scenegraph.updateRow([],t,[])}}})(t,e,this),null===(n=this.internalProps.emptyTip)||void 0===n||n.resetVisible()}addRecords(t,e){var n;(function(t,e,n){var i,r,o,a;if(n.options.groupBy)null===(r=(i=n.dataSource).addRecordsForGroup)||void 0===r||r.call(i,t,e),n.refreshRowColCount(),n.internalProps.layoutMap.clearCellRangeMap(),n.sortState&&R(n),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else if("tree"===n.dataSource.rowHierarchyType)null===(a=(o=n.dataSource).addRecordsForTree)||void 0===a||a.call(o,t,e),n.refreshRowColCount(),n.internalProps.layoutMap.clearCellRangeMap(),n.sortState&&R(n),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else if(n.sortState)n.dataSource.addRecordsForSorted(t),R(n),n.refreshRowColCount(),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else{void 0===e||e>n.dataSource.sourceLength?e=n.dataSource.sourceLength:e<0&&(e=0);const i=n.transpose?n.rowHeaderLevelCount:n.columnHeaderLevelCount;n.dataSource.addRecords(t,e);const r=n.transpose?n.colCount:n.rowCount;if(n.refreshRowColCount(),0===n.scenegraph.proxy.totalActualBodyRowCount)return n.scenegraph.clearCells(),void n.scenegraph.createSceneGraph();const o=n.transpose?n.colCount:n.rowCount;if(n.pagination){const{perPageCount:a,currentPage:s}=n.pagination,l=a*(s||0)+a;if(e<l)if(e<l-a)n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else{const s=e-(l-a)+i;if(r-i===n.pagination.perPageCount){const t=[];for(let e=s;e<o;e++)n.transpose?t.push({col:e,row:0}):t.push({col:0,row:e});n.transpose?n.scenegraph.updateCol([],[],t):n.scenegraph.updateRow([],[],t)}else{const e=[];for(let i=s;i<Math.min(o,s+(Array.isArray(t)?t.length:1));i++)n.transpose?e.push({col:i,row:0}):e.push({col:0,row:i});n.transpose?n.scenegraph.updateCol([],e,[]):n.scenegraph.updateRow([],e,[])}}}else{const r=[];for(let o=e+i;o<e+i+(Array.isArray(t)?t.length:1);o++)n.transpose?r.push({col:o,row:0}):r.push({col:0,row:o});const o=n.internalProps.layoutMap.hasAggregationOnTopCount,a=n.internalProps.layoutMap.hasAggregationOnBottomCount,s=[];for(let t=i;t<i+o;t++)n.transpose?s.push({col:t,row:0}):s.push({col:0,row:t});for(let t=(n.transpose?n.colCount:n.rowCount)-a;t<(n.transpose?n.colCount:n.rowCount);t++)n.transpose?s.push({col:t,row:0}):s.push({col:0,row:t});n.transpose?n.scenegraph.updateCol([],r,s):n.scenegraph.updateRow([],r,s)}}})(t,e,this),null===(n=this.internalProps.emptyTip)||void 0===n||n.resetVisible()}deleteRecords(t){var e;(function(t,e){var n,i,r,o,a,s,l,u;if((null==t?void 0:t.length)>0)if(e.options.groupBy)null===(i=(n=e.dataSource).deleteRecordsForGroup)||void 0===i||i.call(n,t),e.refreshRowColCount(),e.internalProps.layoutMap.clearCellRangeMap(),e.sortState&&R(e),e.scenegraph.clearCells(),e.scenegraph.createSceneGraph();else if("tree"===e.dataSource.rowHierarchyType)null===(o=(r=e.dataSource).deleteRecordsForTree)||void 0===o||o.call(r,t),e.refreshRowColCount(),e.internalProps.layoutMap.clearCellRangeMap(),e.sortState&&R(e),e.scenegraph.clearCells(),e.scenegraph.createSceneGraph();else if(e.sortState)e.dataSource.deleteRecordsForSorted(t),R(e),e.refreshRowColCount(),e.scenegraph.clearCells(),e.scenegraph.createSceneGraph();else{const n=e.dataSource.deleteRecords(t);if(0===n.length)return;const i=e.transpose?e.colCount:e.rowCount;e.refreshRowColCount();const r=e.transpose?e.colCount:e.rowCount,o=n.sort(((t,e)=>t-e)),h=o[0];if(e.pagination){const{perPageCount:t,currentPage:n}=e.pagination,o=t*(n||0)+t;if(h<o)if(h<o-t)e.scenegraph.clearCells(),e.scenegraph.createSceneGraph();else{const n=e.transpose?e.rowHeaderLevelCount:e.columnHeaderLevelCount,l=e.internalProps.layoutMap.hasAggregationOnTopCount,u=[],c=[];for(let n=h-(o-t)+(e.transpose?e.rowHeaderLevelCount:e.columnHeaderLevelCount)+l;n<r;n++)e.transpose?u.push({col:n,row:0}):u.push({col:0,row:n});for(let t=n;t<n+l;t++)e.transpose?u.push({col:t,row:0}):u.push({col:0,row:t});if(r<i)for(let t=r;t<i;t++)e.transpose?c.push({col:t,row:0}):c.push({col:0,row:t});null===(a=e.reactCustomLayout)||void 0===a||a.clearCache(),e.transpose?e.scenegraph.updateCol(c,[],u):e.scenegraph.updateRow(c,[],u),null===(s=e.reactCustomLayout)||void 0===s||s.updateAllCustomCell()}}else{const t=[],n=e.transpose?e.rowHeaderLevelCount:e.columnHeaderLevelCount,i=e.internalProps.layoutMap.hasAggregationOnTopCount,r=e.internalProps.layoutMap.hasAggregationOnBottomCount;for(let r=0;r<o.length;r++){const a=o[r]+n+i;e.transpose?t.push({col:a,row:0}):t.push({col:0,row:a})}const a=[];for(let t=n;t<n+i;t++)e.transpose?a.push({col:t,row:0}):a.push({col:0,row:t});for(let t=(e.transpose?e.colCount:e.rowCount)-r;t<(e.transpose?e.colCount:e.rowCount);t++)e.transpose?a.push({col:t,row:0}):a.push({col:0,row:t});null===(l=e.reactCustomLayout)||void 0===l||l.clearCache(),e.transpose?e.scenegraph.updateCol(t,[],a):e.scenegraph.updateRow(t,[],a),null===(u=e.reactCustomLayout)||void 0===u||u.updateAllCustomCell()}}})(t,this),null===(e=this.internalProps.emptyTip)||void 0===e||e.resetVisible()}updateRecords(t,e){!function(t,e,n){var i,r,o,a;if((null==e?void 0:e.length)>0)if(n.options.groupBy)null===(r=(i=n.dataSource).updateRecordsForGroup)||void 0===r||r.call(i,t,e),n.refreshRowColCount(),n.internalProps.layoutMap.clearCellRangeMap(),n.sortState&&R(n),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else if("tree"===n.dataSource.rowHierarchyType)null===(a=(o=n.dataSource).updateRecordsForTree)||void 0===a||a.call(o,t,e),n.refreshRowColCount(),n.internalProps.layoutMap.clearCellRangeMap(),n.sortState&&R(n),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else if(n.sortState)n.dataSource.updateRecordsForSorted(t,e),R(n),n.refreshRowColCount(),n.scenegraph.clearCells(),n.scenegraph.createSceneGraph();else{const i=n.dataSource.updateRecords(t,e);if(0===i.length)return;const r=i.map((t=>n.getBodyRowIndexByRecordIndex(t))).sort(((t,e)=>t-e));if(n.pagination){const{perPageCount:t,currentPage:e}=n.pagination,i=n.transpose?n.rowHeaderLevelCount:n.columnHeaderLevelCount,o=n.internalProps.layoutMap.hasAggregationOnTopCount,a=t*(e||0)+t,s=[];for(let e=0;e<r.length;e++){const i=r[e];if(i<a&&i>=a-t){const e=i-(a-t)+(n.transpose?n.rowHeaderLevelCount:n.columnHeaderLevelCount)+o;s.push(e)}}if(s.length>=1){const t=[];for(let e=0;e<s.length;e++){const i=s[e];n.transpose?t.push({col:i,row:0}):t.push({col:0,row:i})}for(let e=i;e<i+o;e++)n.transpose?t.push({col:e,row:0}):t.push({col:0,row:e});n.transpose?n.scenegraph.updateCol([],[],t):n.scenegraph.updateRow([],[],t)}}else{const t=[],e=n.transpose?n.rowHeaderLevelCount:n.columnHeaderLevelCount,i=n.internalProps.layoutMap.hasAggregationOnTopCount,o=n.internalProps.layoutMap.hasAggregationOnBottomCount;for(let o=0;o<r.length;o++){const a=r[o]+e+i;n.transpose?t.push({col:a,row:0}):t.push({col:0,row:a})}for(let r=e;r<e+i;r++)n.transpose?t.push({col:r,row:0}):t.push({col:0,row:r});for(let e=(n.transpose?n.colCount:n.rowCount)-o;e<(n.transpose?n.colCount:n.rowCount);e++)n.transpose?t.push({col:e,row:0}):t.push({col:0,row:e});n.transpose?n.scenegraph.updateCol([],[],t):n.scenegraph.updateRow([],[],t)}}}(t,e,this)}_hasCustomRenderOrLayout(){var t,e,n,i;const{headerObjects:r}=this.internalProps.layoutMap;if(this.options.customRender)return!0;for(let o=0;o<r.length;o++){const a=r[o];if((null===(t=null==a?void 0:a.define)||void 0===t?void 0:t.customLayout)||(null===(e=null==a?void 0:a.define)||void 0===e?void 0:e.headerCustomLayout)||(null===(n=null==a?void 0:a.define)||void 0===n?void 0:n.customRender)||(null===(i=null==a?void 0:a.define)||void 0===i?void 0:i.headerCustomRender))return!0}return!1}getAggregateValuesByField(t){const e=this.internalProps.layoutMap.getColumnByField(t),n=[];for(let t=0;t<e.length;t++){const i=e[t].columnDefine.aggregator;if(delete e[t].columnDefine,i){const r={col:e[t].col,aggregateValue:null};if(r.aggregateValue=[],Array.isArray(i))for(let t=0;t<i.length;t++)r.aggregateValue.push({aggregationType:i[t].type,value:i[t].value()});else r.aggregateValue.push({aggregationType:i.type,value:i.value()});n.push(r)}}return n}isAggregation(t,e){return this.internalProps.layoutMap.isAggregation(t,e)}getGroupTitleLevel(t,e){var n;if(!this.options.groupBy)return;const i=this.dataSource.getIndexKey(this.getRecordShowIndexByCell(t,e)),r=null!==(n=this.dataSource.getGroupLength())&&void 0!==n?n:0;let o=(0,c.Z)(i)?i.length-1:0;return r>0&&o===r&&(o=void 0),o}getBodyRowIndexByRecordIndex(t){return Array.isArray(t)&&1===t.length&&(t=t[0]),this.dataSource.getTableIndex(t)}_parseColumnWidthConfig(t){for(let e=0;e<(null==t?void 0:t.length);e++){const n=t[e],i=n.key,r=n.width,o=this.internalProps.layoutMap.getColumnByKey(i);if(o.columnDefine){const{col:t}=o;this.internalProps._widthResizedColMap.has(t)||(this._setColWidth(t,r),this.internalProps._widthResizedColMap.add(t))}}}}},82126:function(t,e,n){"use strict";n.d(e,{I:function(){return a}});var i=n(22521),r=n(73403),o=n(52672);(0,r.R2)(),(0,r.Eg)(),(0,r.I)(),(0,r.FD)(),(0,r._t)(),(0,r.Mh)(),(0,o.LQ)(),(0,o.yR)(),(0,o.pk)(),(0,o.m4)(),(0,o.Jy)(),(0,o.dB)(),(0,o.ge)(),(0,o.au)();class a extends i.Z{}},22521:function(t,e,n){"use strict";n.d(e,{Z:function(){return M}});var i=n(19401),r=n(86036),o=n(48887),a=n(70375);class s{constructor(t,e){this.tree={},this.beforeChangedTree={},this.colFlatKeys={},this.rowFlatKeys={},this.stringJoinChar=String.fromCharCode(0),this.rowsIsTotal=[],this.colsIsTotal=[],this.dataConfig=t,e&&(this.records=e,"undefined"!=typeof window&&window.performance.now(),this.setRecords(e),"undefined"!=typeof window&&window.performance.now())}changeDataConfig(t){this.dataConfig=t}setRecords(t){this.processRecords()}processRecords(){for(let t=0,e=this.records.length;t<e;t++){const e=this.records[t];this.processRecord(e)}}processRecord(t){var e;const n=[],i=[];for(let e=0,n=this.dataConfig.rows.length;e<n;e++){const n=this.dataConfig.rows[e];void 0!==t[n]&&n!==this.dataConfig.indicatorDimensionKey&&i.push(t[n])}for(let e=0,i=this.dataConfig.columns.length;e<i;e++){const i=this.dataConfig.columns[e];void 0!==t[i]&&i!==this.dataConfig.indicatorDimensionKey&&n.push(t[i])}null===(e=this.dataConfig.indicators)||void 0===e||e.forEach((e=>{const r=t[e];void 0!==r&&(this.dataConfig.indicatorsAsCol?n.push(e):i.push(e));const o=i.join(this.stringJoinChar),a=n.join(this.stringJoinChar);0!==i.length&&(this.rowFlatKeys[o]||(this.rowFlatKeys[o]=1)),0!==n.length&&(this.colFlatKeys[a]||(this.colFlatKeys[a]=1)),0===n.length&&0===i.length||(this.tree[o]||(this.tree[o]={}),void 0!==r&&(this.tree[o][a]={value:r,record:t},this.dataConfig.indicatorsAsCol?n.pop():i.pop()))}))}getTreeNode(t=[],e=[],n,i=!0){var r,o,s,l;let u,h;if("string"==typeof t)u=t;else{let e=!1;t.map(((i,r)=>{i===n&&(t.splice(r,1),e=!0)})),e&&t.push(n),u=t.join(this.stringJoinChar)}if("string"==typeof e)h=e;else{let t=!1;e.map(((i,r)=>{i===n&&(e.splice(r,1),t=!0)})),t&&e.push(n),h=e.join(this.stringJoinChar)}return i?null!==(s=null===(o=null===(r=this.tree)||void 0===r?void 0:r[u])||void 0===o?void 0:o[h])&&void 0!==s?s:void 0:(0,a.Z)(null===(l=this.beforeChangedTree[u])||void 0===l?void 0:l[h])?{value:this.beforeChangedTree[u][h].value,record:this.beforeChangedTree[u][h].record}:void 0}changeTreeNodeValue(t=[],e=[],n,i){var r,o,a,s,l,u,h;let c,d;if("string"==typeof t)c=t;else{let e=!1;t.map(((i,r)=>{i===n&&(t.splice(r,1),e=!0)})),e&&t.push(n),c=t.join(this.stringJoinChar)}if("string"==typeof e)d=e;else{let t=!1;e.map(((i,r)=>{i===n&&(e.splice(r,1),t=!0)})),t&&e.push(n),d=e.join(this.stringJoinChar)}const f=null===(o=null===(r=this.tree[c])||void 0===r?void 0:r[d])||void 0===o?void 0:o.value,p=Object.assign({},null===(s=null===(a=this.tree[c])||void 0===a?void 0:a[d])||void 0===s?void 0:s.record);(null===(u=null===(l=this.tree[c])||void 0===l?void 0:l[d])||void 0===u?void 0:u.record)?(this.tree[c][d].record[n]=i,this.tree[c][d].value=i):(this.tree[c]||(this.tree[c]={}),this.tree[c][d]={record:this._buildRecord(t,e,n,i),value:i}),(null===(h=this.beforeChangedTree[c])||void 0===h?void 0:h[d])||(this.beforeChangedTree[c]={},this.beforeChangedTree[c][d]={record:void 0,value:void 0},this.beforeChangedTree[c][d].record=p,this.beforeChangedTree[c][d].value=f)}_buildRecord(t=[],e=[],n,i){const r={},o=this.dataConfig.rows,a=this.dataConfig.columns;return o.forEach(((e,n)=>{e!==this.dataConfig.indicatorDimensionKey&&(r[e]=t[n])})),a.forEach(((t,n)=>{t!==this.dataConfig.indicatorDimensionKey&&(r[t]=e[n])})),r[n]=i,this.records.push(r),r}addRecords(t){for(let e=0,n=t.length;e<n;e++){const n=t[e];this.processRecord(n)}this.records.push(t)}changeRecordFieldValue(t,e,n){let i=!1;for(let e=0;e<this.dataConfig.indicators.length;e++)this.dataConfig.indicators[e]===t&&(i=!0);if(!i){for(let i=0,r=this.records.length;i<r;i++){const r=this.records[i];r[t]===e&&(r[t]=n)}this.rowFlatKeys={},this.colFlatKeys={},this.tree={},this.processRecords()}}}var l=n(57922),u=n(95170),h=n(26221),c=n(23206),d=n(86801),f=n(66990),p=n(74910),g=n(36657),m=n(6577),v=n(9677),y=n(74303),b=n(21582),w=n(53036),x=n(51917),_=n(35517),C=n(87269),S=n(95433);class M extends c.D{constructor(t,e){var n,i,r,a,l,u,c,f,y,b,w,x,M,A,T,k,R,I;if("node"===p.X.mode?(e=t,t=null):t instanceof HTMLElement||(e=t,t=t.container?t.container:null),super(t,e),this.layoutNodeId={seqId:0},e){e.layout&&Object.assign(e,e.layout),this.internalProps.columns=(0,d.Z)(e.columns),this.internalProps.rows=(0,d.Z)(e.rows),this.internalProps.indicators=(0,_.u)(e.indicators),null===(n=e.indicators)||void 0===n||n.forEach(((t,e)=>{"object"==typeof t&&(null==t?void 0:t.editor)&&(this.internalProps.indicators[e].editor=t.editor)})),this.internalProps.columnTree=!e.indicatorsAsCol||(null===(i=e.columns)||void 0===i?void 0:i.length)||e.columnTree?(0,d.Z)(e.columnTree):[],this.internalProps.rowTree=e.indicatorsAsCol||(null===(r=e.rows)||void 0===r?void 0:r.length)||e.rowTree?(0,d.Z)(e.rowTree):[],this.internalProps.records=e.records,this.pagination=e.pagination,this.internalProps.columnResizeType=null!==(a=e.columnResizeType)&&void 0!==a?a:"column",this.internalProps.rowResizeType=null!==(l=e.rowResizeType)&&void 0!==l?l:"row",this.internalProps.dataConfig=(0,d.Z)(e.dataConfig),this.internalProps.columnWidthConfig=e.columnWidthConfig,this.internalProps.columnWidthConfigForRowHeader=e.columnWidthConfigForRowHeader;const t=this.internalProps.records;if(this.internalProps.recordsIsTwoDimensionalArray=!1,(null===(u=null==t?void 0:t[0])||void 0===u?void 0:u.constructor)===Array&&(this.internalProps.recordsIsTwoDimensionalArray=!0),!1===(null===(c=e.customConfig)||void 0===c?void 0:c.enableDataAnalysis)){const e=new g.KO(null!==(f=this.internalProps.columnTree)&&void 0!==f?f:[],this.layoutNodeId),n=new g.KO(null!==(y=this.internalProps.rowTree)&&void 0!==y?y:[],this.layoutNodeId,this.options.rowHierarchyType,"tree"===this.options.rowHierarchyType?null!==(b=this.options.rowExpandLevel)&&void 0!==b?b:1:void 0);this.internalProps.layoutMap=new o.z(this,null,e,n),!1===this.internalProps.recordsIsTwoDimensionalArray&&(this.flatDataToObjects=new s({rows:this.internalProps.layoutMap.fullRowDimensionKeys,columns:this.internalProps.layoutMap.colDimensionKeys,indicators:this.internalProps.layoutMap.indicatorKeys,indicatorsAsCol:this.internalProps.layoutMap.indicatorsAsCol,indicatorDimensionKey:this.internalProps.layoutMap.indicatorDimensionKey},t))}else{const t=(0,C.Ul)(this,e),{rowKeys:n,columnKeys:i,indicatorKeys:r}=t;let{columnDimensionTree:a,rowDimensionTree:s}=t;this.dataset=new h.q(this.internalProps.dataConfig,n,i,r,this.internalProps.indicators,null===(w=e.indicatorsAsCol)||void 0===w||w,e.records,e.rowHierarchyType,this.internalProps.columnTree,this.internalProps.rowTree,!1,!!e.extensionRows,!!e.parseCustomTreeToMatchRecords),e.columnTree?a.hasHideNode&&((0,C.uu)(a.tree.children,e.indicators,!0,this),a.reset(a.tree.children)):(!1!==e.indicatorsAsCol&&(this.dataset.colHeaderTree=(0,C.VN)(this.dataset.colHeaderTree,e.indicators)),!1!==e.indicatorsAsCol&&e.indicators&&this.dataset.colHeaderTree&&(0,C.uu)(this.dataset.colHeaderTree,e.indicators,!1,this),a=new g.KO(null!==(x=this.dataset.colHeaderTree)&&void 0!==x?x:[],this.layoutNodeId)),e.rowTree?s.hasHideNode&&((0,C.uu)(s.tree.children,e.indicators,!0,this),s.reset(s.tree.children)):(!1===e.indicatorsAsCol&&(this.dataset.rowHeaderTree=(0,C.VN)(this.dataset.rowHeaderTree,e.indicators)),!1===e.indicatorsAsCol&&this.dataset.rowHeaderTree&&e.indicators&&(0,C.uu)(this.dataset.rowHeaderTree,e.indicators,!1,this),s=new g.KO(null!==(M=this.dataset.rowHeaderTree)&&void 0!==M?M:[],this.layoutNodeId,this.options.rowHierarchyType,"tree"===this.options.rowHierarchyType?null!==(A=this.options.rowExpandLevel)&&void 0!==A?A:1:void 0)),this.internalProps.layoutMap=new o.z(this,this.dataset,a,s)}if(this._changePivotSortStateBySortRules(),(null!==(k=null===(T=e.pivotSortState)||void 0===T?void 0:T.length)&&void 0!==k?k:0)>0&&(this.pivotSortState=[],this.pivotSortState=e.pivotSortState),"node"!==p.X.mode&&(this.editorManager=new v.$(this)),this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,this.stateManager.initCheckedState(t),this.scenegraph.createSceneGraph(),e.title){const t=S.F.getComponent("title");this.internalProps.title=new t(e.title,this),this.scenegraph.resize()}if(this.options.emptyTip)if(this.internalProps.emptyTip)null===(R=this.internalProps.emptyTip)||void 0===R||R.resetVisible();else{const t=S.F.getComponent("emptyTip");this.internalProps.emptyTip=new t(this.options.emptyTip,this),null===(I=this.internalProps.emptyTip)||void 0===I||I.resetVisible()}setTimeout((()=>{this.fireListeners(m.B.INITIALIZED,null)}),0)}}static get EVENT_TYPE(){return l.z}isListTable(){return!1}isPivotTable(){return!0}isPivotChart(){return!1}get recordsCount(){var t;return null===(t=this.records)||void 0===t?void 0:t.length}_canResizeColumn(t,e){const n=super._canResizeColumn(t,e);if(n){if(this.internalProps.layoutMap.isSeriesNumber(t,e)&&!0===this.internalProps.rowSeriesNumber.disableColumnResize)return!1;if(!this.internalProps.layoutMap.indicatorsAsCol){const e=this.internalProps.layoutMap.getBody(t,this.columnHeaderLevelCount);if(null==e?void 0:e.disableColumnResize)return!1}}return n}updateOption(t){var e,n,i,r,a,l,u,c,f,p,m,v,y,b,w,x,M,A,T,k;const R=this.internalProps;if(super.updateOption(t),this.layoutNodeId={seqId:0},this.internalProps.columns=(0,d.Z)(t.columns),this.internalProps.rows=(0,d.Z)(t.rows),this.internalProps.indicators=(null===(e=t.indicators)||void 0===e?void 0:e.length)?(0,_.u)(t.indicators):[],null===(n=t.indicators)||void 0===n||n.forEach(((t,e)=>{"object"==typeof t&&(null==t?void 0:t.editor)&&(this.internalProps.indicators[e].editor=t.editor)})),this.internalProps.columnTree=!t.indicatorsAsCol||(null===(i=t.columns)||void 0===i?void 0:i.length)||t.columnTree?(0,d.Z)(t.columnTree):[],this.internalProps.rowTree=t.indicatorsAsCol||(null===(r=t.rows)||void 0===r?void 0:r.length)||t.rowTree?(0,d.Z)(t.rowTree):[],t.records&&(this.internalProps.records=t.records),this.stateManager.initCheckedState(this.internalProps.records),this.stateManager.updateDrillState(void 0,void 0,!1,!1,-1,-1),this.pagination=t.pagination,R.columnResizeType=null!==(a=t.columnResizeType)&&void 0!==a?a:"column",R.rowResizeType=null!==(l=t.rowResizeType)&&void 0!==l?l:"row",R.dataConfig=(0,d.Z)(t.dataConfig),this.internalProps.columnWidthConfig=t.columnWidthConfig,this.internalProps.columnWidthConfigForRowHeader=t.columnWidthConfigForRowHeader,"tree"===(null==t?void 0:t.rowHierarchyType)&&"tree"===this.internalProps.layoutMap.rowHierarchyType&&this.internalProps.layoutMap.rowExpandLevel===(null==t?void 0:t.rowExpandLevel)){const t=this.internalProps.layoutMap.rowDimensionTree.tree.children;null===(u=this.internalProps.rowTree)||void 0===u||u.forEach(((e,n)=>{const i=t.find((t=>t.dimensionKey===e.dimensionKey&&t.value===e.value));i&&this._syncHierarchyState(i,e)}))}const I=this.internalProps.records;if(this.internalProps.recordsIsTwoDimensionalArray=!1,(null===(c=null==I?void 0:I[0])||void 0===c?void 0:c.constructor)===Array&&(this.internalProps.recordsIsTwoDimensionalArray=!0),!1===(null===(f=t.customConfig)||void 0===f?void 0:f.enableDataAnalysis)){let e,n;t.columnTree&&(e=new g.KO(null!==(p=this.internalProps.columnTree)&&void 0!==p?p:[],this.layoutNodeId)),t.rowTree&&(n=new g.KO(null!==(m=this.internalProps.rowTree)&&void 0!==m?m:[],this.layoutNodeId,this.options.rowHierarchyType,"tree"===this.options.rowHierarchyType?null!==(v=this.options.rowExpandLevel)&&void 0!==v?v:1:void 0)),R.layoutMap=new o.z(this,null,e,n),!1===this.internalProps.recordsIsTwoDimensionalArray&&(this.flatDataToObjects=new s({rows:R.layoutMap.fullRowDimensionKeys,columns:R.layoutMap.colDimensionKeys,indicators:R.layoutMap.indicatorKeys,indicatorsAsCol:R.layoutMap.indicatorsAsCol,indicatorDimensionKey:R.layoutMap.indicatorDimensionKey},I))}else{const e=(0,C.Ul)(this,t),{rowKeys:n,columnKeys:i,indicatorKeys:r}=e;let{columnDimensionTree:a,rowDimensionTree:s}=e;this.dataset=new h.q(R.dataConfig,n,i,r,this.internalProps.indicators,null===(y=t.indicatorsAsCol)||void 0===y||y,I,t.rowHierarchyType,this.internalProps.columnTree,this.internalProps.rowTree,!1,!!t.extensionRows,!!t.parseCustomTreeToMatchRecords),t.columnTree?a.hasHideNode&&((0,C.uu)(a.tree.children,t.indicators,!0,this),a.reset(a.tree.children)):(!1!==t.indicatorsAsCol&&(this.dataset.colHeaderTree=(0,C.VN)(this.dataset.colHeaderTree,t.indicators)),!1!==t.indicatorsAsCol&&t.indicators&&this.dataset.colHeaderTree&&(0,C.uu)(this.dataset.colHeaderTree,t.indicators,!1,this),a=new g.KO(null!==(b=this.dataset.colHeaderTree)&&void 0!==b?b:[],this.layoutNodeId)),t.rowTree?s.hasHideNode&&((0,C.uu)(s.tree.children,t.indicators,!0,this),s.reset(s.tree.children)):(!1===t.indicatorsAsCol&&(this.dataset.rowHeaderTree=(0,C.VN)(this.dataset.rowHeaderTree,t.indicators)),!1===t.indicatorsAsCol&&this.dataset.rowHeaderTree&&t.indicators&&(0,C.uu)(this.dataset.rowHeaderTree,t.indicators,!1,this),s=new g.KO(null!==(w=this.dataset.rowHeaderTree)&&void 0!==w?w:[],this.layoutNodeId,this.options.rowHierarchyType,"tree"===this.options.rowHierarchyType?null!==(x=this.options.rowExpandLevel)&&void 0!==x?x:1:void 0)),R.layoutMap=new o.z(this,this.dataset,a,s)}if(this._changePivotSortStateBySortRules(),(null!==(A=null===(M=t.pivotSortState)||void 0===M?void 0:M.length)&&void 0!==A?A:0)>0&&(this.pivotSortState=[],this.pivotSortState=t.pivotSortState),this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,R.releaseList&&(R.releaseList.forEach((t=>{var e;return null===(e=null==t?void 0:t.release)||void 0===e?void 0:e.call(t)})),R.releaseList=null),this.scenegraph.clearCells(),this.scenegraph.createSceneGraph(),t.title){const e=S.F.getComponent("title");this.internalProps.title=new e(t.title,this),this.scenegraph.resize()}if(this.options.emptyTip)if(this.internalProps.emptyTip)null===(T=this.internalProps.emptyTip)||void 0===T||T.resetVisible();else{const t=S.F.getComponent("emptyTip");this.internalProps.emptyTip=new t(this.options.emptyTip,this),null===(k=this.internalProps.emptyTip)||void 0===k||k.resetVisible()}return new Promise((t=>{setTimeout(t,0)}))}updatePagination(t){t?(this.pagination||(this.pagination={currentPage:0,perPageCount:0}),"number"==typeof t.currentPage&&t.currentPage>=0&&(this.pagination.currentPage=t.currentPage),t.perPageCount&&(this.pagination.perPageCount=t.perPageCount||this.pagination.perPageCount),this.scenegraph.clearCells(),this.internalProps.layoutMap.setPagination(this.pagination),this.refreshRowColCount(),this.scenegraph.createSceneGraph(),this.render()):this.pagination&&(this.pagination=void 0,this.scenegraph.clearCells(),this.internalProps.layoutMap.setPagination(void 0),this.refreshRowColCount(),this.scenegraph.createSceneGraph(),this.render())}refreshHeader(){this.setMinMaxLimitWidth(!0),this.refreshRowColCount()}refreshRowColCount(){var t,e,n,i,r,o,a,s;const l=this,{layoutMap:u}=l.internalProps;u&&(l.colCount=null!==(t=u.colCount)&&void 0!==t?t:0,l.rowCount=null!==(e=u.rowCount)&&void 0!==e?e:0,this.internalProps.frozenColCount=this.options.frozenColCount?this.options.frozenColCount:(null!==(n=u.rowHeaderLevelCount)&&void 0!==n?n:0)+u.leftRowSeriesNumberColumnCount,l.frozenRowCount=Math.max(u.headerLevelCount,null!==(i=this.options.frozenRowCount)&&void 0!==i?i:0),l.bottomFrozenRowCount!==(null!==(r=this.options.bottomFrozenRowCount)&&void 0!==r?r:0)&&(l.bottomFrozenRowCount=null!==(o=this.options.bottomFrozenRowCount)&&void 0!==o?o:0),l.rightFrozenColCount!==(null!==(a=this.options.rightFrozenColCount)&&void 0!==a?a:0)&&(l.rightFrozenColCount=null!==(s=this.options.rightFrozenColCount)&&void 0!==s?s:0),this.stateManager.setFrozenCol(this.internalProps.frozenColCount))}_getSortFuncFromHeaderOption(t,e,n){}get rowHierarchyType(){return this.internalProps.layoutMap.rowHierarchyType}_syncHierarchyState(t,e){var n,i;t.value===e.value&&t.dimensionKey===e.dimensionKey&&(e.hierarchyState=null!==(n=e.hierarchyState)&&void 0!==n?n:(null==e?void 0:e.children)?t.hierarchyState:void 0,null===(i=null==e?void 0:e.children)||void 0===i||i.forEach(((e,n)=>{var i;if((null===(i=null==t?void 0:t.children)||void 0===i?void 0:i[n])&&e){const n=t.children.find((t=>t.dimensionKey===e.dimensionKey&&t.value===e.value));n&&this._syncHierarchyState(n,e)}})))}getRecordShowIndexByCell(t,e){}getTableIndexByRecordIndex(t){}getTableIndexByField(t){}getCellAddrByFieldRecord(t,e){}getBodyIndexByRow(t){const{layoutMap:e}=this.internalProps;return e.getBodyIndexByRow(t)}getBodyIndexByCol(t){const{layoutMap:e}=this.internalProps;return e.getBodyIndexByCol(t)}getFieldData(t,e,n){var i,r,o;if(!this.internalProps.layoutMap.isHeader(e,n)){if(this.internalProps.recordsIsTwoDimensionalArray){const t=this.getBodyIndexByRow(n),r=this.getBodyIndexByCol(e);return null===(i=this.records[t])||void 0===i?void 0:i[r]}if(this.dataset){const i=this.internalProps.layoutMap.getCellHeaderPaths(e,n);if(i){let a;const s=null===(r=i.colHeaderPaths)||void 0===r?void 0:r.filter((t=>!t.virtual)).map(((t,e)=>{var n;return t.indicatorKey&&(a={position:"col",index:e}),null!==(n=t.indicatorKey)&&void 0!==n?n:t.value})),l=null===(o=i.rowHeaderPaths)||void 0===o?void 0:o.filter((t=>!t.virtual)).map(((t,e)=>{var n;return t.indicatorKey&&(a={position:"row",index:e}),null!==(n=t.indicatorKey)&&void 0!==n?n:t.value})),u=this.dataset.getAggregator(l,s,this.internalProps.layoutMap.getIndicatorKey(e,n),!0,a);if(u.records&&u.records.length>=1)return u.records[0][t]}}else if(this.flatDataToObjects){const i=this.internalProps.layoutMap.getCellHeaderPaths(e,n),r=i.colHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),o=i.rowHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),a=this.flatDataToObjects.getTreeNode(o,r,this.internalProps.layoutMap.getBody(e,n).indicatorKey,!1);if(null==a?void 0:a.record)return null==a?void 0:a.record[t]}}}getCellValue(t,e,n){var i,r,o,a,s,l,u;if(!n){const n=this.getCustomMergeValue(t,e);if(n)return n}if(this.internalProps.layoutMap.isSeriesNumber(t,e)){if(this.internalProps.layoutMap.isSeriesNumberInHeader(t,e)){const{title:n}=this.internalProps.layoutMap.getSeriesNumberHeader(t,e);return n}const{format:n}=this.internalProps.layoutMap.getSeriesNumberBody(t,e);return"function"==typeof n?n(t,e,this):e-this.columnHeaderLevelCount+1}if(this.internalProps.layoutMap.isHeader(t,e)){const{title:n,fieldFormat:i}=this.internalProps.layoutMap.getHeader(t,e);return"function"==typeof i?i(n,t,e,this):n}if(this.internalProps.recordsIsTwoDimensionalArray){const{fieldFormat:n}=this.internalProps.layoutMap.getBody(t,e),r=this.getBodyIndexByRow(e),o=this.getBodyIndexByCol(t),a=null===(i=this.records[r])||void 0===i?void 0:i[o];return"function"==typeof n?n(a,t,e,this):a}if(this.dataset){const n=this.internalProps.layoutMap.getCellHeaderPaths(t,e);let i;const u=null===(o=null===(r=n.colHeaderPaths)||void 0===r?void 0:r.filter((t=>!t.virtual)))||void 0===o?void 0:o.map(((t,e)=>{var n;return t.indicatorKey&&(i={position:"col",index:e}),null!==(n=t.indicatorKey)&&void 0!==n?n:t.value})),h=null===(s=null===(a=n.rowHeaderPaths)||void 0===a?void 0:a.filter((t=>!t.virtual)))||void 0===s?void 0:s.map(((t,e)=>{var n;return t.indicatorKey&&(i={position:"row",index:e}),null!==(n=t.indicatorKey)&&void 0!==n?n:t.value})),c=this.dataset.getAggregator(h,u,this.internalProps.layoutMap.getIndicatorKey(t,e),!0,i),{fieldFormat:d}=this.internalProps.layoutMap.getBody(t,e);return c.formatValue?c.formatValue(t,e,this):"function"==typeof d?d(null==c?void 0:c.value(),t,e,this):null!==(l=null==c?void 0:c.value())&&void 0!==l?l:""}if(this.flatDataToObjects){const n=this.internalProps.layoutMap.getCellHeaderPaths(t,e),i=n.colHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),r=n.rowHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),o=this.flatDataToObjects.getTreeNode(r,i,this.internalProps.layoutMap.getBody(t,e).indicatorKey),{fieldFormat:a}=this.internalProps.layoutMap.getBody(t,e);return"function"==typeof a?a(null==o?void 0:o.value,t,e,this):null!==(u=null==o?void 0:o.value)&&void 0!==u?u:""}}getCellOriginValue(t,e){var n,i,r;const o=this;if(o.internalProps.layoutMap.isHeader(t,e)){const{title:n}=o.internalProps.layoutMap.getHeader(t,e);return"function"==typeof n?n():n}if(this.internalProps.recordsIsTwoDimensionalArray){const i=this.getBodyIndexByRow(e),r=this.getBodyIndexByCol(t);return null===(n=this.records[i])||void 0===n?void 0:n[r]}if(this.dataset){let n;const o=this.internalProps.layoutMap.getCellHeaderPaths(t,e),a=null===(i=o.colHeaderPaths)||void 0===i?void 0:i.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"col",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value})),s=null===(r=o.rowHeaderPaths)||void 0===r?void 0:r.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"row",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value})),l=this.dataset.getAggregator(s,a,this.internalProps.layoutMap.getIndicatorKey(t,e),!0,n);return l.value?l.value():void 0}if(this.flatDataToObjects){const n=this.internalProps.layoutMap.getCellHeaderPaths(t,e),i=n.colHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),r=n.rowHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),o=this.flatDataToObjects.getTreeNode(r,i,this.internalProps.layoutMap.getBody(t,e).indicatorKey);return null==o?void 0:o.value}}getCellRawValue(t,e){var n,i,r;const o=this;if(o.internalProps.layoutMap.isHeader(t,e)){const{title:n}=o.internalProps.layoutMap.getHeader(t,e);return"function"==typeof n?n():n}if(this.internalProps.recordsIsTwoDimensionalArray){const i=this.getBodyIndexByRow(e),r=this.getBodyIndexByCol(t);return null===(n=this.records[i])||void 0===n?void 0:n[r]}if(this.dataset){let n;const o=this.internalProps.layoutMap.getCellHeaderPaths(t,e),a=null===(i=o.colHeaderPaths)||void 0===i?void 0:i.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"col",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value})),s=null===(r=o.rowHeaderPaths)||void 0===r?void 0:r.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"row",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value})),l=this.dataset.getAggregator(s,a,this.internalProps.layoutMap.getIndicatorKey(t,e),!1,n);return l.value?l.value():void 0}if(this.flatDataToObjects){const n=this.internalProps.layoutMap.getCellHeaderPaths(t,e),i=n.colHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),r=n.rowHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),o=this.flatDataToObjects.getTreeNode(r,i,this.internalProps.layoutMap.getBody(t,e).indicatorKey,!1);return null==o?void 0:o.value}}getCellOriginRecord(t,e){var n,i,r;if(!this.internalProps.layoutMap.isHeader(t,e)){if(this.internalProps.recordsIsTwoDimensionalArray){const i=this.getBodyIndexByRow(e),r=this.getBodyIndexByCol(t);return null===(n=this.records[i])||void 0===n?void 0:n[r]}if(this.dataset){let n;const o=this.internalProps.layoutMap.getCellHeaderPaths(t,e),a=null===(i=o.colHeaderPaths)||void 0===i?void 0:i.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"col",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value})),s=null===(r=o.rowHeaderPaths)||void 0===r?void 0:r.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"row",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value}));return this.dataset.getAggregator(s,a,this.internalProps.layoutMap.getIndicatorKey(t,e),!0,n).records}if(this.flatDataToObjects){const n=this.internalProps.layoutMap.getCellHeaderPaths(t,e),i=n.colHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),r=n.rowHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),o=this.flatDataToObjects.getTreeNode(r,i,this.internalProps.layoutMap.getBody(t,e).indicatorKey);return null==o?void 0:o.record}}}getCellRawRecord(t,e){var n,i,r;if(!this.internalProps.layoutMap.isHeader(t,e)){if(this.internalProps.recordsIsTwoDimensionalArray){const i=this.getBodyIndexByRow(e),r=this.getBodyIndexByCol(t);return null===(n=this.records[i])||void 0===n?void 0:n[r]}if(this.dataset){let n;const o=this.internalProps.layoutMap.getCellHeaderPaths(t,e),a=null===(i=o.colHeaderPaths)||void 0===i?void 0:i.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"col",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value})),s=null===(r=o.rowHeaderPaths)||void 0===r?void 0:r.filter((t=>!t.virtual)).map(((t,e)=>{var i;return t.indicatorKey&&(n={position:"row",index:e}),null!==(i=t.indicatorKey)&&void 0!==i?i:t.value}));return this.dataset.getAggregator(s,a,this.internalProps.layoutMap.getIndicatorKey(t,e),!1,n).records}if(this.flatDataToObjects){const n=this.internalProps.layoutMap.getCellHeaderPaths(t,e),i=n.colHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),r=n.rowHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),o=this.flatDataToObjects.getTreeNode(r,i,this.internalProps.layoutMap.getBody(t,e).indicatorKey,!1);return null==o?void 0:o.record}}}updateSortRules(t,e,n){this.internalProps.dataConfig?this.internalProps.dataConfig.sortRules=t:this.internalProps.dataConfig={sortRules:t},this.dataset.updateSortRules(t),this._changePivotSortStateBySortRules();const{layoutMap:i}=this.internalProps;i.resetHeaderTree(),this.scenegraph.clearCells(),(0,f.Z)(e)&&(0,f.Z)(n)?(this.isRowHeader(e,n)?(this.setMinMaxLimitWidth(!0),this.internalProps._widthResizedColMap.clear()):this.isCornerHeader(e,n)?"column"===i.cornerSetting.titleOnDimension?(this.setMinMaxLimitWidth(!0),this.internalProps._widthResizedColMap.clear()):"row"===i.cornerSetting.titleOnDimension&&this.internalProps._heightResizedRowMap.clear():this.isColumnHeader(e,n)&&this.internalProps._heightResizedRowMap.clear(),this.refreshRowColCount()):this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,this.scenegraph.createSceneGraph(!0),this.render()}_changePivotSortStateBySortRules(){var t,e,n,r;this.pivotSortState=[];const o=null!==(e=null===(t=this.internalProps.dataConfig)||void 0===t?void 0:t.sortRules)&&void 0!==e?e:[];for(let t=0;t<o.length;t++){const e=o[t],a=[];if(e.sortByIndicator&&e.sortField===(this.dataset.indicatorsAsCol?this.dataset.rows[this.dataset.rows.length-1]:this.dataset.columns[this.dataset.columns.length-1])){for(let t=0;t<e.query.length;t++)a.push({dimensionKey:this.dataset.indicatorsAsCol?this.dataset.columns[t]:this.dataset.rows[t],value:e.query[t]});a.push({indicatorKey:e.sortByIndicator,value:null!==(r=null===(n=this.internalProps.layoutMap.getIndicatorInfo(e.sortByIndicator))||void 0===n?void 0:n.title)&&void 0!==r?r:e.sortByIndicator})}else a.push({dimensionKey:e.sortField,isPivotCorner:!0,value:e.sortField});const s=e.sortType?e.sortType.toUpperCase():"ASC";this.pivotSortState.push({dimensions:a,order:i.F[s]})}}_parseColumnWidthConfig(t){for(let e=0;e<(null==t?void 0:t.length);e++){const n=t[e],i=n.dimensions,r=n.width,o=this.getCellAddressByHeaderPaths(i);if(o&&o.col>=this.rowHeaderLevelCount){const t=this.getCellHeaderPaths(o.col,this.columnHeaderLevelCount);if(t.colHeaderPaths.length===i.length){let e=!0;for(let n=0;n<i.length;n++){const r=i[n];if(t.colHeaderPaths.findIndex(((t,e)=>t.indicatorKey===r.indicatorKey||t.dimensionKey===r.dimensionKey&&t.value===r.value))<0){e=!1;break}}e&&!this.internalProps._widthResizedColMap.has(o.col)&&(this._setColWidth(o.col,r),this.internalProps._widthResizedColMap.add(o.col))}}else o&&o.col<this.rowHeaderLevelCount&&(this.internalProps._widthResizedColMap.has(o.col)||(this._setColWidth(o.col,r),this.internalProps._widthResizedColMap.add(o.col)))}}_parseColumnWidthConfigForRowHeader(t){for(let e=0;e<(null==t?void 0:t.length);e++){const n=t[e],i=n.dimensions,r=n.width,o=this.getCellAddressByHeaderPaths(i);o&&o.col<this.rowHeaderLevelCount&&(this.internalProps._widthResizedColMap.has(o.col)||(this._setColWidth(o.col,r),this.internalProps._widthResizedColMap.add(o.col)))}}updatePivotSortState(t){this.pivotSortState=t}sort(t,e,n){var r;let o;if(this.isCornerHeader(t,e)){const n=this.getHeaderDefine(t,e);o=[];const i={isPivotCorner:!0,dimensionKey:n.value,value:n.value};o.push(i)}else o=this.isColumnHeader(t,e)?this.getCellHeaderPaths(t,e).colHeaderPaths:this.getCellHeaderPaths(t,e).rowHeaderPaths;const a=o[o.length-1].indicatorKey,s=this.getHeaderDefine(t,e);if(s.sort){if(this.dataset.sortRules){const t={};for(let e=this.dataset.sortRules.length-1;e>=0;e--){const n=this.dataset.sortRules[e];s.dimensionKey&&n.sortField===s.dimensionKey?(t[n.sortField]=n,this.dataset.sortRules.splice(e,1)):a&&n.sortField===(this.dataset.indicatorsAsCol?this.dataset.rows[this.dataset.rows.length-1]:this.dataset.columns[this.dataset.columns.length-1])&&this.dataset.sortRules.splice(e,1)}a?this.dataset.sortRules.push({sortField:this.dataset.indicatorsAsCol?this.dataset.rows[this.dataset.rows.length-1]:this.dataset.columns[this.dataset.columns.length-1],sortType:i.F[n],sortByIndicator:a,query:o.reduce(((t,e)=>(e.dimensionKey&&t.push(e.value),t)),[])}):this.dataset.sortRules.push(Object.assign(null!==(r=t[s.dimensionKey])&&void 0!==r?r:{},{sortField:s.dimensionKey,sortType:i.F[n]}))}else this.dataset.sortRules=a?[{sortField:this.dataset.indicatorsAsCol?this.dataset.rows[this.dataset.rows.length-1]:this.dataset.columns[this.dataset.columns.length-1],sortType:i.F[n],sortByIndicator:a,query:o.reduce(((t,e)=>(e.dimensionKey&&t.push(e.value),t)),[])}]:[{sortField:s.dimensionKey,sortType:i.F[n]}];this.updateSortRules(this.dataset.sortRules,t,e)}}getPivotSortState(t,e){if(!this.pivotSortState)return;const n=this.getCellRange(t,e);for(let t=0;t<this.pivotSortState.length;t++){const e=this.pivotSortState[t],i=e.dimensions,r=this.getCellAddressByHeaderPaths(i),o=e.order;if(r&&(0,u._Z)(n,r.col,r.row))return o}}_moveHeaderPosition(t,e){const n=this.getCellRange(t.col,t.row),i=this.getCellRange(e.col,e.row),r=this.internalProps.layoutMap.moveHeaderPosition(t,e);if(r){if("column"===r.moveType){if(this.internalProps.recordsIsTwoDimensionalArray)for(let t=0;t<this.internalProps.records.length;t++){const e=this.internalProps.records[t].splice(r.sourceIndex-this.rowHeaderLevelCount,r.sourceSize);e.unshift(r.targetIndex-this.rowHeaderLevelCount,0),Array.prototype.splice.apply(this.internalProps.records[t],e)}this.colWidthsMap.exchangeOrder(n.start.col,n.end.col-n.start.col+1,i.start.col,i.end.col-i.start.col+1,r.targetIndex),this.setMinMaxLimitWidth()}else if("row"===r.moveType){if(this.internalProps.recordsIsTwoDimensionalArray){const t=this.internalProps.records.splice(r.sourceIndex-this.columnHeaderLevelCount,r.sourceSize);t.unshift(r.targetIndex-this.columnHeaderLevelCount,0),Array.prototype.splice.apply(this.internalProps.records,t)}r.targetIndex>r.sourceIndex?this.rowHeightsMap.exchangeOrder(r.sourceIndex,r.sourceSize,r.targetIndex+r.sourceSize-r.targetSize,r.targetSize,r.targetIndex):this.rowHeightsMap.exchangeOrder(r.sourceIndex,r.sourceSize,r.targetIndex,r.targetSize,r.targetIndex)}return r}return null}toggleHierarchyState(t,e,n=!0){const i=this.getHierarchyState(t,e);if(i===r.g.expand)this._refreshHierarchyState(t,e,n),this.fireListeners(l.z.TREE_HIERARCHY_STATE_CHANGE,{col:t,row:e,hierarchyState:r.g.collapse});else if(i===r.g.collapse){const i=this.internalProps.layoutMap.getHeadNode(t,e);Array.isArray(i.children)&&this._refreshHierarchyState(t,e,n),this.fireListeners(l.z.TREE_HIERARCHY_STATE_CHANGE,{col:t,row:e,hierarchyState:r.g.expand,originData:i})}}_refreshHierarchyState(t,e,n=!0,i){var r,o;let a=!1,s=!1;this.stateManager.updateHoverIcon(t,e,void 0,void 0);const l=this.internalProps.layoutMap.checkHasChart();l&&(this.autoFillWidth&&(a=this.getAllColsWidth()<=this.tableNoFrameWidth),this.autoFillHeight&&(s=this.getAllRowsHeight()<=this.tableNoFrameHeight));const u=this.internalProps.layoutMap.toggleHierarchyState(t,e);i&&i(),this.refreshRowColCount(),this.clearCellStyleCache(),this.scenegraph.updateHierarchyIcon(t,e),null===(r=this.reactCustomLayout)||void 0===r||r.clearCache(),this.scenegraph.updateRow(u.removeCellPositions,u.addCellPositions,u.updateCellPositions,n),null===(o=this.reactCustomLayout)||void 0===o||o.updateAllCustomCell(),l&&(this.autoFillWidth&&!a&&(a=this.getAllColsWidth()<=this.tableNoFrameWidth),this.autoFillHeight&&!s&&(s=this.getAllRowsHeight()<=this.tableNoFrameHeight),("adaptive"===this.widthMode||a||"adaptive"===this.heightMode||s)&&this.scenegraph.updateChartSizeForResizeColWidth(-1))}getHeaderCellAddressByPath(t){return this.internalProps.layoutMap.getPivotCellAdress(t)}getCellAddressByHeaderPaths(t){return this.internalProps.layoutMap.getCellAdressByHeaderPath(t)}getHeaderPathByXY(t){let e;return e=t?this.getCellAt(t.x+this.getFrozenColsWidth()+this.scrollLeft+1,t.y+this.getFrozenRowsHeight()+this.scrollTop+1):this.getCellAt(this.getFrozenColsWidth()+this.scrollLeft+1,this.getFrozenRowsHeight()+this.scrollTop+1),this.internalProps.layoutMap.getCellHeaderPaths(e.col,e.row)}getHierarchyState(t,e){var n;return null===(n=this._getHeaderLayoutMap(t,e))||void 0===n?void 0:n.hierarchyState}getLayoutColumnTree(){return this.internalProps.layoutMap.getLayoutColumnTree()}getLayoutColumnTreeCount(){return this.internalProps.layoutMap.getLayoutColumnTreeCount()}getLayoutRowTree(){return this.internalProps.layoutMap.getLayoutRowTree()}getLayoutRowTreeCount(){return this.internalProps.layoutMap.getLayoutRowTreeCount()}getCellHeaderTreeNodes(t,e){return this.internalProps.layoutMap.getCellHeaderPathsWithTreeNode(t,e)}_hasHierarchyTreeHeader(){return"tree"===this.internalProps.layoutMap.rowHierarchyType}getMenuInfo(t,e,n){const i=this.internalProps.layoutMap.getPivotDimensionInfo(t,e);return{dimensionKey:i[i.length-1].dimensionKey,value:this.getCellValue(t,e),cellLocation:this.getCellLocation(t,e),isPivotCorner:this.isCornerHeader(t,e),event:void 0}}setRecords(t){var e,n,i,r,a,l,u;const h={col:this.stateManager.hover.cellPos.col,row:this.stateManager.hover.cellPos.row};this.options.records=this.internalProps.records=t,this.internalProps.recordsIsTwoDimensionalArray=!1,(null===(e=null==t?void 0:t[0])||void 0===e?void 0:e.constructor)===Array&&(this.internalProps.recordsIsTwoDimensionalArray=!0);const c=this.options,d=this.internalProps;if(!1===(null===(n=this.options.customConfig)||void 0===n?void 0:n.enableDataAnalysis))!1===this.internalProps.recordsIsTwoDimensionalArray&&(this.flatDataToObjects=new s({rows:d.layoutMap.fullRowDimensionKeys,columns:d.layoutMap.colDimensionKeys,indicators:d.layoutMap.indicatorKeys,indicatorsAsCol:d.layoutMap.indicatorsAsCol,indicatorDimensionKey:d.layoutMap.indicatorDimensionKey},t));else{let e,n;this.dataset.setRecords(t),c.columnTree?e=d.layoutMap.columnDimensionTree:(!1!==c.indicatorsAsCol&&c.indicators&&this.dataset.colHeaderTree&&(0,C.uu)(this.dataset.colHeaderTree,c.indicators,!1,this),e=new g.KO(null!==(i=this.dataset.colHeaderTree)&&void 0!==i?i:[],this.layoutNodeId)),c.rowTree?n=d.layoutMap.rowDimensionTree:(!1===c.indicatorsAsCol&&this.dataset.rowHeaderTree&&c.indicators&&(0,C.uu)(this.dataset.rowHeaderTree,c.indicators,!1,this),n=new g.KO(null!==(r=this.dataset.rowHeaderTree)&&void 0!==r?r:[],this.layoutNodeId,this.options.rowHierarchyType,"tree"===this.options.rowHierarchyType?null!==(a=this.options.rowExpandLevel)&&void 0!==a?a:1:void 0)),d.layoutMap=new o.z(this,this.dataset,e,n),this.pivotSortState=[],c.pivotSortState&&(this.pivotSortState=c.pivotSortState)}if(this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,this.scenegraph.clearCells(),this.clearCellStyleCache(),this.scenegraph.createSceneGraph(),this.stateManager.updateHoverPos(h.col,h.row),this.internalProps.title&&!this.internalProps.title.isReleased&&(this._updateSize(),this.internalProps.title.resize(),this.scenegraph.resize()),this.eventManager.updateEventBinder(),this.options.emptyTip)if(this.internalProps.emptyTip)null===(l=this.internalProps.emptyTip)||void 0===l||l.resetVisible();else{const t=S.F.getComponent("emptyTip");this.internalProps.emptyTip=new t(this.options.emptyTip,this),null===(u=this.internalProps.emptyTip)||void 0===u||u.resetVisible()}}startEditCell(t,e,n){var i;if((0,a.Z)(t)&&(0,a.Z)(e))this.eventManager.isDraging=!1,this.selectCell(t,e),this.editorManager.startEditCell(t,e,n);else if(null===(i=this.stateManager.select)||void 0===i?void 0:i.cellPos){const{col:t,row:e}=this.stateManager.select.cellPos;(0,a.Z)(t)&&(0,a.Z)(e)&&this.editorManager.startEditCell(t,e,n)}}completeEditCell(){this.editorManager.completeEdit()}getEditor(t,e){var n,i,r;let o;if(this.isCornerHeader(t,e)){const i=this.getHeaderDefine(t,e);o=null!==(n=null==i?void 0:i.headerEditor)&&void 0!==n?n:this.options.headerEditor}else if(this.isHeader(t,e)){const n=this.getHeaderDefine(t,e);o=null!==(i=null==n?void 0:n.headerEditor)&&void 0!==i?i:this.options.headerEditor}else{const n=this.getBodyColumnDefine(t,e);o=null!==(r=null==n?void 0:n.editor)&&void 0!==r?r:this.options.editor}return"function"==typeof o&&(o=o({col:t,row:e,dataValue:this.getCellOriginValue(t,e),value:this.getCellValue(t,e)||"",table:this})),"string"==typeof o?y.U(o):o}isHasEditorDefine(t,e){var n;const i=this.getBodyColumnDefine(t,e);let r=null!==(n=null==i?void 0:i.editor)&&void 0!==n?n:this.options.editor;return"function"==typeof r&&(r=r({col:t,row:e,dataValue:this.getCellOriginValue(t,e),value:this.getCellValue(t,e)||"",table:this})),(0,a.Z)(r)}changeCellValue(t,e,n,i=!1){if(i&&this.isHasEditorDefine(t,e)||!1===i){let i=n;const r=this.getCellOriginValue(t,e),o=this.getCellRawValue(t,e);"number"==typeof o&&(0,x.Zf)(n)&&(i=parseFloat(n)),this._changeCellValueToDataSet(t,e,r,i);const a=this.getCellRange(t,e);for(let t=a.start.col;t<=a.end.col;t++)for(let e=a.start.row;e<=a.end.row;e++)this.scenegraph.updateCellContent(t,e);if("adaptive"===this.widthMode||this.autoFillWidth&&this.getAllColsWidth()<=this.tableNoFrameWidth)0===this.internalProps._widthResizedColMap.size&&this.scenegraph.recalculateColWidths();else if(!this.internalProps._widthResizedColMap.has(t)){const e=this.getColWidth(t),n=(0,b.al)(t,0,this.rowCount-1,this,!1);n!==e&&this.scenegraph.updateColWidth(t,n-e)}if("adaptive"===this.heightMode||this.autoFillHeight&&this.getAllRowsHeight()<=this.tableNoFrameHeight)0===this.internalProps._heightResizedRowMap.size&&this.scenegraph.recalculateRowHeights();else if(this.isAutoRowHeight()&&!this.internalProps._heightResizedRowMap.has(e)){const t=this.getRowHeight(e),n=(0,w.P)(e,0,this.colCount-1,this);this.scenegraph.updateRowHeight(e,n-t)}r!==i&&this.fireListeners(m.B.CHANGE_CELL_VALUE,{col:t,row:e,rawValue:o,currentValue:r,changedValue:i}),this.scenegraph.updateNextFrame()}}changeCellValues(t,e,n,i=!1){let r=t,o=e;const a=[],s=[];for(let i=0;i<n.length&&!(e+i>this.rowCount-1);i++){const r=n[i],o=[],l=[];a.push(o),s.push(l);for(let n=0;n<r.length&&!(t+n>this.colCount-1);n++){const r=this.getCellRawValue(t+n,e+i);o.push(r);const a=this.getCellOriginValue(t+n,e+i);l.push(a)}}for(let l=0;l<n.length&&!(e+l>this.rowCount-1);l++){o=e+l;const u=n[l];let h=t;for(let n=0;n<u.length&&!(t+n>this.colCount-1);n++)if(h=t+n,i&&this.isHasEditorDefine(t+n,e+l)||!1===i){const i=u[n];let r=i;const o=s[l][n],h=a[l][n];"number"==typeof h&&(0,x.Zf)(i)&&(r=parseFloat(i)),this._changeCellValueToDataSet(t+n,e+l,o,r);const c=this.getCellOriginValue(t+n,e+l);c!==o&&this.fireListeners(m.B.CHANGE_CELL_VALUE,{col:t+n,row:e+l,rawValue:h,currentValue:o,changedValue:c})}r=Math.max(r,h)}const l=this.getCellRange(t,e),u=this.getCellRange(r,o);for(let t=l.start.col;t<=u.end.col;t++)for(let e=l.start.row;e<=u.end.row;e++)this.scenegraph.updateCellContent(t,e);if("adaptive"===this.widthMode||this.autoFillWidth&&this.getAllColsWidth()<=this.tableNoFrameWidth)0===this.internalProps._widthResizedColMap.size&&this.scenegraph.recalculateColWidths();else for(let e=t;e<=u.end.col;e++)if(!this.internalProps._widthResizedColMap.has(e)){const t=this.getColWidth(e),n=(0,b.al)(e,0,this.rowCount-1,this,!1);n!==t&&this.scenegraph.updateColWidth(e,n-t)}if("adaptive"===this.heightMode||this.autoFillHeight&&this.getAllRowsHeight()<=this.tableNoFrameHeight)this.scenegraph.recalculateRowHeights();else if(this.isAutoRowHeight()){const t=[],n=[];for(let i=e;i<=u.end.row;i++)if(this.rowHeightsMap.get(i)){const e=this.getRowHeight(i),r=(0,w.P)(i,0,this.colCount-1,this);t.push(i),n.push(r-e)}this.scenegraph.updateRowsHeight(t,n)}this.scenegraph.updateNextFrame()}_changeCellValueToDataSet(t,e,n,i){var r,o,a,s,l,u,h,c;if(this.internalProps.recordsIsTwoDimensionalArray){const n=this.getBodyIndexByRow(e),r=this.getBodyIndexByCol(t);this.records[n][r]=i}else if(this.dataset){const u=this.internalProps.layoutMap.getCellHeaderPaths(t,e);if(this.isCornerHeader(t,e))this.internalProps.layoutMap.changeCornerTitle(t,e,i);else if(this.isHeader(t,e))this.internalProps.layoutMap.changeTreeNodeTitle(t,e,i),!this.isCornerHeader(t,e)&&this.dataset.changeRecordFieldValue((null===(r=u.colHeaderPaths)||void 0===r?void 0:r.length)?null!==(o=u.colHeaderPaths[u.colHeaderPaths.length-1].indicatorKey)&&void 0!==o?o:u.colHeaderPaths[u.colHeaderPaths.length-1].dimensionKey:null!==(a=u.rowHeaderPaths[u.rowHeaderPaths.length-1].indicatorKey)&&void 0!==a?a:u.rowHeaderPaths[u.rowHeaderPaths.length-1].dimensionKey,n,i);else{const n=null===(s=u.colHeaderPaths)||void 0===s?void 0:s.filter((t=>!t.virtual)).map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),r=null===(l=u.rowHeaderPaths)||void 0===l?void 0:l.filter((t=>!t.virtual)).map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value}));this.dataset.changeTreeNodeValue(this.internalProps.layoutMap.indicatorsAsCol?r:r.slice(0,-1),this.internalProps.layoutMap.indicatorsAsCol?n.slice(0,-1):n,this.internalProps.layoutMap.getIndicatorKey(t,e),i)}}else if(this.flatDataToObjects){const r=this.internalProps.layoutMap.getCellHeaderPaths(t,e);if(this.isHeader(t,e))this.internalProps.layoutMap.changeTreeNodeTitle(t,e,i),!this.isCornerHeader(t,e)&&this.flatDataToObjects.changeRecordFieldValue((null===(u=r.colHeaderPaths)||void 0===u?void 0:u.length)?null!==(h=r.colHeaderPaths[r.colHeaderPaths.length-1].indicatorKey)&&void 0!==h?h:r.colHeaderPaths[r.colHeaderPaths.length-1].dimensionKey:null!==(c=r.rowHeaderPaths[r.rowHeaderPaths.length-1].indicatorKey)&&void 0!==c?c:r.rowHeaderPaths[r.rowHeaderPaths.length-1].dimensionKey,n,i);else{const n=r.colHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value})),o=r.rowHeaderPaths.map((t=>{var e;return null!==(e=t.indicatorKey)&&void 0!==e?e:t.value}));this.flatDataToObjects.changeTreeNodeValue(o,n,this.internalProps.layoutMap.getBody(t,e).indicatorKey,i)}}}_hasCustomRenderOrLayout(){if(this.options.customRender)return!0;const{columnsDefine:t,rowsDefine:e,indicatorsDefine:n}=this.internalProps.layoutMap;for(let e=0;e<t.length;e++){const n=t[e];if("string"!=typeof n&&(n.headerCustomLayout||n.headerCustomRender))return!0}for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n&&(n.headerCustomLayout||n.headerCustomRender))return!0}for(let t=0;t<n.length;t++){const e=n[t];if("string"!=typeof e&&(e.customLayout||e.headerCustomLayout||e.customRender||e.headerCustomRender))return!0}return!1}changeRecordOrder(t,e){}setTreeNodeChildren(t,e,n,i){this.flatDataToObjects?(this.internalProps.layoutMap.getHeadNode(n,i).children=t,this._refreshHierarchyState(n,i,!0,(()=>{this.flatDataToObjects.changeDataConfig({rows:this.internalProps.layoutMap.fullRowDimensionKeys,columns:this.internalProps.layoutMap.colDimensionKeys,indicators:this.internalProps.layoutMap.indicatorKeys,indicatorsAsCol:this.internalProps.layoutMap.indicatorsAsCol,indicatorDimensionKey:this.internalProps.layoutMap.indicatorDimensionKey}),this.flatDataToObjects.addRecords(e)}))):(this.internalProps.layoutMap.getHeadNode(n,i).children=t,this._refreshHierarchyState(n,i,!0,(()=>{this.dataset._rowTreeHasChanged(),this.dataset.changeDataConfig({rows:this.internalProps.layoutMap.fullRowDimensionKeys,columns:this.internalProps.layoutMap.colDimensionKeys}),this.dataset.addRecords(e)})))}updateFilterRules(t){this.internalProps.dataConfig.filterRules=t,this.dataset.updateFilterRules(t),this.renderWithRecreateCells()}getFilteredRecords(){var t;return null===(t=this.dataset)||void 0===t?void 0:t.filterRules}}},27939:function(t,e,n){"use strict";n.d(e,{iR:function(){return h},$M:function(){return c},Zu:function(){return d},b8:function(){return f},sG:function(){return g},UP:function(){return p}});var i=n(22304),r=n(45644),o=n(12190),a=n(44409);var s=n(74096),l=n(76193);const u={left:{textAlign:"center",textBaseline:"bottom"},right:{textAlign:"center",textBaseline:"bottom"},radius:{},angle:{}},h="PingFang SC,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif, apple color emoji,segoe ui emoji,segoe ui symbol",c=14,d={FONT_FAMILY:h,LABEL_FONT_SIZE:14,MAP_LABEL_FONT_SIZE:10,TITLE_FONT_SIZE:18,AXIS_TICK_SIZE:4},f={domainLine:{visible:!0,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:"#EBEDF2",strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:"#EBEDF2",strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,tickSize:d.AXIS_TICK_SIZE,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},subTick:{visible:!1,tickSize:d.AXIS_TICK_SIZE/2,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},label:{visible:!0,space:1,style:{fontSize:d.LABEL_FONT_SIZE,fill:"#89909D",fontWeight:"normal",fillOpacity:1},autoLimit:!0},title:{space:10,style:{fontSize:d.LABEL_FONT_SIZE,fill:"#333333",fontWeight:"normal",fillOpacity:1}}};function p(t){var e,n;return(null===(n=null===(e=null==t?void 0:t.colorScheme)||void 0===e?void 0:e.default)||void 0===n?void 0:n.palette)?(0,i.Z)({},f,{tick:{style:{stroke:t.colorScheme.default.palette.axisDomainColor||"#D9DDE4"}},subTick:{style:{stroke:t.colorScheme.default.palette.axisDomainColor||"#D9DDE4"}},label:{style:{fill:t.colorScheme.default.palette.axisLabelFontColor||"#89909D"}},title:{style:{fill:t.colorScheme.default.palette.secondaryFontColor||"#333333"}}}):f}function g(t){var e,n,h,c,d,f,p,g,m,v,y,b,w;const x=(0,i.Z)({},t);let _,C=null!==(n=null===(e=x.title)||void 0===e?void 0:e.angle)&&void 0!==n?n:0;"left"!==x.orient&&"right"!==x.orient||(null===(h=x.title)||void 0===h?void 0:h.autoRotate)&&(0,r.Z)(x.title.angle)&&(C="left"===x.orient?-90:90,_=u[x.orient]);const S=function(t,e){if(!t||!(0,o.Z)(t))return t;const n={};return Object.keys(t).forEach((i=>{const r=t[i];let o=!1;e.forEach((t=>{((0,a.Z)(t)&&t===i||t instanceof RegExp&&i.match(t))&&(o=!0)})),o||(n[i]=r)})),n}(x.label,["style","formatMethod","state"]);return{orient:x.orient,select:x.select,hover:x.hover,line:(0,l.lc)(x.domainLine),label:Object.assign({style:(0,l.h_)(x.label.style),formatMethod:x.label.formatMethod?(t,e,n)=>x.label.formatMethod(e.rawValue,e):null,state:(0,l.Zv)(x.label.state)},S),tick:{visible:x.tick.visible,length:x.tick.tickSize,inside:x.tick.inside,alignWithLabel:x.tick.alignWithLabel,style:(0,l.h_)(x.tick.style),state:(0,l.Zv)(x.tick.state),dataFilter:x.tick.dataFilter},subTick:{visible:x.subTick.visible,length:x.subTick.tickSize,inside:x.subTick.inside,count:x.subTick.tickCount,style:(0,l.h_)(x.subTick.style),state:(0,l.Zv)(x.subTick.state)},grid:{type:"line",visible:x.grid.visible,alternateColor:x.grid.alternateColor,alignWithLabel:x.grid.alignWithLabel,style:(0,l.h_)(x.grid.style)},subGrid:{type:"line",visible:x.subGrid.visible,alternateColor:x.subGrid.alternateColor,style:(0,l.h_)(x.subGrid.style)},title:{visible:x.title.visible,position:x.title.position,space:x.title.space,autoRotate:!1,angle:C?(0,s.M4)(C):null,textStyle:(0,i.Z)({},_,(0,l.h_)(x.title.style)),padding:x.title.padding,shape:{visible:null===(c=x.title.shape)||void 0===c?void 0:c.visible,space:null===(d=x.title.shape)||void 0===d?void 0:d.space,style:(0,l.h_)(null===(f=x.title.shape)||void 0===f?void 0:f.style)},background:{visible:null===(p=x.title.background)||void 0===p?void 0:p.visible,style:(0,l.h_)(null===(g=x.title.background)||void 0===g?void 0:g.style)},state:{text:(0,l.Zv)(x.title.state),shape:(0,l.Zv)(null===(m=x.title.shape)||void 0===m?void 0:m.state),background:(0,l.Zv)(null===(v=x.title.background)||void 0===v?void 0:v.state)}},panel:{visible:null===(y=x.background)||void 0===y?void 0:y.visible,style:(0,l.h_)(null===(b=x.background)||void 0===b?void 0:b.style),state:(0,l.Zv)(null===(w=x.background)||void 0===w?void 0:w.state)}}}},73403:function(t,e,n){"use strict";n.d(e,{R2:function(){return Ir},Eg:function(){return Pr},I:function(){return Er},FD:function(){return Br},_t:function(){return Lr},Mh:function(){return Dr}});var i={};n.r(i),n.d(i,{interpolateRgb:function(){return Ei}});var r=n(95433),o=n(7813),a=n(22304),s=n(89393),l=n(45644),u=n(74096),h=n(19387),c=n(88575),d=n(44409);var f=(t,e,n)=>{const i=(0,d.Z)(e)?e.split("."):e;for(let e=0;e<i.length;e++)t=t?t[i[e]]:void 0;return void 0===t?n:t},p=n(42921),g=n(31479),m=n(70375),v=n(95344);function y(t,e,n){const i=function(t){if(!t)return[];if(Object.keys)return Object.keys(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(n);return e}(e);for(let r=0;r<i.length;r++){const o=i[r];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var b=n(62071),w=n(68725),x=n(99350),_=n(37646),C=n(23274),S=n(37906),M=n(9353),A=n(58488),T=n(37806),k=n(92908),R=n(88890);const I=["points","cornerRadius",...S.DH];class P extends S.zs{constructor(t){super(t),this.type="polygon",this.numberType=R.Kh}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{points:t}=this.attribute;return t&&t.length>=2}getGraphicTheme(){return(0,M.gh)(this).polygon}updateAABBBounds(t,e,n){this.updatePathProxyAABBBounds(n)||this.updatePolygonAABBBoundsImprecise(t,e,n),k.w.graphicService.updateTempAABBBounds(n);const{lineJoin:i=e.lineJoin}=t;return k.w.graphicService.transformAABBBounds(t,n,e,"miter"===i,this),n}updatePolygonAABBBoundsImprecise(t,e,n){const{points:i=e.points}=t;return i.forEach((t=>{n.add(t.x,t.y)})),n}_interpolate(t,e,n,i,r){"points"===t&&(r.points=(0,A.SA)(n,i,e))}needUpdateTags(t){return super.needUpdateTags(t,I)}needUpdateTag(t){return super.needUpdateTag(t,I)}toCustomPath(){const t=this.attribute.points,e=new T.r;return t.forEach(((t,n)=>{0===n?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)})),e.closePath(),e}clone(){return new P(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return P.NOWORK_ANIMATE_ATTR}}function E(t){return new P(t)}P.NOWORK_ANIMATE_ATTR=S.Wl;var B=n(90154),L=n(27836),D=n(64008),O=n(22466),F=n(46195),H=n(35223),N=n(39225),z=n(91112);function W(t,e,n,i){t.moveTo(e[0].x+n,e[0].y+i);for(let r=1;r<e.length;r++)t.lineTo(e[r].x+n,e[r].y+i)}function j(t,e){return Math.sqrt(t*t+e*e)}function V(t,e,n,i,r){const o=e/n;return{x:t.x-i*o,y:t.y-r*o}}var G=n(32091),Z=n(27963);const U=Z.H,K=O.R6;var $=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},X=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Y=function(t,e){return function(n,i){e(n,i,t)}};let q=class extends G.Y{constructor(t){super(),this.polygonRenderContribitions=t,this.numberType=R.Kh,this.builtinContributions=[K,U],this.init(t)}drawShape(t,e,n,i,r,o,a,s){const l=(0,M.gh)(t,null==o?void 0:o.theme).polygon,{points:u=l.points,cornerRadius:h=l.cornerRadius,x:c=l.x,y:d=l.y,closePath:f=l.closePath,fillStrokeOrder:p=l.fillStrokeOrder}=t.attribute,g=this.valid(t,l,a,s);if(!g)return;const{fVisible:m,sVisible:v,doFill:y,doStroke:b}=g;e.beginPath(),h<=0||(0,w.Z)(h)&&h.every((t=>0===t))?W(e.camera?e:e.nativeContext,u,n,i):function(t,e,n,i,r,o=!0){var a;if(e.length<3)return void W(t,e,n,i);let s=0,l=e.length-1;o||(s+=1,l-=1,t.moveTo(e[0].x+n,e[0].y+i));for(let o=s;o<=l;o++){const s=e[0===o?l:(o-1)%e.length],u=e[o%e.length],h=e[(o+1)%e.length],c=u.x-s.x,d=u.y-s.y,f=u.x-h.x,p=u.y-h.y,g=(Math.atan2(d,c)-Math.atan2(p,f))/2,m=Math.abs(Math.tan(g));let v=Array.isArray(r)?null!==(a=r[o%e.length])&&void 0!==a?a:0:r,y=v/m;const b=j(c,d),w=j(f,p),x=Math.min(b,w);y>x&&(y=x,v=x*m);const _=V(u,y,b,c,d),C=V(u,y,w,f,p),S=2*u.x-_.x-C.x,M=2*u.y-_.y-C.y,A=j(S,M),T=V(u,j(y,v),A,S,M);let k=Math.atan2(_.y-T.y,_.x-T.x);const R=Math.atan2(C.y-T.y,C.x-T.x);let I=R-k;I<0&&(k=R,I=-I),I>Math.PI&&(I-=Math.PI),0===o?t.moveTo(_.x+n,_.y+i):t.lineTo(_.x+n,_.y+i),I&&t.arcTo(u.x+n,u.y+i,C.x+n,C.y+i,v),t.lineTo(C.x+n,C.y+i)}o||t.lineTo(e[l+1].x+n,e[l+1].y+i)}(e.camera?e:e.nativeContext,u,n,i,h,f),f&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),this.beforeRenderStep(t,e,n,i,y,b,m,v,l,r,a,s);const x=()=>{y&&(a?a(e,t.attribute,l):m&&(e.setCommonStyle(t,t.attribute,c-n,d-i,l),e.fill()))},_=()=>{b&&(s?s(e,t.attribute,l):v&&(e.setStrokeStyle(t,t.attribute,c-n,d-i,l),e.stroke()))};p?(_(),x()):(x(),_()),this.afterRenderStep(t,e,n,i,y,b,m,v,l,r,a,s)}draw(t,e,n,i){const r=(0,M.gh)(t,null==i?void 0:i.theme).polygon;this._draw(t,r,!1,n,i)}};q=$([(0,H.b)(),Y(0,(0,N.f)(L.Qc)),Y(0,(0,z.t)(F.U7)),X("design:paramtypes",[Object])],q);var J=n(21196);let Q=!1;const tt=new D.n((t=>{Q||(Q=!0,t(J.ZT).to(q).inSingletonScope(),t(J.uz).toService(J.ZT),t(F.U7).toService(O.Sg),(0,L.yb)(t,F.U7))}));var et=n(45584),nt=n(35821),it=n(1434),rt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ot=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},at=function(t,e){return function(n,i){e(n,i,t)}};let st=class extends it.o{constructor(t){super(),this.canvasRenderer=t,this.type="polygon",this.numberType=R.Kh}};st=rt([(0,H.b)(),at(0,(0,N.f)(J.ZT)),ot("design:paramtypes",[Object])],st);let lt=!1;const ut=new D.n(((t,e,n,i)=>{lt||(lt=!0,t(nt.ww).to(st).inSingletonScope(),t(nt.EL).toService(nt.ww))}));var ht=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ct=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dt=function(t,e){return function(n,i){e(n,i,t)}};let ft=class extends it.o{constructor(t){super(),this.canvasRenderer=t,this.type="polygon",this.numberType=R.Kh}};ft=ht([(0,H.b)(),dt(0,(0,N.f)(J.ZT)),ct("design:paramtypes",[Object])],ft);let pt=!1;const gt=new D.n(((t,e,n,i)=>{pt||(pt=!0,t(nt.uV).to(ft).inSingletonScope(),t(nt.XN).toService(nt.uV))}));function mt(){mt.__loaded||(mt.__loaded=!0,b.i.RegisterGraphicCreator("polygon",E),B.n.load(tt),B.n.load(et.X?ut:gt))}mt.__loaded=!1;const vt=mt;var yt=n(58639);(0,_.M)(),(0,C.N)(),vt(),(0,yt.k)();class bt extends x.k{getStartAngle(){return(0,u.LW)(this._startAngle)}getEndAngle(){return(0,u.LW)(this._endAngle)}getMainSegmentPoints(){return this._mainSegmentPoints}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},bt.defaultAttributes,t)),this.name="segment",this.key="segment",this.lines=[]}render(){this.removeAllChild(!0),this._reset();const{startSymbol:t,endSymbol:e,lineStyle:n,state:i,visible:r=!0,multiSegment:o,mainSegmentIndex:a}=this.attribute;if(!r)return;this._computeLineAngle();const l=this._getMainSegmentPoints(),u=this._renderSymbol(t,l,"start"),c=this._renderSymbol(e,l,"end");if(this.startSymbol=u,this.endSymbol=c,o){const t=[...this.attribute.points];if((0,s.Z)(a))t[a]=this._clipPoints(t[a]);else{const e=this._clipPoints((0,p.VF)(t));t[0][0]=e[0],t[t.length-1][t[t.length-1].length-1]=e[e.length-1]}t.forEach(((t,e)=>{var r,o;const a=b.i.line(Object.assign(Object.assign({points:t},(0,w.Z)(n)?null!==(r=n[e])&&void 0!==r?r:n[n.length-1]:n),{fill:!1}));a.name=`${this.name}-line`,a.id=this._getNodeId("line"+e),(0,h.Z)(null==i?void 0:i.line)||(a.states=(0,w.Z)(i.line)?null!==(o=i.line[e])&&void 0!==o?o:i.line[i.line.length-1]:i.line),this.add(a),this.lines.push(a)}))}else{let t=b.i.line;(0,p.IX)(n)[0].cornerRadius&&(t=b.i.polygon);const e=t(Object.assign(Object.assign({points:this._clipPoints(this.attribute.points)},(0,p.IX)(n)[0]),{fill:!1,closePath:!1}));e.name=`${this.name}-line`,e.id=this._getNodeId("line"),(0,h.Z)(null==i?void 0:i.line)||(e.states=[].concat(i.line)[0]),this.add(e),this.lines.push(e)}}_computeStartRotate(t){return t+Math.PI/2}_computeEndRotate(t){return t+Math.PI/2}_renderSymbol(t,e,n){if(!e.length)return;const{autoRotate:i=!0}=t;let r;if(t&&t.visible){const o=this.getStartAngle(),a=this.getEndAngle(),{state:l}=this.attribute,u=e[0],c=e[e.length-1],{refX:d=0,refY:f=0,refAngle:p=0,style:g,symbolType:m,size:v=12}=t;let y,w;"start"===n?(y={x:u.x+((0,s.Z)(o)?d*Math.cos(o)+f*Math.cos(o-Math.PI/2):0),y:u.y+((0,s.Z)(o)?d*Math.sin(o)+f*Math.sin(o-Math.PI/2):0)},w=this._computeStartRotate(this._startAngle)):(y={x:c.x+((0,s.Z)(a)?d*Math.cos(a)+f*Math.cos(a-Math.PI/2):0),y:c.y+((0,s.Z)(a)?d*Math.sin(a)+f*Math.sin(a-Math.PI/2):0)},w=this._computeEndRotate(this._endAngle)),r=b.i.symbol(Object.assign(Object.assign(Object.assign({},y),{symbolType:m,size:v,angle:i?w+p:0,strokeBoundsBuffer:0}),g)),r.name=`${this.name}-${n}-symbol`,r.id=this._getNodeId(`${n}-symbol`),(0,h.Z)(null==l?void 0:l.symbol)||(r.states=l.symbol),"start"===n?(0,h.Z)(null==l?void 0:l.startSymbol)||(r.states=l.startSymbol):(0,h.Z)(null==l?void 0:l.endSymbol)||(r.states=l.endSymbol),this.add(r)}return r}_getMainSegmentPoints(){if(this._mainSegmentPoints)return this._mainSegmentPoints;const{points:t,multiSegment:e,mainSegmentIndex:n}=this.attribute;let i;return i=e?(0,s.Z)(n)?t[n]:(0,p.VF)(t):t,this._mainSegmentPoints=i,i}_clipPoints(t){const{startSymbol:e={},endSymbol:n={}}=this.attribute;let i=t;if(e.visible){const n=e.clip?e.size||10:0;i=[{x:t[0].x-n/2*(Math.cos(this._startAngle)||0),y:t[0].y-n/2*(Math.sin(this._startAngle)||0)},...i.slice(1)]}if(n.visible){const e=n.clip?n.size||10:0,r={x:t[t.length-1].x-e/2*(Math.cos(this._endAngle)||0),y:t[t.length-1].y-e/2*(Math.sin(this._endAngle)||0)};i=[...i.slice(0,i.length-1),r]}return i}_computeLineAngle(){const t=this._getMainSegmentPoints();if(t.length<=1)return;const e=t[0],n=t[1],i=t[t.length-2],r=t[t.length-1],o=[e.x-n.x,e.y-n.y],a=Math.atan2(o[1],o[0]),s=[r.x-i.x,r.y-i.y],l=Math.atan2(s[1],s[0]);this._startAngle=a,this._endAngle=l}_reset(){this.startSymbol=null,this.endSymbol=null,this._startAngle=null,this._endAngle=null,this._mainSegmentPoints=null}}bt.defaultAttributes={visible:!0,lineStyle:{lineWidth:1,stroke:"#000"},startSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}},endSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}}};var wt=n(57343);function xt(t,e){return[t[0]*e,t[1]*e]}function _t(t){const[e,n]=t;return Math.sqrt(e*e+n*n)}function Ct(t,e,n){const i=function(t,e){const[n,i]=t,[r,o]=e,a=Math.sqrt((n*n+i*i)*(r*r+o*o)),s=a&&(n*r+i*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}(t,e),r=(0,wt.ir)(t,e)>=0;return n?r?2*Math.PI-i:i:r?i:2*Math.PI-i}var St,Mt,At=n(86801),Tt=n(24929),kt=n(83691);!function(t){t.innerView="inner-view",t.axisContainer="axis-container",t.labelContainer="axis-label-container",t.tickContainer="axis-tick-container",t.tick="axis-tick",t.subTick="axis-sub-tick",t.label="axis-label",t.title="axis-title",t.gridContainer="axis-grid-container",t.grid="axis-grid",t.gridRegion="axis-grid-region",t.line="axis-line",t.background="axis-background",t.axisLabelBackground="axis-label-background",t.axisBreak="axis-break",t.axisBreakSymbol="axis-break-symbol"}(St||(St={})),function(t){t.selected="selected",t.selectedReverse="selected_reverse",t.hover="hover",t.hoverReverse="hover_reverse"}(Mt||(Mt={}));const Rt={[Mt.selectedReverse]:{},[Mt.selected]:{},[Mt.hover]:{},[Mt.hoverReverse]:{}},It={title:{space:4,padding:0,textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1}},label:{visible:!0,inside:!1,space:4,padding:0,style:{fontSize:12,fill:"#333",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#999",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}}},Pt={size:8,stroke:"#000",lineWidth:1,zIndex:1};var Et=n(95044);function Bt(t,e){t.forEachChildren((t=>{const n=e(t);t.isContainer&&!n&&Bt(t,e)}))}var Lt=n(73500);const Dt=Math.sin(Math.PI/10);function Ot(t,e=Dt){const n=!(0,l.Z)(t)&&0!==t,i=n?Math.cos(t):1;return n&&Math.abs(i)<=e}function Ft(t,e=Dt){const n=!(0,l.Z)(t)&&0!==t,i=n?Math.sin(t):0;return!n||Math.abs(i)<=e}function Ht(t,e){return{x:t.x+e[0],y:t.y+e[1]}}function Nt(t,e,n,i=!1,r=!1){const o=[e.x-n.x,e.y-n.y];return xt(o,(i?-1:1)*(r?-1:1)*t/_t(o))}function zt(t,e,n){var i;let r,o;const a=(t,e,n)=>(r=t.AABBBounds,o=e.AABBBounds,n>Math.max(o.x1-r.x2,r.x1-o.x2,o.y1-r.y2,r.y1-o.y2));return Ft(null===(i=t.attribute)||void 0===i?void 0:i.angle,Number.EPSILON)?a(t,e,n):(r=t.OBBBounds,o=e.OBBBounds,!r||!o||r.empty()||o.empty()?a(t,e,n):r.intersects(o))}function Wt(t,e){for(let n,i=1,r=t.length,o=t[0];i<r;o=n,++i)if(n=t[i],zt(o,n,e))return!0;return!1}class jt extends x.k{constructor(){super(...arguments),this.name="axis",this.data=[],this.tickLineItems=[],this.subTickLineItems=[],this.axisLabelLayerSize={},this.axisLabelsContainer=null,this._onHover=t=>{this._lastHover=((t,e,n)=>{const i=t.target;return i!==n&&i.name&&!(0,h.Z)(i.states)?(i.addState(kt.HW.hover,!0),Bt(e,(t=>{t!==i&&t.name&&!(0,h.Z)(t.states)&&t.addState(kt.HW.hoverReverse,!0)})),i):n})(t,this.axisContainer,this._lastHover)},this._onUnHover=t=>{this._lastHover=((t,e,n)=>n?(Bt(e,(t=>{t.name&&!(0,h.Z)(t.states)&&(t.removeState(kt.HW.hoverReverse),t.removeState(kt.HW.hover))})),null):n)(0,this.axisContainer,this._lastHover)},this._onClick=t=>{this._lastSelect=((t,e,n)=>{const i=t.target;return n===i&&i.hasState(kt.HW.selected)?(Bt(e,(t=>{t.name&&!(0,h.Z)(t.states)&&(t.removeState(kt.HW.selectedReverse),t.removeState(kt.HW.selected))})),null):i.name&&!(0,h.Z)(i.states)?(i.addState(kt.HW.selected,!0),Bt(e,(t=>{t!==i&&t.name&&!(0,h.Z)(t.states)&&t.addState(kt.HW.selectedReverse,!0)})),i):n})(t,this.axisContainer,this._lastSelect)}}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}getBoundsWithoutRender(t){const e=(0,At.Z)(this.attribute);(0,a.Z)(this.attribute,t);const n=b.i.group({x:this.attribute.x,y:this.attribute.y});return this.add(n),this._renderInner(n),this.removeChild(n),this.attribute=e,n.AABBBounds}render(){this._prevInnerView=this._innerView&&function(t){const e={};return Bt(t,(t=>{"group"!==t.type&&t.id&&(e[t.id]=t)})),e}(this._innerView),this.removeAllChild(!0),this._innerView=b.i.group({x:0,y:0,pickable:!1}),this.add(this._innerView),this._renderInner(this._innerView),this._bindEvent()}_bindEvent(){if(this.attribute.disableTriggerEvent)return;const{hover:t,select:e}=this.attribute;t&&(this._innerView.addEventListener("pointermove",this._onHover),this._innerView.addEventListener("pointerout",this._onUnHover)),e&&this._innerView.addEventListener("pointerdown",this._onClick)}_renderInner(t){const{title:e,label:n,tick:i,line:r,items:o}=this.attribute,a=b.i.group({x:0,y:0,zIndex:1,pickable:!1});if(a.name=St.axisContainer,a.id=this._getNodeId("container"),a.setMode(this.mode),this.axisContainer=a,t.add(a),r&&r.visible&&this.renderLine(a),o&&o.length&&(this.data=this._transformItems(o[0]),i&&i.visible&&this.renderTicks(a),n&&n.visible)){const t=b.i.group({x:0,y:0,pickable:!1});t.name=St.labelContainer,t.id=this._getNodeId("label-container"),this.axisLabelsContainer=t,a.add(t),o.forEach(((e,n)=>{const i=this.renderLabels(t,e,n),r=i.getChildren();this.beforeLabelsOverlap(r,e,i,n,o.length),this.handleLabelsOverlap(r,e,i,n,o.length),this.afterLabelsOverlap(r,e,i,n,o.length);let a=0,s=0,l="center",u="middle",h=0;r.forEach(((t,e)=>{var n;const i=t.attribute,r=null!==(n=i.angle)&&void 0!==n?n:0,o=t.AABBBounds;let c=o.width(),d=o.height();r&&(c=Math.abs(c*Math.cos(r)),d=Math.abs(d*Math.sin(r))),a=Math.max(a,c),s=Math.max(s,d),l=i.textAlign,u=i.textBaseline,0===e&&(h=i.x)})),this.axisLabelLayerSize[n]={width:a,height:s,labelPos:h,textAlign:l,textBaseline:u}}))}e&&e.visible&&this.renderTitle(a)}renderTicks(t){const e=this.getTickLineItems(),n=b.i.group({x:0,y:0,pickable:!1});n.name=St.tickContainer,n.id=this._getNodeId("tick-container"),t.add(n),e.forEach(((t,i)=>{var r;const o=b.i.line(Object.assign({},this._getTickLineAttribute("tick",t,i,e)));if(o.name=St.tick,o.id=this._getNodeId(t.id),(0,h.Z)(null===(r=this.attribute.tick)||void 0===r?void 0:r.state))o.states=kt.n0;else{const t=this.data[i],e=(0,a.Z)({},kt.n0,this.attribute.tick.state);Object.keys(e).forEach((n=>{(0,g.Z)(e[n])&&(e[n]=e[n](t.rawValue,i,t,this.data))})),o.states=e}n.add(o)})),this.tickLineItems=e;const{subTick:i}=this.attribute;if(i&&i.visible){const t=this.getSubTickLineItems();t.length&&t.forEach(((t,r)=>{const o=b.i.line(Object.assign({},this._getTickLineAttribute("subTick",t,r,e)));if(o.name=St.subTick,o.id=this._getNodeId(`${r}`),(0,h.Z)(i.state))o.states=kt.n0;else{const n=(0,a.Z)({},kt.n0,i.state);Object.keys(n).forEach((i=>{(0,g.Z)(n[i])&&(n[i]=n[i](t.value,r,t,e))})),o.states=n}n.add(o)})),this.subTickLineItems=t}}renderLabels(t,e,n){const{dataFilter:i}=this.attribute.label;i&&(0,g.Z)(i)&&(e=i(e,n));const r=this._transformItems(e),o=b.i.group({x:0,y:0,pickable:!1});return o.name=`${St.labelContainer}-layer-${n}`,o.id=this._getNodeId(`label-container-layer-${n}`),t.add(o),r.forEach(((t,e)=>{var i;const s=this._getLabelAttribute(t,e,r,n),l=(0,Tt.vS)(s);if(l.name=St.label,l.id=this._getNodeId(`layer${n}-label-${t.id}`),(0,h.Z)(null===(i=this.attribute.label)||void 0===i?void 0:i.state))l.states=kt.n0;else{const i=(0,a.Z)({},kt.n0,this.attribute.label.state);Object.keys(i).forEach((o=>{(0,g.Z)(i[o])&&(i[o]=i[o](t,e,r,n))})),l.states=i}l.data=Object.assign(Object.assign({},t),{index:e,layer:n}),o.add(l)})),o}renderTitle(t){const e=this.getTitleAttribute(),n=new Et.V(Object.assign({},e));n.name=St.title,n.id=this._getNodeId("title"),t.add(n)}getVerticalCoord(t,e,n){return Ht(t,this.getVerticalVector(e,n,t))}getTickLineItems(){const{tick:t}=this.attribute,e=this.data,n=[],{alignWithLabel:i,inside:r=!1,length:o,dataFilter:a}=t;let s=1;return e.length>=2&&(s=e[1].value-e[0].value),(a&&(0,g.Z)(a)?a(e):e).forEach((t=>{let e=t.point,a=t.value;if(!i){const n=t.value-s/2;if(this.isInValidValue(n))return;e=this.getTickCoord(n),a=n}const l=this.getVerticalCoord(e,o,r);if("3d"===this.mode){const i=this.getVerticalVector(o,r,e);let s=0,u=0;(0,wt.Wn)(i[0])>(0,wt.Wn)(i[1])?s=wt.pi/2*(l.x>e.x?1:-1):u=wt.pi/2*(l.y>e.y?-1:1),n.push({start:e,end:l,value:a,id:`tick-${t.id}`,anchor:[e.x,e.y],alpha:s,beta:u})}else n.push({start:e,end:l,value:a,id:`tick-${t.id}`})})),n}getSubTickLineItems(){const{subTick:t}=this.attribute,e=[],{count:n=4,inside:i=!1,length:r=2}=t,o=this.tickLineItems,a=o.length;if(a>=2)for(let t=0;t<a-1;t++){const a=o[t],s=o[t+1];for(let t=0;t<n;t++){const o=(t+1)/(n+1),l=(1-o)*a.value+o*s.value,u=this.getTickCoord(l),h=this.getVerticalCoord(u,r,i);e.push({start:u,end:h,value:l,id:`sub-tick-${l}`})}}return e}_getTickLineAttribute(t,e,n,i){let r=f(this.attribute,`${t}.style`);const o=this.data[n];r=(0,g.Z)(r)?(0,a.Z)({},f(It,`${t}.style`),"tick"===t?r(o.rawValue,n,o,this.data):r(e.value,n,e,i)):r;const{start:s,end:l,anchor:u,alpha:h,beta:c}=e;return Object.assign({points:[s,l],anchor:u,alpha:h,beta:c},r)}_getLabelAttribute(t,e,n,i){var r,o;const{space:s=4,inside:l=!1,formatMethod:u,type:h="text",text:c}=this.attribute.label;let d=s,p=0;(null===(r=this.attribute.tick)||void 0===r?void 0:r.visible)&&this.attribute.tick.inside===l&&(p=this.attribute.tick.length||4),(null===(o=this.attribute.subTick)||void 0===o?void 0:o.visible)&&this.attribute.subTick.inside===l&&(p=Math.max(p,this.attribute.subTick.length||2)),d+=p;const m=this.getRelativeVector(t.point);i>0&&(0===m[1]?d+=(this.axisLabelLayerSize[i-1].height+f(this.attribute,"label.space",4))*i:d+=(this.axisLabelLayerSize[i-1].width+f(this.attribute,"label.space",4))*i);const v=this.getVerticalCoord(t.point,d,l),y=this.getVerticalVector(d||1,l,v),b=u?u(`${t.label}`,t,e,n,i):t.label;let{style:w}=this.attribute.label;w=(0,g.Z)(w)?(0,a.Z)({},It.label.style,w(t,e,n,i)):w;const x=this.getLabelAlign(y,l,w.angle);return w=(0,a.Z)(x,w),(0,g.Z)(w.text)&&(w.text=w.text({label:t.label,value:t.rawValue,index:t.index,layer:i})),Object.assign(Object.assign(Object.assign({},this.getLabelPosition(v,y,b,w)),{text:null!=c?c:b,_originText:t.label,lineHeight:null==w?void 0:w.fontSize,type:h}),w)}getLabelPosition(t,e,n,i){return t}_transformItems(t){const e=[];return t.forEach((t=>{var n;e.push(Object.assign(Object.assign({},t),{point:this.getTickCoord(t.value),id:null!==(n=t.id)&&void 0!==n?n:t.label}))})),e}release(){super.release(),this._prevInnerView=null,this._innerView=null}}const Vt={parity:function(t){return t.filter(((t,e)=>e%2?t.setAttribute("opacity",0):1))},greedy:function(t,e){let n;return t.filter(((t,i)=>i&&zt(n,t,e)?t.setAttribute("opacity",0):(n=t,1)))}};function Gt(t){let e;return e=t.OBBBounds.empty()?t.AABBBounds:t.OBBBounds,e.width()>1&&e.height()>1}function Zt(t,e,n,i,r=!1){if(n&&!t.attribute.opacity){const n=e.length;if(n>1){t.setAttribute("opacity",1);for(let t=0;t<n;t++){const o=r?e[n-1-t]:e[t];if(!i(o))break;o.setAttribute("opacity",0)}}}}function Ut(t){for(let o=1;o<t.length;o++)if(e=t[o-1],n=t[o],i=void 0,r=void 0,(null===(i=e.OBBBounds)||void 0===i?void 0:i.empty())||(null===(r=n.OBBBounds)||void 0===r?void 0:r.empty())?(0,Lt.SX)(e.AABBBounds,n.AABBBounds,!1)&&(!e.rotatedBounds||!n.rotatedBounds||(0,Lt.nn)(e.rotatedBounds,n.rotatedBounds,!0)):e.OBBBounds.intersects(n.OBBBounds))return!0;var e,n,i,r;return!1}function Kt(t,e){"bottom"!==t&&"top"!==t||function(t,e){e.forEach((e=>{e.attribute.angle&&e.setAttributes(Object.assign(Object.assign({},Xt(t,e.attribute.angle)),{angle:$t(e.attribute.angle)}))}))}(t,e),"left"!==t&&"right"!==t||function(t,e){e.forEach(((e,n)=>{e.attribute.angle&&e.setAttributes(Object.assign(Object.assign({},Yt(t,e.attribute.angle)),{angle:$t(e.attribute.angle)}))}))}(t,e),function(t){t.forEach((t=>{if(t.rotatedBounds||!t.attribute.angle)return;const e=function(t){const e=t.AABBBounds;return{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,centerX:t.attribute.x,centerY:t.attribute.y,angle:t.attribute.angle}}(t),n=(0,Lt.xj)({x:t.attribute.x,y:t.attribute.y},e.angle,{x:e.centerX,y:e.centerY}),i=n.x-e.centerX,r=n.y-e.centerY;e.x1+=i,e.x2+=i,e.y1+=r,e.y2+=r,e.centerX+=i,e.centerY+=r,t.rotatedBounds=e}))}(e)}function $t(t=0){if(t<0)for(;t<0;)t+=2*Math.PI;if(t>0)for(;t>=2*Math.PI;)t-=2*Math.PI;return t}function Xt(t,e=0){let n=["center","left","left","left","center","right","right","right","left"],i=["top","top","middle","bottom","bottom","bottom","middle","top","top"];"top"===t&&(n=["center","right","right","right","center","left","left","left","right"],i=["bottom","bottom","middle","top","top","top","middle","bottom","bottom"]);const r=(e=$t(e))/(.5*Math.PI);let o;return o=r===Math.floor(r)?2*Math.floor(r):2*Math.floor(r)+1,{textAlign:n[o],textBaseline:i[o]}}function Yt(t,e=0){let n=["right","right","center","left","left","left","center","right","right"],i=["middle","middle","top","top","middle","middle","bottom","bottom","middle"];"right"===t&&(n=["left","left","center","right","right","right","center","left","left"],i=["middle","middle","bottom","bottom","middle","middle","top","middle","middle"]);const r=(e=$t(e))/(.5*Math.PI);let o;return o=r===Math.floor(r)?2*Math.floor(r):2*Math.floor(r)+1,{textAlign:n[o],textBaseline:i[o]}}var qt=n(47505);function Jt(t,e){const{limitLength:n,verticalLimitLength:i,ellipsis:r="...",orient:o,axisLength:a}=e;if((0,h.Z)(t)||!(0,s.Z)(n))return;const u=function(t){return(0,s.Z)(t)?{left:t,right:t}:(0,qt.Z)(t)?{left:t.left||0,right:t.right||0}:{left:0,right:0}}(e.overflowLimitLength),c=t[0],d=c.attribute.angle,f=!(0,l.Z)(d),p=f?Math.cos(d):1,g=f?Math.sin(d):0,m=Ft(d),v=Ot(d),y="top"===o||"bottom"===o,b=c.attribute.direction,w=!m&&!v&&y&&(t.length<2||t.some((t=>Math.abs(t.AABBBounds.width()-c.AABBBounds.width())>=2)))&&c.AABBBounds.width()>Math.abs(n/g);t.forEach((t=>{var e;if(y){if(v&&Math.floor(t.AABBBounds.height())<=n)return;if(m&&Math.floor(t.AABBBounds.width())<=i)return}if(!y){if("vertical"===b&&Math.floor(t.AABBBounds.height())<=i)return;if("vertical"!==b){if(m&&Math.floor(t.AABBBounds.width())<=n)return;if(v&&Math.floor(t.AABBBounds.height())<=i)return}}let o=null;if(m||v)o=y?m?i:n:"vertical"===b||v?i:n;else if(y){const{x1:e,x2:i}=t.AABBBounds,r=g/p,s=Math.abs(n/g);if(w&&r>0&&e<=a+u.right&&n/r+e>a+u.right){const t=(a-e+u.right)/Math.abs(p);o=Math.min(t,s)}else if(w&&r<0&&i>=-u.left&&n/r+i<-u.left){const t=(i+u.left)/Math.abs(p);o=Math.min(t,s)}else o=s}else o=Math.abs(n/p);(0,s.Z)(t.attribute.maxLineWidth)&&(o=(0,s.Z)(o)?Math.min(t.attribute.maxLineWidth,o):t.attribute.maxLineWidth),t.setAttributes({maxLineWidth:o,ellipsis:null!==(e=t.attribute.ellipsis)&&void 0!==e?e:r})}))}function Qt(t,e,n){let i;return(0,s.Z)(e)&&(i=Math.abs(e-t)),(0,s.Z)(n)&&(i=(0,s.Z)(i)?Math.min(Math.abs(t-n),i):Math.abs(t-n)),i}var te=n(41650),ee=n(66060),ne=n(73283);function ie(){(0,_.M)(),(0,C.N)(),(0,te.v)(),(0,ee.g)()}var re=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};ie(),(0,ne.k)();class oe extends jt{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},oe.defaultAttributes,t),e)}_renderInner(t){var e;if(this._breaks=null,this.attribute.breaks&&this.attribute.breaks.length){const t=[];for(let e=0;e<this.attribute.breaks.length;e++){const n=this.attribute.breaks[e],{range:i,breakSymbol:r,rawRange:o}=n;t.push({startPoint:this.getTickCoord(i[0]),endPoint:this.getTickCoord(i[1]),range:i,breakSymbol:r,rawRange:o})}this._breaks=t}super._renderInner(t),this._breaks&&this._breaks.length&&this._breaks.forEach(((e,n)=>{const{startPoint:i,endPoint:r,breakSymbol:o,rawRange:s}=e;if(!1!==(null==o?void 0:o.visible)){const e=b.i.group({zIndex:999});e.name=St.axisBreak,e.id=this._getNodeId(`${St.axisBreak}-${n}`),e.data=s;const l=function(t={}){var e,n;const{style:i={},angle:r=.5*Math.PI}=t,o=(0,a.Z)({},Pt,i),s=null!==(e=o.size)&&void 0!==e?e:Pt.size;return Object.assign(Object.assign({},o),{symbolType:null!==(n=o.symbolType)&&void 0!==n?n:`M ${-s/2} ${s*Math.sin(r)} L ${s/2} ${-s*Math.sin(r)}`,symbolSize:s})}(o),u=b.i.symbol(Object.assign({x:i.x,y:i.y},l));u.name=St.axisBreakSymbol;const h=b.i.symbol(Object.assign({x:r.x,y:r.y},l));h.name=St.axisBreakSymbol,e.add(u),e.add(h),t.add(e)}}));const{panel:n}=this.attribute;if(n&&n.visible){const t=this.axisContainer,i=t.AABBBounds,r=b.i.rect(Object.assign({x:i.x1,y:i.y1,width:i.width(),height:i.height()},n.style));r.name=St.background,r.id=this._getNodeId("background"),r.states=(0,a.Z)({},Rt,null!==(e=n.state)&&void 0!==e?e:{}),t.insertBefore(r,t.firstChild)}}renderLine(t){const{start:e,end:n,line:i}=this.attribute,r=i,{startSymbol:o,endSymbol:s,style:l,state:u}=r,c=re(r,["startSymbol","endSymbol","style","state"]),d=Object.assign({startSymbol:o,endSymbol:s,lineStyle:l},c);if(this._breaks&&this._breaks.length){const t=[];let i=e;this._breaks.forEach((e=>{const{startPoint:n,endPoint:r}=e;t.push([i,n]),i=r})),t.push([i,n]),d.points=t,d.multiSegment=!0}else d.points=[e,n];(0,h.Z)(u)||(d.state={line:(0,a.Z)({},Rt,u),symbol:(0,a.Z)({},Rt,u)});const f=new bt(d);f.name=St.line,f.id=this._getNodeId("line"),t.add(f)}getTextAlign(t){let e="center";return(0,c.Yt)(t[0],0)?(0,c.Yt)(t[1],0)?Object.is(t[1],-0)?e="start":Object.is(t[0],-0)&&(e="end"):e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e}getTitleAttribute(){var t,e,n;const i=this.attribute.title,{position:r="middle",space:o=4,textStyle:u={},autoRotate:h=!0,shape:c,background:d,state:p={},maxWidth:g}=i,m=re(i,["position","space","textStyle","autoRotate","shape","background","state","maxWidth"]);let v=.5;"start"===r?v=0:"end"===r&&(v=1);const{verticalFactor:y=1}=this.attribute,b=-1*y,w=this.getTickCoord(v),x=this.getRelativeVector();let _=0;if((null===(t=this.attribute.label)||void 0===t?void 0:t.visible)&&!1===this.attribute.label.inside){const t=+f(this.attribute,"label.space",4);_+=t;const e=Object.keys(this.axisLabelLayerSize).length;if(0===x[1]){const n=this.axisLabelsContainer?this.axisLabelsContainer.AABBBounds.height():0;isFinite(n)?_+=n+(e-1)*t:_=0}else if(0===x[0])if(this.axisLabelsContainer&&this.axisLabelsContainer.AABBBounds&&!this.axisLabelsContainer.AABBBounds.empty()){const n=this.axisLabelLayerSize[0].labelPos,i=this.axisLabelsContainer.AABBBounds;_+=(1===b?i.x2>n?Math.min(i.x2-n,i.width()):0:i.x1<n?Math.min(n-i.x1,i.width()):0)+(e-1)*t}else _=0;else Object.keys(this.axisLabelLayerSize).forEach(((e,n)=>{_+=this.axisLabelLayerSize[e].width+(n>0?t:0)}))}let C=0;(null===(e=this.attribute.tick)||void 0===e?void 0:e.visible)&&!1===this.attribute.tick.inside&&(C=this.attribute.tick.length||4),(null===(n=this.attribute.subTick)||void 0===n?void 0:n.visible)&&!1===this.attribute.subTick.inside&&(C=Math.max(C,this.attribute.subTick.length||2));const S=C+_+o,M=this.getVerticalCoord(w,S,!1),A=this.getVerticalVector(S,!1,{x:0,y:0});let T,k,{angle:R}=m;if(T="start"===r?"start":"end"===r?"end":"center",(0,l.Z)(R)&&h){R=Ct(x,[1,0],!0);const{verticalFactor:t=1}=this.attribute;k=1==-1*t?"bottom":"top"}else T=this.getTextAlign(A),k=this.getTextBaseline(A,!1);let I=g;if((0,l.Z)(I)){const{verticalLimitSize:t,verticalMinSize:e,orient:n}=this.attribute,i=Math.min(t||1/0,e||1/0);if((0,s.Z)(i))if("bottom"===n||"top"===n)if(R!==Math.PI/2){const t=Math.abs(Math.cos(null!=R?R:0));I=t<1e-6?1/0:this.attribute.end.x/t}else I=i-S;else if(R&&0!==R){const t=Math.abs(Math.sin(R));I=t<1e-6?1/0:this.attribute.end.y/t}else I=i-S}const P=Object.assign(Object.assign(Object.assign({},M),m),{maxWidth:I,textStyle:Object.assign({textAlign:T,textBaseline:k},u),state:{text:(0,a.Z)({},Rt,p.text),shape:(0,a.Z)({},Rt,p.shape),panel:(0,a.Z)({},Rt,p.background)}});return P.angle=R,c&&c.visible&&(P.shape=Object.assign({visible:!0},c.style),c.space&&(P.space=c.space)),d&&d.visible&&(P.panel=Object.assign({visible:!0},d.style)),P}getTextBaseline(t,e){let n="middle";const{verticalFactor:i=1}=this.attribute,r=(e?1:-1)*i;return(0,c.Yt)(t[1],0)?n=!(0,c.Yt)(t[0],0)||Object.is(t[0],-0)||Object.is(t[1],-0)?"middle":1===r?"bottom":"top":t[1]>0?n="top":t[1]<0&&(n="bottom"),n}getLabelAlign(t,e,n){const i=this.attribute.orient;if(["top","bottom","right","left"].includes(i)||0===t[0]&&0===t[1]){if("top"===i||"bottom"===i)return Xt(e?"bottom"===i?"top":"bottom":i,n);if("left"===i||"right"===i)return Yt(e?"left"===i?"right":"left":i,n)}return{textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline(t,e)}}beforeLabelsOverlap(t,e,n,i,r){var o,a,s,l;const{flush:u=!1}=this.attribute.label||{};if(u&&t.length){const{orient:e,start:n,end:i}=this.attribute,r="bottom"===e||"top"===e,u=t[0],h=(0,p.Z$)(t),c=r?u.attribute.x>h.attribute.x:u.attribute.y<h.attribute.y;if(r){const t=c?h:u,e=c?u:h,r=n.x,s=i.x,l=t.AABBBounds.x1,d=e.AABBBounds.x2;l<r&&(t.attribute.angle?t.setAttributes({dx:(null!==(o=t.attribute.dx)&&void 0!==o?o:0)+r-l}):t.setAttributes({x:r,textAlign:"left"})),d>s&&(e.attribute.angle?e.setAttributes({dx:(null!==(a=e.attribute.dx)&&void 0!==a?a:0)+s-d}):e.setAttributes({x:s,textAlign:"right"}))}else{const t=c?h:u,e=c?u:h,r=t.AABBBounds.y2,o=e.AABBBounds.y1,a=n.y,d=i.y;o<a&&(e.attribute.angle?e.setAttributes({dy:(null!==(s=e.attribute.dy)&&void 0!==s?s:0)+a-o}):e.setAttributes({y:a,textBaseline:"top"})),r>d&&(t.attribute.angle?t.setAttributes({dy:(null!==(l=t.attribute.dy)&&void 0!==l?l:0)+d-r}):t.setAttributes({y:d,textBaseline:"bottom"}))}}}handleLabelsOverlap(t,e,n,i,r){if((0,h.Z)(t))return;const{verticalLimitSize:o,label:a,orient:l}=this.attribute,c=this._getAxisLabelLimitLength(o,r),{layoutFunc:d,autoRotate:f,autoRotateAngle:m,autoLimit:v,limitEllipsis:y,autoHide:b,autoHideMethod:w,autoHideSeparation:x,lastVisible:_,firstVisible:C,autoWrap:S,overflowLimitLength:M}=a;if((0,g.Z)(d))d(t,e,i,this);else{if(f)!function(t,e){if((0,h.Z)(t))return;const{orient:n,labelRotateAngle:i=[0,45,90]}=e;if(0===i.length||t.some((t=>!!t.attribute.angle)))return;let r=0,o=0;for(i&&i.length>0&&(o=i.length);r<o;){const e=i[r++];if(t.forEach((t=>{t.attribute.angle=(0,u.M4)(e)})),Kt(n,t),!Ut(t))break}}(t,{labelRotateAngle:m,orient:l});else if(S){!function(t,e){const{limitLength:n,axisLength:i,ellipsis:r="...",orient:o}=e;if((0,h.Z)(t)||!(0,s.Z)(n))return;const a=t[0].attribute.angle,l=Ft(a),u=Ot(a),c="top"===o||"bottom"===o;let d=i/t.length;t.forEach(((e,i)=>{var o,a,h,f,p;if(c){if(u&&Math.floor(e.AABBBounds.height())<=n)return;if(l){const n=Qt(e.attribute.x,null===(o=t[i+1])||void 0===o?void 0:o.attribute.x,null===(a=t[i-1])||void 0===a?void 0:a.attribute.x);(0,s.Z)(n)&&(d=(0,wt.VV)(d,n))}}else{if(u){const n=Qt(e.attribute.y,null===(h=t[i+1])||void 0===h?void 0:h.attribute.y,null===(f=t[i-1])||void 0===f?void 0:f.attribute.y);(0,s.Z)(n)&&(d=(0,wt.VV)(d,n))}if(l&&Math.floor(e.AABBBounds.width())<=n)return}let g=null,m=null;c?u?(g=n,m=d):(g=d,m=n):u?(g=d,m=n):(g=n,m=d),e.setAttributes({maxLineWidth:g,ellipsis:null!==(p=e.attribute.ellipsis)&&void 0!==p?p:r,whiteSpace:"normal",heightLimit:m})}))}(t,{orient:l,limitLength:c,axisLength:"left"===l||"right"===l?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x),ellipsis:y})}if(!S&&v&&(0,s.Z)(c)&&c>0){const e="left"===l||"right"===l,n=e?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x);Jt(t,{limitLength:c,verticalLimitLength:e?n/t.length:b||f?1/0:n/t.length,ellipsis:y,orient:l,axisLength:n,overflowLimitLength:M})}b&&function(t,e){if((0,h.Z)(t))return;const n=t.filter(Gt);if((0,h.Z)(n))return;let i;i=function(t){return t.forEach((t=>t.setAttribute("opacity",1))),t}(n);const{method:r="parity",separation:o=0}=e,a=(0,g.Z)(r)?r:Vt[r]||Vt.parity;if(i.length>=3&&Wt(i,o)){do{i=a(i,o)}while(i.length>=3&&Wt(i,o));const t=(t,e,n=!0)=>n&&t<3||e,r=t(i.length,e.firstVisible,!1);let s=t(i.length,e.lastVisible);const l=n[0],u=(0,p.Z$)(n);zt(l,u,o)&&r&&s&&(u.setAttribute("opacity",0),s=!1),Zt(l,i,r,(t=>zt(t,l,o))),Zt(u,i,s,(t=>zt(t,u,o)||!(!r||t===l)&&zt(t,l,o)),!0)}n.forEach((t=>{t.setAttribute("visible",!!t.attribute.opacity)}))}(t,{orient:l,method:w,separation:x,lastVisible:_,firstVisible:C})}}afterLabelsOverlap(t,e,n,i,r){const{verticalLimitSize:o,orient:a}=this.attribute,l="bottom"===a||"top"===a,u=n.AABBBounds;let h=l?u.height():u.width();const{verticalMinSize:c}=this.attribute;if((0,s.Z)(c)&&(!(0,s.Z)(o)||c<=o)){const t=this._getAxisLabelLimitLength(c,r);let e,i;h=Math.max(h,t),"left"===a?(e=u.x2-h,i=u.y1):"right"===a?(e=u.x1,i=u.y1):"top"===a?(e=u.x1,i=u.y2-h):"bottom"===a&&(e=u.x1,i=u.y1);const o=b.i.rect({x:e,y:i,width:l?u.width():h,height:l?h:u.height(),pickable:!1});o.name=St.axisLabelBackground,o.id=this._getNodeId("axis-label-background"),n.insertBefore(o,n.firstChild)}if((0,m.Z)(this.attribute.label.containerAlign)){let e;"left"===a?e=u.x2-h:"right"===a?e=u.x1:"top"===a?e=u.y2-h:"bottom"===a&&(e=u.y1),function(t,e,n,i,r){"left"===i||"right"===i?"left"===r?t.forEach((t=>{var n;t.setAttributes({dx:(null!==(n=t.attribute.dx)&&void 0!==n?n:0)+e-t.AABBBounds.x1})})):"right"===r?t.forEach((t=>{var i;t.setAttributes({dx:(null!==(i=t.attribute.dx)&&void 0!==i?i:0)+e+n-t.AABBBounds.x2})})):"center"===r&&t.forEach((t=>{var i;t.setAttributes({dx:(null!==(i=t.attribute.dx)&&void 0!==i?i:0)+e+n/2-(t.AABBBounds.x1+t.AABBBounds.x2)/2})})):"bottom"!==i&&"top"!==i||("top"===r?t.forEach((t=>{var n;t.setAttributes({dy:(null!==(n=t.attribute.dy)&&void 0!==n?n:0)+e-t.AABBBounds.y1})})):"bottom"===r?t.forEach((t=>{var i;t.setAttributes({dy:(null!==(i=t.attribute.dy)&&void 0!==i?i:0)+e+n-t.AABBBounds.y2})})):"middle"===r&&t.forEach((t=>{var i;t.setAttributes({dy:(null!==(i=t.attribute.dy)&&void 0!==i?i:0)+e+n/2-(t.AABBBounds.y1+t.AABBBounds.y2)/2})})))}(t,e,h,a,this.attribute.label.containerAlign)}}_getAxisLabelLimitLength(t,e){var n,i,r,o,a;const{label:s,title:l,line:u,tick:h}=this.attribute,c=null!==(n=s.space)&&void 0!==n?n:4;let d=t,f=0,p=0;const g=u&&u.visible?null!==(i=u.style.lineWidth)&&void 0!==i?i:1:0,m=h&&h.visible?null!==(r=h.length)&&void 0!==r?r:4:0;if(l&&l.visible&&"string"==typeof l.text){f=(0,Tt.fe)(l.text,l.textStyle,null===(a=null===(o=this.stage)||void 0===o?void 0:o.getTheme())||void 0===a?void 0:a.text).height;const t=(0,v.o)(l.padding);p=l.space+t[0]+t[2]}return d&&(d=(d-c-p-f-g-m)/e),d}release(){super.release(),this._breaks=null}}oe.defaultAttributes=It,function(t,e,n=!0){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames){const i=Object.getOwnPropertyNames(e);for(let r=0;r<i.length;r++){const o=i[r];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}}else y(t,e,n)}(oe,class{isInValidValue(t){return t<0||t>1}getTickCoord(t){const{start:e}=this.attribute,n=this.getRelativeVector();return{x:e.x+n[0]*t,y:e.y+n[1]*t}}getRelativeVector(t){const{start:e,end:n}=this.attribute;return[n.x-e.x,n.y-e.y]}getVerticalVector(t,e=!1,n){const{verticalFactor:i=1}=this.attribute,r=function(t){let e=_t(t);return e>0&&(e=1/e),[t[0]*e,t[1]*e]}(this.getRelativeVector());return xt([r[1],-1*r[0]],t*(e?1:-1)*i)}});var ae=n(27939);function se(t){return"bottom"===t||"top"===t}var le=n(67877);class ue{constructor(){this._scale=new le.j,this._scales=[this._scale]}valueToPosition(t){return this._scale.scale(t)}getPosition(t){let e=0,n=this._scale;if(1===this._scales.length||1===t.length)e=this.valueToPosition(t[0]);else{const i=Math.min(t.length,this._scales.length);for(let n=0;n<i;n++)e+=this._scales[n].scale(t[n]);n=this._scales[i-1]}return{position:e,bandScale:n}}calcScales(t,e){var n,i;const{bandPadding:r,paddingInner:o,paddingOuter:a}=this,s=(0,w.Z)(r),l=(0,w.Z)(o),u=(0,w.Z)(a);for(let h=0;h<this._scales.length;h++){const c=s?r[h]:r,d=l?o[h]:o,f=u?a[h]:a;this._scales[h].paddingInner(null!==(n=null!=d?d:c)&&void 0!==n?n:t,!0).paddingOuter(null!==(i=null!=f?f:c)&&void 0!==i?i:e)}}dataToPosition(t,e={}){var n;if(0===t.length||0===this._scales.length)return 0;const{position:i,bandScale:r}=this.getPosition(t);return i+r.bandwidth()*(null!==(n=e.bandPosition)&&void 0!==n?n:.5)}updateScaleDomain(t){for(let e=0;e<this._scales.length;e++)this._scales[e].domain(t)}updateRange(t){const[e,n]=this._scale.range();t[0]===e&&t[1]===n||this._scale.range(t)}}var he=n(94611),ce=n.n(he),de=n(86235);const fe="undefined"!=typeof console;function pe(t,e,n){const i=[e].concat([].slice.call(n));fe&&console[t].apply(console,i)}var ge;!function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug"}(ge||(ge={}));class me{static getInstance(t,e){return me._instance&&(0,de.Z)(t)?me._instance.level(t):me._instance||(me._instance=new me(t,e)),me._instance}static setInstance(t){return me._instance=t}static setInstanceLevel(t){me._instance?me._instance.level(t):me._instance=new me(t)}static clearInstance(){me._instance=null}constructor(t=ge.None,e){this._onErrorHandler=[],this._level=t,this._method=e}addErrorHandler(t){this._onErrorHandler.find((e=>e===t))||this._onErrorHandler.push(t)}removeErrorHandler(t){const e=this._onErrorHandler.findIndex((e=>e===t));e<0||this._onErrorHandler.splice(e,1)}callErrorHandler(...t){this._onErrorHandler.forEach((e=>e(...t)))}canLogInfo(){return this._level>=ge.Info}canLogDebug(){return this._level>=ge.Debug}canLogError(){return this._level>=ge.Error}canLogWarn(){return this._level>=ge.Warn}level(t){return arguments.length?(this._level=+t,this):this._level}error(...t){var e;return this._level>=ge.Error&&(this._onErrorHandler.length?this.callErrorHandler(...t):pe(null!==(e=this._method)&&void 0!==e?e:"error","ERROR",t)),this}warn(...t){return this._level>=ge.Warn&&pe(this._method||"warn","WARN",t),this}info(...t){return this._level>=ge.Info&&pe(this._method||"log","INFO",t),this}debug(...t){return this._level>=ge.Debug&&pe(this._method||"log","DEBUG",t),this}}me._instance=null;var ve=n(41638);class ye{constructor(t){var e;let n;this.options=t,this.isDataSet=!0,this.transformMap={},this.parserMap={},this.dataViewMap={},this.target=new(ce()),n=(null==t?void 0:t.name)?t.name:(0,ve.F)("dataset"),this.name=n,this._logger=null!==(e=null==t?void 0:t.logger)&&void 0!==e?e:me.getInstance()}setLogger(t){this._logger=t}getDataView(t){return this.dataViewMap[t]}setDataView(t,e){var n;this.dataViewMap[t]&&(null===(n=this._logger)||void 0===n||n.error(`Error: dataView ${t} `)),this.dataViewMap[t]=e}removeDataView(t){this.dataViewMap[t]=null,delete this.dataViewMap[t]}registerParser(t,e){var n;this.parserMap[t]&&(null===(n=this._logger)||void 0===n||n.warn(`Warn: transform ${t} `)),this.parserMap[t]=e}removeParser(t){this.parserMap[t]=null,delete this.parserMap[t]}getParser(t){return this.parserMap[t]||this.parserMap.default}registerTransform(t,e){var n;this.transformMap[t]&&(null===(n=this._logger)||void 0===n||n.warn(`Warn: transform ${t} `)),this.transformMap[t]=e}removeTransform(t){this.transformMap[t]=null,delete this.transformMap[t]}getTransform(t){return this.transformMap[t]}multipleDataViewAddListener(t,e,n){this._callMap||(this._callMap=new Map);let i=this._callMap.get(n);i||(i=()=>{t.some((t=>t.isRunning))||n()}),t.forEach((t=>{t.target.addListener(e,i)})),this._callMap.set(n,i)}allDataViewAddListener(t,e){this.multipleDataViewAddListener(Object.values(this.dataViewMap),t,e)}multipleDataViewRemoveListener(t,e,n){if(this._callMap){const i=this._callMap.get(n);i&&t.forEach((t=>{t.target.removeListener(e,i)})),this._callMap.delete(n)}}multipleDataViewUpdateInParse(t){t.forEach((t=>{var e;return null===(e=this.getDataView(t.name))||void 0===e?void 0:e.markRunning()})),t.forEach((t=>{var e;return null===(e=this.getDataView(t.name))||void 0===e?void 0:e.parseNewData(t.data,t.options)}))}multipleDataViewUpdateInRawData(t){t.forEach((t=>{var e;return null===(e=this.getDataView(t.name))||void 0===e?void 0:e.markRunning()})),t.forEach((t=>{var e;return null===(e=this.getDataView(t.name))||void 0===e?void 0:e.updateRawData(t.data,t.options)}))}destroy(){this.transformMap=null,this.parserMap=null,this.dataViewMap=null,this._callMap=null,this.target.removeAllListeners()}}var be,we=n(55056);!function(t){t.Identity="identity",t.Linear="linear",t.Log="log",t.Pow="pow",t.Sqrt="sqrt",t.Symlog="symlog",t.Time="time",t.Quantile="quantile",t.Quantize="quantize",t.Threshold="threshold",t.Ordinal="ordinal",t.Point="point",t.Band="band"}(be||(be={}));const xe={};function _e(t){switch(t){case be.Linear:case be.Log:case be.Pow:case be.Sqrt:case be.Symlog:case be.Time:return!0;default:return!1}}Object.values(be).forEach((t=>{xe[t]=!0}));var Ce=n(94378);const Se=t=>t.map(((t,e)=>({index:e,value:t}))),Me=(t,e,n=0)=>{const i=new Ce.FB(t).expand(n/2),r=new Ce.FB(e).expand(n/2);return i.intersects(r)},Ae=(t,e,n,i)=>n<t?Math.max(t-e/2,n):n>t?Math.min(t-e/2,n-e):n<i?n:n-e,Te=(t,e,n)=>{var i;const{labelStyle:r,axisOrientType:o,labelFlush:a,labelFormatter:s,startAngle:l=0}=n;let h=null!==(i=r.angle)&&void 0!==i?i:0;"vertical"===r.direction&&(h+=(0,u.M4)(90));const c=["bottom","top"].includes(o),d=["left","right"].includes(o);let f=1,p=0;c||(d?(f=0,p=1):l&&(f=Math.cos(l),p=-Math.sin(l)));const g=(0,Tt.gM)(r),m=t.range(),v=e.map(((n,i)=>{var o,l;const u=s?s(n):`${n}`,{width:v,height:y}=g.quickMeasure(u),b=Math.max(v,12),w=Math.max(y,12),x=t.scale(n),_=f*x,C=p*x;let S,M,A=_,T=C;a&&c&&0===i?A=Ae(_,b,m[0],m[m.length-1]):a&&c&&i===e.length-1?A=Ae(_,b,m[m.length-1],m[0]):S=null!==(o=r.textAlign)&&void 0!==o?o:"center","right"===S?A-=b:"center"===S&&(A-=b/2),a&&d&&0===i?T=Ae(C,w,m[0],m[m.length-1]):a&&d&&i===e.length-1?T=Ae(C,w,m[m.length-1],m[0]):M=null!==(l=r.textBaseline)&&void 0!==l?l:"middle","bottom"===M?T-=w:"middle"===M&&(T-=w/2);const k=(new Ce.FB).set(A,T,A+b,T+w);return h&&k.rotate(h,_,C),k}));return v};function ke(t,e,n,i){let r;const{breakData:o}=t;if(o&&o()){const{breakDomains:t}=o(),a=e.domain();r=[];for(let e=0;e<a.length-1;e++)i(n,[a[e],a[e+1]]).forEach((e=>{t.some((t=>e>=t[0]&&e<=t[1]))||r.push(e)}));e.domain(a)}else r=i(n);return r}function Re(t,e,n,i,r=!1){if(n&&!e.includes(t)){let n=e.length;if(n>1){r?e.push(t):e.unshift(t);for(let t=0;t<n;t++){const o=r?n-1-t:t;if(!i(e[o]))break;e.splice(o,1),t--,n--}}}}const Ie={parity:function(t){return t.filter(((t,e)=>e%2==0))},greedy:function(t,e){let n;return t.filter(((t,i)=>!(i&&zt(n,t,e)||(n=t,0))))}};function Pe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}const Ee=(t,e,n)=>{let i=t,r=e;for(;i<r;){const t=Math.floor((i+r)/2);n(t)>=0?r=t:i=t+1}return i},Be=(t,e,n,i)=>Te(t,e,n).map((t=>i?[t.x1,t.x2,t.width()]:[t.y1,t.y2,t.height()])),Le=(t,e,n=0)=>Math.max(t[0],e[0])-n/2<=Math.min(t[1],e[1])+n/2,De=(t,e)=>t[1]<e[0]?e[0]-t[1]:e[1]<t[0]?t[0]-e[1]:0,Oe=(t,e,n,i,r,o)=>{let a=0,s=0,l=-1,u=Number.MAX_VALUE;const h=i=>{let r=!0,o=0;do{o+i<t.length&&Le(e[o],e[o+i],n)&&(r=!1),o+=i}while(r&&o<t.length);return r},c=Ee(r,t.length,(t=>h(t)?1:-1));let d=c;do{if(d>c&&!o&&!h(d))d++;else{if(!i){s=d;break}{const i=t.length-1;let r,o=0;r=t.length%d>0?t.length-t.length%d+d:t.length;do{if(r-=d,r!==i&&!Le(e[r],e[i],n))break;o++}while(r>0);if(r===i){s=d,a=o;break}{const n=Math.floor(t.length/d)-o+1;if(n<l)break;{l=n;const t=De(e[r],e[i]),h=r-d>=0?De(e[r-d],e[r]):t,c=Math.abs(t-h);if(c<u&&(u=c,s=d,a=o),t<=h)break}}}d++}}while(d<=t.length);return{step:s,delCount:a}},Fe=(t,e,n)=>{var i;const{labelStyle:r,getRadius:o,labelOffset:a,labelFormatter:s,inside:l}=n,h=null==o?void 0:o(),d=null!==(i=r.angle)&&void 0!==i?i:0,f=(0,Tt.gM)(r);return e.map((e=>{const n=s?s(e):`${e}`,{width:i,height:o}=f.quickMeasure(n),p=Math.max(i,12),g=Math.max(o,12),m=t.scale(e),v={x:0,y:0};let y=0,b=0;const w={align:r.textAlign,baseline:r.textBaseline},{x:x,y:_}=function(t,e,n,i,r){const o=(0,u.op)({x:0,y:0},n,t),a=Ht(o,Nt(i,o,e,r));return s=a,l=Nt(i||1,a,e,r),{x:s.x+l[0],y:s.y+l[1]};var s,l}(m,v,h,a,l);return w.align||((0,c.Yt)(x,v.x)?w.baseline||(w.baseline=_>v.y?"top":"bottom"):x>v.x?w.align="left":x<v.x&&(w.align="right")),y=x+("right"===w.align?-p:"left"===w.align?0:-p/2),b=_+("bottom"===w.baseline?-g:"top"===w.baseline?0:-g/2),(new Ce.FB).set(y,b,y+p,b+g).rotate(d,y+p/2,b+g/2)}))},He=(t,e,n,i)=>{let r=i;do{let i=!0;r++;let o=0;do{o+r<t.length&&Me(e[o],e[o+r],n)&&(i=!1),o+=r}while(i&&o<t.length);if(i)break}while(r<=t.length);let o=0;if(t.length>2){let n=t.length-t.length%r;for(n>=t.length&&(n-=r);n>0&&Me(e[0],e[n]);)o++,n-=r}return{step:r,delCount:o}},Ne=(t,e)=>{if(_e(t.type))return((t,e)=>{var n,i;if(!_e(t.type))return Se(t.domain());const r=t.range(),o=Math.abs(r[r.length-1]-r[0]);if(o<2)return Se([t.domain()[0]]);const{tickCount:a,forceTickCount:s,tickStep:l,noDecimals:u=!1,labelStyle:h,breakData:c}=e;let d;if((0,m.Z)(l))f=t.stepTicks(l),v=c&&c()?c().breakDomains:null,d=v&&v.length?f.filter((t=>v.every((e=>t<e[0]||t>e[1])))):f;else if((0,m.Z)(s))d=ke(e,t,s,((e,n)=>n&&n.length?t.domain(n,!0).forceTicks(e):t.forceTicks(e)));else if("d3"===e.tickMode){const i=null!==(n=(0,g.Z)(a)?a({axisLength:o,labelStyle:h}):a)&&void 0!==n?n:5;d=ke(e,t,i,((e,n)=>n&&n.length?t.domain(n,!0).d3Ticks(e,{noDecimals:u}):t.d3Ticks(e,{noDecimals:u})))}else{const n=null!==(i=(0,g.Z)(a)?a({axisLength:o,labelStyle:h}):a)&&void 0!==i?i:5,r=(0,g.Z)(e.tickMode)?e.tickMode:void 0;d=ke(e,t,n,((e,n)=>n&&n.length?t.domain(n,!0).ticks(e,{noDecimals:u,customTicks:r}):t.ticks(e,{noDecimals:u,customTicks:r})))}var f,v;const y=t.domain();if(e.labelFirstVisible&&y[0]!==d[0]&&!d.includes(y[0])&&d.unshift(y[0]),e.labelLastVisible&&y[y.length-1]!==d[d.length-1]&&!d.includes(y[y.length-1])&&d.push(y[y.length-1]),e.sampling&&d.length>1&&("cartesian"===e.coordinateType||"polar"===e.coordinateType&&"radius"===e.axisOrientType)){const{labelGap:n=4,labelFlush:i}=e,r=6;let a;if(d.length*r>o){const n=[],i=Math.floor(d.length*r/o);d.forEach(((t,e)=>{e%i!=0&&e!==d.length-1||n.push(t)})),a=Te(t,n,e).map(((t,e)=>({AABBBounds:t,value:n[e]})))}else a=Te(t,d,e).map(((t,e)=>({AABBBounds:t,value:d[e]})));const s=a[0],l=(0,p.Z$)(a),u=c&&c()?Ie.greedy:Ie.parity;for(;a.length>=3&&Wt(a,n);)a=u(a,n);const h=e.labelFirstVisible;let f=e.labelLastVisible;zt(s,l,n)&&a.includes(l)&&a.length>1&&h&&f&&(a.splice(a.indexOf(l),1),f=!1),Re(s,a,h,(t=>zt(t,s,n))),Re(l,a,f,(t=>zt(t,l,n)||!(!h||t===s)&&zt(t,s,n)),!0);const g=a.map((t=>t.value));g.length<3&&i&&(g.length>1&&g.pop(),(0,p.Z$)(g)!==(0,p.Z$)(d)&&g.push((0,p.Z$)(d))),d=g}return Se(d)})(t,e);if(function(t){switch(t){case be.Ordinal:case be.Point:case be.Band:return!0;default:return!1}}(t.type)){if("cartesian"===e.coordinateType)return((t,e)=>{var n;const i=t.domain();if(!i.length)return[];const{tickCount:r,forceTickCount:o,tickStep:a,labelGap:s=4,axisOrientType:l,labelStyle:u}=e,h=(t=>["bottom","top","z"].includes(t))(l),c=t.range(),d=t.calculateWholeRangeSize();if(d<2)return e.labelLastVisible?Se([i[i.length-1]]):Se([i[0]]);let f;if((0,m.Z)(a))f=t.stepTicks(a);else if((0,m.Z)(o))f=t.forceTicks(o);else if((0,m.Z)(r)){const e=(0,g.Z)(r)?r({axisLength:d,labelStyle:u}):r;f=t.ticks(e)}else if(e.sampling){const r=(null!==(n=e.labelStyle.fontSize)&&void 0!==n?n:12)+2,o=(0,p.iH)(c),a=(0,p.CE)(c);if(i.length<=d/r){const n=(a-o)/i.length,r=Be(t,i,e,h),l=Math.min(...r.map((t=>t[2]))),u=Oe(i,r,s,e.labelLastVisible,Math.floor(l/n),!1);f=t.stepTicks(u.step),e.labelLastVisible&&(u.delCount&&(f=f.slice(0,f.length-u.delCount)),f.push(i[i.length-1]))}else{const n=[i[0],i[Math.floor(i.length/2)],i[i.length-1]],r=Be(t,n,e,h);let l=null;r.forEach((t=>{l?l[2]<t[2]&&(l=t):l=t}));const u=a-o-s>0?Math.ceil(i.length*(s+l[2])/(a-o-s)):i.length-1;f=t.stepTicks(u),!e.labelLastVisible||f.length&&f[f.length-1]===i[i.length-1]||(f.length&&Math.abs(t.scale(f[f.length-1])-t.scale(i[i.length-1]))<l[2]&&(f=f.slice(0,-1)),f.push(i[i.length-1]))}}else f=t.domain();return Se(f)})(t,e);if("polar"===e.coordinateType&&"angle"===e.axisOrientType)return((t,e)=>{const{tickCount:n,forceTickCount:i,tickStep:r,getRadius:o,labelOffset:a,labelGap:s=0,labelStyle:l}=e,u=null==o?void 0:o();if(!u)return Se(t.domain());let h;if((0,m.Z)(r))h=t.stepTicks(r);else if((0,m.Z)(i))h=t.forceTicks(i);else if((0,m.Z)(n)){const e=t.range(),i=Math.abs(e[e.length-1]-e[0]),r=(0,g.Z)(n)?n({axisLength:i,labelStyle:l}):n;h=t.ticks(r)}else if(e.sampling){const n=t.domain(),i=t.range(),r=Fe(t,n,e),o=(0,p.iH)(i),l=(0,p.CE)(i),c=Math.abs(l-o)*(u+a)/n.length,{step:d,delCount:f}=He(n,r,s,Math.floor(r.reduce(((t,e)=>Math.min(t,e.width(),e.height())),Number.MAX_VALUE)/c));h=t.stepTicks(d),h=h.slice(0,h.length-f)}else h=t.domain();return Se(h)})(t,e)}return Se(t.domain())};var ze=n(99856),We=n(25880),je=n(18416);const Ve=Math.sqrt(50),Ge=Math.sqrt(10),Ze=Math.sqrt(2);class Ue{constructor(t){this._extend={},this.type=null!=t?t:"linear",this._scale="log"===t?new ze.Y:"symlog"===t?new We.g:new je.f,this._scales=[this._scale]}setExtraAttrFromSpec(t,e,n,i,r,o){this.nice=!1,this.zero=e,this.zero&&(n.min=Math.min(n.min,0),n.max=Math.max(n.max,0)),this.domain=n,this.expand=i,"log"===this.type?this._scale.base(null!=r?r:10):"symlog"===this.type&&this._scale.constant(null!=o?o:10)}transformScaleDomain(){"symlog"===this.type||"log"===this.type||this.setScaleNice()}setScaleNice(){"log"===this.type?this.setLogScaleNice():this.setLinearScaleNice()}setLogScaleNice(){var t,e,n,i,r,o;(0,l.Z)(null===(t=this.domain)||void 0===t?void 0:t.min)&&(0,l.Z)(null===(e=this.domain)||void 0===e?void 0:e.max)?this.nice&&this._scale.nice():(0,m.Z)(null===(n=this.domain)||void 0===n?void 0:n.min)&&(0,l.Z)(null===(i=this.domain)||void 0===i?void 0:i.max)?this.nice&&this._scale.niceMax():(0,l.Z)(null===(r=this.domain)||void 0===r?void 0:r.min)&&(0,m.Z)(null===(o=this.domain)||void 0===o?void 0:o.max)&&this.nice&&this._scale.niceMin()}setLinearScaleNice(){var t,e,n,i,r,o,a,s;let u=null!==(e=null!==(t=this.forceTickCount)&&void 0!==t?t:this.tickCount)&&void 0!==e?e:10;"accurateFirst"===this.niceType&&(u=Math.max(10,u)),(0,l.Z)(null===(n=this.domain)||void 0===n?void 0:n.min)&&(0,l.Z)(null===(i=this.domain)||void 0===i?void 0:i.max)?this.nice&&this._scale.nice(u):(0,m.Z)(null===(r=this.domain)||void 0===r?void 0:r.min)&&(0,l.Z)(null===(o=this.domain)||void 0===o?void 0:o.max)?this.nice&&this._scale.niceMax(u):(0,l.Z)(null===(a=this.domain)||void 0===a?void 0:a.min)&&(0,m.Z)(null===(s=this.domain)||void 0===s?void 0:s.max)?this.nice&&this._scale.niceMin(u):this.nice&&this._scale.nice(u)}dataToPosition(t){return this.valueToPosition(t[0])}valueToPosition(t){return this._scale.scale(t)}computeLinearDomain(t){const e=[];return t.forEach((t=>{const{min:n,max:i}=t;e[0]=void 0===e[0]?n:Math.min(e[0],n),e[1]=void 0===e[1]?i:Math.max(e[1],i)})),this.expandDomain(e),this.includeZero(e),this.setDomainMinMax(e),e}expandDomain(t){if(!this.expand)return;const e=t[0],n=t[t.length-1];(0,m.Z)(this.expand.min)&&(t[0]=e-(n-e)*this.expand.min),(0,m.Z)(this.expand.max)&&(t[t.length-1]=n+(n-e)*this.expand.max)}niceDomain(t){if((0,m.Z)(t[0])||(0,m.Z)(t[1])||"linear"!==this.type)return t;if(Math.abs((0,p.iH)(t)-(0,p.CE)(t))<=1e-12){let e=t[0];const n=e>=0?1:-1;if(e=Math.abs(e),e<1)t[0]=0,t[1]=1;else{let n=e/5;const i=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,i);n=(r>=Ve?10:r>=Ge?5:r>=Ze?2:1)*Math.pow(10,i),t[0]=0,t[1]=10*n}n<0&&(t.reverse(),t[0]*=-1,t[1]*=-1)}return t}niceMinMax(){var t,e,n,i,r,o,a,s;if(this.nice){let u=null!==(e=null!==(t=this.forceTickCount)&&void 0!==t?t:this.tickCount)&&void 0!==e?e:10;"accurateFirst"===this.niceType&&(u=Math.max(10,u)),(0,l.Z)(null===(n=this.domain)||void 0===n?void 0:n.min)&&(0,l.Z)(null===(i=this.domain)||void 0===i?void 0:i.max)?this._scale.nice(u):(0,m.Z)(null===(r=this.domain)||void 0===r?void 0:r.min)&&(0,l.Z)(null===(o=this.domain)||void 0===o?void 0:o.max)?this._scale.niceMax(u):(0,l.Z)(null===(a=this.domain)||void 0===a?void 0:a.min)&&(0,m.Z)(null===(s=this.domain)||void 0===s?void 0:s.max)?this._scale.niceMin(u):this._scale.nice(u)}}includeZero(t){this.zero&&(t[0]=Math.min(t[0],0),t[t.length-1]=Math.max(t[t.length-1],0))}setExtendDomain(t,e){if(void 0===e)return void delete this._extend[t];this._extend[t]=e;const n=this._scale.domain();this.extendDomain(n),this.includeZero(n),this.setDomainMinMax(n),this.niceDomain(n),this._scale.domain(n,this.nice),this.niceMinMax()}extendDomain(t){let e;const n=t.length-1,i=t[0]-t[n]>0,r=i?n:0,o=i?0:n;for(const n in this._extend)e=this._extend[n],e>t[o]&&(t[o]=e),e<t[r]&&(t[r]=e)}setDomainMinMax(t){if(!this.domain)return;const{min:e,max:n}=this.domain;(0,m.Z)(e)&&(t[0]=e),(0,m.Z)(n)&&(t[1]=n)}setZero(t){this.zero!==t&&(this.zero=t,this.updateScaleDomain())}updateScaleDomain(){const t=this.computeDomain([this.domain]);this.updateScaleDomainByModel(t)}computeDomain(t){return this.computeLinearDomain(t)}updateScaleDomainByModel(t){t=null!=t?t:this._scale.domain(),this.extendDomain(t),this.includeZero(t),this.setDomainMinMax(t),this.niceDomain(t),this._scale.domain(t,this.nice),this.niceMinMax()}updateRange(t){const[e,n]=this._scale.range();t[0]===e&&t[1]===n||this._scale.range(t)}}function Ke(t,e){var n;const i=e.option;(0,h.Z)(t)||(null===(n=null==i?void 0:i.label)||void 0===n?void 0:n.flush)&&function(t,e){const{width:n,height:i}=e.getLayoutRect(),r=se(e.orient),o=!0===e.option.inverse,a=t[0],s=(0,p.Z$)(t);if(r)if(o){const t=n,e=0,i=a.AABBBounds.x2,r=s.AABBBounds.x1;i>t&&a.setAttributes({x:t,textAlign:"right"}),r<e&&s.setAttributes({x:e,textAlign:"left"})}else{const t=0,e=n,i=a.AABBBounds.x1,r=s.AABBBounds.x2;i<t&&a.setAttributes({x:t,textAlign:"left"}),r>e&&s.setAttributes({x:e,textAlign:"right"})}else if(o){const t=a.AABBBounds.y1,e=s.AABBBounds.y2,n=0,r=i;t<n&&a.setAttributes({y:n,textBaseline:"top"}),e>r&&s.setAttributes({y:r,textBaseline:"bottom"})}else{const t=i,e=0,n=a.AABBBounds.y2,r=s.AABBBounds.y1;n>t&&a.setAttributes({y:t,textBaseline:"bottom"}),r<e&&s.setAttributes({y:e,textBaseline:"top"})}}(t,e)}const $e=t=>t;class Xe{constructor(t,e,n,i,r){var o,s,l;if(this.x=0,this.y=0,this.padding=i,this.table=r,this.orient=null!==(o=t.orient)&&void 0!==o?o:"left",this.type=null!==(s=t.type)&&void 0!==s?s:"band",this.option=(0,a.Z)({},(0,ae.UP)(t.__vtableChartTheme),function(t,e){let n;return"left"===t?n=e.axisStyle.leftAxisStyle:"right"===t?n=e.axisStyle.rightAxisStyle:"top"===t?n=e.axisStyle.topAxisStyle:"bottom"===t&&(n=e.axisStyle.bottomAxisStyle),(0,a.Z)({},e.axisStyle.defaultAxisStyle,n)}(this.orient,r.theme),function(t,e,n){if(!n)return{};const i=n.axis;let r,o;return"linear"===e||"log"===e||"symlog"===e?r=n.axisLinear:"band"===e&&(r=n.axisBand),"top"===t||"bottom"===t?o=n.axisX:"left"!==t&&"right"!==t||(o=n.axisY),(0,a.Z)({},i,r,o)}(this.orient,this.type,t.__vtableChartTheme),t),"left"===this.orient||"right"===this.orient){const t=0,r=0;this.width=e,this.height=n-i[0]-i[2]-r,this.y=i[0]+t}else if("top"===this.orient||"bottom"===this.orient){const t=0,r=0;this.width=e-i[1]-i[3]-r,this.height=n,this.x=i[3]+t}this.visible=null===(l=t.visible)||void 0===l||l,this.inverse="inverse"in t&&!!t.inverse,"band"===t.type&&(this.data=t.domain),this.initScale(),this.initData(),this.createComponent(),this.initEvent()}initScale(){const t=this.option;"band"===this.type||"point"===this.type?(this.scale=new ue,this.scale.bandPadding=t.bandPadding,this.scale.paddingInner=t.paddingInner,this.scale.paddingOuter=t.paddingOuter,this.scale.calcScales(.1,.3),this.scale.updateScaleDomain(this.data),this.updateScaleRange()):"linear"!==this.type&&"time"!==this.type&&"log"!==this.type&&"symlog"!==this.type||(this.scale=new Ue(this.type),this.scale.setExtraAttrFromSpec(t.nice,t.zero,t.range,t.expand,t.base,t.constant),this.scale.transformScaleDomain(),this.scale.updateScaleDomain(),this.updateScaleRange())}initData(){var t,e,n;this.table._vDataSet||(this.table._vDataSet=new ye),t=this.table._vDataSet,e="scale",n=$e,t.getParser(e)||t.registerParser(e,n),function(t,e,n){t.getTransform(e)||t.registerTransform(e,n)}(this.table._vDataSet,"ticks",Ne);const i=this.option.label||{},r=this.option.tick||{},o=new we.VO(this.table._vDataSet).parse(this.scale._scale,{type:"scale"}).transform({type:"ticks",options:{sampling:!1!==this.option.sampling,tickCount:r.tickCount,forceTickCount:r.forceTickCount,tickStep:r.tickStep,tickMode:r.tickMode,noDecimals:r.noDecimals,axisOrientType:this.orient,coordinateType:"cartesian",labelStyle:i.style,labelFormatter:i.formatMethod,labelGap:i.minGap,labelLastVisible:i.lastVisible,labelFlush:i.flush}},!1);this.tickData=o,this.computeData()}computeData(){this.tickData.reRunAllTransform()}initEvent(){}createComponent(){const t=(0,ae.sG)(this.option),e=this.getUpdateAttribute();e.verticalFactor="top"===this.orient||"right"===this.orient?-1:1,this.component=new oe((0,a.Z)({disableTriggerEvent:this.table.options.disableInteraction},t,e)),this.component.setAttributes(this.setLayoutStartPosition({x:this.x,y:this.y})),this.component.originAxis=this}resize(t,e){this.width=t-("top"===this.orient||"bottom"===this.orient?this.padding[1]+this.padding[3]:0),this.height=e-("left"===this.orient||"right"===this.orient?this.padding[2]+this.padding[0]:0),this.updateScaleRange(),this.computeData();const n=(0,ae.sG)(this.option),i=this.getUpdateAttribute();i.verticalFactor="top"===this.orient||"right"===this.orient?-1:1,this.component.setAttributes((0,a.Z)({},n,i)),this.component.setAttributes(this.setLayoutStartPosition({x:this.x,y:this.y})),this.overlap()}overlap(){!function(t,e){const n=t.find((t=>"axis-label-container-layer-0"===t.name),!0),i=t.find((t=>"axis-label-container-layer-1"===t.name),!0);Ke(n?n.getChildren():[],e),Ke(i?i.getChildren():[],e)}(this.component,this)}getLayoutRect(){return{width:this.width,height:this.height}}getUpdateAttribute(){const t=this.table.tableNoFrameHeight,e=this.table.tableNoFrameWidth,{width:n,height:i}=this.getLayoutRect(),r=se(this.orient),o="left"===(a=this.orient)||"right"===a;var a;let s={x:0,y:0},l=0,u=0;r?(s={x:n,y:0},l=t,u=n):o&&(s={x:0,y:i},l=e,u=i);const h="top"===this.orient||"bottom"===this.orient?i:n;return{start:{x:0,y:0},end:s,title:{text:this.option.title.text,maxWidth:this._getTitleLimit(r)},items:this.getLabelItems(u),verticalLimitSize:h,verticalMinSize:h}}getLabelItems(t){return[this.tickData.latestData.map((e=>({id:e.value,label:e.value,value:0===t?0:this.scale.dataToPosition([e.value])/t,rawValue:e.value}))).filter((t=>t.value>=0&&t.value<=1))]}updateScaleRange(){var t,e,n,i,r,o,a,l;const u=null!==(e=null===(t=this.option.innerOffset)||void 0===t?void 0:t.right)&&void 0!==e?e:0,h=null!==(i=null===(n=this.option.innerOffset)||void 0===n?void 0:n.left)&&void 0!==i?i:0,c=null!==(o=null===(r=this.option.innerOffset)||void 0===r?void 0:r.top)&&void 0!==o?o:0,d=null!==(l=null===(a=this.option.innerOffset)||void 0===a?void 0:a.bottom)&&void 0!==l?l:0,{width:f,height:p}=this.getLayoutRect(),g=this.option.inverse||!1;let m=[0,0];se(this.orient)?(0,s.Z)(f)&&(m=g?[f-u,h]:[h,f-u]):(0,s.Z)(p)&&(m=g?[c,p-d]:[p-d,c]),this.scale.updateRange(m)}setLayoutStartPosition(t){let{x:e,y:n}=t;return(0,s.Z)(e)&&(e+=Number("left"===this.orient)*this.getLayoutRect().width),(0,s.Z)(n)&&(n+=Number("top"===this.orient)*this.getLayoutRect().height),{x:e,y:n}}_getTitleLimit(t){var e,n,i;if(this.option.title.visible&&(0,l.Z)(null===(e=this.option.title.style)||void 0===e?void 0:e.maxLineWidth)){let e=(null===(n=this.option.title.style)||void 0===n?void 0:n.angle)||0;if((null===(i=this.option.title)||void 0===i?void 0:i.autoRotate)&&(0,l.Z)(this.option.title.angle)&&(e="left"===this.option.orient?-90:90),t){const t=this.getLayoutRect().width,n=Math.abs(Math.cos((0,u.M4)(e)));return n<1e-6?1/0:t/n}const r=this.getLayoutRect().height,o=Math.abs(Math.sin((0,u.M4)(e)));return o<1e-6?1/0:r/o}return null}getScale(){return this.scale._scale}getDomainSpec(){return this.scale.domain}}function Ye(t,e){var n,i,r,o,s,l,u,h,c,f,p,m,v,y,b,x,_,C;const S=(0,a.Z)({},ae.b8,t);let M=0;!1!==S.tick.visible&&(M=null!==(n=S.tick.width)&&void 0!==n?n:4);let A=0;if(S.label.visible){if("band"===S.type)S.domain.forEach((t=>{var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v;S.label.formatMethod&&(t=S.label.formatMethod(t));const{width:y,height:b}=e.measureText(t,{fontSize:null!==(r=null===(i=null===(n=S.label)||void 0===n?void 0:n.style)||void 0===i?void 0:i.fontSize)&&void 0!==r?r:ae.$M,fontWeight:null!==(s=null===(a=null===(o=S.label)||void 0===o?void 0:o.style)||void 0===a?void 0:a.fontWeight)&&void 0!==s?s:"normal",fontFamily:null!==(h=null===(u=null===(l=S.label)||void 0===l?void 0:l.style)||void 0===u?void 0:u.fontFamily)&&void 0!==h?h:ae.iR}),w=(null===(d=null===(c=S.label)||void 0===c?void 0:c.style)||void 0===d?void 0:d.maxLineWidth)||1/0,x=(null!==(g=null===(p=null===(f=S.label)||void 0===f?void 0:f.style)||void 0===p?void 0:p.angle)&&void 0!==g?g:0)+("vertical"===(null===(v=null===(m=S.label)||void 0===m?void 0:m.style)||void 0===v?void 0:v.direction)?90:0);A=Math.max(A,Qe(Math.min(y,w),b,x).width)}));else{let n;if((null===(i=t.sync)||void 0===i?void 0:i.tickAlign)&&(0,g.Z)(null===(r=t.tick)||void 0===r?void 0:r.tickMode))n=t.tick.tickMode();else if((0,w.Z)(t.__ticksForVTable))n=t.__ticksForVTable;else{const t=S.range,e=Math.abs(t.min)>1?Math.round(t.min):t.min,i=Math.abs(t.max)>1?Math.round(t.max):t.max;n=[Je(e),Je(i)]}n.forEach((t=>{var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v;S.label.formatMethod&&(t=S.label.formatMethod(t));const{width:y,height:b}=e.measureText(t,{fontSize:null!==(r=null===(i=null===(n=S.label)||void 0===n?void 0:n.style)||void 0===i?void 0:i.fontSize)&&void 0!==r?r:ae.$M,fontWeight:null!==(s=null===(a=null===(o=S.label)||void 0===o?void 0:o.style)||void 0===a?void 0:a.fontWeight)&&void 0!==s?s:"normal",fontFamily:null!==(h=null===(u=null===(l=S.label)||void 0===l?void 0:l.style)||void 0===u?void 0:u.fontFamily)&&void 0!==h?h:ae.iR}),w=(null===(d=null===(c=S.label)||void 0===c?void 0:c.style)||void 0===d?void 0:d.maxLineWidth)||1/0,x=(null!==(g=null===(p=null===(f=S.label)||void 0===f?void 0:f.style)||void 0===p?void 0:p.angle)&&void 0!==g?g:0)+("vertical"===(null===(v=null===(m=S.label)||void 0===m?void 0:m.style)||void 0===v?void 0:v.direction)?90:0);A=Math.max(A,Qe(Math.min(y,w),b,x).width)}))}A+=null!==(o=S.label.space)&&void 0!==o?o:4}let T=0;if(S.title.visible&&(0,d.Z)(S.title.text)){const{width:n,height:i}=e.measureText(S.title.text,{fontSize:null!==(u=null===(l=null===(s=S.title)||void 0===s?void 0:s.style)||void 0===l?void 0:l.fontSize)&&void 0!==u?u:ae.$M,fontWeight:null!==(f=null===(c=null===(h=S.title)||void 0===h?void 0:h.style)||void 0===c?void 0:c.fontWeight)&&void 0!==f?f:"normal",fontFamily:null!==(v=null===(m=null===(p=S.title)||void 0===p?void 0:p.style)||void 0===m?void 0:m.fontFamily)&&void 0!==v?v:ae.iR}),r=(null===(b=null===(y=S.label)||void 0===y?void 0:y.style)||void 0===b?void 0:b.maxLineWidth)||1/0,o=Qe(Math.min(n,r),i,null===(_=null===(x=S.title)||void 0===x?void 0:x.style)||void 0===_?void 0:_.angle);T="left"!==t.orient&&"right"!==t.orient||!S.title.autoRotate?o.width:o.height,T+=null!==(C=S.title.space)&&void 0!==C?C:4}return M+A+T+1}function qe(t,e){var n,i,r,o,s,l,u,h,c,d,f,p,m,v,y,b,x,_;const C=(0,a.Z)({},ae.b8,t);let S=0;!1!==C.tick.visible&&(S=null!==(n=C.tick.width)&&void 0!==n?n:4);let M=0;if(C.label.visible){if("band"===C.type)C.domain.forEach((t=>{var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v;C.label.formatMethod&&(t=C.label.formatMethod(t));const{width:y,height:b}=e.measureText(t,{fontSize:null!==(r=null===(i=null===(n=C.label)||void 0===n?void 0:n.style)||void 0===i?void 0:i.fontSize)&&void 0!==r?r:ae.$M,fontWeight:null!==(s=null===(a=null===(o=C.label)||void 0===o?void 0:o.style)||void 0===a?void 0:a.fontWeight)&&void 0!==s?s:"normal",fontFamily:null!==(h=null===(u=null===(l=C.label)||void 0===l?void 0:l.style)||void 0===u?void 0:u.fontFamily)&&void 0!==h?h:ae.iR}),w=(null===(d=null===(c=C.label)||void 0===c?void 0:c.style)||void 0===d?void 0:d.maxLineWidth)||1/0,x=(null!==(g=null===(p=null===(f=C.label)||void 0===f?void 0:f.style)||void 0===p?void 0:p.angle)&&void 0!==g?g:0)+("vertical"===(null===(v=null===(m=C.label)||void 0===m?void 0:m.style)||void 0===v?void 0:v.direction)?90:0);M=Math.max(M,Qe(Math.min(y,w),b,x).height)}));else{let n;if((null===(i=t.sync)||void 0===i?void 0:i.tickAlign)&&(0,g.Z)(null===(r=t.tick)||void 0===r?void 0:r.tickMode))n=t.tick.tickMode();else if((0,w.Z)(t.__ticksForVTable))n=t.__ticksForVTable;else{const t=C.range,e=Math.abs(t.min)>1?Math.round(t.min):t.min,i=Math.abs(t.max)>1?Math.round(t.max):t.max;n=[Je(e),Je(i)]}n.forEach((t=>{var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v;C.label.formatMethod&&(t=C.label.formatMethod(t));const{width:y,height:b}=e.measureText(t,{fontSize:null!==(r=null===(i=null===(n=C.label)||void 0===n?void 0:n.style)||void 0===i?void 0:i.fontSize)&&void 0!==r?r:ae.$M,fontWeight:null!==(s=null===(a=null===(o=C.label)||void 0===o?void 0:o.style)||void 0===a?void 0:a.fontWeight)&&void 0!==s?s:"normal",fontFamily:null!==(h=null===(u=null===(l=C.label)||void 0===l?void 0:l.style)||void 0===u?void 0:u.fontFamily)&&void 0!==h?h:ae.iR}),w=(null===(d=null===(c=C.label)||void 0===c?void 0:c.style)||void 0===d?void 0:d.maxLineWidth)||1/0,x=(null!==(g=null===(p=null===(f=C.label)||void 0===f?void 0:f.style)||void 0===p?void 0:p.angle)&&void 0!==g?g:0)+("vertical"===(null===(v=null===(m=C.label)||void 0===m?void 0:m.style)||void 0===v?void 0:v.direction)?90:0);M=Math.max(M,Qe(Math.min(y,w),b,x).height)}))}M+=null!==(o=C.label.space)&&void 0!==o?o:4}let A=0;if(C.title.visible&&C.title.text){const{width:n,height:i}=e.measureText(C.title.text,{fontSize:null!==(u=null===(l=null===(s=C.title)||void 0===s?void 0:s.style)||void 0===l?void 0:l.fontSize)&&void 0!==u?u:ae.$M,fontWeight:null!==(d=null===(c=null===(h=C.title)||void 0===h?void 0:h.style)||void 0===c?void 0:c.fontWeight)&&void 0!==d?d:"normal",fontFamily:null!==(m=null===(p=null===(f=C.title)||void 0===f?void 0:f.style)||void 0===p?void 0:p.fontFamily)&&void 0!==m?m:ae.iR}),r=(null===(y=null===(v=C.label)||void 0===v?void 0:v.style)||void 0===y?void 0:y.maxLineWidth)||1/0,o=Qe(Math.min(n,r),i,null===(x=null===(b=C.title)||void 0===b?void 0:b.style)||void 0===x?void 0:x.angle);A="bottom"!==t.orient&&"top"!==t.orient||!C.title.autoRotate?o.height:o.width,A+=null!==(_=C.title.space)&&void 0!==_?_:4}return S+M+A+1}function Je(t){return"number"!=typeof t&&(t=Number(t)),Number(t.toPrecision(1)).toString()}function Qe(t,e,n=0){const i=n*Math.PI/180,r=-t/2,o=-e/2,a=t/2,s=-e/2,l=t/2,u=e/2,h=-t/2,c=e/2,d={x:r*Math.cos(i)-o*Math.sin(i),y:r*Math.sin(i)+o*Math.cos(i)},f={x:a*Math.cos(i)-s*Math.sin(i),y:a*Math.sin(i)+s*Math.cos(i)},p={x:l*Math.cos(i)-u*Math.sin(i),y:l*Math.sin(i)+u*Math.cos(i)},g={x:h*Math.cos(i)-c*Math.sin(i),y:h*Math.sin(i)+c*Math.cos(i)},m=Math.min(d.x,f.x,p.x,g.x),v=Math.max(d.x,f.x,p.x,g.x),y=Math.min(d.y,f.y,p.y,g.y);return{width:v-m,height:Math.max(d.y,f.y,p.y,g.y)-y}}var tn=n(44474),en=n(85830),nn=n(27272);(0,_.M)(),(0,ee.g)(),(0,nn.i)();class rn extends x.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},rn.defaultAttributes,t))}render(){this.removeAllChild(!0),this.renderIcon(),this.renderText(),this.layout()}renderIcon(){this._emptyTipIcon=new tn.E((0,a.Z)({image:this.attribute.icon.image},this.attribute.icon)),this.appendChild(this._emptyTipIcon)}renderText(){this._text=new en.x((0,a.Z)({wrap:!0},this.attribute.text)),this.appendChild(this._text)}layout(){const t=this.attribute.icon.height,e=this._text.AABBBounds.height(),n=this.attribute.icon.width,{width:i,height:r,spaceBetweenTextAndIcon:o}=this.attribute;this._emptyTipIcon.setAttribute("x",i/2-n/2),this._emptyTipIcon.setAttribute("y",r/2-t/2-e/2-o/2),this._text.setAttribute("x",i/2),this._text.setAttribute("textAlign","center"),this._text.setAttribute("y",r/2+t/2+o/2),this._text.setAttribute("textBaseline","middle")}}rn.defaultAttributes={spaceBetweenTextAndIcon:20,text:{text:"no data",fontSize:14,fill:"#000",disableFill:"rgb(201,205,212)",pickable:!1},icon:{image:'<svg t="1716726614852" class="icon" viewBox="0 0 1194 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2621" width="200" height="200"><path d="M1038.694079 367.237067c13.265507 23.342857-16.633865-40.004445-63.05621-40.004446H219.018794c-26.558738 0-46.46393 13.334815-63.05621 40.004446S0.006238 607.277601 0.006238 650.608819V940.647979a82.351494 82.351494 0 0 0 82.961402 83.349526H1111.702885a82.337632 82.337632 0 0 0 82.975264-83.349526V650.608819c0-43.331218-155.970208-283.371753-155.970208-283.371752zM730.066575 667.284269a136.328386 136.328386 0 0 1-132.738243 133.33429 133.417459 133.417459 0 0 1-132.738243-133.33429v-6.681269a40.6698 40.6698 0 0 0-36.497473-26.66963H73.015044l119.458874-220.02445s23.231965-40.004445 53.103614-40.004446h713.481918c26.544876 0 29.871649 10.008042 46.436207 40.004446L1128.33675 633.947231H769.904682c-26.184476 0-39.838107 7.623855-39.838107 33.337038zM338.505391 210.559919l-89.601086-86.69016a22.178487 22.178487 0 0 1 0-33.26773 21.984425 21.984425 0 0 1 33.170699 0l89.601087 86.676299a22.317102 22.317102 0 0 1 0 33.26773 24.950798 24.950798 0 0 1-33.1707 0z m252.197118-40.059891a25.532983 25.532983 0 0 1-6.639685-16.633865l-3.326773-126.694606A28.263709 28.263709 0 0 1 603.995739 0.515788c13.251646-3.326773 23.204242 10.021904 26.544877 23.342858V153.866163a28.249847 28.249847 0 0 1-23.259688 26.66963c-6.611961-3.312911-13.279369-3.312911-16.578419-10.035765z m235.646421 33.337038a22.372548 22.372548 0 0 1 0-33.337038l86.288175-90.030795a22.039871 22.039871 0 0 1 33.170699 0 22.289379 22.289379 0 0 1 0 33.364761l-82.961401 90.003072a25.962691 25.962691 0 0 1-36.483611 0z" fill="#8a8a8a" p-id="2622"></path></svg>',width:100,height:100,pickable:!1}};var on=n(2465),an=n(21103);class sn{constructor(t,e){this._emptyTipOption={spaceBetweenTextAndIcon:20,text:"no data",textStyle:{fontSize:14,color:"#000"},icon:{image:'<svg t="1716726614852" class="icon" viewBox="0 0 1194 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2621" width="200" height="200"><path d="M1038.694079 367.237067c13.265507 23.342857-16.633865-40.004445-63.05621-40.004446H219.018794c-26.558738 0-46.46393 13.334815-63.05621 40.004446S0.006238 607.277601 0.006238 650.608819V940.647979a82.351494 82.351494 0 0 0 82.961402 83.349526H1111.702885a82.337632 82.337632 0 0 0 82.975264-83.349526V650.608819c0-43.331218-155.970208-283.371753-155.970208-283.371752zM730.066575 667.284269a136.328386 136.328386 0 0 1-132.738243 133.33429 133.417459 133.417459 0 0 1-132.738243-133.33429v-6.681269a40.6698 40.6698 0 0 0-36.497473-26.66963H73.015044l119.458874-220.02445s23.231965-40.004445 53.103614-40.004446h713.481918c26.544876 0 29.871649 10.008042 46.436207 40.004446L1128.33675 633.947231H769.904682c-26.184476 0-39.838107 7.623855-39.838107 33.337038zM338.505391 210.559919l-89.601086-86.69016a22.178487 22.178487 0 0 1 0-33.26773 21.984425 21.984425 0 0 1 33.170699 0l89.601087 86.676299a22.317102 22.317102 0 0 1 0 33.26773 24.950798 24.950798 0 0 1-33.1707 0z m252.197118-40.059891a25.532983 25.532983 0 0 1-6.639685-16.633865l-3.326773-126.694606A28.263709 28.263709 0 0 1 603.995739 0.515788c13.251646-3.326773 23.204242 10.021904 26.544877 23.342858V153.866163a28.249847 28.249847 0 0 1-23.259688 26.66963c-6.611961-3.312911-13.279369-3.312911-16.578419-10.035765z m235.646421 33.337038a22.372548 22.372548 0 0 1 0-33.337038l86.288175-90.030795a22.039871 22.039871 0 0 1 33.170699 0 22.289379 22.289379 0 0 1 0 33.364761l-82.961401 90.003072a25.962691 25.962691 0 0 1-36.483611 0z" fill="#8a8a8a" p-id="2622"></path></svg>',width:100,height:100}},this.isReleased=!1,this.table=e,(0,on.Z)(t)||(0,m.Z)(t.displayMode)||(this.table.isListTable()?t.displayMode="basedOnTable":t.displayMode="basedOnContainer"),this._emptyTipOption=Object.assign(this._emptyTipOption,!0===t?{}:t),this._emptyTipComponent=this._createOrUpdateEmptyTipComponent(this._getEmptyTipAttrs())}_createOrUpdateEmptyTipComponent(t){if(this._emptyTipComponent)(0,an.X)(t,this._cacheAttrs)||this._emptyTipComponent.setAttributes(t);else{const e=new rn(t);e.name="emptyTip",this.table.scenegraph.stage.defaultLayer.appendChild(e),this._emptyTipComponent=e,this.bindEvents()}return this._emptyTipComponent}bindEvents(){this._emptyTipComponent.on("click",(t=>{const e=new Ce.FB;this._emptyTipComponent.forEachChildren((t=>{e.union(t.globalAABBBounds)})),e.contains(t.x,t.y)&&this.table.fireListeners("empty_tip_click",t)})),this._emptyTipComponent.on("dblclick",(t=>{const e=new Ce.FB;this._emptyTipComponent.forEachChildren((t=>{e.union(t.globalAABBBounds)})),e.contains(t.x,t.y)&&this.table.fireListeners("empty_tip_dblclick",t)}))}resize(){var t;if(!this._emptyTipComponent)return;const{leftHeaderWidth:e,topHeaderHeight:n,width:i,height:r}=this.getWidthAndHeight();this._emptyTipComponent.setAttributes({spaceBetweenTextAndIcon:this._emptyTipOption.spaceBetweenTextAndIcon,x:this.table.tableX+e,y:this.table.tableY+n,width:i,height:r,text:Object.assign(Object.assign({text:this._emptyTipOption.text},this._emptyTipOption.textStyle),{fill:null===(t=this._emptyTipOption.textStyle)||void 0===t?void 0:t.color}),icon:Object.assign({},this._emptyTipOption.icon)})}release(){this._emptyTipComponent&&this.table.scenegraph.stage.defaultLayer.removeChild(this._emptyTipComponent),this._emptyTipComponent=null,this.isReleased=!0}resetVisible(){(this.table.recordsCount&&0!==this.table.recordsCount||this.table.internalProps.layoutMap.rowCount!==this.table.internalProps.layoutMap.columnHeaderLevelCount)&&this.table.internalProps.layoutMap.colCount!==this.table.internalProps.layoutMap.rowHeaderLevelCount?this.table.scenegraph.stage.defaultLayer.children.includes(this._emptyTipComponent)&&this.table.scenegraph.stage.defaultLayer.removeChild(this._emptyTipComponent):this.table.scenegraph.stage.defaultLayer.children.includes(this._emptyTipComponent)||this.table.scenegraph.stage.defaultLayer.appendChild(this._emptyTipComponent)}getWidthAndHeight(){const t=this.table.transpose||!1===this.table.options.indicatorsAsCol?this.table.getFrozenColsWidth():0,e=!this.table.transpose||this.table.options.indicatorsAsCol?this.table.getFrozenRowsHeight():0;return{leftHeaderWidth:t,topHeaderHeight:e,width:("basedOnContainer"!==this._emptyTipOption.displayMode&&this.table.columnHeaderLevelCount>0&&this.table.colCount>this.table.rowHeaderLevelCount?this.table.getDrawRange().width:this.table.tableNoFrameWidth)-t-this.table.getTheme().scrollStyle.width,height:("basedOnContainer"!==this._emptyTipOption.displayMode&&this.table.rowHeaderLevelCount>0&&this.table.rowCount>this.table.columnHeaderLevelCount?this.table.getDrawRange().height:this.table.tableNoFrameHeight)-e-this.table.getTheme().scrollStyle.width}}_getEmptyTipAttrs(){var t;const{leftHeaderWidth:e,topHeaderHeight:n,width:i,height:r}=this.getWidthAndHeight();return{spaceBetweenTextAndIcon:this._emptyTipOption.spaceBetweenTextAndIcon,x:this.table.tableX+e,y:this.table.tableY+n,width:i,height:r,text:Object.assign(Object.assign({text:this._emptyTipOption.text},this._emptyTipOption.textStyle),{fill:null===(t=this._emptyTipOption.textStyle)||void 0===t?void 0:t.color}),icon:Object.assign({},this._emptyTipOption.icon)}}}var ln=n(21020),un=n(59636);const hn=16,cn=8,dn=12;var fn,pn,gn;!function(t){t.selected="selected",t.unSelected="unSelected",t.selectedHover="selectedHover",t.unSelectedHover="unSelectedHover",t.focus="focus"}(fn||(fn={})),function(t){t.legendItemHover="legendItemHover",t.legendItemUnHover="legendItemUnHover",t.legendItemClick="legendItemClick",t.legendItemAttributeUpdate="legendItemAttributeUpdate"}(pn||(pn={})),function(t){t.innerView="innerView",t.title="legendTitle",t.item="legendItem",t.itemShape="legendItemShape",t.itemLabel="legendItemLabel",t.itemValue="legendItemValue",t.focus="legendItemFocus"}(gn||(gn={}));class mn extends x.k{constructor(){super(...arguments),this.name="legend",this._title=null}render(){this.removeAllChild(!0);const{interactive:t=!0,title:e,padding:n=0}=this.attribute;this._parsedPadding=(0,v.o)(n);const i=b.i.group({x:this._parsedPadding[3],y:this._parsedPadding[0],pickable:t,childrenPickable:t});i.name=gn.innerView,this.add(i),this._innerView=i,(null==e?void 0:e.visible)&&this._renderTitle(e),this._renderContent(),this._adjustLayout(),t&&this._bindEvents();const r=this._innerView.AABBBounds;this.attribute.width=r.width()+this._parsedPadding[1]+this._parsedPadding[3],this.attribute.height=r.height()+this._parsedPadding[0]+this._parsedPadding[2]}_renderTitle(t){const{text:e="",textStyle:n,padding:i=0,background:r,minWidth:o,maxWidth:a,shape:s}=t,l={x:0,y:0,text:e,textStyle:n,padding:(0,v.o)(i),minWidth:o,maxWidth:a};s&&s.visible&&(l.shape=Object.assign({visible:!0},s.style),(0,m.Z)(s.space)&&(l.space=s.space)),r&&r.visible&&(l.panel=Object.assign({visible:!0},r.style));const u=new Et.V(l);u.name=gn.title,this._title=u,this._innerView.add(u)}_adjustLayout(){var t;if(this._title){const e=this._innerView.AABBBounds.width(),n=this._title.AABBBounds.width(),i=null===(t=this.attribute.title)||void 0===t?void 0:t.align;"center"===i?this._title.setAttribute("x",(e-n)/2):"end"===i&&this._title.setAttribute("x",e-n)}}}var vn=n(66990);function yn(){(0,_.M)(),(0,yt.k)(),(0,ee.g)()}const bn={space:8,style:{fill:"rgb(47, 69, 84)",cursor:"pointer",size:15},state:{disable:{fill:"rgb(170, 170, 170)",cursor:"not-allowed"},hover:{}}};yn();class wn extends x.k{getCurrent(){return this._current}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},wn.defaultAttributes,t)),this.name="pager",this._current=1,this._onHover=t=>{const e=t.target;e.hasState("disable")||e.addState("hover")},this._onUnHover=t=>{t.target.removeState("hover")},this._onClick=t=>{const e=t.target;if("preHandler"===e.name){if(1===this._current)return;this._current-=1,1===this._current?e.addState("disable"):e.removeState("disable"),this._dispatchEvent("toPrev",{current:this._current,total:this._total,direction:"pre",event:t})}if("nextHandler"===e.name){if(this._current===this._total)return;this._current+=1,this._current===this._total?e.addState("disable"):e.removeState("disable"),this._dispatchEvent("toNext",{current:this._current,total:this._total,direction:"next",event:t})}this._current>1&&this.preHandler.removeState("disable"),this._current<this._total&&this.nextHandler.removeState("disable"),this.text.setAttribute("text",this._getPageText(this._current))}}render(){var t,e,n;this._reset();const{layout:i="horizontal",handler:r=bn,total:o,defaultCurrent:a=1,textStyle:s,padding:l=0}=this.attribute;this._current=a;const u=(0,v.o)(l),h="horizontal"===i,c=b.i.group({x:0,y:0}),d=r.style||{},f=d.size||15,p=null!==(t=r.space)&&void 0!==t?t:8,g=r.state||{};let{preShape:m,nextShape:y}=r;m||(m=h?"triangleLeft":"triangleUp"),y||(y=h?"triangleRight":"triangleDown");const w=b.i.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},d),{x:0,y:0,symbolType:m,size:f}));w.states=g,w.name="preHandler",this.preHandler=w,c.add(w);const{width:x,height:_}=(0,Tt.fe)(this._getPageText(o),Object.assign({textAlign:"center",textBaseline:"middle"},s),null===(n=null===(e=this.stage)||void 0===e?void 0:e.getTheme())||void 0===n?void 0:n.text),C=(0,vn.Z)(f)?f:f[0],S=(0,vn.Z)(f)?f:f[1],M=b.i.text(Object.assign({x:h?C/2+p+x/2:0,y:h?0:S/2+p+_/2,text:this._getPageText(a),textAlign:"center",textBaseline:"middle",lineHeight:null==s?void 0:s.fontSize},s));this.text=M,c.add(M);const A=b.i.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},d),{x:h?C+2*p+x:0,y:h?0:S+2*p+_,symbolType:y,size:f}));A.name="nextHandler",A.states=g,this.nextHandler=A,c.add(A),1===this._total?(w.addState("disable"),A.addState("disable")):1===this._current?w.addState("disable"):this._current===o&&A.addState("disable");const T=c.AABBBounds,k=T.width(),R=T.height();c.translateTo(0-T.x1+u[3],0-T.y1+u[0]),this.add(c),this.attribute.width=k+u[1]+u[3],this.attribute.height=R+u[0]+u[2],this._bindEvents()}_bindEvents(){this.attribute.disableTriggerEvent||(this.preHandler&&(this.preHandler.addEventListener("pointerenter",this._onHover),this.preHandler.addEventListener("pointerleave",this._onUnHover),this.preHandler.addEventListener("pointerdown",this._onClick)),this.nextHandler&&(this.nextHandler.addEventListener("pointerenter",this._onHover),this.nextHandler.addEventListener("pointerleave",this._onUnHover),this.nextHandler.addEventListener("pointerdown",this._onClick)))}_reset(){this.removeAllChild(!0),this._current=1,this._total=this.attribute.total,this.preHandler=this.nextHandler=this.text=null}_getPageText(t){const{pageFormatter:e}=this.attribute;return e?(0,g.Z)(e)?e(t,this._total):`${e}`.replace("{current}",`${t}`).replace("{total}",`${this._total}`):`${t}/${this._total}`}setTotal(t){t!==this.attribute.total&&(this._total=t,1!==this._current&&this._current<=t?this.setAttributes({total:t,defaultCurrent:this._current}):this.setAttribute("total",t))}}wn.defaultAttributes={handler:bn,textStyle:{fill:"rgb(51, 51, 51)",fontSize:12}};var xn=n(51386);const _n=["path","customPath",...S.DH];class Cn extends S.zs{constructor(t){super(t),this.type="path",this.numberType=R.qm}get pathShape(){return this.tryUpdateAABBBounds(),this.getParsedPathShape()}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{path:t}=this.attribute;return null!=t&&""!==t}getParsedPathShape(){const t=this.getGraphicTheme();if(!this.valid)return t.path;const e=this.attribute;return e.path instanceof T.r?e.path:((0,l.Z)(this.cache)&&this.doUpdatePathShape(),this.cache instanceof T.r?this.cache:t.path)}getGraphicTheme(){return(0,M.gh)(this).path}updateAABBBounds(t,e,n){if(!this.updatePathProxyAABBBounds(n)){const t=this.getParsedPathShape();n.union(t.getBounds())}const{tb1:i,tb2:r}=k.w.graphicService.updateTempAABBBounds(n);(0,xn.E)(t,e,i),n.union(i),i.setValue(r.x1,r.y1,r.x2,r.y2);const{lineJoin:o=e.lineJoin}=t;return k.w.graphicService.transformAABBBounds(t,n,e,"miter"===o,this),n}doUpdateAABBBounds(t){return this.doUpdatePathShape(),super.doUpdateAABBBounds(t)}doUpdatePathShape(){const t=this.attribute;(0,d.Z)(t.path,!0)?this.cache=(new T.r).fromString(t.path):t.customPath&&(this.cache=new T.r,t.customPath(this.cache,this))}needUpdateTags(t){return super.needUpdateTags(t,_n)}needUpdateTag(t){return super.needUpdateTag(t,_n)}toCustomPath(){return(new T.r).fromCustomPath2D(this.getParsedPathShape(),0,0)}clone(){return new Cn(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Cn.NOWORK_ANIMATE_ATTR}}function Sn(t){return new Cn(t)}Cn.NOWORK_ANIMATE_ATTR=Object.assign({path:1,customPath:1},S.Wl);var Mn=n(54743);const An=Z.H,Tn=O.R6;var kn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Rn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},In=function(t,e){return function(n,i){e(n,i,t)}};let Pn=class extends G.Y{constructor(t){super(),this.pathRenderContribitions=t,this.numberType=R.qm,this.builtinContributions=[Tn,An],this.init(t)}drawShape(t,e,n,i,r,o,a,s){var l,u,h;const c=null!==(l=this.tempTheme)&&void 0!==l?l:(0,M.gh)(t,null==o?void 0:o.theme).path,{x:d=c.x,y:f=c.y,fillStrokeOrder:p=c.fillStrokeOrder}=t.attribute,g=null!==(u=this.z)&&void 0!==u?u:0,m=this.valid(t,c,a,s);if(!m)return;const{fVisible:v,sVisible:y,doFill:b,doStroke:w}=m;if(e.beginPath(),t.pathShape)(0,Mn.h)(t.pathShape.commandList,e,n,i,1,1,g);else{const r=null!==(h=t.attribute.path)&&void 0!==h?h:c.path;(0,Mn.h)(r.commandList,e,n,i,1,1,g)}e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,c),this.beforeRenderStep(t,e,n,i,b,w,v,y,c,r,a,s);const x=()=>{w&&(s?s(e,t.attribute,c):y&&(e.setStrokeStyle(t,t.attribute,d-n,f-i,c),e.stroke()))},_=()=>{b&&(a?a(e,t.attribute,c):v&&(e.setCommonStyle(t,t.attribute,d-n,f-i,c),e.fill()))};p?(x(),_()):(_(),x()),this.afterRenderStep(t,e,n,i,b,w,v,y,c,r,a,s)}draw(t,e,n,i){const r=(0,M.gh)(t,null==i?void 0:i.theme).path;this.tempTheme=r,this._draw(t,r,!1,n,i),this.tempTheme=null}};Pn=kn([(0,H.b)(),In(0,(0,N.f)(L.Qc)),In(0,(0,z.t)(F.Mj)),Rn("design:paramtypes",[Object])],Pn);let En=!1;const Bn=new D.n((t=>{En||(En=!0,t(Pn).toSelf().inSingletonScope(),t(J.lG).to(Pn).inSingletonScope(),t(J.uz).toService(J.lG),t(F.Mj).toService(O.Sg),(0,L.yb)(t,F.Mj))}));var Ln=n(5320),Dn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},On=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fn=function(t,e){return function(n,i){e(n,i,t)}};let Hn=class extends Ln.Q{constructor(t){super(),this.canvasRenderer=t,this.type="path",this.numberType=R.qm}};Hn=Dn([(0,H.b)(),Fn(0,(0,N.f)(J.lG)),On("design:paramtypes",[Object])],Hn);let Nn=!1;const zn=new D.n(((t,e,n,i)=>{Nn||(Nn=!0,t(nt.ks).to(Hn).inSingletonScope(),t(nt.EL).toService(nt.ks))}));var Wn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},jn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vn=function(t,e){return function(n,i){e(n,i,t)}};let Gn=class extends it.o{constructor(t){super(),this.canvasRenderer=t,this.type="path",this.numberType=R.qm}};Gn=Wn([(0,H.b)(),Vn(0,(0,N.f)(J.lG)),jn("design:paramtypes",[Object])],Gn);let Zn=!1;const Un=new D.n(((t,e,n,i)=>{Zn||(Zn=!0,t(nt.Ex).to(Gn).inSingletonScope(),t(nt.XN).toService(nt.Ex))}));function Kn(){Kn.__loaded||(Kn.__loaded=!0,b.i.RegisterGraphicCreator("path",Sn),B.n.load(Bn),B.n.load(et.X?zn:Un))}Kn.__loaded=!1;const $n=Kn;var Xn=n(93346);function Yn(){(0,_.M)(),(0,ee.g)(),(0,ne.k)(),(0,yt.k)()}var qn=n(53908);function Jn(){(0,_.M)(),(0,Xn.b)()}var Qn=n(17705),ti=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const ei={[fn.focus]:{},[fn.selected]:{},[fn.selectedHover]:{},[fn.unSelected]:{},[fn.unSelectedHover]:{}};Jn(),yn(),(0,qn.M)();class ni extends mn{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},ni.defaultAttributes,t)),this.name="discreteLegend",this._itemsContainer=null,this._itemHeightByUser=void 0,this._itemHeight=0,this._itemMaxWidth=0,this._contentMaxHeight=0,this._onHover=t=>{const e=t.target;if(e&&e.name&&e.name.startsWith(gn.item)){const n=e.delegate;if(this._lastActiveItem){if(this._lastActiveItem.id===n.id)return;this._unHover(this._lastActiveItem,t)}this._hover(n,t)}else this._lastActiveItem&&(this._unHover(this._lastActiveItem,t),this._lastActiveItem=null)},this._onUnHover=t=>{this._lastActiveItem&&(this._unHover(this._lastActiveItem,t),this._lastActiveItem=null)},this._onClick=t=>{var e,n,i,r;const o=t.target;if(o&&o.name&&o.name.startsWith(gn.item)){const a=o.delegate,{selectMode:s="multiple"}=this.attribute;if(o.name===gn.focus||"focus"===s){const i=a.hasState(fn.focus);a.toggleState(fn.focus),i?null===(e=this._itemsContainer)||void 0===e||e.getChildren().forEach((e=>{this._removeLegendItemState(e,[fn.unSelected,fn.unSelectedHover,fn.focus],t),this._setLegendItemState(e,fn.selected,t)})):(this._setLegendItemState(a,fn.selected,t),this._removeLegendItemState(a,[fn.unSelected,fn.unSelectedHover],t),null===(n=this._itemsContainer)||void 0===n||n.getChildren().forEach((e=>{a!==e&&(this._removeLegendItemState(e,[fn.selected,fn.selectedHover,fn.focus],t),this._setLegendItemState(e,fn.unSelected,t))})))}else{null===(i=this._itemsContainer)||void 0===i||i.getChildren().forEach((t=>{t.removeState(fn.focus)}));const{allowAllCanceled:e=!0}=this.attribute,n=a.hasState(fn.selected),o=this._getSelectedLegends();if("multiple"===s){if(!1===e&&n&&1===o.length)return void this._dispatchLegendEvent(pn.legendItemClick,a,t);n?(this._removeLegendItemState(a,[fn.selected,fn.selectedHover],t),this._setLegendItemState(a,fn.unSelected,t)):(this._setLegendItemState(a,fn.selected,t),this._removeLegendItemState(a,[fn.unSelected,fn.unSelectedHover],t))}else this._setLegendItemState(a,fn.selected,t),this._removeLegendItemState(a,[fn.unSelected,fn.unSelectedHover],t),null===(r=this._itemsContainer)||void 0===r||r.getChildren().forEach((e=>{a!==e&&(this._removeLegendItemState(e,[fn.selected,fn.selectedHover],t),this._setLegendItemState(e,fn.unSelected,t))}))}this._dispatchLegendEvent(pn.legendItemClick,a,t)}}}render(){super.render(),this._lastActiveItem=null}setSelected(t){var e;(null===(e=this._itemsContainer)||void 0===e?void 0:e.getChildren()).forEach((e=>{const n=e.data;t.includes(n.label)?(this._setLegendItemState(e,fn.selected),this._removeLegendItemState(e,[fn.unSelected,fn.unSelectedHover])):(this._removeLegendItemState(e,[fn.selected,fn.selectedHover]),this._setLegendItemState(e,fn.unSelected))}))}_renderItems(){const{item:t={},maxCol:e=1,maxRow:n=2,maxWidth:i,defaultSelected:r,lazyload:o,autoPage:a}=this.attribute,{spaceCol:s=hn,spaceRow:l=cn,verticalAlign:u="middle"}=t,h=this._itemsContainer,{items:c,isHorizontal:d,startIndex:f,isScrollbar:p}=this._itemContext,g=p?1:d?n:e,v=this._contentMaxHeight;let y,{doWrap:b,maxWidthInCol:x,startX:_,startY:C,pages:S}=this._itemContext,M=0,A=0;const T=[];for(let t=f,e=c.length;t<e&&!(o&&S>this._itemContext.currentPage*g);t++){o&&(this._itemContext.startIndex=t+1),y=c[t],y.id||(y.id=y.label),y.index=t;let e=!0;(0,w.Z)(r)&&(e=r.includes(y.label));const n=this._renderEachItem(y,e,t,c),f=n.attribute.width,g=n.attribute.height;this._itemHeight=Math.max(this._itemHeight,g),x=Math.max(f,x),this._itemMaxWidth=Math.max(f,this._itemMaxWidth),d?((0,m.Z)(i)&&(p&&a?(S=Math.ceil((_+f)/i),b=S>1):_+f>i&&(b=!0,_>0&&("middle"!==u&&"bottom"!==u||T.forEach((t=>{t.setAttributes({y:t.attribute.y+(A-t.attribute.height)/("middle"===u?2:1)})})),S+=1,_=0,C+=A+l,A=0,T.length=0))),0===_&&0===C||n.setAttributes({x:_,y:C}),_+=s+f,A=Math.max(A,g),T.push(n)):((0,m.Z)(v)&&(p&&a?(S=Math.ceil((C+g)/v),b=S>1):v<=g?(S+=1,b=!0,C=0,t>0&&(_+=M+s)):v<C+g&&(S+=1,b=!0,C=0,_+=x+s,x=0)),0===_&&0===C||n.setAttributes({x:_,y:C}),C+=l+g),h.add(n),M=f}return!d||"middle"!==u&&"bottom"!==u||T.forEach((t=>{t.setAttributes({y:t.attribute.y+(A-t.attribute.height)/("middle"===u?2:1)})})),this._itemContext.doWrap=b,this._itemContext.startX=_,this._itemContext.startY=C,this._itemContext.maxWidthInCol=x,this._itemContext.pages=S,this._itemContext.maxPages=g,p&&(this._itemContext.totalPage=S),o||(this._itemContext.startIndex=c.length),this._itemContext}_renderContent(){const{item:t={},items:e,reversed:n,maxWidth:i,maxHeight:r}=this.attribute;if(!1===t.visible||(0,h.Z)(e))return;let o=e;n&&(o=null==e?void 0:e.reverse()),this._contentMaxHeight=Math.max(0,r-this._parsedPadding[0]-this._parsedPadding[2]);const a=b.i.group({x:0,y:0});this._itemsContainer=a;const{layout:s,autoPage:l}=this.attribute,u="horizontal"===s,{maxWidth:c,width:d,height:g}=t,v=[];(0,m.Z)(c)&&v.push(c),(0,m.Z)(d)&&v.push(d),v.length&&((0,m.Z)(i)&&v.push(i),this._itemWidthByUser=(0,p.iH)(v)),(0,m.Z)(g)&&(this._itemHeightByUser=g);const y=this.attribute.pager;this._itemContext={currentPage:y&&y.defaultCurrent||1,doWrap:!1,maxWidthInCol:0,maxPages:1,pages:1,startX:0,startY:0,startIndex:0,items:o,isHorizontal:u,totalPage:1/0,isScrollbar:y&&"scrollbar"===y.type,clipContainer:void 0},this._itemContext=this._renderItems();let w=!1;this._itemContext.doWrap&&l&&this._itemContext.pages>this._itemContext.maxPages&&(w=this._renderPagerComponent()),w||(a.setAttribute("y",this._title?this._title.AABBBounds.height()+f(this.attribute,"title.space",8):0),this._innerView.add(a))}_bindEvents(){if(this.attribute.disableTriggerEvent)return;if(!this._itemsContainer)return;const{hover:t=!0,select:e=!0}=this.attribute;if(t){let e="pointermove",n="pointerleave";(0,qt.Z)(t)&&(t.trigger&&(e=t.trigger),t.triggerOff&&(n=t.triggerOff)),this._itemsContainer.addEventListener(e,this._onHover),this._itemsContainer.addEventListener(n,this._onUnHover)}if(e){let t="pointerdown";(0,qt.Z)(e)&&e.trigger&&(t=e.trigger),this._itemsContainer.addEventListener(t,this._onClick)}}_autoEllipsis(t,e,n,i){var r,o;const{label:a,value:s}=this.attribute.item,l=i.AABBBounds,u=n.AABBBounds,h=l.width(),c=u.width();let d=!1;"labelFirst"===t?c>e?d=!0:i.setAttribute("maxLineWidth",e-c):"valueFirst"===t?h>e?d=!0:n.setAttribute("maxLineWidth",e-h):h+c>e&&(d=!0),d&&(i.setAttribute("maxLineWidth",Math.max(e*(null!==(r=a.widthRatio)&&void 0!==r?r:.5),e-c)),n.setAttribute("maxLineWidth",Math.max(e*(null!==(o=s.widthRatio)&&void 0!==o?o:.5),e-h)))}_renderEachItem(t,e,n,i){var r,o;const{id:a,label:s,value:u,shape:h}=t,{padding:c=0,focus:d,focusIconStyle:p,align:g,autoEllipsisStrategy:y}=this.attribute.item,{shape:x,label:_,value:C,background:S}=this.attribute.item,M=this._handleStyle(x,t,e,n,i),A=this._handleStyle(_,t,e,n,i),T=this._handleStyle(C,t,e,n,i),k=this._handleStyle(S,t,e,n,i),R=(0,v.o)(c);let I;!1===S.visible?(I=b.i.group({x:0,y:0,cursor:null===(r=k.style)||void 0===r?void 0:r.cursor}),this._appendDataToShape(I,gn.item,t,I)):(I=b.i.group(Object.assign({x:0,y:0},k.style)),this._appendDataToShape(I,gn.item,t,I,k.state)),I.id=`${null!=a?a:s}-${n}`,I.addState(e?fn.selected:fn.unSelected);const P=b.i.group({x:0,y:0,pickable:!1});I.add(P);let E,B=0,L=0,D=0;if(x&&!1!==x.visible){const n=f(M,"style.size",10);L=(0,w.Z)(n)?n[0]||0:n,D=f(x,"space",8);const i=b.i.symbol(Object.assign(Object.assign({x:0,y:0,symbolType:"circle",strokeBoundsBuffer:0},h),M.style));Object.keys(M.state||{}).forEach((t=>{const e=M.state[t].fill||M.state[t].stroke;h.fill&&(0,l.Z)(M.state[t].fill)&&e&&(M.state[t].fill=e),h.stroke&&(0,l.Z)(M.state[t].stroke)&&e&&(M.state[t].stroke=e)})),this._appendDataToShape(i,gn.itemShape,t,I,M.state),i.addState(e?fn.selected:fn.unSelected),P.add(i)}let O=0;if(d){const e=f(p,"size",10);E=b.i.symbol(Object.assign(Object.assign({x:0,y:-e/2-1,strokeBoundsBuffer:0,boundsPadding:R},p),{visible:!0,pickMode:"imprecise"})),this._appendDataToShape(E,gn.focus,t,I),O=e}const F=_.formatMethod?_.formatMethod(s,t,n):s,H=Object.assign(Object.assign({x:L/2+D,y:0,textAlign:"start",textBaseline:"middle",lineHeight:null===(o=A.style)||void 0===o?void 0:o.fontSize},A.style),{text:F,_originText:_.formatMethod?s:void 0}),N=(0,Tt.vS)(H);this._appendDataToShape(N,gn.itemLabel,t,I,A.state),N.addState(e?fn.selected:fn.unSelected),P.add(N);const z=f(_,"space",8);if((0,m.Z)(u)){const i=f(C,"space",d?8:0),r=C.formatMethod?C.formatMethod(u,t,n):u,o=Object.assign(Object.assign({x:0,y:0,textAlign:"start",textBaseline:"middle",lineHeight:T.style.fontSize},T.style),{text:r,_originText:C.formatMethod?u:void 0}),a=(0,Tt.vS)(o);if(this._appendDataToShape(a,gn.itemValue,t,I,T.state),a.addState(e?fn.selected:fn.unSelected),this._itemWidthByUser){const t=this._itemWidthByUser-R[1]-R[3]-L-D-z-O-i;this._autoEllipsis(y,t,N,a),C.alignRight?a.setAttributes({textAlign:"right",x:this._itemWidthByUser-L/2-R[1]-R[3]-O-i}):a.setAttribute("x",z+(N.AABBBounds.empty()?0:N.AABBBounds.x2))}else a.setAttribute("x",z+(N.AABBBounds.empty()?0:N.AABBBounds.x2));B=i+(a.AABBBounds.empty()?0:a.AABBBounds.x2),P.add(a)}else this._itemWidthByUser?(N.setAttribute("maxLineWidth",this._itemWidthByUser-R[1]-R[3]-L-D-O),B=z+(N.AABBBounds.empty()?0:N.AABBBounds.x2)):B=z+(N.AABBBounds.empty()?0:N.AABBBounds.x2);E&&(E.setAttribute("x",B),P.add(E));const W=P.AABBBounds,j=W.width();if("right"===g){const t=W.x2,e=W.x1;P.forEachChildren(((n,i)=>{"symbol"!==n.type&&"right"!==n.attribute.textAlign||n===E?n.setAttribute("x",e+t-n.attribute.x-n.AABBBounds.width()):"symbol"!==n.type?n.setAttributes({x:e+t-n.attribute.x,textAlign:"left"}):n.setAttribute("x",e+t-n.attribute.x)}))}const V=W.height(),G=(0,m.Z)(this.attribute.item.width)?this.attribute.item.width:j+R[1]+R[3],Z=this._itemHeightByUser||V+R[0]+R[2];return I.attribute.width=G,I.attribute.height=Z,E&&E.setAttribute("visible",!1),P.translateTo(-W.x1+R[3],-W.y1+R[0]),I}_createPager(t){var e,n;const{disableTriggerEvent:i,maxRow:r}=this.attribute,o=t=>t<=99?99:t<=999?999:9999;return this._itemContext.isHorizontal?new wn(Object.assign(Object.assign({layout:1===r?"horizontal":"vertical",total:o(this._itemContext.pages)},(0,a.Z)({handler:{preShape:"triangleUp",nextShape:"triangleDown"}},t)),{defaultCurrent:null===(e=this.attribute.pager)||void 0===e?void 0:e.defaultCurrent,disableTriggerEvent:i})):new wn(Object.assign({layout:"horizontal",total:o(this._itemContext.pages),disableTriggerEvent:i,defaultCurrent:null===(n=this.attribute.pager)||void 0===n?void 0:n.defaultCurrent},t))}_createScrollbar(t,e){const{disableTriggerEvent:n}=this.attribute;return this._itemContext.isHorizontal?new Qn.B(Object.assign(Object.assign({direction:"horizontal",disableTriggerEvent:n,range:[0,.5],height:!1===t.visible?0:12},t),{width:e})):new Qn.B(Object.assign(Object.assign({direction:"vertical",width:!1===t.visible?0:12,range:[0,.5]},t),{height:e,disableTriggerEvent:n}))}_updatePositionOfPager(t,e,n){const{pager:i}=this.attribute,{totalPage:r,isHorizontal:o}=this._itemContext,a=i&&i.position||"middle";if(this._pagerComponent.setTotal(r),o){let i;i="start"===a?t:"end"===a?t+n-this._pagerComponent.AABBBounds.height()/2:t+n/2-this._pagerComponent.AABBBounds.height()/2,this._pagerComponent.setAttributes({x:e-this._pagerComponent.AABBBounds.width(),y:i})}else{let t;t="start"===a?0:"end"===a?e-this._pagerComponent.AABBBounds.width():(e-this._pagerComponent.AABBBounds.width())/2,this._pagerComponent.setAttributes({x:t,y:n-this._pagerComponent.AABBBounds.height()})}}_computeScrollbarDelta(){const{isHorizontal:t,clipContainer:e}=this._itemContext,n=this._itemsContainer.AABBBounds,i=e.AABBBounds;let r,o;return t?(o=i.width(),r=o/n.width()):(o=i.height(),r=o/n.height()),r}_updatePositionOfScrollbar(t,e,n){const{isHorizontal:i,currentPage:r,totalPage:o}=this._itemContext,a=(r-1)/o;this._pagerComponent.setScrollRange([a,a+this._computeScrollbarDelta()]),i?this._pagerComponent.setAttributes({x:0,y:n+e}):this._pagerComponent.setAttributes({x:t,y:n})}_bindEventsOfPager(t,e){const n=this.attribute.pager||{},{animation:i=!0,animationDuration:r=450,animationEasing:o="quadIn"}=n,a=this._itemContext.isScrollbar?t=>{const{value:e}=t.detail;let n;return n=0===e[0]?1:1===e[1]?this._itemContext.totalPage:e[0]*this._itemContext.totalPage+1,n}:t=>t.detail.current,s=t=>{const e=this._pagerComponent,n=e.getScrollRange(),{direction:i}=e.attribute,{width:r,height:o}=e.getSliderRenderBounds(),a="vertical"===i?t.deltaY/o:t.deltaX/r;e.setScrollRange([n[0]+a,n[1]+a],!0),this.updateScrollMask()},l=n=>{const s=a(n);if(s!==this._itemContext.currentPage){if(this._itemContext.currentPage=s,this._itemContext&&this._itemContext.startIndex<this._itemContext.items.length){this._renderItems();const t=Math.ceil(this._itemContext.pages/this._itemContext.maxPages);if(this._itemContext.totalPage=t,this._itemContext.isScrollbar&&this._pagerComponent){const t=this._computeScrollbarDelta(),[e]=this._pagerComponent.getScrollRange();this._pagerComponent.setScrollRange([e,e+t])}}if(this._itemContext.isScrollbar){const[t]=this._pagerComponent.getScrollRange();let n;n=this._itemContext.isHorizontal?this._itemsContainer.AABBBounds.width():this._itemsContainer.AABBBounds.height();const a=n*t;this.updateScrollMask(),i?this._itemsContainer.animate().to({[e]:-a},r,o):this._itemsContainer.setAttribute(e,-a)}else i?this._itemsContainer.animate().to({[e]:-(s-1)*t},r,o):this._itemsContainer.setAttribute(e,-(s-1)*t)}};if(this._itemContext.isScrollbar){if(this._pagerComponent.addEventListener("scrollDrag",l),this._pagerComponent.addEventListener("scrollUp",l),this.attribute.pager.roamScroll){const t=50;this.addEventListener("wheel",(t=>t.nativeEvent.preventDefault())),this.addEventListener("wheel",(0,ln.Z)(s,t))}}else this._pagerComponent.addEventListener("toPrev",l),this._pagerComponent.addEventListener("toNext",l)}_renderPager(){const t=this._title?this._title.AABBBounds.height()+f(this.attribute,"title.space",8):0,{maxWidth:e,maxCol:n=1,maxRow:i=2,item:r={},pager:o={}}=this.attribute,{spaceCol:a=hn,spaceRow:s=cn}=r,l=this._itemsContainer,{space:u=dn,defaultCurrent:h=1}=o,c=ti(o,["space","defaultCurrent"]),{isHorizontal:d}=this._itemContext,p=this._contentMaxHeight;let g,m=0,v=0,y=0,w=0,x=0,_=0,C=1;if(d){if(v=(i-1)*s+this._itemHeight*i,m=e,g=this._createPager(c),this._pagerComponent=g,this._innerView.add(g),y=e-g.AABBBounds.width()-u,y<=0)return this._innerView.removeChild(g),!1;l.getChildren().forEach(((t,e)=>{const{width:n,height:i}=t.attribute;y<x+n&&(x=0,_+=i+s,C+=1),e>0&&t.setAttributes({x:x,y:_}),x+=a+n})),this._itemContext.startX=x,this._itemContext.startY=_,this._itemContext.pages=C;const n=Math.ceil(C/i);this._itemContext.totalPage=n,this._updatePositionOfPager(t,m,v)}else{if(m=this._itemMaxWidth*n+(n-1)*a,v=p,y=m,g=this._createPager(c),this._pagerComponent=g,this._innerView.add(g),w=p-g.AABBBounds.height()-u-t,w<=0)return this._innerView.removeChild(g),!1;l.getChildren().forEach(((t,e)=>{const{height:n}=t.attribute;w<_+n&&(_=0,x+=this._itemMaxWidth+a,C+=1),e>0&&t.setAttributes({x:x,y:_}),_+=s+n}));const e=Math.ceil(C/n);this._itemContext.totalPage=e,this._updatePositionOfPager(t,m,v)}h>1&&(d?l.setAttribute("y",-(h-1)*(v+s)):l.setAttribute("x",-(h-1)*(m+a)));const S=b.i.group({x:0,y:t,width:d?y:m,height:d?v:w,clip:!0,pickable:!1});return S.add(l),this._innerView.add(S),this._itemContext.clipContainer=S,this._bindEventsOfPager(d?v+s:m+a,d?"y":"x"),!0}_renderScrollbar(){var t;const e=this._title?this._title.AABBBounds.height()+f(this.attribute,"title.space",8):0,{maxWidth:n,item:i={},pager:r={}}=this.attribute,{spaceCol:o=hn,spaceRow:a=cn}=i,s=this._itemsContainer,{space:l=dn,defaultCurrent:u=1}=r,h=ti(r,["space","defaultCurrent"]),{isHorizontal:c}=this._itemContext,d=this._contentMaxHeight;let p,g=0,m=0,v=0,y=1;if(c)g=n,m=this._itemHeight,p=this._createScrollbar(h,g),this._pagerComponent=p,this._innerView.add(p);else{if(m=d-e,g=this._itemMaxWidth,p=this._createScrollbar(h,m),this._pagerComponent=p,this._innerView.add(p),m<=0)return this._innerView.removeChild(p),!1;const t=s.getChildren(),n=t.map((t=>t.attribute.height));if(1===n.length||n.every((t=>t===n[0]))){const e=n[0],i=m,r=Math.floor(i/(a+e));m=r*(a+e),y=Math.ceil(t.length/r)}else t.forEach(((t,e)=>{const{height:n}=t.attribute,i=y,r=v;y=Math.floor((v+n)/m)+1,v+=a+n,i!==y&&e===s.getChildren().length-1&&v-m>=1/3*n&&(m=r+n,y-=1)}));this._itemContext.totalPage=y,this._itemContext.pages=y}if(u>1)if(c){const t=this._itemsContainer.AABBBounds.width()-g;s.setAttribute("x",-Math.min((u-1)*(g+o),t))}else{const t=this._itemsContainer.AABBBounds.height()-m;s.setAttribute("y",-Math.min((u-1)*(m+a),t))}const w=b.i.group({x:0,y:e,width:g,height:m,clip:!0,pickable:!1});return w.add(s),this._innerView.add(w),this._itemContext.clipContainer=w,this._updatePositionOfScrollbar(g,m,e),(null===(t=r.scrollMask)||void 0===t?void 0:t.visible)&&this.renderScrollMask(w),this._bindEventsOfPager(c?g:m,c?"x":"y"),!0}renderScrollMask(t){const{scrollMask:e={}}=this.attribute.pager,{visible:n=!0,gradientLength:i=16,gradientStops:r}=e;if(!n||!r)return;const o=t.AABBBounds.width(),a=t.AABBBounds.height(),s=this._itemContext.isHorizontal?o:a,l=r.map((t=>({offset:i*t.offset/s,color:t.color}))),u=r.map((t=>({offset:(s-i*t.offset)/s,color:t.color}))),h=b.i.rect({x:0,y:0,width:o,height:a});this._scrollMask=h,this._scrollMaskContext={startStops:l,endStops:u},this.updateScrollMask(),t.add(h)}updateScrollMask(){if(!this._scrollMask||!this._pagerComponent)return;if(!this._itemContext.isScrollbar)return;const[t,e]=this._pagerComponent.getScrollRange(),n=[];(0,c.Yt)((0,un.Z)(e,0,1),1)||n.push(...this._scrollMaskContext.endStops),(0,c.Yt)((0,un.Z)(t,0,1),0)||n.push(...this._scrollMaskContext.startStops),n.length&&(this._itemContext.isHorizontal?this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:n}}):this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:n}}))}_renderPagerComponent(){return this._itemContext.isScrollbar?this._renderScrollbar():this._renderPager(),!0}_hover(t,e){this._lastActiveItem=t,t.hasState(fn.selected)?this._setLegendItemState(t,fn.selectedHover,e):this._setLegendItemState(t,fn.unSelectedHover,e);const n=t.getChildren()[0].find((t=>t.name===gn.focus),!1);n&&n.setAttribute("visible",!0),this._dispatchLegendEvent(pn.legendItemHover,t,e)}_unHover(t,e){let n=!1;(t.hasState(fn.unSelectedHover)||t.hasState(fn.selectedHover))&&(n=!0),t.removeState(fn.unSelectedHover),t.removeState(fn.selectedHover),t.getChildren()[0].getChildren().forEach((t=>{n||!t.hasState(fn.unSelectedHover)&&!t.hasState(fn.selectedHover)||(n=!0),t.removeState(fn.unSelectedHover),t.removeState(fn.selectedHover)}));const i=t.getChildren()[0].find((t=>t.name===gn.focus),!1);i&&i.setAttribute("visible",!1),n&&this._dispatchLegendEvent(pn.legendItemAttributeUpdate,t,e),this._dispatchLegendEvent(pn.legendItemUnHover,t,e)}_setLegendItemState(t,e,n){let i=!1;t.hasState(e)||(i=!0),t.addState(e,!0),t.getChildren()[0].getChildren().forEach((t=>{t.name!==gn.focus&&(i||t.hasState(e)||(i=!0),t.addState(e,!0))})),i&&this._dispatchLegendEvent(pn.legendItemAttributeUpdate,t,n)}_removeLegendItemState(t,e,n){let i=!1;e.forEach((e=>{!i&&t.hasState(e)&&(i=!0),t.removeState(e)})),t.getChildren()[0].getChildren().forEach((t=>{t.name!==gn.focus&&e.forEach((e=>{!i&&t.hasState(e)&&(i=!0),t.removeState(e)}))})),i&&this._dispatchLegendEvent(pn.legendItemAttributeUpdate,t,n)}_getSelectedLegends(){var t;const e=[];return null===(t=this._itemsContainer)||void 0===t||t.getChildren().forEach((t=>{t.hasState(fn.selected)&&e.push(t.data)})),e}_appendDataToShape(t,e,n,i,r={}){t.name=e,t.data=n,t.delegate=i,t.states=(0,a.Z)({},ei,r)}_dispatchLegendEvent(t,e,n){const i=this._getSelectedLegends();i.sort(((t,e)=>t.index-e.index));const r=i.map((t=>t.label));this._dispatchEvent(t,{item:e,data:e.data,selected:e.hasState(fn.selected),currentSelectedItems:i,currentSelected:r,event:n})}_handleStyle(t,e,n,i,r){const o={};return t.style&&((0,g.Z)(t.style)?o.style=t.style(e,n,i,r):o.style=t.style),t.state&&(o.state={},Object.keys(t.state).forEach((a=>{t.state[a]&&((0,g.Z)(t.state[a])?o.state[a]=t.state[a](e,n,i,r):o.state[a]=t.state[a])}))),o}release(){super.release(),this.removeAllEventListeners()}}ni.defaultAttributes={layout:"horizontal",title:{align:"start",space:12,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:hn,spaceRow:cn,shape:{space:8,style:{size:10,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{opacity:.5}}},label:{space:8,style:{fontSize:12,fill:"#2C3542",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"}},focus:!1,focusIconStyle:{size:10,symbolType:"M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1ZM8.75044 2.55077L8.75 3.75H7.25L7.25006 2.5507C4.81247 2.88304 2.88304 4.81247 2.5507 7.25006L3.75 7.25V8.75L2.55077 8.75044C2.8833 11.1878 4.81264 13.117 7.25006 13.4493L7.25 12.25H8.75L8.75044 13.4492C11.1876 13.1167 13.1167 11.1876 13.4492 8.75044L12.25 8.75V7.25L13.4493 7.25006C13.117 4.81264 11.1878 2.8833 8.75044 2.55077ZM8 5.5C9.38071 5.5 10.5 6.61929 10.5 8C10.5 9.38071 9.38071 10.5 8 10.5C6.61929 10.5 5.5 9.38071 5.5 8C5.5 6.61929 6.61929 5.5 8 5.5ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"#333",cursor:"pointer"}},autoPage:!0,pager:{space:dn,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!0};var ii=n(4928),ri=n(76193),oi=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const ai={orient:"bottom",position:"middle",padding:30,title:{visible:!1,padding:0,textStyle:{fontSize:14,fill:"#000000",fontWeight:"normal"},space:12},item:{visible:!0,spaceCol:10,spaceRow:10,padding:2,background:{state:{selectedHover:{fill:"gray",fillOpacity:.7},unSelectedHover:{fill:"gray",fillOpacity:.2}}},shape:{space:4,state:{unSelected:{fillOpacity:.5}}},label:{space:4,style:{fill:"#89909D",fontSize:14},state:{unSelected:{fillOpacity:.5}}}},allowAllCanceled:!0,visible:!0};var si=n(6577),li=n(85650);class ui{constructor(t,e){var n,i,r,o;this.table=e,this.option=(0,At.Z)(t),this.orient=null!==(n=t.orient)&&void 0!==n?n:"left",this.visible=null===(i=t.visible)||void 0===i||i,this.position=null!==(r=t.position)&&void 0!==r?r:"middle",this.selectedData=null!==(o=t.defaultSelected)&&void 0!==o?o:null,this.createComponent(),this.initEvent()}createComponent(){const t=this.getLegendAttributes({width:this.table.tableNoFrameWidth,height:this.table.tableNoFrameHeight}),e=new ni((0,a.Z)({},t,{defaultSelected:this.selectedData,disableTriggerEvent:this.table.options.disableInteraction}));e.name="legend",this.legendComponent=e,!1===this.visible&&(e.setAttributes({visible:!1,visibleAll:!1}),e.hideAll()),this.table.scenegraph.stage.defaultLayer.appendChild(e),this.adjustTableSize(t)}resize(){this.legendComponent&&!1!==this.visible&&(this.legendComponent.setAttributes({maxWidth:this.table.tableNoFrameWidth,maxHeight:this.table.tableNoFrameHeight}),this.adjustTableSize(this.legendComponent.attribute))}adjustTableSize(t){var e,n;if(!this.legendComponent||!1===this.visible)return;let i=isFinite(this.legendComponent.AABBBounds.width())?this.legendComponent.AABBBounds.width():0,r=isFinite(this.legendComponent.AABBBounds.height())?this.legendComponent.AABBBounds.height():0;if(i<=0||r<=0)return;const o=this.table.tableNoFrameWidth,a=this.table.tableNoFrameHeight,s=(0,li.u)(null!==(n=null!==(e=t.padding)&&void 0!==e?e:this.option.padding)&&void 0!==n?n:10);let l=0,u=0;"left"===this.orient?(l=s[3],u=0,i+=s[1]+s[3]):"top"===this.orient?(l=0,u=s[0],r+=s[0]+s[2]):"right"===this.orient?(l=o-i-s[1],u=0,i+=s[1]+s[3]):"bottom"===this.orient&&(l=0,u=a-r-s[2],r+=s[0]+s[2]);const h="bottom"===this.orient||"top"===this.orient?"horizontal":"vertical",c=this.position;let d=0,f=0;"horizontal"===h?d="middle"===c?(o-i)/2:"end"===c?o-i-s[1]:s[3]:f="middle"===c?(a-r)/2:"end"===c?a-r-s[2]:s[0],this.legendComponent.setAttributes({dx:d,dy:f,x:l,y:u}),"left"===this.orient?(this.table.tableNoFrameWidth=this.table.tableNoFrameWidth-Math.ceil(i),this.table.tableX+=Math.ceil(i)):"top"===this.orient?(this.table.tableNoFrameHeight=this.table.tableNoFrameHeight-Math.ceil(r),this.table.tableY+=Math.ceil(r)):"right"===this.orient?this.table.tableNoFrameWidth=this.table.tableNoFrameWidth-Math.ceil(i):"bottom"===this.orient&&(this.table.tableNoFrameHeight=this.table.tableNoFrameHeight-Math.ceil(r))}getLegendAttributes(t){var e,n;const i="bottom"===this.orient||"top"===this.orient?"horizontal":"vertical",r=function(t,e){const n=(0,a.Z)({},ai,t),{title:i={},item:r={},pager:o={},background:s={},type:l,id:u,visible:c,orient:d,position:f,data:p,filter:g,regionId:v,regionIndex:y,seriesIndex:b,seriesId:w,padding:x}=n,_=oi(n,["title","item","pager","background","type","id","visible","orient","position","data","filter","regionId","regionIndex","seriesIndex","seriesId","padding"]);return i.visible&&(_.title=(0,ri.qi)(i)),(0,h.Z)(r.focusIconStyle)||(0,ri.h_)(r.focusIconStyle),(0,ri.ro)(r.shape),(0,ri.ro)(r.label),(0,ri.ro)(r.value),(0,ri.ro)(r.background),(0,ii.hU)(r.maxWidth)&&(r.maxWidth=Number(r.maxWidth.substring(0,r.maxWidth.length-1))*e.width/100),(0,ii.hU)(r.width)&&(r.width=Number(r.width.substring(0,r.width.length-1))*e.width/100),(0,ii.hU)(r.height)&&(r.height=Number(r.height.substring(0,r.height.length-1))*e.width/100),_.item=r,(0,h.Z)(o.textStyle)||(0,ri.h_)(o.textStyle),(0,ri.ro)(o.handler),_.pager=o,s.visible&&!(0,h.Z)(s.style)&&((0,a.Z)(_,s.style),(0,m.Z)(s.padding)&&(_.padding=s.padding)),_}(this.option,t),o=(0,li.u)(null!==(n=null!==(e=r.padding)&&void 0!==e?e:this.option.padding)&&void 0!==n?n:10);return Object.assign({layout:i,items:this.getLegendItems(),maxWidth:t.width-o[1]-o[3],maxHeight:t.height-o[0]-o[2]},r)}getLegendItems(){return this.option.data}initEvent(){this.legendComponent&&(this.legendComponent.addEventListener(pn.legendItemClick,(t=>{const e=f(t,"detail.currentSelected");this.table.fireListeners(si.B.LEGEND_ITEM_CLICK,{model:this,value:e,event:t})})),this.legendComponent.addEventListener(pn.legendItemHover,(t=>{const e=f(t,"detail");this.table.fireListeners(si.B.LEGEND_ITEM_HOVER,{model:this,value:e,event:t})})),this.legendComponent.addEventListener(pn.legendItemUnHover,(t=>{const e=f(t,"detail");this.table.fireListeners(si.B.LEGEND_ITEM_UNHOVER,{model:this,value:e,event:t})})),this.legendComponent.addEventListener("legendItemAttributeUpdate",(t=>{this.table.scenegraph.updateNextFrame()})))}getLegendBounds(){return{width:isFinite(this.legendComponent.AABBBounds.width())?this.legendComponent.AABBBounds.width():0,height:isFinite(this.legendComponent.AABBBounds.height())?this.legendComponent.AABBBounds.height():0}}release(){this.legendComponent&&this.table.scenegraph.stage.defaultLayer.removeChild(this.legendComponent),this.legendComponent=null}}const hi=t=>{let e=null,n=null;return(...i)=>(e&&i.every(((t,n)=>t===e[n]))||(e=i,n=t(...i)),n)};function ci(t){return t}function di(t,e){if(t=Number(t),e=Number(e),e-=t)return n=>(n-t)/e;const n=Number.isNaN(e)?NaN:.5;return()=>n}function fi(t,e,n){const i=t[0],r=t[1],o=e[0],a=e[1];let s,l;return r<i?(s=di(r,i),l=n(a,o)):(s=di(i,r),l=n(o,a)),t=>l(s(t))}function pi(t,e,n){const i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i);let a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=di(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){const n=function(t,e,n=0,i){for((0,l.Z)(i)&&(i=t.length);n<i;){const r=n+i>>>1;Pe(t[r],e)>0?i=r:n=r+1}return n}(t,e,1,i)-1;return o[n](r[n](e))}}const gi=(t,e=!1)=>{const n=Math.floor(Math.log10(t)),i=t/Math.pow(10,n);let r;return r=e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10,r*Math.pow(10,n)},mi=Math.sqrt(50),vi=Math.sqrt(10),yi=Math.sqrt(2),bi=[1,2,5,10],wi=(t,e,n)=>{let i=1,r=t;const o=Math.floor((e-1)/2),a=Math.abs(t);return t>=0&&t<=Number.MIN_VALUE?r=0:t<0&&t>=-Number.MIN_VALUE?r=-(e-1):!n&&a<1?i=Si(a).step:(n||a>1)&&(r=Math.floor(t)-o*i),i>0?(t>0?r=Math.max(r,0):t<0&&(r=Math.min(r,-(e-1)*i)),function(t,e,n){(0,m.Z)(e)||(e=t,t=0),(0,m.Z)(n)||(n=1);let i=-1;const r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);for(;++i<r;)o[i]=t+i*n;return o}(0,e).map((t=>r+t*i))):t>0?_i(0,-(e-1)/i,i):_i((e-1)/i,0,i)},xi=hi(((t,e,n,i)=>{let r,o,a,s,l=-1;if(n=+n,(t=+t)==(e=+e))return[t];if(Math.abs(t-e)<=Number.MIN_VALUE&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),s=Mi(t,e,n).step,!isFinite(s))return[];if(s>0){let n=Math.round(t/s),i=Math.round(e/s);for(n*s<t&&++n,i*s>e&&--i,a=new Array(o=i-n+1);++l<o;)a[l]=(n+l)*s}else if(s<0&&(null==i?void 0:i.noDecimals)){s=1;const n=Math.ceil(t),i=Math.floor(e);if(!(n<=i))return[];for(a=new Array(o=i-n+1);++l<o;)a[l]=n+l}else{s=-s;let n=Math.round(t*s),i=Math.round(e*s);for(n/s<t&&++n,i/s>e&&--i,a=new Array(o=i-n+1);++l<o;)a[l]=(n+l)/s}return r&&a.reverse(),a})),_i=(t,e,n)=>{let i,r,o=-1;if(n>0){let a=Math.floor(t/n),s=Math.ceil(e/n);for((a+1)*n<t&&++a,(s-1)*n>e&&--s,r=new Array(i=s-a+1);++o<i;)r[o]=(a+o)*n}else{n=-n;let a=Math.floor(t*n),s=Math.ceil(e*n);for((a+1)/n<t&&++a,(s-1)/n>e&&--s,r=new Array(i=s-a+1);++o<i;)r[o]=(a+o)/n}return r},Ci=hi(((t,e,n,i)=>{let r,o,a;if(n=+n,(t=+t)==(e=+e))return wi(t,n,null==i?void 0:i.noDecimals);if(Math.abs(t-e)<=Number.MIN_VALUE&&n>0)return wi(t,n,null==i?void 0:i.noDecimals);(r=e<t)&&(a=t,t=e,e=a);const s=Mi(t,e,n);let l=s.step;if(!isFinite(l))return[];if(l>0){let i=1;const{power:r,gap:a}=s,u=10===a?2*10**r:1*10**r;for(;i<=5&&(o=_i(t,e,l),o.length>n+1)&&n>2;)l+=u,i+=1;n>2&&o.length<n-1&&(o=((t,e,n)=>{let i;const r=t[0],o=t[t.length-1],a=e-t.length;if(o<=0){const e=[];for(i=a;i>=1;i--)e.push(r-i*n);return e.concat(t)}if(r>=0){for(i=1;i<=a;i++)t.push(o+i*n);return t}let s=[];const l=[];for(i=1;i<=a;i++)i%2==0?s=[r-Math.floor(i/2)*n].concat(s):l.push(o+Math.ceil(i/2)*n);return s.concat(t).concat(l)})(o,n,l))}else(null==i?void 0:i.noDecimals)&&l<0&&(l=1),o=_i(t,e,l);return r&&o.reverse(),o})),Si=t=>{const e=Math.floor(Math.log(t)/Math.LN10),n=t/10**e;let i=bi[0];return n>=mi?i=bi[3]:n>=vi?i=bi[2]:n>=yi&&(i=bi[1]),e>=0?{step:i*10**e,gap:i,power:e}:{step:-(10**-e)/i,gap:i,power:e}};function Mi(t,e,n){const i=(e-t)/Math.max(0,n);return Si(i)}function Ai(t,e,n){let i;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if(n<=0||0===(i=function(t,e,n){return(e-t)/Math.max(1,n-1)}(t,e,n))||!isFinite(i))return[];const r=new Array(n);for(let e=0;e<n;e++)r[e]=t+e*i;return r}function Ti(t,e,n){let i,r,o=-1;if(n=+n,(r=(e=+e)<(t=+t))&&(i=t,t=e,e=i),!isFinite(n)||e-t<=n)return[t];const a=Math.floor((e-t)/n+1),s=new Array(a);for(;++o<a;)s[o]=t+o*n;return r&&s.reverse(),s}function ki(t,e=10){let n,i,r=0,o=t.length-1,a=t[r],s=t[o],l=10;for(s<a&&(i=a,a=s,s=i,i=r,r=o,o=i);l-- >0;){if(i=Mi(a,s,e).step,i===n)return t[r]=a,t[o]=s,t;if(i>0)a=Math.floor(a/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;a=Math.ceil(a*i)/i,s=Math.floor(s*i)/i}n=i}}const Ri=(t,e,n)=>Math.abs(e-t)<1?+n.toFixed(1):Math.round(+n);hi(((t,e,n,i,r,o,a)=>{let s=t,l=e;const u=l<s;u&&([s,l]=[l,s]);let h,c,d=r(s),f=r(l),p=[];if(!(i%1)&&f-d<n){if(d=Math.floor(d),f=Math.ceil(f),s>0){for(;d<=f;++d)for(h=1;h<i;++h)if(c=d<0?h/o(-d):h*o(d),!(c<s)){if(c>l)break;p.push(c)}}else for(;d<=f;++d)for(h=i-1;h>=1;--h)if(c=d>0?h/o(-d):h*o(d),!(c<s)){if(c>l)break;p.push(c)}2*p.length<n&&(p=Ci(s,l,n))}else p=Ci(d,f,Math.min(f-d,n)).map(o);return p=p.filter((t=>0!==t)),(null==a?void 0:a.noDecimals)&&(p=Array.from(new Set(p.map((t=>Math.floor(t)))))),u?p.reverse():p})),hi(((t,e,n,i,r,o)=>{const a=[],s={},l=r(t),u=r(e);let h=[];if(Number.isInteger(i))h=Ci(l,u,n);else{const t=(u-l)/(n-1);for(let e=0;e<n;e++)h.push(l+e*t)}return h.forEach((n=>{const r=o(n),l=Number.isInteger(i)?Ri(t,e,r):Ri(t,e,gi(r)),u=Ri(t,e,((t,e)=>{let n,i;return e[0]<e[1]?(n=e[0],i=e[1]):(n=e[1],i=e[0]),Math.min(Math.max(t,n),i)})(l,[t,e]));!s[u]&&!isNaN(u)&&h.length>1&&(s[u]=1,a.push(u))})),a})),hi(((t,e,n,i,r)=>Ai(i(t),i(e),n).map((t=>gi(r(t)))))),hi(((t,e,n,i,r)=>Ti(i(t),i(e),n).map((t=>gi(r(t))))));class Ii{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(t){return this._wholeRange?this._wholeRange:(0,m.Z)(this._rangeFactorStart)&&(0,m.Z)(this._rangeFactorEnd)&&2===t.length?(this._wholeRange=function(t,e){const n=(t[1]-t[0])/(e[1]-e[0]),i=t[0]-n*e[0];return[i,n+i]}(t,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):t}rangeFactor(t,e,n){return t?(2===t.length&&t.every((t=>t>=0&&t<=1))&&(this._wholeRange=null,0===t[0]&&1===t[1]?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=t[0],this._rangeFactorEnd=t[1])),this):n?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):(0,m.Z)(this._rangeFactorStart)&&(0,m.Z)(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(t,e){var n;return(0,l.Z)(t)?this._rangeFactorStart:(t>=0&&t<=1&&(this._wholeRange=null,0!==t||!(0,l.Z)(this._rangeFactorEnd)&&1!==this._rangeFactorEnd?(this._rangeFactorStart=t,this._rangeFactorEnd=null!==(n=this._rangeFactorEnd)&&void 0!==n?n:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(t,e){var n;return(0,l.Z)(t)?this._rangeFactorEnd:(t>=0&&t<=1&&(this._wholeRange=null,0!==t||!(0,l.Z)(this._rangeFactorStart)&&0!==this._rangeFactorStart?(this._rangeFactorEnd=t,this._rangeFactorStart=null!==(n=this._rangeFactorStart)&&void 0!==n?n:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var t;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:e=2,radiusRatio:n=.1,radius:i}=this._fishEyeOptions,r=this.range(),o=r[0],a=r[r.length-1],s=Math.min(o,a),u=Math.max(o,a),h=(0,un.Z)(null!==(t=this._fishEyeOptions.focus)&&void 0!==t?t:0,s,u),c=(0,l.Z)(i)?(u-s)*n:i;let d=Math.exp(e);d=d/(d-1)*c;const f=e/c;this._fishEyeTransform=t=>{const e=Math.abs(t-h);if(e>=c)return t;if(e<=1e-6)return h;const n=d*(1-Math.exp(-e*f))/e*.75+.25;return h+(t-h)*n}}unknown(t){return arguments.length?(this._unknown=t,this):this._unknown}get(t,e){var n;return null!==(n=null==this?void 0:this[t])&&void 0!==n?n:e}}var Pi=n(8646);function Ei(t,e){const n=t.r,i=e.r,r=t.g,o=e.g,a=t.b,s=e.b,l=t.opacity,u=e.opacity;return t=>{const e=Math.round(n*(1-t)+i*t),h=Math.round(r*(1-t)+o*t),c=Math.round(a*(1-t)+s*t);return new Pi.eX(e,h,c,l*(1-t)+u*t)}}function Bi(t,e){return n=>t*(1-n)+e*n}function Li(t,e){return function(n){return Math.round(t*(1-n)+e*n)}}const Di=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;new RegExp(Di.source,"g");const{interpolateRgb:Oi}=i;function Fi(t,e){const n=typeof e;let i;if((0,l.Z)(e)||"boolean"===n)return()=>e;if("number"===n)return Bi(t,e);if("string"===n){if(i=Pi.Il.parseColorString(e)){const e=Oi(Pi.Il.parseColorString(t),i);return t=>e(t).formatRgb()}return Bi(Number(t),Number(e))}return e instanceof Pi.eX?Oi(t,e):e instanceof Pi.Il?Oi(t.color,e.color):e instanceof Date?function(t,e){const n=t.valueOf(),i=e.valueOf(),r=new Date;return t=>(r.setTime(n*(1-t)+i*t),r)}(t,e):Bi(Number(t),Number(e))}function Hi(t){return Number(t)}class Ni extends Ii{constructor(t=ci,e=ci){super(),this._unknown=void 0,this.transformer=t,this.untransformer=e,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=ci,this._piecewise=fi,this._interpolate=Fi}calculateVisibleDomain(t){var e;return(0,m.Z)(this._rangeFactorStart)&&(0,m.Z)(this._rangeFactorEnd)&&2===t.length?[this.invert(t[0]),this.invert(t[1])]:null!==(e=this._niceDomain)&&void 0!==e?e:this._domain}fishEye(t,e,n){return t||n?(this._fishEyeOptions=t,this._fishEyeTransform=null,this.rescale(e)):this._fishEyeOptions}scale(t){var e;if(t=Number(t),Number.isNaN(t)||this._domainValidator&&!this._domainValidator(t))return this._unknown;this._output||(this._output=this._piecewise((null!==(e=this._niceDomain)&&void 0!==e?e:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const n=this._output(this.transformer(this._clamp(t)));return this._fishEyeTransform?this._fishEyeTransform(n):n}invert(t){var e;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),(null!==(e=this._niceDomain)&&void 0!==e?e:this._domain).map(this.transformer),Bi)),this._clamp(this.untransformer(this._input(t)))}domain(t,e){var n;if(!t)return(null!==(n=this._niceDomain)&&void 0!==n?n:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const i=Array.from(t,Hi);return this._domain=i,this.rescale(e)}range(t,e){if(!t)return this._range.slice();const n=Array.from(t);return this._range=n,this.rescale(e)}rangeRound(t,e){const n=Array.from(t);return this._range=n,this._interpolate=Li,this.rescale(e)}rescale(t){var e;if(t)return this;const n=null!==(e=this._niceDomain)&&void 0!==e?e:this._domain,i=n.length,r=this._range.length;let o=Math.min(i,r);if(i&&i<r&&this._forceAlign){const t=r-i+1,e=n[i-1],a=i>=2?(e-n[i-2])/t:0;for(let r=1;r<=t;r++)n[i-2+r]=e-a*(t-r);o=r}return this._autoClamp&&(this._clamp=function(t,e){let n;return t>e&&(n=t,t=e,e=n),n=>Math.max(t,Math.min(e,n))}(n[0],n[o-1])),this._piecewise=o>2?pi:fi,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(t,e,n){return arguments.length?(e?(this._autoClamp=!1,this._clamp=e):(this._autoClamp=!!t,this._clamp=t?void 0:ci),this.rescale(n)):this._clamp!==ci}interpolate(t,e){return arguments.length?(this._interpolate=t,this.rescale(e)):this._interpolate}ticks(t=10){return[]}tickData(t=10){const e=this.ticks(t);return(null!=e?e:[]).map(((t,e)=>({index:e,tick:t,value:(this.scale(t)-this._range[0])/(this._range[1]-this._range[0])})))}rangeFactor(t,e){return t?(super.rangeFactor(t),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(t,e){return(0,l.Z)(t)?super.rangeFactorStart():(super.rangeFactorStart(t),this._output=this._input=null,this)}rangeFactorEnd(t,e){return(0,l.Z)(t)?super.rangeFactorEnd():(super.rangeFactorEnd(t),this._output=this._input=null,this)}forceAlignDomainRange(t){return arguments.length?(this._forceAlign=t,this):this._forceAlign}}class zi extends Ni{constructor(){super(...arguments),this.type=be.Linear}clone(){return(new zi).domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate)}tickFormat(){return()=>{}}d3Ticks(t=10,e){const n=this.calculateVisibleDomain(this._range);return xi(n[0],n[n.length-1],t,e)}ticks(t=10,e){var n;if((0,g.Z)(null==e?void 0:e.customTicks))return e.customTicks(this,t);if((0,m.Z)(this._rangeFactorStart)&&(0,m.Z)(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&2===this._range.length||!this._niceType)return this.d3Ticks(t,e);const i=null!==(n=this._niceDomain)&&void 0!==n?n:this._domain,r=this._domain,o=i[0],a=i[i.length-1];let s=Ci(r[0],r[r.length-1],t,e);if(!s.length)return s;if(this._domainValidator)s=s.filter(this._domainValidator);else if((s[0]!==o||s[s.length-1]!==a)&&this._niceType){const t=i.slice();if("all"===this._niceType?(t[0]=s[0],t[t.length-1]=s[s.length-1],this._niceDomain=t,this.rescale()):"min"===this._niceType&&s[0]!==o?(t[0]=s[0],this._niceDomain=t,this.rescale()):"max"===this._niceType&&s[s.length-1]!==a&&(t[t.length-1]=s[s.length-1],this._niceDomain=t,this.rescale()),"all"!==this._niceType){const e=Math.min(t[0],t[t.length-1]),n=Math.max(t[0],t[t.length-1]);s=s.filter((t=>t>=e&&t<=n))}}return s}forceTicks(t=10){const e=this.calculateVisibleDomain(this._range);return Ai(e[0],e[e.length-1],t)}stepTicks(t){const e=this.calculateVisibleDomain(this._range);return Ti(e[0],e[e.length-1],t)}nice(t=10,e){var n,i;const r=this._domain;let o=[];if(e){const t=function(t,e){const n=(0,vn.Z)(e.forceMin),i=(0,vn.Z)(e.forceMax);let r=null;const o=[];let a=null;const s=n&&i?t=>t>=e.forceMin&&t<=e.forceMax:n?t=>t>=e.forceMin:i?t=>t<=e.forceMax:null;return n?o[0]=e.forceMin:(0,vn.Z)(e.min)&&e.min<=Math.min(t[0],t[t.length-1])&&(o[0]=e.min),i?o[1]=e.forceMax:(0,vn.Z)(e.max)&&e.max>=Math.max(t[0],t[t.length-1])&&(o[1]=e.max),(0,vn.Z)(o[0])&&(0,vn.Z)(o[1])?(a=t.slice(),a[0]=o[0],a[a.length-1]=o[1]):r=(0,vn.Z)(o[0])||(0,vn.Z)(o[1])?(0,vn.Z)(o[0])?"max":"min":"all",{niceType:r,niceDomain:a,niceMinMax:o,domainValidator:s}}(r,e);if(o=t.niceMinMax,this._domainValidator=t.domainValidator,this._niceType=t.niceType,t.niceDomain)return this._niceDomain=t.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const e=ki(r.slice(),t);"min"===this._niceType?e[e.length-1]=null!==(n=o[1])&&void 0!==n?n:e[e.length-1]:"max"===this._niceType&&(e[0]=null!==(i=o[0])&&void 0!==i?i:e[0]),this._niceDomain=e,this.rescale()}return this}niceMin(t=10){this._niceType="min";const e=this._domain[this._domain.length-1],n=ki(this.domain(),t);return n&&(n[n.length-1]=e,this._niceDomain=n,this.rescale()),this}niceMax(t=10){this._niceType="max";const e=this._domain[0],n=ki(this._domain.slice(),t);return n&&(n[0]=e,this._niceDomain=n,this.rescale()),this}}var Wi,ji=n(24930),Vi=n(36656);function Gi(t){return(0,w.Z)(t)?t:[t,t]}function Zi(t){return t?"ew-resize":"ns-resize"}!function(t){t.innerView="innerView",t.railContainer="sliderRailContainer",t.rail="sliderRail",t.startText="sliderStartText",t.endText="sliderEndText",t.startHandler="sliderStartHandler",t.startHandlerText="startHandlerText",t.endHandler="sliderEndHandler",t.endHandlerText="sliderEndHandlerText",t.track="sliderTrack",t.trackContainer="sliderTrackContainer"}(Wi||(Wi={})),Yn();class Ui extends x.k{get track(){return this._track}get currentValue(){return this._currentValue}get startHandler(){return this._startHandler}get endHandler(){return this._endHandler}get tooltipShape(){return this._tooltipShape}constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},Ui.defaultAttributes,t)),this.name="slider",this._isHorizontal=!0,this._startHandler=null,this._endHandler=null,this._startHandlerText=null,this._endHandlerText=null,this._currentHandler=null,this._currentValue={},this._onTooltipShow=t=>{this._isChanging||this._tooltipState&&this._tooltipState.isActive||(this._tooltipState?this._tooltipState.isActive=!0:this._tooltipState={isActive:!0},this._onTooltipUpdate(t),this._dispatchTooltipEvent("sliderTooltipShow"))},this._onTooltipUpdate=t=>{if(this._isChanging||!this._tooltipState||!this._tooltipState.isActive)return;const e=this._isHorizontal?this._rail.globalAABBBounds.width():this._rail.globalAABBBounds.height(),n=(0,un.Z)(this._isHorizontal?(t.viewX-this._rail.globalAABBBounds.x1)/e:(t.viewY-this._rail.globalAABBBounds.y1)/e,0,1);n!==this._tooltipState.pos&&(this._tooltipState.pos=n,this._tooltipState.value=this.calculateValueByPos(n*e),this._updateTooltip(),this._dispatchTooltipEvent("sliderTooltipUpdate"))},this._onTooltipHide=()=>{const{tooltip:t}=this.attribute;t&&t.alwaysShow||(this._tooltipState=null,this._tooltipShape&&this._tooltipShape.setAttribute("visible",!1),this._tooltipText&&this._tooltipText.setAttribute("visible",!1),this._dispatchTooltipEvent("sliderTooltipHide"))},this._onHandlerPointerdown=t=>{t.stopPropagation(),this._isChanging=!0;const{x:e,y:n}=this.stage.eventPointTransform(t);this._currentHandler=t.target,this._prePos=this._isHorizontal?e:n,"browser"===Vi.rF.env?(Vi.rF.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),Vi.rF.addEventListener("pointerup",this._onHandlerPointerUp)):(this.stage.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),this.stage.addEventListener("pointerup",this._onHandlerPointerUp),this.stage.addEventListener("pointerupoutside",this._onHandlerPointerUp))},this._onHandlerPointerMove=t=>{var e,n;t.stopPropagation(),this._isChanging=!0;const{railWidth:i,railHeight:r,min:o,max:a}=this.attribute;if(a===o)return;const{x:s,y:l}=this.stage.eventPointTransform(t);let u,h,c,d=0;this._isHorizontal?(u=s,d=u-this._prePos,h=null===(n=this._currentHandler)||void 0===n?void 0:n.attribute.x,c=i):(u=l,d=u-this._prePos,h=null===(e=this._currentHandler)||void 0===e?void 0:e.attribute.y,c=r);const f=(0,un.Z)(h+d,0,c),p=this.calculateValueByPos(f);"text"===this._currentHandler.type?this._updateHandlerText(this._currentHandler,f,p):this._updateHandler(this._currentHandler,f,p),this._updateTrack(),this._prePos=u,this._dispatchChangeEvent()},this._onHandlerPointerUp=t=>{t.preventDefault(),this._isChanging=!1,this._currentHandler=null,"browser"===Vi.rF.env?(Vi.rF.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),Vi.rF.removeEventListener("pointerup",this._onHandlerPointerUp)):(this.stage.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),this.stage.removeEventListener("pointerup",this._onHandlerPointerUp),this.stage.removeEventListener("pointerupoutside",this._onHandlerPointerUp))},this._onTrackPointerdown=t=>{t.stopPropagation(),this._isChanging=!0;const{x:e,y:n}=this.stage.eventPointTransform(t);this._prePos=this._isHorizontal?e:n,"browser"===Vi.rF.env?(Vi.rF.addEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),Vi.rF.addEventListener("pointerup",this._onTrackPointerUp)):(this.stage.addEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),this.stage.addEventListener("pointerup",this._onTrackPointerUp),this.stage.addEventListener("pointerupoutside",this._onTrackPointerUp))},this._onTrackPointerMove=t=>{t.stopPropagation(),this._isChanging=!0;const{railWidth:e,railHeight:n,min:i,max:r,inverse:o}=this.attribute;if(r===i)return;const{startHandler:a,endHandler:s}=this._getHandlers();let l,u,h;const{x:c,y:d}=this.stage.eventPointTransform(t);this._isHorizontal?(l=c,u=this._track.attribute.width,h=e):(l=d,u=this._track.attribute.height,h=n);const f=l-this._prePos;if(a){const t=this._isHorizontal?a.attribute.x:a.attribute.y,e=o?(0,un.Z)(t+f,u,h):(0,un.Z)(t+f,0,h-u),n=this.calculateValueByPos(e);this._updateHandler(a,e,n)}if(s){const t=this._isHorizontal?s.attribute.x:s.attribute.y,e=o?(0,un.Z)(t+f,0,h-u):(0,un.Z)(t+f,u,h),n=this.calculateValueByPos(e),i=null==a?void 0:a.attribute;this._updateHandler(s,e,n),this._track.setAttributes(this._isHorizontal?{x:Math.min(i.x,s.attribute.x),width:Math.abs(i.x-s.attribute.x)}:{y:Math.min(i.y,s.attribute.y),height:Math.abs(i.y-s.attribute.y)})}this._prePos=l,this._dispatchChangeEvent()},this._onTrackPointerUp=t=>{t.preventDefault(),this._isChanging=!1,"browser"===Vi.rF.env?(Vi.rF.removeEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),Vi.rF.removeEventListener("pointerup",this._onTrackPointerUp)):(this.stage.removeEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),this.stage.removeEventListener("pointerup",this._onTrackPointerUp),this.stage.removeEventListener("pointerupoutside",this._onTrackPointerUp))},this._onRailPointerDown=t=>{t.stopPropagation(),this._isChanging=!0;const{railWidth:e,railHeight:n,min:i,max:r}=this.attribute;if(r===i)return;const o=this._startHandler,a=this._endHandler;let s,l,u,h;this._isHorizontal?(s=t.viewX-this._rail.globalAABBBounds.x1,l=null==o?void 0:o.attribute.x,u=null==a?void 0:a.attribute.x,h=e):(s=t.viewY-this._rail.globalAABBBounds.y1,l=null==o?void 0:o.attribute.y,u=null==a?void 0:a.attribute.y,h=n);const c=this.calculateValueByPos(s);if((0,m.Z)(u)){const t=Math.abs(s-l)>Math.abs(s-u)?a:o;this._updateHandler(t,s,c)}else this._updateHandler(o,s,c);this._updateTrack(),this._dispatchChangeEvent()}}calculatePosByValue(t,e){const{layout:n,railWidth:i,railHeight:r,min:o,max:a,inverse:s}=this.attribute;let l=0;return l=o===a?"start"===e?0:"end"===e?1:0:(t-o)/(a-o),(s?1-l:l)*("vertical"===n?r:i)}calculateValueByPos(t){const{layout:e,railWidth:n,railHeight:i,min:r,max:o,inverse:a}=this.attribute,s="vertical"===e?i:n;return r+(o-r)*(a?1-t/s:t/s)}setValue(t){const{min:e,max:n}=this.attribute;if(n===e)return;const[i,r]=(0,p.IX)(t),{startHandler:o,endHandler:a}=this._getHandlers();o&&this._updateHandler(o,this.calculatePosByValue(i),i),a&&this._updateHandler(a,this.calculatePosByValue(r),r),this._updateTrack()}render(){var t,e;this.removeAllChild(!0);const{layout:n="horizontal",railWidth:i,railHeight:r,startText:o,endText:a,min:s,max:u,showHandler:h=!0,showTooltip:c}=this.attribute;let{value:d}=this.attribute;(0,l.Z)(d)&&(d=[s,u]),this._currentValue={startValue:Gi(d)[0],endValue:Gi(d)[1]};const f="horizontal"===n;this._isHorizontal=f;const p=b.i.group({x:0,y:0});p.name=Wi.innerView,this.add(p),this._innerView=p;let g,v=0;if(o&&o.visible){g=b.i.text(Object.assign({x:f?0:i/2,y:f?r/2:0,textAlign:f?"start":"center",textBaseline:f?"middle":"top",text:o.text,lineHeight:null===(t=o.style)||void 0===t?void 0:t.fontSize},o.style)),g.name=Wi.startText,p.add(g);const e=(0,m.Z)(o.space)?o.space:0;v+=(f?g.AABBBounds.width():g.AABBBounds.height())+e}const y=b.i.group({x:f?v:0,y:f?0:v});p.add(y);const w=b.i.group({x:0,y:0});let x;if(w.name=Wi.railContainer,this._railContainer=w,y.add(w),this._mainContainer=y,this._renderRail(w),v+=f?i:r,a&&a.visible){const t=(0,m.Z)(a.space)?a.space:0;x=b.i.text(Object.assign({x:f?v+t:i/2,y:f?r/2:v+t,textAlign:f?"start":"center",textBaseline:f?"middle":"top",text:a.text,lineHeight:null===(e=a.style)||void 0===e?void 0:e.fontSize},a.style)),x.name=Wi.endText,p.add(x)}this._renderTrack(w),h&&(this._renderHandlers(y),this._bindEvents()),c&&(this._renderTooltip(),this._bindTooltipEvents())}_renderRail(t){const{railWidth:e,railHeight:n,railStyle:i,slidable:r}=this.attribute;let o="default";!1!==r&&(o="pointer");const a=b.i.rect(Object.assign({x:0,y:0,width:e,height:n,cursor:o},i));return a.name=Wi.rail,t.add(a),this._rail=a,a}_renderHandlers(t){const{range:e,min:n,max:i,handlerSize:r=14,handlerStyle:o,handlerText:a,railHeight:s,railWidth:u,slidable:h}=this.attribute;let{value:c}=this.attribute;(0,l.Z)(c)&&(c=[n,i]);const d=a&&a.visible,f=this._isHorizontal,[p,g]=Gi(c),m=this.calculatePosByValue(p,e?"start":"end"),v=this._renderHandler(Object.assign({x:f?m:u/2,y:f?s/2:m,size:r,strokeBoundsBuffer:0,cursor:!1===h?"default":Zi(f)},o));if(v.name=Wi.startHandler,this._startHandler=v,t.add(v),this._currentValue.startPos=m,d){const n=this._renderHandlerText(p,e?"start":"end");n.name=Wi.startHandlerText,t.add(n),this._startHandlerText=n}if(e){const e=this.calculatePosByValue(g,"end"),n=this._renderHandler(Object.assign({x:f?e:u/2,y:f?s/2:e,size:r,strokeBoundsBuffer:0,cursor:!1===h?"default":Zi(f)},o));if(n.name=Wi.endHandler,this._endHandler=n,t.add(n),this._currentValue.endPos=e,d){const e=this._renderHandlerText(g,"end");e.name=Wi.endHandlerText,t.add(e),this._endHandlerText=e}}}_renderTrack(t){const{range:e,min:n,max:i,railHeight:r,railWidth:o,trackStyle:a,railStyle:s,slidable:u,value:h}=this.attribute;let c,d;if((0,l.Z)(h))e?(c=n,d=i):c=d=n;else if(e){const t=(0,ji.Z)(h,n,i);c=t[0],d=t[1]}else c=n,d=(0,un.Z)(h,n,i);const f=this._isHorizontal;e||(c=n);const p=b.i.group({x:0,y:0,width:o,height:r,cornerRadius:null==s?void 0:s.cornerRadius,clip:!0,pickable:!1});p.name=Wi.trackContainer;const g=(0,qt.Z)(e)&&!0===e.draggableTrack;let m;m=!1===u?"default":!1===e||!1===g?"pointer":Zi(f);const v=this.calculatePosByValue(c,"start"),y=this.calculatePosByValue(d,e?"end":"start"),w=b.i.rect(Object.assign({x:f?Math.min(v,y):0,y:f?0:Math.min(v,y),width:f?Math.abs(y-v):o,height:f?r:Math.abs(y-v),cursor:m},a));w.name=Wi.track,this._track=w,p.add(w),t.add(p)}_renderHandler(t){return b.i.symbol(t)}_renderHandlerText(t,e){var n,i,r;const{align:o,handlerSize:a=14,handlerText:s={},railHeight:l,railWidth:u,slidable:h}=this.attribute,c=this._isHorizontal,d=this.calculatePosByValue(t,e),f=null!==(n=s.space)&&void 0!==n?n:4,p={text:s.formatter?s.formatter(t):t.toFixed(null!==(i=s.precision)&&void 0!==i?i:0),lineHeight:null===(r=s.style)||void 0===r?void 0:r.lineHeight,cursor:!1===h?"default":Zi(c)};return c?"top"===o?(p.textBaseline="bottom",p.textAlign="center",p.x=d,p.y=(l-a)/2-f):(p.textBaseline="top",p.textAlign="center",p.x=d,p.y=(l+a)/2+f):"left"===o?(p.textBaseline="middle",p.textAlign="end",p.x=(u-a)/2-f,p.y=d):(p.textBaseline="middle",p.textAlign="start",p.x=(u+a)/2+f,p.y=d),b.i.text(Object.assign(Object.assign({},p),s.style))}_renderTooltip(){var t;const{tooltip:e,railHeight:n,railWidth:i,align:r}=this.attribute;e&&e.alwaysShow?this._tooltipState={value:this._currentValue.startValue,pos:this._currentValue.startPos}:this._tooltipState=null;const o=this._isHorizontal?0:i/2,a=this._isHorizontal?n/2:0;if(e&&e.shape){const t=b.i.symbol(Object.assign({pickable:!1,visible:!!this._tooltipState,x:o,y:a,symbolType:"circle"},e.shapeStyle));this._tooltipShape=t,this._mainContainer.add(t)}const s=e&&e.text||{},l=null!==(t=s.space)&&void 0!==t?t:6,u={pickable:!1,visible:!!this._tooltipState,text:""};this._isHorizontal?(u.x=o,u.y="top"===r?a-n/2-l:a+n/2+l,u.textAlign="center",u.textBaseline="top"===r?"bottom":"top"):(u.y=a,u.x="left"===r?o-i/2-l:a+i/2+l,u.textAlign="left"===r?"end":"start",u.textBaseline="middle");const h=b.i.text(Object.assign(Object.assign({},u),s.style));this._mainContainer.add(h),this._tooltipText=h,this._tooltipState&&this._updateTooltip()}_updateTooltip(){var t,e;if(!this._tooltipShape&&!this._tooltipText||!this._tooltipState)return;const{railWidth:n,railHeight:i}=this.attribute,r=this._isHorizontal?n:i,o=this._tooltipState.pos*r,a=this._isHorizontal?"x":"y";this._tooltipShape&&this._tooltipShape.setAttributes({visible:!0,[a]:o});const{align:s}=this.attribute;if(this._tooltipText){const n=this.attribute.tooltip&&this.attribute.tooltip.text||{};this._tooltipText.setAttributes({visible:!0,[a]:o,text:n.formatter?n.formatter(this._tooltipState.value):this._isHorizontal||"left"!==s?` ${this._tooltipState.value.toFixed(null!==(e=n.precision)&&void 0!==e?e:0)}`:`${this._tooltipState.value.toFixed(null!==(t=n.precision)&&void 0!==t?t:0)} `})}}_bindEvents(){if(this.attribute.disableTriggerEvent)return;const{slidable:t,range:e}=this.attribute;t&&(this._startHandler&&this._startHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._startHandlerText&&this._startHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandler&&this._endHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandlerText&&this._endHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),(0,qt.Z)(e)&&e.draggableTrack&&this._track.addEventListener("pointerdown",this._onTrackPointerdown),this._railContainer.addEventListener("pointerdown",this._onRailPointerDown))}_bindTooltipEvents(){this.attribute.disableTriggerEvent||(this._mainContainer.addEventListener("pointerenter",this._onTooltipShow),this._mainContainer.addEventListener("pointermove",this._onTooltipUpdate),this._mainContainer.addEventListener("pointerleave",this._onTooltipHide))}_updateTrack(){const{inverse:t,railWidth:e,railHeight:n}=this.attribute,i=this._startHandler,r=this._endHandler;if(this._isHorizontal){const n=null==i?void 0:i.attribute.x;if(r){const t=null==r?void 0:r.attribute.x;this._track.setAttributes({x:Math.min(n,t),width:Math.abs(n-t)})}else t?this._track.setAttributes({x:n,width:e-n}):this._track.setAttributes({width:n})}else{const e=null==i?void 0:i.attribute.y;if(r){const t=null==r?void 0:r.attribute.y;this._track.setAttributes({y:Math.min(e,t),height:Math.abs(e-t)})}else t?this._track.setAttributes({y:e,height:n-e}):this._track.setAttributes({height:e})}}_updateHandler(t,e,n){var i;const r=this._isHorizontal;t.setAttribute(r?"x":"y",e);const o=t.name===Wi.startHandler?this._startHandlerText:this._endHandlerText;if(o){const{handlerText:t={}}=this.attribute;o.setAttributes({text:t.formatter?t.formatter(n):n.toFixed(null!==(i=t.precision)&&void 0!==i?i:0),[r?"x":"y"]:e})}t.name===Wi.startHandler?(this._currentValue.startValue=n,this._currentValue.startPos=e):(this._currentValue.endValue=n,this._currentValue.endPos=e)}_updateHandlerText(t,e,n){var i;const r=this._isHorizontal,{handlerText:o={}}=this.attribute;t.setAttributes({[r?"x":"y"]:e,text:o.formatter?o.formatter(n):n.toFixed(null!==(i=o.precision)&&void 0!==i?i:0)});const a=t.name===Wi.startHandlerText?this._startHandler:this._endHandler;a&&a.setAttributes({[r?"x":"y"]:e}),t.name===Wi.startHandlerText?(this._currentValue.startValue=n,this._currentValue.startPos=e):(this._currentValue.endValue=n,this._currentValue.endPos=e)}_dispatchChangeEvent(){const t=!!this.attribute.range,e=this._currentValue;this._dispatchEvent("change",{value:t?[Math.min(e.endValue,e.startValue),Math.max(e.endValue,e.startValue)]:e.startValue,position:t?[Math.min(e.endPos,e.startPos),Math.max(e.endPos,e.startPos)]:e.startPos})}_dispatchTooltipEvent(t){this._dispatchEvent("sliderTooltip",{type:t,position:this._tooltipState&&this._tooltipState.pos,value:this._tooltipState&&this._tooltipState.value})}_getHandlers(){const{inverse:t}=this.attribute;let e=this._startHandler,n=this._endHandler;return n?(this._isHorizontal?(!t&&n.attribute.x<(null==e?void 0:e.attribute.x)||t&&n.attribute.x>(null==e?void 0:e.attribute.x))&&([e,n]=[n,e]):(!t&&n.attribute.y<(null==e?void 0:e.attribute.y)||t&&n.attribute.y>(null==e?void 0:e.attribute.y))&&([e,n]=[n,e]),{startHandler:e,endHandler:n}):{startHandler:e,endHandler:n}}}Ui.defaultAttributes={slidable:!0,layout:"horizontal",align:"bottom",height:8,showHandler:!0,handlerSize:14,handlerStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},tooltip:{shapeStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},text:{style:{fill:"#2C3542",fontSize:12}}},railStyle:{fill:"rgba(0,0,0,.04)"},trackStyle:{fill:"#91caff"},showValue:!0,valueStyle:{fill:"#2C3542",fontSize:12},startText:{style:{fill:"#2C3542",fontSize:12}},endText:{style:{fill:"#2C3542",fontSize:12}},handlerText:{visible:!0,space:4,precision:0,style:{fill:"#2C3542",fontSize:12}}},Jn(),Yn();class Ki extends mn{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},Ki.defaultAttributes,t)),this.name="colorLegend",this._onSliderToolipChange=t=>{const e=this._slider.tooltipShape;if(e&&t.detail&&!(0,l.Z)(t.detail.value)){const n=this._colorScale.scale(t.detail.value);e.setAttribute("fill",n)}this.dispatchEvent(t)},this._onSliderChange=t=>{this._updateColor(),this.dispatchEvent(t)}}setSelected(t){this._slider&&(this._slider.setValue(t),this._updateColor())}_renderContent(){const{colors:t,slidable:e,layout:n,align:i,min:r,max:o,value:a,railWidth:s,railHeight:l,showHandler:u=!0,handlerSize:h,handlerStyle:c,railStyle:d,trackStyle:p,startText:g,endText:m,handlerText:v,showTooltip:y,tooltip:b,inverse:w,disableTriggerEvent:x}=this.attribute,_=[],C=(o-r)/(t.length-1);for(let e=0;e<t.length;e++)_.push(r+C*e);this._colorScale=(new zi).domain(_,!0).range(t),this._color=this._getTrackColor();const S=new Ui({x:0,y:0,range:{draggableTrack:!0},slidable:e,layout:n,align:i,min:r,max:o,value:a,railWidth:s,railHeight:l,showHandler:u,handlerSize:h,handlerStyle:c,railStyle:d,trackStyle:Object.assign({fill:this._color},p),startText:g,endText:m,handlerText:v,showTooltip:y,tooltip:b,disableTriggerEvent:x,inverse:w});this._innerView.add(S),this._slider=S,S.translateTo(0-S.AABBBounds.x1,(this._title?this._title.AABBBounds.height()+f(this.attribute,"title.space",12):0)-S.AABBBounds.y1),this._updateColor()}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}_getTrackColor(){const{colors:t,layout:e,inverse:n}=this.attribute;if((0,h.Z)(t))return;const i=t.length;if(1===i)return t[0];const r=[];for(let e=0;e<i;e++){const n=e/(i-1);r.push({offset:n,color:t[e]})}const o="horizontal"===e,a={gradient:"linear",stops:r,x0:0,y0:0,x1:o?1:0,y1:o?0:1};return n&&(o?(a.x0=1,a.x1=0):(a.y0=1,a.y1=0)),a}_updateColor(){var t;const{layout:e="horizontal",colors:n,railWidth:i,railHeight:r}=this.attribute,{startHandler:o,endHandler:a,track:s,attribute:l}=this._slider,{startValue:u,endValue:h,startPos:c,endPos:d}=this._slider.currentValue,f=null===(t=l.handlerStyle)||void 0===t?void 0:t.fill;if(o&&!f){const t=this._colorScale.scale(u);o.setAttribute("fill",t)}if(a&&!f){const t=this._colorScale.scale(h);a.setAttribute("fill",t)}const p="horizontal"===e?i:r;if(Math.abs(c-d)!==p&&n&&n.length>1){const t=this._color.stops,e=Math.min(c,d),n=Math.max(c,d),i=e/p,r=n/p,o=r-i,a=t.filter((t=>t.offset>i&&t.offset<r)),l=Math.min(u,h),f=Math.max(u,h),g=this._colorScale.scale(l),m=this._colorScale.scale(f),v=[{offset:0,color:g}];a.forEach((t=>{v.push({offset:(t.offset-i)/o,color:t.color})})),v.push({offset:1,color:m}),s.setAttribute("fill",Object.assign(Object.assign({},this._color),{stops:v}))}}}function $i(t="bottom"){let e=0;return"top"===t?`\n    M${e},-6L${e-3.5},-2.5\n    v5\n    h7\n    v-5\n    Z\n`:"left"===t?(e=1,`\n    M${e-6},0L${e-6+2.5},-3.5\n    h5\n    v7\n    h-5\n    Z\n`):"right"===t?(e=-1,`\n    M${e+6},0L${e+6-2.5},-3.5\n    h-5\n    v7\n    h5\n    Z\n  `):`\n    M${e},6L${e-3.5},2.5\n    v-5\n    h7\n    v5\n    Z\n`}Ki.defaultAttributes={layout:"horizontal",title:{align:"start",space:12,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{fill:null,lineWidth:4,stroke:"#fff",outerBorder:{distance:2,lineWidth:1,stroke:"#ccc"}},tooltip:{shapeStyle:{lineWidth:4,stroke:"#fff"}}},Jn(),Yn(),$n();class Xi extends mn{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},Xi.defaultAttributes,t)),this.name="sizeLegend",this._onSliderChange=t=>{this.dispatchEvent(t)},this._onSliderToolipChange=t=>{this.dispatchEvent(t)}}setSelected(t){this._slider&&this._slider.setValue(t)}_renderContent(){const{slidable:t,layout:e,align:n,min:i,max:r,value:o,railWidth:a,railHeight:s,showHandler:l=!0,handlerSize:u,handlerStyle:h,railStyle:c,trackStyle:d,startText:p,endText:g,handlerText:m,showTooltip:v,tooltip:y,sizeBackground:w,disableTriggerEvent:x,inverse:_}=this.attribute,C=b.i.group({x:0,y:0});this._innerView.add(C);const S=new Ui({x:0,y:0,zIndex:1,range:{draggableTrack:!0},slidable:t,layout:e,align:n,min:i,max:r,value:o,railWidth:a,railHeight:s,showHandler:l,handlerSize:u,handlerStyle:Object.assign({symbolType:$i(n)},h),railStyle:c,trackStyle:d,startText:p,endText:g,handlerText:m,showTooltip:v,tooltip:y,disableTriggerEvent:x,inverse:_});C.add(S);let M,A=0;"horizontal"===e?"top"===n?(M=`M0,0L${a},0L${_?0:a},12Z`,A=s):(M=`M0,12L${a},12L${_?0:a},0Z`,S.setAttribute("y",12)):"left"===n?M=`M${a},0L${a+12},${_?0:s}L${a},${s}Z`:(M=`M0,${_?0:s}L12,${s}L12,0Z`,S.setAttribute("x",12));const T=b.i.path(Object.assign(Object.assign({x:0,y:A,path:M},w),{zIndex:0}));C.add(T);const k=this._title?this._title.AABBBounds.height()+f(this.attribute,"title.space",12):0;C.translate(0-C.AABBBounds.x1,k-C.AABBBounds.y1),this._slider=S}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}}Xi.defaultAttributes={layout:"horizontal",title:{align:"start",space:12,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{lineWidth:1,stroke:"#ccc",fill:"#fff"},sizeBackground:{fill:"rgba(20,20,20,0.1)"}};var Yi=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const qi={orient:"right",position:"middle",padding:30,title:{visible:!1,padding:0,textStyle:{fontSize:14,fontWeight:"normal",fill:{type:"palette",key:"titleFontColor"}},space:12},handler:{visible:!0},startText:{style:{fontSize:14,fontWeight:"normal",fill:{type:"palette",key:"labelFontColor"}}},endText:{style:{fontSize:14,fontWeight:"normal",fill:{type:"palette",key:"labelFontColor"}}},handlerText:{style:{fontSize:14,fontWeight:"normal",fill:{type:"palette",key:"labelFontColor"}}}},Ji={horizontal:Object.assign(Object.assign({},qi),{rail:{width:200,height:8,style:{fill:"rgba(0,0,0,0.04)"}}}),vertical:Object.assign(Object.assign({},qi),{rail:{width:8,height:200,style:{fill:"rgba(0,0,0,0.04)"}}})},Qi={horizontal:Object.assign({sizeBackground:{fill:"#cdcdcd"},track:{style:{fill:"rgba(20,20,20,0.1)"}},rail:{width:200,height:4,style:{fill:"rgba(0,0,0,0.04)"}}},qi),vertical:Object.assign({sizeBackground:{fill:"#cdcdcd"},track:{style:{fill:"rgba(20,20,20,0.1)"}},rail:{width:4,height:200,style:{fill:"rgba(0,0,0,0.04)"}}},qi)};class tr{constructor(t,e){var n,i,r,o;this.table=e,this.option=(0,At.Z)(t),this.orient=null!==(n=t.orient)&&void 0!==n?n:"left",this.visible=null===(i=t.visible)||void 0===i||i,this.position=null!==(r=t.position)&&void 0!==r?r:"middle",this.selectedData=null!==(o=t.defaultSelected)&&void 0!==o?o:null,this.createComponent(),this.initEvent()}createComponent(){const t=this.getLegendAttributes({width:this.table.tableNoFrameWidth,height:this.table.tableNoFrameHeight});let e;e="color"===this.option.type?new Ki((0,a.Z)({},t,{slidable:!0})):new Xi((0,a.Z)({},t,{slidable:!0})),e.name="legend",this.legendComponent=e,!1===this.visible&&(e.setAttributes({visible:!1,visibleAll:!1}),e.hideAll()),this.table.scenegraph.stage.defaultLayer.appendChild(e),this.adjustTableSize(t)}resize(){this.legendComponent&&!1!==this.visible&&(this.legendComponent.setAttributes({width:this.table.tableNoFrameWidth,height:this.table.tableNoFrameHeight}),this.adjustTableSize(this.legendComponent.attribute))}adjustTableSize(t){var e,n;if(!this.legendComponent||!1===this.visible)return;let i=isFinite(this.legendComponent.AABBBounds.width())?this.legendComponent.AABBBounds.width():0,r=isFinite(this.legendComponent.AABBBounds.height())?this.legendComponent.AABBBounds.height():0;if(i<=0||r<=0)return;const o=this.table.tableNoFrameWidth,a=this.table.tableNoFrameHeight,s=(0,li.u)(null!==(n=null!==(e=t.padding)&&void 0!==e?e:this.option.padding)&&void 0!==n?n:10);let l=0,u=0;"left"===this.orient?(l=s[3],u=0,i+=s[1]+s[3]):"top"===this.orient?(l=0,u=s[0],r+=s[0]+s[2]):"right"===this.orient?(l=o-i-s[1],u=0,i+=s[1]+s[3]):"bottom"===this.orient&&(l=0,u=a-r-s[2],r+=s[0]+s[2]);const h="bottom"===this.orient||"top"===this.orient?"horizontal":"vertical",c=this.position;let d=0,f=0;"horizontal"===h?d="middle"===c?(o-i)/2:"end"===c?o-i-s[1]:s[3]:f="middle"===c?(a-r)/2:"end"===c?a-r-s[2]:s[0],this.legendComponent.setAttributes({dx:d,dy:f,x:l,y:u}),"left"===this.orient?(this.table.tableNoFrameWidth=this.table.tableNoFrameWidth-Math.ceil(i),this.table.tableX+=Math.ceil(i)):"top"===this.orient?(this.table.tableNoFrameHeight=this.table.tableNoFrameHeight-Math.ceil(r),this.table.tableY+=Math.ceil(r)):"right"===this.orient?this.table.tableNoFrameWidth=this.table.tableNoFrameWidth-Math.ceil(i):"bottom"===this.orient&&(this.table.tableNoFrameHeight=this.table.tableNoFrameHeight-Math.ceil(r))}getLegendAttributes(t){const e="bottom"===this.orient||"top"===this.orient?"horizontal":"vertical",n="horizontal"===e?"bottom":this.orient;return Object.assign(Object.assign({},function(t,e){const n=(0,a.Z)({},("color"===t.type?Ji:Qi)["bottom"===t.orient||"top"===t.orient?"horizontal":"vertical"],t),{title:i={},handler:r={},rail:o={},track:s={},startText:l,endText:u,handlerText:c,sizeBackground:d,background:f={},type:p,id:g,visible:v,orient:y,position:b,data:w,defaultSelected:x,field:_,filter:C,regionId:S,regionIndex:M,seriesIndex:A,seriesId:T,padding:k}=n,R=Yi(n,["title","handler","rail","track","startText","endText","handlerText","sizeBackground","background","type","id","visible","orient","position","data","defaultSelected","field","filter","regionId","regionIndex","seriesIndex","seriesId","padding"]);return i.visible&&(R.title=(0,ri.qi)(i)),R.showHandler=!1!==r.visible,(0,h.Z)(r.style)||(R.handlerStyle=(0,ri.h_)(r.style)),(0,m.Z)(o.width)&&(R.railWidth=o.width),(0,m.Z)(o.height)&&(R.railHeight=o.height),(0,h.Z)(o.style)||(R.railStyle=(0,ri.h_)(o.style)),(0,h.Z)(s.style)||(R.trackStyle=(0,ri.h_)(s.style)),R.startText=(0,ri.ro)(l),R.endText=(0,ri.ro)(u),R.handlerText=(0,ri.ro)(c),(0,h.Z)(d)||(R.sizeBackground=(0,ri.h_)(d)),f.visible&&!(0,h.Z)(f.style)&&((0,a.Z)(R,f.style),(0,m.Z)(f.padding)&&(R.padding=f.padding)),R}(this.option)),{layout:e,align:n,min:this.option.min,max:this.option.max,value:this.option.value,["color"===this.option.type?"colors":"sizeRange"]:"color"===this.option.type?this.option.colors:this.option.sizeRange})}initEvent(){this.legendComponent&&this.legendComponent.addEventListener("change",(t=>{const e=f(t,"detail.value");this.table.fireListeners(si.B.LEGEND_CHANGE,{model:this,value:e,event:t}),this.table.scenegraph.updateNextFrame()}))}getLegendBounds(){return{width:isFinite(this.legendComponent.AABBBounds.width())?this.legendComponent.AABBBounds.width():0,height:isFinite(this.legendComponent.AABBBounds.height())?this.legendComponent.AABBBounds.height():0}}release(){this.legendComponent&&this.table.scenegraph.stage.defaultLayer.removeChild(this.legendComponent),this.legendComponent=null}}function er(t,e){return"color"===t.type||"size"===t.type?new tr(t,e):new ui(t,e)}class nr{constructor(t){this._table=t}release(){this.unbindMenuElement(),this._menuElement&&this._menuElement.release(),this._menuElement=void 0}_getMenuElement(){return this._menuElement||(this._menuElement=this.createMenuElementInternal()),this._menuElement}bindMenuElement(t,e,n){return this._getMenuElement().bindToCell(this._table,t,e,n)}unbindMenuElement(){this._getMenuElement().unbindFromCell()}pointInMenuElement(t,e){return this._getMenuElement().pointInMenuElement(t,e)}getRootElement(){return this._getMenuElement().rootElement}}var ir=n(81015),rr=n(89666);const or="vtable__menu-element",ar=`${or}--hidden`,sr=`${or}--shown`;class lr{constructor(t){var e,n,i;this._handler=new ir.b,this._rootElement=(0,rr.a)("div",[or,ar]),this._rootElement.addEventListener("wheel",(t=>{t.stopPropagation()})),null===(e=this._rootElement)||void 0===e||e.addEventListener("mousedown",(t=>{t.stopPropagation(),t.preventDefault()})),null===(n=this._rootElement)||void 0===n||n.addEventListener("click",(e=>{if(e.stopPropagation(),e.preventDefault(),this._rootElement.classList.contains(ar))return;const{col:n,row:i,dropDownIndex:r,menuKey:o,text:a,hasChildren:s}=e.target;if("number"!=typeof r||s)return void e.stopPropagation();const l=t.isPivotTable()?t.internalProps.layoutMap.getPivotDimensionInfo(n,i):t.getHeaderField(n,i),u=t._dropDownMenuIsHighlight(n,i,r);t.fireListeners(si.B.DROPDOWN_MENU_CLICK,{col:n,row:i,field:l,menuKey:o,text:a,highlight:u,cellLocation:t.getCellLocation(n,i),event:e}),t.fireListeners(si.B.DROPDOWN_MENU_CLEAR,null),t.fireListeners(si.B.HIDE_MENU,null),e.stopPropagation()})),null===(i=this._rootElement)||void 0===i||i.addEventListener("mousemove",(t=>{this._rootElement.classList.contains(ar)||t.stopPropagation()}))}get rootElement(){return this._rootElement}release(){this.unbindFromCell();const t=this._rootElement;(null==t?void 0:t.parentElement)&&t.parentElement.removeChild(t),this._handler.release(),delete this._rootElement}bindToCell(t,e,n,i){const r=this._rootElement;if(this._menuInstanceInfo=i,null==r||r.classList.remove(sr),null==r||r.classList.add(ar),this._canBindToCell(t,e,n)){if(r.innerHTML="",r.appendChild(i.content),this._bindCell(t,e,n,i.position,i.referencePosition))return null==r||r.classList.add(sr),null==r||r.classList.remove(ar),!0}else this.unbindFromCell();return!1}unbindFromCell(){const t=this._rootElement;this._menuInstanceInfo=void 0,(null==t?void 0:t.parentElement)&&(t.classList.remove(sr),t.classList.add(ar))}_canBindToCell(t,e,n){var i;const r=t.getCellRangeRelativeRect({col:e,row:n}),o=null!==(i=t.internalProps.menu.parentElement)&&void 0!==i?i:t.getElement(),{top:a,bottom:s,left:l,right:u}=r;if(t.isFrozenCell(e,n))return!0;if(s<t.getFrozenRowsHeight()||u<t.getFrozenColsWidth()||l>t.tableNoFrameWidth-t.getRightFrozenColsWidth()||a>t.tableNoFrameHeight-t.getBottomFrozenRowsHeight())return!1;const{offsetHeight:h,offsetWidth:c}=o;return!(h<a||c<l)}_bindCell(t,e,n,i,r){var o;const a=this._rootElement,s=null!==(o=t.internalProps.menu.parentElement)&&void 0!==o?o:t.getElement(),{width:l,height:u,left:h,top:c}=s.getBoundingClientRect();if(a){a.parentElement!==s&&s.appendChild(a),a.style.left="0px";const e=.8*l;a.style.maxWidth=`${e}px`;const n=a.clientWidth,o=a.clientHeight;let d,f;i&&(d=i.x,f=i.y),r&&(d=r.rect.right-n,f=r.rect.bottom),f+o>u&&(f=u-o,d+=n-2),f<0&&(f/=2);let p=0,g=0;if(t.getElement()!==s){const{left:e,top:n}=t.getElement().getBoundingClientRect();p=n-c,g=e-h}return a.style.top=`${f+p}px`,d<0?d=0:d+n>l&&(d=l-n),a.style.left=`${d+g}px`,!0}return!1}pointInMenuElement(t,e){const n=this._rootElement,{x:i,y:r,width:o,height:a}=n.getBoundingClientRect();return t>i-5&&t<i+o+5&&e>r-5&&e<r+a+5}}var ur=n(46782);class hr extends nr{createMenuElementInternal(){return new ur.F(this._table)}}class cr extends nr{createMenuElementInternal(){return new lr(this._table)}}var dr=n(95170);const fr={"dropdown-menu":function(t){return new hr(t)},"context-menu":function(t){return new hr(t)},container:t=>new cr(t)};class pr{constructor(t){this._table=t,this._menuInstances={},this._bindTableEvent(t)}release(){const t=this._menuInstances;for(const e in t)t[e].release();delete this._menuInstances,this._attachInfo=null}_bindToCell(t,e,n,i){var r;const o=this._attachInfo,a=this._getMenuInstanceInfo(t,e,n,i);if(!o||a&&o.instance===a.instance||(null===(r=o.instance)||void 0===r||r.unbindMenuElement(),this._attachInfo=null),!a)return;const{instance:s,info:l}=a;if(s&&s.bindMenuElement(t,e,l)){const n=this._table.getCellRange(t,e);this._attachInfo={range:n,instance:s}}}_unbindFromCell(){const t=this._attachInfo;if(!t)return;const{instance:e}=t;null==e||e.unbindMenuElement(),this._attachInfo=null}_isBindToCell(t,e){const n=this._attachInfo;return!!n&&(0,dr._Z)(n.range,t,e)}pointInMenuElement(t,e){if(!this._attachInfo)return!1;const n=this._attachInfo,{instance:i}=n;return i.pointInMenuElement(t,e)}_bindTableEvent(t){t.on(si.B.DROPDOWN_ICON_CLICK,(t=>{this._attachInfo&&this._isBindToCell(t.col,t.row)?this._unbindFromCell():this._bindToCell(t.col,t.row,"dropdown-menu")})),t.on(si.B.DROPDOWN_MENU_CLEAR,(t=>{this._unbindFromCell()})),t.on(si.B.CONTEXTMENU_CELL,(e=>{var n,i,r,o;if("html"===(null===(n=t.internalProps.menu)||void 0===n?void 0:n.renderMode)){const n=t._getMouseAbstractPoint(e.event,!1);let a=null;n.inTable&&"function"==typeof(null===(i=t.internalProps.menu)||void 0===i?void 0:i.contextMenuItems)?a=t.internalProps.menu.contextMenuItems(t.getHeaderField(e.col,e.row),e.row,e.col,t):n.inTable&&Array.isArray(null===(r=t.internalProps.menu)||void 0===r?void 0:r.contextMenuItems)&&(a=null===(o=t.internalProps.menu)||void 0===o?void 0:o.contextMenuItems),this._bindToCell(e.col,e.row,"context-menu",{content:a,position:{x:n.x,y:n.y}})}}))}_getMenuInstanceInfo(t,e,n,i){const r=this._table,o=this._menuInstances,a=function(t,e,n,i,r){var o;const{lineHeight:a,textBaseline:s,textStick:l}=t._getCellStyle(e,n);let u=t.getCellRangeRelativeRect(t.getCellRange(e,n));l&&(u=t.getVisibleCellRangeRelativeRect({col:e,row:n}));let{left:h,right:c,bottom:d,top:f,width:p,height:g}=u;if(t.isHeader(e,n)&&({left:h,right:c,bottom:d,top:f,width:p,height:g}=t.internalProps.headerHelper.getDropDownIconRect(u,a,s||"middle")),null==r?void 0:r.content)return{type:i,position:r.position,referencePosition:null!==(o=r.referencePosition)&&void 0!==o?o:{rect:{left:h,right:c,top:f,bottom:d,width:p,height:g}},content:r.content};if("dropdown-menu"===i){const{dropDownMenu:r=t.globalDropDownMenu,pivotInfo:o}=t._getHeaderLayoutMap(e,n);return{type:i,referencePosition:{rect:{left:h,right:c,top:f,bottom:d,width:p,height:g}},content:r,pivotInfo:o}}return null}(r,t,e,n,i);return a?{instance:o&&o[n]||o&&(o[n]=fr[n](r)),type:n,info:a}:null}containElement(t){var e;for(const n in this._menuInstances)if(null===(e=this._menuInstances[n].getRootElement())||void 0===e?void 0:e.contains(t))return!0;return!1}}(0,_.M)(),(0,ee.g)(),(0,te.v)();class gr extends x.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,a.Z)({},gr.defaultAttributes,t)),this.name="title"}render(){var t,e,n,i,r,o,a,s,l,u,h,c,d,f,p,g,y,b,x;const{textType:_,text:C,subtextType:S,textStyle:M={},subtext:A,subtextStyle:T={},width:k,height:R,minWidth:I,maxWidth:P,minHeight:E,maxHeight:B,align:L,verticalAlign:D,padding:O=0}=this.attribute,F=(0,v.o)(O),H=this.createOrUpdateChild("title-container",{x:F[3],y:F[0],zIndex:1},"group"),N=null!==(t=M.height)&&void 0!==t?t:R;if(!1!==this.attribute.visible&&!1!==M.visible){const{width:t,maxHeight:s,maxWidth:l,x:u=0,y:h=0,ellipsis:c=!0,wordBreak:d="break-word",maxWidth:f,lineClamp:p}=M;if("rich"===_||(0,m.Z)(M.character)){const i=Object.assign({x:u,y:h,width:null!==(e=null!=t?t:k)&&void 0!==e?e:0,height:null!=N?N:0,ellipsis:null==c||c,wordBreak:null!=d?d:"break-word",maxHeight:null!=s?s:B,maxWidth:null!=l?l:f,textConfig:null!==(n=M.character)&&void 0!==n?n:C},M);this._mainTitle=H.createOrUpdateChild("mainTitle",i,"richtext")}else if("html"===_){const e=Object.assign({html:Object.assign(Object.assign({dom:C},kt.Ze),M),x:u,y:h,width:null!==(i=null!=t?t:k)&&void 0!==i?i:0,height:null!=N?N:0,ellipsis:c,wordBreak:d,maxHeight:null!=s?s:B,maxWidth:null!=l?l:f,textConfig:[]},M);this._mainTitle=H.createOrUpdateChild("mainTitle",e,"richtext")}else(0,m.Z)(C)&&(this._mainTitle=H.createOrUpdateChild("mainTitle",Object.assign(Object.assign({text:(0,w.Z)(C)?C:[C],whiteSpace:"normal"},M),{maxLineWidth:null!==(o=null!==(r=M.maxLineWidth)&&void 0!==r?r:t)&&void 0!==o?o:k,heightLimit:null!==(a=M.height)&&void 0!==a?a:B,lineClamp:p,ellipsis:c,x:u,y:h}),"text"))}const z=this._mainTitle?this._mainTitle.AABBBounds.height():0,W=this._mainTitle?this._mainTitle.AABBBounds.width():0;if(!1!==this.attribute.visible&&!1!==T.visible){const{width:t,height:e,maxWidth:n,maxHeight:i,x:r=0,y:o=0,ellipsis:a=!0,wordBreak:p="break-word",lineClamp:g}=T,v=Math.max(Number.MIN_VALUE,B-z);if("rich"===S||(0,m.Z)(T.character)){const h=Object.assign({x:r,y:o,width:null!==(s=null!=t?t:k)&&void 0!==s?s:0,height:null!==(l=null!=e?e:R)&&void 0!==l?l:0,ellipsis:a,wordBreak:p,maxHeight:null!=i?i:v,maxWidth:null!=n?n:P,textConfig:null!==(u=T.character)&&void 0!==u?u:A},T);this._subTitle=H.createOrUpdateChild("subTitle",h,"richtext")}else if("html"===S){const s=Object.assign({html:Object.assign(Object.assign({dom:A},kt.Ze),T),x:r,y:o,width:null!==(h=null!=t?t:k)&&void 0!==h?h:0,height:null!==(c=null!=e?e:R)&&void 0!==c?c:0,ellipsis:a,wordBreak:p,maxHeight:null!=i?i:v,maxWidth:null!=n?n:P,textConfig:[]},T);this._subTitle=H.createOrUpdateChild("subTitle",s,"richtext")}else(0,m.Z)(A)&&(this._subTitle=H.createOrUpdateChild("subTitle",Object.assign(Object.assign({text:(0,w.Z)(A)?A:[A],whiteSpace:"normal"},T),{maxLineWidth:null!==(d=T.maxLineWidth)&&void 0!==d?d:k,heightLimit:null!==(f=T.heightLimit)&&void 0!==f?f:v,lineClamp:g,ellipsis:a,x:0,y:z}),"text"))}const j=this._subTitle?this._subTitle.AABBBounds.height():0,V=this._subTitle?this._subTitle.AABBBounds.width():0;let G=Math.max(W,V),Z=z+(null!==(p=T.height)&&void 0!==p?p:j);if((0,m.Z)(k)&&(G=k),(0,m.Z)(R)&&(Z=R),(0,m.Z)(I)&&G<I&&(G=I),(0,m.Z)(P)&&G>P&&(G=P),(0,m.Z)(E)&&Z<E&&(Z=E),(0,m.Z)(B)&&Z>B&&(Z=B),H.attribute.width=G,H.attribute.height=Z,H.attribute.boundsPadding=F,this._mainTitle){if((0,m.Z)(L)||(0,m.Z)(M.align)){const t=M.align?M.align:L,e=null!==(g=M.width)&&void 0!==g?g:G;"center"===t?(this._mainTitle.setAttribute("x",e/2),this._mainTitle.setAttribute("textAlign","center")):"right"===t?(this._mainTitle.setAttribute("x",e),this._mainTitle.setAttribute("textAlign","right")):(this._mainTitle.setAttribute("x",0),this._mainTitle.setAttribute("textAlign","left"))}if((0,m.Z)(D)||(0,m.Z)(M.verticalAlign)){const t=M.verticalAlign?M.verticalAlign:D;"middle"===t&&(0,m.Z)(N)?(this._mainTitle.setAttribute("y",N/2),this._mainTitle.setAttribute("textBaseline","middle")):"bottom"===t&&(0,m.Z)(N)?(this._mainTitle.setAttribute("y",N),this._mainTitle.setAttribute("textBaseline","bottom")):(this._mainTitle.setAttribute("y",0),this._mainTitle.setAttribute("textBaseline","top"))}}if(this._subTitle){if((0,m.Z)(L)||(0,m.Z)(T.align)){const t=T.align?T.align:L,e=null!==(b=null!==(y=T.width)&&void 0!==y?y:M.width)&&void 0!==b?b:G;"center"===t?(this._subTitle.setAttribute("x",e/2),this._subTitle.setAttribute("textAlign","center")):"right"===t?(this._subTitle.setAttribute("x",e),this._subTitle.setAttribute("textAlign","right")):(this._subTitle.setAttribute("x",0),this._subTitle.setAttribute("textAlign","left"))}if((0,m.Z)(D)||(0,m.Z)(M.verticalAlign)){const t=T.verticalAlign?T.verticalAlign:D,e=this._mainTitle?(0,m.Z)(N)?this._mainTitle.AABBBounds.y1+Math.max(this._mainTitle.AABBBounds.height(),N):this._mainTitle.AABBBounds.y2:0,n=null!==(x=T.height)&&void 0!==x?x:R;"middle"===t&&(0,m.Z)(n)?(this._subTitle.setAttribute("y",e+n/2),this._subTitle.setAttribute("textBaseline","middle")):"bottom"===t&&(0,m.Z)(n)?(this._subTitle.setAttribute("y",e+n),this._subTitle.setAttribute("textBaseline","bottom")):(this._subTitle.setAttribute("y",e),this._subTitle.setAttribute("textBaseline","top"))}}}}gr.defaultAttributes={textStyle:{ellipsis:"...",fill:"#333",fontSize:20,fontWeight:"bold",textAlign:"left",textBaseline:"top"},subtextStyle:{ellipsis:"...",fill:"#6F6F6F",fontSize:16,fontWeight:"normal",textAlign:"left",textBaseline:"top"}};class mr{constructor(t,e){this.isReleased=!1,this.table=e,this._titleOption=(0,a.Z)({orient:"top"},t),!1!==t.visible&&(this._titleComponent=this._createOrUpdateTitleComponent(this._getTitleAttrs()))}_createOrUpdateTitleComponent(t){if(this._titleComponent)(0,an.X)(t,this._cacheAttrs)||this._titleComponent.setAttributes(t);else{const e=new gr(t);e.name="title",this.table.scenegraph.stage.defaultLayer.appendChild(e),this._titleComponent=e}return this._adjustTableSize(this._titleComponent.attribute),this._titleComponent}resize(){var t,e,n,i,r;if(!this._titleComponent)return;const o=(0,li.u)(null!==(t=this._titleOption.padding)&&void 0!==t?t:10),a=null!==(e=this._titleOption.width)&&void 0!==e?e:("adaptive"===this.table.widthMode?this.table.tableNoFrameWidth:Math.min(this.table.tableNoFrameWidth,this.table.getDrawRange().width))-o[1]-o[3],s=null!==(n=this._titleOption.height)&&void 0!==n?n:("adaptive"===this.table.heightMode?this.table.tableNoFrameHeight:Math.min(this.table.tableNoFrameHeight,this.table.getDrawRange().height))-o[0]-o[2];this._titleComponent.setAttributes({x:(null!==(i=this._titleOption.x)&&void 0!==i?i:"right"===this._titleOption.orient)?this.table.tableX+Math.min(this.table.tableNoFrameWidth,this.table.getDrawRange().width):this.table.tableX,y:(null!==(r=this._titleOption.y)&&void 0!==r?r:"bottom"===this._titleOption.orient)?this.table.tableY+this.table.tableNoFrameHeight:this.table.tableY,width:"top"===this._titleOption.orient||"bottom"===this._titleOption.orient?a:this._titleOption.width,height:"left"===this._titleOption.orient||"right"===this._titleOption.orient?s:this._titleOption.height,textStyle:Object.assign({width:a},this._titleOption.textStyle),subtextStyle:Object.assign({width:a},this._titleOption.subtextStyle)}),this._adjustTableSize(this._titleComponent.attribute)}_adjustTableSize(t){var e,n,i,r;const o=isFinite(null===(e=this._titleComponent)||void 0===e?void 0:e.AABBBounds.width())?this._titleComponent.AABBBounds.width():0,a=isFinite(null===(n=this._titleComponent)||void 0===n?void 0:n.AABBBounds.height())?this._titleComponent.AABBBounds.height():0;"left"===this._titleOption.orient?(this.table.tableNoFrameWidth=this.table.tableNoFrameWidth-Math.ceil(o),this.table.tableX+=Math.ceil(o)):"top"===this._titleOption.orient?(this.table.tableNoFrameHeight=this.table.tableNoFrameHeight-Math.ceil(a),this.table.tableY+=Math.ceil(a)):"right"===this._titleOption.orient?this.table.tableNoFrameWidth=this.table.tableNoFrameWidth-Math.ceil(o):"bottom"===this._titleOption.orient&&(this.table.tableNoFrameHeight=this.table.tableNoFrameHeight-Math.ceil(a)),this._cacheAttrs=t,"right"!==this._titleOption.orient&&"bottom"!==this._titleOption.orient||this._titleComponent.setAttributes({x:(null!==(i=this._titleOption.x)&&void 0!==i?i:"right"===this._titleOption.orient)?this.table.tableX+this.table.tableNoFrameWidth:this.table.tableX,y:(null!==(r=this._titleOption.y)&&void 0!==r?r:"bottom"===this._titleOption.orient)?this.table.tableY+this.table.tableNoFrameHeight:this.table.tableY})}release(){this._titleComponent&&this.table.scenegraph.stage.defaultLayer.removeChild(this._titleComponent),this._titleComponent=null,this.isReleased=!0}_getTitleAttrs(){var t,e,n,i,r,o,a,s,l,u,h;const c=this._titleOption.text||this._titleOption.subtext?10:0,d=(0,li.u)(null!==(t=this._titleOption.padding)&&void 0!==t?t:c),f=null!==(e=this._titleOption.width)&&void 0!==e?e:Math.min(this.table.tableNoFrameWidth,this.table.getDrawRange().width)-d[1]-d[3],p=null!==(n=this._titleOption.height)&&void 0!==n?n:Math.min(this.table.tableNoFrameHeight,this.table.getDrawRange().height)-d[0]-d[2];return{text:null!==(i=this._titleOption.text)&&void 0!==i?i:"",subtext:null!==(r=this._titleOption.subtext)&&void 0!==r?r:"",x:(null!==(o=this._titleOption.x)&&void 0!==o?o:"right"===this._titleOption.orient)?this.table.tableX+Math.min(this.table.tableNoFrameWidth,this.table.getDrawRange().width):this.table.tableX,y:(null!==(a=this._titleOption.y)&&void 0!==a?a:"bottom"===this._titleOption.orient)?this.table.tableY+this.table.tableNoFrameHeight:this.table.tableY,width:"top"===this._titleOption.orient||"bottom"===this._titleOption.orient?f:this._titleOption.width,height:"left"===this._titleOption.orient||"right"===this._titleOption.orient?p:this._titleOption.height,minWidth:this._titleOption.minWidth,maxWidth:this._titleOption.maxWidth,minHeight:this._titleOption.minHeight,maxHeight:this._titleOption.maxHeight,padding:this._titleOption.padding,align:null!==(s=this._titleOption.align)&&void 0!==s?s:"left",verticalAlign:null!==(l=this._titleOption.verticalAlign)&&void 0!==l?l:"top",textStyle:Object.assign({width:f},this._titleOption.textStyle),subtextStyle:Object.assign({width:f},this._titleOption.subtextStyle),dx:null!==(u=this._titleOption.dx)&&void 0!==u?u:0,dy:null!==(h=this._titleOption.dy)&&void 0!==h?h:0}}getComponentGraphic(){return this._titleComponent}}class vr{constructor(t){this._table=t}release(){var t,e;this.unbindTooltipElement(),this._tooltipElement&&(null===(e=(t=this._tooltipElement).release)||void 0===e||e.call(t)),this._tooltipElement=void 0}_getTooltipElement(){return this._tooltipElement||(this._tooltipElement=this.createTooltipElementInternal()),this._tooltipElement}bindTooltipElement(t,e,n,i){return this._getTooltipElement().bindToCell(this._table,t,e,n,i)}moveTooltipElement(t,e,n,i){this._getTooltipElement().move(this._table,t,e,n,i)}unbindTooltipElement(){this._getTooltipElement().unbindFromCell()}locateTooltipElement(t,e,n,i,r){this._getTooltipElement()._locate(this._table,t,e,n,i,r)}}var yr=n(86036),br=n(74910);var wr=n(51917);!function(){if("node"===br.X.mode)return;const t=document.createElement("style");t.id="vtable-tooltip-styleSheet",t.textContent="\n@keyframes vtable__bubble-tooltip-element--shown-animation {\n\t0% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n.vtable__bubble-tooltip-element {\n\tposition: absolute;\n\t\n\t// pointer-events: none;\n\t//user-select: none;\n\tmax-width: 300px;\n\tz-index: 99999;\n\n\tbackground: #FFFFFF;\n    border: 1px solid #E6E8ED;\n    box-sizing: border-box;\n    border-radius: 4px;\n    box-shadow: 0px 2px 4px rgb(27 31 35 / 8%);\n    color: #141414;\n    font-size: 13px;\n}\n.vtable__bubble-tooltip-element--hidden {\n\topacity: 0;\n  pointer-events: none;\n\tuser-select: none;\n\t/* transform: translate(-50%, -50%); */\n\ttransition: opacity 75ms linear;\n}\n.vtable__bubble-tooltip-element--shown {\n\topacity: 1;\n\t/* transform: translate(-50%, -50%); */\n\tanimation: vtable__bubble-tooltip-element--shown-animation 150ms ease-out;\n}\n.vtable__bubble-tooltip-element__content {\n\t/* font-size: .75rem; */\n\tpadding: 6px 8px;\n\tmin-height: 1em;\n\tline-height: 1.5;\n\twidth: 100%;\n\tdisplay: block;\n\twhite-space: pre-wrap;\n\tmargin: 0;\n\tbox-sizing: border-box;\n\toverflow: auto;\n\tword-wrap: break-word;\n\tposition: relative;\n\tbackground-color: #FFF;\n\tz-index: 2;\n\tborder-radius: 4px;\n}\n/*  WebKit Microsoft Edge */\n.vtable__bubble-tooltip-element__content::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n  background-color: transparent;\n}\n/*  Opera Firefox  */\n.vtable__bubble-tooltip-element__content > scrollbar-track {\n  width: 0;\n  height: 0;\n  background-color: transparent;\n}\n/* Internet Explorer 11  Microsoft Edge */\n.vtable__bubble-tooltip-element__content > scrollbar {\n  width: 0;\n  height: 0;\n  background-color: transparent;\n}\n.vtable__bubble-tooltip-element__triangle {\n\t/* font-size: .75rem; */\n\tposition: absolute;\n\twidth: 10px;\n\theight: 10px;\n\tdisplay: block;\n\ttransform: rotate(45deg);\n    transform-origin: 50% 50% 0;\n\tz-index: 1;\n\tbackground-color: #FFF;\n\tborder: 1px solid #E6E8ED;\n}\n",document.head.appendChild(t)}();const xr="vtable__bubble-tooltip-element",_r=`${xr}__content`,Cr=`${xr}__triangle`,Sr=`${xr}--hidden`,Mr=`${xr}--shown`;class Ar{constructor(){this._handler=new ir.b;const t=this._rootElement=(0,rr.a)("div",[xr,Sr]),e=(0,rr.a)("div",[_r]),n=(0,rr.a)("span",[Cr]);t.appendChild(n),t.appendChild(e),this._messageElement=t.querySelector(`.${_r}`)||void 0,this._triangleElement=t.querySelector(`.${Cr}`)||void 0,t.addEventListener("mousemove",(()=>{this._disappearDelayId&&clearTimeout(this._disappearDelayId)})),t.addEventListener("mouseleave",(()=>{this._disappearDelay=void 0,this.unbindFromCell()})),e.addEventListener("wheel",(t=>{t.stopPropagation()})),e.addEventListener("copy",(t=>{(0,wr.Ed)(e)&&t.stopPropagation()}))}bindToCell(t,e,n,i,r){var o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C;this._disappearDelay=null==i?void 0:i.disappearDelay,this._disappearDelayId&&clearTimeout(this._disappearDelayId);const S=this._rootElement,M=this._messageElement,A=this._triangleElement;if(null==S||S.classList.remove(Mr),null==S||S.classList.add(Sr),this._canBindToCell(t,e,n)){if(M.setAttribute("style",""),A.setAttribute("style",""),(null==i?void 0:i.className)&&S.classList.add(i.className),(null===(o=null==i?void 0:i.style)||void 0===o?void 0:o.bgColor)&&(M.style.backgroundColor=null===(a=null==i?void 0:i.style)||void 0===a?void 0:a.bgColor),(null===(s=null==i?void 0:i.style)||void 0===s?void 0:s.bgColor)&&(A.style.backgroundColor=null===(l=null==i?void 0:i.style)||void 0===l?void 0:l.bgColor),A.style.display=!0===(null===(u=null==i?void 0:i.style)||void 0===u?void 0:u.arrowMark)?"block":"none",(null===(h=null==i?void 0:i.style)||void 0===h?void 0:h.fontSize)&&(M.style.fontSize=(null!==(d=null===(c=null==i?void 0:i.style)||void 0===c?void 0:c.fontSize)&&void 0!==d?d:12)+"px"),(null===(f=null==i?void 0:i.style)||void 0===f?void 0:f.fontFamily)&&(M.style.fontFamily=null===(p=null==i?void 0:i.style)||void 0===p?void 0:p.fontFamily),(null===(g=null==i?void 0:i.style)||void 0===g?void 0:g.color)&&(M.style.color=null===(m=null==i?void 0:i.style)||void 0===m?void 0:m.color),(null===(v=null==i?void 0:i.style)||void 0===v?void 0:v.padding)&&(M.style.padding=`${null===(y=null==i?void 0:i.style)||void 0===y?void 0:y.padding.join("px ")}px`),(null===(b=null==i?void 0:i.style)||void 0===b?void 0:b.maxHeight)&&(M.style.maxHeight=`${null===(w=null==i?void 0:i.style)||void 0===w?void 0:w.maxHeight}px`),(null===(x=null==i?void 0:i.style)||void 0===x?void 0:x.maxWidth)&&(M.style.maxWidth=`${null===(_=null==i?void 0:i.style)||void 0===_?void 0:_.maxWidth}px`),M&&(M.textContent=null==i?void 0:i.content),this._bindToCell(t,e,n,null==i?void 0:i.position,null==i?void 0:i.referencePosition,r,null===(C=null==i?void 0:i.style)||void 0===C?void 0:C.arrowMark))return null==S||S.classList.add(Mr),null==S||S.classList.remove(Sr),!0}else this.unbindFromCell();return!1}release(){var t,e;this.unbindFromCell();const n=this._rootElement;(null==n?void 0:n.parentElement)&&n.parentElement.removeChild(n),null===(e=null===(t=this._handler)||void 0===t?void 0:t.release)||void 0===e||e.call(t),delete this._rootElement,delete this._messageElement}move(t,e,n,i,r){const o=this._rootElement;this._canBindToCell(t,e,n)?(this._bindToCell(t,e,n,null==i?void 0:i.position,null==i?void 0:i.referencePosition,r),null==o||o.classList.add(Mr),null==o||o.classList.remove(Sr)):this.unbindFromCell()}unbindFromCell(){var t;if(this._disappearDelay)this._disappearDelayId=setTimeout((()=>{const t=this._rootElement;(null==t?void 0:t.parentElement)&&(t.classList.remove(Mr),t.classList.add(Sr))}),null!==(t=this._disappearDelay)&&void 0!==t?t:0);else{const t=this._rootElement;(null==t?void 0:t.parentElement)&&(t.classList.remove(Mr),t.classList.add(Sr))}}_canBindToCell(t,e,n){const i=t.getCellRangeRelativeRect({col:e,row:n}),r=t.getElement(),{bottom:o,left:a,right:s,top:l}=i;if(t.isFrozenCell(e,n))return!0;if(o<t.getFrozenRowsHeight()||s<t.getFrozenColsWidth()||a>t.tableNoFrameWidth-t.getRightFrozenColsWidth()||l>t.tableNoFrameHeight-t.getBottomFrozenRowsHeight())return!1;const{offsetHeight:u,offsetWidth:h}=r;return!(l>u||a>h)}_bindToCell(t,e,n,i,r,o,a){const s=this._rootElement,l=t.getCellRangeRelativeRect({col:e,row:n}),u=t.internalProps.tooltip.parentElement,h=t.internalProps.element.offsetWidth,{width:c}=l;if(s){let l,d;s.parentElement!==u&&u.appendChild(s),s.style.left="0px";const f=Math.min(.8*h,4*c);s.style.maxWidth=`${f}px`;const p=s.clientWidth,g=s.clientHeight;if(!i&&!r)return!1;{const s=this.getComputedPosition(t,e,n,i,r,o,a);d=s.x,l=s.y}s.style.left=`${d}px`,s.style.top=`${l}px`,(0,wr.tq)()&&(s.style.fontSize="11px");const{x1:m,x2:v,y1:y,y2:b}=t.stateManager.menu.bounds,w=d,x=w+p,_=l,C=w+g;return!(t.stateManager.menu.isShow&&m<x&&v>w&&b>_&&y<C)}return!1}getComputedPosition(t,e,n,i,r,o,a){var s;const l=this._rootElement,u=t.getCellRangeRelativeRect({col:e,row:n}),{x:h,y:c}=t.internalProps.tooltip.parentElement.getBoundingClientRect(),{width:d,height:f,x:p,y:g}=t.internalProps.element.getBoundingClientRect(),{width:m}=u;let v,y;const b=Math.min(.8*d,4*m);l.style.maxWidth=`${b}px`;const w=l.clientWidth,x=l.clientHeight,_=a?6:0;if(i)y=i.x,v=i.y+_,this._triangleElement.style.left="50%",this._triangleElement.style.marginLeft="-5px",this._triangleElement.style.top="-5px";else if(r){let t=null!==(s=r.placement)&&void 0!==s?s:yr.u.bottom;const e=r.rect.left+r.rect.width/2,n=r.rect.top+r.rect.height/2,i=r.rect.top,a=r.rect.bottom,l=r.rect.left,u=r.rect.right;let h=0;const c=()=>{h++,h>=4||(this.removeStyleFromTriangle(),t===yr.u.top?(y=e-w/2,v=i-x-_,this._triangleElement.style.left="50%",this._triangleElement.style.marginLeft="-5px",this._triangleElement.style.bottom="-5px",o&&v<0&&(t=yr.u.right,c())):t===yr.u.bottom?(y=e-w/2,v=a+_,this._triangleElement.style.left="50%",this._triangleElement.style.marginLeft="-5px",this._triangleElement.style.top="-5px",o&&v+x>f&&(t=yr.u.left,c())):t===yr.u.left?(v=n-x/2,y=l-w-_,this._triangleElement.style.top="50%",this._triangleElement.style.marginTop="-5px",this._triangleElement.style.right="-5px",o&&y<0&&(t=yr.u.top,c())):t===yr.u.right&&(v=n-x/2,y=u+_,this._triangleElement.style.top="50%",this._triangleElement.style.marginTop="-5px",this._triangleElement.style.left="-5px",o&&y+w>d&&(t=yr.u.bottom,c())))};c()}return o&&(y<0?y=0:y+l.offsetWidth>d&&(y=d-l.offsetWidth)),{x:y+p-h,y:v+g-c}}removeStyleFromTriangle(){this._triangleElement.style.left="",this._triangleElement.style.right="",this._triangleElement.style.top="",this._triangleElement.style.bottom="",this._triangleElement.style.marginLeft="",this._triangleElement.style.marginTop=""}_locate(t,e,n,i,r,o){const a=this.getComputedPosition(t,e,n,i,r,o),s=a.x,l=a.y;this._rootElement.style.left=`${s}px`,this._rootElement.style.top=`${l}px`}}class Tr extends vr{createTooltipElementInternal(){return new Ar}}const kr=function(t){return new Tr(t)};class Rr{constructor(t,e){this._table=t,this._tooltipInstances={},this._bindTableEvent(t),this.confine=e}release(){var t,e;const n=this._tooltipInstances;for(const i in n)null===(e=null===(t=n[i])||void 0===t?void 0:t.release)||void 0===e||e.call(t);delete this._tooltipInstances,this._attachInfo=null}_bindToCell(t,e,n){var i;const r=this._attachInfo,o=this._getTooltipInstanceInfo(t,e);if(!r||o&&r.instance===o||(null===(i=r.instance)||void 0===i||i.unbindTooltipElement(),this._attachInfo=null),o&&o&&o.bindTooltipElement(t,e,n,this.confine)){const i=this._table.getCellRange(t,e);this._attachInfo={range:i,instance:o,tooltipOptions:n}}}_move(t,e,n){const i=this._attachInfo;if(!i||!(0,dr._Z)(i.range,t,e))return;const{instance:r}=i;null==r||r.moveTooltipElement(t,e,n,this.confine)}moveToPosition(t,e,n,i){const r=this._attachInfo;if(!r||!(0,dr._Z)(r.range,t,e))return;const{instance:o}=r;this._attachInfo.tooltipOptions.position=n,this._attachInfo.tooltipOptions.referencePosition=i,null==o||o.locateTooltipElement(t,e,n,i,this.confine)}_unbindFromCell(){const t=this._attachInfo;if(!t)return;const{instance:e}=t;null==e||e.unbindTooltipElement(),this._attachInfo=null}_isBindCell(t,e){const n=this._attachInfo;return!!n&&(0,dr._Z)(n.range,t,e)}_bindTableEvent(t){t.on(si.B.MOUSEENTER_CELL,(e=>{if((0,wr.tq)())return;const{x1:n,x2:i,y1:r,y2:o}=t.stateManager.menu.bounds;if(t.stateManager.menu.isShow&&"number"==typeof e.x&&"number"==typeof e.y&&e.x>n&&e.x<i&&e.y>r&&e.y<o)return;const{col:a,row:s}=e;this.showTooltip(a,s)})),t.on(si.B.MOUSEMOVE_CELL,(e=>{var n,i;if(!(0,wr.tq)()){if(null===(i=null===(n=this._attachInfo)||void 0===n?void 0:n.tooltipOptions)||void 0===i?void 0:i.referencePosition){const n=this._attachInfo.tooltipOptions.referencePosition,{event:i}=e,{left:r,right:o,top:a,bottom:s}=n.rect,l=t._getMouseAbstractPoint(i,!1);l.inTable&&l.x>=r-5&&l.x<=o+5&&l.y>=a-5&&l.y<=s+5||this._unbindFromCell()}this._attachInfo&&t.stateManager.menu.isShow&&this._bindToCell(e.col,e.row)}})),t.on(si.B.MOUSELEAVE_CELL,(t=>{this._unbindFromCell()})),t.on(si.B.SELECTED_CELL,(t=>{this._isBindCell(t.col,t.row)&&this._unbindFromCell()})),t.on(si.B.MOUSELEAVE_TABLE,(t=>{this._unbindFromCell()})),t.on(si.B.SCROLL,(t=>{this._unbindFromCell()}))}showTooltip(t,e){var n,i,r;let o;const a=this._table,s=a.getHeaderDescription(t,e);if(s){const i=a.getCellRangeRelativeRect({col:t,row:e});o={content:s,referencePosition:{placement:a.internalProps.tooltip.position,rect:i},disappearDelay:null!==(n=a.internalProps.tooltip.overflowTextTooltipDisappearDelay)&&void 0!==n?n:0,style:a.theme.tooltipStyle}}else if((0,g.Z)(null===(i=a.internalProps.tooltip)||void 0===i?void 0:i.isShowOverflowTextTooltip)?a.internalProps.tooltip.isShowOverflowTextTooltip(t,e,a):a.internalProps.tooltip.isShowOverflowTextTooltip){const n=a.getCellOverflowText(t,e),i=a.getCellRangeRelativeRect({col:t,row:e});n&&(o={content:s?`${s}\n  ${n}`:n,referencePosition:{placement:a.internalProps.tooltip.position,rect:i},disappearDelay:null!==(r=a.internalProps.tooltip.overflowTextTooltipDisappearDelay)&&void 0!==r?r:0,style:a.theme.tooltipStyle})}o?this._bindToCell(t,e,o):this._unbindFromCell()}_getTooltipInstanceInfo(t,e){const n=this._table,i=this._tooltipInstances;return i&&i["bubble-tooltip"]||i&&(i["bubble-tooltip"]=kr(n))}isBinded(t){var e;return JSON.stringify(t)===JSON.stringify(null===(e=this._attachInfo)||void 0===e?void 0:e.tooltipOptions)}}const Ir=()=>{r.F.registerComponent("axis",Xe),r.F.registerFunction("computeAxisComponentWidth",Ye),r.F.registerFunction("computeAxisComponentHeight",qe),r.F.registerFunction("getAxisConfigInPivotChart",o.hZ)},Pr=()=>{r.F.registerComponent("emptyTip",sn)},Er=()=>{r.F.registerFunction("createLegend",er)},Br=()=>{r.F.registerComponent("menuHandler",pr)},Lr=()=>{r.F.registerComponent("title",mr)},Dr=()=>{r.F.registerComponent("tooltipHandler",Rr)}},46782:function(t,e,n){"use strict";n.d(e,{F:function(){return M},o:function(){return S}});var i=n(81015),r=n(89666),o=n(74910);var a=n(6577),s=n(95170),l=n(70375),u=n(97176);!function(){if("node"===o.X.mode)return;const t=document.createElement("style");t.id="vtable-menu-styleSheet",t.textContent="\n@keyframes vtable__menu-element--shown-animation {\n\t0% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n.vtable__menu-element {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tborder-radius: 4px;\n\tbackground-color: #fff;\n\tpadding: 6px 0;\n\t/* pointer-events: none; */\n\tuser-select: none;\n\tcolor: #000;\n\tmax-width: 300px;\n\tz-index: 99999;\n\tborder: #CCC 0.5px solid;\n\tcursor: default;\n\twidth: max-content;\n\tbox-shadow: 0px 8px 16px rgba(27, 31, 35, 0.12);\n  max-height: 100%;\n  overflow-y: auto;\n}\n.vtable__menu-element--hidden {\n\topacity: 0;\n\t/* transform: translate(-50%, -50%); */\n\ttransition: opacity 75ms linear;\n\tz-index: -9999;\n}\n.vtable__menu-element--shown {\n\topacity: 1;\n\t/* transform: translate(-50%, -50%); */\n\tanimation: vtable__menu-element--shown-animation 150ms ease-out;\n}\n.vtable__menu-element__content {\n\tfont-family: Roboto;\n\tfont-size: 12px;\n\toverflow: hidden;\n\tdisplay: inline-block;\n\t/* height: 100%; */\n\tline-height: 30px;\n}\n.vtable__menu-element__item {\n\theight: 32px;\n\tpadding: 0px 12px;\n\tcursor: pointer;\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n}\n.vtable__menu-element__item:hover {\n\tbackground-color: rgba(27, 31, 35, 0.06);\n}\n.vtable__menu-element__icon{\n\t/* vertical-align: top; */\n\tdisplay: flex;\n\t/* line-height: 30px; */\n\tmargin-right: 6px;\n}\n.vtable__menu-element__no-event {\n\tpointer-events: none;\n}\n.vtable__menu-element--select {\n\tcolor: #2E68CF;\n}.vtable__menu-element--normal {\n\tcolor: rgba(20, 20, 20, 0.9);;\n}\n.vtable__menu-element__split {\n\theight: 0px;\n\tborder: 1px solid rgb(209, 213, 218);\n\tmargin: 5px 0;\n}\n.vtable__menu-element__title {\n\tcolor: rgb(149, 149, 149);\n}\n.vtable__menu-element__arrow {\n\tposition: absolute;\n\tright: 3px;\n\tfont-weight: bold;\n\tmargin-top: 1px;\n}\n.vtable__menu-element__item-text {\n\tmargin-right: 15px;\n}\n",document.head.appendChild(t)}();const h="vtable__menu-element",c=`${h}__item`,d=`${h}__content`,f=`${h}--hidden`,p=`${h}--shown`,g=`${h}--normal`,m=`${h}--select`,v=`${h}__icon`,y=`${h}__split`,b=`${h}__title`,w=`${h}__arrow`,x=`${h}__no-event`,_=`${h}__item-text`;function C(){return(0,r.a)("div",[h,f])}function S(t,e,n,i,r,o){const a=t.getCellRange(i,r);for(let i=0;i<e.length;i++){const r=e[i];let{col:o,row:u}=r;const{field:h,menuKey:c}=r;if("number"!=typeof o||"number"!=typeof u)if(t.isPivotTable()&&(Array.isArray(h),1)){const e=t.internalProps.layoutMap.getPivotCellAdress(h);if(!e)continue;o=e.col,u=e.row}else{const e=t.internalProps.layoutMap.getHeaderCellAddressByField(h);if(!e)continue;o=e.col,u=e.row}if((0,l.Z)(o)&&(0,l.Z)(u)&&(0,s._Z)(a,o,u)&&n===c)return!0}return!1}class M{constructor(t){var e,n,r,o,s,l,u,h,c,d,g;this._handler=new i.b,this._rootElement=C(),this._secondElement=C(),this._secondElement.sub=!0,this._showChildrenIndex=-1,this._rootElement.addEventListener("wheel",(t=>{t.stopPropagation()})),null===(e=this._rootElement)||void 0===e||e.addEventListener("mousedown",(t=>{t.stopPropagation(),t.preventDefault()})),null===(n=this._rootElement)||void 0===n||n.addEventListener("contextmenu",(t=>{t.stopPropagation(),t.preventDefault()})),null===(r=this._rootElement)||void 0===r||r.addEventListener("touchend",(e=>{if(e.stopPropagation(),e.preventDefault(),this._rootElement.classList.contains(f))return;const{col:n,row:i,dropDownIndex:r,menuKey:o,text:s,hasChildren:l}=e.target;if("number"!=typeof r||l)return void e.stopPropagation();const u=t.isPivotTable()?t.internalProps.layoutMap.getPivotDimensionInfo(n,i):t.getHeaderField(n,i),h=t._dropDownMenuIsHighlight(n,i,r);t.fireListeners(a.B.DROPDOWN_MENU_CLICK,{col:n,row:i,field:u,menuKey:o,text:s,highlight:h,cellLocation:t.getCellLocation(n,i),event:e}),t.fireListeners(a.B.DROPDOWN_MENU_CLEAR,null),t.fireListeners(a.B.HIDE_MENU,null),e.stopPropagation()})),null===(o=this._rootElement)||void 0===o||o.addEventListener("click",(e=>{if(e.stopPropagation(),e.preventDefault(),this._rootElement.classList.contains(f))return;const{col:n,row:i,dropDownIndex:r,menuKey:o,text:s,hasChildren:l}=e.target;if("number"!=typeof r||l)return void e.stopPropagation();const u=t.isPivotTable()?t.internalProps.layoutMap.getPivotDimensionInfo(n,i):t.getHeaderField(n,i),h=t._dropDownMenuIsHighlight(n,i,r);t.fireListeners(a.B.DROPDOWN_MENU_CLICK,{col:n,row:i,field:u,menuKey:o,text:s,highlight:h,cellLocation:t.getCellLocation(n,i),event:e}),t.fireListeners(a.B.DROPDOWN_MENU_CLEAR,null),t.fireListeners(a.B.HIDE_MENU,null),e.stopPropagation()})),null===(s=this._rootElement)||void 0===s||s.addEventListener("mousemove",(e=>{var n,i;if(this._rootElement.classList.contains(f))return;e.stopPropagation();const{hasChildren:r,dropDownIndex:o,col:a,row:s,sub:l}=e.target;if(r){this._showChildrenIndex=o;const i=this._secondElement;null==i||i.classList.remove(f),null==i||i.classList.add(p),i.innerHTML="";const r=null===(n=this._menuInstanceInfo.content[o])||void 0===n?void 0:n.children;for(let e=0;e<r.length;e++){const n=r[e],o=A(n,!!t.stateManager.menu.dropDownMenuHighlight&&S(t,t.stateManager.menu.dropDownMenuHighlight,"object"==typeof n?(null==n?void 0:n.menuKey)||(null==n?void 0:n.text):n,a,s));o.col=a,o.row=s,o.dropDownIndex=e,"string"==typeof n?(o.text=n,o.menuKey=n):"object"==typeof n&&(o.text=n.text,o.menuKey=n.menuKey||n.text),o.sub=!0,o.sub=!0,i.appendChild(o)}const l=e.target.getBoundingClientRect();this._bindSecondElement(t,a,s,l.right,l.top)}else if(r&&this._showChildrenIndex===o){const t=this._secondElement;null==t||t.classList.remove(f),null==t||t.classList.add(p)}else!l&&(null===(i=this._secondElement)||void 0===i?void 0:i.classList.contains(p))&&setTimeout((()=>{if(!0!==this._mouseEnterSecondElement){this._showChildrenIndex=-1;const t=this._secondElement;null==t||t.classList.remove(p),null==t||t.classList.add(f)}}),300)})),null===(l=this._secondElement)||void 0===l||l.addEventListener("wheel",(t=>{t.stopPropagation()})),null===(u=this._secondElement)||void 0===u||u.addEventListener("mousemove",(t=>{this._rootElement.classList.contains(f)||t.stopPropagation()})),null===(h=this._secondElement)||void 0===h||h.addEventListener("mouseenter",(t=>{this._mouseEnterSecondElement=!0})),null===(c=this._secondElement)||void 0===c||c.addEventListener("mouseleave",(t=>{this._mouseEnterSecondElement=!1})),null===(d=this._secondElement)||void 0===d||d.addEventListener("mousedown",(t=>{t.stopPropagation(),t.preventDefault()})),null===(g=this._secondElement)||void 0===g||g.addEventListener("click",(e=>{if(e.stopPropagation(),e.preventDefault(),this._secondElement.classList.contains(f))return;const{col:n,row:i,dropDownIndex:r,menuKey:o,text:s,hasChildren:l}=e.target;if("number"!=typeof r||l)return void e.stopPropagation();const u=t.isPivotTable()?t.internalProps.layoutMap.getPivotDimensionInfo(n,i):t.getHeaderField(n,i);let h=!1;this._menuInstanceInfo.content.forEach(((e,r)=>{if("object"==typeof e&&e.children&&e.children.length)for(let r=0;r<e.children.length;r++){const a=e.children[r];if(S(t,t.stateManager.menu.dropDownMenuHighlight,"object"==typeof a?null==a?void 0:a.menuKey:a,n,i)&&o===("object"==typeof a?null==a?void 0:a.menuKey:a))return void(h=!0)}})),t.fireListeners(a.B.DROPDOWN_MENU_CLICK,{col:n,row:i,field:u,cellHeaderPaths:t.isPivotTable()?t.getCellHeaderPaths(n,i):void 0,menuKey:o,text:s,highlight:h,cellLocation:t.getCellLocation(n,i),event:e}),t.fireListeners(a.B.DROPDOWN_MENU_CLEAR,null),t.fireListeners(a.B.HIDE_MENU,null),e.stopPropagation()}))}get rootElement(){return this._rootElement}release(){this.unbindFromCell();const t=this._rootElement;(null==t?void 0:t.parentElement)&&t.parentElement.removeChild(t),this._handler.release(),delete this._rootElement}bindToCell(t,e,n,i){var r,o;const a=this._rootElement,s=this._secondElement;if(this._menuInstanceInfo=i,null==a||a.classList.remove(p),null==a||a.classList.add(f),null==s||s.classList.remove(p),null==s||s.classList.add(f),this._canBindToCell(t,e,n)){if(a.innerHTML="",Array.isArray(i.content)){const s=i.content;for(let i=0;null!==(r=i<(null==s?void 0:s.length))&&void 0!==r&&r;i++){const r=s[i];let l=!!t.stateManager.menu.dropDownMenuHighlight&&S(t,t.stateManager.menu.dropDownMenuHighlight,"object"==typeof r?(null==r?void 0:r.menuKey)||(null==r?void 0:r.text):r,e,n);if(t.stateManager.menu.dropDownMenuHighlight&&"object"==typeof r&&Array.isArray(r.children)&&r.children.length)for(let i=0;i<r.children.length;i++){const o=r.children[i];if(S(t,t.stateManager.menu.dropDownMenuHighlight,"object"==typeof o?(null==o?void 0:o.menuKey)||(null==o?void 0:o.text):o,e,n)){l=!0;break}}const u=A(r,l);u.col=e,u.row=n,u.dropDownIndex=i,"string"==typeof r?(u.text=r,u.menuKey=r):"object"==typeof r&&(u.text=r.text,u.menuKey=r.menuKey||r.text,(null===(o=r.children)||void 0===o?void 0:o.length)&&(u.hasChildren=!0)),a.appendChild(u)}}if(this._bindToCell(t,e,n,i.position,i.referencePosition))return null==a||a.classList.add(p),null==a||a.classList.remove(f),!0}else this.unbindFromCell();return!1}unbindFromCell(){const t=this._rootElement,e=this._secondElement;this._menuInstanceInfo=void 0,(null==t?void 0:t.parentElement)&&(t.classList.remove(p),t.classList.add(f)),(null==e?void 0:e.parentElement)&&(e.classList.remove(p),e.classList.add(f))}_canBindToCell(t,e,n){var i;const r=t.getCellRangeRelativeRect({col:e,row:n}),o=null!==(i=t.internalProps.menu.parentElement)&&void 0!==i?i:t.getElement(),{top:a,bottom:s,left:l,right:u}=r;if(t.isFrozenCell(e,n))return!0;if(s<t.getFrozenRowsHeight()||u<t.getFrozenColsWidth()||l>t.tableNoFrameWidth-t.getRightFrozenColsWidth()||a>t.tableNoFrameHeight-t.getBottomFrozenRowsHeight())return!1;const{offsetHeight:h,offsetWidth:c}=o;return!(h<a||c<l)}_bindToCell(t,e,n,i,r){var o;const a=this._rootElement,s=null!==(o=t.internalProps.menu.parentElement)&&void 0!==o?o:t.getElement(),{width:l,height:u,left:h,top:c}=s.getBoundingClientRect();if(a){a.parentElement!==s&&s.appendChild(a),a.style.left="0px";const e=.8*l;a.style.maxWidth=`${e}px`;const n=a.offsetWidth,o=a.offsetHeight;let d,f;i?(d=i.x,f=i.y):r&&(d=r.rect.right-n,f=r.rect.bottom);const p=s.getBoundingClientRect(),g=p.width/s.offsetWidth,m=p.height/s.offsetHeight;f*m+o>u&&(f=(u-o)/m),f<0&&(f/=2);let v=0,y=0;if(t.getElement()!==s){const{left:e,top:n}=t.getElement().getBoundingClientRect();v=n-c,y=e-h}return a.style.top=`${f+v}px`,d<0?d=0:d*g+n>l&&(d=(l-n)/g),a.style.left=`${d+y}px`,!0}return!1}_bindSecondElement(t,e,n,i,r){var o;const a=this._secondElement,s=this._rootElement,l=null!==(o=t.internalProps.menu.parentElement)&&void 0!==o?o:t.getElement(),{width:u,left:h,top:c}=l.getBoundingClientRect(),{x:d,y:f,width:p}=s.getBoundingClientRect();if(a){a.parentElement!==l&&l.appendChild(a),a.style.left="0px";const t=.8*u;a.style.maxWidth=`${t}px`;const e=a.clientWidth,n=r-4-c,o=i-h;a.style.top=`${n}px`;let s=o;return s+e>u?s=s-e-p:s+=4,a.style.left=`${s}px`,!0}return!1}pointInMenuElement(t,e){const n=this._rootElement,{x:i,y:r,width:o,height:a}=n.getBoundingClientRect();if(t>i-5&&t<i+o+5&&e>r-5&&e<r+a+5)return!0;if(this._secondElement){const{x:i,y:r,width:o,height:a}=n.getBoundingClientRect();if(t>i-5&&t<i+o+5&&e>r-5&&e<r+a+5)return!0}return!1}}function A(t,e){var n,i,o;const a=(0,r.a)("div",[c,e?m:g]);if("string"==typeof t){const e=(0,r.a)("span",[d,x,_]);e.innerHTML=t,a.appendChild(e)}else if("object"==typeof t){const s=null!==(n=t.type)&&void 0!==n?n:"item";if("split"===s)return null==a||a.classList.add(y),a;if(null===(i=null==t?void 0:t.icon)||void 0===i?void 0:i.svg)if(u.tP.test(t.icon.svg)){const e=new Image;t.icon.width?e.style.width=t.icon.width.toString()+"px":e.style.width="16px",t.icon.height?e.style.height=t.icon.height.toString()+"px":e.style.height="16px",e.src=t.icon.svg,a.appendChild(e)}else{const n=(0,r.a)("span",[v,x]);n.innerHTML=e&&t.selectedIcon&&t.selectedIcon.svg?t.selectedIcon.svg:t.icon.svg,t.icon.width&&n.children[0].setAttribute("width",t.icon.width.toString()),t.icon.height&&n.children[0].setAttribute("height",t.icon.height.toString()),a.appendChild(n)}const l=(0,r.a)("span",[d,x,_]);if(l.innerHTML=t.text,a.appendChild(l),"title"===s)null==a||a.classList.add(x,b);else if(null===(o=null==t?void 0:t.children)||void 0===o?void 0:o.length){const t=(0,r.a)("span",[d,x,w]);t.innerHTML=e?'<svg width="8" height="12" viewBox="0 0 10 17" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: baseline"><path d="M1.78186 16.7729L0.300378 15.2915L6.8189 8.77295L0.300377 2.25443L1.78186 0.77295L9.78186 8.77295L1.78186 16.7729Z" fill="#2E68CF" fill-opacity="0.65"></path></svg>':'<svg width="8" height="12" viewBox="0 0 10 17" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: baseline"><path d="M1.78186 16.7729L0.300378 15.2915L6.8189 8.77295L0.300377 2.25443L1.78186 0.77295L9.78186 8.77295L1.78186 16.7729Z" fill="#141414" fill-opacity="0.65"></path></svg>',a.appendChild(t)}}return a}},43259:function(t,e,n){"use strict";n.d(e,{D:function(){return r},Z:function(){return o}});var i=n(92096);function r(t){return{rootContainer:new i.ZA({}),renderDefault:!0}}class o{constructor(t){this.table=t,this.customLayoutFuncCache=new Map,this.reactRemoveGraphicCache=new Map,this.reactRemoveAllGraphicCache=new Map,this.headerCustomLayoutFuncCache=new Map,this.headerReactRemoveGraphicCache=new Map,this.headerReactRemoveAllGraphicCache=new Map}hasReactCreateGraphic(t,e){return e?this.headerCustomLayoutFuncCache.has(t):this.customLayoutFuncCache.has(t)}setReactCreateGraphic(t,e,n){n?this.headerCustomLayoutFuncCache.set(t,e):this.customLayoutFuncCache.set(t,e)}setReactRemoveGraphic(t,e,n){n?this.headerReactRemoveGraphicCache.set(t,e):this.reactRemoveGraphicCache.set(t,e)}setReactRemoveAllGraphic(t,e,n){n?this.headerReactRemoveAllGraphicCache.set(t,e):this.reactRemoveAllGraphicCache.set(t,e)}updateCustomCell(t,e){const n=this.table;if(n.isPivotTable()){const i=function(t,e,n){const i=e.internalProps.rowSeriesNumber?1:0,r=[],o=e.internalProps.layoutMap;if(n){const{headerObjects:e}=o,n=[];for(let i=0;i<e.length;i++){const r=e[i];r&&r.define.componentId===t&&n.push(r.id)}for(let t=0;t<n.length;t++){const e=n[t],i=o.getHeaderCellAdressById(e),a=o.getCellRange(i.col,i.row);r.push(a)}}else{let e;const{columnObjects:n,indicatorsAsCol:a}=o;for(let i=0;i<n.length;i++)if(n[i].define.componentId===t){e=i;break}if(a)for(let t=o.rowHeaderLevelCount+e;t<o.colCount;t+=n.length){const e={start:{col:t+i,row:o.columnHeaderLevelCount},end:{col:t+i,row:o.rowCount-1}};r.push(e)}else for(let t=o.columnHeaderLevelCount+e;t<o.rowCount;t+=n.length){const e={start:{col:o.rowHeaderLevelCount+i,row:t},end:{col:o.colCount-1,row:t}};r.push(e)}}return r}(t,n,e);for(let t=0;t<i.length;t++){const e=i[t];for(let t=e.start.col;t<=e.end.col;t++)for(let i=e.start.row;i<=e.end.row;i++)n.scenegraph.updateCellContent(t,i)}}else{const i=function(t,e,n){const i=e.internalProps.rowSeriesNumber?1:0;if(n){const n=e.internalProps.layoutMap,{headerObjects:i}=e.internalProps.layoutMap;let r;for(let e=0;e<i.length;e++){const n=i[e];if(n.define.componentId===t){r=n.id;break}}const o=n.getHeaderCellAdressById(r);return n.getCellRange(o.col,o.row)}const{columnObjects:r}=e.internalProps.layoutMap;for(let n=0;n<r.length;n++)if(r[n].define.componentId===t)return{start:{col:i+n,row:e.columnHeaderLevelCount},end:{col:i+n,row:e.rowCount-1}};return{start:{col:0,row:0},end:{col:e.colCount-1,row:e.rowCount-1}}}(t,n,e);for(let t=i.start.col;t<=i.end.col;t++)for(let e=i.start.row;e<=i.end.row;e++)n.scenegraph.updateCellContent(t,e)}"autoWidth"===n.widthMode&&n.scenegraph.recalculateColWidths(),n.isAutoRowHeight()&&n.scenegraph.recalculateRowHeights(),n.scenegraph.renderSceneGraph()}getCustomLayoutFunc(t,e){var n;if(this.table.isHeader(t,e)){const{componentId:i}=this.table.getHeaderDefine(t,e);return null!==(n=this.headerCustomLayoutFuncCache.get(i))&&void 0!==n?n:r}const{componentId:i}=this.table.getBodyColumnDefine(t,e);return this.customLayoutFuncCache.get(i)||r}removeCustomCell(t,e){let n;if(this.table.isHeader(t,e)){const i=this.table.getHeaderDefine(t,e),{componentId:r}=i;n=this.headerReactRemoveGraphicCache.get(r)}else{const i=this.table.getBodyColumnDefine(t,e),{componentId:r}=i;n=this.reactRemoveGraphicCache.get(r)}n&&n(t,e)}clearCache(){this.reactRemoveAllGraphicCache.forEach((t=>{t()})),this.headerReactRemoveAllGraphicCache.forEach((t=>{t()}))}updateAllCustomCell(){this.customLayoutFuncCache.forEach(((t,e)=>{this.updateCustomCell(e)})),this.headerCustomLayoutFuncCache.forEach(((t,e)=>{this.updateCustomCell(e,!0)}))}}},76193:function(t,e,n){"use strict";n.d(e,{Zv:function(){return u},h_:function(){return s},lc:function(){return h},qi:function(){return a},ro:function(){return l}});var i=n(19387),r=n(22304),o=n(74096);function a(t){var e,n;const o=Object.assign({},t);return(0,i.Z)(t.style)||(o.textStyle=s(t.style)),(0,i.Z)(t.textStyle)||(0,r.Z)(o.textStyle,s(t.textStyle)),(null===(e=t.shape)||void 0===e?void 0:e.style)&&s(o.shape.style),(null===(n=t.background)||void 0===n?void 0:n.style)&&s(o.background.style),o}function s(t){return(0,i.Z)(t)||t.angle&&(t.angle=(0,o.M4)(t.angle)),t}function l(t={}){return(0,i.Z)(t.style)||(t.style=s(t.style)),(0,i.Z)(t.state)||Object.keys(t.state).forEach((e=>{(0,i.Z)(t.state[e])||(t.state[e]=s(t.state[e]))})),t}function u(t){return(0,i.Z)(t)?null:(Object.keys(t).forEach((e=>{(0,i.Z)(t[e])||(t[e]=s(t[e]))})),t)}function h(t){return l(t),l(t.startSymbol),l(t.endSymbol),t}},23206:function(t,e,n){"use strict";n.d(e,{D:function(){return Co}});var i=n(70375),r=n(83130);let o;const a={CHANGE_STYLE:"change_style"};class s extends r.R{static get EVENT_TYPE(){return a}static get DEFAULT(){return o||(o=new s)}constructor(t={},e={}){var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E;super(),this._defaultPadding=[10,16,10,16],this._textAlign=null!==(n=null==t?void 0:t.textAlign)&&void 0!==n?n:null==e?void 0:e.textAlign,this._textBaseline=null!==(i=null==t?void 0:t.textBaseline)&&void 0!==i?i:null==e?void 0:e.textBaseline,this._color=null!==(r=null==t?void 0:t.color)&&void 0!==r?r:null==e?void 0:e.color,this._strokeColor=null!==(o=null==t?void 0:t.strokeColor)&&void 0!==o?o:null==e?void 0:e.strokeColor,this._fontSize=null!==(a=t.fontSize)&&void 0!==a?a:null==e?void 0:e.fontSize,this._fontFamily=null!==(s=t.fontFamily)&&void 0!==s?s:null==e?void 0:e.fontFamily,this._fontWeight=null!==(l=t.fontWeight)&&void 0!==l?l:null==e?void 0:e.fontWeight,this._fontVariant=null!==(u=t.fontVariant)&&void 0!==u?u:null==e?void 0:e.fontVariant,this._fontStyle=null!==(h=t.fontStyle)&&void 0!==h?h:null==e?void 0:e.fontStyle,this._padding=null!==(d=null!==(c=null==t?void 0:t.padding)&&void 0!==c?c:null==e?void 0:e.padding)&&void 0!==d?d:this._defaultPadding,this._borderColor=null!==(f=null==t?void 0:t.borderColor)&&void 0!==f?f:null==e?void 0:e.borderColor,this._textOverflow=null!==(p=null==t?void 0:t.textOverflow)&&void 0!==p?p:null==e?void 0:e.textOverflow,this._textStick=null!==(m=null!==(g=t.textStick)&&void 0!==g?g:null==e?void 0:e.textStick)&&void 0!==m&&m,this._textStickBaseOnAlign=null!==(y=null!==(v=t.textStickBaseOnAlign)&&void 0!==v?v:null==e?void 0:e.textStickBaseOnAlign)&&void 0!==y&&y,this._bgColor=null!==(b=null==t?void 0:t.bgColor)&&void 0!==b?b:null==e?void 0:e.bgColor,this._lineHeight=null!==(w=null==t?void 0:t.lineHeight)&&void 0!==w?w:null==e?void 0:e.lineHeight,this._underline=null!==(x=null==t?void 0:t.underline)&&void 0!==x?x:null==e?void 0:e.underline,this._underlineColor=null!==(_=null==t?void 0:t.underlineColor)&&void 0!==_?_:null==e?void 0:e.underlineColor,this._underlineDash=null!==(C=null==t?void 0:t.underlineDash)&&void 0!==C?C:null==e?void 0:e.underlineDash,this._underlineOffset=null!==(S=null==t?void 0:t.underlineOffset)&&void 0!==S?S:null==e?void 0:e.underlineOffset,this._lineThrough=null!==(M=null==t?void 0:t.lineThrough)&&void 0!==M?M:null==e?void 0:e.lineThrough,this._lineThroughColor=null!==(A=null==t?void 0:t.lineThroughColor)&&void 0!==A?A:null==e?void 0:e.lineThroughColor,this._lineThroughDash=null!==(T=null==t?void 0:t.lineThroughDash)&&void 0!==T?T:null==e?void 0:e.lineThroughDash,this._linkColor=null!==(k=null==t?void 0:t.linkColor)&&void 0!==k?k:null==e?void 0:e.linkColor,this._cursor=null!==(R=t.cursor)&&void 0!==R?R:null==e?void 0:e.cursor,this._borderLineWidth=null!==(I=t.borderLineWidth)&&void 0!==I?I:null==e?void 0:e.borderLineWidth,this._borderLineDash=null!==(P=t.borderLineDash)&&void 0!==P?P:null==e?void 0:e.borderLineDash,this._marked=null!==(E=t.marked)&&void 0!==E?E:null==e?void 0:e.marked}get color(){return this._color}set color(t){this._color=t}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t}get padding(){return this._padding}set padding(t){this._padding=t}get textOverflow(){return this._textOverflow}set textOverflow(t){this._textOverflow=t}get bgColor(){return this._bgColor}set bgColor(t){this._bgColor=t}get borderColor(){return this._borderColor}set borderColor(t){this._borderColor=t}get textStick(){return this._textStick}set textStick(t){this._textStick=t}get textStickBaseOnAlign(){return this._textStickBaseOnAlign}set textStickBaseOnAlign(t){this._textStickBaseOnAlign=t}get textAlign(){return this._textAlign}set textAlign(t){this._textAlign=t}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t}get underline(){return this._underline}set underline(t){this._underline=t}get underlineColor(){return this._underlineColor}set underlineColor(t){this._underlineColor=t}get underlineDash(){return this._underlineDash}set underlineDash(t){this._underlineDash=t}get underlineOffset(){return this._underlineOffset}set underlineOffset(t){this._underlineOffset=t}get lineThrough(){return this._lineThrough}set lineThrough(t){this._lineThrough=t}get lineThroughColor(){return this._lineThroughColor}set lineThroughColor(t){this._lineThroughColor=t}get lineThroughDash(){return this._lineThroughDash}set lineThroughDash(t){this._lineThroughDash=t}get linkColor(){return this._linkColor}set linkColor(t){this._linkColor=t}get cursor(){return this._cursor}set cursor(t){this._cursor=t}get borderLineWidth(){return this._borderLineWidth}set borderLineWidth(t){this._borderLineWidth=t}get borderLineDash(){return this._borderLineDash}set borderLineDash(t){this._borderLineDash=t}get marked(){return this._marked}set marked(t){this._marked=t}clone(){return new s(this,null)}}let l,u;class h extends s{static get DEFAULT(){return l||(l=new h)}constructor(t={},e={},n={}){var i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S;super(t,e),this._size=(null!==(r=null!==(i=null==t?void 0:t.size)&&void 0!==i?i:null==e?void 0:e.size)&&void 0!==r?r:null==n?void 0:n.size)||14,this._spaceBetweenTextAndIcon=(null!==(a=null!==(o=null==t?void 0:t.spaceBetweenTextAndIcon)&&void 0!==o?o:null==e?void 0:e.spaceBetweenTextAndIcon)&&void 0!==a?a:null==n?void 0:n.spaceBetweenTextAndIcon)||8,this._defaultFill=null!==(l=null===(s=null==t?void 0:t.checkboxStyle)||void 0===s?void 0:s.defaultFill)&&void 0!==l?l:null==n?void 0:n.defaultFill,this._defaultStroke=null!==(h=null===(u=null==t?void 0:t.checkboxStyle)||void 0===u?void 0:u.defaultStroke)&&void 0!==h?h:null==n?void 0:n.defaultStroke,this._disableFill=null!==(d=null===(c=null==t?void 0:t.checkboxStyle)||void 0===c?void 0:c.disableFill)&&void 0!==d?d:null==n?void 0:n.disableFill,this._checkedFill=null!==(p=null===(f=null==t?void 0:t.checkboxStyle)||void 0===f?void 0:f.checkedFill)&&void 0!==p?p:null==n?void 0:n.checkedFill,this._checkedStroke=null!==(m=null===(g=null==t?void 0:t.checkboxStyle)||void 0===g?void 0:g.checkedStroke)&&void 0!==m?m:null==n?void 0:n.checkedStroke,this._disableCheckedFill=null!==(y=null===(v=null==t?void 0:t.checkboxStyle)||void 0===v?void 0:v.disableCheckedFill)&&void 0!==y?y:null==n?void 0:n.disableCheckedFill,this._disableCheckedStroke=null!==(w=null===(b=null==t?void 0:t.checkboxStyle)||void 0===b?void 0:b.disableCheckedStroke)&&void 0!==w?w:null==n?void 0:n.disableCheckedStroke,this._checkIconImage=null!==(_=null===(x=null==t?void 0:t.checkboxStyle)||void 0===x?void 0:x.checkIconImage)&&void 0!==_?_:null==n?void 0:n.checkIconImage,this._indeterminateIconImage=null!==(S=null===(C=null==t?void 0:t.checkboxStyle)||void 0===C?void 0:C.indeterminateIconImage)&&void 0!==S?S:null==n?void 0:n.indeterminateIconImage}get size(){return this._size}set size(t){this._size=t}get spaceBetweenTextAndIcon(){return this._spaceBetweenTextAndIcon}set spaceBetweenTextAndIcon(t){this._spaceBetweenTextAndIcon=t}get defaultFill(){return this._defaultFill}set defaultFill(t){this._defaultFill=t}get defaultStroke(){return this._defaultStroke}set defaultStroke(t){this._defaultStroke=t}get disableFill(){return this._disableFill}set disableFill(t){this._disableFill=t}get checkedFill(){return this._checkedFill}set checkedFill(t){this._checkedFill=t}get checkedStroke(){return this._checkedStroke}set checkedStroke(t){this._checkedStroke=t}get disableCheckedFill(){return this._disableCheckedFill}set disableCheckedFill(t){this._disableCheckedFill=t}get disableCheckedStroke(){return this._disableCheckedStroke}set disableCheckedStroke(t){this._disableCheckedStroke=t}get checkIconImage(){return this._checkIconImage}set checkIconImage(t){this._checkIconImage=t}get indeterminateIconImage(){return this._indeterminateIconImage}set indeterminateIconImage(t){this._indeterminateIconImage=t}getStyle(t){return new h(t,this)}clone(){return new h(this)}}class c extends s{static get DEFAULT(){return u||(u=new c)}constructor(t={},e={},n={}){var i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A;super(t,e),this._size=(null!==(r=null!==(i=null==t?void 0:t.size)&&void 0!==i?i:null==e?void 0:e.size)&&void 0!==r?r:null==n?void 0:n.size)||14,this._spaceBetweenTextAndIcon=(null!==(a=null!==(o=null==t?void 0:t.spaceBetweenTextAndIcon)&&void 0!==o?o:null==e?void 0:e.spaceBetweenTextAndIcon)&&void 0!==a?a:null==n?void 0:n.spaceBetweenTextAndIcon)||8,this._spaceBetweenRadio=(null!==(l=null!==(s=null==t?void 0:t.spaceBetweenRadio)&&void 0!==s?s:null==e?void 0:e.spaceBetweenRadio)&&void 0!==l?l:null==n?void 0:n.spaceBetweenRadio)||2,this._innerRadius=null!==(h=null===(u=null==t?void 0:t.radioStyle)||void 0===u?void 0:u.innerRadius)&&void 0!==h?h:null==n?void 0:n.innerRadius,this._outerRadius=null!==(d=null===(c=null==t?void 0:t.radioStyle)||void 0===c?void 0:c.outerRadius)&&void 0!==d?d:null==n?void 0:n.outerRadius,this._defaultFill=null!==(p=null===(f=null==t?void 0:t.radioStyle)||void 0===f?void 0:f.defaultFill)&&void 0!==p?p:null==n?void 0:n.defaultFill,this._defaultStroke=null!==(m=null===(g=null==t?void 0:t.radioStyle)||void 0===g?void 0:g.defaultStroke)&&void 0!==m?m:null==n?void 0:n.defaultStroke,this._disableFill=null!==(y=null===(v=null==t?void 0:t.radioStyle)||void 0===v?void 0:v.disableFill)&&void 0!==y?y:null==n?void 0:n.disableFill,this._checkedFill=null!==(w=null===(b=null==t?void 0:t.radioStyle)||void 0===b?void 0:b.checkedFill)&&void 0!==w?w:null==n?void 0:n.checkedFill,this._checkedStroke=null!==(_=null===(x=null==t?void 0:t.radioStyle)||void 0===x?void 0:x.checkedStroke)&&void 0!==_?_:null==n?void 0:n.checkedStroke,this._disableCheckedFill=null!==(S=null===(C=null==t?void 0:t.radioStyle)||void 0===C?void 0:C.disableCheckedFill)&&void 0!==S?S:null==n?void 0:n.disableCheckedFill,this._disableCheckedStroke=null!==(A=null===(M=null==t?void 0:t.radioStyle)||void 0===M?void 0:M.disableCheckedStroke)&&void 0!==A?A:null==n?void 0:n.disableCheckedStroke}get size(){return this._size}set size(t){this._size=t}get spaceBetweenTextAndIcon(){return this._spaceBetweenTextAndIcon}set spaceBetweenTextAndIcon(t){this._spaceBetweenTextAndIcon=t}get spaceBetweenRadio(){return this._spaceBetweenRadio}set spaceBetweenRadio(t){this._spaceBetweenRadio=t}get innerRadius(){return this._innerRadius}set innerRadius(t){this._innerRadius=t}get outerRadius(){return this._outerRadius}set outerRadius(t){this._outerRadius=t}get defaultFill(){return this._defaultFill}set defaultFill(t){this._defaultFill=t}get defaultStroke(){return this._defaultStroke}set defaultStroke(t){this._defaultStroke=t}get disableFill(){return this._disableFill}set disableFill(t){this._disableFill=t}get checkedFill(){return this._checkedFill}set checkedFill(t){this._checkedFill=t}get checkedStroke(){return this._checkedStroke}set checkedStroke(t){this._checkedStroke=t}get disableCheckedFill(){return this._disableCheckedFill}set disableCheckedFill(t){this._disableCheckedFill=t}get disableCheckedStroke(){return this._disableCheckedStroke}set disableCheckedStroke(t){this._disableCheckedStroke=t}getStyle(t){return new c(t,this)}clone(){return new c(this)}}const{EVENT_TYPE:d}=s;function f(t,e,n,r=s,o,a){var l,u;return t||e?t instanceof s?t:"function"==typeof t?f(t(n),e,n,r,o,a):(t||(t={}),o&&!(0,i.Z)(t.autoWrapText)&&(t.autoWrapText=!0),r===h?new h(null!=t?t:{},null!=e?e:{},null!==(l=a.checkboxStyle)&&void 0!==l?l:{}):r===c?new c(null!=t?t:{},null!=e?e:{},null!==(u=a.radioStyle)&&void 0!==u?u:{}):new r(null!=t?t:{},null!=e?e:{})):r.DEFAULT}var p=n(74910);var g=n(37211),m=n(86036),v=n(52408),y=n(95170),b=n(6577),w=n(81015),x=n(71433),_=n(25),C=n(51917),S=n(70647),M=n(5260),A=n(90154),T=n(36656),k=n(44409),R=n(94378),I=n(945),P=n(80331),E=n(69600);var B=t=>void 0===t,L=n(94611),D=n.n(L),O=n(81813),F=n(64153);class H extends F.x{constructor(){super(...arguments),this.client={x:0,y:0},this.movement={x:0,y:0},this.offset={x:0,y:0},this.global={x:0,y:0},this.screen={x:0,y:0}}get clientX(){return this.client.x}get clientY(){return this.client.y}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,n,i,r,o,a,s,l,u,h,c,d,f,p){throw new Error("Method not implemented.")}}class N extends H{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}clone(){var t,e,n;const i=new N(this.manager);i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.detailPath=[],i.target=null,i.nativeEvent=this.nativeEvent,i.originalEvent=this.originalEvent,null===(t=this.manager)||void 0===t||t.copyPointerData(this,i),null===(e=this.manager)||void 0===e||e.copyMouseData(this,i),null===(n=this.manager)||void 0===n||n.copyData(this,i),i.target=this.target,i.path=this.composedPath().slice();const r=this.composedDetailPath();return i.detailPath=r&&r.slice(),i.type=this.type,i}}class z extends H{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}clone(){var t,e,n;const i=new z(this.manager);i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.detailPath=[],i.target=null,i.nativeEvent=this.nativeEvent,i.originalEvent=this.originalEvent,null===(t=this.manager)||void 0===t||t.copyWheelData(this,i),null===(e=this.manager)||void 0===e||e.copyMouseData(this,i),null===(n=this.manager)||void 0===n||n.copyData(this,i),i.target=this.target,i.path=this.composedPath().slice();const r=this.composedDetailPath();return i.detailPath=r&&r.slice(),i.type=this.type,i}}z.DOM_DELTA_PIXEL=0,z.DOM_DELTA_LINE=1,z.DOM_DELTA_PAGE=2;const W="object"==typeof performance&&performance.now?performance:Date;function j(t){return"mouse"===t||"pen"===t}class V{constructor(t,e){this.dispatch=new(D()),this.cursorTarget=null,this.pauseNotify=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.onPointerDown=(t,e)=>{if(!(t instanceof N))return void O.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const n=this.createPointerEvent(t,t.type,e);if(this.dispatchEvent(n,"pointerdown"),"touch"===n.pointerType)this.dispatchEvent(n,"touchstart");else if(j(n.pointerType)){const t=2===n.button;this.dispatchEvent(n,t?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=n.composedPath(),this.freeEvent(n)},this.onPointerMove=(t,e)=>{var n,i;if(!(t instanceof N))return void O.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const r=this.createPointerEvent(t,t.type,e),o=j(r.pointerType),a=this.trackingData(t.pointerId),s=this.findMountedTarget(a.overTargets);if(a.overTargets&&s&&s!==this.rootTarget&&s!==r.target){const e="mousemove"===t.type?"mouseout":"pointerout",n=this.createPointerEvent(t,e,s||void 0);if(this.dispatchEvent(n,"pointerout"),o&&this.dispatchEvent(n,"mouseout"),!r.composedPath().includes(s)){const e=this.createPointerEvent(t,"pointerleave",s||void 0);for(e.eventPhase=e.AT_TARGET;e.target&&!r.composedPath().includes(e.target);)e.currentTarget=e.target,this.notifyTarget(e),o&&this.notifyTarget(e,"mouseleave"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(n)}if(s!==r.target){const e="mousemove"===t.type?"mouseover":"pointerover",n=this.clonePointerEvent(r,e);this.dispatchEvent(n,"pointerover"),o&&this.dispatchEvent(n,"mouseover");let i=null==s?void 0:s.parent;for(;i&&i!==this.rootTarget.parent&&i!==r.target;)i=i.parent;if(!i||i===this.rootTarget.parent){const t=this.clonePointerEvent(r,"pointerenter");t.eventPhase=t.AT_TARGET;let e=t.target;const n=new Set;let i=s;for(;i&&i!==this.rootTarget;)n.add(i),i=i.parent;for(;e&&e!==s&&e!==this.rootTarget.parent;)n.has(e)||(t.currentTarget=e,this.notifyTarget(t),o&&this.notifyTarget(t,"mouseenter")),e=e.parent;this.freeEvent(t)}this.freeEvent(n)}this.dispatchEvent(r,"pointermove"),"touch"===r.pointerType&&this.dispatchEvent(r,"touchmove"),o&&(this.dispatchEvent(r,"mousemove"),this.cursorTarget=r.target,this.cursor=(null===(i=null===(n=r.target)||void 0===n?void 0:n.attribute)||void 0===i?void 0:i.cursor)||this.rootTarget.getCursor()),a.overTargets=r.composedPath(),this.freeEvent(r)},this.onPointerOver=(t,e)=>{var n,i;if(!(t instanceof N))return void O.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const r=this.trackingData(t.pointerId),o=this.createPointerEvent(t,t.type,e),a=j(o.pointerType);this.dispatchEvent(o,"pointerover"),a&&this.dispatchEvent(o,"mouseover"),"mouse"===o.pointerType&&(this.cursorTarget=o.target,this.cursor=(null===(i=null===(n=o.target)||void 0===n?void 0:n.attribute)||void 0===i?void 0:i.cursor)||this.rootTarget.getCursor());const s=this.clonePointerEvent(o,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),a&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=o.composedPath(),this.freeEvent(o),this.freeEvent(s)},this.onPointerOut=(t,e)=>{if(!(t instanceof N))return void O.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const n=this.trackingData(t.pointerId);if(n.overTargets){const e=j(t.pointerType),i=this.findMountedTarget(n.overTargets),r=this.createPointerEvent(t,"pointerout",i||void 0);this.dispatchEvent(r),e&&this.dispatchEvent(r,"mouseout");const o=this.createPointerEvent(t,"pointerleave",i||void 0);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),e&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=[],this.freeEvent(r),this.freeEvent(o)}this.cursorTarget=null,this.cursor=""},this.onPointerUp=(t,e)=>{var n;if(!(t instanceof N))return void O.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const i=W.now(),r=this.createPointerEvent(t,t.type,e);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if(j(r.pointerType)){const t=2===r.button;this.dispatchEvent(r,t?"rightup":"mouseup")}const o=this.trackingData(t.pointerId),a=this.findMountedTarget(o.pressTargetsByButton[t.button]);let s=a;if(a&&!r.composedPath().includes(a)){let e=a;for(;e&&!r.composedPath().includes(e);){if(r.currentTarget=e,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if(j(r.pointerType)){const t=2===r.button;this.notifyTarget(r,t?"rightupoutside":"mouseupoutside")}e=e.parent}delete o.pressTargetsByButton[t.button],s=e}if(s){const e=this.clonePointerEvent(r,"click");e.target=s,e.path=[],e.detailPath=[],o.clicksByButton[t.button]||(o.clicksByButton[t.button]={clickCount:0,target:e.target,timeStamp:i});const a=o.clicksByButton[t.button];a.target===e.target&&i-a.timeStamp<(null!==(n=this._config.clickInterval)&&void 0!==n?n:200)?++a.clickCount:a.clickCount=1,a.target=e.target,a.timeStamp=i,e.detail=a.clickCount,j(e.pointerType)?(this.dispatchEvent(e,"click"),2===a.clickCount&&this.dispatchEvent(e,"dblclick")):"touch"===e.pointerType&&this._config.supportsTouchEvents&&(this.dispatchEvent(e,"tap"),2===a.clickCount&&this.dispatchEvent(e,"dbltap")),this.dispatchEvent(e,"pointertap"),this.freeEvent(e)}this.freeEvent(r)},this.onPointerUpOutside=(t,e)=>{if(!(t instanceof N))return void O.Y.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const n=this.trackingData(t.pointerId),i=this.findMountedTarget(n.pressTargetsByButton[t.button]),r=this.createPointerEvent(t,t.type,e);if(i){let e=i;for(;e;)r.currentTarget=e,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):j(r.pointerType)&&this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),e=e.parent;delete n.pressTargetsByButton[t.button]}this.freeEvent(r)},this.onWheel=(t,e)=>{if(!(t instanceof z))return void O.Y.getInstance().warn("EventManager cannot map a non-wheel event as a wheel event");const n=this.createWheelEvent(t,e);this.dispatchEvent(n),this.freeEvent(n)},this.rootTarget=t,this.mappingTable={},this._config=Object.assign({clickInterval:200},e),this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort(((t,e)=>t.priority-e.priority))}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){var e,n,i,r,o,a,s;if(!this.rootTarget)return;const l=this.mappingTable[t.type];let u;const h=`${t.canvasX}-${t.canvasY}`;if((null===(e=this._prePointTargetCache)||void 0===e?void 0:e[h])&&(null===(i=null===(n=this._prePointTargetCache)||void 0===n?void 0:n[h])||void 0===i?void 0:i.stage)&&(null===(o=null===(r=this._prePointTargetCache)||void 0===r?void 0:r[h])||void 0===o?void 0:o.stage.renderCount)===(null===(a=this._prePointTargetCache)||void 0===a?void 0:a.stageRenderCount)?u=this._prePointTargetCache[h]:(u=this.pickTarget(t.viewX,t.viewY,t),t.pickParams||(this._prePointTargetCache={[h]:u,stageRenderCount:null!==(s=null==u?void 0:u.stage.renderCount)&&void 0!==s?s:-1})),l)for(let e=0,n=l.length;e<n;e++)l[e].fn(t,u);else O.Y.getInstance().warn(`[EventManager]: Event mapping not defined for ${t.type}`)}propagate(t,e){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let i=0,r=n.length-1;i<r;i++)if(t.currentTarget=n[i],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(t.currentTarget=n[i],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}propagationPath(t){const e=[t];for(let n=0;n<2048&&t!==this.rootTarget&&t.parent;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}notifyTarget(t,e){if(this.pauseNotify)return;e=null!=e?e:t.type;const n=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,n),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let n=1;n<t.length&&t[n].parent===e;n++)e=t[n];return e}createPointerEvent(t,e,n){var i,r;const o=this.allocateEvent(N);return this.copyPointerData(t,o),this.copyMouseData(t,o),this.copyData(t,o),o.nativeEvent=t.nativeEvent,o.originalEvent=t,o.target=n||this.pickTarget(null!==(i=o.viewX)&&void 0!==i?i:o.global.x,null!==(r=o.viewY)&&void 0!==r?r:o.global.y,o),"string"==typeof e&&(o.type=e),o}createWheelEvent(t,e){var n,i;const r=this.allocateEvent(z);return this.copyWheelData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.nativeEvent=t.nativeEvent,r.originalEvent=t,r.target=e||this.pickTarget(null!==(n=r.viewX)&&void 0!==n?n:r.global.x,null!==(i=r.viewY)&&void 0!==i?i:r.global.y,r),r}clonePointerEvent(t,e){const n=this.allocateEvent(N);n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice();const i=t.composedDetailPath();return n.detailPath=i&&i.slice(),n.type=null!=e?e:n.type,n}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof N&&e instanceof N&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof H&&e instanceof H&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.ctrlKey=t.ctrlKey,e.shiftKey=t.shiftKey,e.metaKey=t.metaKey,["client","movement","canvas","screen","global","offset","viewport"].forEach((n=>{e[n].x=t[n].x,e[n].y=t[n].y})))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=W.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.x=t.layer.x,e.layer.y=t.layer.y,e.page.x=t.page.x,e.page.y=t.page.y,e.pickParams=t.pickParams}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){var e;this.eventPool.has(t)||this.eventPool.set(t,[]);const n=(null===(e=this.eventPool.get(t))||void 0===e?void 0:e.pop())||new t(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=[],n.detailPath=[],n.target=null,n}freeEvent(t){var e;if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventManager!");const n=t.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),null===(e=this.eventPool.get(n))||void 0===e||e.push(t)}notifyListeners(t,e){const n=t.currentTarget._events[e];if(n)if("fn"in n)n.once&&t.currentTarget.removeEventListener(e,n.fn,{once:!0}),n.fn.call(n.context,t);else for(let i=0,r=n.length;i<r&&!t.propagationImmediatelyStopped;i++)n[i].once&&t.currentTarget.removeEventListener(e,n[i].fn,{once:!0}),n[i].fn.call(n[i].context,t);this.emitDelegation(t,e)}emitDelegation(t,e){const n=t.currentTarget._events["*"];if(n)if("fn"in n)n.fn.call(n.context,t,e);else for(let i=0,r=n.length;i<r&&!t.propagationImmediatelyStopped;i++)n[i].fn.call(n[i].context,t,e)}pickTarget(t,e,n){let i;const r=this.rootTarget.pick(t,e);return i=r&&r.graphic?r.graphic:r&&r.group?r.group:this.rootTarget.AABBBounds.contains(t,e)?this.rootTarget:null,n&&(n.pickParams=r.params),i}release(){this.dispatch.removeAllListeners(),this.eventPool.clear(),this.rootTarget=null,this.mappingTable=null,this.mappingState=null,this.cursorTarget=null}}const G={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Z{constructor(t){this.resolution=1,this.onPointerDown=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType)return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let t=0,n=e.length;t<n;t++){const n=e[t],i=this.bootstrapEvent(this.rootPointerEvent,n);this.manager.mapEvent(i)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerMove=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType)return;if(this.isEventOutsideOfTargetElement(t))return;const e=this.normalizeToPointerData(t);for(let t=0,n=e.length;t<n;t++){const n=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.manager.mapEvent(n)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerUp=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType)return;const e=this.isEventOutsideOfTargetViewPort(t)?"outside":"",n=this.normalizeToPointerData(t);for(let t=0,i=n.length;t<i;t++){const i=this.bootstrapEvent(this.rootPointerEvent,n[t]);i.type+=e,this.manager.mapEvent(i)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerOverOut=t=>{if(this.supportsTouchEvents&&"touch"===t.pointerType)return;const e=this.normalizeToPointerData(t);for(let t=0,n=e.length;t<n;t++){const n=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.manager.mapEvent(n)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onWheel=t=>{const e=this.normalizeWheelEvent(t);this.manager.mapEvent(e)};const{targetElement:e,resolution:n,rootNode:i,global:r,autoPreventDefault:o=!1,clickInterval:a,supportsTouchEvents:s=r.supportsTouchEvents,supportsPointerEvents:l=r.supportsPointerEvents}=t;this.manager=new V(i,{clickInterval:a,supportsTouchEvents:s}),this.globalObj=r,this.supportsPointerEvents=l,this.supportsTouchEvents=s,this.supportsMouseEvents=r.supportsMouseEvents,this.applyStyles=r.applyStyles,this.autoPreventDefault=o,this.eventsAdded=!1,this.rootPointerEvent=new N,this.rootWheelEvent=new z,this.cursorStyles={default:"inherit",pointer:"pointer"},this.resolution=n,this.setTargetElement(e)}release(){this.removeEvents(),this.manager&&this.manager.release(),this.domElement=null,this.manager=null,this.globalObj=null}setCursor(t,e){if(!e&&!this.manager.rootTarget.window._handler.canvas.controled)return;t||(t="default");const{applyStyles:n,domElement:i}=this;if(this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];r?"string"==typeof r&&n?i.style.cursor=r:"function"==typeof r?r(t):"object"==typeof r&&n&&Object.assign(i.style,r):n&&(0,k.Z)(t)&&!(0,E.Z)(this.cursorStyles,t)&&(i.style.cursor=t)}setTargetElement(t){this.removeEvents(),this.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const{globalObj:t,domElement:e}=this;this.supportsPointerEvents?(t.getDocument()?(t.getDocument().addEventListener("pointermove",this.onPointerMove,!0),t.getDocument().addEventListener("pointerup",this.onPointerUp,!0)):(e.addEventListener("pointermove",this.onPointerMove,!0),e.addEventListener("pointerup",this.onPointerUp,!0)),e.addEventListener("pointerdown",this.onPointerDown,!0),e.addEventListener("pointerleave",this.onPointerOverOut,!0),e.addEventListener("pointerover",this.onPointerOverOut,!0)):(t.getDocument()?(t.getDocument().addEventListener("mousemove",this.onPointerMove,!0),t.getDocument().addEventListener("mouseup",this.onPointerUp,!0)):(e.addEventListener("mousemove",this.onPointerMove,!0),e.addEventListener("mouseup",this.onPointerUp,!0)),e.addEventListener("mousedown",this.onPointerDown,!0),e.addEventListener("mouseout",this.onPointerOverOut,!0),e.addEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(e.addEventListener("touchstart",this.onPointerDown,!0),e.addEventListener("touchend",this.onPointerUp,!0),e.addEventListener("touchmove",this.onPointerMove,!0)),e.addEventListener("wheel",this.onWheel,{capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const{globalObj:t,domElement:e}=this;this.supportsPointerEvents?(t.getDocument()?(t.getDocument().removeEventListener("pointermove",this.onPointerMove,!0),t.getDocument().removeEventListener("pointerup",this.onPointerUp,!0)):(e.removeEventListener("pointermove",this.onPointerMove,!0),e.removeEventListener("pointerup",this.onPointerUp,!0)),e.removeEventListener("pointerdown",this.onPointerDown,!0),e.removeEventListener("pointerleave",this.onPointerOverOut,!0),e.removeEventListener("pointerover",this.onPointerOverOut,!0)):(t.getDocument()?(t.getDocument().removeEventListener("mousemove",this.onPointerMove,!0),t.getDocument().removeEventListener("mouseup",this.onPointerUp,!0)):(e.removeEventListener("mousemove",this.onPointerMove,!0),e.removeEventListener("mouseup",this.onPointerUp,!0)),e.removeEventListener("mousedown",this.onPointerDown,!0),e.removeEventListener("mouseout",this.onPointerOverOut,!0),e.removeEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(e.removeEventListener("touchstart",this.onPointerDown,!0),e.removeEventListener("touchend",this.onPointerUp,!0),e.removeEventListener("touchmove",this.onPointerMove,!0)),e.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapToViewportPoint(t){return this.domElement.pointTransform?this.domElement.pointTransform(t.x,t.y):t}mapToCanvasPoint(t){var e,n;const i=null===(e=this.globalObj)||void 0===e?void 0:e.mapToCanvasPoint(t,this.domElement);if(i)return i;let r=0,o=0;if(t.changedTouches){const e=null!==(n=t.changedTouches[0])&&void 0!==n?n:{};r=e.clientX||0,o=e.clientY||0}else r=t.clientX||0,o=t.clientY||0;const a=this.domElement.getBoundingClientRect();return{x:r-a.left,y:o-a.top}}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t.changedTouches&&t.changedTouches.length)for(let n=0,i=t.changedTouches.length;n<i;n++){const i=t.changedTouches[n];B(i.button)&&(i.button=0),B(i.buttons)&&(i.buttons=1),B(i.isPrimary)&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),B(i.width)&&(i.width=i.radiusX||1),B(i.height)&&(i.height=i.radiusY||1),B(i.tiltX)&&(i.tiltX=0),B(i.tiltY)&&(i.tiltY=0),B(i.pointerType)&&(i.pointerType="touch"),B(i.pointerId)&&(i.pointerId=i.identifier||0),B(i.pressure)&&(i.pressure=i.force||.5),B(i.twist)&&(i.twist=0),B(i.tangentialPressure)&&(i.tangentialPressure=0),B(i.layerX)&&(i.layerX=i.offsetX=i.clientX),B(i.layerY)&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!this.globalObj.supportsMouseEvents||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof PointerEvent)){const n=t;B(n.isPrimary)&&(n.isPrimary=!0),B(n.width)&&(n.width=1),B(n.height)&&(n.height=1),B(n.tiltX)&&(n.tiltX=0),B(n.tiltY)&&(n.tiltY=0),B(n.pointerType)&&(n.pointerType="mouse"),B(n.pointerId)&&(n.pointerId=1),B(n.pressure)&&(n.pressure=.5),B(n.twist)&&(n.twist=0),B(n.tangentialPressure)&&(n.tangentialPressure=0),n.isNormalized=!0,e.push(n)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;this.transferMouseData(e,t),e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ;const{x:n,y:i}=this.mapToCanvasPoint(t);e.canvas.x=n,e.canvas.y=i,e.global.x=n,e.global.y=i,e.offset.x=n,e.offset.y=i;const{x:r,y:o}=this.mapToViewportPoint(e);return e.viewport.x=r,e.viewport.y=o,e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);const{x:n,y:i}=this.mapToCanvasPoint(e);t.canvas.x=n,t.canvas.y=i,t.global.x=n,t.global.y=i,t.offset.x=n,t.offset.y=i;const{x:r,y:o}=this.mapToViewportPoint(t);return t.viewport.x=r,t.viewport.y=o,t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=G[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=W.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null}isEventOutsideOfTargetViewPort(t){if(this.isEventOutsideOfTargetElement(t))return!0;if(this.domElement.getViewBox){const e=this.mapToViewportPoint(this.mapToCanvasPoint(t)),n=this.domElement.getViewBox(),i=n.width(),r=n.height();return!(e.x<i&&e.y<r&&e.x>0&&e.y>0)}return!1}isEventOutsideOfTargetElement(t){let e=t.target;return t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]),e!==(this.domElement.getNativeHandler?this.domElement.getNativeHandler().nativeCanvas:this.domElement)}pauseTriggerEvent(){this.manager.pauseNotify=!0}resumeTriggerEvent(){this.manager.pauseNotify=!1}}var U=n(51179),K=n(92096),$=n(9353),X=n(40139),Y=n(21817),q=n(19122),J=n(92908);class Q{constructor(){this.name="AutoRenderPlugin",this.activeEvent="onRegister",this._uid=q.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=t=>{t.glyphHost&&(t=t.glyphHost),t.stage===this.pluginService.stage&&null!=t.stage&&t.stage.renderNextFrame()}}activate(t){this.pluginService=t,J.w.graphicService.hooks.onAttributeUpdate.tap(this.key,this.handleChange),J.w.graphicService.hooks.onSetStage.tap(this.key,this.handleChange),J.w.graphicService.hooks.onRemove.tap(this.key,this.handleChange)}deactivate(t){const e=t=>t.filter((t=>t.name!==this.key));J.w.graphicService.hooks.onAttributeUpdate.taps=e(J.w.graphicService.hooks.onAttributeUpdate.taps),J.w.graphicService.hooks.onSetStage.taps=e(J.w.graphicService.hooks.onSetStage.taps),J.w.graphicService.hooks.onRemove.taps=e(J.w.graphicService.hooks.onRemove.taps)}}class tt{constructor(){this.name="AutoRefreshPlugin",this.activeEvent="onRegister",this._uid=q.R.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=t=>{t.glyphHost&&(t=t.glyphHost),t.stage===this.pluginService.stage&&null!=t.stage&&t.stage.renderNextFrame()}}activate(t){this.pluginService=t,this.dpr=J.w.global.devicePixelRatio,this.refresh()}refresh(){this._refreshByMediaQuery()||this._refreshByRaf()}_refreshByRaf(){const t=J.w.global.getRequestAnimationFrame();this.rafId=t((()=>{J.w.global.devicePixelRatio!==this.dpr&&(this.dpr=J.w.global.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0)),this.refresh()}))}_refreshByMediaQuery(){try{const t=`(resolution: ${window.devicePixelRatio}dppx)`,e=()=>{window.devicePixelRatio!==this.dpr&&(this.dpr=window.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0))};matchMedia(t).addEventListener("change",e)}catch(t){return!1}return!0}deactivate(t){const e=J.w.global.getCancelAnimationFrame();e&&this.rafId&&e(this.rafId)}}class et{constructor(){this.name="IncrementalAutoRenderPlugin",this.activeEvent="onRegister",this.nextFrameRenderGroupSet=new Set,this.willNextFrameRender=!1,this.nextUserParams={},this._uid=q.R.GenAutoIncrementId(),this.key=this.name+this._uid}activate(t){this.pluginService=t,J.w.graphicService.hooks.onAddIncremental.tap(this.key,((e,n,i)=>{e.glyphHost&&(e=e.glyphHost),e.stage===t.stage&&null!=e.stage&&(this.nextUserParams.startAtId=n._uid,this.renderNextFrame(n))})),J.w.graphicService.hooks.onClearIncremental.tap(this.key,((e,n)=>{e.stage===t.stage&&null!=e.stage&&(this.nextUserParams.startAtId=e._uid,this.nextUserParams.restartIncremental=!0,this.renderNextFrame(e))}))}deactivate(t){J.w.graphicService.hooks.onAddIncremental.taps=J.w.graphicService.hooks.onAddIncremental.taps.filter((t=>t.name!==this.key)),J.w.graphicService.hooks.onClearIncremental.taps=J.w.graphicService.hooks.onClearIncremental.taps.filter((t=>t.name!==this.key))}renderNextFrame(t){this.nextFrameRenderGroupSet.add(t),this.willNextFrameRender||(this.willNextFrameRender=!0,J.w.global.getRequestAnimationFrame()((()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1})))}_doRenderInThisFrame(){const t=this.pluginService.stage;this.nextFrameRenderGroupSet.size&&(this.nextFrameRenderGroupSet.forEach((e=>{const n=e.layer;if(!n||!e.layer.subLayers)return;const i=e.layer.subLayers.get(e._uid);i&&i.drawContribution&&i.drawContribution.draw(t.renderService,Object.assign({stage:t,layer:n,viewBox:t.window.getViewBox(),transMatrix:t.window.getViewBoxTransform(),clear:"transparent",renderService:t.renderService,updateBounds:!1,startAtId:e._uid,context:i.layer.getNativeHandler().getContext()},this.nextUserParams))})),this.nextUserParams={},this.nextFrameRenderGroupSet.clear())}}const nt=new R.FB;class it{constructor(){this.name="DirtyBoundsPlugin",this.activeEvent="onRegister",this._uid=q.R.GenAutoIncrementId(),this.key=this.name+this._uid}activate(t){this.pluginService=t,t.stage.hooks.afterRender.tap(this.key,(t=>{t&&t===this.pluginService.stage&&t.dirtyBounds.clear()})),J.w.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,((t,e,n,i)=>{t.glyphHost&&(t=t.glyphHost),e&&e===this.pluginService.stage&&e.renderCount&&(t.isContainer&&!t.shouldSelfChangeUpdateAABBBounds()||n&&(nt.setValue(i.x1,i.y1,i.x2,i.y2),e.dirty(nt,t.parent&&t.parent.globalTransMatrix)))})),J.w.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,((t,e,n,i,r)=>{e&&e===this.pluginService.stage&&e.renderCount&&(t.isContainer&&!r||e.dirty(i.globalAABBBounds))})),J.w.graphicService.hooks.clearAABBBounds.tap(this.key,((t,e,n)=>{e&&e===this.pluginService.stage&&e.renderCount&&e&&e.dirty(n)})),J.w.graphicService.hooks.onRemove.tap(this.key,(t=>{const e=t.stage;e&&e===this.pluginService.stage&&e.renderCount&&e&&e.dirty(t.globalAABBBounds)}))}deactivate(t){J.w.graphicService.hooks.beforeUpdateAABBBounds.taps=J.w.graphicService.hooks.beforeUpdateAABBBounds.taps.filter((t=>t.name!==this.key)),J.w.graphicService.hooks.afterUpdateAABBBounds.taps=J.w.graphicService.hooks.afterUpdateAABBBounds.taps.filter((t=>t.name!==this.key)),J.w.graphicService.hooks.clearAABBBounds.taps=J.w.graphicService.hooks.clearAABBBounds.taps.filter((t=>t.name!==this.key)),t.stage.hooks.afterRender.taps=t.stage.hooks.afterRender.taps.filter((t=>t.name!==this.key)),J.w.graphicService.hooks.onRemove.taps=J.w.graphicService.hooks.onRemove.taps.filter((t=>t.name!==this.key))}}var rt;!function(t){t[t.INITIAL=0]="INITIAL",t[t.RUNNING=1]="RUNNING",t[t.PAUSE=2]="PAUSE"}(rt||(rt={}));class ot{static Avaliable(){return!!J.w.global.getRequestAnimationFrame()}avaliable(){return ot.Avaliable()}tick(t,e){J.w.global.getRequestAnimationFrame()((()=>{this.released||e(this)}))}release(){this.released=!0}getTime(){return Date.now()}}class at{static Avaliable(){return!0}avaliable(){return at.Avaliable()}tick(t,e){this.timerId=setTimeout((()=>{e(this)}),t)}release(){this.timerId>0&&(clearTimeout(this.timerId),this.timerId=-1)}getTime(){return Date.now()}}class st extends(D()){set mode(t){this._mode!==t&&(this._mode=t,this.setupTickHandler())}get mode(){return this._mode}constructor(t=[]){super(),this.handleTick=(t,e)=>{const{once:n=!1}=null!=e?e:{};this.ifCanStop()?this.stop():(this._handlerTick(),n||t.tick(this.interval,this.handleTick))},this._handlerTick=()=>{const t=this.tickerHandler.getTime();let e=0;this.lastFrameTime>=0&&(e=t-this.lastFrameTime),this.lastFrameTime=t,this.status===rt.RUNNING&&(this.tickCounts++,this.timelines.forEach((t=>{t.tick(e)})),this.emit("afterTick"))},this.init(),this.lastFrameTime=-1,this.tickCounts=0,this.timelines=t,this.autoStop=!0}init(){this.interval=NaN,this.status=rt.INITIAL,J.w.global.hooks.onSetEnv.tap("default-ticker",(()=>{this.initHandler()})),J.w.global.env&&this.initHandler()}addTimeline(t){this.timelines.push(t)}remTimeline(t){this.timelines=this.timelines.filter((e=>e!==t))}initHandler(){if(this._mode)return null;const t=[{mode:"raf",cons:ot},{mode:"timeout",cons:at}];for(let e=0;e<t.length;e++)if(t[e].cons.Avaliable()){this.mode=t[e].mode;break}return null}setupTickHandler(){let t;switch(this._mode){case"raf":t=new ot;break;case"timeout":t=new at;break;default:O.Y.getInstance().warn(""),t=new ot}return!!t.avaliable()&&(this.tickerHandler&&this.tickerHandler.release(),this.tickerHandler=t,!0)}setInterval(t){this.interval=t}getInterval(){return this.interval}setFPS(t){this.setInterval(1e3/t)}getFPS(){return 1e3/this.interval}tick(t){this.tickerHandler.tick(t,(t=>{this.handleTick(t,{once:!0})}))}tickTo(t){this.tickerHandler.tickTo&&this.tickerHandler.tickTo(t,(t=>{this.handleTick(t,{once:!0})}))}pause(){return this.status!==rt.INITIAL&&(this.status=rt.PAUSE,!0)}resume(){return this.status!==rt.INITIAL&&(this.status=rt.RUNNING,!0)}ifCanStop(){if(this.autoStop){if(!this.timelines.length)return!0;if(0===this.timelines.reduce(((t,e)=>t+e.animateCount),0))return!0}return!1}start(t=!1){if(this.status===rt.RUNNING)return!1;if(!this.tickerHandler)return!1;if(!t){if(this.status===rt.PAUSE)return!1;if(!this.timelines.length)return!1;if(0===this.timelines.reduce(((t,e)=>t+e.animateCount),0))return!1}return this.status=rt.RUNNING,this.tickerHandler.tick(0,this.handleTick),!0}stop(){this.status=rt.INITIAL,this.setupTickHandler(),this.lastFrameTime=-1}trySyncTickStatus(){this.status===rt.RUNNING&&this._handlerTick()}}var lt=n(85212);const ut=new st;ut.addTimeline(lt.P);ut.setFPS(60);var ht=n(12455),ct=n(23421),dt=n(93669),ft=n(51948);const pt="white";class gt extends K.ZA{set viewBox(t){this.window.setViewBox(t)}get viewBox(){return this.window.getViewBox()}get x(){return this.window.getViewBox().x1}set x(t){const e=this.window.getViewBox();e.translate(t-e.x1,0),this.window.setViewBox(e)}get y(){return this.window.getViewBox().y1}set y(t){const e=this.window.getViewBox();e.translate(0,t-e.y1),this.window.setViewBox(e)}get width(){return this.window.width}set width(t){this.resize(t,this.height)}get viewWidth(){return this.window.getViewBox().width()}set viewWidth(t){this.resizeView(t,this.viewHeight)}get viewHeight(){return this.window.getViewBox().height()}set viewHeight(t){this.resizeView(this.viewWidth,t)}get height(){return this.window.height}set height(t){this.resize(this.width,t)}get dpr(){return this.window.dpr}set dpr(t){this.setDpr(t)}get background(){var t;return null!==(t=this._background)&&void 0!==t?t:pt}set background(t){this._background=t}get defaultLayer(){return this.at(0)}get eventSystem(){return this._eventSystem}constructor(t={}){var e;super({}),this.tickedBeforeRender=!0,this._onVisibleChange=t=>{if(!(this._skipRender<0))if(t){if(this.dirtyBounds){const t=this.window.getViewBox();this.dirtyBounds.setValue(t.x1,t.y1,t.width(),t.height())}this._skipRender>1&&this.renderNextFrame(),this._skipRender=0}else this._skipRender=1},this.beforeRender=t=>{this._beforeRender&&this._beforeRender(t)},this.afterRender=t=>{this.renderCount++,this._afterRender&&this._afterRender(t),this._afterNextRenderCbs&&this._afterNextRenderCbs.forEach((e=>e(t))),this._afterNextRenderCbs=null,this.tickedBeforeRender=!1},this.afterTickCb=()=>{var t;this.tickedBeforeRender=!0,"performance"===(null===(t=this.params.optimize)||void 0===t?void 0:t.tickRenderMode)||"rendering"!==this.state&&this.render()},this.params=t,this.theme=new $.Q2,this.hooks={beforeRender:new ht.n(["stage"]),afterRender:new ht.n(["stage"])},this.global=J.w.global,!this.global.env&&(0,dt.kP)()&&this.global.setEnv("browser"),this.window=A.n.get(P.Oo),this.renderService=A.n.get(U.pi),this.pluginService=A.n.get(Y.H),this.layerService=A.n.get(ct.IT),this.pluginService.active(this,t),this.window.create({width:t.width,height:t.height,viewBox:t.viewBox,container:t.container,dpr:t.dpr||this.global.devicePixelRatio,canvasControled:!1!==t.canvasControled,title:t.title||"",canvas:t.canvas}),this.state="normal",this.renderCount=0,this.tryInitEventSystem(),this._background=null!==(e=t.background)&&void 0!==e?e:pt,this.appendChild(this.layerService.createLayer(this,{main:!0})),this.nextFrameRenderLayerSet=new Set,this.willNextFrameRender=!1,this.stage=this,this.renderStyle=t.renderStyle,t.autoRender&&this.enableAutoRender(),t.autoRefresh&&this.enableAutoRefresh(),!1===t.disableDirtyBounds&&this.enableDirtyBounds(),t.enableHtmlAttribute&&this.enableHtmlAttribute(t.enableHtmlAttribute),t.ReactDOM&&this.enableReactAttribute(t.ReactDOM),t.enableLayout&&this.enableLayout(),this.hooks.beforeRender.tap("constructor",this.beforeRender),this.hooks.afterRender.tap("constructor",this.afterRender),this._beforeRender=t.beforeRender,this._afterRender=t.afterRender,this.ticker=t.ticker||ut,this.supportInteractiveLayer=!1!==t.interactiveLayer,this.timeline=new lt.L,this.ticker.addTimeline(this.timeline),this.timeline.pause(),t.optimize||(t.optimize={}),this.optmize(t.optimize),t.background&&(0,k.Z)(this._background)&&this._background.includes("/")&&this.setAttributes({background:this._background}),this.ticker.on("afterTick",this.afterTickCb)}pauseRender(t=-1){this._skipRender=t}resumeRender(){this._skipRender=0}tryInitEventSystem(){this.global.supportEvent&&!this._eventSystem&&(this._eventSystem=new Z(Object.assign({targetElement:this.window,resolution:this.window.dpr||this.global.devicePixelRatio,rootNode:this,global:this.global,supportsPointerEvents:this.params.supportsPointerEvents,supportsTouchEvents:this.params.supportsTouchEvents},this.params.event)))}preventRender(t){t?this._skipRender=-1/0:!1!==this.params.optimize.skipRenderWithOutRange?this._skipRender=this.window.isVisible()?0:1:this._skipRender=0}optmize(t){this.optmizeRender(t.skipRenderWithOutRange),this.params.optimize=t}optmizeRender(t=!1){t&&(this._skipRender=this._skipRender<0?this._skipRender:this.window.isVisible()?0:1,this.window.onVisibleChange(this._onVisibleChange))}getTimeline(){return this.timeline}get3dOptions(t){const{center:e={x:this.width/2,y:this.height/2,z:0,dx:0,dy:0,dz:0},light:n={},alpha:i=0,beta:r=0,camera:o,fieldRatio:a=1,fieldDepth:s}=t;return Object.assign(Object.assign({},t),{center:e,light:n,alpha:i,beta:r,camera:o,fieldRatio:a,fieldDepth:s})}set3dOptions(t){var e,n,i,r,o,a;this.option3d=t;const s=this.get3dOptions(t),{light:l,center:u,camera:h,alpha:c,beta:d,fieldRatio:f,fieldDepth:p}=s,{dir:g=[1,1,-1],color:m="white",ambient:v}=l,y=(null!==(e=u.x)&&void 0!==e?e:this.width/2)+(null!==(n=u.dx)&&void 0!==n?n:0),b=(null!==(i=u.y)&&void 0!==i?i:this.height/2)+(null!==(r=u.dy)&&void 0!==r?r:0),w=[y,b,(null!==(o=u.z)&&void 0!==o?o:0)+(null!==(a=u.dz)&&void 0!==a?a:0)];let x=0,_=0,C=0;h||(x=Math.sin(c)+y,_=Math.sin(d)+b,C=Math.cos(c)*Math.cos(d)*1);const S=ft.F.getPlugin("DirectionalLight");S&&(this.light=new S(g,m,v));const M={left:0,right:this.width,top:0,bottom:this.height,fieldRatio:f,fieldDepth:p,viewParams:{pos:[x,_,C],center:w,up:[0,1,0]}};if(this.camera)this.camera.params=M;else{const t=ft.F.getPlugin("OrthoCamera");t&&(this.camera=new t(M))}t.enableView3dTransform&&this.enableView3dTransform()}setBeforeRender(t){this._beforeRender=t}setAfterRender(t){this._afterRender=t}afterNextRender(t){this._afterNextRenderCbs||(this._afterNextRenderCbs=[]),this._afterNextRenderCbs.push(t)}enableView3dTransform(){if(this.view3dTranform)return;this.view3dTranform=!0;const t=ft.F.getPlugin("ViewTransform3dPlugin");t&&this.pluginService.register(new t)}disableView3dTranform(){this.view3dTranform&&(this.view3dTranform=!1,this.pluginService.findPluginsByName("ViewTransform3dPlugin").forEach((t=>{this.pluginService.unRegister(t)})))}enableAutoRender(){this.autoRender||(this.autoRender=!0,this.pluginService.register(new Q))}disableAutoRender(){this.autoRender&&(this.autoRender=!1,this.pluginService.findPluginsByName("AutoRenderPlugin").forEach((t=>{this.pluginService.unRegister(t)})))}enableAutoRefresh(){this.autoRefresh||(this.autoRefresh=!0,this.pluginService.register(new tt))}disableAutoRefresh(){this.autoRefresh&&(this.autoRefresh=!1,this.pluginService.findPluginsByName("AutoRefreshPlugin").forEach((t=>{this.pluginService.unRegister(t)})))}enableIncrementalAutoRender(){this.increaseAutoRender||(this.increaseAutoRender=!0,this.pluginService.register(new et))}disableIncrementalAutoRender(){this.increaseAutoRender&&(this.increaseAutoRender=!1,this.pluginService.findPluginsByName("IncrementalAutoRenderPlugin").forEach((t=>{this.pluginService.unRegister(t)})))}enableDirtyBounds(){if(this.dirtyBounds)return;this.dirtyBounds=new R.YZ;let t=this.pluginService.findPluginsByName("DirtyBoundsPlugin")[0];t?t.activate(this.pluginService):(t=new it,this.pluginService.register(t))}disableDirtyBounds(){this.dirtyBounds&&(this.dirtyBounds=null,this.pluginService.findPluginsByName("DirtyBoundsPlugin").forEach((t=>{this.pluginService.unRegister(t)})))}enableLayout(){if(this._enableLayout)return;this._enableLayout=!0;const t=ft.F.getPlugin("FlexLayoutPlugin");t&&this.pluginService.register(new t)}disableLayout(){this._enableLayout&&(this._enableLayout=!1,this.pluginService.findPluginsByName("FlexLayoutPlugin").forEach((t=>{this.pluginService.unRegister(t)})))}enableHtmlAttribute(t){if(this.htmlAttribute)return;const e=ft.F.getPlugin("HtmlAttributePlugin");e&&(this.htmlAttribute=t,this.pluginService.register(new e))}disableHtmlAttribute(){this.htmlAttribute&&(this.htmlAttribute=!1,this.pluginService.findPluginsByName("HtmlAttributePlugin").forEach((t=>{this.pluginService.unRegister(t)})))}enableReactAttribute(t){if(this.reactAttribute)return;const e=ft.F.getPlugin("ReactAttributePlugin");e&&(this.reactAttribute=t,this.pluginService.register(new e))}disableReactAttribute(){this.reactAttribute&&(this.reactAttribute=!1,this.pluginService.findPluginsByName("ReactAttributePlugin").forEach((t=>{this.pluginService.unRegister(t)})))}getPluginsByName(t){return this.pluginService.findPluginsByName(t)}tryUpdateAABBBounds(){const t=this.window.getViewBox();return this._AABBBounds.setValue(t.x1,t.y1,t.x2,t.y2),this._AABBBounds}combineLayer(t,e){throw new Error("")}createLayer(t,e){if("released"===this.releaseStatus)return;const n=this.layerService.createLayer(this,{main:!1,layerMode:e,canvasId:t});return this.appendChild(n),n}sortLayer(t){const e=this.children;e.sort(t),this.removeAllChild(),e.forEach((t=>{this.appendChild(t)}))}removeLayer(t){return this.removeChild(this.findChildByUid(t))}tryInitInteractiveLayer(){"released"!==this.releaseStatus&&this.supportInteractiveLayer&&!this.interactiveLayer&&(this.interactiveLayer=this.createLayer(),this.interactiveLayer.name="_builtin_interactive",this.interactiveLayer.attribute.pickable=!1,this.nextFrameRenderLayerSet.add(this.interactiveLayer))}clearViewBox(t){this.window.clearViewBox(t)}render(t,e){if("released"===this.releaseStatus)return;this.ticker.start(),this.timeline.resume();const n=this.state;this.state="rendering",this.tickedBeforeRender||this.ticker.trySyncTickStatus(),this.layerService.prepareStageLayer(this),this._skipRender||(this.lastRenderparams=e,this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(this.children),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=n,this._skipRender&&this._skipRender++}combineLayersToWindow(){if("harmony"===this.global.env){const t=this.window.getContext().nativeContext;this.forEachChildren(((e,n)=>{if(n>0){const n=e.getNativeHandler().getContext().canvas.nativeCanvas.nativeCanvas._c.transferToImageBitmap();t.transferFromImageBitmap(n)}}))}}renderNextFrame(t,e){this.nextFrameRenderLayerSet.size!==this.childrenCount&&(t||this).forEach((t=>{this.nextFrameRenderLayerSet.add(t)})),this.willNextFrameRender||(this.willNextFrameRender=!0,this.global.getRequestAnimationFrame()((()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1})))}_doRenderInThisFrame(){if("released"===this.releaseStatus)return;this.timeline.resume(),this.ticker.start();const t=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this.nextFrameRenderLayerSet.size&&!this._skipRender&&(this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(Array.from(this.nextFrameRenderLayerSet.values()),this.lastRenderparams||{}),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=t,this._skipRender&&this._skipRender++}renderLayerList(t,e){const n=[];for(let e=0;e<t.length;e++){let i=t[e];"virtual"===i.layerMode&&(i=i.getNativeHandler().mainHandler.layer),n.includes(i)||n.push(i)}n.forEach((t=>{t.renderCount>this.renderCount||(t.renderCount=this.renderCount+1,t===this.interactiveLayer&&this.dirtyBounds&&this.dirtyBounds.clear(),t.render({renderService:this.renderService,background:t===this.defaultLayer?this.background:void 0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},e)))})),this.interactiveLayer&&!t.includes(this.interactiveLayer)&&(this.dirtyBounds&&this.dirtyBounds.clear(),this.interactiveLayer.render({renderService:this.renderService,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},e)))}resizeWindow(t,e,n=!0){this.window.resize(t,e),n&&this.render()}resize(t,e,n=!0){"released"!==this.releaseStatus&&(this.window.hasSubView()||this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+t,this.viewBox.y1+e),this.window.resize(t,e),this.forEachChildren((n=>{n.resize(t,e)})),this.camera&&this.option3d&&this.set3dOptions(this.option3d),n&&this.render())}resizeView(t,e,n=!0){"released"!==this.releaseStatus&&(this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+t,this.viewBox.y1+e),this.forEachChildren((n=>{n.resizeView(t,e)})),this.camera&&(this.camera.params=Object.assign(Object.assign({},this.camera.params),{right:this.width,bottom:this.height})),n&&this.render())}setViewBox(t,e,n,i,r){let o=!0;"object"==typeof t?(this.viewBox.setValue(t.x1,t.y1,t.x2,t.y2),!1===e&&(o=!1)):(this.viewBox.setValue(t,e,t+n,e+i),!1===r&&(o=!1)),this.forEachChildren((t=>{t.resizeView(this.viewBox.width(),this.viewBox.height())})),o&&this.render()}setDpr(t,e=!0){this.forEachChildren((e=>{e.setDpr(t)})),e&&this.render()}setOrigin(t,e){throw new Error("")}export(t){throw new Error("")}pick(t,e){if("released"===this.releaseStatus)return;const n=this.getPickerService().pick(this.children,new I.E9(t,e),{bounds:this.AABBBounds});return!(!(null==n?void 0:n.graphic)&&!(null==n?void 0:n.group))&&n}startAnimate(t){throw new Error("")}setToFrame(t){throw new Error("")}release(){super.release(),this.hooks.beforeRender.unTap("constructor",this.beforeRender),this.hooks.afterRender.unTap("constructor",this.afterRender),this.eventSystem&&this.eventSystem.release(),this.layerService.releaseStage(this),this.pluginService.release(),this.forEach((t=>{t.release()})),this.interactiveLayer&&(this.interactiveLayer.forEachChildren((t=>{t.setStage&&t.setStage(null,null),this.interactiveLayer.removeChild(t)})),this.interactiveLayer.release()),this.window.release(),this.ticker.remTimeline(this.timeline),this.ticker.removeListener("afterTick",this.afterTickCb),this.renderService.renderTreeRoots=[]}setStage(t){}dirty(t,e){"released"!==this.releaseStatus&&(e&&t.transformWithMatrix(e),this.dirtyBounds.empty()&&this.dirtyBounds.setValue(t.x1,t.y1,t.x2,t.y2),this.dirtyBounds.union(t))}getLayer(t){return this.children.filter((e=>e.name===t))[0]}renderTo(t){"released"!==this.releaseStatus&&this.forEachChildren(((e,n)=>{e.drawTo(t,{renderService:this.renderService,viewBox:t.getViewBox(),transMatrix:t.getViewBoxTransform(),background:e===this.defaultLayer?this.background:void 0,clear:0===n,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty())})}))}renderToNewWindow(t=!0,e){if("released"===this.releaseStatus)return;const n=A.n.get(P.Oo),i=e?-e.x1:0,r=e?-e.y1:0,o=e?e.x2:this.viewWidth,a=e?e.y2:this.viewHeight,s=e?e.width():this.viewWidth,l=e?e.height():this.viewHeight;return n.create({viewBox:{x1:i,y1:r,x2:o,y2:a},width:s,height:l,dpr:this.window.dpr,canvasControled:!0,offscreen:!0,title:""}),this.renderTo(n),n}toCanvas(t=!0,e){if("released"===this.releaseStatus)return;const n=this.renderToNewWindow(t,e).getNativeHandler();return n.nativeCanvas?n.nativeCanvas:null}setCursor(t){this._cursor=t,this.eventSystem.setCursor(t,"ignore")}getCursor(){return this._cursor}eventPointTransform(t){const e=this.global.mapToCanvasPoint(t,this.window.getContext().canvas.nativeCanvas);return this.stage.window.pointTransform(e.x,e.y)}pauseTriggerEvent(){this._eventSystem&&this._eventSystem.pauseTriggerEvent()}resumeTriggerEvent(){this._eventSystem&&this._eventSystem.resumeTriggerEvent()}getPickerService(){return this.pickerService||(this.pickerService=A.n.get(X.hH)),this.pickerService}}var mt=n(23186),vt=n(68725),yt=n(37740),bt=n(95433),wt=n(99766),xt=n(21969),_t=n(94303),Ct=n(65833),St=n(87689),Mt=n(66990);function At(t){return!!("cell"===t.role&&(0,Mt.Z)(t.mergeStartCol)&&(0,Mt.Z)(t.mergeStartRow)&&(0,Mt.Z)(t.mergeEndCol)&&(0,Mt.Z)(t.mergeEndRow))}var Tt=n(85650),kt=n(91192),Rt=n(53036);function It(t,e){if(!e||!e.proxy)return{colStart:0,colEnd:0,rowStart:0,rowEnd:0};const{mergeStartCol:n,mergeEndCol:i,mergeStartRow:r,mergeEndRow:o,col:a,row:s}=t;return{colStart:n,colEnd:i,rowStart:r,rowEnd:o}}function Pt(t,e,n,i){i||t.table._setRowHeight(e,t.table.getRowHeight(e)+n,!0);for(let i=0;i<t.table.colCount;i++){const r=t.getCell(i,e);if("empty"===r.role)continue;const o=(0,yt.Z)(t.table,i,e);o&&o.start.col!==i||(Et(t,r,i,e,r.attribute.height+n,n,t.table.isHeader(i,e)),t.updateCellContentWhileResize(i,e))}let r=0,o=0;e<t.table.frozenRowCount?(r=e+1,o=t.table.frozenRowCount-1):e>=t.table.rowCount-t.table.bottomFrozenRowCount?(r=e+1,o=t.table.rowCount-1):(r=e+1,o=Math.min(t.proxy.rowEnd,t.table.rowCount-t.table.bottomFrozenRowCount-1));for(let e=0;e<t.table.colCount;e++)for(let i=r;i<=o;i++){const r=t.highPerformanceGetCell(e,i);"cell"===r.role&&r.setAttribute("y",r.attribute.y+n)}}function Et(t,e,n,i,r,o,a){e&&Bt(t,e,n,i,r,o,a)}function Bt(t,e,n,i,r,o,a){var s,l,u,h,c;if(e.attribute.height===r&&!e.needUpdateHeight)return;e.needUpdateHeight=!1,e.setAttribute("height",r);const d=null===(s=t.table.getCellRawRecord(n,i))||void 0===s?void 0:s.vtableMerge,f=!!t.table.getCustomMerge(n,i),p=d||f?"text":t.table.isHeader(n,i)?null!==(l=t.table._getHeaderLayoutMap(n,i).headerType)&&void 0!==l?l:"text":null!==(u=t.table.getBodyColumnType(n,i))&&void 0!==u?u:"text";if("progressbar"===p){const a=t.table.getBodyColumnDefine(n,i),s=t.table._getCellStyle(n,i),l=t.table.getCellValue(n,i),u=t.table.getCellOriginValue(n,i),h=(0,Tt.u)((0,St.WJ)("padding",s,n,i,t.table));let c;(null==a?void 0:a.mergeCell)&&(c=t.table.getCellRange(n,i));const d=bt.F.getFunction("createProgressBarCell")(a,s,e.attribute.width,l,u,n,i,h,t.table,c),f=e.getChildByName("progress-bar");e.insertBefore(d,f),e.removeChild(f),f.removeAllChild(),f.release(),Lt(e,r,o,t.table.isAutoRowHeight(i),!0,t.table)}else if("sparkline"===p){e.removeAllChild();const r=t.table._getCellStyle(n,i),o=(0,Tt.u)((0,St.WJ)("padding",r,n,i,t.table));bt.F.getFunction("createSparkLineCellGroup")(e,e.parent,e.attribute.x,e.attribute.y,n,i,e.attribute.width,e.attribute.height,o,t.table,(0,wt.RT)(r,t.table,n,i,St.WJ).theme,!1)}else if("image"===p||"video"===p)(0,_t.km)(e,n,i,0,o,t.table);else if("axis"===(null===(h=e.firstChild)||void 0===h?void 0:h.name))null===(c=e.firstChild)||void 0===c||c.originAxis.resize(e.attribute.width,e.attribute.height);else{let a=!0;const s=e.getChildByName(xt.FH)||e.getChildByName(xt.cd);if(s){let r;e.removeChild(s);const o=(0,Ct.l7)(n,i,e,t.table);if(o)for(let e=o.start.row;e<=o.end.row;e++){if(e===i)continue;const r=t.getCell(n,e),o=r.getChildByName(xt.FH)||r.getChildByName(xt.cd);o.removeAllChild(),r.removeChild(o),(0,Ct.l7)(n,e,r,t.table)}else{let o,s;const l=t.table.getCellLocation(n,i),{vtableMerge:u}=t.table.getCellRawRecord(n,i)||{};if(u&&t.table.options.groupTitleCustomLayout)s=t.table.options.groupTitleCustomLayout;else if("body"!==l){const e=t.table.getHeaderDefine(n,i);o=null==e?void 0:e.headerCustomRender,s=null==e?void 0:e.headerCustomLayout}else{const e=t.table.getBodyColumnDefine(n,i);o=(null==e?void 0:e.customRender)||t.table.customRender,s=null==e?void 0:e.customLayout}if((o||s)&&At(e))for(let n=e.mergeStartCol;n<=e.mergeEndCol;n++)for(let r=e.mergeStartRow;r<=e.mergeEndRow;r++)r!==i&&t.updateCellContent(n,r);if(s||o){const l=t.table._getCellStyle(n,i),u=(0,Tt.u)((0,St.WJ)("padding",l,n,i,t.table));let h=e.attribute.width,c=e.attribute.height;At(e)&&(h=t.table.getColsWidth(e.mergeStartCol,e.mergeEndCol),c=t.table.getRowsHeight(e.mergeStartRow,e.mergeEndRow));const d=(0,xt.ws)(s,o,n,i,h,c,!1,t.table.isAutoRowHeight(i),u,At(e)?{start:{col:e.mergeStartCol,row:e.mergeStartRow},end:{col:e.mergeEndCol,row:e.mergeEndRow}}:void 0,t.table);r=d.elementsGroup,a=d.renderDefault}e.childrenCount>0&&r?e.insertBefore(r,e.firstChild):r&&e.appendChild(r)}}Lt(e,r,o,t.table.isAutoRowHeight(i),a,t.table)}}function Lt(t,e,n,i,r,o){if(At(t)){e=0;for(let n=t.mergeStartRow;n<=t.mergeEndRow;n++)e+=o.getRowHeight(n);const{colStart:a,colEnd:s,rowStart:l,rowEnd:u}=It(t,o.scenegraph);for(let h=a;h<=s;h++)for(let s=l;s<=u;s++){const u=o.scenegraph.getCell(h,s);if("cell"!==u.role)continue;if(u.forEachChildren((t=>{t.setAttributes({dx:0,dy:0})})),r){const t=o._getCellStyle(a,l),r=(0,Tt.u)((0,St.WJ)("padding",t,h,s,o));(0,kt.Zl)(u,e,n,i,r,t.textAlign,t.textBaseline,o)}const c=o.getRowHeight(s),d=o.getColWidth(h);u.contentHeight=e;const{widthChange:f}=(0,Ct.NQ)(u,d,c,{start:{col:t.mergeStartCol,row:t.mergeStartRow},end:{col:t.mergeEndCol,row:t.mergeEndRow}},o);f&&(u.needUpdateWidth=!0)}}else{const r=o._getCellStyle(t.col,t.row),a=(0,Tt.u)((0,St.WJ)("padding",r,t.col,t.row,o));(0,kt.Zl)(t,e,n,i,a,r.textAlign,r.textBaseline,o)}}var Dt=n(7666);function Ot(t,e,n,i){var r,o,a,s,l,u,h;let c=!1;const d=null!==(r=null==t?void 0:t.attribute.width)&&void 0!==r?r:0;if(null==t||t.setAttribute("width",d+e),null==t||t.forEachChildren(((t,r)=>{if(function(t,e,n,i,r,o,a,s,l){var u,h,c,d,f,p,g;if(e.attribute.width===o&&!e.needUpdateWidth)return!1;e.needUpdateWidth=!1,e.setAttribute("width",o);const m=e;if(!m)return!1;const v=t.table.isAutoRowHeight(i),y=null===(u=t.table.getCellRawRecord(n,i))||void 0===u?void 0:u.vtableMerge,b=!!t.table.getCustomMerge(n,i),w=y||b?"text":t.table.isHeader(n,i)?null!==(h=t.table._getHeaderLayoutMap(n,i).headerType)&&void 0!==h?h:"text":null!==(c=t.table.getBodyColumnType(n,i))&&void 0!==c?c:"text";let x=!1;if("progressbar"===w){const e=t.table.getBodyColumnDefine(n,i),r=t.table._getCellStyle(n,i),s=t.table.getCellValue(n,i),l=t.table.getCellOriginValue(n,i),u=(0,Tt.u)((0,St.WJ)("padding",r,n,i,t.table));let h;(null==e?void 0:e.mergeCell)&&(h=t.table.getCellRange(n,i));const c=bt.F.getFunction("createProgressBarCell")(e,r,m.attribute.width,s,l,n,i,u,t.table,h),d=m.getChildByName("progress-bar");m.insertBefore(c,d),m.removeChild(d),d.removeAllChild(),d.release();const f=Ft(m,o,a,v,!0,t.table);x=x||f}else if("sparkline"===w){m.removeAllChild();const e=t.table._getCellStyle(n,i),r=(0,Tt.u)((0,St.WJ)("padding",e,n,i,t.table));bt.F.getFunction("createSparkLineCellGroup")(m,m.parent,m.attribute.x,m.attribute.y,n,i,m.attribute.width,m.attribute.height,r,t.table,(0,wt.RT)(e,t.table,n,i,St.WJ).theme,!1)}else if("image"===w||"video"===w)(0,_t.km)(m,n,i,a,0,t.table);else if("axis"===(null===(d=m.firstChild)||void 0===d?void 0:d.name)){const e=t.table.internalProps.layoutMap.getAxisConfigInPivotChart(n,i),r=t.table._getCellStyle(n,i),o=(0,Tt.u)((0,St.WJ)("padding",r,n,i,t.table));if(e){const n=new(bt.F.getComponent("axis"))(e,m.attribute.width,m.attribute.height,null!==(f=e.__vtablePadding)&&void 0!==f?f:o,t.table);m.clear(),m.appendChild(n.component),n.overlap()}}else if("axis"===(null===(p=e.firstChild)||void 0===p?void 0:p.name))null===(g=e.firstChild)||void 0===g||g.originAxis.resize(e.attribute.width,e.attribute.height);else{let r=!0;const s=e.getChildByName(xt.FH)||e.getChildByName(xt.cd);if(s){let o;e.removeChild(s);const a=(0,Ct.l7)(n,i,e,t.table);if(a)for(let e=a.start.col;e<=a.end.col;e++){if(e===n)continue;const r=t.getCell(e,i),o=r.getChildByName(xt.FH)||r.getChildByName(xt.cd);o.removeAllChild(),r.removeChild(o),(0,Ct.l7)(e,i,r,t.table)}else{let a,s;const l=t.table.getCellLocation(n,i),{vtableMerge:u}=t.table.getCellRawRecord(n,i)||{};if(u&&t.table.options.groupTitleCustomLayout)s=t.table.options.groupTitleCustomLayout;else if("body"!==l){const e=t.table.getHeaderDefine(n,i);a=null==e?void 0:e.headerCustomRender,s=null==e?void 0:e.headerCustomLayout}else{const e=t.table.getBodyColumnDefine(n,i);a=(null==e?void 0:e.customRender)||t.table.customRender,s=null==e?void 0:e.customLayout}if((a||s)&&At(m))for(let e=m.mergeStartCol;e<=m.mergeEndCol;e++)if(e!==n)for(let n=m.mergeStartRow;n<=m.mergeEndRow;n++)t.updateCellContent(e,n);if(s||a){const e=t.table._getCellStyle(n,i),l=(0,Tt.u)((0,St.WJ)("padding",e,n,i,t.table));let u=m.attribute.width,h=m.attribute.height;At(m)&&(u=t.table.getColsWidth(m.mergeStartCol,m.mergeEndCol),h=t.table.getRowsHeight(m.mergeStartRow,m.mergeEndRow));const c=(0,xt.ws)(s,a,n,i,u,h,!1,t.table.isAutoRowHeight(i),l,At(m)?{start:{col:m.mergeStartCol,row:m.mergeStartRow},end:{col:m.mergeEndCol,row:m.mergeEndRow}}:void 0,t.table);o=c.elementsGroup,r=c.renderDefault,x=!0}e.childrenCount>0&&o?e.insertBefore(o,e.firstChild):o&&e.appendChild(o)}}const l=Ft(m,o,a,v,r,t.table);x=x||l}l||(l=t.table._getCellStyle(n,i).autoWrapText);return!(!v||!l)&&x}(i,t,t.col,t.row,0,d+e,e,"row-body"!==n||(t.col,i.table.rowHeaderLevelCount),i.table.internalProps.autoWrapText)){const e=(0,yt.Z)(i.table,t.col,t.row);if(e&&e.end.row-e.start.row)for(let t=e.start.row;t<=e.end.row;t++)Ht(i,t);else Ht(i,t.row);c=!0}})),c){let t,e,r,c=0;for(let d=0;d<i.table.colCount;d++){if("col-corner"===n?(r=0,t=i.getColGroup(d,!0),e=null!==(o=i.colHeaderGroup.attribute.height)&&void 0!==o?o:0):"row-body"===n?(r=i.table.frozenRowCount,t=i.getColGroup(d,!1),e=null!==(a=i.bodyGroup.attribute.height)&&void 0!==a?a:0):"bottom"===n?(r=i.table.rowCount-i.table.bottomFrozenRowCount,t=i.getColGroupInBottom(d),e=null!==(s=i.bottomFrozenGroup.attribute.height)&&void 0!==s?s:0):"left-bottom"===n?(r=i.table.rowCount-i.table.bottomFrozenRowCount,t=i.getColGroupInLeftBottomCorner(d),e=null!==(l=i.leftBottomCornerGroup.attribute.height)&&void 0!==l?l:0):"right-top"===n?(r=0,t=i.getColGroupInRightTopCorner(d),e=null!==(u=i.rightTopCornerGroup.attribute.height)&&void 0!==u?u:0):"right-bottom"===n&&(r=i.table.rowCount-i.table.bottomFrozenRowCount,t=i.getColGroupInRightBottomCorner(d),e=null!==(h=i.rightBottomCornerGroup.attribute.height)&&void 0!==h?h:0),!t)continue;let f=0;t.forEachChildren((t=>{var e;t.setAttribute("y",f),f+=null!==(e=i.table.getRowHeight(t.row))&&void 0!==e?e:0})),c=f}i.updateContainerHeight(r,c-e);for(let t=0;t<i.table.frozenColCount;t++){const e=i.getColGroupInLeftBottomCorner(t);let n=0;null==e||e.forEachChildren((t=>{t.setAttribute("y",n),n+=i.table.getRowHeight(t.row)}))}for(let t=i.table.colCount-i.table.rightFrozenColCount;t<i.table.colCount;t++){const e=i.getColGroupInRightBottomCorner(t);let n=0;null==e||e.forEachChildren((t=>{t.setAttribute("y",n),n+=i.table.getRowHeight(t.row)}))}for(let t=i.table.frozenColCount;t<i.table.colCount-i.table.rightFrozenColCount;t++){const e=i.getColGroupInBottom(t);let n=0;null==e||e.forEachChildren((t=>{t.setAttribute("y",n),n+=i.table.getRowHeight(t.row)}))}}}function Ft(t,e,n,i,r,o){if(At(t)){e=0;let a=!1;for(let n=t.mergeStartCol;n<=t.mergeEndCol;n++)e+=o.getColWidth(n);let s=0;for(let e=t.mergeStartRow;e<=t.mergeEndRow;e++)s+=o.getRowHeight(e);const{colStart:l,colEnd:u,rowStart:h,rowEnd:c}=It(t,o.scenegraph);for(let d=l;d<=u;d++)for(let u=h;u<=c;u++){if(d===t.col&&u!==t.row)continue;const c=o.scenegraph.getCell(d,u);if("cell"!==c.role)continue;c.forEachChildren((t=>{t.setAttributes({dx:0,dy:0})}));let f=!1;if(r){const t=o._getCellStyle(l,h),r=(0,Tt.u)((0,St.WJ)("padding",t,d,u,o)),a=t.textAlign,p=t.textBaseline;f=(0,kt.qs)(c,e,s,n,i,r,a,p,o.scenegraph);const g=(0,Dt.L)(c.col,c.row,o);if(g){const t=c.getChildByName("text"),e=c.getChildByName("expand")||c.getChildByName("collapse");"icon-left"!==(null==e?void 0:e.role)&&t&&t.setAttribute("dx",g)}}const p=o.getRowHeight(u),g=o.getColWidth(d);c.contentWidth=e;const{heightChange:m}=(0,Ct.NQ)(c,g,p,{start:{col:t.mergeStartCol,row:t.mergeStartRow},end:{col:t.mergeEndCol,row:t.mergeEndRow}},o);m&&(c.needUpdateHeight=!0),a=a||f}return a}const a=o._getCellStyle(t.col,t.row),s=(0,Tt.u)((0,St.WJ)("padding",a,t.col,t.row,o)),l=a.textAlign,u=a.textBaseline;return(0,kt.qs)(t,e,o.getRowHeight(t.row),n,i,s,l,u,o.scenegraph)}function Ht(t,e){const n=Math.round((0,Rt.P)(e,0,t.table.colCount-1,t.table));t.table._setRowHeight(e,n,!0);for(let i=0;i<t.table.colCount;i++){const r=n,o=t.highPerformanceGetCell(i,e);"empty"!==o.role&&Et(t,o,i,e,r,r-o.attribute.height,t.table.isHeader(i,e))}}var Nt,zt=n(64877),Wt=n(85830),jt=n(95063),Vt=n(17705),Gt=n(58788),Zt=n(18593);!function(t){t.dropDown="dropDown",t.contextmenu="contextmenu",t.custom="custom"}(Nt||(Nt={}));const Ut=12,Kt="Arial,sans-serif",$t="#000",Xt="#2E68CF",Yt="#EEE",qt=30,Jt="#FFF",Qt=4,te=.5,ee="#CCC",ne=6,ie=9,re=200;class oe{constructor(t){this._table=t,this._menuInstance=new Gt.Z({x:0,y:0,fill:Jt,stroke:ee,cornerRadius:Qt,lineWidth:te}),this._menuInfo={x:-1,y:-1,col:-1,row:-1,type:Nt.dropDown,menuInfo:[],highlightIndex:-1}}bindTableComponent(t){t.appendChild(this._menuInstance),this.bindEvent()}release(){}attach(t,e,n,i,r,o){if(r===Nt.dropDown&&this.checkDropDownMenuChange(n,i)){const t=this.getMenuInfo(n,i,r);if(!t)return;const{menuInfo:e,highlightIndex:o}=t;this.updateMenuInfo(n,i,r,e,o),this.updateMenuInstance(e,o)}else if(r===Nt.contextmenu&&this.checkContextMenuChange(t,e)){const t=this.getMenuInfo(n,i,r);if(!t)return;const{menuInfo:e,highlightIndex:o}=t;this.updateMenuInfo(n,i,r,e,o),this.updateMenuInstance(e,o)}this.updatePosition(t-this._table.scenegraph.x,e-this._table.scenegraph.y),this.addToScene()}updateMenuInfo(t,e,n,i,r){this._menuInfo.col=t,this._menuInfo.row=e,this._menuInfo.type=n,this._menuInfo.menuInfo=i,this._menuInfo.highlightIndex=r}checkDropDownMenuChange(t,e){const{type:n,col:i,row:r}=this._menuInfo;return n!==Nt.dropDown||t!==i||e!==r}checkContextMenuChange(t,e){var n;const{type:i,menuInfo:r}=this._menuInfo;return i!==Nt.contextmenu||r!==(null===(n=this._table.internalProps.menu)||void 0===n?void 0:n.contextMenuItems)}updateMenuInstance(t,e){this._menuInstance.removeAllChild();let n=ne;const i=ne;let r=0;t.forEach(((t,o)=>{var a,s;const l=e===o;let u,h;"string"==typeof t?h=t:"object"==typeof t&&(h=t.text,u=l?t.selectedIcon:t.icon);const c=new Gt.Z({y:n,x:i,height:qt,fill:Jt});c.role="menu-item",this._menuInstance.appendChild(c),c.stateProxy=t=>"hover"===t?{fill:Yt}:{fill:Jt},c.addEventListener("pointerenter",(t=>{c.addState("hover",!0,!1),this._table.scenegraph.updateNextFrame()})),c.addEventListener("pointerleave",(t=>{c.removeState("hover",!1),this._table.scenegraph.updateNextFrame()}));const d=new Wt.x({x:ie,y:ie,fill:l?Xt:$t,text:h,textBaseline:"top",fontSize:Ut,fontFamily:Kt,pickable:!1,maxLineWidth:re,ellipsis:""});if(c.addChild(d),u){d.AABBBounds.height();const t=null!==(a=u.width)&&void 0!==a?a:16,e=null!==(s=u.height)&&void 0!==s?s:16,n=new Zt.J({x:ie,y:(qt-e)/2,width:t,height:e,image:u.svg,pickable:!1});n.role="menu-icon",c.insertBefore(n,d),d.setAttribute("x",t+ie)}r=Math.max(c.AABBBounds.width(),r),n+=qt})),this._menuInstance.setAttributes({width:r+2*ie+2*ne,height:n+ne}),this._menuInstance.forEachChildren((t=>{t.setAttribute("width",r+2*ie)}))}updatePosition(t,e){this._menuInstance.setAttributes({x:this._menuInfo.type===Nt.dropDown?t-this._menuInstance.attribute.width:t,y:e}),this._menuInfo.x=Nt.dropDown?t-this._menuInstance.attribute.width:t,this._menuInfo.y=e}addToScene(){this._table.scenegraph.updateNextFrame()}detach(){this._menuInstance.setAttributes({x:-1e3,y:-1e3}),this._table.scenegraph.updateNextFrame()}getMenuInfo(t,e,n){var i;if(n===Nt.dropDown){const{dropDownMenu:n=this._table.globalDropDownMenu,pivotInfo:i}=this._table._getHeaderLayoutMap(t,e);let r=-1;if(Array.isArray(n))for(let i=0;i<n.length;i++)if(this._table._dropDownMenuIsHighlight(t,e,i)){r=i;break}return{menuInfo:n,highlightIndex:r}}if(n===Nt.contextmenu){const n=null===(i=this._table.internalProps.menu)||void 0===i?void 0:i.contextMenuItems;let r;if(Array.isArray(n))r=n;else if("function"==typeof n){const{field:i}=this._table.isHeader(t,e)?this._table.getHeaderDefine(t,e):this._table.getBodyColumnDefine(t,e);r=n(i,e,t)}return{menuInfo:r,highlightIndex:-1}}}bindEvent(){this._menuInstance.addEventListener("click",(t=>{const{target:e}=t;if(e&&"menu-item"===e.role){const n=this.getEventInfo(e),i=this._table.getMenuInfo(this._menuInfo.col,this._menuInfo.row,this._menuInfo.type),r=Object.assign(n,i);r.event=t.nativeEvent,this._table.fireListeners(b.B.DROPDOWN_MENU_CLICK,r)}}))}getEventInfo(t){const e=t.parent;let n=0;e.forEachChildren(((e,i)=>e===t&&(n=i-1,!0)));const i="string"==typeof this._menuInfo.menuInfo[n]?this._menuInfo.menuInfo[n]:this._menuInfo.menuInfo[n].text,r="string"==typeof this._menuInfo.menuInfo[n]?i:this._menuInfo.menuInfo[n].menuKey||i;return{col:this._menuInfo.col,row:this._menuInfo.row,dropDownIndex:n,highlight:n===this._menuInfo.highlightIndex,text:i,menuKey:r}}get bounds(){return this._menuInstance.globalAABBBounds}}var ae=n(45588);const se=ae.U();class le{constructor(){const t=se.drillDown;this.icon=new Zt.J({x:-1e3,y:-1e3,image:t.svg,width:t.width,height:t.height,dx:-t.width/2,dy:-t.height/2,visible:!1,funcType:t.funcType,cursor:t.cursor}),this.icon.role="icon-drill"}appand(t){t.appendChild(this.icon)}update(t,e,n,i,r,o){if(!t||i&&r)return this.icon.setAttributes({x:-1e3,y:-1e3,visible:!1}),void o.updateNextFrame();const a=se.drillDown,s=se.drillUp;this.icon.setAttributes({x:e,y:n,image:i?a.svg:s.svg,visible:!0}),this.icon.loadImage(this.icon.attribute.image),o.updateNextFrame()}}var ue=n(36337);class he{constructor(t){const e=t.theme.dragHeaderSplitLine.lineWidth,n=t.theme.dragHeaderSplitLine.lineColor,i=t.theme.dragHeaderSplitLine.shadowBlockColor;this.columnMoverLabel=(0,ue.t)({visible:!1,pickable:!1,x:0,y:0,symbolType:"triangle",fill:n}),this.columnMoverLine=(0,zt.W)({visible:!1,pickable:!1,stroke:n,lineWidth:e,x:0,y:0,points:[{x:0,y:0},{x:0,y:0}]}),this.columnMoverBack=(0,jt.f)({visible:!1,pickable:!1,fill:i,x:0,y:0,width:0,height:0}),this.table=t}appand(t){t.appendChild(this.columnMoverLabel),t.appendChild(this.columnMoverLine),t.appendChild(this.columnMoverBack)}show(t,e,n){const i=this.table.getCellLocation(t,e),r=(0,yt.Z)(this.table,t,e);r&&(t=r.start.col,e=r.start.row);let o=0,a=0,s=0,l=0,u=0,h=0,c=0,d=0,f=Math.PI;const p=[];return"columnHeader"===i?(o=this.table.getColsWidth(0,t-1)-this.table.stateManager.scroll.horizontalBarPos,a=this.table.getRowsHeight(0,this.table.frozenRowCount-1),l=this.table.tableNoFrameHeight,s=r?this.table.getColsWidth(r.start.col,r.end.col):this.table.getColWidth(t),u=o-n,c=o+s,d=2,p.push({x:0,y:0}),p.push({x:0,y:this.table.tableNoFrameHeight})):("rowHeader"===i||this.table.internalProps.layoutMap.isSeriesNumberInBody(t,e))&&(a=this.table.getRowsHeight(0,e-1)-this.table.stateManager.scroll.verticalBarPos,o=this.table.getColsWidth(0,this.table.frozenColCount-1),s=this.table.tableNoFrameWidth,l=r?this.table.getRowsHeight(r.start.row,r.end.row):this.table.getRowHeight(e),h=a-n,c=2,d=a+l,f=Math.PI/2,p.push({x:0,y:0}),p.push({x:this.table.tableNoFrameWidth,y:0})),this.columnMoverBack.setAttributes({visible:!0,x:o-u,y:a-h,width:s,height:l,dx:u,dy:h}),this.columnMoverLine.setAttributes({x:c,y:d,visible:!0,points:p}),this.columnMoverLabel.setAttributes({visible:!0,x:c,y:d,angle:f}),{backX:o-u,lineX:c,backY:a-h,lineY:d}}hide(){this.columnMoverLabel.setAttribute("visible",!1),this.columnMoverLine.setAttribute("visible",!1),this.columnMoverBack.setAttribute("visible",!1)}update(t,e,n,i){"number"==typeof t&&"number"==typeof e?(this.columnMoverLabel.setAttribute("x",e),this.columnMoverLine.setAttribute("x",e),this.columnMoverBack.setAttribute("x",t)):"number"==typeof n&&"number"==typeof i&&(this.columnMoverLabel.setAttribute("y",i),this.columnMoverLine.setAttribute("y",i),this.columnMoverBack.setAttribute("y",n))}updateStyle(){const t=this.table.theme.dragHeaderSplitLine.lineWidth,e=this.table.theme.dragHeaderSplitLine.lineColor,n=this.table.theme.dragHeaderSplitLine.shadowBlockColor;this.columnMoverLabel.setAttributes({fill:e}),this.columnMoverLine.setAttributes({stroke:e,lineWidth:t}),this.columnMoverBack.setAttributes({fill:n})}}function ce(t,e,n){if(n)return Math.min(e.tableNoFrameWidth,e.getAllColsWidth())-e.getColsWidth(t,e.colCount-1);let i=e.getColsWidth(0,t);return t>=e.frozenColCount&&(i-=e.scrollLeft),i}function de(t,e,n){if(n)return Math.min(e.tableNoFrameWidth,e.getAllRowsHeight())-e.getRowsHeight(t,e.rowCount-1);let i=e.getRowsHeight(0,t);return t>=e.frozenRowCount&&(i-=e.scrollTop),i}class fe{constructor(t){var e,n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v;this.table=t;const y=this.table.theme;this.createScrollBar();const b=null===(e=y.columnResize)||void 0===e?void 0:e.lineColor,w=null===(n=y.columnResize)||void 0===n?void 0:n.lineWidth,x=null===(i=y.columnResize)||void 0===i?void 0:i.bgColor,_=null===(r=y.columnResize)||void 0===r?void 0:r.width,C=null===(a=null===(o=y.columnResize)||void 0===o?void 0:o.labelVisible)||void 0===a||a,S=null===(s=y.columnResize)||void 0===s?void 0:s.labelColor,M=null===(l=y.columnResize)||void 0===l?void 0:l.labelFontSize,A=null===(u=y.columnResize)||void 0===u?void 0:u.labelFontFamily,T=null===(h=y.columnResize)||void 0===h?void 0:h.labelBackgroundFill,k=null===(c=y.columnResize)||void 0===c?void 0:c.labelBackgroundCornerRadius;this.labelVisible=C,this.columnResizeLine=(0,zt.W)({visible:!1,pickable:!1,stroke:b,lineWidth:w,x:0,y:0,points:[{x:0,y:0},{x:0,y:0}]}),this.columnResizeBgLine=(0,zt.W)({visible:!1,pickable:!1,stroke:x,lineWidth:_,x:0,y:0,points:[{x:0,y:0},{x:0,y:0}]});const R=(0,Wt.r)({visible:!1,pickable:!1,x:0,y:0,fontSize:M,fill:S,fontFamily:A,text:"",textBaseline:"top",dx:16,dy:-M/2}),I=(0,jt.f)({visible:!1,pickable:!1,fill:T,x:0,y:0,width:5*M*.8,height:M+8,cornerRadius:k,dx:12,dy:-M/2-4});this.columnResizeLabel=(0,K.sS)({visible:!1,pickable:!1,x:0,y:0}),this.columnResizeLabel.appendChild(I),this.columnResizeLabel.appendChild(R),this.rowResizeLine=(0,zt.W)({visible:!1,pickable:!1,stroke:b,lineWidth:w,x:0,y:0,points:[{x:0,y:0},{x:0,y:0}]}),this.rowResizeBgLine=(0,zt.W)({visible:!1,pickable:!1,stroke:x,lineWidth:_,x:0,y:0,points:[{x:0,y:0},{x:0,y:0}]});const P=(0,Wt.r)({visible:!1,pickable:!1,x:0,y:0,fontSize:M,fill:S,fontFamily:A,text:"",textBaseline:"top",dx:16,dy:-M/2}),E=(0,jt.f)({visible:!1,pickable:!1,fill:T,x:0,y:0,width:5*M*.8,height:M+8,cornerRadius:k,dx:12,dy:-M/2-4});this.rowResizeLabel=(0,K.sS)({visible:!1,pickable:!1,x:0,y:0}),this.rowResizeLabel.appendChild(E),this.rowResizeLabel.appendChild(P),this.cellMover=new he(this.table);const B=null===(f=null===(d=y.frozenColumnLine)||void 0===d?void 0:d.shadow)||void 0===f?void 0:f.width,L=null===(g=null===(p=y.frozenColumnLine)||void 0===p?void 0:p.shadow)||void 0===g?void 0:g.startColor,D=null===(v=null===(m=y.frozenColumnLine)||void 0===m?void 0:m.shadow)||void 0===v?void 0:v.endColor;this.frozenShadowLine=(0,jt.f)({visible:!0,pickable:!1,x:0,y:0,width:B,height:0,fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:[{color:L,offset:0},{color:D,offset:1}]}}),this.rightFrozenShadowLine=(0,jt.f)({visible:!0,pickable:!1,x:0,y:0,width:B,height:0,fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:[{color:D,offset:0},{color:L,offset:1}]}}),this.menu=new oe(this.table),this.drillIcon=new le}addToGroup(t){t.addChild(this.frozenShadowLine),t.addChild(this.rightFrozenShadowLine),t.addChild(this.columnResizeBgLine),t.addChild(this.columnResizeLine),t.addChild(this.columnResizeLabel),t.addChild(this.rowResizeBgLine),t.addChild(this.rowResizeLine),t.addChild(this.rowResizeLabel),this.table.theme.scrollStyle.hoverOn&&!this.table.theme.scrollStyle.barToSide?(t.addChild(this.hScrollBar),t.addChild(this.vScrollBar)):(t.stage.defaultLayer.addChild(this.hScrollBar),t.stage.defaultLayer.addChild(this.vScrollBar)),this.menu.bindTableComponent(t),this.drillIcon.appand(t),this.cellMover.appand(t)}createScrollBar(){var t,e,n,r,o,a;const s=this.table.theme,l=null===(t=s.scrollStyle)||void 0===t?void 0:t.scrollRailColor,u=null===(e=s.scrollStyle)||void 0===e?void 0:e.scrollSliderColor,h=null===(n=s.scrollStyle)||void 0===n?void 0:n.scrollSliderCornerRadius,c=null===(r=s.scrollStyle)||void 0===r?void 0:r.width,d=null===(o=s.scrollStyle)||void 0===o?void 0:o.horizontalPadding,f=null===(a=s.scrollStyle)||void 0===a?void 0:a.verticalPadding;let p;p=(0,i.Z)(h)?{cornerRadius:h,fill:u}:{fill:u},this.hScrollBar=new Vt.B({direction:"horizontal",x:2*-this.table.tableNoFrameWidth,y:2*-this.table.tableNoFrameHeight,width:this.table.tableNoFrameWidth,height:c,padding:d,railStyle:{fill:l},sliderStyle:p,range:[0,.1],visible:!1}),this.hScrollBar.render(),this.hScrollBar.hideAll(),this.vScrollBar=new Vt.B({direction:"vertical",x:2*-this.table.tableNoFrameWidth,y:2*-this.table.tableNoFrameHeight,width:c,height:this.table.tableNoFrameHeight-this.table.getFrozenRowsHeight(),padding:f,railStyle:{fill:l},sliderStyle:p,range:[0,.1],visible:!1}),this.vScrollBar.render(),this.vScrollBar.hideAll()}updateScrollBar(){var t,e,n,i,r,o,a;const s=this.table.stateManager.scroll.horizontalBarPos,l=this.table.stateManager.scroll.verticalBarPos,u=this.table.theme,h=null===(t=u.scrollStyle)||void 0===t?void 0:t.width,c=null===(e=u.scrollStyle)||void 0===e?void 0:e.visible,d=null!==(i=null===(n=u.scrollStyle)||void 0===n?void 0:n.horizontalVisible)&&void 0!==i?i:c,f=null!==(o=null===(r=u.scrollStyle)||void 0===r?void 0:r.verticalVisible)&&void 0!==o?o:c,p=Math.ceil(this.table.scenegraph.tableGroup.attribute.width),g=Math.ceil(this.table.scenegraph.tableGroup.attribute.height),m=this.table.getAllRowsHeight(),v=this.table.getAllColsWidth(),y=this.table.getFrozenRowsHeight(),b=this.table.getFrozenColsWidth(),w=this.table.getBottomFrozenRowsHeight(),x=this.table.getRightFrozenColsWidth(),_=(null===(a=this.table.options.customConfig)||void 0===a?void 0:a._disableColumnAndRowSizeRound)?1:0;if(v>p+_){const t=Math.min(g,m),e=Math.max(.05,(p-b)/(v-b)),n=this.table.theme.scrollStyle.hoverOn;let i=0;i=this.table.theme.scrollStyle.barToSide?this.table.tableNoFrameHeight-(n?h:-this.table.scenegraph.tableGroup.attribute.y)+this.table.tableY:t-(n?h:-this.table.scenegraph.tableGroup.attribute.y),this.hScrollBar.setAttributes({x:b+(n?0:this.table.scenegraph.tableGroup.attribute.x),y:i,width:p-b-x,range:[0,e],visible:"always"===d});const r=this.hScrollBar.AABBBounds&&this.hScrollBar.globalAABBBounds;this.hScrollBar._viewPosition={x:r.x1,y:r.y1},"always"===d&&this.hScrollBar.showAll()}else this.hScrollBar.setAttributes({x:2*-this.table.tableNoFrameWidth,y:2*-this.table.tableNoFrameHeight,width:0,visible:!1});if(m>g+_){const t=Math.min(p,v),e=Math.max(.05,(g-y)/(m-y));let n=0;const i=this.table.theme.scrollStyle.hoverOn;n=this.table.theme.scrollStyle.barToSide?this.table.tableNoFrameWidth-(i?h:-this.table.scenegraph.tableGroup.attribute.x)+this.table.tableX:t-(i?h:-this.table.scenegraph.tableGroup.attribute.x),this.vScrollBar.setAttributes({x:n,y:y+(i?0:this.table.scenegraph.tableGroup.attribute.y),height:g-y-w,range:[0,e],visible:"always"===f});const r=this.vScrollBar.AABBBounds&&this.vScrollBar.globalAABBBounds;this.vScrollBar._viewPosition={x:r.x1,y:r.y1},"always"===f&&this.vScrollBar.showAll()}else this.vScrollBar.setAttributes({x:2*-this.table.tableNoFrameWidth,y:2*-this.table.tableNoFrameHeight,height:0,visible:!1});this.table.stateManager.setScrollLeft(s),this.table.stateManager.setScrollTop(l)}hideResizeCol(){this.columnResizeLine.setAttribute("visible",!1),this.columnResizeBgLine.setAttribute("visible",!1),this.columnResizeLabel.setAttribute("visible",!1),this.columnResizeLabel.hideAll()}showResizeCol(t,e,n){const i=ce(t,this.table,n);this.columnResizeLine.setAttributes({visible:!0,x:i,points:[{x:0,y:0},{x:0,y:this.table.getRowsHeight(0,this.table.rowCount-1)}]}),this.columnResizeBgLine.setAttributes({visible:!0,x:i,points:[{x:0,y:0},{x:0,y:this.table.getRowsHeight(0,this.table.rowCount-1)}]}),this.labelVisible&&(this.columnResizeLabel.showAll(),this.columnResizeLabel.setAttributes({visible:!0,x:i,y:e}),this.columnResizeLabel.lastChild.setAttribute("text",`${this.table.getColWidth(t)}px`))}updateResizeCol(t,e,n){const i=ce(t,this.table,n);this.columnResizeLine.setAttributes({x:i,points:[{x:0,y:0},{x:0,y:this.table.getRowsHeight(0,this.table.rowCount-1)}]}),this.columnResizeBgLine.setAttributes({x:i,points:[{x:0,y:0},{x:0,y:this.table.getRowsHeight(0,this.table.rowCount-1)}]}),this.labelVisible&&(this.columnResizeLabel.setAttributes({x:i,y:e}),this.columnResizeLabel.lastChild.setAttribute("text",`${Math.floor(this.table.getColWidth(t))}px`))}hideResizeRow(){this.rowResizeLine.setAttribute("visible",!1),this.rowResizeBgLine.setAttribute("visible",!1),this.rowResizeLabel.setAttribute("visible",!1),this.rowResizeLabel.hideAll()}showResizeRow(t,e,n){const i=de(t,this.table,n);this.rowResizeLine.setAttributes({visible:!0,y:i,points:[{y:0,x:0},{y:0,x:this.table.getColsWidth(0,this.table.colCount-1)}]}),this.rowResizeBgLine.setAttributes({visible:!0,y:i,points:[{y:0,x:0},{y:0,x:this.table.getColsWidth(0,this.table.colCount-1)}]}),this.labelVisible&&(this.rowResizeLabel.showAll(),this.rowResizeLabel.setAttributes({visible:!0,y:i,x:e}),this.rowResizeLabel.lastChild.setAttribute("text",`${this.table.getRowHeight(t)}px`))}updateResizeRow(t,e,n){const i=de(t,this.table,n);this.rowResizeLine.setAttributes({y:i,points:[{y:0,x:0},{y:0,x:this.table.getColsWidth(0,this.table.colCount-1)}]}),this.rowResizeBgLine.setAttributes({y:i,points:[{y:0,x:0},{y:0,x:this.table.getColsWidth(0,this.table.colCount-1)}]}),this.labelVisible&&(this.rowResizeLabel.setAttributes({y:i,x:e}),this.rowResizeLabel.lastChild.setAttribute("text",`${Math.floor(this.table.getRowHeight(t))}px`))}hideMoveCol(){this.cellMover.hide()}showMoveCol(t,e,n){return this.cellMover.show(t,e,n)}updateMoveCol(t,e,n,i){this.cellMover.update(t,e,n,i)}setFrozenColumnShadow(t,e){if(t<0)this.frozenShadowLine.setAttributes({visible:!1});else{const n=ce(t,this.table,e);this.frozenShadowLine.setAttributes({visible:!0,x:n,height:this.table.getDrawRange().height})}}setRightFrozenColumnShadow(t){if(t>=this.table.colCount)this.rightFrozenShadowLine.setAttributes({visible:!1});else{const e=ce(t,this.table,!0);this.rightFrozenShadowLine.setAttributes({visible:!0,x:e-this.rightFrozenShadowLine.attribute.width,height:this.table.getDrawRange().height})}}hideVerticalScrollBar(){var t;const e=this.table.theme.scrollStyle.visible,n=null!==(t=this.table.theme.scrollStyle.verticalVisible)&&void 0!==t?t:e;"focus"!==n&&"scrolling"!==n||(this.vScrollBar.setAttribute("visible",!1),this.vScrollBar.hideAll(),this.table.scenegraph.updateNextFrame())}showVerticalScrollBar(){var t;const e=this.table.theme.scrollStyle.visible,n=null!==(t=this.table.theme.scrollStyle.verticalVisible)&&void 0!==t?t:e;"focus"!==n&&"scrolling"!==n||(this.vScrollBar.setAttribute("visible",!0),this.vScrollBar.showAll(),this.table.scenegraph.updateNextFrame())}hideHorizontalScrollBar(){var t;const e=this.table.theme.scrollStyle.visible,n=null!==(t=this.table.theme.scrollStyle.horizontalVisible)&&void 0!==t?t:e;"focus"!==n&&"scrolling"!==n||(this.hScrollBar.setAttribute("visible",!1),this.hScrollBar.hideAll(),this.table.scenegraph.updateNextFrame())}showHorizontalScrollBar(){var t;const e=this.table.theme.scrollStyle.visible,n=null!==(t=this.table.theme.scrollStyle.horizontalVisible)&&void 0!==t?t:e;"focus"!==n&&"scrolling"!==n||(this.hScrollBar.setAttribute("visible",!0),this.hScrollBar.showAll(),this.table.scenegraph.updateNextFrame())}updateVerticalScrollBarPos(t){const e=this.vScrollBar.attribute.range,n=e[1]-e[0],i=t*(1-n);this.vScrollBar.setAttribute("range",[i,i+n]);const r=this.vScrollBar.AABBBounds&&this.vScrollBar.globalAABBBounds;this.vScrollBar._viewPosition={x:r.x1,y:r.y1}}updateHorizontalScrollBarPos(t){const e=this.hScrollBar.attribute.range,n=e[1]-e[0],i=t*(1-n);this.hScrollBar.setAttribute("range",[i,i+n]);const r=this.hScrollBar.AABBBounds&&this.hScrollBar.globalAABBBounds;this.hScrollBar._viewPosition={x:r.x1,y:r.y1}}updateStyle(){var t,e,n,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C;const S=this.table.theme,M=null===(t=S.scrollStyle)||void 0===t?void 0:t.scrollRailColor,A=null===(e=S.scrollStyle)||void 0===e?void 0:e.scrollSliderColor,T=null===(n=S.scrollStyle)||void 0===n?void 0:n.scrollSliderCornerRadius,k=null===(r=S.scrollStyle)||void 0===r?void 0:r.width,R=null===(o=S.scrollStyle)||void 0===o?void 0:o.horizontalPadding,I=null===(a=S.scrollStyle)||void 0===a?void 0:a.verticalPadding;let P;P=(0,i.Z)(T)?{cornerRadius:T,fill:A}:{fill:A},this.hScrollBar.setAttributes({height:k,padding:R,railStyle:{fill:M},sliderStyle:P}),this.vScrollBar.setAttributes({width:k,padding:I,railStyle:{fill:M},sliderStyle:P});const E=null===(s=S.columnResize)||void 0===s?void 0:s.lineColor,B=null===(l=S.columnResize)||void 0===l?void 0:l.lineWidth,L=null===(u=S.columnResize)||void 0===u?void 0:u.bgColor,D=null===(h=S.columnResize)||void 0===h?void 0:h.width;this.columnResizeLine.setAttributes({stroke:E,lineWidth:B}),this.columnResizeBgLine=(0,zt.W)({stroke:L,lineWidth:D});const O=null===(c=S.columnResize)||void 0===c?void 0:c.labelColor,F=null===(d=S.columnResize)||void 0===d?void 0:d.labelFontSize,H=null===(f=S.columnResize)||void 0===f?void 0:f.labelFontFamily,N=null===(p=S.columnResize)||void 0===p?void 0:p.labelBackgroundFill,z=null===(g=S.columnResize)||void 0===g?void 0:g.labelBackgroundCornerRadius,W=null===(v=null===(m=S.columnResize)||void 0===m?void 0:m.labelVisible)||void 0===v||v;this.labelVisible=W,this.columnResizeLabel.lastChild.setAttributes({fontSize:F,fill:O,fontFamily:H,dy:-F/2}),this.columnResizeLabel.firstChild.setAttributes({fill:N,width:5*F*.8,height:F+8,cornerRadius:z,dy:-F/2-4}),this.rowResizeLabel.lastChild.setAttributes({fontSize:F,fill:O,fontFamily:H,dy:-F/2}),this.rowResizeLabel.firstChild.setAttributes({fill:N,width:5*F*.8,height:F+8,cornerRadius:z,dy:-F/2-4});const j=null===(b=null===(y=S.frozenColumnLine)||void 0===y?void 0:y.shadow)||void 0===b?void 0:b.width,V=null===(x=null===(w=S.frozenColumnLine)||void 0===w?void 0:w.shadow)||void 0===x?void 0:x.startColor,G=null===(C=null===(_=S.frozenColumnLine)||void 0===_?void 0:_.shadow)||void 0===C?void 0:C.endColor;this.frozenShadowLine.setAttributes({width:j,fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:[{color:V,offset:0},{color:G,offset:1}]}}),this.rightFrozenShadowLine.setAttributes({width:j,fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:[{color:G,offset:0},{color:V,offset:1}]}}),this.cellMover.updateStyle()}}function pe(t,e,n,i,r){var o,a,s,l,u,h;if(!e)return;const c="table"===n,{shadowBlur:d,shadowOffsetX:f,shadowOffsetY:p,shadowColor:g,cornerRadius:m,borderColor:v,borderLineWidth:y,borderLineDash:b}=e;let w=!1;const x={},_={pickable:!1};d&&c&&(_.shadowBlur=d,_.shadowOffsetX=f,_.shadowOffsetY=p,_.shadowColor=g,_.stroke=!0,_.stroke=g,_.lineWidth=1,w=!0),y&&(_.stroke=!0,_.fill=!1,_.stroke=me(null!=v?v:"#E1E4E8",i,y),_.lineWidth=y,b&&(_.lineDash=b),_.lineCap="butt"),Array.isArray(v)&&(_.strokeArrayColor=(0,Tt.u)(v)),Array.isArray(y)&&(_.strokeArrayWidth=(0,Tt.u)(y),_.lineWidth=1),m&&(_.cornerRadius=m,x.cornerRadius=m);const C=_.strokeArrayWidth?_.strokeArrayWidth[0]:null!==(o=_.lineWidth)&&void 0!==o?o:0,S=_.strokeArrayWidth?_.strokeArrayWidth[1]:null!==(a=_.lineWidth)&&void 0!==a?a:0,M=_.strokeArrayWidth?_.strokeArrayWidth[2]:null!==(s=_.lineWidth)&&void 0!==s?s:0,A=_.strokeArrayWidth?_.strokeArrayWidth[3]:null!==(l=_.lineWidth)&&void 0!==l?l:0;if(t.setAttributes(x),!r)if(_.stroke)if(_.x=A/2,_.y=C/2,_.pickable=!1,c){if(m)if(Array.isArray(m)){const t=(0,Tt.u)(m);_.cornerRadius=t,x.cornerRadius=t,t[0]&&(t[0]=t[0]+Math.min(A,C)/2),t[1]&&(t[1]=t[1]+Math.min(C,S)/2),t[2]&&(t[2]=t[2]+Math.min(S,M)/2),t[3]&&(t[3]=t[3]+Math.min(M,A)/2)}else if((0,vt.Z)(y)){const t=[];_.cornerRadius=t,x.cornerRadius=t,t[0]=m+Math.min(A,C)/2,t[1]=m+Math.min(C,S)/2,t[2]=m+Math.min(S,M)/2,t[3]=m+Math.min(M,A)/2}else _.cornerRadius=m+(null!==(u=_.lineWidth)&&void 0!==u?u:0)/2,x.cornerRadius=m+(null!==(h=_.lineWidth)&&void 0!==h?h:0)/2;let n,i;if(e.innerBorder?(_.x=t.attribute.x+A/2,_.y=t.attribute.y+C/2,_.width=t.attribute.width-A/2-S/2,_.height=t.attribute.height-C/2-M/2):(_.x=t.attribute.x-A/2,_.y=t.attribute.y-C/2,_.width=t.attribute.width+A/2+S/2,_.height=t.attribute.height+C/2+M/2),w){_.fill="white",_.notAdjustPos=!0,i=(0,K.sS)(_),i.name="table-border-rect",n=(0,jt.f)({x:A/2,y:C/2,width:t.attribute.width,height:t.attribute.height,fill:"red",cornerRadius:t.attribute.cornerRadius,globalCompositeOperation:"destination-out"}),i.addChild(n);const e=(0,jt.f)({x:A/2,y:C/2,width:t.attribute.width,height:t.attribute.height,fill:"transparent",pickable:!1,globalCompositeOperation:"source-over"});i.addChild(e)}else i=(0,jt.f)(_),i.name="table-border-rect";e.innerBorder&&!w?t.parent.insertAfter(i,t):t.parent.insertBefore(i,t),t.border=i}else{_.width=t.attribute.width-A/2-S/2,_.height=t.attribute.height-C/2-M/2;const e=(0,jt.f)(_);e.name="border-rect",t.addChild(e),t.border=e}else{const e=(0,jt.f)({fill:!1,stroke:!1,pickable:!1,lineWidth:0});e.name="border-rect",t.addChild(e),t.border=e}}function ge(t,e,n){var i;if(!e)return;const{borderColor:r}=e;null===(i=t.border)||void 0===i||i.setAttribute("stroke",me(r,n))}function me(t,e,n){let i=!0;return!e&&!(0,vt.Z)(n)||(0,vt.Z)(t)?e?i=e:e||(0,vt.Z)(t)?(0,vt.Z)(t)&&(i=!0):i=t:i=(null!=e?e:n).map((e=>!!e&&t)),i}function ve(t){var e,n,i,r;if(!t.border)return;const o=t.border.attribute.strokeArrayWidth?t.border.attribute.strokeArrayWidth[0]:null!==(e=t.border.attribute.lineWidth)&&void 0!==e?e:0,a=t.border.attribute.strokeArrayWidth?t.border.attribute.strokeArrayWidth[1]:null!==(n=t.border.attribute.lineWidth)&&void 0!==n?n:0,s=t.border.attribute.strokeArrayWidth?t.border.attribute.strokeArrayWidth[2]:null!==(i=t.border.attribute.lineWidth)&&void 0!==i?i:0,l=t.border.attribute.strokeArrayWidth?t.border.attribute.strokeArrayWidth[3]:null!==(r=t.border.attribute.lineWidth)&&void 0!==r?r:0;t.border.setAttributes({width:t.attribute.width-l/2-a/2,height:t.attribute.height-o/2-s/2}),"group"===t.border.type&&t.border.firstChild.setAttributes({width:t.attribute.width,height:t.attribute.height})}function ye(t,e){t.setAttribute("cornerRadius",e),t.border&&t.border.setAttribute("cornerRadius",e)}var be=n(64008),we=n(57241),xe=n(46195),_e=n(21196),Ce=n(41693),Se=n(32091),Me=n(35223),Ae=n(33932),Te=n(25946),ke=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};const Re=Symbol.for("ChartRender");Symbol.for("ChartRenderContribution");let Ie=class extends Se.Y{constructor(){super(...arguments),this.numberType=Ae.e}drawShape(t,e,n,i,r,o,a,s){var l,u,h,c;const d=(0,$.gh)(t,null==o?void 0:o.theme).group,{dataId:f,data:p,spec:g}=t.attribute,{width:m=d.width,height:v=d.height}=(t.getViewBox(),t.attribute),{table:y}=t.getRootNode(),{active:b,cacheCanvas:w,activeChartInstance:x}=t;if(!b&&w)(0,vt.Z)(w)?w.forEach((t=>{const{x:n,y:i,width:r,height:o,canvas:a}=t;e.drawImage(a,n,i,r,o)})):e.drawImage(w,n,i,m,v);else if(x){if(y.options.specFormat){const e=y.options.specFormat(t.attribute.spec);if(e.needFormatSpec&&e.spec){const t=e.spec;return void x.updateSpecSync(t)}}const e=t.getViewBox();x.updateViewBox({x1:0,x2:e.x2-e.x1,y1:0,y2:e.y2-e.y1},!1,!1);const n=x.getStage();n.needRender=!0;const i=t.globalTransMatrix.clone(),r=t.stage.window.getViewBoxTransform().clone();if(r.multiply(i.a,i.b,i.c,i.d,i.e,i.f),n.window.setViewBoxTransform(r.a,r.b,r.c,r.d,r.e,r.f),"string"==typeof f)x.updateDataSync(f,null!=p?p:[]);else{const t=[];for(const e in f){const n=f[e],i=g.series.find((t=>{var n;return(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.id)===e}));t.push({id:e,values:n?null!==(l=null==p?void 0:p.filter((t=>t.hasOwnProperty(n))))&&void 0!==l?l:[]:null!=p?p:[],fields:null===(u=null==i?void 0:i.data)||void 0===u?void 0:u.fields}),x.updateFullDataSync||x.updateDataSync(e,n?null!==(h=null==p?void 0:p.filter((t=>t.hasOwnProperty(n))))&&void 0!==h?h:[]:null!=p?p:[])}null===(c=x.updateFullDataSync)||void 0===c||c.call(x,t)}}else y.internalProps.renderChartAsync?(-1===Te.A8.indexOf(`${t.parent.col}+${t.parent.row}`)&&(Te.A8.push(`${t.parent.col}+${t.parent.row}`),Te.LO.push(t)),(0,Te.a5)()||(0,Te.eO)(y)):(0,Te.pF)(t)}draw(t,e,n,i){this._draw(t,{},!1,n,i)}};Ie=ke([(0,Me.b)()],Ie);var Pe=n(21448),Ee=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let Be=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{shape:f}=t.attribute;if("circle"===f){const{width:r=l.width,height:o=l.height}=t.attribute;e.beginPath(),e.arc(n+r/2,i+o/2,Math.min(r,o)/2,0,2*Math.PI),e.closePath(),e.save(),e.clip()}}};Be=Ee([(0,Me.b)()],Be);let Le=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{shape:f}=t.attribute;"circle"===f&&e.restore()}};Le=Ee([(0,Me.b)()],Le);let De=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{isGif:f}=t.attribute;f&&t.playing&&(t.attribute.opacity=0)}};De=Ee([(0,Me.b)()],De);let Oe=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{isGif:f}=t.attribute;f&&t.playing&&(t.attribute.opacity=1,e.globalAlpha=t.attribute.opacity,t.renderFrame(e,n,i))}};Oe=Ee([(0,Me.b)()],Oe);var Fe=n(53881);function He(t,e,n,i){var r;const{highlightScope:o,disableHeader:a,cellPos:s}=t.hover,l=t.table,u=l.isHeader(e,n);if(u&&a)return;let h;if(o===v.p.single&&s.col===e&&s.row===n?h="cellBgColor":o===v.p.column&&s.col===e?h=s.col===e&&s.row===n?"cellBgColor":"inlineColumnBgColor":o===v.p.row&&s.row===n?h=s.col===e&&s.row===n?"cellBgColor":"inlineRowBgColor":o===v.p.cross&&(s.col===e&&s.row===n?h="cellBgColor":s.col===e?h="inlineColumnBgColor":s.row===n&&(h="inlineRowBgColor")),h){let t;if(u){const o=l.getHeaderDefine(e,n);t=null==o?void 0:o.disableHeaderHover,i.firstChild&&"axis"===i.firstChild.name&&(null===(r=l.options.hover)||void 0===r?void 0:r.disableAxisHover)&&(t=!0)}else{const i=l.getBodyColumnDefine(e,n);t=null==i?void 0:i.disableHover}t&&(h=void 0)}return h}function Ne(t,e,n,i){const{highlightInRange:r,disableHeader:o,ranges:a}=t.select;let s;const l=1===a.length&&((u=null==a?void 0:a[0]).start.col!==u.end.col||u.start.row!==u.end.row)&&r;var u;if(l?1===(null==a?void 0:a.length)&&a[0].start&&a[0].end:1===(null==a?void 0:a.length)&&a[0].end.col===a[0].start.col&&a[0].end.row===a[0].start.row){if(t.table.isHeader(e,n)&&o)return;s=l?function(t,e,n){let i;const{highlightScope:r,cellPos:o,ranges:a}=t.select,s=a[0],l=Math.min(s.start.col,s.end.col),u=Math.max(s.start.col,s.end.col),h=Math.min(s.start.row,s.end.row),c=Math.max(s.start.row,s.end.row);return r===v.p.single&&o.col===e&&o.row===n?i="cellBgColor":r===v.p.column&&e>=l&&e<=u?i=(0,y._Z)(a[0],e,n)?"cellBgColor":"inlineColumnBgColor":r===v.p.row&&n>=h&&n<=c?i=(0,y._Z)(a[0],e,n)?"cellBgColor":"inlineRowBgColor":r===v.p.cross&&((0,y._Z)(a[0],e,n)?i="cellBgColor":e>=l&&e<=u?i="inlineColumnBgColor":n>=h&&n<=c&&(i="inlineRowBgColor")),i}(t,e,n):function(t,e,n){let i;const{highlightScope:r,cellPos:o}=t.select;return r===v.p.single&&o.col===e&&o.row===n?i="cellBgColor":r===v.p.column&&o.col===e?i=o.col===e&&o.row===n?"cellBgColor":"inlineColumnBgColor":r===v.p.row&&o.row===n?i=o.col===e&&o.row===n?"cellBgColor":"inlineRowBgColor":r===v.p.cross&&(o.col===e&&o.row===n?i="cellBgColor":o.col===e?i="inlineColumnBgColor":o.row===n&&(i="inlineRowBgColor")),i}(t,e,n),s&&ze(t.table,e,n)&&(s=void 0)}else if("replace"===t.table.theme.selectionStyle.selectionFillMode)for(let t=0;t<a.length;t++){const i=a[t],r=Math.min(i.start.col,i.end.col),o=Math.max(i.start.col,i.end.col),l=Math.min(i.start.row,i.end.row),u=Math.max(i.start.row,i.end.row);if(r<=e&&l<=n&&o>=e&&u>=n){s="cellBgColor";break}}return s}function ze(t,e,n){var i,r;const o=null===(i=t.options.select)||void 0===i?void 0:i.disableSelect;if("function"==typeof o?o(e,n,t):o)return!0;if(t.isHeader(e,n)){let i=null===(r=t.options.select)||void 0===r?void 0:r.disableHeaderSelect;if(i)return!0;const o=t.getHeaderDefine(e,n);if(i=null==o?void 0:o.disableHeaderSelect,i)return!0}else{const i=t.getBodyColumnDefine(e,n),r=null==i?void 0:i.disableSelect;if("function"==typeof r?r(e,n,t):r)return!0}return!1}var We=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let je=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{stroke:f=l.stroke,strokeArrayWidth:p=l.strokeArrayWidth,strokeArrayColor:g=l.strokeArrayColor}=t.attribute;f&&(Array.isArray(p)||Array.isArray(g))&&(d.doStroke=!1)}};je=We([(0,Me.b)()],je);let Ve=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){var d,f;const{stroke:p=l.stroke,strokeArrayColor:g=l.strokeArrayColor,strokeArrayWidth:m=l.strokeArrayWidth,lineWidth:v=l.lineWidth,strokeColor:y=l.stroke,cornerRadius:b=l.cornerRadius}=t.attribute;let w,x,{width:_=l.width,height:C=l.height}=t.attribute;if(p&&(Array.isArray(m)||0!==v)&&(Array.isArray(g)||Array.isArray(m))){if("number"==typeof v&&1&v||Array.isArray(m)&&m.some((t=>1&t))){const e=t.stage.table;if(!e)return;const r="bottom-right"===(null===(d=null==e?void 0:e.theme)||void 0===d?void 0:d.cellBorderClipDirection);if(r){if(n=Math.floor(n)-.5,i=Math.floor(i)-.5,"cell"===t.role){const e=t.col,r=t.row;0===e&&(n+=1),0===r&&(i+=1)}}else n=Math.floor(n)+.5,i=Math.floor(i)+.5;(null===(f=e.options.customConfig)||void 0===f?void 0:f._disableColumnAndRowSizeRound)&&(_=Math.round(_),C=Math.round(C));const{width:o,height:a}=en(t,Math.ceil(_),Math.ceil(C),r);w=o,x=a}else w=Math.ceil(_),x=Math.ceil(C);0===b||(0,vt.Z)(b)&&b.every((t=>0===t))?Ze(t,e,n,i,l,p,m||v,g||y,w,x):(e.beginPath(),(0,Fe.U)(e,n,i,w,x,b,new Array(4).fill(0).map(((r,o)=>(r,a,s,u)=>{an(o,r,a,s,u,t,e,n,i,l,p,m||v,g||y,w,x)}))),e.stroke())}}};function Ge(t){if(!Array.isArray(t))return{isSplitDraw:!1,width:t};let e;for(let n=0;n<t.length;n++){const i=t[n];if(i)if(e){if(i!==e)return{isSplitDraw:!0}}else e=i}return{isSplitDraw:!1,width:e}}function Ze(t,e,n,i,r,o,a,s,l,u,h,c){var d,f,p,g;const m=Ge(a),v=!Array.isArray(a),y=!Array.isArray(o),b=Array.isArray(c),w=Array.isArray(s)||m.isSplitDraw;e.setStrokeStyle(t,t.attribute,n,i,r);const{lineDash:x=r.lineDash}=t.attribute;let _=!1;x.length&&x.some((t=>Array.isArray(t)))&&(_=!0),e.beginPath(),e.moveTo(n,i);const C=(y||o[0])&&(v||a[0]),S=(y||o[1])&&(v||a[1]),M=(y||o[2])&&(v||a[2]),A=(y||o[3])&&(v||a[3]);if(C){const t=(v?m.width:a[0])/2,r=(v?m.width:a[0])/2;b&&Array.isArray(c[0])?(e.moveTo(n-t+(l+t+r)*c[0][0],i),e.lineTo(n-t+(l+t+r)*(c[0][1]-c[0][0]),i),e.moveTo(n+l+r,i)):(e.moveTo(n-t,i),e.lineTo(n+l+r,i)),(w||_)&&(s&&s[0]?e.strokeStyle=s[0]:s&&!s[0]&&(e.strokeStyle="transparent"),v||(e.lineWidth=a[0]),e.lineDashOffset=e.currentMatrix.e/e.currentMatrix.a,_&&e.setLineDash(null!==(d=x[0])&&void 0!==d?d:[]),e.stroke(),e.beginPath(),e.moveTo(n+l,i))}else e.moveTo(n+l,i);if(S){const t=(v?m.width:a[1])/2,r=(v?m.width:a[1])/2;b&&Array.isArray(c[1])?(e.moveTo(n+l,i-t+u*c[1][0]),e.lineTo(n+l,i-t+(u+t+r)*(c[1][1]-c[1][0])),e.moveTo(n+l,i+u+r)):(e.moveTo(n+l,i-t),e.lineTo(n+l,i+u+r)),(w||_)&&(s&&s[1]?e.strokeStyle=s[1]:s&&!s[1]&&(e.strokeStyle="transparent"),v||(e.lineWidth=a[1]),e.lineDashOffset=e.currentMatrix.f/e.currentMatrix.d,_&&e.setLineDash(null!==(f=x[1])&&void 0!==f?f:[]),e.stroke(),e.beginPath(),e.moveTo(n+l,i+u))}else e.moveTo(n+l,i+u);if(M){const t=(v?m.width:a[2])/2,r=(v?m.width:a[2])/2;b&&Array.isArray(c[2])?(e.moveTo(n-t+(l+t+r)*c[2][0],i+u),e.lineTo(n-t+(l+t+r)*(c[2][1]-c[2][0]),i+u),e.moveTo(n-t,i+u)):(e.moveTo(n-t,i+u),e.lineTo(n+l+r,i+u)),(w||_)&&(s&&s[2]?e.strokeStyle=s[2]:s&&!s[2]&&(e.strokeStyle="transparent"),v||(e.lineWidth=a[2]),e.lineDashOffset=e.currentMatrix.e/e.currentMatrix.a,_&&e.setLineDash(null!==(p=x[2])&&void 0!==p?p:[]),e.stroke(),e.beginPath(),e.moveTo(n,i+u))}else e.moveTo(n,i+u);if(A){const t=(v?m.width:a[3])/2,r=(v?m.width:a[3])/2;b&&Array.isArray(c[3])?(e.moveTo(n,i-t+(u+t+r)*c[3][0]),e.lineTo(n,i-t+(u+t+r)*(c[3][1]-c[3][0])),e.moveTo(n,i-t)):(e.moveTo(n,i-t),e.lineTo(n,i+u+r)),(w||_)&&(s&&s[3]?e.strokeStyle=s[3]:s&&!s[3]&&(e.strokeStyle="transparent"),v||(e.lineWidth=a[3]),e.lineDashOffset=e.currentMatrix.f/e.currentMatrix.d,_&&e.setLineDash(null!==(g=x[3])&&void 0!==g?g:[]),e.stroke(),e.beginPath(),e.moveTo(n,i))}else e.moveTo(n,i);w||_||(!v&&m.width&&(e.lineWidth=m.width),e.stroke()),e.lineDashOffset=0,e.setLineDash([])}Ve=We([(0,Me.b)()],Ve);let Ue=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){var f;const{lineDash:p=l.lineDash,stroke:g=l.stroke,strokeArrayColor:m=l.strokeArrayColor,strokeArrayWidth:v=l.strokeArrayWidth}=t.attribute;g&&Array.isArray(p)&&p.length&&(null===(f=p[0])||void 0===f?void 0:f.length)&&!Array.isArray(m)&&!Array.isArray(v)&&(d.doStroke=!1)}};Ue=We([(0,Me.b)()],Ue);let Ke=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){var d,f,p,g,m,v;const{lineDash:y=l.lineDash,stroke:b=l.stroke,strokeArrayColor:w=l.strokeArrayColor,strokeArrayWidth:x=l.strokeArrayWidth,lineWidth:_=l.lineWidth}=t.attribute;if(!b||!(Array.isArray(y)&&y.length&&(null===(d=y[0])||void 0===d?void 0:d.length))||Array.isArray(w)||Array.isArray(x))return;const C=t.stage.table;if(!C)return;const S=(0,vt.Z)(y[0])?function(t){return 1===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:t}(y):[y,y,y,y];let M,A,{width:T=l.width,height:k=l.height}=t.attribute;if((null===(f=C.options.customConfig)||void 0===f?void 0:f._disableColumnAndRowSizeRound)?(T=Math.round(T),k=Math.round(k)):(T=Math.ceil(T),k=Math.ceil(k)),1&_){const e="bottom-right"===C.theme.cellBorderClipDirection,r=0,o=0;e?(n=Math.floor(n)-.5,i=Math.floor(i)-.5,"cell"===t.role&&(0===t.col&&(n+=1),0===t.row&&(i+=1))):(n=Math.floor(n)+.5,i=Math.floor(i)+.5);const{width:a,height:s}=en(t,Math.ceil(T+r),Math.ceil(k+o),e);M=a,A=s}else M=Math.ceil(T),A=Math.ceil(k);e.setStrokeStyle(t,t.attribute,n,i,l),e.beginPath(),e.moveTo(n,i),e.lineTo(n+M,i),e.lineDashOffset=e.currentMatrix.e/e.currentMatrix.a,e.setLineDash(null!==(p=S[0])&&void 0!==p?p:[]),e.stroke(),e.beginPath(),e.moveTo(n+M,i),e.lineTo(n+M,i+A),e.lineDashOffset=e.currentMatrix.f/e.currentMatrix.d,e.setLineDash(null!==(g=S[1])&&void 0!==g?g:[]),e.stroke(),e.beginPath(),e.moveTo(n,i+A),e.lineTo(n+M,i+A),e.lineDashOffset=e.currentMatrix.e/e.currentMatrix.a,e.setLineDash(null!==(m=S[2])&&void 0!==m?m:[]),e.stroke(),e.beginPath(),e.moveTo(n,i),e.lineTo(n,i+A),e.lineDashOffset=e.currentMatrix.f/e.currentMatrix.d,e.setLineDash(null!==(v=S[3])&&void 0!==v?v:[]),e.stroke(),e.lineDashOffset=0,e.setLineDash([])}};Ke=We([(0,Me.b)()],Ke);let $e=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{lineWidth:f=l.lineWidth,stroke:p=l.stroke,lineDash:g=l.lineDash,strokeArrayWidth:m=l.strokeArrayWidth,strokeArrayColor:v=l.strokeArrayColor,notAdjustPos:y}=t.attribute;!0!==y&&p&&Array.isArray(g)&&!g.length&&!Array.isArray(v)&&!Array.isArray(m)&&1&f&&(d.doStroke=!1)}};$e=We([(0,Me.b)()],$e);let Xe=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){var d,f;const{lineWidth:p=l.lineWidth,stroke:g=l.stroke,lineDash:m=l.lineDash,strokeArrayWidth:v=l.strokeArrayWidth,strokeArrayColor:y=l.strokeArrayColor,notAdjustPos:b,cornerRadius:w=l.cornerRadius}=t.attribute;let{width:x=l.width,height:_=l.height}=t.attribute;if(!0!==b&&g&&Array.isArray(m)&&!m.length&&!Array.isArray(y)&&!Array.isArray(v)&&1&p){const r=t.stage.table;if(!r)return;(null===(d=r.options.customConfig)||void 0===d?void 0:d._disableColumnAndRowSizeRound)&&(x=Math.round(x),_=Math.round(_)),e.beginPath();const o="bottom-right"===(null===(f=null==r?void 0:r.theme)||void 0===f?void 0:f.cellBorderClipDirection),a=0,s=0;o?(n=Math.floor(n)-.5,i=Math.floor(i)-.5,"cell"===t.role&&(0===t.col&&(n+=1),0===t.row&&(i+=1))):(n=Math.floor(n)+.5,i=Math.floor(i)+.5);const{width:u,height:h}=en(t,Math.ceil(x),Math.ceil(_),o);w?(0,Fe.U)(e,n,i,u+a,h+s,w):e.rect(n,i,u,h),e.setStrokeStyle(t,t.attribute,n,i,l),e.stroke()}}};Xe=We([(0,Me.b)()],Xe);let Ye=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,r,o,a,s,l,u,h,c,d,f){if("cell"===t.role){const e=t.stage.table;if(e){const n=function(t,e){var n,r,o,a,s,l,u,h,c,d,f;let p,g;if("cell"===t.role&&(0,i.Z)(t.mergeStartCol)&&(0,i.Z)(t.mergeStartRow)&&(0,i.Z)(t.mergeEndCol)&&(0,i.Z)(t.mergeEndRow)){const{colStart:n,colEnd:i,rowStart:r,rowEnd:o}=It(t,e.scenegraph);for(let t=n;t<=i;t++)for(let n=r;n<=o;n++){const i=Ne(e.stateManager,t,n);!i||p&&"cellBgColor"!==i||(p=i)}}else"cell"===t.role&&(p=Ne(e.stateManager,t.col,t.row));if(!p)return;const m=e.internalProps.layoutMap;return m.isCornerHeader(t.col,t.row)?g=(null===(n=e.theme.cornerHeaderStyle)||void 0===n?void 0:n.select)||(null===(r=e.theme.headerStyle)||void 0===r?void 0:r.select):m.isColumnHeader(t.col,t.row)?g=null===(o=e.theme.headerStyle)||void 0===o?void 0:o.select:m.isRowHeader(t.col,t.row)?g=null===(a=e.theme.rowHeaderStyle)||void 0===a?void 0:a.select:m.isBottomFrozenRow(t.col,t.row)?g=(null===(s=e.theme.bottomFrozenStyle)||void 0===s?void 0:s.select)||(e.isListTable()?null===(l=e.theme.bodyStyle)||void 0===l?void 0:l.select:null===(u=e.theme.headerStyle)||void 0===u?void 0:u.select):m.isRightFrozenColumn(t.col,t.row)?g=(null===(h=e.theme.rightFrozenStyle)||void 0===h?void 0:h.select)||(e.isListTable()?null===(c=e.theme.bodyStyle)||void 0===c?void 0:c.select:null===(d=e.theme.rowHeaderStyle)||void 0===d?void 0:d.select):e.isHeader(t.col,t.row)||(g=null===(f=e.theme.bodyStyle)||void 0===f?void 0:f.select),(0,St.WJ)(p,g,t.col,t.row,e)}(t,e);if(n)t.attribute._vtableHightLightFill=n;else if(e.stateManager.interactionState!==v.F.scrolling){const n=function(t,e){var n,r,o,a,s,l,u,h,c,d,f;let p,g;if("cell"===t.role&&(0,i.Z)(t.mergeStartCol)&&(0,i.Z)(t.mergeStartRow)&&(0,i.Z)(t.mergeEndCol)&&(0,i.Z)(t.mergeEndRow)){const{colStart:n,colEnd:i,rowStart:r,rowEnd:o}=It(t,e.scenegraph);for(let a=n;a<=i;a++)for(let n=r;n<=o;n++){const i=He(e.stateManager,a,n,t);!i||p&&"cellBgColor"!==i||(p=i)}}else"cell"===t.role&&(p=He(e.stateManager,t.col,t.row,t));if(!p)return;const m=e.internalProps.layoutMap;return m.isCornerHeader(t.col,t.row)?g=(null===(n=e.theme.cornerHeaderStyle)||void 0===n?void 0:n.hover)||(null===(r=e.theme.headerStyle)||void 0===r?void 0:r.hover):m.isColumnHeader(t.col,t.row)?g=null===(o=e.theme.headerStyle)||void 0===o?void 0:o.hover:m.isRowHeader(t.col,t.row)?g=null===(a=e.theme.rowHeaderStyle)||void 0===a?void 0:a.hover:m.isBottomFrozenRow(t.col,t.row)?g=(null===(s=e.theme.bottomFrozenStyle)||void 0===s?void 0:s.hover)||(e.isListTable()?null===(l=e.theme.bodyStyle)||void 0===l?void 0:l.hover:null===(u=e.theme.headerStyle)||void 0===u?void 0:u.hover):m.isRightFrozenColumn(t.col,t.row)?g=(null===(h=e.theme.rightFrozenStyle)||void 0===h?void 0:h.hover)||(e.isListTable()?null===(c=e.theme.bodyStyle)||void 0===c?void 0:c.hover:null===(d=e.theme.rowHeaderStyle)||void 0===d?void 0:d.hover):e.isHeader(t.col,t.row)||(g=null===(f=e.theme.bodyStyle)||void 0===f?void 0:f.hover),(0,St.WJ)(p,g,t.col,t.row,e)}(t,e);n&&(t.attribute._vtableHightLightFill=n)}}}}};Ye=We([(0,Me.b)()],Ye);let qe=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){if(t.attribute._vtableHightLightFill)if(h);else if(a){const r=t.attribute.fill;t.attribute.fill=t.attribute._vtableHightLightFill,e.setCommonStyle(t,t.attribute,n,i,l),e.fill(),t.attribute.fill=r,t.attribute._vtableHightLightFill=void 0}}};qe=We([(0,Me.b)()],qe);let Je=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){var f,p,g,m,v,y;const b=t.stage.table;b&&("body"===t.role?tn(e,-(null!==(f=t.attribute.x)&&void 0!==f?f:0)+b.getFrozenColsWidth(),-(null!==(p=t.attribute.y)&&void 0!==p?p:0)+b.getFrozenRowsHeight(),t.parent.attribute.width-b.getFrozenColsWidth()-b.getRightFrozenColsWidth(),t.parent.attribute.height-b.getFrozenRowsHeight()-b.getBottomFrozenRowsHeight()):"row-header"===t.role?tn(e,0,-(null!==(g=t.attribute.y)&&void 0!==g?g:0)+b.getFrozenRowsHeight(),b.getFrozenColsWidth(),t.parent.attribute.height-b.getFrozenRowsHeight()-b.getBottomFrozenRowsHeight()):"col-header"===t.role?tn(e,-(null!==(m=t.attribute.x)&&void 0!==m?m:0)+b.getFrozenColsWidth(),0,t.parent.attribute.width-b.getFrozenColsWidth()-b.getRightFrozenColsWidth(),b.getFrozenRowsHeight()):"right-frozen"===t.role?tn(e,0,-(null!==(v=t.attribute.y)&&void 0!==v?v:0)+b.getFrozenRowsHeight(),b.getRightFrozenColsWidth(),t.parent.attribute.height-b.getFrozenRowsHeight()-b.getBottomFrozenRowsHeight()):"bottom-frozen"===t.role?tn(e,-(null!==(y=t.attribute.x)&&void 0!==y?y:0)+b.getFrozenColsWidth(),0,t.parent.attribute.width-b.getFrozenColsWidth()-b.getRightFrozenColsWidth(),b.getBottomFrozenRowsHeight()):"corner-header"===t.role?tn(e,0,0,b.getFrozenColsWidth(),b.getFrozenRowsHeight()):"corner-right-top-header"===t.role?tn(e,0,0,b.getRightFrozenColsWidth(),b.getFrozenRowsHeight()):"corner-right-bottom-header"===t.role?tn(e,0,0,b.getRightFrozenColsWidth(),b.getBottomFrozenRowsHeight()):"corner-left-bottom-header"===t.role&&tn(e,0,0,b.getFrozenColsWidth(),b.getBottomFrozenRowsHeight()))}};Je=We([(0,Me.b)()],Je);const Qe=Math.pow(2,24);function tn(t,e,n,i,r){t.beginPath();const o=t.applyedMatrix;Math.abs(o.f)>Qe||Math.abs(o.g)>Qe?t.rect(e-Qe,n-Qe,i+2*Qe,r+2*Qe):t.rect(e,n,i,r)}function en(t,e,n,i){const r=t.stage.table;if(!r)return{width:e,height:n};if("cell"===t.role){let o=t.col,a=t.row;const s=(0,yt.Z)(r,o,a);s&&(o=s.end.col,a=s.end.row),o!==r.colCount-1||i?(o===r.frozenColCount-1&&r.scrollLeft&&!i||0===o&&i)&&(e-=1):e-=1,a!==r.rowCount-1||i?(a===r.frozenRowCount-1&&r.scrollTop&&!i||0===a&&i)&&(n-=1):n-=1}else"corner-frozen"===t.role&&(r.scrollLeft&&!i&&(e-=1),r.scrollTop&&!i&&(n-=1));return{width:e,height:n}}var nn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let rn=class{constructor(){this.time=Pe.Oh.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){const{stroke:f=l.stroke,strokeArrayWidth:p=l.strokeArrayWidth,strokeArrayColor:g=l.strokeArrayColor}=t.attribute;f&&(Array.isArray(f)||Array.isArray(p)||Array.isArray(g))&&(d.doStroke=!1)}};rn=nn([(0,Me.b)()],rn);let on=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){const{width:d=l.width,height:f=l.height,stroke:p=l.stroke,strokeArrayColor:g=l.strokeArrayColor,strokeArrayWidth:m=l.strokeArrayWidth,lineWidth:v=l.lineWidth,strokeColor:y=l.stroke,cornerRadius:b=l.cornerRadius}=t.attribute;if(p&&(Array.isArray(m)||0!==v)&&(Array.isArray(p)||Array.isArray(g)||Array.isArray(m))){const r=0,o=0;"border-rect"!==t.name&&"table-border-rect"!==t.name&&("number"==typeof v&&1&v||Array.isArray(m)&&m.some((t=>1&t)))&&(n=Math.floor(n)+.5,i=Math.floor(i)+.5),0===b||(0,vt.Z)(b)&&b.every((t=>0===t))?Ze(t,e,n,i,l,p,m||v,g||y,Math.ceil(d+r),Math.ceil(f+o)):(e.beginPath(),(0,Fe.U)(e,n,i,d,f,b,new Array(4).fill(0).map(((a,s)=>(a,u,h,c)=>{an(s,a,u,h,c,t,e,n,i,l,p,m||v,g||y,Math.ceil(d+r),Math.ceil(f+o))}))),e.stroke())}}};function an(t,e,n,i,r,o,a,s,l,u,h,c,d,f,p){var g,m,v,y;const b=o,w=u,x=Ge(c),_=!Array.isArray(c),C=!Array.isArray(h),S=Array.isArray(d)||x.isSplitDraw;a.setStrokeStyle(o,o.attribute,s,l,u);const{lineDash:M=w.lineDash}=b.attribute;let A=!1;M.length&&M.some((t=>Array.isArray(t)))&&(A=!0),a.moveTo(s,l);const T=(C||h[0])&&(_||c[0]),k=(C||h[1])&&(_||c[1]),R=(C||h[2])&&(_||c[2]),I=(C||h[3])&&(_||c[3]);T&&0===t?(_?x.width:c[0],_?x.width:c[0],a.moveTo(e,n),a.lineTo(i,r),(S||A)&&(d&&d[0]?a.strokeStyle=d[0]:d&&!d[0]&&(a.strokeStyle="transparent"),_||(a.lineWidth=c[0]),a.lineDashOffset=a.currentMatrix.e/a.currentMatrix.a,A&&a.setLineDash(null!==(g=M[0])&&void 0!==g?g:[]),a.stroke(),a.beginPath())):0===t&&a.moveTo(s+f,l),k&&1===t?(_?x.width:c[1],_?x.width:c[1],a.moveTo(e,n),a.lineTo(i,r),(S||A)&&(d&&d[1]?a.strokeStyle=d[1]:d&&!d[1]&&(a.strokeStyle="transparent"),_||(a.lineWidth=c[1]),a.lineDashOffset=a.currentMatrix.f/a.currentMatrix.d,A&&a.setLineDash(null!==(m=M[1])&&void 0!==m?m:[]),a.stroke(),a.beginPath(),a.moveTo(s+f,l+p))):1===t&&a.moveTo(s+f,l+p),R&&2===t?(_?x.width:c[2],_?x.width:c[2],a.moveTo(e,n),a.lineTo(i,r),(S||A)&&(d&&d[2]?a.strokeStyle=d[2]:d&&!d[2]&&(a.strokeStyle="transparent"),_||(a.lineWidth=c[2]),a.lineDashOffset=a.currentMatrix.e/a.currentMatrix.a,A&&a.setLineDash(null!==(v=M[2])&&void 0!==v?v:[]),a.stroke(),a.beginPath(),a.moveTo(s,l+p))):2===t&&a.moveTo(s,l+p),I&&3===t?(_?x.width:c[3],_?x.width:c[3],a.moveTo(e,n),a.lineTo(i,r),(S||A)&&(d&&d[3]?a.strokeStyle=d[3]:d&&!d[3]&&(a.strokeStyle="transparent"),_||(a.lineWidth=c[3]),a.lineDashOffset=a.currentMatrix.f/a.currentMatrix.d,A&&a.setLineDash(null!==(y=M[3])&&void 0!==y?y:[]),a.stroke(),a.beginPath(),a.moveTo(s,l))):3===t&&a.moveTo(s,l),S||A||(!_&&x.width&&(a.lineWidth=x.width),a.stroke()),a.lineDashOffset=0,a.setLineDash([]),a.closePath()}on=nn([(0,Me.b)()],on);var sn=n(44474),ln=n(41574),un=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let hn,cn=class{constructor(){this.order=1,this.interceptors=[new dn]}afterDrawItem(t,e,n,i,r){for(let o=0;o<this.interceptors.length;o++)if(this.interceptors[o].afterDrawItem&&this.interceptors[o].afterDrawItem(t,e,n,i,r))return!0;return!1}beforeDrawItem(t,e,n,i,r){if((!t.in3dMode||n.in3dInterceptor)&&!t.shadowRoot&&!(t.baseGraphic||t.attribute.globalZIndex||t.interactiveGraphic))return!1;for(let o=0;o<this.interceptors.length;o++)if(this.interceptors[o].beforeDrawItem&&this.interceptors[o].beforeDrawItem(t,e,n,i,r))return!0;return!1}};cn=un([(0,Me.b)()],cn);class dn{constructor(){this.order=1}afterDrawItem(t,e,n,i,r){return"image"===t.type&&this.drawItem(t,e,n,i,r),!1}drawItem(t,e,n,i,r){const{image:o,gif:a}=t.attribute;if(a&&t.playing)return!1;if(!o||!t.resources)return!1;const s=t.resources.get(o);if(!s||"loading"!==s.state)return!1;if(!hn){const t=ae.U(),e=t.loading_pic.svg,n=t.loading_pic.width,i=t.loading_pic.height;hn=(0,sn.B)({width:n,height:i,image:e})}const{image:l}=hn.attribute;if(!o||!hn.resources)return!1;const u=hn.resources.get(l);if("success"!==u.state)return!1;const{context:h}=n;h.highPerformanceSave(),t.parent&&h.setTransformFromMatrix(t.parent.globalTransMatrix,!0),t.glyphHost&&t.glyphHost.parent&&h.setTransformFromMatrix(t.glyphHost.parent.globalTransMatrix,!0);const c=t.AABBBounds,{width:d,height:f}=(0,ln.f)(u.data.width,u.data.height,c.width(),c.height());return h.drawImage(u.data,c.x1+(c.width()-d)/2,c.y1+(c.height()-f)/2,d,f),h.highPerformanceRestore(),!0}}var fn=n(58488),pn=n(67984),gn=n(22450),mn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let vn=class{constructor(){this.time=Pe.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c,d){var f,p;const{text:g,underline:m=l.underline,lineThrough:v=l.lineThrough,direction:y=l.direction,whiteSpace:b=l.whiteSpace,fontSize:w=l.fontSize,verticalMode:x=l.verticalMode,ellipsis:_=l.ellipsis,textAlign:C=l.textAlign,textBaseline:S=l.textBaseline,x:M=l.x,y:A=l.y}=t.attribute;let T=!1;if(Array.isArray(t)){const e=null===(f=t.cache)||void 0===f?void 0:f.layoutData;_&&e&&e.lines.every((t=>""===t.str))&&(T=!0)}else{const{cache:e}=t;_&&e&&""===e.clipedText&&0===e.clipedWidth&&(T=!0)}if(!T)return;const R=(0,k.Z)(_)?_:"...",I=null!==(p=(0,fn.VA)(t.attribute.lineHeight,w))&&void 0!==p?p:w;let P=0;I!==w&&("top"===S?P=(I-w)/2:"middle"===S||"bottom"===S&&(P=-(I-w)/2)),o&&(c?c(e,t.attribute,l):s&&(e.setStrokeStyle(t,t.attribute,M-n,A-i,l),e.strokeText(R,M,A+P))),r&&(h?h(e,t.attribute,l):a&&(e.setCommonStyle(t,t.attribute,M-n,A-i,l),e.fillText(R,M,A+P),this.drawUnderLine(m,v,t,M,A+P,0,l,e,R)))}drawUnderLine(t,e,n,i,r,o,a,s,l){if(e+t<=0)return;const{textAlign:u=a.textAlign,textBaseline:h=a.textBaseline,fontSize:c=a.fontSize,fontFamily:d=a.fontFamily,fontWeight:f=a.fontWeight,fontStyle:p=a.fontStyle,fill:g=a.fill,opacity:m=a.opacity,underlineOffset:v=a.underlineOffset,underlineDash:y=a.underlineDash,fillOpacity:b=a.fillOpacity}=n.attribute;if(!t&&!e)return;const w=gn.QC.measureTextWidth(l,{fontSize:c,fontFamily:d,fontWeight:f,fontStyle:p}),x=(0,pn.js)(u,w),_=(0,pn.nV)(h,c,c),C={lineWidth:0,stroke:g,opacity:m,strokeOpacity:b};if(t){C.lineWidth=t,s.setStrokeStyle(n,C,i,r,a),s.setLineDash(y),s.beginPath();const e=r+_+c+v;s.moveTo(i+x,e,o),s.lineTo(i+x+w,e,o),s.stroke()}if(e){C.lineWidth=e,s.setStrokeStyle(n,C,i,r,a),s.beginPath();const t=r+_+c/2;s.moveTo(i+x,t,o),s.lineTo(i+x+w,t,o),s.stroke()}}};vn=mn([(0,Me.b)()],vn);var yn=new be.n(((t,e,n,i)=>{n(we.d4)?i(we.d4).to(rn).inSingletonScope():(t(rn).toSelf().inSingletonScope(),t(xe.d5).toService(rn)),n(we.Er)?i(we.Er).to(on).inSingletonScope():(t(on).toSelf().inSingletonScope(),t(xe.d5).toService(on)),t(Ie).toSelf().inSingletonScope(),t(Re).to(Ie),t(_e.uz).to(Ie),t(Be).toSelf().inSingletonScope(),t(xe.JO).toService(Be),t(Le).toSelf().inSingletonScope(),t(xe.JO).toService(Le),t(De).toSelf().inSingletonScope(),t(xe.JO).toService(De),t(Oe).toSelf().inSingletonScope(),t(xe.JO).toService(Oe),t(Ye).toSelf().inSingletonScope(),t(xe.jd).toService(Ye),t(qe).toSelf().inSingletonScope(),t(xe.jd).toService(qe),t(Ve).toSelf().inSingletonScope(),t(xe.jd).toService(Ve),t(je).toSelf().inSingletonScope(),t(xe.jd).toService(je),t(Ue).toSelf().inSingletonScope(),t(xe.jd).toService(Ue),t(Ke).toSelf().inSingletonScope(),t(xe.jd).toService(Ke),t($e).toSelf().inSingletonScope(),t(xe.jd).toService($e),t(Xe).toSelf().inSingletonScope(),t(xe.jd).toService(Xe),t(Je).toSelf().inSingletonScope(),t(xe.jd).toService(Je),t(cn).toSelf().inSingletonScope(),t(Ce.xL).toService(cn),t(vn).toSelf().inSingletonScope(),t(xe.$K).toService(vn)})),bn=n(21582);const wn=new Gt.Z({});wn.role="empty";var xn=n(28348);function _n(t,e,n,i,r,o,a,s,l){var u,h;let c,d,f,p=0;t.lastChild&&t.lastChild.row===i-1?p=t.lastChild.attribute.y+t.lastChild.attribute.height:t.colHeight&&(p=t.colHeight);for(let g=i;g<=r;g++){const r=g;let m,v,b,w,x=s.getCellLocation(e,r),_=s.getCellValue(e,r),C=n,S=s.getRowHeight(r),M=!1;if(s.internalProps.customMergeCell){const t=s.getCustomMerge(e,r);if(t){const{range:e,text:n,style:a,customLayout:l,customRender:u}=t;if(m=e,v=m.start.col!==m.end.col||m.start.row!==m.end.row,v){const t=Sn(m,o,s,i>m.start.row);C=t.cellWidth,S=t.cellHeight}_=n,b=a,(l||u)&&(w=(0,xt.ws)(l,u,e.start.col,e.start.row,s.getColsWidth(e.start.col,e.end.col),s.getRowsHeight(e.start.row,e.end.row),!1,s.isAutoRowHeight(r),[0,0,0,0],m,s)),M=!0}}let A,T=e,k=r;m&&(T=m.start.col,k=m.start.row),!s.isPivotTable()&&("columnHeader"===x||"cornerHeader"===x)&&r>=s.columnHeaderLevelCount&&(x="body"),A=!s.isPivotTable()&&s.isSeriesNumberInBody(e,r)?s.getBodyColumnDefine(T,k):"body"!==x?s.getHeaderDefine(T,k):s.getBodyColumnDefine(T,k);let R="body"!==x||(null==A?void 0:A.dragOrder)||!!(null==A?void 0:A.icon)||!!(null==A?void 0:A.tree);if(!m&&(s.internalProps.enableTreeNodeMerge||"body"!==x||(null==A?void 0:A.mergeCell))&&(m=s.getCellRange(e,r),v=m.start.col!==m.end.col||m.start.row!==m.end.row,v)){const t=Sn(m,o,s,i>m.start.row);C=t.cellWidth,S=t.cellHeight}let I=!1;if(s.internalProps.enableTreeNodeMerge&&v){const t=s.getCellRawRecord(m.start.col,m.start.row),{vtableMergeName:n,vtableMerge:i}=null!=t?t:{};I=i,i&&(R=!0,s.options.groupTitleCustomLayout&&(w=(0,xt.ws)(s.options.groupTitleCustomLayout,void 0,m.start.col,m.start.row,s.getColsWidth(m.start.col,m.end.col),s.getRowsHeight(m.start.row,m.end.row),!1,s.isAutoRowHeight(r),[0,0,0,0],m,s)),s.options.groupTitleFieldFormat?_=s.options.groupTitleFieldFormat(t,e,r,s):n&&(_=n))}const P=I||M?"text":null!==(h=s.isHeader(e,r)?null!==(u=s._getHeaderLayoutMap(e,r).headerType)&&void 0!==u?u:"text":s.getBodyColumnType(e,r))&&void 0!==h?h:"text";if((0,y.tI)(_)){Mn(e,r,0,p,C,S,t),(0,xn.K)(_,s,Cn.bind(null,{type:P,value:_,define:A,table:s,col:e,row:r,colWidth:n,cellWidth:C,cellHeight:S,columnGroup:t,y:p,customStyle:b,mayHaveIcon:R,cellLocation:x,range:m,customResult:w,defaultRowHeight:a})),t.updateColumnRowNumber(r);const i=s.getRowHeight(r);t.updateColumnHeight(i),p+=i}else{const i=b||s._getCellStyle(m?m.start.col:e,m?m.start.row:r),o=(0,wt.RT)(i,s,m?m.start.col:e,m?m.start.row:r,St.WJ).theme;o.group.cornerRadius=(0,wt.xv)(e,r,s),o.group.width=n,o.group.height=Array.isArray(a)?a[r]:a,o._vtable.padding&&(c=o._vtable.padding),o.text.textAlign&&(d=o.text.textAlign),o.text.textBaseline&&(f=o.text.textBaseline),"body"===x||o.group.fill||(o.group.fill="#fff");const l=(0,Ct.kE)(P,_,A,s,e,r,n,C,S,t,p,c,d,f,R,o,m,w);if(t.updateColumnRowNumber(r),v){const n=s.getRowHeight(r),{width:i}=(s.getColWidth(e),l.attribute),{height:o}=l.attribute;l.contentWidth=i,l.contentHeight=o,(0,Ct.pZ)(m,i,o,c,d,f,s),t.updateColumnHeight(n),p+=n}else t.updateColumnHeight(S),p+=S}if(l&&r>l)break}return t.setAttribute("width",n),{width:n,height:p}}function Cn(t){let e,n,i;const{type:r,value:o,define:a,table:s,col:l,row:u,colWidth:h,cellWidth:c,cellHeight:d,columnGroup:f,y:p,cellLocation:g,mayHaveIcon:m,customStyle:v,range:y,customResult:b,defaultRowHeight:w}=t,x=v||s._getCellStyle(y?y.start.col:l,y?y.start.row:u),_=(0,wt.RT)(x,s,y?y.start.col:l,y?y.start.row:u,St.WJ).theme;_.group.cornerRadius=(0,wt.xv)(l,u,s),_.group.width=h,_.group.height=Array.isArray(w)?w[u]:w,_._vtable.padding&&(e=_._vtable.padding),_.text.textAlign&&(n=_.text.textAlign),_.text.textBaseline&&(i=_.text.textBaseline),"body"===g||_.group.fill||(_.group.fill="#fff"),(0,Ct.kE)(r,o,a,s,l,u,h,c,d,f,p,e,n,i,m,_,y,b)}function Sn(t,e,n,i){let r=0,o=0;const a=e.get(`${t.start.col},${t.start.row};${t.end.col},${t.end.row}`);if(!a||i){for(let e=t.start.col;e<=t.end.col;e++)r+=n.getColWidth(e);for(let e=t.start.row;e<=t.end.row;e++)o+=n.getRowHeight(e);e.set(`${t.start.col},${t.start.row};${t.end.col},${t.end.row}`,{cellWidth:r,cellHeight:o})}else r=a.cellWidth,o=a.cellHeight;return{cellWidth:r,cellHeight:o}}function Mn(t,e,n,i,r,o,a){const s=new Gt.Z({x:n,y:i,width:r,height:o});s.role="cell",s.col=t,s.row=e,a.addChild(s)}function An(t,e,n,i,r,o,a,s,l,u){if(i>r||o>a)return;const{layoutMap:h,defaultHeaderRowHeight:c,defaultColWidth:d}=l.internalProps,f=l.defaultRowHeight;let p=0,g=0;for(let h=i;h<=r;h++){const i=h,r=l.getColWidth(i),d=new Gt.Z({x:e+p,y:n,width:r,height:0,clip:!1,pickable:!1});d.role="column",d.col=h,t.addChild(d);const{width:m,height:v}=_n(d,i,r,o,a,l.scenegraph.mergeMap,"columnHeader"===s&&(0,Mt.Z)(c)?c:f,l,u);p+=m,g=Math.max(g,v)}t.setAttribute("width",p),t.setAttribute("height",g)}function Tn(t){let e=t.firstChild;for(;e&&"group"!==e.type;)e=e._next;return e}function kn(t){let e=t.lastChild;for(;e&&"group"!==e.type;)e=e._prev;return e}function Rn(t,e,n,i="left"){for(let r=t;r<=e;r++){const t=n.scenegraph.getColGroup(r);t&&In(t,n,i);const e=n.scenegraph.getColGroup(r,!0);e&&In(e,n,i);const o=n.scenegraph.getColGroupInBottom(r);o&&In(o,n,i)}const r=Math.min(n.scenegraph.proxy.colLimit,n.scenegraph.proxy.bodyRightCol-n.scenegraph.proxy.bodyLeftCol+1),o=n.getColsWidth(n.frozenColCount,n.frozenColCount+r),a=n.getColsWidth(n.frozenColCount,n.colCount-1);n.scenegraph.proxy.xLimitLeft=o/2,n.scenegraph.proxy.xLimitRight=a-o/2}function In(t,e,n="left"){if("left"===n){let n;const i=function(t){let e=t._prev;for(;e&&"group"!==e.type;)e=e._prev;return e}(t);n=i?i.attribute.x+e.getColWidth(t._prev.col):e.getColsWidth(e.frozenColCount,t.col-1),t.setAttribute("x",n)}else{let n;const i=function(t){let e=t._next;for(;e&&"group"!==e.type;)e=e._next;return e}(t);n=i?i.attribute.x-e.getColWidth(t.col):e.getColsWidth(e.frozenColCount,t.col-1),t.setAttribute("x",n)}}var Pn=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};function En(t,e,n,i){return Pn(this,void 0,void 0,(function*(){if(!e)return;const r=e.col,o=e.left;let a;if(a=n?i.bodyRightCol-i.colEnd:i.screenLeftCol-i.referenceCol,function(t,e,n,i,r){t>0?(Bn(t,"left",r.screenLeftCol,n,i,r),r.updateDeltaX(i,n,e),r.table.scenegraph.setBodyAndColHeaderX(-i+r.deltaX)):t<0?(Bn(-t,"right",r.screenLeftCol,n,i,r),r.updateDeltaX(i,n,e),r.table.scenegraph.setBodyAndColHeaderX(-i+r.deltaX)):(r.updateDeltaX(i,n,e),r.table.scenegraph.setBodyAndColHeaderX(-i+r.deltaX))}(a,r,o,t,i),n){const e=i.table.scenegraph.getColGroup(i.colEnd);if(e){const n=e.attribute.x+e.attribute.width-(i.table.tableNoFrameWidth-i.table.getFrozenColsWidth()-i.table.getRightFrozenColsWidth())-t;i.deltaX=-n,i.table.scenegraph.setBodyAndColHeaderX(-t+i.deltaX)}}i.table.scenegraph.updateNextFrame()}))}function Bn(t,e,n,i,r,o){return Pn(this,void 0,void 0,(function*(){if("left"===e&&o.colEnd+t>o.bodyRightCol?t=o.bodyRightCol-o.colEnd:"right"===e&&o.colStart-t<o.bodyLeftCol&&(t=o.colStart-o.bodyLeftCol),0!==t)if(t<0&&(e="left"===e?"right":"left",t=-t),t<o.colEnd-o.colStart){const r="left"===e?o.colStart:o.colEnd-t+1,a="left"===e?o.colStart+t-1:o.colEnd,s="left"===e?o.colEnd+1:o.colStart-t,l="left"===e?o.colEnd+t:o.colStart-1;(0,bn.rj)(o.table,s,l),function(t,e,n,i){for(let r=t;r<=e;r++)i.table.scenegraph.bodyGroup.childrenCount>0&&"group"===i.table.scenegraph.bodyGroup.firstChild.type&&Fn(i.table.scenegraph.bodyGroup,n,i),i.table.scenegraph.colHeaderGroup.childrenCount>0&&"group"===i.table.scenegraph.colHeaderGroup.firstChild.type&&Fn(i.table.scenegraph.colHeaderGroup,n,i),i.table.scenegraph.bottomFrozenGroup.childrenCount>0&&"group"===i.table.scenegraph.bottomFrozenGroup.firstChild.type&&Fn(i.table.scenegraph.bottomFrozenGroup,n,i)}(r,a,e,o);const u=s,h=l;o.colStart="left"===e?o.colStart+t:o.colStart-t,o.colEnd="left"===e?o.colEnd+t:o.colEnd-t,Hn(u,h,o),Rn(u,h,o.table,e);const c=o.table.scenegraph.getColGroup(n)||o.table.scenegraph.getColGroup(n,!0),d=i-(c.attribute.x+o.table.getFrozenColsWidth()+o.table.scenegraph.proxy.deltaX);o.table.scenegraph.proxy.deltaX+=d,o.currentCol="left"===e?o.currentCol+t:o.currentCol-t,o.totalCol=Math.max(0,Math.min(o.table.colCount-1,"left"===e?o.totalCol+t:o.totalCol-t)),o.referenceCol=o.colStart+Math.floor((o.colEnd-o.colStart)/2),o.colUpdatePos=s,o.colUpdateDirection=e,o.table.scenegraph.updateNextFrame()}else{const n="left"===e?o.colStart+t:o.colStart-t,i="left"===e?o.colEnd+t:o.colEnd-t;(0,bn.rj)(o.table,n,i),function(t,e,n,i){i.table.scenegraph.colHeaderGroup.forEachChildren(((r,o)=>{"group"===r.type&&Ln(r,"left"===n?r.col+e:r.col-e,0===o?t:r._prev.attribute.x+i.table.getColWidth(r._prev.col))})),i.table.scenegraph.bottomFrozenGroup.forEachChildren(((r,o)=>{"group"===r.type&&Ln(r,"left"===n?r.col+e:r.col-e,0===o?t:r._prev.attribute.x+i.table.getColWidth(r._prev.col))})),i.table.scenegraph.bodyGroup.forEachChildren(((r,o)=>{"group"===r.type&&Ln(r,"left"===n?r.col+e:r.col-e,0===o?t:r._prev.attribute.x+i.table.getColWidth(r._prev.col))}))}(o.table.getColsWidth(o.bodyLeftCol,n-1),t,e,o);const r=n,a=i;o.colStart=n,o.colEnd=i,Hn(r,a,o),Rn(r,a,o.table,i>o.bodyRightCol-(o.colEnd-o.colStart+1)?"right":"left"),o.currentCol="left"===e?o.currentCol+t:o.currentCol-t,o.totalCol=Math.max(0,Math.min(o.table.colCount-1,"left"===e?o.totalCol+t:o.totalCol-t)),o.referenceCol=o.colStart+Math.floor((o.colEnd-o.colStart)/2),o.colUpdatePos=o.colStart,o.colUpdateDirection=i>o.bodyRightCol-(o.colEnd-o.colStart+1)?"right":"left",o.table.scenegraph.updateNextFrame()}}))}function Ln(t,e,n){t.col=e,t.forEachChildren((t=>{t.col=e,t.needUpdate=!0})),t.setAttribute("x",n),t.needUpdate=!0}function Dn(t,e){if(!t)return;let n=t.firstChild;for(;n;)n=e.updateCellGroupContent(n)._next;t.needUpdate=!1,t.setAttribute("width",e.table.getColWidth(t.col))}function On(t,e){if(!t)return;const n=e.screenTopRow,i=Math.max(e.bodyTopRow,n-1*e.screenRowCount),r=Math.min(e.bodyBottomRow,n+2*e.screenRowCount,e.table.rowCount-1);for(let n=i;n<=r;n++){const i=e.highPerformanceGetCell(t.col,n,!0);e.updateCellGroupContent(i)}e.rowUpdatePos=e.rowStart,t.needUpdate=!1,t.setAttribute("width",e.table.getColWidth(t.col))}function Fn(t,e,n){if("left"===e){const e=Tn(t),i=kn(t);Ln(e,i.col+1,i.attribute.x+n.table.getColWidth(i.col)),t.appendChild(e),t.border&&t.appendChild(t.border)}else{const e=kn(t),i=Tn(t);Ln(e,i.col-1,i.attribute.x-n.table.getColWidth(i.col-1)),t.insertBefore(e,t.firstChild)}}function Hn(t,e,n){for(let i=t;i<=e;i++){const t=n.table.scenegraph.getColGroup(i,!0);t&&Dn(t,n);const e=n.table.scenegraph.getColGroupInBottom(i);e&&Dn(e,n);const r=n.table.scenegraph.getColGroupInRightTopCorner(i);r&&Dn(r,n);const o=n.table.scenegraph.getColGroupInRightBottomCorner(i);o&&Dn(o,n);const a=n.table.scenegraph.getColGroup(i);a&&On(a,n)}Nn(n.table.scenegraph.colHeaderGroup),Nn(n.table.scenegraph.bottomFrozenGroup),Nn(n.table.scenegraph.bodyGroup),n.progress()}function Nn(t){var e;const n=kn(t);n&&(t.setAttribute("width",n.attribute.x+n.attribute.width),null===(e=t.border)||void 0===e||e.setAttribute("width",n.attribute.x+n.attribute.width))}function zn(t,e,n,r,o,a="up",s){var l,u;if("up"===a)for(let a=t;a<=e;a++)for(let t=n;t<=r;t++){const e=o.scenegraph.highPerformanceGetCell(a,t,!0);if("cell"!==e.role||!e.row)continue;let n;if(e._prev)n=(null===(l=e._prev)||void 0===l?void 0:l.attribute.y)+o.getRowHeight(e._prev.row);else if(s){if(n=o.scenegraph.highPerformanceGetCell(a,r+1,!0).attribute.y,(0,i.Z)(n))for(let e=t;e<=r;e++)n-=o.getRowHeight(e)}else n=Wn(e.row,o);(0,i.Z)(n)&&e.setAttribute("y",n)}else for(let a=t;a<=e;a++)for(let t=r;t>=n;t--){const e=o.scenegraph.highPerformanceGetCell(a,t,!0);if("cell"!==e.role||!e.row)continue;let r;if(e._next)r=(null===(u=e._next)||void 0===u?void 0:u.attribute.y)-o.getRowHeight(e.row);else if(s){r=o.scenegraph.highPerformanceGetCell(a,n-1,!0).attribute.y;for(let e=n-1;e<t;e++)r+=o.getRowHeight(e)}else r=Wn(e.row,o);(0,i.Z)(r)&&e.setAttribute("y",r)}const h=Math.min(o.scenegraph.proxy.rowLimit,o.scenegraph.proxy.bodyBottomRow-o.scenegraph.proxy.bodyTopRow+1),c=o.getRowsHeight(o.frozenRowCount,o.frozenRowCount+h),d=o.getRowsHeight(o.frozenRowCount,o.rowCount-1);o.scenegraph.proxy.yLimitTop=c/2,o.scenegraph.proxy.yLimitBottom=d-c/2}function Wn(t,e){let n;return n=t<e.frozenRowCount?e.getRowsHeight(0,t-1):t>=e.rowCount-e.bottomFrozenRowCount?e.getRowsHeight(e.rowCount-e.bottomFrozenRowCount,t-1):e.getRowsHeight(e.frozenRowCount,t-1),n}var jn=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};function Vn(t,e,n,i){return jn(this,void 0,void 0,(function*(){if(!e)return;const r=e.row,o=e.top;let a;if(a=n?i.bodyBottomRow-i.rowEnd:r-i.referenceRow,function(t,e,n,i,r){t>0?(Gn(t,"up",e,n,i,r),r.updateDeltaY(i,n,e),r.updateBody(i-r.deltaY)):t<0?(Gn(-t,"down",e,n,i,r),r.updateDeltaY(i,n,e),r.updateBody(i-r.deltaY)):(r.updateDeltaY(i,n,e),r.updateBody(i-r.deltaY))}(a,r,o,t,i),n){const e=i.table.scenegraph.highPerformanceGetCell(i.colStart,i.rowEnd,!0);if("cell"===e.role){const n=e.attribute.y+e.attribute.height-(i.table.tableNoFrameHeight-i.table.getFrozenRowsHeight()-i.table.getBottomFrozenRowsHeight())-t;i.deltaY=-n,i.updateBody(t-i.deltaY)}}}))}function Gn(t,e,n,i,r,o){return jn(this,void 0,void 0,(function*(){if("up"===e&&o.rowEnd+t>o.bodyBottomRow?t=o.bodyBottomRow-o.rowEnd:"down"===e&&o.rowStart-t<o.bodyTopRow&&(t=o.rowStart-o.bodyTopRow),0!==t)if(t<0&&(e="up"===e?"down":"up",t=-t),t<o.rowEnd-o.rowStart){const i="up"===e?o.rowStart:o.rowEnd-t+1,r="up"===e?o.rowStart+t-1:o.rowEnd,a="up"===e?o.rowEnd+1:o.rowStart-t,s="up"===e?o.rowEnd+t:o.rowStart-1;let l,u;o.table.isAutoRowHeight()?(l=a,u=s):(l=Math.max(o.bodyTopRow,n-1*o.screenRowCount),u=Math.min(o.bodyBottomRow,n+2*o.screenRowCount,o.table.rowCount-1)),(0,Rt.Y)(o.table,l,u,!1),function(t,e,n,i){for(let r=0;r<i.table.frozenColCount;r++){const o=i.table.scenegraph.getColGroup(r);if(o)for(let r=t;r<=e;r++)Zn(o,n,i)}for(let r=i.table.colCount-i.table.rightFrozenColCount;r<i.table.colCount;r++){const o=i.table.scenegraph.getColGroup(r);if(o)for(let r=t;r<=e;r++)Zn(o,n,i)}for(let r=i.bodyLeftCol;r<=i.bodyRightCol;r++){const o=i.table.scenegraph.getColGroup(r);if(o)for(let r=t;r<=e;r++)Zn(o,n,i)}}(i,r,e,o),o.rowStart="up"===e?o.rowStart+t:o.rowStart-t,o.rowEnd="up"===e?o.rowEnd+t:o.rowEnd-t;const h=Un(l,u,o,!0);o.table.isAutoRowHeight()&&(zn(o.bodyLeftCol,o.bodyRightCol,l,u,o.table,s>o.bodyBottomRow-(o.rowEnd-o.rowStart+1)?"down":"up",!0),zn(0,o.table.frozenColCount-1,l,u,o.table,s>o.bodyBottomRow-(o.rowEnd-o.rowStart+1)?"down":"up",!0),zn(o.table.colCount-o.table.rightFrozenColCount,o.table.colCount-1,l,u,o.table,s>o.bodyBottomRow-(o.rowEnd-o.rowStart+1)?"down":"up",!0)),o.currentRow="up"===e?o.currentRow+t:o.currentRow-t,o.totalRow=Math.max(0,Math.min(o.bodyBottomRow,"up"===e?o.totalRow+t:o.totalRow-t,o.table.rowCount-1)),o.referenceRow=o.rowStart+Math.floor((o.rowEnd-o.rowStart)/2),o.table.isAutoRowHeight()&&h?o.rowUpdatePos=Math.min(o.rowUpdatePos,o.rowEnd+1):o.rowUpdatePos=Math.min(o.rowUpdatePos,a),o.rowUpdateDirection=e,o.table.scenegraph.updateNextFrame(),yield o.progress()}else{const i="up"===e?o.rowStart+t:o.rowStart-t,r=Math.min(o.table.rowCount-1,"up"===e?o.rowEnd+t:o.rowEnd-t),a=o.table.getRowsHeight(o.bodyTopRow,i-1);let s,l;o.table.isAutoRowHeight()?(s=i,l=r):(s=Math.max(o.bodyTopRow,n-1*o.screenRowCount),l=Math.min(o.bodyBottomRow,n+2*o.screenRowCount,o.table.rowCount-1)),(0,Rt.Y)(o.table,s,l,!1),function(t,e,n,i){for(let r=0;r<i.table.frozenColCount;r++){const o=i.table.scenegraph.getColGroup(r);null==o||o.forEachChildren(((r,o)=>{i.updateCellGroupPosition(r,"up"===n?r.row+e:r.row-e,0===o?t:r._prev.attribute.y+i.table.getRowHeight(r._prev.row))}))}for(let r=i.table.colCount-i.table.rightFrozenColCount;r<i.table.colCount;r++){const o=i.table.scenegraph.getColGroup(r);null==o||o.forEachChildren(((r,o)=>{i.updateCellGroupPosition(r,"up"===n?r.row+e:r.row-e,0===o?t:r._prev.attribute.y+i.table.getRowHeight(r._prev.row))}))}for(let r=i.bodyLeftCol;r<=i.bodyRightCol;r++){const o=i.table.scenegraph.getColGroup(r);null==o||o.forEachChildren(((r,o)=>{i.updateCellGroupPosition(r,"up"===n?r.row+e:r.row-e,0===o?t:r._prev.attribute.y+i.table.getRowHeight(r._prev.row))}))}}(a,t,e,o),o.rowStart=i,o.rowEnd=r;const u=Un(s,l,o,!0);o.table.isAutoRowHeight()&&(zn(o.bodyLeftCol,o.bodyRightCol,s,l,o.table,r>o.bodyBottomRow-(o.rowEnd-o.rowStart+1)?"down":"up"),zn(0,o.table.frozenColCount-1,s,l,o.table,r>o.bodyBottomRow-(o.rowEnd-o.rowStart+1)?"down":"up"),zn(o.table.colCount-o.table.rightFrozenColCount,o.table.colCount-1,s,l,o.table,r>o.bodyBottomRow-(o.rowEnd-o.rowStart+1)?"down":"up")),o.currentRow="up"===e?o.currentRow+t:o.currentRow-t,o.totalRow=Math.max(0,Math.min(o.bodyBottomRow,"up"===e?o.totalRow+t:o.totalRow-t,o.table.rowCount-1)),o.referenceRow=o.rowStart+Math.floor((o.rowEnd-o.rowStart)/2),o.table.isAutoRowHeight()&&u?o.rowUpdatePos=o.rowEnd+1:o.rowUpdatePos=o.rowStart,o.rowUpdateDirection=r>o.bodyBottomRow-(o.rowEnd-o.rowStart+1)?"down":"up",o.table.scenegraph.updateNextFrame(),yield o.progress()}}))}function Zn(t,e,n){if(t.childrenCount>=1)if("up"===e){const e=t.firstChild;n.updateCellGroupPosition(e,t.lastChild.row+1,t.lastChild.attribute.y+n.table.getRowHeight(t.lastChild.row)),t.appendChild(e)}else{const e=t.lastChild;n.updateCellGroupPosition(e,t.firstChild.row-1,t.firstChild.attribute.y-n.table.getRowHeight(e.row)),t.insertBefore(e,t.firstChild)}}function Un(t,e,n,i=!1){for(let i=0;i<n.table.frozenColCount;i++)for(let r=t;r<=e;r++){const t=n.highPerformanceGetCell(i,r,!0);n.updateCellGroupContent(t)}for(let i=n.table.colCount-n.table.rightFrozenColCount;i<n.table.colCount;i++)for(let r=t;r<=e;r++){const t=n.highPerformanceGetCell(i,r);n.updateCellGroupContent(t)}let r=n.bodyLeftCol,o=n.bodyRightCol,a=!0;if(i){const t=n.screenLeftCol;r=Math.max(n.bodyLeftCol,t-1*n.screenColCount),o=Math.min(n.bodyRightCol,t+2*n.screenColCount),r===n.bodyLeftCol&&o===n.bodyRightCol||(a=!1)}for(let i=r;i<=o;i++)for(let r=t;r<=e;r++){const t=n.highPerformanceGetCell(i,r);n.updateCellGroupContent(t)}return n.table.scenegraph.updateNextFrame(),a}var Kn=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};var $n=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};function Xn(t){const{changedCells:e}=t.internalProps.stick;e.forEach((e=>{t.scenegraph.getCell(e.col,e.row).forEachChildren((t=>{t.setAttributes({dx:e.dx,dy:e.dy})}))})),e.clear();const{scrollTop:n,scrollLeft:i,frozenRowCount:r,frozenColCount:o}=t,a=t.getFrozenRowsHeight(),s=t.getFrozenColsWidth(),{row:l}=t.getRowAt(n+a+1),{col:u}=t.getColAt(i+s+1),h=Math.max(l,t.frozenRowCount),c=Math.max(u,t.frozenColCount),d=t.getAllRowsHeight()>t.tableNoFrameHeight?t.getRowAt(n+t.tableNoFrameHeight-t.getBottomFrozenRowsHeight()-1).row:t.rowCount-t.bottomFrozenRowCount-1,f=t.getAllColsWidth()>t.tableNoFrameWidth?t.getColAt(i+t.tableNoFrameWidth-t.getRightFrozenColsWidth()-1).col:t.colCount-t.rightFrozenColCount-1;if(!(f<0||d<0)){for(let n=0;n<r&&!(f<c);n++)[c,f].forEach((i=>{const r=t._getCellStyle(i,n);(null==r?void 0:r.textStick)&&"vertical"!==(null==r?void 0:r.textStick)&&Jn(t.scenegraph.getCell(i,n),s+t.tableX,t.tableNoFrameWidth-t.getRightFrozenColsWidth()+t.tableX,e,null==r?void 0:r.textStickBaseOnAlign,t)}));for(let n=0;n<o&&!(d<h);n++)[h,d].forEach((i=>{const r=t._getCellStyle(n,i);(null==r?void 0:r.textStick)&&"horizontal"!==(null==r?void 0:r.textStick)&&Yn(t.scenegraph.getCell(n,i),a+t.tableY,t.tableNoFrameHeight-t.getBottomFrozenRowsHeight()+t.tableY,e,null==r?void 0:r.textStickBaseOnAlign,t)}));for(let n=c;n<=f&&!(d<h);n++)[h,d].forEach((i=>{const r=t._getCellStyle(n,i);(null==r?void 0:r.textStick)&&"horizontal"!==(null==r?void 0:r.textStick)&&Yn(t.scenegraph.getCell(n,i),a+t.tableY,t.tableNoFrameHeight-t.getBottomFrozenRowsHeight()+t.tableY,e,null==r?void 0:r.textStickBaseOnAlign,t)}));for(let n=h;n<=d&&!(f<c);n++)[c,f].forEach((i=>{const r=t._getCellStyle(i,n);(null==r?void 0:r.textStick)&&"vertical"!==(null==r?void 0:r.textStick)&&Jn(t.scenegraph.getCell(i,n),s+t.tableX,t.tableNoFrameWidth-t.getRightFrozenColsWidth()+t.tableX,e,null==r?void 0:r.textStickBaseOnAlign,t)}))}}function Yn(t,e,n,i,r,o){if((0,Mt.Z)(t.mergeStartCol)&&(0,Mt.Z)(t.mergeStartRow)&&(0,Mt.Z)(t.mergeEndCol)&&(0,Mt.Z)(t.mergeEndRow)){const{colStart:a,colEnd:s,rowStart:l,rowEnd:u}=It(t,o.scenegraph);for(let t=a;t<=s;t++)for(let a=l;a<=u;a++){const s=o.scenegraph.getCell(t,a);"cell"===s.role&&qn(s,e,n,i,r)}}else qn(t,e,n,i,r)}function qn(t,e,n,i,r){var o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x;const _=t.getChildByName("text",!0)||t.getChildByName("image",!0);if(!_)return;if("image"===_.type){const{image:t}=_.attribute;if(!t||!_.resources)return;if("success"!==_.resources.get(t).state)return}const C=null!==(o=_.textBaseline)&&void 0!==o?o:"top";_.AABBBounds.width();const S=_.globalAABBBounds.y1,M=_.globalAABBBounds.y2;if("middle"===C&&r){const r=t.globalAABBBounds.y1+(null!==(s=null===(a=t.firstChild)||void 0===a?void 0:a.attribute.dy)&&void 0!==s?s:0),o=r+(null!==(u=null!==(l=t.contentHeight)&&void 0!==l?l:t.attribute.height)&&void 0!==u?u:0);if(r<e||o>n){const a=Math.max(r,e),s=Math.min(o,n),l=_.globalTransMatrix.f-(s+a)/2+_.AABBBounds.height()/2;!i.has(`${t.col}-${t.row}`)&&i.set(`${t.col}-${t.row}`,{col:t.col,row:t.row,dx:null!==(c=null===(h=t.firstChild)||void 0===h?void 0:h.attribute.dx)&&void 0!==c?c:0,dy:null!==(f=null===(d=t.firstChild)||void 0===d?void 0:d.attribute.dy)&&void 0!==f?f:0}),t.forEachChildren((t=>{var e;t.setAttribute("dy",(null!==(e=t.attribute.dy)&&void 0!==e?e:0)-l+2)}))}}else if(S<e){const n=S-e;!i.has(`${t.col}-${t.row}`)&&i.set(`${t.col}-${t.row}`,{col:t.col,row:t.row,dx:null!==(g=null===(p=t.firstChild)||void 0===p?void 0:p.attribute.dx)&&void 0!==g?g:0,dy:null!==(v=null===(m=t.firstChild)||void 0===m?void 0:m.attribute.dy)&&void 0!==v?v:0}),t.forEachChildren((t=>{var e;t.setAttribute("dy",(null!==(e=t.attribute.dy)&&void 0!==e?e:0)-n+2)}))}else if(M>n){const e=M-n;!i.has(`${t.col}-${t.row}`)&&i.set(`${t.col}-${t.row}`,{col:t.col,row:t.row,dx:null!==(b=null===(y=t.firstChild)||void 0===y?void 0:y.attribute.dx)&&void 0!==b?b:0,dy:null!==(x=null===(w=t.firstChild)||void 0===w?void 0:w.attribute.dy)&&void 0!==x?x:0}),t.forEachChildren((t=>{var n;t.setAttribute("dy",(null!==(n=t.attribute.dy)&&void 0!==n?n:0)-e)}))}}function Jn(t,e,n,i,r,o){if((0,Mt.Z)(t.mergeStartCol)&&(0,Mt.Z)(t.mergeStartRow)&&(0,Mt.Z)(t.mergeEndCol)&&(0,Mt.Z)(t.mergeEndRow)){const{colStart:a,colEnd:s,rowStart:l,rowEnd:u}=It(t,o.scenegraph);for(let t=a;t<=s;t++)for(let a=l;a<=u;a++){const s=o.scenegraph.getCell(t,a);"cell"===s.role&&Qn(s,e,n,i,r)}}else Qn(t,e,n,i,r)}function Qn(t,e,n,i,r){var o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_;const C=t.getChildByName("text",!0)||t.getChildByName("image",!0);if(!C)return;if("image"===C.type){const{image:t}=C.attribute;if(!t||!C.resources)return;if("success"!==C.resources.get(t).state)return}const S=null!==(a=null!==(o=C.attribute.textAlign)&&void 0!==o?o:C.textAlign)&&void 0!==a?a:"left";C.AABBBounds.width();const M=C.globalAABBBounds.x1,A=C.globalAABBBounds.x2;if("center"===S&&r){const r=t.globalAABBBounds.x1+(null!==(l=null===(s=t.firstChild)||void 0===s?void 0:s.attribute.dx)&&void 0!==l?l:0),o=r+(null!==(h=null!==(u=t.contentWidth)&&void 0!==u?u:t.attribute.width)&&void 0!==h?h:0);if(r<e||o>n){const a=Math.max(r,e),s=Math.min(o,n),l=C.globalTransMatrix.e-(s+a)/2;!i.has(`${t.col}-${t.row}`)&&i.set(`${t.col}-${t.row}`,{col:t.col,row:t.row,dx:null!==(d=null===(c=t.firstChild)||void 0===c?void 0:c.attribute.dx)&&void 0!==d?d:0,dy:null!==(p=null===(f=t.firstChild)||void 0===f?void 0:f.attribute.dy)&&void 0!==p?p:0}),t.forEachChildren((t=>{var e;t.setAttribute("dx",(null!==(e=t.attribute.dx)&&void 0!==e?e:0)-l+2)}))}}else if(M<e){const n=M-e;!i.has(`${t.col}-${t.row}`)&&i.set(`${t.col}-${t.row}`,{col:t.col,row:t.row,dx:null!==(m=null===(g=t.firstChild)||void 0===g?void 0:g.attribute.dx)&&void 0!==m?m:0,dy:null!==(y=null===(v=t.firstChild)||void 0===v?void 0:v.attribute.dy)&&void 0!==y?y:0}),t.forEachChildren((t=>{var e;t.setAttribute("dx",(null!==(e=t.attribute.dx)&&void 0!==e?e:0)-n+2)}))}else if(A>n){const e=A-n;!i.has(`${t.col}-${t.row}`)&&i.set(`${t.col}-${t.row}`,{col:t.col,row:t.row,dx:null!==(w=null===(b=t.firstChild)||void 0===b?void 0:b.attribute.dx)&&void 0!==w?w:0,dy:null!==(_=null===(x=t.firstChild)||void 0===x?void 0:x.attribute.dy)&&void 0!==_?_:0}),t.forEachChildren((t=>{var n;t.setAttribute("dx",(null!==(n=t.attribute.dx)&&void 0!==n?n:0)-e)}))}}function ti(t){var e,n;const i=t.internalProps.layoutMap.headerObjects,r=t.internalProps.layoutMap.columnObjects;for(let t=0;t<i.length;t++){const n=i[t];if(n&&(null===(e=n.style)||void 0===e?void 0:e.textStick))return!0}for(let t=0;t<r.length;t++){const e=r[t];if(e&&(null===(n=e.style)||void 0===n?void 0:n.textStick))return!0}return!!(t.theme.headerStyle.textStick||t.theme.rowHeaderStyle.textStick||t.theme.bodyStyle.textStick)}var ei=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};class ni{constructor(t){this.isRelease=!1,this.mode="column",this.rowLimit=200,this.currentRow=0,this.rowStart=0,this.rowEnd=0,this.referenceRow=0,this.screenTopRow=0,this.deltaY=0,this.deltaHeight=0,this.colLimit=100,this.screenLeftCol=0,this.deltaX=0,this.deltaWidth=0,this.cellCache=new Map,this.table=t,this.table.isPivotChart()?(this.rowLimit=Math.max(100,Math.ceil(2*t.tableNoFrameHeight/t.defaultRowHeight)),this.colLimit=Math.max(100,Math.ceil(2*t.tableNoFrameWidth/t.defaultColWidth))):this.table.isAutoRowHeight()?this.rowLimit=Math.max(100,Math.ceil(2*t.tableNoFrameHeight/t.defaultRowHeight)):("autoWidth"===this.table.widthMode||(this.rowLimit=Math.max(200,Math.ceil(2*t.tableNoFrameHeight/t.defaultRowHeight))),this.colLimit=Math.max(100,Math.ceil(2*t.tableNoFrameWidth/t.defaultColWidth))),this.table.internalProps.transpose?this.mode="row":this.table.isPivotTable()&&(this.mode="pivot"),this.table.options.maintainedDataCount&&(this.rowLimit=this.table.options.maintainedDataCount)}get bodyLeftCol(){return this.table.frozenColCount}setParamsForColumn(){this.bodyRightCol=this.table.colCount-1-this.table.rightFrozenColCount;const t=Math.min(this.colLimit,this.bodyRightCol-this.bodyLeftCol+1);this.totalActualBodyColCount=t,this.totalCol=this.bodyLeftCol+t-1,this.colStart=this.bodyLeftCol,this.colEnd=this.totalCol;const e=this.table.defaultColWidth;this.taskColCount=1*Math.ceil(this.table.tableNoFrameWidth/e);const n=e*t,i=e*(this.bodyRightCol-this.bodyLeftCol+1);this.xLimitLeft=n/2,this.xLimitRight=i-n/2;const r=5*this.table.tableNoFrameWidth;this.screenColCount=Math.ceil(this.table.tableNoFrameWidth/e),this.firstScreenColLimit=Math.max(15,this.bodyLeftCol+Math.min(this.colLimit,Math.ceil(r/e))),this.colUpdatePos=this.bodyRightCol}setParamsForRow(){this.bodyTopRow=this.table.frozenRowCount,this.bodyBottomRow=this.table.rowCount-1-this.table.bottomFrozenRowCount;const t=Math.min(this.rowLimit,this.bodyBottomRow-this.bodyTopRow+1);this.totalActualBodyRowCount=t,this.totalRow=this.bodyTopRow+t-1,this.rowStart=this.bodyTopRow,this.rowEnd=this.totalRow;const e=this.table.defaultRowHeight;this.taskRowCount=1*Math.ceil(this.table.tableNoFrameHeight/e);const n=e*t,i=e*(this.bodyBottomRow-this.bodyTopRow+1);this.yLimitTop=n/2,this.yLimitBottom=i-n/2;const r=5*this.table.tableNoFrameHeight;this.screenRowCount=Math.ceil(this.table.tableNoFrameHeight/e),this.firstScreenRowLimit=Math.max(30,this.bodyTopRow+Math.min(this.rowLimit,Math.ceil(r/e))),this.rowUpdatePos=this.bodyBottomRow}refreshRowCount(){this.bodyTopRow=this.table.frozenRowCount,this.bodyBottomRow=this.table.rowCount-1-this.table.bottomFrozenRowCount;const t=Math.min(this.rowLimit,this.bodyBottomRow-this.bodyTopRow+1);this.totalActualBodyRowCount=t,this.totalRow=this.rowStart+t-1}refreshColCount(){this.bodyRightCol=this.table.colCount-1-this.table.rightFrozenColCount;const t=Math.min(this.colLimit,this.bodyRightCol-this.bodyLeftCol+1);this.totalActualBodyColCount=t,this.totalCol=this.bodyLeftCol+t-1,this.colStart=this.bodyLeftCol,this.colEnd=this.totalCol}resize(){const t=this.table.defaultColWidth;this.taskColCount=1*Math.ceil(this.table.tableNoFrameWidth/t);const e=5*this.table.tableNoFrameWidth;this.screenColCount=Math.ceil(this.table.tableNoFrameWidth/t),this.firstScreenColLimit=this.bodyLeftCol+Math.min(this.colLimit,Math.ceil(e/t));const n=this.table.defaultRowHeight;this.taskRowCount=1*Math.ceil(this.table.tableNoFrameHeight/n);const i=5*this.table.tableNoFrameHeight;this.screenRowCount=Math.ceil(this.table.tableNoFrameHeight/n),this.firstScreenRowLimit=this.bodyTopRow+Math.min(this.rowLimit,Math.ceil(i/n))}createGroupForFirstScreen(t,e,n,i,r,o,a,s){!function(t,e,n,i,r,o,a,s,l){var u,h,c,d,f,p,g,m,v,y,b,w;const{table:x}=l,{leftBottomCornerGroup:_,rightTopCornerGroup:C,rightBottomCornerGroup:S}=x.scenegraph;let M,A,T,k;l.setParamsForRow(),l.setParamsForColumn(),"adaptive"===x.widthMode||x.options.autoWrapText&&("adaptive"===x.heightMode||x.isAutoRowHeight())?(T=x.colCount-1,M=Math.min(l.firstScreenColLimit-1,x.colCount-1)):M=Math.min(l.firstScreenColLimit-1,x.colCount-1),"adaptive"===x.heightMode?(k=x.rowCount-1,A=Math.min(l.firstScreenRowLimit-1,x.rowCount-1)):A=Math.min(l.firstScreenRowLimit-1,x.rowCount-1),0===x.internalProps._widthResizedColMap.size&&(0,bn.rj)(x,0,null!=T?T:M),0===x.internalProps._heightResizedRowMap.size&&(0,Rt.Y)(x,0,"auto"===x.options.canvasHeight?x.rowCount-1:null!=k?k:A),M<x.colCount-x.rightFrozenColCount&&(0,bn.rj)(x,x.colCount-x.rightFrozenColCount,x.colCount-1),A<x.rowCount-x.bottomFrozenRowCount&&(0,Rt.Y)(x,x.rowCount-x.bottomFrozenRowCount,x.rowCount-1),x.scenegraph.colHeaderGroup.setAttribute("x",x.getFrozenColsWidth()),x.scenegraph.rowHeaderGroup.setAttribute("y",x.getFrozenRowsHeight()),x.scenegraph.bottomFrozenGroup.setAttribute("x",x.getFrozenColsWidth()),x.scenegraph.rightFrozenGroup.setAttribute("y",x.getFrozenRowsHeight()),x.scenegraph.bodyGroup.setAttributes({x:x.getFrozenColsWidth(),y:x.getFrozenRowsHeight()}),An(t,a,s,0,x.frozenColCount-1,0,x.frozenRowCount-1,x.isListTable()?"columnHeader":"cornerHeader",x),M-x.rightFrozenColCount>=x.frozenColCount&&An(e,a,s,x.frozenColCount,M-x.rightFrozenColCount,0,x.frozenRowCount-1,"columnHeader",x),x.frozenColCount>0&&(x.leftRowSeriesNumberCount>0&&An(n,a,s,0,x.leftRowSeriesNumberCount-1,x.frozenRowCount,A-x.bottomFrozenRowCount,"rowHeader",x),x.frozenColCount>x.leftRowSeriesNumberCount&&An(n,a,s,x.leftRowSeriesNumberCount,Math.min(x.frozenColCount-1,x.rowHeaderLevelCount+x.leftRowSeriesNumberCount-1),x.frozenRowCount,A-x.bottomFrozenRowCount,"rowHeader",x),x.frozenColCount>x.rowHeaderLevelCount+x.leftRowSeriesNumberCount&&An(n,a,s,x.rowHeaderLevelCount+x.leftRowSeriesNumberCount,x.frozenColCount-1,x.frozenRowCount,A-x.bottomFrozenRowCount,"body",x)),x.bottomFrozenRowCount>0&&(x.frozenColCount>0&&(x.leftRowSeriesNumberCount>0&&An(_,a,s,0,x.leftRowSeriesNumberCount-1,x.rowCount-1-x.bottomFrozenRowCount+1,x.rowCount-1,"rowHeader",x),x.rowHeaderLevelCount>0&&An(_,a,s,x.leftRowSeriesNumberCount,x.leftRowSeriesNumberCount+x.rowHeaderLevelCount-1,x.rowCount-1-x.bottomFrozenRowCount+1,x.rowCount-1,"rowHeader",x),x.frozenColCount>x.rowHeaderLevelCount+x.leftRowSeriesNumberCount&&An(_,a,s,x.rowHeaderLevelCount+x.leftRowSeriesNumberCount,x.frozenColCount-1,x.rowCount-1-x.bottomFrozenRowCount+1,x.rowCount-1,"body",x)),M-x.rightFrozenColCount>=x.frozenColCount&&An(r,a,s,x.frozenColCount,M-x.rightFrozenColCount,x.rowCount-1-x.bottomFrozenRowCount+1,x.rowCount-1,x.isPivotChart()?"rowHeader":"body",x)),x.rightFrozenColCount>0&&(An(C,a,s,x.colCount-1-x.rightFrozenColCount+1,x.colCount-1,0,x.frozenRowCount-1,"columnHeader",x),An(i,a,s,x.colCount-1-x.rightFrozenColCount+1,x.colCount-1,x.frozenRowCount,A-x.bottomFrozenRowCount,x.isPivotChart()?"rowHeader":"body",x)),x.bottomFrozenRowCount>0&&x.rightFrozenColCount>0&&An(S,a,s,x.colCount-1-x.rightFrozenColCount+1,x.colCount-1,x.rowCount-1-x.bottomFrozenRowCount+1,x.rowCount-1,"body",x),M-x.rightFrozenColCount>=x.frozenColCount&&An(o,a,s,x.frozenColCount,M-x.rightFrozenColCount,x.frozenRowCount,A-x.bottomFrozenRowCount,"body",x),o.firstChild||e.firstChild||t.firstChild||n.firstChild?(l.currentRow=null!==(d=null!==(h=null===(u=o.firstChild)||void 0===u?void 0:u.rowNumber)&&void 0!==h?h:null===(c=n.firstChild)||void 0===c?void 0:c.rowNumber)&&void 0!==d?d:l.totalRow,l.rowEnd=l.currentRow,l.rowUpdatePos=l.rowEnd+1,l.referenceRow=l.rowStart+Math.floor((l.rowEnd-l.rowStart)/2),l.currentCol=null!==(w=null!==(y=null!==(m=null!==(p=null===(f=o.lastChild)||void 0===f?void 0:f.col)&&void 0!==p?p:null===(g=e.lastChild)||void 0===g?void 0:g.col)&&void 0!==m?m:null===(v=n.lastChild)||void 0===v?void 0:v.col)&&void 0!==y?y:null===(b=t.lastChild)||void 0===b?void 0:b.col)&&void 0!==w?w:l.totalCol,l.colEnd=l.currentCol,l.colUpdatePos=l.colEnd+1,l.referenceCol=l.colStart+Math.floor((l.colEnd-l.colStart)/2),l.progress()):(l.currentRow=l.totalRow,l.rowEnd=l.currentRow,l.rowUpdatePos=l.rowEnd+1,l.referenceRow=l.rowStart+Math.floor((l.rowEnd-l.rowStart)/2),l.currentCol=l.totalCol,l.colEnd=l.currentCol,l.colUpdatePos=l.colEnd+1,l.referenceCol=l.colStart+Math.floor((l.colEnd-l.colStart)/2))}(t,e,n,i,r,o,a,s,this)}progress(){return ei(this,void 0,void 0,(function*(){if(!this.isProgressing)return this.isProgressing=!0,new Promise(((t,e)=>{setTimeout((()=>ei(this,void 0,void 0,(function*(){this.isProgressing=!1,this.isRelease||(this.colUpdatePos<=this.colEnd?(yield this.updateColCellGroupsAsync(),yield this.progress()):this.rowUpdatePos<=this.rowEnd?(yield this.updateRowCellGroupsAsync(),yield this.progress()):this.currentCol<this.totalCol?(yield this.createCol(),yield this.progress()):this.currentRow<this.totalRow&&(yield this.createRow(),yield this.progress()),Xn(this.table),this.table.scenegraph.updateNextFrame(),t())}))),16)}))}))}createRow(){return ei(this,void 0,void 0,(function*(){this.taskRowCount&&this.createRowCellGroup(this.taskRowCount)}))}createCol(){return ei(this,void 0,void 0,(function*(){this.taskColCount&&this.createColGroup(this.taskRowCount)}))}createRowCellGroup(t){const e=Math.min(this.totalRow,this.currentRow+t);if((0,Rt.Y)(this.table,this.currentRow+1,e,!1),this.rowEnd=e,this.table.frozenColCount){let t=0;for(let n=0;n<this.table.frozenColCount;n++){const i=this.table.scenegraph.getColGroup(n),{height:r}=(this.table.isListTable(),_n(i,n,i.attribute.width,this.currentRow+1,e,this.table.scenegraph.mergeMap,this.table.defaultRowHeight,this.table));t=Math.max(t,r),this.table.scenegraph.rowHeaderGroup.setAttribute("height",t)}}if(this.table.rightFrozenColCount){let t=0;for(let n=this.table.colCount-this.table.rightFrozenColCount;n<this.table.colCount;n++){const i=this.table.scenegraph.getColGroup(n),{height:r}=(this.table.isPivotChart(),_n(i,n,i.attribute.width,this.currentRow+1,e,this.table.scenegraph.mergeMap,this.table.defaultRowHeight,this.table));t=Math.max(t,r),this.table.scenegraph.rightFrozenGroup.setAttribute("height",t)}}let n=0;for(let t=this.bodyLeftCol;t<=this.bodyRightCol;t++){const i=this.table.scenegraph.getColGroup(t);if(!i)continue;this.table.rowHeaderLevelCount;const{height:r}=_n(i,t,i.attribute.width,this.currentRow+1,e,this.table.scenegraph.mergeMap,this.table.defaultRowHeight,this.table);n=Math.max(n,r)}this.table.scenegraph.bodyGroup.setAttribute("height",n),this.currentRow=e,this.rowUpdatePos=this.rowEnd,this.table.scenegraph.updateContainer(),this.table.scenegraph.updateBorderSizeAndPosition()}createColGroup(t){const e=Math.min(this.totalCol,this.currentCol+t);(0,bn.rj)(this.table,this.currentCol+1,e),this.colEnd=e;for(let t=0;t<this.table.rowCount;t++){const e=this.highPerformanceGetCell(this.currentCol,t);"cell"===e.role&&(0,Mt.Z)(e.mergeStartCol)&&e.mergeStartCol>this.currentCol&&this.table.scenegraph.updateCellContent(e.col,e.row)}if(this.table.frozenRowCount){const t=this.table.scenegraph.colHeaderGroup.lastChild instanceof Gt.Z?this.table.scenegraph.colHeaderGroup.lastChild:this.table.scenegraph.colHeaderGroup.lastChild._prev,n=t.attribute.x+t.attribute.width,i=t.attribute.y;An(this.table.scenegraph.colHeaderGroup,n,i,this.currentCol+1,e,0,this.table.frozenRowCount-1,"columnHeader",this.table)}if(this.table.bottomFrozenRowCount){const t=this.table.scenegraph.bottomFrozenGroup.lastChild instanceof Gt.Z?this.table.scenegraph.bottomFrozenGroup.lastChild:this.table.scenegraph.bottomFrozenGroup.lastChild._prev,n=t.attribute.x+t.attribute.width,i=t.attribute.y;An(this.table.scenegraph.bottomFrozenGroup,n,i,this.currentCol+1,e,this.table.rowCount-this.table.bottomFrozenRowCount,this.table.rowCount-1,"columnHeader",this.table)}let n=this.table.scenegraph.bodyGroup.lastChild&&(this.table.scenegraph.bodyGroup.lastChild instanceof Gt.Z?this.table.scenegraph.bodyGroup.lastChild:this.table.scenegraph.bodyGroup.lastChild._prev);n||(n=this.table.scenegraph.colHeaderGroup.lastChild&&(this.table.scenegraph.colHeaderGroup.lastChild instanceof Gt.Z?this.table.scenegraph.colHeaderGroup.lastChild:this.table.scenegraph.colHeaderGroup.lastChild._prev));const i=n.attribute.x+n.attribute.width,r=n.attribute.y;An(this.table.scenegraph.bodyGroup,i,r,this.currentCol+1,e,this.rowStart,this.rowEnd,"body",this.table),this.currentCol=e,this.colUpdatePos=this.colEnd,this.table.scenegraph.updateContainer(),this.table.scenegraph.updateBorderSizeAndPosition()}setY(t,e=!1){return ei(this,void 0,void 0,(function*(){const n=this.table.getRowsHeight(this.bodyTopRow,this.bodyTopRow+(this.rowEnd-this.rowStart+1))/2,i=this.table.getAllRowsHeight()-n,r=this.table.getTargetRowAt(t+this.table.scenegraph.colHeaderGroup.attribute.height);r&&(this.screenTopRow=r.row),t<n&&this.rowStart===this.bodyTopRow||t>i&&this.rowEnd===this.bodyBottomRow?(this.updateDeltaY(t),this.updateBody(t-this.deltaY)):this.table.scenegraph.bodyGroup.firstChild&&"group"===this.table.scenegraph.bodyGroup.firstChild.type&&0!==this.table.scenegraph.bodyGroup.firstChild.childrenCount||this.table.scenegraph.rowHeaderGroup.firstChild&&"group"===this.table.scenegraph.rowHeaderGroup.firstChild.type&&0!==this.table.scenegraph.rowHeaderGroup.firstChild.childrenCount?this.dynamicSetY(t,r,e):(this.updateDeltaY(t),this.updateBody(t-this.deltaY))}))}setX(t,e=!1){return ei(this,void 0,void 0,(function*(){const n=this.table.getColsWidth(this.bodyLeftCol,this.bodyLeftCol+(this.colEnd-this.colStart+1))/2,i=this.table.getAllColsWidth()-n,r=this.table.getTargetColAt(t+this.table.scenegraph.rowHeaderGroup.attribute.width);r&&(this.screenLeftCol=r.col),t<n&&this.colStart===this.bodyLeftCol||t>i&&this.colEnd===this.bodyRightCol||this.table.scenegraph.bodyGroup.firstChild&&"group"===this.table.scenegraph.bodyGroup.firstChild.type&&0===this.table.scenegraph.bodyGroup.firstChild.childrenCount?(this.updateDeltaX(t),this.table.scenegraph.setBodyAndColHeaderX(-t+this.deltaX)):this.dynamicSetX(t,r,e)}))}dynamicSetY(t,e,n=!1){return ei(this,void 0,void 0,(function*(){Vn(t,e,n,this)}))}dynamicSetX(t,e,n=!1){return ei(this,void 0,void 0,(function*(){En(t,e,n,this)}))}updateBody(t){this.table.scenegraph.setBodyAndRowHeaderY(-t)}updateRowCellGroupsAsync(){return ei(this,void 0,void 0,(function*(){this.updateCellGroups(this.taskRowCount)}))}updateCellGroups(t){const e=Math.min(this.bodyBottomRow,this.rowUpdatePos+t);this.table.isAutoRowHeight()&&(0,Rt.Y)(this.table,this.rowUpdatePos,e,!1),Un(this.rowUpdatePos,e,this),this.table.isAutoRowHeight()&&(zn(this.bodyLeftCol,this.bodyRightCol,this.rowUpdatePos,e,this.table,this.rowUpdateDirection,!0),zn(0,this.table.frozenColCount-1,this.rowUpdatePos,e,this.table,this.rowUpdateDirection,!0),zn(this.table.colCount-this.table.rightFrozenColCount,this.table.colCount-1,this.rowUpdatePos,e,this.table,this.rowUpdateDirection,!0)),this.rowUpdatePos=e+1}updateBottomFrozenCellGroups(){const t=this.table.rowCount-this.table.bottomFrozenRowCount,e=this.table.rowCount-1;this.table.isAutoRowHeight()&&(0,Rt.Y)(this.table,t,e,!1),Un(t,e,this),this.table.isAutoRowHeight()&&(zn(this.bodyLeftCol,this.bodyRightCol,t,e,this.table,this.rowUpdateDirection),zn(0,this.table.frozenColCount-1,t,e,this.table,this.rowUpdateDirection),zn(this.table.colCount-this.table.rightFrozenColCount,this.table.colCount-1,t,e,this.table,this.rowUpdateDirection))}updateRightFrozenCellGroups(){const t=this.table.colCount-this.table.rightFrozenColCount,e=this.table.colCount-1;"autoWidth"===this.table.widthMode&&(0,bn.rj)(this.table,t,e,!1),Hn(t,e,this),this.table.isAutoRowHeight()&&Rn(t,e,this.table,this.colUpdateDirection)}updateColCellGroupsAsync(){return ei(this,void 0,void 0,(function*(){this.updateColGroups(this.taskRowCount)}))}updateColGroups(t){const e=Math.min(this.bodyRightCol,this.colUpdatePos+t);(0,bn.rj)(this.table,this.colUpdatePos,e),Hn(this.colUpdatePos,e,this),this.colUpdatePos=e+1}updateCellGroupPosition(t,e,n){t.row=e,t.mergeStartCol=void 0,t.mergeStartRow=void 0,t.mergeEndCol=void 0,t.mergeEndRow=void 0,t.setAttribute("y",n),t.needUpdate=!0,t.needUpdateForAutoRowHeight=!0}updateCellGroupContent(t){if(!t.needUpdate||"cell"!==t.role)return t;const e=this.table.scenegraph.updateCellContent(t.col,t.row);return t.needUpdate=!1,e||t}sortCellVertical(){return ei(this,void 0,void 0,(function*(){yield function(t){var e;return Kn(this,void 0,void 0,(function*(){let n,i;t.table.scenegraph.bodyGroup.forEachChildren(((t,e)=>{"group"===t.type&&(t.needUpdate=!0,null==t||t.forEachChildren((t=>{t.needUpdate=!0})))})),t.table.isAutoRowHeight()?(n=t.rowStart,i=t.rowEnd):(n=Math.max(t.bodyTopRow,t.screenTopRow-1*t.screenRowCount),i=Math.min(t.bodyBottomRow,t.screenTopRow+2*t.screenRowCount,t.table.rowCount-1));const r=t.table.getAllRowsHeight();(0,Rt.Y)(t.table,n,i);const o=t.table.getAllRowsHeight();r!==o&&t.table.scenegraph.updateContainerHeight(t.table.frozenRowCount,o-r);for(let n=0;null!==(e=n<t.table.frozenColCount)&&void 0!==e&&e;n++){const e=t.table.scenegraph.getColGroup(n);null==e||e.setAttribute("chartInstance",void 0);for(let e=t.rowStart;e<=t.rowEnd;e++)t.table.scenegraph.updateCellContent(n,e);for(let e=t.table.rowCount-t.table.bottomFrozenRowCount;e<t.table.rowCount;e++)t.table.scenegraph.updateCellContent(n,e)}for(let e=t.colStart;e<=t.colEnd;e++){const n=t.table.scenegraph.getColGroup(e);null==n||n.setAttribute("chartInstance",void 0);for(let n=t.table.rowCount-t.table.bottomFrozenRowCount;n<t.table.rowCount;n++)t.table.scenegraph.updateCellContent(e,n)}for(let e=t.table.colCount-t.table.rightFrozenColCount;e<t.table.colCount;e++){const n=t.table.scenegraph.getColGroup(e);null==n||n.setAttribute("chartInstance",void 0);for(let n=t.rowStart;n<=t.rowEnd;n++)t.table.scenegraph.updateCellContent(e,n);for(let n=t.table.rowCount-t.table.bottomFrozenRowCount;n<t.table.rowCount;n++)t.table.scenegraph.updateCellContent(e,n)}Un(n,i,t),t.table.isAutoRowHeight()&&zn(t.bodyLeftCol,t.bodyRightCol,n,i,t.table,t.rowEnd>t.bodyBottomRow-(t.rowEnd-t.rowStart+1)?"down":"up"),t.rowUpdatePos=t.rowStart,t.rowUpdateDirection=t.rowEnd>t.bodyBottomRow-(t.rowEnd-t.rowStart+1)?"down":"up",t.table.scenegraph.updateNextFrame(),t.table.isAutoRowHeight()||(yield t.progress())}))}(this)}))}sortCellHorizontal(){return ei(this,void 0,void 0,(function*(){yield function(t){return $n(this,void 0,void 0,(function*(){t.table.scenegraph.bodyGroup.forEachChildren(((t,e)=>{"group"===t.type&&(t.needUpdate=!0,null==t||t.forEachChildren((t=>{t.needUpdate=!0})))}));const e=Math.max(t.bodyLeftCol,t.screenLeftCol-1*t.screenColCount),n=Math.min(t.bodyRightCol,t.screenLeftCol+2*t.screenColCount);(0,bn.rj)(t.table,e,n);for(let e=t.colStart;e<=t.colEnd;e++){const n=t.table.scenegraph.getColGroup(e);null==n||n.setAttribute("chartInstance",void 0);for(let n=t.table.rowCount-t.table.bottomFrozenRowCount;n<t.table.rowCount;n++)t.table.scenegraph.updateCellContent(e,n)}for(let e=t.table.colCount-t.table.rightFrozenColCount;e<t.table.colCount;e++){const n=t.table.scenegraph.getColGroup(e);null==n||n.setAttribute("chartInstance",void 0);for(let n=t.rowStart;n<=t.rowEnd;n++)t.table.scenegraph.updateCellContent(e,n);for(let n=t.table.rowCount-t.table.bottomFrozenRowCount;n<t.table.rowCount;n++)t.table.scenegraph.updateCellContent(e,n)}Hn(e,n,t),t.colUpdatePos=t.colStart,t.colUpdateDirection=t.colEnd>t.bodyRightCol-(t.colEnd-t.colStart+1)?"right":"left",t.table.scenegraph.updateNextFrame(),yield t.progress()}))}(this)}))}highPerformanceGetCell(t,e,n){if(e>=this.table.frozenRowCount&&e<this.table.rowCount-this.table.bottomFrozenRowCount&&(e<this.rowStart||e>this.rowEnd))return wn;if(t>=this.table.frozenColCount&&t<this.table.colCount-this.table.rightFrozenColCount&&(t<this.colStart||t>this.colEnd))return wn;if(this.cellCache.get(t)){const i=this.cellCache.get(t);if((i._next||i._prev)&&Math.abs(i.row-e)<e){let r=ii(i,e);return r&&(n||"shadow-cell"!==r.role)||(r=this.table.scenegraph.getCell(t,e,n)),r.row&&this.cellCache.set(t,r),r}const r=this.table.scenegraph.getCell(t,e,n);return r.col===t&&r.row&&this.cellCache.set(t,r),r}const i=this.table.scenegraph.getCell(t,e,n);return i.col===t&&i.row&&this.cellCache.set(t,i),i}updateDeltaY(t,e,n){if(this.rowStart===this.bodyTopRow){const t=this.table.scenegraph.highPerformanceGetCell(this.colStart,this.rowStart,!0);if("cell"===t.role){const e=t.attribute.y;this.deltaY=-e}}else if(this.rowEnd===this.bodyBottomRow){const t=this.table.scenegraph.highPerformanceGetCell(this.colStart,this.rowEnd,!0);if("cell"===t.role){const e=t.attribute.y+t.attribute.height-(this.table.getAllRowsHeight()-this.table.getFrozenRowsHeight()-this.table.getBottomFrozenRowsHeight());this.deltaY=-e}}else if((0,i.Z)(e)&&(0,i.Z)(n)){let i=this.table.scenegraph.highPerformanceGetCell(this.colStart,n,!0);"cell"!==i.role&&(i=this.table.scenegraph.highPerformanceGetCell(0,n,!0));const r=t-this.deltaY,o=e-r,a=i.attribute.y-r+this.table.getFrozenRowsHeight();this.deltaY=o-a}}updateDeltaX(t,e,n){if(this.colStart===this.bodyLeftCol){const t=this.table.scenegraph.getColGroup(this.colStart);if(t){const e=t.attribute.x;this.deltaX=-e}}else if(this.colEnd===this.bodyRightCol){const t=this.table.scenegraph.getColGroup(this.colEnd);if(t){const e=t.attribute.x+t.attribute.width-(this.table.getAllColsWidth()-this.table.getFrozenColsWidth()-this.table.getRightFrozenColsWidth());this.deltaX=-e}}else if((0,i.Z)(e)&&(0,i.Z)(n)){const i=this.table.scenegraph.getColGroup(n)||this.table.scenegraph.getColGroup(n,!0),r=t-this.deltaX,o=e-r,a=i.attribute.x-r+this.table.getFrozenColsWidth();this.deltaX=o-a}}release(){this.isRelease=!0}}function ii(t,e){if(!t)return null;if(t.row===e)return t;const n=t._prev,i=t._next;return t.row>e&&n&&n.row===t.row-1?ii(n,e):t.row<e&&i&&i.row===t.row+1?ii(i,e):null}function ri(t){t.customSelectedRangeComponents.forEach(((e,n)=>{oi(e,n,t)})),t.selectingRangeComponents.forEach(((e,n)=>{oi(e,n,t)})),t.selectedRangeComponents.forEach(((e,n)=>{oi(e,n,t)}))}function oi(t,e,n){var i,r,o,a,s,l,u,h,c;const d=n.table,[f,p,g,m]=e.split("-"),v=parseInt(f,10),y=parseInt(p,10),b=parseInt(g,10),w=parseInt(m,10);let x,_=v,C=y,S=b,M=w;switch(t.role){case"rowHeader":x=d.getBodyVisibleRowRange(),x&&(C=Math.max(y,x.rowStart-1),M=Math.min(w,x.rowEnd+1));break;case"columnHeader":case"bottomFrozen":x=d.getBodyVisibleCellRange(),x&&(_=Math.max(v,x.colStart-1),S=Math.min(b,x.colEnd+1));break;case"cornerHeader":case"rightTopCorner":case"leftBottomCorner":case"rightBottomCorner":break;case"rightFrozen":x=d.getBodyVisibleCellRange(),x&&(C=Math.max(y,x.rowStart-1),M=Math.min(w,x.rowEnd+1));break;default:x=d.getBodyVisibleCellRange(),x&&(C=Math.max(y,x.rowStart-1),M=Math.min(w,x.rowEnd+1),_=Math.max(v,x.colStart-1),S=Math.min(b,x.colEnd+1))}const A=d.getColsWidth(_,S),T=d.getRowsHeight(C,M),k=n.highPerformanceGetCell(_,C).globalAABBBounds,R=n.highPerformanceGetCell(S,M).globalAABBBounds;t.rect.setAttributes({x:k.x1-n.tableGroup.attribute.x,y:k.y1-n.tableGroup.attribute.y,width:A,height:T,visible:!0}),t.fillhandle&&(null===(i=t.fillhandle)||void 0===i||i.setAttributes({x:R.x2-n.tableGroup.attribute.x-3,y:R.y2-n.tableGroup.attribute.y-3,width:6,height:6,visible:!0}));let I=!!d.frozenColCount&&v===d.frozenColCount;!I&&d.frozenColCount&&d.scrollLeft>0&&v>=d.frozenColCount&&d.getColsWidth(0,v-1)-d.scrollLeft<d.getFrozenColsWidth()&&(I=!0);let P=!!d.rightFrozenColCount&&d.rightFrozenColCount>0&&b===d.colCount-d.rightFrozenColCount-1;!P&&d.rightFrozenColCount&&b<d.colCount-d.rightFrozenColCount&&d.getColsWidth(0,b)-d.scrollLeft>d.tableNoFrameWidth-d.getRightFrozenColsWidth()&&(P=!0);let E=!d.frozenRowCount||y===d.frozenRowCount;!E&&d.frozenRowCount&&d.scrollTop>0&&y>=d.frozenRowCount&&d.getRowsHeight(0,y-1)-d.scrollTop<d.getFrozenRowsHeight()&&(E=!0);let B=!!d.bottomFrozenRowCount&&w===d.rowCount-d.bottomFrozenRowCount-1;if(!B&&d.bottomFrozenRowCount&&w<d.rowCount-d.bottomFrozenRowCount&&d.getRowsHeight(0,w)-d.scrollTop>d.tableNoFrameHeight-d.getBottomFrozenRowsHeight()&&(B=!0),I&&t.rect.attribute.stroke[3]||P&&t.rect.attribute.stroke[1]||E&&t.rect.attribute.stroke[0]||B&&t.rect.attribute.stroke[2]){if(I&&t.rect.attribute.stroke[3]&&n.tableGroup.insertAfter(t.rect,"columnHeader"===t.role?n.cornerHeaderGroup:"bottomFrozen"===t.role?n.leftBottomCornerGroup:n.rowHeaderGroup),B&&t.rect.attribute.stroke[2]&&n.tableGroup.insertAfter(t.rect,"rowHeader"===t.role?n.leftBottomCornerGroup:"rightFrozen"===t.role?n.rightBottomCornerGroup:n.bottomFrozenGroup),E&&t.rect.attribute.stroke[0]&&n.tableGroup.insertAfter(t.rect,"rowHeader"===t.role?n.cornerHeaderGroup:"rightFrozen"===t.role?n.rightTopCornerGroup:n.colHeaderGroup),P&&t.rect.attribute.stroke[1]&&n.tableGroup.insertAfter(t.rect,"columnHeader"===t.role?n.rightTopCornerGroup:"bottomFrozen"===t.role?n.rightBottomCornerGroup:n.rightFrozenGroup),t.rect.attribute.x<d.getFrozenColsWidth()&&d.scrollLeft>0&&("body"===t.role||"columnHeader"===t.role||"bottomFrozen"===t.role)){const e=t.rect.attribute.width-(d.getFrozenColsWidth()-t.rect.attribute.x);t.rect.setAttributes({x:t.rect.attribute.x+(d.getFrozenColsWidth()-t.rect.attribute.x),width:e>0?e:0}),null===(r=t.fillhandle)||void 0===r||r.setAttributes({visible:e>0})}if(d.getRightFrozenColsWidth()>0&&n.rightFrozenGroup.attribute.height>0&&t.rect.attribute.x+t.rect.attribute.width>n.rightFrozenGroup.attribute.x&&("body"===t.role||"columnHeader"===t.role||"bottomFrozen"===t.role)){const e=n.rightFrozenGroup.attribute.x-t.rect.attribute.x;t.rect.setAttributes({x:t.rect.attribute.x,width:e>0?e:0}),null===(o=t.fillhandle)||void 0===o||o.setAttributes({visible:e-A>0})}if(t.rect.attribute.y<n.colHeaderGroup.attribute.height&&d.scrollTop>0&&("body"===t.role||"rowHeader"===t.role||"rightFrozen"===t.role)){const e=t.rect.attribute.height-(n.colHeaderGroup.attribute.height-t.rect.attribute.y);t.rect.setAttributes({y:t.rect.attribute.y+(n.colHeaderGroup.attribute.height-t.rect.attribute.y),height:e>0?e:0}),null===(a=t.fillhandle)||void 0===a||a.setAttributes({visible:e>0})}if(n.bottomFrozenGroup.attribute.width>0&&n.bottomFrozenGroup.attribute.height>0&&t.rect.attribute.y+t.rect.attribute.height>n.bottomFrozenGroup.attribute.y&&("body"===t.role||"rowHeader"===t.role||"rightFrozen"===t.role)){const e=n.bottomFrozenGroup.attribute.y-t.rect.attribute.y;t.rect.setAttributes({y:t.rect.attribute.y,height:e>0?e:0}),null===(s=t.fillhandle)||void 0===s||s.setAttributes({visible:e-T>0})}}else n.tableGroup.insertAfter(t.rect,"body"===t.role?n.bodyGroup:"columnHeader"===t.role?n.colHeaderGroup:"rowHeader"===t.role?n.rowHeaderGroup:"cornerHeader"===t.role?n.cornerHeaderGroup:"rightTopCorner"===t.role?n.rightTopCornerGroup:"rightFrozen"===t.role?n.rightFrozenGroup:"leftBottomCorner"===t.role?n.leftBottomCornerGroup:"bottomFrozen"===t.role?n.bottomFrozenGroup:n.rightBottomCornerGroup);let L=0;"number"==typeof t.rect.attribute.lineWidth&&(L=Math.ceil(t.rect.attribute.lineWidth/2)),b===d.colCount-1&&(Array.isArray(t.rect.attribute.lineWidth)&&(L=Math.ceil((null!==(l=t.rect.attribute.lineWidth[1])&&void 0!==l?l:0)/2)),t.rect.setAttributes({width:t.rect.attribute.width-L})),0===v&&(Array.isArray(t.rect.attribute.lineWidth)&&(L=Math.ceil((null!==(u=t.rect.attribute.lineWidth[3])&&void 0!==u?u:0)/2)),t.rect.setAttributes({x:t.rect.attribute.x+L,width:t.rect.attribute.width-L})),w===d.rowCount-1&&(Array.isArray(t.rect.attribute.lineWidth)&&(L=Math.ceil((null!==(h=t.rect.attribute.lineWidth[2])&&void 0!==h?h:0)/2)),t.rect.setAttributes({height:t.rect.attribute.height-L})),0===y&&(Array.isArray(t.rect.attribute.lineWidth)&&(L=Math.ceil((null!==(c=t.rect.attribute.lineWidth[0])&&void 0!==c?c:0)/2)),t.rect.setAttributes({y:t.rect.attribute.y+L,height:t.rect.attribute.height-L}))}function ai(t,e,n=!0){const i=t.table,r=e.start.col,o=e.start.row,a=e.end.col,s=e.end.row,l=e.skipBodyMerge;let u=Math.max(Math.min(a,r),0),h=Math.max(Math.min(s,o),0),c=Math.min(Math.max(a,r),i.colCount-1),d=Math.min(Math.max(s,o),i.rowCount-1);const f=()=>{let t=!1;for(let e=u;e<=c;e++){if(e===u)for(let n=h;n<=d;n++){if(!i.isHeader(e,n)&&l)continue;const r=(0,yt.Z)(i,e,n);if(r&&r.start.col<u){u=r.start.col,t=!0;break}}if(!t&&e===c)for(let n=h;n<=d;n++){if(!i.isHeader(e,n)&&l)continue;const r=(0,yt.Z)(i,e,n);if(r&&Math.min(r.end.col,i.colCount-1)>c){c=r.end.col,t=!0;break}}if(t)break}if(!t)for(let e=h;e<=d;e++){if(e===h)for(let n=u;n<=c;n++){if(!i.isHeader(n,e)&&l)continue;const r=(0,yt.Z)(i,n,e);if(r&&r.start.row<h){h=r.start.row,t=!0;break}}if(!t&&e===d)for(let n=u;n<=c;n++){if(!i.isHeader(n,e)&&l)continue;const r=(0,yt.Z)(i,n,e);if(r&&Math.min(r.end.row,i.rowCount-1)>d){d=r.end.row,t=!0;break}}if(t)break}t&&f()};n&&f(),t.selectingRangeComponents.forEach(((t,e)=>{var n;t.rect.delete(),null===(n=t.fillhandle)||void 0===n||n.delete()})),t.selectingRangeComponents=new Map;let p=!1,g=!1,m=!1,v=!1,y=!1,b=!1,w=!1,x=!1,_=!1;if(u<=i.frozenColCount-1&&h<=i.frozenRowCount-1&&(b=!0),c>=i.colCount-i.rightFrozenColCount&&h<=i.frozenRowCount-1&&(w=!0),u<=i.frozenColCount-1&&d>=i.rowCount-i.bottomFrozenRowCount&&(_=!0),c>=i.colCount-i.rightFrozenColCount&&d>=i.rowCount-i.bottomFrozenRowCount&&(x=!0),u<=i.frozenColCount-1&&d>=i.frozenRowCount&&h<=i.rowCount-i.bottomFrozenRowCount-1&&(p=!0),c>=i.colCount-i.rightFrozenColCount&&d>=i.frozenRowCount&&h<=i.rowCount-i.bottomFrozenRowCount-1&&(g=!0),h<=i.frozenRowCount-1&&c>=i.frozenColCount&&u<=i.colCount-i.rightFrozenColCount-1&&(m=!0),d>=i.rowCount-i.bottomFrozenRowCount&&c>=i.frozenColCount&&u<=i.colCount-i.rightFrozenColCount-1&&(v=!0),u<=i.colCount-i.rightFrozenColCount-1&&c>=i.frozenColCount&&h<=i.rowCount-i.bottomFrozenRowCount-1&&d>=i.frozenRowCount&&(y=!0),b){const e=Math.min(c,i.frozenColCount-1),n=Math.min(d,i.frozenRowCount-1),r=[!0,!m,!p,!0];t.createCellSelectBorder(u,h,e,n,"cornerHeader",`${u}${h}${c}${d}`,r)}if(w){const e=Math.max(u,i.colCount-i.rightFrozenColCount),n=Math.min(d,i.frozenRowCount-1),r=[!0,!0,!g,!m];t.createCellSelectBorder(e,h,c,n,"rightTopCorner",`${u}${h}${c}${d}`,r)}if(_){const e=Math.min(c,i.frozenColCount-1),n=Math.max(h,i.rowCount-i.bottomFrozenRowCount),r=[!p,!v,!0,!0];t.createCellSelectBorder(u,n,e,d,"leftBottomCorner",`${u}${h}${c}${d}`,r)}if(x){const e=Math.max(u,i.colCount-i.rightFrozenColCount),n=Math.max(h,i.rowCount-i.bottomFrozenRowCount),r=[!g,!0,!0,!v];t.createCellSelectBorder(e,n,c,d,"rightBottomCorner",`${u}${h}${c}${d}`,r)}if(m){const e=Math.max(u,i.frozenColCount),n=Math.min(c,i.colCount-i.rightFrozenColCount-1),r=Math.min(d,i.frozenRowCount-1),o=[!0,!w,!y,!b];t.createCellSelectBorder(e,h,n,r,"columnHeader",`${u}${h}${c}${d}`,o)}if(v){const e=Math.max(u,i.frozenColCount),n=Math.min(c,i.colCount-i.rightFrozenColCount-1),r=Math.max(h,i.rowCount-i.bottomFrozenRowCount),o=[!y,!x,!0,!_];t.createCellSelectBorder(e,r,n,d,"bottomFrozen",`${u}${h}${c}${d}`,o)}if(p){const e=Math.max(h,i.frozenRowCount),n=Math.min(d,i.rowCount-i.bottomFrozenRowCount-1),r=Math.min(c,i.frozenColCount-1),o=[!b,!y,!_,!0];t.createCellSelectBorder(u,e,r,n,"rowHeader",`${u}${h}${c}${d}`,o)}if(g){const e=Math.max(h,i.frozenRowCount),n=Math.min(d,i.rowCount-i.bottomFrozenRowCount-1),r=Math.max(u,i.colCount-i.rightFrozenColCount),o=[!w,!0,!x,!y];t.createCellSelectBorder(r,e,c,n,"rightFrozen",`${u}${h}${c}${d}`,o)}if(y){const e=Math.max(u,i.frozenColCount),n=Math.max(h,i.frozenRowCount),r=Math.min(c,i.colCount-i.rightFrozenColCount-1),o=Math.min(d,i.rowCount-i.bottomFrozenRowCount-1),a=[!m,!g,!v,!p];t.createCellSelectBorder(e,n,r,o,"body",`${u}${h}${c}${d}`,a)}}function si(t){t.selectingRangeComponents.forEach(((t,e)=>{t.rect.setAttribute("opacity",0)})),t.selectedRangeComponents.forEach(((t,e)=>{t.rect.setAttribute("opacity",0)}))}function li(t){t.selectingRangeComponents.forEach(((t,e)=>{t.rect.setAttribute("opacity",1)})),t.selectedRangeComponents.forEach(((t,e)=>{t.rect.setAttribute("opacity",1)}))}function ui(t){t.selectingRangeComponents.forEach(((e,n)=>{var i;t.selectedRangeComponents.get(n)&&(t.selectingRangeComponents.get(n).rect.delete(),null===(i=t.selectingRangeComponents.get(n).fillhandle)||void 0===i||i.delete()),t.selectedRangeComponents.set(n,e)})),t.selectingRangeComponents=new Map,t.updateNextFrame()}function hi(t){t.selectedRangeComponents.forEach(((t,e)=>{var n;t.rect.delete(),null===(n=t.fillhandle)||void 0===n||n.delete()})),t.selectedRangeComponents=new Map}function ci(t){t.selectingRangeComponents.forEach(((t,e)=>{var n;t.rect.delete(),null===(n=t.fillhandle)||void 0===n||n.delete()})),t.selectingRangeComponents=new Map}function di(t,e,n,r,o){const a=r.scenegraph,s=(0,C.oM)(t.map((t=>t.row))).sort(((t,e)=>e-t)),l=(0,C.oM)(e.map((t=>t.row))).sort(((t,e)=>t-e)),u=(0,C.oM)(n.map((t=>t.row))).sort(((t,e)=>t-e));let h;if(u.length&&(h=mi(u[0]-1,u[u.length-1]+1,a)),l.length){const t=mi(l[0]-1,l[l.length-1]+1,a);h=(0,i.Z)(h)?(0,i.Z)(t)?Math.min(h,t):h:t}if(s.length){const t=mi(s[0]-1,s[s.length-1]+1,a);h=(0,i.Z)(h)?(0,i.Z)(t)?Math.min(h,t):h:t}s.forEach((t=>{!function(t,e,n){const i=e.proxy;if(t>=i.rowStart&&t<=i.rowEnd&&(pi(t,e),i.rowEnd--,i.currentRow--),!n){i.bodyBottomRow--;const t=Math.min(i.rowLimit,i.bodyBottomRow-i.bodyTopRow+1);i.totalActualBodyRowCount=t,i.totalRow=Math.min(i.table.rowCount-1,i.rowStart+t-1)}}(t,a,o)}));const c=r.rowHeightsMap;if(s.forEach((t=>{c.delete(t)})),s.length){!function(t){function e(e,n){e.row=n;const i=(0,yt.Z)(t.table,e.col,e.row);i?(e.mergeStartCol=i.start.col,e.mergeEndCol=i.end.col,e.mergeStartRow=i.start.row,e.mergeEndRow=i.end.row):(e.mergeStartCol=void 0,e.mergeEndCol=void 0,e.mergeStartRow=void 0,e.mergeEndRow=void 0)}t.bodyGroup.forEachChildren((n=>{let i=t.bodyRowStart;null==n||n.forEachChildren((t=>{e(t,i),i++}))})),t.rowHeaderGroup.forEachChildren((n=>{let i=t.bodyRowStart;null==n||n.forEachChildren((t=>{e(t,i),i++}))})),t.rightFrozenGroup.forEachChildren((n=>{let i=t.bodyRowStart;null==n||n.forEachChildren((t=>{e(t,i),i++}))})),t.bottomFrozenGroup.forEachChildren((n=>{let i=t.table.rowCount-t.table.bottomFrozenRowCount;null==n||n.forEachChildren((t=>{e(t,i),i++}))})),t.leftBottomCornerGroup.forEachChildren((n=>{let i=t.table.rowCount-t.table.bottomFrozenRowCount;null==n||n.forEachChildren((t=>{e(t,i),i++}))})),t.rightBottomCornerGroup.forEachChildren((n=>{let i=t.table.rowCount-t.table.bottomFrozenRowCount;null==n||n.forEachChildren((t=>{e(t,i),i++}))}))}(a);const t=gi(s[s.length-1]-1,s[0]-s.length+1,a);h=(0,i.Z)(h)?(0,i.Z)(t)?Math.min(h,t):h:t}let d;if(a.table._clearRowRangeHeightsMap(),l.forEach((t=>{const e=function(t,e,n){const i=e.proxy;if(!n){i.bodyBottomRow++;const t=Math.min(i.rowLimit,i.bodyBottomRow-i.bodyTopRow+1);i.totalActualBodyRowCount=t,i.totalRow=i.rowStart+t-1}if(!(t<i.rowStart))return t>i.rowEnd?i.rowEnd-i.rowStart+1<i.rowLimit?(i.rowEnd++,i.currentRow++,fi(t,e),t):void 0:i.rowEnd-i.rowStart+1<i.rowLimit?(i.rowEnd++,i.currentRow++,fi(t,e),t):t}(t,a,o);d=null!=d?d:e,c.insert(t)})),function(t){function e(e,n,i){e.row=n,e.setAttribute("y",i);const r=(0,yt.Z)(t.table,e.col,e.row);r?(e.mergeStartCol=r.start.col,e.mergeEndCol=r.end.col,e.mergeStartRow=r.start.row,e.mergeEndRow=r.end.row):(e.mergeStartCol=void 0,e.mergeEndCol=void 0,e.mergeStartRow=void 0,e.mergeEndRow=void 0)}t.bodyGroup.forEachChildren((n=>{let i=t.bodyRowStart,r=t.getCellGroupY(i);null==n||n.forEachChildren((t=>{e(t,i,r),i++,r+=t.attribute.height}))})),t.rowHeaderGroup.forEachChildren((n=>{let i=t.bodyRowStart,r=t.getCellGroupY(i);null==n||n.forEachChildren((t=>{e(t,i,r),i++,r+=t.attribute.height}))})),t.rightFrozenGroup.forEachChildren((n=>{let i=t.bodyRowStart,r=t.getCellGroupY(i);null==n||n.forEachChildren((t=>{e(t,i,r),i++,r+=t.attribute.height}))})),t.bottomFrozenGroup.forEachChildren((n=>{let i=t.table.rowCount-t.table.bottomFrozenRowCount,r=0;null==n||n.forEachChildren((t=>{e(t,i,r),i++,r+=t.attribute.height}))})),t.leftBottomCornerGroup.forEachChildren((n=>{let i=t.table.rowCount-t.table.bottomFrozenRowCount,r=0;null==n||n.forEachChildren((t=>{e(t,i,r),i++,r+=t.attribute.height}))})),t.rightBottomCornerGroup.forEachChildren((n=>{let i=t.table.rowCount-t.table.bottomFrozenRowCount,r=0;null==n||n.forEachChildren((t=>{e(t,i,r),i++,r+=t.attribute.height}))}))}(a),l.length){const t=gi(l[0]-1,l[l.length-1]+1,a);h=(0,i.Z)(h)?(0,i.Z)(t)?Math.min(h,t):h:t}for(let t=0;t<r.colCount;t++)u.forEach((e=>{if(e<r.frozenRowCount){const n=(0,yt.Z)(a.table,t,e);if(n)for(let t=n.start.col;t<=n.end.col;t++)for(let e=n.start.row;e<=n.end.row;e++)(0,Ct.wW)(t,e,a.table,!1);else(0,Ct.wW)(t,e,a.table,!1)}else if(e>r.rowCount-1||e<a.table.rowCount-a.table.bottomFrozenRowCount&&(e<a.proxy.rowStart||e>a.proxy.rowEnd))pi(e,a);else{const n=(0,yt.Z)(a.table,t,e);if(n)for(let t=n.start.col;t<=n.end.col;t++)for(let e=n.start.row;e<=n.end.row;e++)(0,Ct.wW)(t,e,a.table,!1);else(0,Ct.wW)(t,e,a.table,!1)}}));if(u.length){const t=gi(u[0]-1,u[u.length-1]+1,a);h=(0,i.Z)(h)?(0,i.Z)(t)?Math.min(h,t):h:t}if((0,Mt.Z)(d)){for(let t=0;t<r.colCount;t++)for(let e=d;e<r.rowCount;e++){const n=a.highPerformanceGetCell(t,e,!0);n&&(n.needUpdate=!0)}h=(0,i.Z)(h)?(0,i.Z)(d)?Math.min(h,d):h:d}if((0,Mt.Z)(h)&&(a.proxy.rowUpdatePos=Math.min(a.proxy.rowUpdatePos,h)),l.length){if(!(0,Mt.Z)(d)){const t=Math.min(...l);a.proxy.rowUpdatePos=Math.min(t,a.proxy.rowUpdatePos)}a.proxy.rowUpdateDirection="up",a.proxy.updateCellGroups(2*a.proxy.screenRowCount),p()}else s.length&&(function(t,e){if(e.table.isHasSeriesNumber())for(let n=t;n<=e.table.rowCount-1;n++)(0,Ct.wW)(0,n,e.table,!1)}(s[s.length-1],a),a.proxy.updateCellGroups(2*a.proxy.screenRowCount),p());a.proxy.progress();const f=r.getRowsHeight(r.frozenRowCount,r.rowCount-1-r.bottomFrozenRowCount);function p(){if((null==l?void 0:l[(null==l?void 0:l.length)-1])>=r.rowCount-r.bottomFrozenRowCount||(null==u?void 0:u[(null==u?void 0:u.length)-1])>=r.rowCount-r.bottomFrozenRowCount||(null==s?void 0:s[0])>=r.rowCount-r.bottomFrozenRowCount){for(let t=0;t<r.colCount;t++)for(let e=r.rowCount-r.bottomFrozenRowCount;e<r.rowCount;e++){const n=a.highPerformanceGetCell(t,e,!0);n&&(n.needUpdate=!0)}a.proxy.updateBottomFrozenCellGroups()}}a.updateContainerHeight(a.table.frozenRowCount,f-a.bodyGroup.attribute.height)}function fi(t,e){for(let n=0;n<e.table.colCount;n++){const i=new Gt.Z({x:0,y:0,width:e.table.getColWidth(n),height:e.table.getRowHeight(t)});if(i.role="cell",i.col=n,i.row=t,i.needUpdate=!0,!i)continue;const r=e.getColGroup(n);if(r)if(r.firstChild&&t<r.firstChild.row)r.insertBefore(i,r.firstChild),r.firstChild.row=r.firstChild.row+1;else if(r.lastChild&&t>r.lastChild.row)r.appendChild(i);else{const o=e.highPerformanceGetCell(n,t,!0);o!==i&&(r.insertBefore(i,o),o&&(o.row=o.row+1),o!==r.lastChild&&r.lastChild&&(r.lastChild.row=r.lastChild.row+1))}}}function pi(t,e){for(let n=0;n<e.table.colCount;n++){const i=e.getColGroup(n,!1);if(!i)continue;let r;i.forEachChildren((e=>e.row===t&&(r=e,!0))),r&&(i.updateColumnHeight(-r.attribute.height),i.removeChild(r))}}function gi(t,e,n){let r;for(let o=0;o<n.table.colCount;o++){const a=n.table.getCellRange(o,t);let s;a.start.row<=t+1&&a.end.row>=t+1&&(vi(a,n),s=a.start.row);const l=n.table.getCellRange(o,e);l.start.row<=e+1&&l.end.row>=e+1&&(vi(l,n),s=l.start.row),(0,i.Z)(s)&&(r=(0,i.Z)(r)?Math.min(r,s):s)}return r}function mi(t,e,n){let r;for(let o=0;o<n.table.colCount;o++){let a;const s=n.highPerformanceGetCell(o,t);s.mergeStartRow&&s.mergeEndRow&&s.mergeEndRow>t&&(vi({start:{row:s.mergeStartRow,col:n.table.isAutoRowHeight()?0:s.mergeStartCol},end:{row:s.mergeEndRow,col:n.table.isAutoRowHeight()?n.table.colCount-1:s.mergeEndCol}},n),a=s.mergeStartRow);const l=n.highPerformanceGetCell(o,e);l.mergeStartRow&&l.mergeEndRow&&l.mergeStartRow<e&&(vi({start:{row:l.mergeStartRow,col:n.table.isAutoRowHeight()?0:l.mergeStartCol},end:{row:l.mergeEndRow,col:n.table.isAutoRowHeight()?n.table.colCount-1:l.mergeEndCol}},n),a=l.mergeStartRow),(0,i.Z)(a)&&(r=(0,i.Z)(r)?Math.min(r,a):a)}return r}function vi(t,e){const{start:n,end:i}=t;for(let t=n.col;t<=i.col;t++)for(let r=n.row;r<=i.row;r++){const n=e.highPerformanceGetCell(t,r,!0);n&&(n.needUpdate=!0)}}var yi=n(97925);function bi(t){var e,n,i,r;if(t.frozenColCount>t.table.frozenColCount){t.bodyGroup.setAttribute("height",t.rowHeaderGroup.attribute.height),t.bodyGroup.setAttribute("y",t.rowHeaderGroup.attribute.y),t.colHeaderGroup.setAttribute("height",t.cornerHeaderGroup.attribute.height);for(let e=0;e<t.frozenColCount-t.table.frozenColCount;e++)_i(t),Ci(t),Mi(t)}else if(t.frozenColCount<t.table.frozenColCount){t.rowHeaderGroup.setAttribute("height",t.bodyGroup.attribute.height),t.rowHeaderGroup.setAttribute("y",t.bodyGroup.attribute.y),t.cornerHeaderGroup.setAttribute("height",t.colHeaderGroup.attribute.height);for(let e=0;e<t.table.frozenColCount-t.frozenColCount;e++)wi(t),xi(t),Si(t)}(function(t){if(!t.table.reactCustomLayout)return;const{table:e,stage:n}=t,i=n.pluginService.findPluginsByName("ReactAttributePlugin")[0],{htmlMap:r,renderId:o}=i;for(const a in r){const s=r[a],{graphic:l,wrapContainer:u,renderId:h}=s;if(h!==o)continue;let c;if(t.frozenColCount>e.frozenColCount){const n=(0,yi.J$)(l);if(!n)continue;const{col:i,row:r}=n;r>=e.rowCount-e.bottomFrozenRowCount&&i<t.frozenColCount&&i>=e.frozenColCount&&l.attribute.react.container===e.frozenBottomDomContainer?c=e.bottomDomContainer:r>=e.frozenRowCount&&i<t.frozenColCount&&i>=e.frozenColCount&&l.attribute.react.container===e.frozenBodyDomContainer?c=e.bodyDomContainer:r<e.frozenRowCount&&i<t.frozenColCount&&i>=e.frozenColCount&&l.attribute.react.container===e.frozenHeaderDomContainer&&(c=e.headerDomContainer)}else if(t.frozenColCount<e.frozenColCount){const n=(0,yi.J$)(l);if(!n)continue;const{col:i,row:r}=n;r>=e.rowCount-e.bottomFrozenRowCount&&i<e.frozenColCount&&i>=t.frozenColCount&&l.attribute.react.container===e.bottomDomContainer?c=e.frozenBottomDomContainer:r>=e.frozenRowCount&&i<e.frozenColCount&&i>=t.frozenColCount&&l.attribute.react.container===e.bodyDomContainer?c=e.frozenBodyDomContainer:r<e.frozenRowCount&&i<e.frozenColCount&&i>=t.frozenColCount&&l.attribute.react.container===e.headerDomContainer&&(c=e.frozenHeaderDomContainer)}c&&(c.appendChild(u),s.nativeContainer=c,s.container=c,l.attribute.react.container=c,i.updateStyleOfWrapContainer(l,n,u,c,l.attribute.react))}})(t),t.recreateAllSelectRangeComponents(),t.frozenColCount=t.table.frozenColCount,t.frozenRowCount=null!==(n=null===(e=t.colHeaderGroup.firstChild)||void 0===e?void 0:e.childrenCount)&&void 0!==n?n:0,t.proxy.colStart=null!==(r=null===(i=t.bodyGroup.firstChild)||void 0===i?void 0:i.col)&&void 0!==r?r:t.table.frozenColCount,t.bodyGroup.setAttribute("x",t.rowHeaderGroup.attribute.width),t.colHeaderGroup.setAttribute("x",t.cornerHeaderGroup.attribute.width),t.updateContainer(),t.updateBorderSizeAndPosition(),t.isPivot||t.table.transpose?t.table.options.frozenColCount?t.component.setFrozenColumnShadow(t.table.frozenColCount-1):t.table.options.rightFrozenColCount&&t.component.setRightFrozenColumnShadow(t.table.colCount-t.table.rightFrozenColCount):(t.component.setFrozenColumnShadow(t.table.frozenColCount-1),t.component.setRightFrozenColumnShadow(t.table.colCount-t.table.rightFrozenColCount)),t.hasFrozen=!0}function wi(t){const e=t.bodyGroup.firstChild instanceof Gt.Z?t.bodyGroup.firstChild:null;e&&(t.rowHeaderGroup.appendChild(e),t.rowHeaderGroup.setAttribute("width",t.rowHeaderGroup.attribute.width+e.attribute.width),t.bodyGroup.setAttribute("width",t.bodyGroup.attribute.width-e.attribute.width))}function xi(t){const e=t.colHeaderGroup.firstChild instanceof Gt.Z?t.colHeaderGroup.firstChild:null;e&&(t.cornerHeaderGroup.appendChild(e),t.cornerHeaderGroup.setAttribute("width",t.cornerHeaderGroup.attribute.width+e.attribute.width),t.colHeaderGroup.setAttribute("width",t.colHeaderGroup.attribute.width-e.attribute.width))}function _i(t){var e;const n=t.rowHeaderGroup.lastChild instanceof Gt.Z?t.rowHeaderGroup.lastChild:null===(e=t.rowHeaderGroup.lastChild)||void 0===e?void 0:e._prev;n&&(Ai(t.bodyGroup,n,t.bodyGroup.firstChild),t.bodyGroup.setAttribute("width",t.bodyGroup.attribute.width+n.attribute.width),t.rowHeaderGroup.setAttribute("width",t.rowHeaderGroup.attribute.width-n.attribute.width))}function Ci(t){var e;const n=t.cornerHeaderGroup.lastChild instanceof Gt.Z?t.cornerHeaderGroup.lastChild:null===(e=t.cornerHeaderGroup.lastChild)||void 0===e?void 0:e._prev;n&&(Ai(t.colHeaderGroup,n,t.colHeaderGroup.firstChild),t.colHeaderGroup.setAttribute("width",t.colHeaderGroup.attribute.width+n.attribute.width),t.cornerHeaderGroup.setAttribute("width",t.cornerHeaderGroup.attribute.width-n.attribute.width))}function Si(t){const e=t.bottomFrozenGroup.firstChild instanceof Gt.Z?t.bottomFrozenGroup.firstChild:null;e&&(t.leftBottomCornerGroup.appendChild(e),t.leftBottomCornerGroup.setAttribute("width",t.leftBottomCornerGroup.attribute.width+e.attribute.width),t.bottomFrozenGroup.setAttribute("width",t.bottomFrozenGroup.attribute.width-e.attribute.width),t.table.isPivotChart()&&e.forEachChildren((t=>{t.setAttributes({stroke:!1,fill:!1})})))}function Mi(t){var e;const n=t.leftBottomCornerGroup.lastChild instanceof Gt.Z?t.leftBottomCornerGroup.lastChild:null===(e=t.leftBottomCornerGroup.lastChild)||void 0===e?void 0:e._prev;n&&(Ai(t.bottomFrozenGroup,n,t.bottomFrozenGroup.firstChild),t.bottomFrozenGroup.setAttribute("width",t.bottomFrozenGroup.attribute.width+n.attribute.width),t.leftBottomCornerGroup.setAttribute("width",t.leftBottomCornerGroup.attribute.width-n.attribute.width),t.table.isPivotChart()&&n.forEachChildren((e=>{var n,i,r,o;const a=t.table._getCellStyle(e.col,e.row),s=t.table.getCellRange(e.col,e.row),l=(0,wt.RT)(a,t.table,s?s.start.col:e.col,s?s.start.row:e.row,St.WJ).theme;e.setAttributes({fill:null!==(i=null===(n=null==l?void 0:l.group)||void 0===n?void 0:n.fill)&&void 0!==i?i:void 0,stroke:null!==(o=null===(r=null==l?void 0:l.group)||void 0===r?void 0:r.stroke)&&void 0!==o?o:void 0})})))}function Ai(t,e,n){e&&t&&(n?t.insertBefore(e,n):t.appendChild(e))}var Ti=n(71766);function ki(t,e,n){return new Gt.Z({x:0,y:0,width:t,height:e,clip:null!=n&&n,pickable:!1})}function Ri(t,e){return t.forEachChildrenSkipChild(((t,n)=>{t.setAttribute("x",e),e+=t.attribute.width})),e}var Ii=n(69083);function Pi(t,e,n,i,r){const o=t.name;Li(n,i,(t=>t.name===o),(t=>{(0,kt.Bg)(e,t),t.name=e.name}),r),r.updateNextFrame()}function Ei(t){const{col:e,row:n,iconMark:r,order:o,oldSortCol:a,oldSortRow:s,oldIconMark:l,scene:u}=t,h=u.table.internalProps.headerHelper.getSortIcon(o,u.table,e,n);if(r&&Pi(r,h,e,n,u),!function(t,e,n,i,r){const o=r.getCellRange(t,e),a=r.getCellRange(n,i);return o.start.col===a.start.col&&o.start.row===a.start.row&&o.end.col===a.end.col&&o.end.row===a.end.row}(e,n,a,s,u.table)){const t=u.table.internalProps.headerHelper.getSortIcon("normal",u.table,a,s);l?Pi(l,t,a,s,u):function(t,e,n,r){const o=r.getCell(t,e);if((0,i.Z)(o.mergeStartCol)&&(0,i.Z)(o.mergeStartRow)&&(0,i.Z)(o.mergeEndCol)&&(0,i.Z)(o.mergeEndRow))for(let t=o.mergeStartCol;t<=o.mergeEndCol;t++)for(let e=o.mergeStartRow;e<=o.mergeEndRow;e++){let i;r.getCell(t,e).forEachChildren((t=>"sort"===t.attribute.funcType&&(i=t,!0))),i&&((0,kt.Bg)(n,i),i.name=n.name)}else{let t;(0,C.yW)(o,"children",(e=>"sort"===e.attribute.funcType&&(t=e,!0))),t&&((0,kt.Bg)(n,t),t.name=n.name)}}(a,s,t,u)}}function Bi(t,e,n){t&&"empty"!==t.role&&t.forEachChildren((t=>{"group"===t.type?Bi(t,e,n):e(t)&&n(t)}))}function Li(t,e,n,r,o){const a=o.getCell(t,e);if("cell"===a.role&&(0,i.Z)(a.mergeStartCol)&&(0,i.Z)(a.mergeStartRow)&&(0,i.Z)(a.mergeEndCol)&&(0,i.Z)(a.mergeEndRow)){const{colStart:t,colEnd:e,rowStart:i,rowEnd:s}=It(a,o);for(let a=t;a<=e;a++)for(let t=i;t<=s;t++)Bi(o.highPerformanceGetCell(a,t),n,r)}else Bi(a,n,r)}function Di(t,e){const{bgColor:n,borderColor:i,borderLineWidth:r,borderLineDash:o}=e,a={x:0,y:0,width:0,height:0,visible:!1,pickable:!0,fill:n};return a.stroke=me(i,void 0),a.lineWidth=r,o&&(a.lineDash=o),a.lineCap="butt",Array.isArray(i)&&(a.strokeArrayColor=(0,Tt.u)(i)),Array.isArray(r)&&(a.strokeArrayWidth=(0,Tt.u)(r),a.lineWidth=1),t.setAttributes(a),t.role="corner-frozen",t}function Oi(t,e,n,i){const r=i.scenegraph,o=Fi(t.map((t=>t.col))).sort(((t,e)=>e-t)),a=Fi(e.map((t=>t.col))).sort(((t,e)=>t-e)),s=Fi(n.map((t=>t.col))).sort(((t,e)=>t-e));o.forEach((t=>{!function(t,e){const n=e.proxy;if(t>=e.table.rowHeaderLevelCount)if(t>=e.table.colCount-e.table.rightFrozenColCount);else{const n=e.getColGroup(t,!1);n&&n.parent===e.bodyGroup&&e.bodyGroup.removeChild(n);const i=e.getColGroupInBottom(t);i&&i.parent===e.bottomFrozenGroup&&e.bottomFrozenGroup.removeChild(i)}t>=n.colStart&&t<=n.colEnd&&(n.colEnd--,n.currentCol--),n.bodyRightCol--;const i=Math.min(n.colLimit,n.bodyRightCol-n.bodyLeftCol+1);n.totalActualBodyColCount=i,n.totalCol=n.colStart+i-1}(t,r)}));const l=i.colWidthsMap;let u;if(o.forEach((t=>{l.delAndReorder(t)})),o.length&&Hi(r),r.table._clearColRangeWidthsMap(),a.forEach((t=>{const e=function(t,e){const n=e.proxy;n.bodyRightCol++;const i=Math.min(n.colLimit,n.bodyRightCol-n.bodyLeftCol+1);if(n.totalActualBodyColCount=i,n.totalCol=n.colStart+i-1,!(t<n.colStart))return t>n.colEnd?n.colEnd-n.colStart+1<n.colLimit?(n.colEnd++,n.currentCol++,Ni(t,e),t):void 0:n.colEnd-n.colStart+1<n.colLimit?(n.colEnd++,n.currentCol++,Ni(t,e),t):t}(t,r);Hi(r),u=null!=u?u:e,l.addAndReorder(t)})),function(t){let e=t.bodyColStart,n=t.getCellGroupX(e);function i(n){n.col=e;const i=(0,yt.Z)(t.table,n.col,n.row);i&&(n.mergeStartCol=i.start.col,n.mergeStartCol=i.start.col,n.mergeEndCol=i.end.col,n.mergeEndCol=i.end.col),n.role}t.bodyGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{i(t)})),t.setAttribute("x",n),n+=t.attribute.width,e++})),e=t.bodyColStart,n=t.getCellGroupX(e),t.colHeaderGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{i(t)})),t.setAttribute("x",n),n+=t.attribute.width,e++})),e=t.bodyColStart,n=t.getCellGroupX(e),t.bottomFrozenGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{i(t)})),t.setAttribute("x",n),n+=t.attribute.width,e++})),e=t.table.colCount-t.table.rightFrozenColCount,n=0,t.rightFrozenGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{i(t)})),t.setAttribute("x",n),n+=t.attribute.width,e++})),e=t.table.colCount-t.table.rightFrozenColCount,n=0,t.rightTopCornerGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{i(t)})),t.setAttribute("x",n),n+=t.attribute.width,e++})),e=t.table.colCount-t.table.rightFrozenColCount,n=0,t.rightBottomCornerGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{i(t)})),t.setAttribute("x",n),n+=t.attribute.width,e++}))}(r),s.forEach((t=>{for(let e=0;e<i.rowCount;e++){const n=(0,yt.Z)(r.table,t,e);if(n)for(let t=n.start.col;t<=n.end.col;t++)for(let t=n.start.col;t<=n.end.col;t++)(0,Ct.wW)(t,e,r.table,!1);else(0,Ct.wW)(t,e,r.table,!1)}})),(0,Mt.Z)(u)){for(let t=u;t<i.colCount;t++)for(let e=0;e<i.rowCount;e++){const n=r.highPerformanceGetCell(t,e,!0);n&&(n.needUpdate=!0)}r.proxy.colUpdatePos=u}if(a.length){if(!(0,Mt.Z)(u)){const t=Math.min(...a);r.proxy.colUpdatePos=t}r.proxy.colUpdateDirection="left",r.proxy.updateColGroups(2*r.proxy.screenColCount),c(),r.proxy.progress()}else o.length&&(r.proxy.updateColGroups(2*r.proxy.screenColCount),c(),r.proxy.progress());const h=i.getColsWidth(i.frozenColCount,i.colCount-1);function c(){if((null==a?void 0:a[(null==a?void 0:a.length)-1])>=i.colCount-i.rightFrozenColCount||(null==s?void 0:s[(null==s?void 0:s.length)-1])>=i.colCount-i.rightFrozenColCount||(null==o?void 0:o[0])>=i.colCount-i.rightFrozenColCount){for(let t=i.colCount-i.rightFrozenColCount;t<i.colCount;t++)for(let e=0;e<i.rowCount;e++){const n=r.highPerformanceGetCell(t,e,!0);n&&(n.needUpdate=!0)}r.proxy.updateRightFrozenCellGroups()}}r.updateContainerWidth(r.table.frozenColCount,h-r.bodyGroup.attribute.width)}function Fi(t){const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Hi(t){let e=t.bodyColStart;function n(n){n.col=e;const i=(0,yt.Z)(t.table,n.col,n.row);i&&(n.mergeStartCol=i.start.col,n.mergeStartCol=i.start.col,n.mergeEndCol=i.end.col,n.mergeEndCol=i.end.col),n.role}t.bodyGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{n(t)})),e++})),e=t.bodyColStart,t.colHeaderGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{n(t)})),e++})),e=t.bodyColStart,t.bottomFrozenGroup.forEachChildren((t=>{t.col=e,null==t||t.forEachChildren((t=>{n(t)})),e++}))}function Ni(t,e){if(e.colHeaderGroup&&e.table.columnHeaderLevelCount>0){const i=new Gt.Z({x:0,y:0,width:e.table.getColWidth(t),height:0,clip:!1,pickable:!1});i.role="column",i.col=t;const r=e.getColGroup(t,!0);r?e.colHeaderGroup.insertBefore(i,r):e.colHeaderGroup.appendChild(i),n(i,t,0,e.table.columnHeaderLevelCount-1)}if(e.bodyGroup){const i=new Gt.Z({x:0,y:0,width:e.table.getColWidth(t),height:0,clip:!1,pickable:!1});i.role="column",i.col=t;const r=e.getColGroup(t,!1);r?e.bodyGroup.insertBefore(i,r):e.bodyGroup.appendChild(i),n(i,t,e.bodyRowStart,e.bodyRowEnd)}if(e.bottomFrozenGroup&&e.table.bottomFrozenRowCount>0){const i=new Gt.Z({x:0,y:0,width:e.table.getColWidth(t),height:0,clip:!1,pickable:!1});i.role="column",i.col=t;const r=e.getColGroupInBottom(t);r?e.bottomFrozenGroup.insertBefore(i,r):e.bottomFrozenGroup.appendChild(i),n(i,t,e.table.rowCount-e.table.bottomFrozenRowCount,e.table.rowCount-1)}function n(t,n,i,r){for(let o=i;o<=r;o++){const i=new Gt.Z({x:0,y:0,width:e.table.getColWidth(n),height:e.table.getRowHeight(o)});i.role="cell",i.col=n,i.row=o,i.needUpdate=!0,t.appendChild(i)}}}(0,M.sTO)(),A.n.load(yn),A.n.load(gn.ZP);class zi{constructor(t){let e,n;var i;this._needUpdateContainer=!1,this.table=t,this.hasFrozen=!1,this.clear=!0,this.mergeMap=new Map,(0,Ii.C)(this.table.theme.textPopTipStyle),t.options.canvas&&t.options.viewBox?(T.rF.setEnv("browser"),e=t.options.viewBox.x2-t.options.viewBox.x1,n=t.options.viewBox.y2-t.options.viewBox.y1):"node"===p.X.mode?(T.rF.setEnv("node",t.options.modeParams),e=t.canvasWidth,n=t.canvasHeight):(T.rF.setEnv("browser"),e=t.canvas.width,n=t.canvas.height),this.stage=(i=Object.assign({canvas:t.canvas,width:e,height:n,disableDirtyBounds:!1,background:t.theme.underlayBackgroundColor,dpr:t.internalProps.pixelRatio,enableLayout:!0,beforeRender:t=>{this.table.options.beforeRender&&this.table.options.beforeRender(t),this.table.animationManager.ticker.start()},afterRender:t=>{this.table.options.afterRender&&this.table.options.afterRender(t),this.table.fireListeners("after_render",null)},canvasControled:!t.options.canvas,viewBox:t.options.viewBox},t.options.renderOption),new gt(i)),this.stage.defaultLayer.setTheme({group:{boundsPadding:0,strokeBoundsBuffer:0,lineJoin:"round"},text:{ignoreBuf:!0}}),this.initSceneGraph(),this.stage.defaultLayer.add(this.tableGroup),this.stage.table=this.table,this.createComponent()}get width(){var t,e;return null!==(e=null===(t=this.tableGroup.attribute)||void 0===t?void 0:t.width)&&void 0!==e?e:0}get height(){var t,e;return null!==(e=null===(t=this.tableGroup.attribute)||void 0===t?void 0:t.height)&&void 0!==e?e:0}get x(){var t,e;return null!==(e=null===(t=this.tableGroup.attribute)||void 0===t?void 0:t.x)&&void 0!==e?e:0}get y(){var t,e;return null!==(e=null===(t=this.tableGroup.attribute)||void 0===t?void 0:t.y)&&void 0!==e?e:0}get bodyRowStart(){var t;return null!==(t=this.proxy.rowStart)&&void 0!==t?t:0}get bodyRowEnd(){var t;return null!==(t=this.proxy.rowEnd)&&void 0!==t?t:this.table.rowCount-1}get bodyColStart(){var t;return null!==(t=this.proxy.colStart)&&void 0!==t?t:0}get bodyColEnd(){var t;return null!==(t=this.proxy.colEnd)&&void 0!==t?t:this.table.colCount-1}initSceneGraph(){this.isPivot=this.table.isPivotTable(),function(t){const e=t.table.tableNoFrameWidth,n=t.table.tableNoFrameHeight;t.tableGroup=new Gt.Z({x:0,y:0,width:e,height:n,clip:!0,pickable:!1}),t.tableGroup.role="table";const i=ki(0,0,!t.table.options.enableTreeStickCell);i.role="col-header",t.colHeaderGroup=i;const r=ki(0,0,!t.table.options.enableTreeStickCell);r.role="corner-header",t.cornerHeaderGroup=r;const o=ki(0,0,!0);o.role="row-header",t.rowHeaderGroup=o;const a=ki(e,0,!0);a.role="body",t.bodyGroup=a;const s=ki(0,0,!0);s.role="right-frozen",t.rightFrozenGroup=s;const l=ki(0,0,!0);l.role="bottom-frozen",t.bottomFrozenGroup=l;const u=ki(0,0);u.role="component",t.componentGroup=u;const h=ki(0,0,!0);h.role="corner-right-top-header",t.rightTopCornerGroup=h;const c=ki(0,0,!0);c.role="corner-right-bottom-header",t.rightBottomCornerGroup=c;const d=ki(0,0,!0);d.role="corner-left-bottom-header",t.leftBottomCornerGroup=d,t.tableGroup.addChild(a),t.tableGroup.addChild(o),t.tableGroup.addChild(l),t.tableGroup.addChild(i),t.tableGroup.addChild(s),t.tableGroup.addChild(c),t.tableGroup.addChild(h),t.tableGroup.addChild(d),t.tableGroup.addChild(r),t.tableGroup.addChild(u)}(this)}clearCells(){var t,e;this.table.animationManager.clear(),(this.table.isPivotChart()||this.table._hasCustomRenderOrLayout())&&this.stage.pluginService.findPluginsByName("poptipForText").forEach((t=>{t.deactivate(this.stage.pluginService)})),this.clear=!0,this.hasFrozen=!1,this.mergeMap.clear(),this.colHeaderGroup.clear(),delete this.colHeaderGroup.border,this.rowHeaderGroup.clear(),delete this.rowHeaderGroup.border,this.cornerHeaderGroup.clear(),delete this.cornerHeaderGroup.border,this.bodyGroup.clear(),delete this.bodyGroup.border,this.bottomFrozenGroup.clear(),delete this.bottomFrozenGroup.border,this.rightFrozenGroup.clear(),delete this.rightFrozenGroup.border,this.rightTopCornerGroup.clear(),delete this.rightTopCornerGroup.border,this.rightBottomCornerGroup.clear(),delete this.rightBottomCornerGroup.border,this.leftBottomCornerGroup.clear(),delete this.leftBottomCornerGroup.border,this.colHeaderGroup.setAttributes({x:0,y:0,width:0,height:0}),this.rowHeaderGroup.setAttributes({x:0,y:0,width:0,height:0}),this.cornerHeaderGroup.setAttributes({x:0,y:0,width:0,height:0}),this.bodyGroup.setAttributes({x:0,y:0,width:0,height:0}),this.rightFrozenGroup.setAttributes({x:0,y:0,width:0,height:0}),this.bottomFrozenGroup.setAttributes({x:0,y:0,width:0,height:0}),this.rightTopCornerGroup.setAttributes({x:0,y:0,width:0,height:0,visible:!1}),this.leftBottomCornerGroup.setAttributes({x:0,y:0,width:0,height:0,visible:!1}),this.rightBottomCornerGroup.setAttributes({x:0,y:0,width:0,height:0,visible:!1}),this.tableGroup.setAttributes({x:this.table.tableX,y:this.table.tableY,width:0,height:0}),this.tableGroup.border&&(this.tableGroup.parent.removeChild(this.tableGroup.border),delete this.tableGroup.border),null===(t=this.proxy)||void 0===t||t.release(),null===(e=this.table.reactCustomLayout)||void 0===e||e.clearCache()}updateStageBackground(){this.stage.background=this.table.theme.underlayBackgroundColor,this.stage.renderNextFrame()}createComponent(){this.component=new fe(this.table),this.component.addToGroup(this.componentGroup),this.selectedRangeComponents=new Map,this.selectingRangeComponents=new Map,this.customSelectedRangeComponents=new Map}updateComponent(){this.component.updateStyle()}createSceneGraph(t=!1){t||(this.table.rowHeightsMap.clear(),this.table.internalProps.layoutMap.clearCellRangeMap()),(this.table.isPivotChart()||this.table._hasCustomRenderOrLayout())&&this.stage.pluginService.autoEnablePlugins.getContributions().forEach((t=>{"poptipForText"===t.name&&this.stage.pluginService.register(t)})),this.clear=!1,this.frozenColCount=this.table.frozenColCount,this.frozenRowCount=this.table.frozenRowCount,this.proxy=new ni(this.table),pe(this.tableGroup,this.table.theme.frameStyle,this.tableGroup.role,void 0,!0),this.table.isPivotChart()&&(Di(this.rightTopCornerGroup,this.table.theme.cornerRightTopCellStyle||this.table.theme.cornerHeaderStyle||{}),Di(this.leftBottomCornerGroup,this.table.theme.cornerLeftBottomCellStyle||this.table.theme.cornerHeaderStyle||{}),Di(this.rightBottomCornerGroup,this.table.theme.cornerRightBottomCellStyle||this.table.theme.cornerHeaderStyle||{})),this.proxy.createGroupForFirstScreen(this.cornerHeaderGroup,this.colHeaderGroup,this.rowHeaderGroup,this.rightFrozenGroup,this.bottomFrozenGroup,this.bodyGroup,0,0),this.afterScenegraphCreated()}renderSceneGraph(){this.stage.render()}getCell(t,e,n){var i,r,o,a,s,l;let u;if(u=this.table.rightFrozenColCount>0&&t>=this.table.colCount-this.table.rightFrozenColCount&&e<this.table.frozenRowCount?null===(i=this.rightTopCornerGroup.getColGroup(t))||void 0===i?void 0:i.getRowGroup(e):this.table.bottomFrozenRowCount>0&&e>=this.table.rowCount-this.table.bottomFrozenRowCount&&t<this.table.frozenColCount?null===(r=this.leftBottomCornerGroup.getColGroup(t))||void 0===r?void 0:r.getRowGroup(e):this.table.rightFrozenColCount>0&&this.table.bottomFrozenRowCount>0&&t>=this.table.colCount-this.table.rightFrozenColCount&&e>=this.table.rowCount-this.table.bottomFrozenRowCount?null===(o=this.rightBottomCornerGroup.getColGroup(t))||void 0===o?void 0:o.getRowGroup(e):this.table.rightFrozenColCount>0&&t>this.table.colCount-1-this.table.rightFrozenColCount?null===(a=this.rightFrozenGroup.getColGroup(t))||void 0===a?void 0:a.getRowGroup(e):this.table.bottomFrozenRowCount>0&&e>this.table.rowCount-1-this.table.bottomFrozenRowCount?null===(s=this.bottomFrozenGroup.getColGroup(t))||void 0===s?void 0:s.getRowGroup(e):null===(l=this.getColGroup(t,e<this.frozenRowCount))||void 0===l?void 0:l.getRowGroup(e),u&&"shadow-cell"===u.role&&!n){const n=this.table.getCellRange(t,e);n.start.col===t&&n.start.row===e||(u=this.getCell(n.start.col,n.start.row))}return u||wn}highPerformanceGetCell(t,e,n){return this.proxy.highPerformanceGetCell(t,e,n)}getColGroup(t,e=!1){let n;return n=t<this.frozenColCount&&e?this.cornerHeaderGroup.getColGroup(t):t<this.frozenColCount?this.rowHeaderGroup.getColGroup(t):e&&this.table.rightFrozenColCount>0&&t>this.table.colCount-1-this.table.rightFrozenColCount?this.rightTopCornerGroup.getColGroup(t):!e&&this.table.rightFrozenColCount>0&&t>this.table.colCount-1-this.table.rightFrozenColCount?this.rightFrozenGroup.getColGroup(t):e?this.colHeaderGroup.getColGroup(t):this.bodyGroup.getColGroup(t),n||void 0}getColGroupInBottom(t,e=!1){var n;if(e){const e=null!==(n=this.getColGroupInLeftBottomCorner(t))&&void 0!==n?n:this.getColGroupInRightBottomCorner(t);if(e)return e}if(this.table.bottomFrozenRowCount>0)return this.bottomFrozenGroup.getColGroup(t)}getColGroupInLeftBottomCorner(t){if(this.table.bottomFrozenRowCount>0)return this.leftBottomCornerGroup.getColGroup(t)}getColGroupInRightTopCorner(t){if(this.table.rightFrozenColCount>0)return this.rightTopCornerGroup.getColGroup(t)}getColGroupInRightBottomCorner(t){if(this.table.rightFrozenColCount>0&&this.table.bottomFrozenRowCount>0)return this.rightBottomCornerGroup.getColGroup(t)}getCellSize(t,e){const n=this.getCell(t,e),i=(0,yt.Z)(this.table,t,e);let r=n.attribute.width,o=n.attribute.height;return i&&(r/=i.end.col-i.start.col+1,o/=i.end.row-i.start.row+1),{width:r,height:o}}updateNextFrame(){this.updateContainerSync(),this.resetAllSelectComponent(),this.stage.renderNextFrame()}resetAllSelectComponent(){var t,e,n,i;((null===(e=null===(t=this.table.stateManager.select)||void 0===t?void 0:t.ranges)||void 0===e?void 0:e.length)>0||(null===(i=null===(n=this.table.stateManager.select)||void 0===n?void 0:n.customSelectRanges)||void 0===i?void 0:i.length)>0)&&ri(this)}hideHoverIcon(t,e){!function(t,e,n){-1!==t&&-1!==e&&(Li(t,e,(t=>"mouseenter_cell"===t.attribute.visibleTime),(t=>{t.setAttribute("opacity",0);const e=t.parent.getChildByName("icon-back");e&&e.setAttribute("visible",!1)}),n),n.updateNextFrame())}(t,e,this)}showHoverIcon(t,e){!function(t,e,n){-1!==t&&-1!==e&&(Li(t,e,(t=>"mouseenter_cell"===t.attribute.visibleTime),(t=>{t.setAttribute("opacity",1)}),n),n.updateNextFrame())}(t,e,this)}hideClickIcon(t,e){!function(t,e,n){-1!==t&&-1!==e&&(Li(t,e,(t=>"click_cell"===t.attribute.visibleTime),(t=>{t.setAttribute("opacity",0)}),n),n.updateNextFrame())}(t,e,this)}showClickIcon(t,e){!function(t,e,n){-1!==t&&-1!==e&&(Li(t,e,(t=>"click_cell"===t.attribute.visibleTime),(t=>{t.setAttribute("opacity",1)}),n),n.updateNextFrame())}(t,e,this)}getIcon(t,e,n,i){return function(t,e,n,i,r){let o;return r.getCell(t,e).forEachChildren((t=>{t.role&&t.role.startsWith("icon")&&t.containsPoint(n,i,Pe.LZ.GLOBAL)&&(o=t)})),o}(t,e,n,i,this)}setIconHoverStyle(t,e,n,i){!function(t,e,n,i,r){var o,a;if((t.attribute.backgroundColor||t.attribute.hoverImage)&&Li(e,n,(e=>e.name===t.name),(t=>{var e,n,i,r,o,a,s,l;if(t.attribute.backgroundColor){let u=t.parent.getChildByName("icon-back");u?u.setAttributes({x:(null!==(e=t.attribute.x)&&void 0!==e?e:0)+(t.AABBBounds.width()-t.backgroundWidth)/2,y:(null!==(n=t.attribute.y)&&void 0!==n?n:0)+(t.AABBBounds.height()-t.backgroundHeight)/2,dx:null!==(i=t.attribute.dx)&&void 0!==i?i:0,dy:null!==(r=t.attribute.dy)&&void 0!==r?r:0,width:t.backgroundWidth,height:t.backgroundHeight,fill:t.attribute.backgroundColor,cornerRadius:5,visible:!0}):(u=(0,jt.f)({x:(null!==(o=t.attribute.x)&&void 0!==o?o:0)+(t.AABBBounds.width()-t.backgroundWidth)/2,y:(null!==(a=t.attribute.y)&&void 0!==a?a:0)+(t.AABBBounds.height()-t.backgroundHeight)/2,dx:null!==(s=t.attribute.dx)&&void 0!==s?s:0,dy:null!==(l=t.attribute.dy)&&void 0!==l?l:0,width:t.backgroundWidth,height:t.backgroundHeight,fill:t.attribute.backgroundColor,cornerRadius:5,pickable:!1,visible:!0}),u.name="icon-back"),t.parent.insertBefore(u,t)}t.attribute.hoverImage&&t.attribute.image!==t.attribute.hoverImage&&(t.image=t.attribute.hoverImage)}),r),t.tooltip){const{x1:i,x2:s,y1:l,y2:u}=t.globalAABBBounds,h={content:t.tooltip.title,referencePosition:{rect:{left:i,right:s,top:l,bottom:u,width:t.globalAABBBounds.width(),height:t.globalAABBBounds.height()},placement:t.tooltip.placement},disappearDelay:t.tooltip.disappearDelay,style:Object.assign({},null===(o=r.table.internalProps.theme)||void 0===o?void 0:o.tooltipStyle,null===(a=t.tooltip)||void 0===a?void 0:a.style)};r.table.internalProps.tooltipHandler.isBinded(h)||r.table.showTooltip(e,n,h)}}(t,e,n,0,this)}updateSortIcon(t){const{col:e,row:n,iconMark:i,order:r,oldSortCol:o,oldSortRow:a,oldIconMark:s}=t;Ei({col:e,row:n,iconMark:i,order:r,oldSortCol:o,oldSortRow:a,oldIconMark:s,scene:this})}updateFrozenIcon(t,e){!function(t){for(let e=0;e<t.table.colCount;e++)for(let n=0;n<t.table.columnHeaderLevelCount;n++)Li(e,n,(t=>"frozen"===t.attribute.funcType),(i=>{const r=t.table.internalProps.headerHelper.getFrozenIcon(e,n);(0,kt.Bg)(r,i),i.name=r.name}),t)}(this)}updateHierarchyIcon(t,e){!function(t,e,n){let i;i=n.table.isHeader(t,e)?n.table.internalProps.headerHelper.getHierarchyIcon(t,e):n.table.internalProps.bodyHelper.getHierarchyIcon(t,e),Li(t,e,(t=>t.attribute.funcType===mt.cI.collapse||t.attribute.funcType===mt.cI.expand),(t=>{(0,kt.Bg)(i,t),t.name=i.name}),n)}(t,e,this)}setIconNormalStyle(t,e,n){!function(t,e,n,i){(t.attribute.backgroundColor||t.attribute.hoverImage)&&Li(e,n,(e=>e.name===t.name),(t=>{const e=t.parent.getChildByName("icon-back");e&&e.setAttribute("visible",!1),t.attribute.hoverImage&&t.attribute.image!==t.attribute.originImage&&(t.image=t.attribute.originImage)}),i)}(t,e,n,this)}residentHoverIcon(t,e){!function(t,e,n){Li(t,e,(t=>t.attribute.funcType===mt.cI.dropDown),(t=>{t.oldVisibleTime=t.attribute.visibleTime,t.setAttribute("visibleTime","always"),t.setAttribute("opacity",1)}),n)}(t,e,this)}resetResidentHoverIcon(t,e){!function(t,e,n){Li(t,e,(t=>t.attribute.funcType===mt.cI.dropDown),(t=>{t.oldVisibleTime&&t.setAttribute("visibleTime",t.oldVisibleTime),t.setAttribute("opacity","always"===t.attribute.visibleTime?1:0)}),n)}(t,e,this)}deactivateChart(t,e){var n,i;if(-1===t||-1===e)return;const r=this.getCell(t,e);null===(i=null===(n=null==r?void 0:r.firstChild)||void 0===n?void 0:n.deactivate)||void 0===i||i.call(n)}activateChart(t,e){var n,i;if(-1===t||-1===e)return;const r=this.getCell(t,e);null===(i=null===(n=null==r?void 0:r.firstChild)||void 0===n?void 0:n.activate)||void 0===i||i.call(n,this.table)}removeInteractionBorder(t,e){const n=this.getCell(t,e);n.setAttribute("highlightStroke",void 0),n.setAttribute("highlightStrokeArrayWidth",void 0),n.setAttribute("highlightStrokeArrayColor",void 0)}createCellSelectBorder(t,e,n,i,r,o,a){!function(t,e,n,i,r,o,a,s){var l,u,h,c,d,f,p,g;let m=!!(null===(l=t.table.options.excelOptions)||void 0===l?void 0:l.fillHandle);if((null===(u=t.table.stateManager.select.ranges)||void 0===u?void 0:u.length)>1)m=!1,t.removeFillHandleFromSelectComponents();else if(1===(null===(h=t.table.stateManager.select.ranges)||void 0===h?void 0:h.length)){const e=Math.max(t.table.stateManager.select.ranges[0].start.row,t.table.stateManager.select.ranges[0].end.row),n=Math.max(t.table.stateManager.select.ranges[0].start.col,t.table.stateManager.select.ranges[0].end.col);t.table.isHeader(n,e)&&(m=!1)}!Array.isArray(s)||!1!==s[1]&&!1!==s[2]||(m=!1);const v=Math.min(e,i),y=Math.min(n,r),b=Math.max(e,i),w=Math.max(n,r),x=t.highPerformanceGetCell(v,y).globalAABBBounds,_=t.highPerformanceGetCell(b,w).globalAABBBounds,C=t.table.theme,S=null===(c=C.selectionStyle)||void 0===c?void 0:c.cellBorderColor,M=null===(d=C.selectionStyle)||void 0===d?void 0:d.cellBorderLineWidth,A=(0,jt.f)({pickable:!1,fill:"replace"!==(null===(f=C.selectionStyle)||void 0===f?void 0:f.selectionFillMode)&&(null!==(g=null===(p=C.selectionStyle)||void 0===p?void 0:p.cellBgColor)&&void 0!==g?g:"rgba(0, 0, 255,0.1)"),lineWidth:M,stroke:s.map((t=>!!t&&S)),x:x.x1-t.tableGroup.attribute.x,y:x.y1-t.tableGroup.attribute.y,width:0,height:0,visible:!0});let T;m&&(T=(0,jt.f)({pickable:!1,fill:S,stroke:S,x:_.x2-3,y:_.y2-3,width:6,height:6,visible:!0})),t.lastSelectId=a,t.selectingRangeComponents.set(`${v}-${y}-${b}-${w}-${a}`,{rect:A,fillhandle:T,role:o}),t.tableGroup.insertAfter(A,"body"===o?t.bodyGroup:"columnHeader"===o?t.colHeaderGroup:"rowHeader"===o?t.rowHeaderGroup:"cornerHeader"===o?t.cornerHeaderGroup:"rightTopCorner"===o?t.rightTopCornerGroup:"rightFrozen"===o?t.rightFrozenGroup:"leftBottomCorner"===o?t.leftBottomCornerGroup:"bottomFrozen"===o?t.bottomFrozenGroup:t.rightBottomCornerGroup),m&&t.tableGroup.insertAfter(T,"body"===o?t.bodyGroup:"columnHeader"===o?t.colHeaderGroup:"rowHeader"===o?t.rowHeaderGroup:"cornerHeader"===o?t.cornerHeaderGroup:"rightTopCorner"===o?t.rightTopCornerGroup:"rightFrozen"===o?t.rightFrozenGroup:"leftBottomCorner"===o?t.leftBottomCornerGroup:"bottomFrozen"===o?t.bottomFrozenGroup:t.rightBottomCornerGroup)}(this,t,e,n,i,r,o,a)}moveSelectingRangeComponentsToSelectedRangeComponents(){ui(this)}deleteLastSelectedRangeComponents(){var t;(t=this).selectedRangeComponents.forEach(((e,n)=>{var i;n.split("-")[4]===t.lastSelectId&&(e.rect.delete(),null===(i=e.fillhandle)||void 0===i||i.delete(),t.selectedRangeComponents.delete(n))}))}deleteAllSelectBorder(){hi(this),ci(this)}updateCellSelectBorder(t,e=!0){ai(this,t,e)}removeFillHandleFromSelectComponents(){this.selectedRangeComponents.forEach(((t,e)=>{var n;null===(n=t.fillhandle)||void 0===n||n.delete(),t.fillhandle=void 0}))}recreateAllSelectRangeComponents(){hi(this),this.table.stateManager.select.ranges.forEach((t=>{ai(this,t),ui(this)}))}updateColWidth(t,e,n,i){(function(t,e,n,i){i||t.table._setColWidth(e,t.table.getColWidth(e)+n,!0);const r=t.getColGroup(e,!0),o=t.getColGroupInRightTopCorner(e);r&&!o&&Ot(r,n,"col-corner",t),o&&Ot(o,n,"right-top",t);const a=t.getColGroup(e);a&&Ot(a,n,"row-body",t);const s=t.getColGroupInLeftBottomCorner(e);s&&Ot(s,n,"left-bottom",t);const l=t.getColGroupInBottom(e);l&&Ot(l,n,"bottom",t);const u=t.getColGroupInRightBottomCorner(e);u&&Ot(u,n,"right-bottom",t),e<t.frozenColCount?(t.cornerHeaderGroup.forEachChildrenSkipChild(((t,i)=>{t.col>e&&t.setAttribute("x",t.attribute.x+n)})),t.rowHeaderGroup.forEachChildrenSkipChild(((t,i)=>{t.col>e&&t.setAttribute("x",t.attribute.x+n)}))):(t.colHeaderGroup.forEachChildrenSkipChild(((t,i)=>{t.col>e&&t.setAttribute("x",t.attribute.x+n)})),t.bodyGroup.forEachChildrenSkipChild(((t,i)=>{t.col>e&&t.setAttribute("x",t.attribute.x+n)}))),s&&t.leftBottomCornerGroup.forEachChildrenSkipChild(((t,i)=>{t.col>e&&t.setAttribute("x",t.attribute.x+n)})),l&&t.bottomFrozenGroup.forEachChildrenSkipChild(((t,i)=>{t.col>e&&t.setAttribute("x",t.attribute.x+n)})),u&&t.rightBottomCornerGroup.forEachChildrenSkipChild(((t,i)=>{t.col>e&&t.setAttribute("x",t.attribute.x+n)}))})(this,t,Math.round(e),i),n||this.updateContainer(!0)}updateChartSizeForResizeColWidth(t){(0,Ti.s9)(this,t)}updateChartSizeForResizeRowHeight(t){(0,Ti.kl)(this,t)}updateChartState(t){this.table.isPivotChart()&&(0,Ti.s8)(this,t)}updateCheckboxCellState(t,e,n){var i,r;if(this.table.transpose)null===(i=this.bodyGroup.children)||void 0===i||i.forEach((t=>{var i;null===(i=t.getChildAt(e))||void 0===i||i.getChildren().forEach((t=>{"checkbox"===t.name&&("indeterminate"===n?(t.setAttribute("indeterminate",!0),t.setAttribute("checked",void 0)):(t.setAttribute("indeterminate",void 0),t.setAttribute("checked",n)))}))}));else{const e=this.getColGroup(t);null===(r=null==e?void 0:e.children)||void 0===r||r.forEach((t=>{t.getChildren().find((t=>{"checkbox"===t.name&&("indeterminate"===n?(t.setAttribute("indeterminate",!0),t.setAttribute("checked",void 0)):(t.setAttribute("indeterminate",void 0),t.setAttribute("checked",n)))}))}))}}updateHeaderCheckboxCellState(t,e,n){var i,r;this.table.transpose?null===(i=this.rowHeaderGroup.children)||void 0===i||i.forEach((t=>{t.getChildAt(e).getChildren().forEach((t=>{"checkbox"===t.name&&("indeterminate"===n?(t.setAttribute("indeterminate",!0),t.setAttribute("checked",void 0)):(t.setAttribute("indeterminate",void 0),t.setAttribute("checked",n)))}))})):null===(r=this.getColGroup(t,!0).children)||void 0===r||r.forEach((t=>{t.getChildren().find((t=>{"checkbox"===t.name&&("indeterminate"===n?(t.setAttribute("indeterminate",!0),t.setAttribute("checked",void 0)):(t.setAttribute("indeterminate",void 0),t.setAttribute("checked",n)))}))}))}updateAutoColWidth(t){this.table.internalProps._widthResizedColMap.delete(t);const e=this.table.getColWidth(t),n=(0,bn.al)(t,0,this.table.rowCount-1,this.table,!0);n!==e&&this.updateColWidth(t,n-e)}recalculateColWidths(){const t=this.table;"adaptive"===t.widthMode||t.autoFillWidth||t.internalProps.transpose?(0,bn.rj)(this.table,0,this.table.colCount-1,!0):(t._clearColRangeWidthsMap(),t.frozenColCount>0&&(0,bn.rj)(this.table,0,t.frozenColCount-1,!0),t.rightFrozenColCount>0&&(0,bn.rj)(this.table,t.rightFrozenColCount,t.colCount-1,!0),(0,bn.rj)(t,this.proxy.colStart,this.proxy.colEnd,!0))}recalculateRowHeights(){const t=this.table;t.internalProps.useOneRowHeightFillAll=!1,"adaptive"===t.heightMode||t.autoFillHeight?(0,Rt.Y)(this.table,0,this.table.rowCount-1,!0,!0):(t.frozenRowCount>0&&(0,Rt.Y)(this.table,0,t.frozenRowCount-1,!0,!0),t.bottomFrozenRowCount>0&&(0,Rt.Y)(this.table,t.bottomFrozenRowCount,t.rowCount-1,!0,!0),(0,Rt.Y)(t,this.proxy.rowStart,this.proxy.rowEnd,!0,!0))}resize(){this.proxy.resize(),("adaptive"===this.table.widthMode||this.table.autoFillWidth)&&(0===this.table.internalProps._widthResizedColMap.size?this.recalculateColWidths():this.dealWidthMode()),"adaptive"===this.table.heightMode?0===this.table.internalProps._heightResizedRowMap.size?this.recalculateRowHeights():this.dealHeightMode():this.table.autoFillHeight&&this.dealHeightMode(),this.resetFrozen(),this.updateTableSize(),this.updateBorderSizeAndPosition(),this.component.updateScrollBar(),("adaptive"===this.table.widthMode||"adaptive"===this.table.heightMode||this.table.autoFillWidth||this.table.autoFillHeight)&&this.updateChartSizeForResizeColWidth(-1),this.proxy.progress(),this.updateNextFrame()}updateTableSize(){var t,e,n,i,r,o,a,s,l,u,h,c,d;if(this.tableGroup.setAttributes({x:this.table.tableX,y:this.table.tableY,width:Math.min(this.table.tableNoFrameWidth,Math.max(this.colHeaderGroup.attribute.width,this.bodyGroup.attribute.width,this.bottomFrozenGroup.attribute.width,0)+Math.max(this.cornerHeaderGroup.attribute.width,this.rowHeaderGroup.attribute.width,this.leftBottomCornerGroup.attribute.width,0)+Math.max(this.rightTopCornerGroup.attribute.width,this.rightFrozenGroup.attribute.width,this.rightBottomCornerGroup.attribute.width,0)),height:Math.min(this.table.tableNoFrameHeight,Math.max(this.colHeaderGroup.attribute.height,this.cornerHeaderGroup.attribute.height,this.rightTopCornerGroup.attribute.height,0)+Math.max(this.rowHeaderGroup.attribute.height,this.bodyGroup.attribute.height,this.rightFrozenGroup.attribute.height,0)+Math.max(this.leftBottomCornerGroup.attribute.height,this.bottomFrozenGroup.attribute.height,this.rightBottomCornerGroup.attribute.height,0))}),this.tableGroup.border){const f=null===(t=this.tableGroup.border)||void 0===t?void 0:t.attribute;let p,g,m,v;(null==f?void 0:f.strokeArrayWidth)?(p=f.strokeArrayWidth?f.strokeArrayWidth[0]:null!==(e=f.lineWidth)&&void 0!==e?e:0,g=f.strokeArrayWidth?f.strokeArrayWidth[1]:null!==(n=f.lineWidth)&&void 0!==n?n:0,m=f.strokeArrayWidth?f.strokeArrayWidth[2]:null!==(i=f.lineWidth)&&void 0!==i?i:0,v=f.strokeArrayWidth?f.strokeArrayWidth[3]:null!==(r=f.lineWidth)&&void 0!==r?r:0):(p=null!==(o=null==f?void 0:f.lineWidth)&&void 0!==o?o:0,g=null!==(a=null==f?void 0:f.lineWidth)&&void 0!==a?a:0,m=null!==(s=null==f?void 0:f.lineWidth)&&void 0!==s?s:0,v=null!==(l=null==f?void 0:f.lineWidth)&&void 0!==l?l:0),"rect"===this.tableGroup.border.type?(null===(u=this.table.theme.frameStyle)||void 0===u?void 0:u.innerBorder)?this.tableGroup.border.setAttributes({x:this.table.tableX+v/2,y:this.table.tableY+p/2,width:this.tableGroup.attribute.width-v/2-g/2,height:this.tableGroup.attribute.height-p/2-m/2}):this.tableGroup.border.setAttributes({x:this.table.tableX-v/2,y:this.table.tableY-p/2,width:this.tableGroup.attribute.width+v/2+g/2,height:this.tableGroup.attribute.height+p/2+m/2}):"group"===this.tableGroup.border.type&&((null===(h=this.table.theme.frameStyle)||void 0===h?void 0:h.innerBorder)?(this.tableGroup.border.setAttributes({x:this.table.tableX+v/2,y:this.table.tableY+p/2,width:this.tableGroup.attribute.width-v/2-g/2,height:this.tableGroup.attribute.height-p/2-m/2}),null===(c=this.tableGroup.border.firstChild)||void 0===c||c.setAttributes({x:0,y:0,width:this.tableGroup.attribute.width-v/2-g/2,height:this.tableGroup.attribute.height-p/2-m/2})):(this.tableGroup.border.setAttributes({x:this.table.tableX-v/2,y:this.table.tableY-p/2,width:this.tableGroup.attribute.width+v/2+g/2,height:this.tableGroup.attribute.height+p/2+m/2}),null===(d=this.tableGroup.border.firstChild)||void 0===d||d.setAttributes({x:v/2,y:p/2,width:this.tableGroup.attribute.width,height:this.tableGroup.attribute.height})))}this.table.bottomFrozenRowCount>0&&(this.bottomFrozenGroup.setAttribute("y",this.tableGroup.attribute.height-this.table.getBottomFrozenRowsHeight()),this.leftBottomCornerGroup.setAttributes({visible:!0,y:this.tableGroup.attribute.height-this.table.getBottomFrozenRowsHeight(),height:this.table.getBottomFrozenRowsHeight(),width:this.table.getFrozenColsWidth()}),this.rightBottomCornerGroup.setAttributes({visible:!0,y:this.tableGroup.attribute.height-this.table.getBottomFrozenRowsHeight(),height:this.table.getBottomFrozenRowsHeight()})),this.table.rightFrozenColCount>0&&(this.rightFrozenGroup.setAttribute("x",this.tableGroup.attribute.width-this.table.getRightFrozenColsWidth()),this.rightTopCornerGroup.setAttributes({visible:!0,x:this.tableGroup.attribute.width-this.table.getRightFrozenColsWidth(),width:this.table.getRightFrozenColsWidth(),height:this.table.getFrozenRowsHeight()}),this.rightBottomCornerGroup.setAttributes({visible:!0,x:this.tableGroup.attribute.width-this.table.getRightFrozenColsWidth(),width:this.table.getRightFrozenColsWidth()})),this.updateDomContainer()}updateRowHeight(t,e,n){Pt(this,t,e=Math.round(e),n),this.updateContainerHeight(t,e)}updateRowsHeight(t,e,n){for(let i=0;i<t.length;i++){const r=t[i];if(r>=this.proxy.rowStart&&r<=this.proxy.rowEnd){const t=e[i];Pt(this,r,Math.round(t),n),this._updateContainerHeight(r,t)}}this.updateTableSize(),this.component.updateScrollBar(),this.updateNextFrame()}updateContainerWidth(t,e){t<this.frozenColCount?(this.rowHeaderGroup.setDeltaWidth(e),this.cornerHeaderGroup.setDeltaWidth(e),this.colHeaderGroup.setDeltaX(e),this.bodyGroup.setDeltaX(e)):(this.colHeaderGroup.setDeltaWidth(e),this.bodyGroup.setDeltaWidth(e)),this.updateTableSize(),this.component.updateScrollBar(),this.updateNextFrame()}_updateContainerHeight(t,e){t<this.table.frozenRowCount?(this.colHeaderGroup.setDeltaHeight(e),this.cornerHeaderGroup.setDeltaHeight(e),this.rowHeaderGroup.setDeltaY(e),this.bodyGroup.setDeltaY(e),this.table.rightFrozenColCount&&this.rightFrozenGroup.setDeltaY(e)):t>=this.table.rowCount-this.table.bottomFrozenRowCount?(this.leftBottomCornerGroup.setDeltaHeight(e),this.bottomFrozenGroup.setDeltaHeight(e),this.table.rightFrozenColCount&&this.rightBottomCornerGroup.setDeltaHeight(e)):(this.rowHeaderGroup.setDeltaHeight(e),this.bodyGroup.setDeltaHeight(e),this.table.rightFrozenColCount&&this.rightFrozenGroup.setDeltaHeight(e))}updateContainerHeight(t,e){this._updateContainerHeight(t,e),this.updateTableSize(),this.component.updateScrollBar(),this.updateNextFrame()}setColWidth(t,e){const n=this.table.getColWidth(t);n!==e&&(this.updateColWidth(t,e-n),this.table._clearColRangeWidthsMap(t))}setRowHeight(t,e){const n=this.table.getRowHeight(t);n!==e&&((t>=this.proxy.rowStart&&t<=this.proxy.rowEnd||t>=this.table.rowCount-this.table.bottomFrozenRowCount&&t<=this.table.rowCount-1||t<this.table.frozenRowCount)&&this.updateRowHeight(t,e-n),this.table._clearRowRangeHeightsMap(t))}setX(t,e=!1){this.table.scenegraph.proxy.setX(-t,e)}setY(t,e=!1){this.table.scenegraph.proxy.setY(-t,e)}setBodyAndRowHeaderY(t){var e,n;const i=null===(e=this.bodyGroup.firstChild)||void 0===e?void 0:e.firstChild,r=null===(n=this.bodyGroup.firstChild)||void 0===n?void 0:n.lastChild;0===t&&i&&i.row===this.table.frozenRowCount&&i.attribute.y+t<0?t=-i.attribute.y:r&&this.table.tableNoFrameHeight<this.table.getAllRowsHeight()&&r.row===this.table.rowCount-this.table.bottomFrozenRowCount-1&&r.attribute.y+r.attribute.height+t<this.table.tableNoFrameHeight-this.table.getFrozenRowsHeight()-this.table.getBottomFrozenRowsHeight()&&(t=this.table.tableNoFrameHeight-this.table.getFrozenRowsHeight()-this.table.getBottomFrozenRowsHeight()-r.attribute.y-r.attribute.height),this.colHeaderGroup.attribute.height+t!==this.bodyGroup.attribute.y&&(this.bodyGroup.setAttribute("y",this.colHeaderGroup.attribute.height+t),this.rowHeaderGroup.setAttribute("y",this.cornerHeaderGroup.attribute.height+t),this.table.rightFrozenColCount>0&&this.rightFrozenGroup.setAttribute("y",this.rightTopCornerGroup.attribute.height+t),this.updateNextFrame())}setBodyAndColHeaderX(t){const e=this.bodyGroup.firstChild,n=this.bodyGroup.lastChild;0===t&&e&&e.col===this.table.frozenColCount&&e.attribute.x+t<0?t=-e.attribute.x:n&&this.table.tableNoFrameWidth<this.table.getAllColsWidth()&&n.col===this.table.colCount-this.table.rightFrozenColCount-1&&n.attribute.x+n.attribute.width+t<this.table.tableNoFrameWidth-this.table.getFrozenColsWidth()-this.table.getRightFrozenColsWidth()&&(t=this.table.tableNoFrameWidth-this.table.getFrozenColsWidth()-this.table.getRightFrozenColsWidth()-n.attribute.x-n.attribute.width),this.table.getFrozenColsWidth()+t!==this.bodyGroup.attribute.x&&(this.bodyGroup.setAttribute("x",this.table.getFrozenColsWidth()+t),this.colHeaderGroup.setAttribute("x",this.table.getFrozenColsWidth()+t),this.table.bottomFrozenRowCount>0&&this.bottomFrozenGroup.setAttribute("x",this.table.getFrozenColsWidth()+t),this.updateNextFrame())}afterScenegraphCreated(){this.isPivot||this.table.transpose?this.table.options.frozenColCount?this.component.setFrozenColumnShadow(this.table.frozenColCount-1):this.table.options.rightFrozenColCount?this.component.setRightFrozenColumnShadow(this.table.colCount-this.table.rightFrozenColCount):this.component.setFrozenColumnShadow(-1):(this.component.setFrozenColumnShadow(this.table.frozenColCount-1),this.component.setRightFrozenColumnShadow(this.table.colCount-this.table.rightFrozenColCount)),this.table.stateManager.checkFrozen(),this.updateContainer(),this.createFrameBorder(),this.updateBorderSizeAndPosition(),this.component.updateScrollBar(),Xn(this.table),this.table.options.animationAppear&&function(t){var e,n,i,r;if(!t.options.animationAppear)return;let o,a,s,l;!0===t.options.animationAppear?(o=500,a=0,s="one-by-one",l="column"):(o=null!==(e=t.options.animationAppear.duration)&&void 0!==e?e:500,a=null!==(n=t.options.animationAppear.delay)&&void 0!==n?n:0,s=null!==(i=t.options.animationAppear.type)&&void 0!==i?i:"one-by-one",l=null!==(r=t.options.animationAppear.direction)&&void 0!==r?r:"row");const{scenegraph:u,frozenColCount:h,frozenRowCount:c}=t,{colStart:d,colEnd:f,rowStart:p,rowEnd:g}=u.proxy;for(let t=0;t<=f;t++)for(let e=0;e<=g;e++){const n=u.highPerformanceGetCell(t,e);n&&"cell"===n.role&&n.forEachChildren((n=>{n.setAttribute("opacity",0),n.animate().wait("one-by-one"===s?("row"===l?e:t)*(o-a):a).to({opacity:1},o,"linear")}))}}(this.table),this.updateNextFrame()}dealWidthMode(){const t=this.table;if("adaptive"===t.widthMode){t._clearColRangeWidthsMap();const e=t.tableNoFrameWidth;let n=0;for(let e=0;e<t.colCount;e++)(e<t.rowHeaderLevelCount||t.isPivotChart()&&e>=t.colCount-t.rightFrozenColCount)&&(n+=t.getColWidth(e));const i=t.rowHeaderLevelCount,r=t.isPivotChart()?t.colCount-t.rightFrozenColCount:t.colCount;(0,bn.j8)(e-n,i,r,!1,[],t,!0)}else if(t.autoFillWidth){t._clearColRangeWidthsMap();const e=t.tableNoFrameWidth;let n=0,i=0;for(let e=0;e<t.colCount;e++){const r=t.getColWidth(e);(e<t.rowHeaderLevelCount||t.isPivotChart()&&e>=t.colCount-t.rightFrozenColCount)&&(n+=r),i+=r}if(i<e&&i>n){const i=t.rowHeaderLevelCount,r=t.isPivotChart()?t.colCount-t.rightFrozenColCount:t.colCount;(0,bn.j8)(e-n,i,r,!1,[],t,!0)}}let e=0;this.bodyGroup.forEachChildrenSkipChild((t=>{e+=t.attribute.width})),this.bodyGroup.setAttribute("width",e);let n=0;this.colHeaderGroup.forEachChildrenSkipChild((t=>{n+=t.attribute.width})),this.colHeaderGroup.setAttribute("width",n);let i=0;this.rowHeaderGroup.forEachChildrenSkipChild((t=>{i+=t.attribute.width})),this.rowHeaderGroup.setAttribute("width",i);let r=0;this.cornerHeaderGroup.forEachChildrenSkipChild((t=>{r+=t.attribute.width})),this.cornerHeaderGroup.setAttribute("width",r),this.colHeaderGroup.setAttribute("x",this.cornerHeaderGroup.attribute.width),this.rowHeaderGroup.setAttribute("y",this.cornerHeaderGroup.attribute.height),this.bodyGroup.setAttributes({x:this.rowHeaderGroup.attribute.width,y:this.colHeaderGroup.attribute.height})}dealHeightMode(){var t;const e=this.table;if("adaptive"===e.heightMode){e._clearRowRangeHeightsMap();const t=e.getRowsHeight(0,e.columnHeaderLevelCount-1),n=e.isPivotChart()?e.getBottomFrozenRowsHeight():0,i=e.tableNoFrameHeight-t-n,r=e.columnHeaderLevelCount,o=e.isPivotChart()?e.rowCount-e.bottomFrozenRowCount:e.rowCount;let a=0;for(let t=r;t<o;t++)a+=e.getRowHeight(t);const s=i/a;for(let t=r;t<o;t++){let n;n=t===o-1?i-e.getRowsHeight(r,o-2):Math.round(e.getRowHeight(t)*s),this.setRowHeight(t,n)}}else if(e.autoFillHeight){e._clearRowRangeHeightsMap();const n=e.tableNoFrameHeight;let i=0,r=0;for(let t=0;t<e.rowCount;t++){const n=e.getRowHeight(t);(t<e.columnHeaderLevelCount||e.isPivotChart()&&t>=e.rowCount-e.bottomFrozenRowCount)&&(r+=n),i+=n}if((null!==(t=this._dealAutoFillHeightOriginRowsHeight)&&void 0!==t?t:i)<n&&i-r>0){const t=e.columnHeaderLevelCount,o=e.isPivotChart()?e.rowCount-e.bottomFrozenRowCount:e.rowCount,a=(n-r)/(i-r);for(let i=t;i<o;i++){let s;s=i===o-1?n-r-e.getRowsHeight(t,o-2):Math.round(e.getRowHeight(i)*a),this.setRowHeight(i,s)}}}}dealFrozen(){!function(t){var e,n;if(t.table.frozenColCount>t.table.rowHeaderLevelCount){t.rowHeaderGroup.setAttribute("height",t.bodyGroup.attribute.height),t.rowHeaderGroup.setAttribute("y",t.bodyGroup.attribute.y),t.cornerHeaderGroup.setAttribute("height",t.colHeaderGroup.attribute.height);for(let e=0;e<t.table.frozenColCount-t.table.rowHeaderLevelCount;e++)wi(t),xi(t),Si(t)}else if(t.table.frozenColCount<t.table.rowHeaderLevelCount){t.bodyGroup.setAttribute("height",t.rowHeaderGroup.attribute.height),t.bodyGroup.setAttribute("y",t.rowHeaderGroup.attribute.y),t.colHeaderGroup.setAttribute("height",t.cornerHeaderGroup.attribute.height);for(let e=0;e<t.table.rowHeaderLevelCount-t.table.frozenColCount;e++)_i(t),Ci(t),Mi(t)}t.bodyGroup.setAttribute("x",t.rowHeaderGroup.attribute.width),t.colHeaderGroup.setAttribute("x",t.cornerHeaderGroup.attribute.width),t.updateContainer(),t.updateBorderSizeAndPosition(),t.isPivot||t.table.transpose?t.table.options.frozenColCount?t.component.setFrozenColumnShadow(t.table.frozenColCount-1):t.table.options.frozenColCount&&t.component.setRightFrozenColumnShadow(t.table.colCount-t.table.rightFrozenColCount):(t.component.setFrozenColumnShadow(t.table.frozenColCount-1),t.component.setRightFrozenColumnShadow(t.table.colCount-t.table.rightFrozenColCount)),t.hasFrozen=!0,t.frozenColCount=t.table.frozenColCount,t.frozenRowCount=null!==(n=null===(e=t.colHeaderGroup.firstChild)||void 0===e?void 0:e.childrenCount)&&void 0!==n?n:0}(this)}resetFrozen(){bi(this)}updateCellLayoutWidthCertainWidth(t,e,n){const i=t.attribute.width;let r=!1;return t.forEachChildren(((t,o)=>{o+=e;const a=(0,yt.Z)(this.table,n,o);a?t=this.getCell(a.start.col,a.start.row):t.setAttribute("width",i);const s=this.table._getCellStyle(n,o),l=(0,Tt.u)((0,St.WJ)("padding",s,n,o,this.table)),u=t.getChildByName("text");let h=0,c=0;if(u)h=u.AABBBounds.height()+(l[0]+l[2]),u.setAttribute("maxLineWidth",i-(l[1]+l[3])),c=u.AABBBounds.height()+(l[0]+l[2]);else{const e=t.getChildAt(1);h=e.AABBBounds.height()+(l[0]+l[2]),e._cellWidth=i-(l[1]+l[3]),e.layout(),c=e.AABBBounds.height()+(l[0]+l[2])}const d=this.table.getRowHeight(o);t.attribute.height!==c&&(t.setAttribute("height",c),(d===h||c>d)&&(r=!0))})),r}updateHeaderPosition(t,e,n,i,r){!function(t,e,n,i,r,o){const a=o.scenegraph;for(let n=t;n<=e;n++){const t=o.getColWidth(n),e=o.scenegraph.getColGroup(n,!0),i=o.scenegraph.getColGroup(n),r=o.scenegraph.getColGroupInBottom(n),a=o.scenegraph.getColGroupInLeftBottomCorner(n),s=o.scenegraph.getColGroupInRightBottomCorner(n);e&&(e.setAttribute("width",t),e.forEachChildren((e=>{e.setAttribute("width",t)}))),i&&(i.setAttribute("width",t),i.forEachChildren((e=>{e.setAttribute("width",t)}))),r&&(r.setAttribute("width",t),r.forEachChildren((e=>{e.setAttribute("width",t)}))),s&&(s.setAttribute("width",t),s.forEachChildren((e=>{e.setAttribute("width",t)}))),a&&(a.setAttribute("width",t),a.forEachChildren((e=>{e.setAttribute("width",t)})))}if(a.updateContainer(),"column"===r)for(let n=t;n<=e;n++){const t=o.scenegraph.getColGroup(n);null==t||t.setAttribute("chartInstance",void 0);for(let t=0;t<=o.frozenRowCount-1;t++)a.updateCellContent(n,t);for(let t=a.bodyRowStart;t<=a.bodyRowEnd;t++)a.updateCellContent(n,t);for(let t=o.rowCount-o.bottomFrozenRowCount;t<=o.rowCount-1;t++)a.updateCellContent(n,t)}else{for(let t=0;t<=o.frozenColCount-1;t++){const e=o.scenegraph.getColGroup(t);null==e||e.setAttribute("chartInstance",void 0);for(let e=n;e<=i;e++)a.updateCellContent(t,e)}for(let t=a.bodyColStart;t<=a.bodyColEnd;t++){const e=o.scenegraph.getColGroup(t);null==e||e.setAttribute("chartInstance",void 0);for(let e=n;e<=i;e++)a.updateCellContent(t,e)}for(let t=o.colCount-o.rightFrozenColCount;t<=o.colCount-1;t++){const e=o.scenegraph.getColGroup(t);null==e||e.setAttribute("chartInstance",void 0);for(let e=n;e<=i;e++)a.updateCellContent(t,e)}}}(t,e,n,i,r,this.table)}updateContainerAttrWidthAndX(){var t,e,n;const i=Ri(this.cornerHeaderGroup,0),r=Ri(this.rowHeaderGroup,0),o=this.colHeaderGroup.hasChildNodes()&&this.colHeaderGroup.firstChild?Ri(this.colHeaderGroup,this.colHeaderGroup.firstChild.col>0?this.table.getColsWidth(null!==(t=this.table.frozenColCount)&&void 0!==t?t:0,this.colHeaderGroup.firstChild.col-1):0):0,a=this.bodyGroup.hasChildNodes()&&this.bodyGroup.firstChild?Ri(this.bodyGroup,this.bodyGroup.firstChild.col>0?this.table.getColsWidth(null!==(e=this.table.frozenColCount)&&void 0!==e?e:0,this.bodyGroup.firstChild.col-1):0):0,s=Ri(this.rightFrozenGroup.childrenCount>0?this.rightFrozenGroup:this.rightTopCornerGroup,0);this.bottomFrozenGroup.hasChildNodes()&&this.bottomFrozenGroup.firstChild&&Ri(this.bottomFrozenGroup,this.bottomFrozenGroup.firstChild.col>0?this.table.getColsWidth(null!==(n=this.table.frozenColCount)&&void 0!==n?n:0,this.bottomFrozenGroup.firstChild.col-1):0),Ri(this.leftBottomCornerGroup,0),Ri(this.rightTopCornerGroup,0),Ri(this.rightBottomCornerGroup,0),this.cornerHeaderGroup.setDeltaWidth(i-this.cornerHeaderGroup.attribute.width),this.leftBottomCornerGroup.setDeltaWidth(i-this.leftBottomCornerGroup.attribute.width),this.colHeaderGroup.setDeltaWidth(o-this.colHeaderGroup.attribute.width),this.rowHeaderGroup.setDeltaWidth(r-this.rowHeaderGroup.attribute.width),this.bottomFrozenGroup.setDeltaWidth(o-this.bottomFrozenGroup.attribute.width),this.rightFrozenGroup.setDeltaWidth(s-this.rightFrozenGroup.attribute.width),this.rightTopCornerGroup.setDeltaWidth(s-this.rightTopCornerGroup.attribute.width),this.rightBottomCornerGroup.setDeltaWidth(s-this.rightBottomCornerGroup.attribute.width),this.bodyGroup.setDeltaWidth(a-this.bodyGroup.attribute.width),this.colHeaderGroup.setAttribute("x",this.cornerHeaderGroup.attribute.width),this.bottomFrozenGroup.setAttribute("x",this.table.getFrozenColsWidth()),this.bodyGroup.setAttribute("x",this.rowHeaderGroup.attribute.width)}updateContainer(t=!1){t?this._needUpdateContainer||(this._needUpdateContainer=!0,setTimeout((()=>{this.updateContainerSync()}),0)):(this._needUpdateContainer=!0,this.updateContainerSync())}updateContainerSync(){this._needUpdateContainer&&(this._needUpdateContainer=!1,this.updateContainerAttrWidthAndX(),this.updateTableSize(),this.component.updateScrollBar(),this.updateNextFrame())}updateCellContentWhileResize(t,e){var n;const i=(null===(n=this.table.getCellRawRecord(t,e))||void 0===n?void 0:n.vtableMerge)?"text":this.table.isHeader(t,e)?this.table._getHeaderLayoutMap(t,e).headerType:this.table.getBodyColumnType(t,e),r=this.getCell(t,e);"image"!==i&&"video"!==i||(0,_t.km)(r,t,e,0,0,this.table)}createFrameBorder(){this.updateTableSize();const t=!this.isPivot&&!this.table.internalProps.transpose;pe(this.bodyGroup,this.table.theme.bodyStyle.frameStyle,this.bodyGroup.role,t?[!0,!0,!0,!1]:void 0),pe(this.rowHeaderGroup,this.isPivot||this.table.internalProps.transpose?this.table.theme.rowHeaderStyle.frameStyle:this.table.theme.bodyStyle.frameStyle,this.rowHeaderGroup.role,t?[!0,!1,!0,!0]:void 0),pe(this.colHeaderGroup,this.table.theme.headerStyle.frameStyle,this.colHeaderGroup.role,t?[!0,!0,!0,!1]:void 0),pe(this.cornerHeaderGroup,this.isPivot?this.table.theme.cornerHeaderStyle.frameStyle:this.table.theme.headerStyle.frameStyle,this.cornerHeaderGroup.role,t?[!0,!1,!0,!0]:void 0),pe(this.tableGroup,this.table.theme.frameStyle,this.tableGroup.role,void 0)}getResizeColAt(t,e,n){const i=this.table.theme.columnResize.resizeHotSpotSize/2;let r;if(!n){const n=this.table.getDrawRange();return e>=n.top&&e<=n.bottom&&(r=this.table.getCellAtRelativePosition(t-i,e),r.col===this.table.colCount-1)?r:{col:-1,row:-1}}return n.stage?(t<n.globalAABBBounds.x1+i?r={col:n.col-1,row:n.row,x:n.globalAABBBounds.x1}:n.globalAABBBounds.x2-i<t&&(r={col:n.col,row:n.row,x:n.globalAABBBounds.x2}),r&&this.table.rightFrozenColCount>0&&r.col>=this.table.colCount-this.table.rightFrozenColCount-1&&this.table.tableNoFrameWidth-this.table.getFrozenColsWidth()-this.table.getRightFrozenColsWidth()+this.table.scrollLeft<this.bodyGroup.attribute.width&&(r.col=r.col+1,r.rightFrozen=!0),r||{col:-1,row:-1}):{col:-1,row:-1}}getResizeRowAt(t,e,n){const i=this.table.theme.columnResize.resizeHotSpotSize/2;if(n){let t;if(e<n.globalAABBBounds.y1+i?t={col:n.col,row:n.row-1,y:n.globalAABBBounds.y1}:n.globalAABBBounds.y2-i<e&&(t={col:n.col,row:n.row,y:n.globalAABBBounds.y2}),t&&this.table.bottomFrozenRowCount>0&&t.row>=this.table.rowCount-this.table.bottomFrozenRowCount-1&&this.table.tableNoFrameHeight-this.table.getFrozenRowsHeight()-this.table.getBottomFrozenRowsHeight()+this.table.scrollTop<this.bodyGroup.attribute.height&&(t.row=t.row+1,t.bottomFrozen=!0),t)return t}return{col:-1,row:-1}}updateFrozen(){this.clear||(this.resetFrozen(),this.component.updateScrollBar())}dealWidthRightFrozen(t){this.clear?this.table.internalProps.rightFrozenColCount=t:function(t,e){const{table:n,proxy:i,rightTopCornerGroup:r,rightFrozenGroup:o,rightBottomCornerGroup:a,bottomFrozenGroup:s,bodyGroup:l,colHeaderGroup:u}=e,h=e.table.rightFrozenColCount;if(t>h){for(let i=n.colCount-h-1;i>=n.colCount-t;i--)Ai(o,e.getColGroup(i),o.firstChild),Ai(r,e.getColGroup(i,!0),r.firstChild),Ai(a,e.getColGroupInBottom(i),a.firstChild);let i=0;o.forEachChildren((t=>{t.setAttribute("x",i),i+=t.attribute.width})),i=0,r.forEachChildren((t=>{t.setAttribute("x",i),i+=t.attribute.width})),i=0,a.forEachChildren((t=>{t.setAttribute("x",i),i+=t.attribute.width}))}else if(t<h){for(let i=n.colCount-h;i<n.colCount-t;i++){const t=e.getColGroup(i);t.setAttribute("x",l.lastChild.attribute.x+n.getColWidth(l.lastChild.col)),l.appendChild(t);const r=e.getColGroupInRightTopCorner(i);r.setAttribute("x",u.lastChild.attribute.x+n.getColWidth(u.lastChild.col)),u.appendChild(r);const o=e.getColGroupInRightBottomCorner(i);o.setAttribute("x",s.lastChild.attribute.x+n.getColWidth(s.lastChild.col)),s.appendChild(o)}let i=0;o.forEachChildren((t=>{t.setAttribute("x",i),i+=t.attribute.width})),i=0,r.forEachChildren((t=>{t.setAttribute("x",i),i+=t.attribute.width})),i=0,a.forEachChildren((t=>{t.setAttribute("x",i),i+=t.attribute.width}))}o.setAttribute("width",n.getColsWidth(n.colCount-t,n.colCount-1)),r.setAttribute("width",n.getColsWidth(n.colCount-t,n.colCount-1)),a.setAttribute("width",n.getColsWidth(n.colCount-t,n.colCount-1)),n.internalProps.rightFrozenColCount=t,e.updateContainer(),e.component.updateScrollBar(),e.updateNextFrame()}(t,this)}dealWidthBottomFrozen(t){this.clear?this.table.internalProps.bottomFrozenRowCount=t:function(t,e){const{table:n,proxy:i,bottomFrozenGroup:r,leftBottomCornerGroup:o,rightBottomCornerGroup:a}=e;r.childrenCount||(i.table.isPivotChart()||(An(o,0,0,0,n.frozenColCount-1,0,-1,"rowHeader",n),An(a,0,0,n.colCount-n.rightFrozenColCount,n.colCount-1,0,-1,"body",n)),An(r,0,0,i.colStart,i.colEnd,0,-1,"body",n));const s=e.table.bottomFrozenRowCount;if(t>s){for(let i=0;i<n.frozenColCount;i++){const r=e.getColGroupInLeftBottomCorner(i);for(let o=n.rowCount-s-1;o>=n.rowCount-t;o--)Ai(r,e.getCell(i,o,!0),r.firstChild);let o=0;r.forEachChildren((t=>{t.setAttribute("y",o),o+=n.getRowHeight(t.row)}))}for(let r=i.colStart;r<=i.colEnd;r++){const i=e.getColGroupInBottom(r);for(let o=n.rowCount-s-1;o>=n.rowCount-t;o--)Ai(i,e.getCell(r,o,!0),i.firstChild);let o=0;i.forEachChildren((t=>{t.setAttribute("y",o),o+=n.getRowHeight(t.row)}))}if(n.rightFrozenColCount>0)for(let i=n.colCount-n.rightFrozenColCount;i<n.colCount;i++){const r=e.getColGroupInRightBottomCorner(i);for(let o=n.rowCount-s-1;o>=n.rowCount-t;o--)Ai(r,e.getCell(i,o,!0),r.firstChild);let o=0;r.forEachChildren((t=>{t.setAttribute("y",o),o+=n.getRowHeight(t.row)}))}}else if(t<s){for(let i=0;i<n.rowHeaderLevelCount;i++){const r=e.getColGroup(i);for(let o=n.rowCount-s;o<n.rowCount-t;o++){const t=e.getCell(i,o,!0);t.setAttribute("y",r.lastChild.attribute.y+n.getRowHeight(r.lastChild.row)),r.appendChild(t)}const o=e.getColGroupInLeftBottomCorner(i);let a=0;o.forEachChildren((t=>{t.setAttribute("y",a),a+=n.getRowHeight(t.row)}))}for(let r=i.colStart;r<=i.colEnd;r++){const i=e.getColGroup(r);for(let o=n.rowCount-s;o<n.rowCount-t;o++){const t=e.getCell(r,o,!0);t.setAttribute("y",i.lastChild.attribute.y+n.getRowHeight(i.lastChild.row)),i.appendChild(t)}const o=e.getColGroupInBottom(r);let a=0;o.forEachChildren((t=>{t.setAttribute("y",a),a+=n.getRowHeight(t.row)}))}if(n.rightFrozenColCount>0)for(let i=n.colCount-n.rightFrozenColCount;i<n.colCount;i++){const r=e.getColGroup(i);for(let o=n.rowCount-s;o<n.rowCount-t;o++){const t=e.getCell(i,o,!0);t.setAttribute("y",r.lastChild.attribute.y+n.getRowHeight(r.lastChild.row)),r.appendChild(t)}const o=e.getColGroupInRightBottomCorner(i);let a=0;o.forEachChildren((t=>{t.setAttribute("y",a),a+=n.getRowHeight(t.row)}))}}r.setAttribute("height",n.getRowsHeight(n.rowCount-t,n.rowCount-1)),o.setAttribute("height",n.getRowsHeight(n.rowCount-t,n.rowCount-1)),a.setAttribute("height",n.getRowsHeight(n.rowCount-t,n.rowCount-1)),n.internalProps.bottomFrozenRowCount=t,e.updateContainer(),e.component.updateScrollBar(),e.updateNextFrame()}(t,this)}updateBorderSizeAndPosition(){this.bodyGroup.border&&(this.bodyGroup.appendChild(this.bodyGroup.border),ve(this.bodyGroup),this.rowHeaderGroup.attribute.width,ge(this.bodyGroup,this.table.theme.bodyStyle.frameStyle)),this.colHeaderGroup.border&&(this.colHeaderGroup.appendChild(this.colHeaderGroup.border),ve(this.colHeaderGroup),this.cornerHeaderGroup.attribute.width,ge(this.colHeaderGroup,this.table.theme.headerStyle.frameStyle)),this.rowHeaderGroup.border&&(this.rowHeaderGroup.appendChild(this.rowHeaderGroup.border),ve(this.rowHeaderGroup)),this.cornerHeaderGroup.border&&(this.cornerHeaderGroup.appendChild(this.cornerHeaderGroup.border),ve(this.cornerHeaderGroup)),function(t){if(!t.theme.frameStyle.cornerRadius)return;const e=t.theme.frameStyle.cornerRadius,{cornerHeaderGroup:n,colHeaderGroup:i,rowHeaderGroup:r,bodyGroup:o,rightTopCornerGroup:a,leftBottomCornerGroup:s,rightBottomCornerGroup:l,rightFrozenGroup:u,bottomFrozenGroup:h}=t.scenegraph;n.setAttribute("cornerRadius",0),i.setAttribute("cornerRadius",0),r.setAttribute("cornerRadius",0),o.setAttribute("cornerRadius",0),a.setAttribute("cornerRadius",0),s.setAttribute("cornerRadius",0),l.setAttribute("cornerRadius",0),u.setAttribute("cornerRadius",0),h.setAttribute("cornerRadius",0);const c=(0,y.JO)(e);n.attribute.width>0&&n.attribute.height>0?ye(n,[c[0],0,0,0]):i.attribute.height>0?ye(i,[c[0],0,0,0]):r.attribute.width>0?ye(r,[c[0],0,0,0]):ye(o,[c[0],0,0,0]),s.attribute.width>0&&s.attribute.height>0?ye(s,[0,0,0,c[3]]):h.attribute.height>0?ye(h,[0,0,0,c[3]]):r.attribute.width>0?ye(r,[0,0,0,c[3]]):ye(o,[0,0,0,c[3]]),a.attribute.width>0&&a.attribute.height>0?ye(a,[0,c[1],0,0]):i.attribute.height>0?ye(i,[0,c[1],0,0]):u.attribute.width>0?ye(u,[0,c[1],0,0]):ye(o,[0,c[1],0,0]),l.attribute.width>0&&l.attribute.height>0?ye(l,[0,0,c[2],0]):u.attribute.width>0?ye(u,[0,0,c[2],0]):h.attribute.height>0?ye(h,[0,0,c[2],0]):ye(o,[0,0,c[2],0])}(this.table)}sortCell(){this.isPivot||(this.table.transpose?this.proxy.sortCellHorizontal():this.proxy.sortCellVertical())}getCellOverflowText(t,e){var n,i;const r=this.getCell(t,e).getChildByName("text",!0);if(r&&"text"===r.type){if(r.attribute.moreThanMaxCharacters)return this.table.getCellValue(t,e);const o=(0,vt.Z)(r.attribute.text)?r.attribute.text.join(""):r.attribute.text;let a="";if((0,k.Z)(r.cache.clipedText)?a=r.cache.clipedText:null===(i=null===(n=r.cache.layoutData)||void 0===n?void 0:n.lines)||void 0===i||i.forEach((t=>{a+=t.str})),a!==o)return this.table.getCellValue(t,e)}else if(r&&"richtext"===r.type){const n=r;if(n.attribute.ellipsis&&n._frameCache&&n.attribute.height<n._frameCache.actualHeight)return n.attribute.textConfig.find((t=>t.text)),this.table.getCellValue(t,e)}return null}updateDrill(t,e,n,i,r){this.component.drillIcon.update(t,e,n,i,r,this)}updateCellContent(t,e,n=!1){if(!this.clear)return(0,Ct.wW)(t,e,this.table,void 0,void 0,n)}setPixelRatio(t){this.stage.disableDirtyBounds(),this.stage.window.setDpr(t),this.stage.render(),this.stage.enableDirtyBounds()}updateRow(t,e,n=[],i=!0,r){this.table.internalProps.layoutMap.clearCellRangeMap(),this.table.internalProps.useOneRowHeightFillAll=!1;const o=(0,C.oM)(e.map((t=>t.row))).sort(((t,e)=>t-e)),a=(0,C.oM)(n.map((t=>t.row))).sort(((t,e)=>t-e)),s=this.table.getAllRowsHeight()-[...o,...a].reduce(((t,e)=>t+this.table.getRowHeight(e)),0)<=this.table.tableNoFrameHeight;if(di(t,e,n,this.table,r),i&&this.recalculateColWidths(),"adaptive"===this.table.heightMode||this.table.autoFillHeight&&(this.table.getAllRowsHeight()<=this.table.tableNoFrameHeight||s))this.table.scenegraph.recalculateRowHeights();else if(this.table.isAutoRowHeight())for(let t=0;t<a.length;t++){const e=a[t],n=this.table.getRowHeight(e),i=(0,Rt.P)(e,0,this.table.colCount-1,this.table);(e>=this.proxy.rowStart&&e<=this.proxy.rowEnd||e>=this.table.rowCount-this.table.bottomFrozenRowCount&&e<=this.table.rowCount-1)&&this.table.scenegraph.updateRowHeight(e,i-n)}this.table.stateManager.checkFrozen(),this.isPivot||this.table.transpose?this.table.options.frozenColCount?this.component.setFrozenColumnShadow(this.table.frozenColCount-1):this.table.options.rightFrozenColCount&&this.component.setRightFrozenColumnShadow(this.table.colCount-this.table.rightFrozenColCount):(this.component.setFrozenColumnShadow(this.table.frozenColCount-1),this.component.setRightFrozenColumnShadow(this.table.colCount-this.table.rightFrozenColCount)),this.component.updateScrollBar(),this.updateNextFrame()}updateCol(t,e,n=[]){Oi(t,e,n,this.table),this.recalculateColWidths(),this.recalculateRowHeights(),this.table.stateManager.checkFrozen(),this.isPivot||this.table.transpose?this.table.options.frozenColCount?this.component.setFrozenColumnShadow(this.table.frozenColCount-1):this.table.options.rightFrozenColCount&&this.component.setRightFrozenColumnShadow(this.table.colCount-this.table.rightFrozenColCount):(this.component.setFrozenColumnShadow(this.table.frozenColCount-1),this.component.setRightFrozenColumnShadow(this.table.colCount-this.table.rightFrozenColCount)),this.component.updateScrollBar(),this.updateNextFrame()}getColumnGroupX(t){return t<this.table.rowHeaderLevelCount?this.table.getColsWidth(0,t-1):t<this.table.colCount-this.table.rightFrozenColCount?this.table.getColsWidth(this.table.rowHeaderLevelCount,t-1):t<this.table.colCount?this.table.getColsWidth(this.table.colCount-this.table.bottomFrozenRowCount,t-1):0}getCellGroupY(t){return t<this.table.frozenRowCount?this.table.getRowsHeight(0,t-1):t<this.table.rowCount-this.table.bottomFrozenRowCount?this.table.getRowsHeight(this.table.frozenRowCount,t-1):t<this.table.rowCount?this.table.getRowsHeight(this.table.rowCount-this.table.bottomFrozenRowCount,t-1):0}getCellGroupX(t){return t<this.table.rowHeaderLevelCount?this.table.getColsWidth(0,t-1):t<this.table.colCount-this.table.rightFrozenColCount?this.table.getColsWidth(this.table.rowHeaderLevelCount,t-1):t<this.table.colCount?this.table.getColsWidth(this.table.colCount-this.table.rightFrozenColCount,t-1):0}updateDomContainer(){!function(t){const{headerDomContainer:e,bodyDomContainer:n,frozenBodyDomContainer:i,frozenHeaderDomContainer:r,rightFrozenBodyDomContainer:o,rightFrozenHeaderDomContainer:a,bottomDomContainer:s,frozenBottomDomContainer:l,rightFrozenBottomDomContainer:u}=t.internalProps;if(!(e||n||i||r||o||a||s||l||u))return;const h=t.getAllColsWidth(),c=Math.min(h,t.tableNoFrameWidth),d=t.getFrozenColsWidth(),f=t.getRightFrozenColsWidth(),p=d+f,g=Math.min(h-p,c-p),m=t.getAllRowsHeight(),v=Math.min(m,t.tableNoFrameHeight),y=t.getFrozenRowsHeight(),b=t.getBottomFrozenRowsHeight(),w=y+b,x=Math.min(m-w,v-w);t.frozenColCount>0?(e.style.left=`${t.tableX+d}px`,n.style.left=`${t.tableX+d}px`,s.style.left=`${t.tableX+d}px`):0===t.frozenColCount&&(e.style.left=`${t.tableX}px`,n.style.left=`${t.tableX}px`,s.style.left=`${t.tableX}px`),i.style.left=`${t.tableX}px`,r.style.left=`${t.tableX}px`,e.style.width=`${g}px`,e.style.height=`${y}px`,n.style.top=`${t.tableY}px`,n.style.width=`${g}px`,n.style.height=`${x}px`,n.style.top=`${t.tableY+y}px`,i.style.width=`${d}px`,i.style.height=`${x}px`,i.style.top=`${t.tableY+y}px`,r.style.width=`${d}px`,r.style.height=`${y}px`,r.style.top=`${t.tableY}px`,o.style.width=`${f}px`,o.style.height=`${x}px`,o.style.top=`${t.tableY+y}px`,o.style.left=t.tableX+c-f+"px",a.style.width=`${f}px`,a.style.height=`${y}px`,a.style.top=`${t.tableY}px`,a.style.left=t.tableX+c-f+"px",s.style.width=`${g}px`,s.style.height=`${b}px`,s.style.top=t.tableY+v-b+"px",l.style.width=`${d}px`,l.style.height=`${b}px`,l.style.top=t.tableY+v-b+"px",u.style.width=`${f}px`,u.style.height=`${b}px`,u.style.top=t.tableY+v-b+"px",u.style.left=t.tableX+c-f+"px"}(this.table)}setLoadingHierarchyState(t,e){const n=this.getCell(t,e).getChildByName("collapse",!0);if(n){const i=ae.U()[mt.up.loadingIconName];(0,kt.Bg)(i,n,t,e)}}temporarilyUpdateSelectRectStyle(t){!function(t,e){const{selectedRangeComponents:n}=e;n.forEach(((e,n)=>{e.rect.setAttributes(t)})),e.updateNextFrame()}(t,this)}resetSelectRectStyle(){this.recreateAllSelectRangeComponents()}}function Wi(t,e,n){const r=t.highPerformanceGetCell(e,n);if("cell"===r.role&&(0,i.Z)(r.mergeStartCol)&&(0,i.Z)(r.mergeStartRow)&&(0,i.Z)(r.mergeEndCol)&&(0,i.Z)(r.mergeEndRow)){const{colStart:e,colEnd:n,rowStart:i,rowEnd:o}=It(r,t);for(let r=e;r<=n;r++)for(let e=i;e<=o;e++){const n=t.highPerformanceGetCell(r,e);"cell"===n.role&&n.addUpdateBoundTag()}}else r.addUpdateBoundTag()}function ji(t,e,n,i,r){const o=t.table;for(let n=0;n<o.columnHeaderLevelCount;n++)Wi(t,e,n);const a=t.getColGroup(e);return null==a||a.addUpdateBoundTag(),!0}function Vi(t,e,n,i,r,o){const a=t.table;for(let n=0;n<a.columnHeaderLevelCount;n++)Wi(t,e,n);const s=t.getColGroup(e);return null==s||s.addUpdateBoundTag(),!0}function Gi(t,e,n,i,r){const o=t.table;for(let e=0;e<o.colCount;e++)Wi(t,e,n);return!0}function Zi(t,e,n,i,r,o){const a=t.table;for(let e=0;e<a.colCount;e++)Wi(t,e,n);return!0}function Ui(t,e,n){const{table:i}=t,{scenegraph:r}=i,{highlightScope:o,singleStyle:a,disableHeader:s,cellPos:l,cellPosContainHeader:u}=t.hover,h=l.col,c=l.row;if(o===v.p.none||s&&(u.col!==e||u.row!==n)){const t=u.col,i=u.row;r.hideHoverIcon(t,i),r.showHoverIcon(e,n),u.col=e,u.row=n}if((s&&i.isHeader(e,n)||o===v.p.none)&&(e=-1,n=-1),h===e&&c===n)return;r.deactivateChart(h,c),r.activateChart(e,n);let d=!1;const{ranges:f,highlightScope:p}=t.select;if(-1!==h&&-1!==c&&(d=function(t,e,n,i,r,o,a){let s=!1;return o===v.p.single?s=!!function(t,e,n,i,r){return Wi(t,e,n),!0}(t,e,n)||s:o===v.p.row?s=!!Gi(t,0,n)||s:o===v.p.column?s=!!ji(t,e)||s:o===v.p.cross&&(s=!!Gi(t,0,n)||s,s=!!ji(t,e)||s),s}(r,h,c,0,0,o),s||r.hideHoverIcon(h,c)),-1===e||-1===n)return l.col=-1,l.row=-1,void(!d||h===e&&c===n||t.table.scenegraph.updateNextFrame());o===v.p.single?d=!!function(t,e,n,i,r){return Wi(t,e,n),!0}(r,e,n)||d:o===v.p.row?d=!!Zi(r,0,n)||d:o===v.p.column?d=!!Vi(r,e)||d:o===v.p.cross&&(d=!!Zi(r,0,n)||d,d=!!Vi(r,e)||d),o===v.p.none||s||r.showHoverIcon(e,n),l.col=e,l.row=n,d&&t.table.scenegraph.updateNextFrame()}function Ki(t,e,n,i){var r;let o,a=null,s=!1;if(Array.isArray(n.sortState))for(let i=0;i<n.sortState.length&&(o=n.sortState[i],o&&(a=n._getHeaderCellBySortState(o)),a&&(s=$i(t,e,a.col,a.row,n)),!s);i++);else o=n.sortState,o&&(a=n._getHeaderCellBySortState(o)),a&&(s=$i(t,e,a.col,a.row,n));const l=n.getHeaderDefine(t,e);if(o&&s&&(null==l?void 0:l.sort)?o.order="asc"===o.order?"desc":"desc"===o.order?"normal":"asc":(null==l?void 0:l.sort)?o={field:n.getHeaderField(t,e),order:"asc"}:s&&(null==l?void 0:l.showSort)||(o={field:n.getHeaderField(t,e),order:"normal"}),o.event=i,n.fireListeners(b.B.SORT_CLICK,o).includes(!1))return;let u=!1,h=n.internalProps.sortState?Array.isArray(n.internalProps.sortState)&&(u=!0)?n.internalProps.sortState:[n.internalProps.sortState]:[];if(Array.isArray(h)){const t=h.findIndex((t=>t.field===o.field));t>=0?h[t]=o:h.push(o)}h=h.filter((t=>"normal"!==t.order)),h=n.internalProps.multipleSort&&(u=!0)?h:h.splice(-1),h=u&&h.length?h:h[0],n.internalProps.sortState=h,n.stateManager.setSortState(h),(null==l?void 0:l.sort)&&function(t,e,n){t=Array.isArray(t)||!t?t:[t],e.dataSource.sort((t||[]).map((t=>{var n,i;const r=e.internalProps.layoutMap.headerObjects.find((e=>e&&e.field===t.field));return{field:t.field,order:t.order||"asc",orderFn:"function"==typeof(null===(n=null==r?void 0:r.define)||void 0===n?void 0:n.sort)?null===(i=null==r?void 0:r.define)||void 0===i?void 0:i.sort:C.K$}})))}(h,n),n.internalProps.useOneRowHeightFillAll=!1,n.internalProps.layoutMap.clearCellRangeMap(),n.scenegraph.sortCell();const c=!!(null===(r=n.stateManager.select.ranges)||void 0===r?void 0:r.length);n.stateManager.updateSelectPos(-1,-1),n.stateManager.endSelectCells(!0,c)}function $i(t,e,n,i,r){return r._getLayoutCellId(t,e)===r._getLayoutCellId(n,i)}var Xi=n(57922),Yi=n(47505);function qi(t,e,n,i,r){for(let n=t;n<=e;n++)r._clearColRangeWidthsMap(n);for(let t=n;t<=i;t++)r._clearRowRangeHeightsMap(t)}function Ji(t){var e;if(!t)return;const n=(null===(e=t.role)||void 0===e?void 0:e.startsWith("icon"))?t:"richtext"===t.type?t._currentHoverIcon:void 0;return n?"richtext"===t.type?{icon:n,position:{left:t.globalAABBBounds.x1+n.globalAABBBounds.x1,right:t.globalAABBBounds.x1+n.globalAABBBounds.x2,top:t.globalAABBBounds.y1+n.globalAABBBounds.y1,bottom:t.globalAABBBounds.y1+n.globalAABBBounds.y2,width:n.globalAABBBounds.x2-n.globalAABBBounds.x1,height:n.globalAABBBounds.y2-n.globalAABBBounds.y1},type:"richtext-icon"}:{icon:n,position:{left:n.globalAABBBounds.x1,right:n.globalAABBBounds.x2,top:n.globalAABBBounds.y1,bottom:n.globalAABBBounds.y2,width:n.globalAABBBounds.x2-n.globalAABBBounds.x1,height:n.globalAABBBounds.y2-n.globalAABBBounds.y1},type:"icon"}:void 0}var Qi=n(42073);function tr(t,e){"adaptive"===e.table.widthMode&&e.columnResize.col<e.table.colCount-1?(e.table.scenegraph.updateColWidth(e.columnResize.col,t),e.table.scenegraph.updateColWidth(e.columnResize.col+1,-t),e.table.internalProps._widthResizedColMap.add(e.columnResize.col),e.table.internalProps._widthResizedColMap.add(e.columnResize.col+1)):(e.table.scenegraph.updateColWidth(e.columnResize.col,t),e.table.internalProps._widthResizedColMap.add(e.columnResize.col))}var er=n(66430),nr=n(48328);function ir(t,e){"adaptive"===e.table.heightMode&&e.rowResize.row<e.table.rowCount-1?(e.table.scenegraph.updateRowHeight(e.rowResize.row,t),e.table.scenegraph.updateRowHeight(e.rowResize.row+1,-t),e.table.internalProps._heightResizedRowMap.add(e.rowResize.row),e.table.internalProps._heightResizedRowMap.add(e.rowResize.row+1)):(e.table.scenegraph.updateRowHeight(e.rowResize.row,t),e.table.internalProps._heightResizedRowMap.add(e.rowResize.row))}class rr{constructor(t){this.fastScrolling=!1,this.checkedState=new Map,this.headerCheckedState={},this._checkboxCellTypeFields=[],this._headerCheckFuncs={},this.radioState={},this.resetInteractionState=(0,Qi.D)((t=>{this.updateInteractionState(null!=t?t:v.F.default)}),100),this.table=t,this.initState(),this.updateVerticalScrollBar=this.updateVerticalScrollBar.bind(this),this.updateHorizontalScrollBar=this.updateHorizontalScrollBar.bind(this)}initState(){this._initState(),this.setHoverState(),this.setSelectState(),this.setFrozenState()}updateOptionSetState(){this._updateOptionSetState(),this.setHoverState(),this.setSelectState(),this.setFrozenState()}_updateOptionSetState(){this.interactionState=v.F.default,this.hoverIcon={col:-1,row:-1,icon:null},this.columnResize={col:-1,x:0,resizing:!1},this.rowResize={row:-1,y:0,resizing:!1},this.columnMove={colSource:-1,colTarget:-1,rowSource:-1,rowTarget:-1,x:0,y:0,moving:!1},this.menu={x:-1,y:-1,isShow:!1,itemList:[],bounds:new R.YZ,highlightIndex:-1,dropDownMenuHighlight:[]},this.sort=[{col:-1,row:-1,order:"normal"}],this.frozen={col:-1},this.tablePosition={absoluteX:0,absoluteY:0},this.drill={col:-1,row:-1},this.sparkLine={col:-1,row:-1}}_initState(){this.interactionState=v.F.default,this.select={highlightScope:v.p.single,ranges:[],cellPos:{col:-1,row:-1},selecting:!1},this.fillHandle={isFilling:!1,startX:void 0,startY:void 0},this.hover={highlightScope:v.p.single,cellPos:{col:-1,row:-1}},this.hoverIcon={col:-1,row:-1,icon:null},this.columnResize={col:-1,x:0,resizing:!1},this.rowResize={row:-1,y:0,resizing:!1},this.columnMove={colSource:-1,colTarget:-1,rowSource:-1,rowTarget:-1,x:0,y:0,moving:!1},this.menu={x:-1,y:-1,isShow:!1,itemList:[],bounds:new R.YZ,highlightIndex:-1,dropDownMenuHighlight:[]},this.sort=[{col:-1,row:-1,order:"normal"}],this.frozen={col:-1},this.scroll={horizontalBarPos:0,verticalBarPos:0},this.tablePosition={absoluteX:0,absoluteY:0},this.drill={col:-1,row:-1},this.sparkLine={col:-1,row:-1}}setHoverState(){var t;const{highlightMode:e,disableHover:n,disableHeaderHover:i}=null!==(t=this.table.options.hover)&&void 0!==t?t:{highlightMode:"cell"};n?this.hover.highlightScope=v.p.none:"cross"===e?this.hover.highlightScope=v.p.cross:"row"===e?this.hover.highlightScope=v.p.row:"column"===e?this.hover.highlightScope=v.p.column:"cell"===e&&(this.hover.highlightScope=v.p.single),this.hover.singleStyle=!n,this.hover.disableHeader=i,(this.hover.highlightScope===v.p.none||i)&&(this.hover.cellPosContainHeader={col:-1,row:-1})}setSelectState(){var t;const{headerSelectMode:e,disableSelect:n,disableHeaderSelect:i,highlightMode:r,highlightInRange:o}=Object.assign({},{headerSelectMode:"inline",disableSelect:!1,disableHeaderSelect:!1,highlightMode:"cell",highlightInRange:!1},this.table.options.select);this.select.highlightScope=!0===n?v.p.none:"cross"===r?v.p.cross:"row"===r?v.p.row:"column"===r?v.p.column:v.p.single,this.select.singleStyle=!n,this.select.disableHeader=i,this.select.headerSelectMode=e,this.select.highlightInRange=o,this.select.disableCtrlMultiSelect=!1===(null===(t=this.table.options.keyboardOptions)||void 0===t?void 0:t.ctrlMultiSelect)}isSelected(t,e){let n=!1;return this.select.ranges.forEach((i=>{(0,y._Z)(i,t,e)&&(n=!0)})),n}setSortState(t){const e=this,n=(t=!t||Array.isArray(t)?t:[t])&&t.reduce(((t,n)=>{var i,r,o;const a=null===(i=function(t){const n=[];return function t(i,r=0){i.forEach((i=>{var o;const a=i.startInTotal?null!==(o=i.startInTotal+e.table.internalProps.layoutMap.leftRowSeriesNumberColumnCount)&&void 0!==o?o:0:r;i.columns?t(i.columns,a):n.push(Object.assign(Object.assign({},i),{startIndex:a}))}))}(t),n}(this.table.internalProps.columns))||void 0===i?void 0:i.find((t=>(null==t?void 0:t.field)===(null==n?void 0:n.field)));return this.table.internalProps.transpose?t.push({field:n.field,order:n.order,row:null!==(r=(null==a?void 0:a.startInTotal)+this.table.internalProps.layoutMap.leftRowSeriesNumberColumnCount)&&void 0!==r?r:0,col:null==a?void 0:a.level}):t.push({field:n.field,order:n.order,col:null!==(o=(null==a?void 0:a.startInTotal)+this.table.internalProps.layoutMap.leftRowSeriesNumberColumnCount)&&void 0!==o?o:0,row:null==a?void 0:a.level}),t}),[]);this.sort=n||[]}setFrozenState(){this.frozen.col=this.table.frozenColCount-1}updateInteractionState(t){if(this.interactionState===t)return;t===v.F.scrolling&&(this.interactionStateBeforeScroll=this.interactionState);const e=this.interactionState;this.interactionState=t,e===v.F.scrolling&&v.F.default}updateHoverhighlightScope(t){this.hover.highlightScope!==t&&(this.hover.highlightScope=t)}updateHoverPos(t,e){Ui(this,t,e)}updateSelectPos(t,e,n=!1,i=!1,r=!1,o=!0,a=!1){-1!==e&&-1!==e&&(this.select.selecting=!0),function(t,e,n,i,r,o,a=!0,s=!1){var l,u;const{table:h,interactionState:c}=t,{scenegraph:d}=h,{highlightScope:f,disableHeader:p,cellPos:g,disableCtrlMultiSelect:m}=t.select;if(-1!==e&&-1!==n&&a&&h._makeVisibleCell(e,n),-1!==e&&-1!==n&&a)if(c===v.F.grabing&&t.select.ranges.length>0){const i=t.select.ranges[t.select.ranges.length-1];e>i.start.col&&e>i.end.col&&h._makeVisibleCell(e+1,n),n>i.start.row&&n>i.end.row&&h._makeVisibleCell(e,n+1),e<i.start.col&&e<i.end.col&&h._makeVisibleCell(e-1,n),n<i.start.row&&n<i.end.row&&h._makeVisibleCell(e,n-1)}else h._makeVisibleCell(e,n);if(o){t.select.ranges=[],d.deleteAllSelectBorder();let e=0,n=0;const{disableHeaderSelect:i,disableRowSeriesNumberSelect:r}=(null===(l=h.options.keyboardOptions)||void 0===l?void 0:l.selectAllOnCtrlA)||{};i&&(e=h.rowHeaderLevelCount,n=h.columnHeaderLevelCount),(r||i&&h.transpose)&&h.options.rowSeriesNumber&&(e+=1),t.select.ranges.push({start:{col:e,row:n},end:{col:h.colCount-1,row:h.rowCount-1}});const o=t.select.ranges[t.select.ranges.length-1];d.updateCellSelectBorder(o,!1)}else if(-1===g.col||-1===g.row||-1!==e&&-1!==n)if(c!==v.F.default||h.eventManager.isDraging||h.stateManager.isResizeCol()){if((c===v.F.grabing||h.eventManager.isDraging)&&!h.stateManager.isResizeCol()){let i=!0;-1===g.col&&(g.col=e),-1===g.row&&(g.row=n),g.col=e,g.row=n;const r=t.select.ranges[t.select.ranges.length-1];if(r){if(h.internalProps.layoutMap.isSeriesNumberInBody(r.start.col,r.start.row))i=!1,r.end={col:h.colCount-1,row:n};else if(t.fillHandle.isFilling){if("top"===t.fillHandle.direction)if(n===t.fillHandle.beforeFillMinRow&&n===t.fillHandle.beforeFillMaxRow)r.start.row=r.end.row=n;else if(n<=t.fillHandle.beforeFillMinRow){if(r.start.row<r.end.row){const t=r.start.row;r.start.row=r.end.row,r.end.row=t}r.end.row=n}else n===t.fillHandle.beforeFillMaxRow&&(r.start.row>r.end.row?r.start.row=n:r.end.row=n);else if("bottom"===t.fillHandle.direction){if(n>=t.fillHandle.beforeFillMaxRow){if(r.start.row>r.end.row){const t=r.start.row;r.start.row=r.end.row,r.end.row=t}r.end.row=n}}else if("left"===t.fillHandle.direction)if(e===t.fillHandle.beforeFillMinCol&&e===t.fillHandle.beforeFillMaxCol)r.start.col=r.end.col=e;else if(e<=t.fillHandle.beforeFillMinCol){if(r.start.col<r.end.col){const t=r.start.col;r.start.col=r.end.col,r.end.col=t}r.end.col=e}else e===t.fillHandle.beforeFillMaxCol&&(r.start.col>r.end.col?r.start.col=e:r.end.col=e);else if("right"===t.fillHandle.direction&&e>=t.fillHandle.beforeFillMaxCol){if(r.start.col>r.end.col){const t=r.start.col;r.start.col=r.end.col,r.end.col=t}r.end.col=e}}else{r.end={col:e,row:n};const i=s?{start:{col:e,row:n},end:{col:e,row:n}}:h.getCellRange(e,n);r.start.col<i.end.col?r.end.col=i.end.col:r.start.col>i.start.col&&(r.end.col=i.start.col),r.start.row<i.end.row?r.end.row=i.end.row:r.start.row>i.start.row&&(r.end.row=i.start.row),"body"===t.select.headerSelectMode&&(h.isRowHeader(e,n)?(r.start.col=h.rowHeaderLevelCount+h.leftRowSeriesNumberCount,r.end.col=h.colCount-1):h.isColumnHeader(e,n)?(r.start.row=h.columnHeaderLevelCount,r.end.row=h.rowCount-1):h.internalProps.layoutMap.isSeriesNumberInBody(e,n)?(r.start.col=h.leftRowSeriesNumberCount,r.end.col=h.colCount-1):h.isCornerHeader(e,n)?(r.start.col=h.rowHeaderLevelCount+h.leftRowSeriesNumberCount,r.start.row=h.columnHeaderLevelCount,r.end.col=h.colCount-1,r.end.row=h.rowCount-1):h.isSeriesNumber(e,n)&&(r.start.col=h.leftRowSeriesNumberCount,r.start.row=h.columnHeaderLevelCount,r.end.col=h.colCount-1,r.end.row=h.rowCount-1)),s&&(r.skipBodyMerge=!0)}d.updateCellSelectBorder(r,i)}}}else{const o=t.select.ranges[t.select.ranges.length-1];if(i&&o){if(r&&!m||(g.col=e,g.row=n),"cell"!==t.select.headerSelectMode&&h.isColumnHeader(e,n)){const i=Math.min(o.start.col,o.end.col,e),r=Math.max(o.start.col,o.end.col,e),a=Math.min(o.start.row,o.end.row,n),s=h.rowCount-1;"body"===t.select.headerSelectMode?(o.start={col:i,row:h.columnHeaderLevelCount},o.end={col:r,row:h.rowCount-1}):(o.start={col:i,row:a},o.end={col:r,row:s})}else if("cell"!==t.select.headerSelectMode&&h.isRowHeader(e,n)){const i=Math.min(o.start.col,o.end.col,e),r=h.colCount-1,a=Math.min(o.start.row,o.end.row,n),s=Math.max(o.start.row,o.end.row,n);"body"===t.select.headerSelectMode?(o.start={col:h.leftRowSeriesNumberCount+h.rowHeaderLevelCount,row:a},o.end={col:h.colCount-1,row:s}):(o.start={col:i,row:a},o.end={col:r,row:s})}else if("cell"!==t.select.headerSelectMode&&h.isSeriesNumberInBody(e,n)){const i=Math.min(o.start.col,o.end.col,e),r=h.colCount-1,a=Math.min(o.start.row,o.end.row,n),s=Math.max(o.start.row,o.end.row,n);"body"===t.select.headerSelectMode?(o.start={col:h.leftRowSeriesNumberCount,row:a},o.end={col:h.colCount-1,row:s}):(o.start={col:i,row:a},o.end={col:r,row:s})}else o.end={col:e,row:n};d.deleteLastSelectedRangeComponents(),d.updateCellSelectBorder(o)}else{let i=!0;if(-1===g.col||-1===g.row||r&&!m||(t.select.ranges=[],d.deleteAllSelectBorder()),"cell"!==t.select.headerSelectMode&&h.isColumnHeader(e,n)){const i=h.getCellRange(e,n);"body"===t.select.headerSelectMode?t.select.ranges.push({start:{col:i.start.col,row:h.columnHeaderLevelCount},end:{col:i.end.col,row:h.rowCount-1},skipBodyMerge:!0}):t.select.ranges.push({start:{col:i.start.col,row:n},end:{col:i.end.col,row:h.rowCount-1},skipBodyMerge:!0})}else if("cell"!==t.select.headerSelectMode&&h.isRowHeader(e,n)){const i=h.getCellRange(e,n);"body"===t.select.headerSelectMode?t.select.ranges.push({start:{col:h.rowHeaderLevelCount+h.leftRowSeriesNumberCount,row:i.start.row},end:{col:h.colCount-1,row:i.end.row},skipBodyMerge:!0}):t.select.ranges.push({start:{col:e,row:i.start.row},end:{col:h.colCount-1,row:i.end.row},skipBodyMerge:!0})}else if(h.internalProps.layoutMap.isSeriesNumberInHeader(e,n))i=!1,"body"===t.select.headerSelectMode?t.select.ranges.push({start:{col:h.leftRowSeriesNumberCount,row:h.columnHeaderLevelCount},end:{col:h.colCount-1,row:h.rowCount-1},skipBodyMerge:!0}):t.select.ranges.push({start:{col:0,row:0},end:{col:h.colCount-1,row:h.rowCount-1},skipBodyMerge:!0});else if(h.internalProps.layoutMap.isSeriesNumberInBody(e,n))i=!1,"body"===t.select.headerSelectMode?t.select.ranges.push({start:{col:h.leftRowSeriesNumberCount,row:n},end:{col:h.colCount-1,row:n},skipBodyMerge:!0}):t.select.ranges.push({start:{col:e,row:n},end:{col:h.colCount-1,row:n},skipBodyMerge:!0});else if(h.internalProps.layoutMap.isCornerHeader(e,n))i=!1,"body"===t.select.headerSelectMode?t.select.ranges.push({start:{col:h.rowHeaderLevelCount+h.leftRowSeriesNumberCount,row:h.columnHeaderLevelCount},end:{col:h.colCount-1,row:h.rowCount-1},skipBodyMerge:!0}):t.select.ranges.push({start:{col:h.leftRowSeriesNumberCount,row:0},end:{col:h.colCount-1,row:h.rowCount-1},skipBodyMerge:!0});else if(e>=0&&n>=0){const i=s?{start:{col:e,row:n},end:{col:e,row:n}}:h.getCellRange(e,n);t.select.ranges.push({start:{col:i.start.col,row:i.start.row},end:{col:i.end.col,row:i.end.row},skipBodyMerge:s||void 0})}g.col=e,g.row=n;const o=null===(u=t.select.ranges)||void 0===u?void 0:u[t.select.ranges.length-1];o&&d.updateCellSelectBorder(o,i)}}else g.col=-1,g.row=-1,t.select.ranges=[],d.deleteAllSelectBorder();d.updateNextFrame()}(this,t,e,n,i,r,o,a)}checkCellRangeInSelect(t,e){return function(t,e,n,i){for(let i=0;i<n.length;i++){const r=n[i];if((0,y.ib)(r,{start:t,end:e}))return!0}return!1}(t,e,this.select.ranges,this.select.highlightScope)}updateHoverIcon(t,e,n,i){var r,o,a,s,l,u,h,c,d;if((null===(r=this.residentHoverIcon)||void 0===r?void 0:r.icon)&&n===(null===(o=this.residentHoverIcon)||void 0===o?void 0:o.icon))return;const f=Ji(n);if(f)if("richtext-icon"===f.type){const n=f.icon;if(this.hoverIcon.icon&&this.hoverIcon.icon!==(null===(s=this.residentHoverIcon)||void 0===s?void 0:s.icon)&&(this.table.scenegraph.setIconNormalStyle(this.hoverIcon.icon,this.hoverIcon.col,this.hoverIcon.row),this.hoverIcon.col=-1,this.hoverIcon.col=-1,this.hoverIcon.icon=null,this.table.scenegraph.updateNextFrame()),n.attribute.tooltip){const i={content:n.attribute.tooltip.title,referencePosition:{rect:f.position,placement:n.attribute.tooltip.placement},style:Object.assign({},null===(l=this.table.internalProps.theme)||void 0===l?void 0:l.tooltipStyle,null===(u=n.tooltip)||void 0===u?void 0:u.style,null===(c=null===(h=n.attribute)||void 0===h?void 0:h.tooltip)||void 0===c?void 0:c.style),disappearDelay:n.attribute.tooltip.disappearDelay};this.table.internalProps.tooltipHandler.isBinded(i)||this.table.showTooltip(t,e,i)}}else{const n=f.icon;n!==this.hoverIcon.icon&&(this.hoverIcon.icon&&this.hoverIcon.icon!==(null===(d=this.residentHoverIcon)||void 0===d?void 0:d.icon)&&this.table.scenegraph.setIconNormalStyle(this.hoverIcon.icon,this.hoverIcon.col,this.hoverIcon.row),this.hoverIcon.col=t,this.hoverIcon.row=e,this.hoverIcon.icon=n,this.table.scenegraph.setIconHoverStyle(n,t,e,i),this.table.scenegraph.updateNextFrame())}else this.hoverIcon.icon&&this.hoverIcon.icon!==(null===(a=this.residentHoverIcon)||void 0===a?void 0:a.icon)&&(this.table.scenegraph.setIconNormalStyle(this.hoverIcon.icon,this.hoverIcon.col,this.hoverIcon.row),this.hoverIcon.col=-1,this.hoverIcon.col=-1,this.hoverIcon.icon=null,this.table.scenegraph.updateNextFrame())}isResizeCol(){return this.columnResize.resizing}isResizeRow(){return this.rowResize.resizing}isFillHandle(){return this.fillHandle.isFilling}isSelecting(){return this.select.selecting}endSelectCells(t=!0,e=!0){if(this.select.selecting){if(this.select.selecting=!1,0===this.select.ranges.length)return;const e=this.select.ranges[this.select.ranges.length-1];!function(t,e){const n=t.start.col,i=t.end.col,r=t.start.row,o=t.end.row;let a=n,s=i,l=r,u=o;for(let t=n;t<=i;t++)for(let n=r;n<=o;n++){const i=e.getCellRange(t,n);i&&(a=Math.min(a,i.start.col),s=Math.max(s,i.end.col),l=Math.min(l,i.start.row),u=Math.max(u,i.end.row))}t.start.col=a,t.end.col=s,t.start.row=l,t.end.row=u}(e,this.table);let n=!1;for(let t=0;t<this.select.ranges.length-1;t++){const i=this.select.ranges[t];if(i&&i.start.col===e.start.col&&i.start.row===e.start.row&&i.end.col===e.end.col&&i.end.row===e.end.row){n=!0;break}}n?(this.select.ranges.pop(),ci(this.table.scenegraph),this.table.scenegraph.selectingRangeComponents.clear()):this.table.scenegraph.moveSelectingRangeComponentsToSelectedRangeComponents();const i=this.select.ranges[this.select.ranges.length-1].end.col,r=this.select.ranges[this.select.ranges.length-1].end.row;t&&this.table.fireListeners(b.B.SELECTED_CELL,{ranges:this.select.ranges,col:i,row:r})}else e&&0===this.select.ranges.length&&this.table.fireListeners(b.B.SELECTED_CLEAR,{})}endResizeCol(){setTimeout((()=>{this.columnResize.resizing=!1}),0),this.table.scenegraph.updateChartSizeForResizeColWidth(this.columnResize.col),this.checkFrozen(),this.table.scenegraph.component.hideResizeCol(),this.table.scenegraph.updateNextFrame()}startResizeCol(t,e,n,i){this.columnResize.resizing=!0,this.columnResize.col=t,this.columnResize.x=e,this.columnResize.isRightFrozen=i,this.table.scenegraph.component.showResizeCol(t,n,i),this.table.scenegraph.updateNextFrame()}updateResizeCol(t,e){!function(t,e,n){t=Math.ceil(t),e=Math.ceil(e);let i=n.columnResize.isRightFrozen?n.columnResize.x-t:t-n.columnResize.x;if(Math.abs(i)<1)return;const r=n.table.getColWidth(n.columnResize.col);let o=r;o+=i;const a=n.table.getMinColWidth(n.columnResize.col),s=n.table.getMaxColWidth(n.columnResize.col);if(o<a||o>s){if(r===a||r===s)return;i=r-a>s-r?s-r:a-r}let l=n.table.getColWidth(n.columnResize.col)+i;if(l<n.table.internalProps.limitMinWidth&&(l=n.table.internalProps.limitMinWidth,i=l-n.table.getColWidth(n.columnResize.col)),"adaptive"===n.table.widthMode&&n.columnResize.col<n.table.colCount-1){const t=n.table.getColWidth(n.columnResize.col+1),e=n.table.getMinColWidth(n.columnResize.col+1),r=n.table.getMaxColWidth(n.columnResize.col+1);let o=t;if(o-=i,o<e||o>r){if(t===e||t===r)return;i=t-e>r-t?r-t:e-t}o-i<n.table.internalProps.limitMinWidth&&(i=o-n.table.internalProps.limitMinWidth)}i=Math.ceil(i),n.columnResize.col<n.table.rowHeaderLevelCount||n.columnResize.col>=n.table.colCount-n.table.rightFrozenColCount?tr(i,n):"indicator"===n.table.internalProps.columnResizeType?function(t,e){const n=e.table.internalProps.layoutMap;let i,r,o;if(n.indicatorsAsCol)i=n.getIndicatorKey(e.columnResize.col,e.table.columnHeaderLevelCount);else{const t=n.getCellHeaderPaths(e.columnResize.col,e.table.columnHeaderLevelCount-1),i=t.colHeaderPaths[t.colHeaderPaths.length-1];r=i.dimensionKey,o=i.value}for(let a=e.table.rowHeaderLevelCount;a<e.table.colCount-e.table.rightFrozenColCount;a++){const s=n.getIndicatorKey(a,e.table.columnHeaderLevelCount);if(n.indicatorsAsCol&&s===i)e.table.scenegraph.updateColWidth(a,t),e.table.internalProps._widthResizedColMap.add(a);else if(!n.indicatorsAsCol){const i=n.getCellHeaderPaths(a,e.table.columnHeaderLevelCount-1),s=null==i?void 0:i.colHeaderPaths[i.colHeaderPaths.length-1];s&&r===s.dimensionKey&&o===s.value&&(e.table.scenegraph.updateColWidth(a,t),e.table.internalProps._widthResizedColMap.add(a))}}}(i,n):"indicatorGroup"===n.table.internalProps.columnResizeType?function(t,e){const n=e.table.internalProps.layoutMap,i=n.getCellHeaderPaths(e.columnResize.col,e.table.columnHeaderLevelCount),r=n.getHeadNodeByRowOrColDimensions(i.colHeaderPaths.slice(0,i.colHeaderPaths.length-1)),o=r.startInTotal+e.table.frozenColCount,a=r.startInTotal+e.table.frozenColCount+r.size-1,s=e.table.getColsWidth(o,a),l=t;for(let t=o;t<=a;t++){if(!(e.table.internalProps.transpose||e.table.isPivotTable()&&!n.indicatorsAsCol)){const i=n.getBody(t,e.table.columnHeaderLevelCount);if(null==i?void 0:i.disableColumnResize)continue}let i=e.table.getColWidth(t)/s*l;i>0&&i<.5?i=.5:i<0&&i>=-.5&&(i=-.5),e.table.scenegraph.updateColWidth(t,i),e.table.internalProps._widthResizedColMap.add(t)}}(i,n):"all"===n.table.internalProps.columnResizeType?function(t,e){const n=e.table.internalProps.layoutMap;for(let i=e.table.frozenColCount;i<e.table.colCount-e.table.rightFrozenColCount;i++){if(!(e.table.internalProps.transpose||e.table.isPivotTable()&&!n.indicatorsAsCol)){const t=n.getBody(i,e.table.columnHeaderLevelCount);if(null==t?void 0:t.disableColumnResize)continue}e.table.scenegraph.updateColWidth(i,t),e.table.internalProps._widthResizedColMap.add(i)}}(i,n):tr(i,n),n.columnResize.x=t,n.table.scenegraph.component.updateResizeCol(n.columnResize.col,e,n.columnResize.isRightFrozen),n.columnResize.col<n.table.frozenColCount&&!n.table.isPivotTable()&&!n.table.transpose?n.table.scenegraph.component.setFrozenColumnShadow(n.table.frozenColCount-1,n.columnResize.isRightFrozen):n.table.options.frozenColCount&&n.table.scenegraph.component.setFrozenColumnShadow(n.table.frozenColCount-1),(n.columnResize.col>=n.table.colCount-n.table.rightFrozenColCount&&!n.table.isPivotTable()&&!n.table.transpose||n.table.options.rightFrozenColCount)&&n.table.scenegraph.component.setRightFrozenColumnShadow(n.table.colCount-n.table.rightFrozenColCount),n.table.scenegraph.updateNextFrame()}(t,e,this)}endResizeRow(){setTimeout((()=>{this.rowResize.resizing=!1}),0),this.table.scenegraph.updateChartSizeForResizeRowHeight(this.rowResize.row),this.table.scenegraph.component.hideResizeRow(),this.table.scenegraph.updateNextFrame()}startResizeRow(t,e,n,i){this.rowResize.resizing=!0,this.rowResize.row=t,this.rowResize.y=n,this.rowResize.isBottomFrozen=i,this.table.scenegraph.component.showResizeRow(t,e,i),this.table.scenegraph.updateNextFrame()}updateResizeRow(t,e){!function(t,e,n){t=Math.ceil(t),e=Math.ceil(e);let i=n.rowResize.isBottomFrozen?n.rowResize.y-e:e-n.rowResize.y;if(Math.abs(i)<1)return;let r=n.table.getRowHeight(n.rowResize.row);r+=i;let o=n.table.getRowHeight(n.rowResize.row)+i;if(o<n.table.internalProps.limitMinHeight&&(o=n.table.internalProps.limitMinHeight,i=o-n.table.getRowHeight(n.rowResize.row)),"adaptive"===n.table.heightMode&&n.rowResize.row<n.table.rowCount-1){let t=n.table.getRowHeight(n.rowResize.row+1);t-=i,t-i<n.table.internalProps.limitMinHeight&&(i=t-n.table.internalProps.limitMinHeight)}i=Math.ceil(i),n.rowResize.row<n.table.columnHeaderLevelCount||n.rowResize.row>=n.table.rowCount-n.table.bottomFrozenRowCount?ir(i,n):"indicator"===n.table.internalProps.rowResizeType?function(t,e){var n,i;const r=e.table.internalProps.layoutMap;let o,a,s;if(r.indicatorsAsCol){const t=r.getCellHeaderPaths(e.table.rowHeaderLevelCount-1,e.rowResize.row),i=null===(n=t.rowHeaderPaths)||void 0===n?void 0:n[t.rowHeaderPaths.length-1];a=null==i?void 0:i.dimensionKey,s=null==i?void 0:i.value}else o=r.getIndicatorKey(e.table.rowHeaderLevelCount,e.rowResize.row);for(let n=e.table.columnHeaderLevelCount;n<e.table.rowCount-e.table.bottomFrozenRowCount;n++){const l=r.getIndicatorKey(e.table.rowHeaderLevelCount,n);if(r.indicatorsAsCol||l!==o){if(r.indicatorsAsCol){const o=r.getCellHeaderPaths(e.table.rowHeaderLevelCount-1,n),l=null===(i=null==o?void 0:o.rowHeaderPaths)||void 0===i?void 0:i[o.rowHeaderPaths.length-1];l&&a===l.dimensionKey&&s===l.value&&(e.table.scenegraph.updateRowHeight(n,t),e.table.internalProps._heightResizedRowMap.add(n))}}else e.table.scenegraph.updateRowHeight(n,t),e.table.internalProps._heightResizedRowMap.add(n)}}(i,n):"indicatorGroup"===n.table.internalProps.rowResizeType?function(t,e){const n=e.table.internalProps.layoutMap,i=n.getCellHeaderPaths(e.table.rowHeaderLevelCount,e.rowResize.row),r=n.getHeadNodeByRowOrColDimensions(i.rowHeaderPaths.slice(0,i.rowHeaderPaths.length-1)),o=r.startInTotal+e.table.frozenRowCount,a=r.startInTotal+e.table.frozenRowCount+r.size-1,s=e.table.getRowsHeight(o,a),l=t;for(let t=o;t<=a;t++){let n=e.table.getRowHeight(t)/s*l;n>0&&n<.5?n=.5:n<0&&n>=-.5&&(n=-.51),e.table.scenegraph.updateRowHeight(t,n),e.table.internalProps._heightResizedRowMap.add(t)}}(i,n):"all"===n.table.internalProps.rowResizeType?function(t,e){for(let n=e.table.frozenRowCount;n<e.table.rowCount-e.table.bottomFrozenRowCount;n++)e.table.scenegraph.updateRowHeight(n,t),e.table.internalProps._heightResizedRowMap.add(n)}(i,n):ir(i,n),n.rowResize.y=e,n.table.scenegraph.component.updateResizeRow(n.rowResize.row,t,n.rowResize.isBottomFrozen),n.table.scenegraph.updateNextFrame()}(t,e,this)}startFillSelect(t,e){this.fillHandle.isFilling=!0,this.fillHandle.startX=t,this.fillHandle.startY=e;const n=this.select.ranges[this.select.ranges.length-1];this.fillHandle.beforeFillMinCol=Math.min(n.start.col,n.end.col),this.fillHandle.beforeFillMinRow=Math.min(n.start.row,n.end.row),this.fillHandle.beforeFillMaxCol=Math.max(n.start.col,n.end.col),this.fillHandle.beforeFillMaxRow=Math.max(n.start.row,n.end.row),this.table.fireListeners(b.B.MOUSEDOWN_FILL_HANDLE,{})}endFillSelect(){this.fillHandle.isFilling=!1,this.fillHandle.startX=void 0,this.fillHandle.startY=void 0,this.fillHandle.directionRow=void 0;const t=Math.min(this.select.ranges[0].start.col,this.select.ranges[0].end.col),e=Math.min(this.select.ranges[0].start.row,this.select.ranges[0].end.row),n=Math.max(this.select.ranges[0].start.col,this.select.ranges[0].end.col),i=Math.max(this.select.ranges[0].start.row,this.select.ranges[0].end.row);this.fillHandle.beforeFillMinCol===t&&this.fillHandle.beforeFillMinRow===e&&this.fillHandle.beforeFillMaxCol===n&&this.fillHandle.beforeFillMaxRow===i||this.table.eventManager.isDraging&&this.table.fireListeners(b.B.DRAG_FILL_HANDLE_END,{direction:this.fillHandle.direction}),this.fillHandle.beforeFillMaxCol=void 0,this.fillHandle.beforeFillMaxRow=void 0,this.fillHandle.beforeFillMinCol=void 0,this.fillHandle.beforeFillMinRow=void 0}startMoveCol(t,e,n,i,r){!function(t,e,n,i,r,o){var a;if(!("canMoveHeaderPosition"in r.table.internalProps.layoutMap))return;r.columnMove.moving=!0,r.columnMove.colSource=t,r.columnMove.rowSource=e,r.columnMove.x=n-r.table.tableX,r.columnMove.y=i-r.table.tableY;const s=r.table.getCellLocation(t,e),l="columnHeader"===s?r.columnMove.x:"rowHeader"===s||r.table.internalProps.layoutMap.isSeriesNumberInBody(t,e)?r.columnMove.y:0,{backX:u,lineX:h,backY:c,lineY:d}=r.table.scenegraph.component.showMoveCol(t,e,l);r.table.fireListeners(b.B.CHANGE_HEADER_POSITION_START,{col:t,row:e,x:n,y:i,backX:u,lineX:h,backY:c,lineY:d,event:o});const f=!!(null===(a=r.select.ranges)||void 0===a?void 0:a.length);r.table.stateManager.updateSelectPos(-1,-1),r.table.stateManager.endSelectCells(!0,f),r.table.scenegraph.updateNextFrame()}(t,e,n,i,this,r)}updateMoveCol(t,e,n,i,r){!function(t,e,n,i,r,o){if(!("canMoveHeaderPosition"in r.table.internalProps.layoutMap))return;const a=function(t,e,n){const i=n.getCellRange(t.col,t.row);if(n.isColumnHeader(t.col,t.row)){const r=n.getCellRange(e.col,i.start.row);e.row>=n.columnHeaderLevelCount&&(e.row=n.columnHeaderLevelCount-1),e.col>=t.col?e.col=r.end.col:e.col=r.start.col}else if(n.isRowHeader(t.col,t.row)){const r=n.internalProps.layoutMap,o=n.getCellRange(i.start.col,e.row);if(e.col>=n.rowHeaderLevelCount+r.leftRowSeriesNumberColumnCount&&(e.col=n.rowHeaderLevelCount+r.leftRowSeriesNumberColumnCount-1),"tree"===r.rowHierarchyType){const i=r.getCellHeaderPathsWithTreeNode(t.col,t.row).rowHeaderPaths,o=r.getCellHeaderPathsWithTreeNode(e.col,e.row).rowHeaderPaths;if(i.length<=o.length){const r=o[i.length-1];r&&(e.row>=t.row?e.row=r.startInTotal+r.size-1+n.columnHeaderLevelCount:e.row=r.startInTotal+n.columnHeaderLevelCount)}}else e.row>=t.row?e.row=o.end.row:e.row=o.start.row}return e}({col:r.columnMove.colSource,row:r.columnMove.rowSource},{col:t,row:e},r.table);if(r.table.internalProps.layoutMap.canMoveHeaderPosition({col:r.columnMove.colSource,row:r.columnMove.rowSource},{col:a.col,row:a.row})){let s,l,u,h;r.columnMove.x=n-r.table.tableX,r.columnMove.y=i-r.table.tableY,r.columnMove.colTarget=a.col,r.columnMove.rowTarget=a.row,r.updateCursor("grabbing");const c=r.table.getCellLocation(r.columnMove.colSource,r.columnMove.rowSource);"columnHeader"===c?(l=r.columnMove.x,s=r.table.isLeftFrozenColumn(t)?r.columnMove.colTarget>=r.columnMove.colSource?r.table.getColsWidth(0,r.columnMove.colTarget):r.table.getColsWidth(0,r.columnMove.colTarget-1):r.table.isRightFrozenColumn(t)?r.table.tableNoFrameWidth-r.table.getColsWidth(a.col+1,r.table.colCount-1):(r.columnMove.colTarget>=r.columnMove.colSource?r.table.getColsWidth(0,r.columnMove.colTarget):r.table.getColsWidth(0,r.columnMove.colTarget-1))-r.table.stateManager.scroll.horizontalBarPos):("rowHeader"===c||r.table.internalProps.layoutMap.isSeriesNumberInBody(t,e))&&(h=r.columnMove.y,u=r.table.isFrozenRow(e)?r.columnMove.rowTarget>=r.columnMove.rowSource?r.table.getRowsHeight(0,r.columnMove.rowTarget):r.table.getRowsHeight(0,r.columnMove.rowTarget-1):r.table.isBottomFrozenRow(e)?r.table.tableNoFrameHeight-r.table.getRowsHeight(a.row+1,r.table.rowCount-1):(r.columnMove.rowTarget>=r.columnMove.rowSource?r.table.getRowsHeight(0,r.columnMove.rowTarget):r.table.getRowsHeight(0,r.columnMove.rowTarget-1))-r.table.stateManager.scroll.verticalBarPos),r.table.scenegraph.component.updateMoveCol(l,s,h,u),r.table.fireListeners(b.B.CHANGING_HEADER_POSITION,{col:t,row:e,x:n,y:i,backX:l,lineX:s,backY:h,lineY:u,event:o}),r.table.scenegraph.updateNextFrame()}else r.updateCursor("not-allowed"),r.columnMove.colTarget=r.columnMove.colSource,r.columnMove.rowTarget=r.columnMove.rowSource}(t,e,n,i,this,r)}isMoveCol(){return this.columnMove.moving}endMoveCol(){return function(t){var e,n;let i=!1;if("canMoveHeaderPosition"in t.table.internalProps.layoutMap&&t.columnMove.moving&&t.columnMove.colSource>=0&&t.columnMove.rowSource>=0&&t.columnMove.colTarget>=0&&t.columnMove.rowTarget>=0&&!0!==(null===(e=t.table.options.customConfig)||void 0===e?void 0:e.notUpdateInColumnRowMove)){const e=t.table.getCellRange(t.columnMove.colSource,t.columnMove.rowSource),n=t.table.getCellRange(t.columnMove.colTarget,t.columnMove.rowTarget),r=t.table._moveHeaderPosition({col:t.columnMove.colSource,row:t.columnMove.rowSource},{col:t.columnMove.colTarget,row:t.columnMove.rowTarget});if(!r||r.targetIndex===r.sourceIndex)return t.updateCursor(),t.columnMove.moving=!1,delete t.columnMove.colSource,delete t.columnMove.rowSource,delete t.columnMove.colTarget,delete t.columnMove.rowTarget,t.table.scenegraph.component.hideMoveCol(),t.table.scenegraph.updateNextFrame(),!1;{t.table.internalProps.useOneRowHeightFillAll=!1,t.table.internalProps.layoutMap.clearCellRangeMap();const o=t.table.getCellRange(t.columnMove.colSource,t.columnMove.rowSource),a=t.table.getCellRange(t.columnMove.colTarget,t.columnMove.rowTarget),s=Math.min(o.start.col,a.start.col,e.start.col,n.start.col),l=Math.max(o.end.col,a.end.col,e.end.col,n.end.col),u=Math.min(o.start.row,a.start.row,e.start.row,n.start.row);let h=Math.max(o.end.row,a.end.row,e.end.row,n.end.row);"row"===r.moveType&&"tree"===t.table.internalProps.layoutMap.rowHierarchyType&&(h=r.targetIndex>r.sourceIndex?h+r.targetSize-1:h+r.sourceSize-1),!t.table.transpose&&t.table.internalProps.layoutMap.isSeriesNumberInBody(t.columnMove.colSource,t.columnMove.rowSource)&&(t.table.changeRecordOrder(r.sourceIndex,r.targetIndex),t.changeCheckboxAndRadioOrder(r.sourceIndex,r.targetIndex)),"column"===r.moveType?qi(s,l,0,-1,t.table):qi(0,-1,u,h,t.table),t.table.clearCellStyleCache(),t.table.internalProps.layoutMap.isSeriesNumberInBody(t.columnMove.colSource,t.columnMove.rowSource)?t.table.scenegraph.updateHeaderPosition(t.table.scenegraph.proxy.colStart,t.table.scenegraph.proxy.colEnd,t.table.scenegraph.proxy.rowStart,t.table.scenegraph.proxy.rowEnd,r.moveType):"column"===r.moveType?t.table.scenegraph.updateHeaderPosition(s,l,0,-1,r.moveType):t.table.scenegraph.updateHeaderPosition(0,-1,u,h,r.moveType),"adjustFrozenCount"===t.table.internalProps.frozenColDragHeaderMode&&t.table.isListTable()&&(t.table.isLeftFrozenColumn(t.columnMove.colTarget)&&!t.table.isLeftFrozenColumn(t.columnMove.colSource)?t.table.frozenColCount+=o.end.col-o.start.col+1:t.table.isLeftFrozenColumn(t.columnMove.colSource)&&!t.table.isLeftFrozenColumn(t.columnMove.colTarget)&&(t.table.frozenColCount-=o.end.col-o.start.col+1),t.table.isRightFrozenColumn(t.columnMove.colTarget)&&!t.table.isRightFrozenColumn(t.columnMove.colSource)?t.table.rightFrozenColCount+=o.end.col-o.start.col+1:t.table.isRightFrozenColumn(t.columnMove.colSource)&&!t.table.isRightFrozenColumn(t.columnMove.colTarget)&&(t.table.rightFrozenColCount-=o.end.col-o.start.col+1)),i=!0}}return t.columnMove.moving=!1,setTimeout((()=>{delete t.columnMove.colSource,delete t.columnMove.rowSource,delete t.columnMove.colTarget,delete t.columnMove.rowTarget}),0),t.table.scenegraph.component.hideMoveCol(),t.columnResize.col<t.table.frozenColCount&&!t.table.isPivotTable()&&!t.table.transpose?(t.table.scenegraph.component.setFrozenColumnShadow(t.table.frozenColCount-1,t.columnResize.isRightFrozen),t.table.scenegraph.component.setRightFrozenColumnShadow(t.table.colCount-t.table.rightFrozenColCount)):t.columnResize.col>=t.table.colCount-t.table.rightFrozenColCount&&!t.table.isPivotTable()&&!t.table.transpose?t.table.scenegraph.component.setRightFrozenColumnShadow(t.table.colCount-t.table.rightFrozenColCount):t.table.options.frozenColCount?t.table.scenegraph.component.setFrozenColumnShadow(t.table.frozenColCount-1):t.table.options.rightFrozenColCount&&t.table.scenegraph.component.setRightFrozenColumnShadow(t.table.colCount-t.table.rightFrozenColCount),t.table.scenegraph.updateNextFrame(),!0===(null===(n=t.table.options.customConfig)||void 0===n?void 0:n.notUpdateInColumnRowMove)||i}(this)}checkFrozen(){var t;let e=this.table.options.frozenColCount?this.table.options.frozenColCount:this.table.isPivotTable()||this.table.isListTable()&&this.table.internalProps.transpose?(null!==(t=this.table.rowHeaderLevelCount)&&void 0!==t?t:0)+this.table.internalProps.layoutMap.leftRowSeriesNumberColumnCount:0;if(e){e>this.table.colCount&&(e=this.table.colCount);const t=this.table._getMaxFrozenWidth();if(this.table.getColsWidth(0,e-1)>t)if(this.table.internalProps.unfreezeAllOnExceedsMaxWidth)this.table._setFrozenColCount(0),this.setFrozenCol(-1);else{const t=this.table._getComputedFrozenColCount(e);this.table._setFrozenColCount(t),this.setFrozenCol(t)}else this.table.frozenColCount!==e&&(this.table._setFrozenColCount(e),this.setFrozenCol(e))}}setFrozenCol(t){t!==this.frozen.col?(this.frozen.col=t,this.table.scenegraph.updateFrozen(),this.table.scenegraph.updateFrozenIcon(0,this.table.colCount-1)):this.table.scenegraph.updateFrozenIcon(0,this.table.colCount-1)}checkVerticalScrollBarEnd(){var t,e;const n=this.table.getAllRowsHeight(),i=this.scroll.verticalBarPos,r=this.table.tableNoFrameHeight;i+r>=n&&this.table.fireListeners(b.B.SCROLL_VERTICAL_END,{scrollTop:i,scrollLeft:this.scroll.horizontalBarPos,scrollHeight:null===(t=this.table.theme.scrollStyle)||void 0===t?void 0:t.width,scrollWidth:null===(e=this.table.theme.scrollStyle)||void 0===e?void 0:e.width,viewHeight:r,viewWidth:this.table.tableNoFrameWidth})}checkHorizontalScrollBarEnd(){var t,e;const n=this.table.getAllColsWidth(),i=this.scroll.horizontalBarPos,r=this.table.tableNoFrameWidth;i+r>=n&&this.table.fireListeners(b.B.SCROLL_HORIZONTAL_END,{scrollTop:this.scroll.verticalBarPos,scrollLeft:i,scrollHeight:null===(t=this.table.theme.scrollStyle)||void 0===t?void 0:t.width,scrollWidth:null===(e=this.table.theme.scrollStyle)||void 0===e?void 0:e.width,viewHeight:this.table.tableNoFrameHeight,viewWidth:r})}updateVerticalScrollBar(t){var e,n;const r=this.table.getAllRowsHeight(),o=this.scroll.verticalBarPos;this.scroll.verticalBarPos=Math.ceil(t*(r-this.table.scenegraph.height)),(0,i.Z)(this.scroll.verticalBarPos)&&!isNaN(this.scroll.verticalBarPos)||(this.scroll.verticalBarPos=0),this.table.scenegraph.setY(-this.scroll.verticalBarPos,1===t),this.scroll.verticalBarPos-=this.table.scenegraph.proxy.deltaY,this.table.scenegraph.proxy.deltaY=0,this.updateHoverPos(-1,-1),this.table.fireListeners(b.B.SCROLL,{event:void 0,scrollTop:this.scroll.verticalBarPos,scrollLeft:this.scroll.horizontalBarPos,scrollHeight:null===(e=this.table.theme.scrollStyle)||void 0===e?void 0:e.width,scrollWidth:null===(n=this.table.theme.scrollStyle)||void 0===n?void 0:n.width,viewHeight:this.table.tableNoFrameHeight,viewWidth:this.table.tableNoFrameWidth,scrollDirection:"vertical",scrollRatioY:t}),o!==this.scroll.verticalBarPos&&this.checkVerticalScrollBarEnd()}updateHorizontalScrollBar(t){var e,n;const r=this.table.getAllColsWidth(),o=this.scroll.horizontalBarPos;this.scroll.horizontalBarPos=Math.ceil(t*(r-this.table.scenegraph.width)),(0,i.Z)(this.scroll.horizontalBarPos)&&!isNaN(this.scroll.horizontalBarPos)||(this.scroll.horizontalBarPos=0),this.table.scenegraph.setX(-this.scroll.horizontalBarPos,1===t),this.scroll.horizontalBarPos-=this.table.scenegraph.proxy.deltaX,this.table.scenegraph.proxy.deltaX=0,this.updateHoverPos(-1,-1),this.table.fireListeners(b.B.SCROLL,{event:void 0,scrollTop:this.scroll.verticalBarPos,scrollLeft:this.scroll.horizontalBarPos,scrollHeight:null===(e=this.table.theme.scrollStyle)||void 0===e?void 0:e.width,scrollWidth:null===(n=this.table.theme.scrollStyle)||void 0===n?void 0:n.width,viewHeight:this.table.tableNoFrameHeight,viewWidth:this.table.tableNoFrameWidth,scrollDirection:"horizontal",scrollRatioX:t}),o!==this.scroll.horizontalBarPos&&this.checkHorizontalScrollBarEnd()}setScrollTop(t,e,n=!0){var r,o,a;const s=this.table.getAllRowsHeight(),l=(null===(r=this.table.options.customConfig)||void 0===r?void 0:r._disableColumnAndRowSizeRound)?1:0;t=Math.max(0,Math.min(t,s-this.table.scenegraph.height-l)),((t=Math.ceil(t))!==this.scroll.verticalBarPos||this.table.isPivotChart())&&this.updateHoverPos(-1,-1);const u=this.scroll.verticalBarPos;this.scroll.verticalBarPos=t,(0,i.Z)(this.scroll.verticalBarPos)&&!isNaN(this.scroll.verticalBarPos)||(this.scroll.verticalBarPos=0),this.table.scenegraph.setY(-t);const h=t/(s-this.table.scenegraph.height);this.table.scenegraph.component.updateVerticalScrollBarPos(h),u!==t&&n&&(this.table.fireListeners(b.B.SCROLL,{event:null==e?void 0:e.nativeEvent,scrollTop:this.scroll.verticalBarPos,scrollLeft:this.scroll.horizontalBarPos,scrollHeight:null===(o=this.table.theme.scrollStyle)||void 0===o?void 0:o.width,scrollWidth:null===(a=this.table.theme.scrollStyle)||void 0===a?void 0:a.width,viewHeight:this.table.tableNoFrameHeight,viewWidth:this.table.tableNoFrameWidth,scrollDirection:"vertical",scrollRatioY:h}),this.checkVerticalScrollBarEnd())}setScrollLeft(t,e,n=!0){var r,o,a;this.table.scrollLeft;const s=this.table.getAllColsWidth(),l=(this.table.getFrozenColsWidth(),(null===(r=this.table.options.customConfig)||void 0===r?void 0:r._disableColumnAndRowSizeRound)?1:0);t=Math.max(0,Math.min(t,s-this.table.scenegraph.width-l)),(t=Math.ceil(t))!==this.scroll.horizontalBarPos&&this.updateHoverPos(-1,-1);const u=this.scroll.horizontalBarPos;this.scroll.horizontalBarPos=t,(0,i.Z)(this.scroll.horizontalBarPos)&&!isNaN(this.scroll.horizontalBarPos)||(this.scroll.horizontalBarPos=0),this.table.scenegraph.setX(-t);const h=t/(s-this.table.scenegraph.width);this.table.scenegraph.component.updateHorizontalScrollBarPos(h),u!==t&&n&&(this.table.fireListeners(b.B.SCROLL,{event:null==e?void 0:e.nativeEvent,scrollTop:this.scroll.verticalBarPos,scrollLeft:this.scroll.horizontalBarPos,scrollHeight:null===(o=this.table.theme.scrollStyle)||void 0===o?void 0:o.width,scrollWidth:null===(a=this.table.theme.scrollStyle)||void 0===a?void 0:a.width,viewHeight:this.table.tableNoFrameHeight,viewWidth:this.table.tableNoFrameWidth,scrollDirection:"horizontal",scrollRatioX:h}),this.checkHorizontalScrollBarEnd())}hideVerticalScrollBar(){this.table.scenegraph.component.hideVerticalScrollBar()}showVerticalScrollBar(t){this.table.scenegraph.component.showVerticalScrollBar(),t&&(clearTimeout(this._clearVerticalScrollBar),this._clearVerticalScrollBar=setTimeout((()=>{var t;null===(t=this.table.scenegraph)||void 0===t||t.component.hideVerticalScrollBar()}),1e3))}hideHorizontalScrollBar(){this.table.scenegraph.component.hideHorizontalScrollBar()}showHorizontalScrollBar(t){this.table.scenegraph.component.showHorizontalScrollBar(),t&&(clearTimeout(this._clearHorizontalScrollBar),this._clearHorizontalScrollBar=setTimeout((()=>{var t;null===(t=this.table.scenegraph)||void 0===t||t.component.hideHorizontalScrollBar()}),1e3))}triggerContextMenu(t,e,n,i){this.menu.isShow&&this.menu.x===n&&this.menu.y===i?this.hideMenu():this.showContextMenu(t,e,n,i)}showContextMenu(t,e,n,i){var r;(null===(r=this.table.internalProps.menu)||void 0===r?void 0:r.contextMenuItems)&&("html"===this.table.internalProps.menu.renderMode?this.menu.isShow=!0:(this.menu.isShow=!0,this.menu.x=n,this.menu.y=i,this.table.scenegraph.component.menu.attach(n,i,t,e,Nt.contextmenu)),this.table.fireListeners(b.B.SHOW_MENU,{x:n,y:i,col:t,row:e,type:"contextmenu"}))}triggerDropDownMenu(t,e,n,i,r){this.table.fireListeners(b.B.DROPDOWN_ICON_CLICK,{col:t,row:e,event:r}),this.menu.isShow?this.hideMenu():this.showDropDownMenu(t,e,n,i)}showDropDownMenu(t,e,n,i){"html"===this.table.internalProps.menu.renderMode?this.menu.isShow=!0:(this.menu.isShow=!0,this.table.scenegraph.component.menu.attach(n,i,t,e,Nt.dropDown),this.menu.bounds=this.table.scenegraph.component.menu.bounds),this.table.fireListeners(b.B.SHOW_MENU,{x:n,y:i,col:t,row:e,type:"dropDown"}),this.residentHoverIcon&&this.table.scenegraph.setIconNormalStyle(this.residentHoverIcon.icon,this.residentHoverIcon.col,this.residentHoverIcon.row);const r=this.table.scenegraph.getCell(t,e);let o;r.forEachChildren((t=>t.attribute.funcType===mt.cI.dropDown&&(o=t,!0))),o&&(this.residentHoverIcon={col:t,row:e,icon:o},this.table.scenegraph.setIconHoverStyle(this.residentHoverIcon.icon,this.residentHoverIcon.col,this.residentHoverIcon.row,r),this.table.scenegraph.residentHoverIcon(t,e))}hideMenu(){this.menu.isShow&&(this.table.fireListeners(b.B.DROPDOWN_MENU_CLEAR,null),this.table.fireListeners(b.B.HIDE_MENU,null),this.menu.isShow=!1,this.table.scenegraph.component.menu.detach(),this.residentHoverIcon&&(this.table.scenegraph.setIconNormalStyle(this.residentHoverIcon.icon,this.residentHoverIcon.col,this.residentHoverIcon.row),this.table.scenegraph.resetResidentHoverIcon(this.residentHoverIcon.col,this.residentHoverIcon.row),this.residentHoverIcon=null))}setDropDownMenuHighlight(t){this.menu.dropDownMenuHighlight=t;for(let e=0;e<t.length;e++){const{col:n,row:i}=t[e],r=this.table.getCellRange(n,i);if(r)for(let t=r.start.col;t<=r.end.col;t++)for(let e=r.start.row;e<=r.end.row;e++)this.table.scenegraph.updateCellContent(t,e)}}dropDownMenuIsHighlight(t,e,n){const r=this.menu.dropDownMenuHighlight;if(Array.isArray(r))for(let o=0;o<r.length;o++){const a=r[o];let{col:s,row:l}=a;const{field:u,menuKey:h}=a;if("number"!=typeof s||"number"!=typeof l)if(this.table.isPivotTable()&&(Array.isArray(u),1)){const t=this.table.internalProps.layoutMap.getPivotCellAdress(u);if(!t)continue;s=t.col,l=t.row}else{const t=this.table.internalProps.layoutMap.getHeaderCellAddressByField(u);if(!t)continue;s=t.col,l=t.row}if((0,i.Z)(s)&&(0,i.Z)(l)&&this.table.isCellRangeEqual(t,e,s,l)){const i=this.table._getHeaderLayoutMap(null!=s?s:t,null!=l?l:e).dropDownMenu||this.table.globalDropDownMenu;if(i)for(let t=0;t<i.length;t++){const e=i[t];if((0,Yi.Z)(e)&&(e.menuKey||e.text)===(h||"")&&t===n)return!0;if((0,k.Z)(e)&&e===h&&t===n)return!0}}}return!1}triggerSort(t,e,n,i){if(this.table.isPivotTable()){const n=this.table.getPivotSortState(t,e),r=n?n.toUpperCase():"NORMAL",o="ASC"===r?"DESC":"DESC"===r?"NORMAL":"ASC";return this.table.sort(t,e,o),void this.table.fireListeners(Xi.z.PIVOT_SORT_CLICK,{col:t,row:e,order:r||"normal",dimensionInfo:this.table.internalProps.layoutMap.getPivotDimensionInfo(t,e),cellLocation:this.table.getCellLocation(t,e),event:i})}const r=[...this.sort],o=this.table.internalProps.multipleSort||!r.length?null:this.sort[this.sort.length-1];Ki(t,e,this.table,i);const a=this.table.getCellRange(t,e),s=this.sort.find((t=>t.col===a.start.col&&t.row===a.start.row)),l=this.table.internalProps.multipleSort||!o?null:o.col,u=this.table.internalProps.multipleSort||!o?null:o.row,h=r.findIndex((n=>n.col===t&&n.row===e));h>=0&&r.splice(h,1),this.table.scenegraph.updateSortIcon({col:t,row:e,iconMark:n,order:null==s?void 0:s.order,oldSortCol:l,oldSortRow:u,oldIconMark:null==o?void 0:o.icon}),s&&(s.icon=n),this.table.internalProps.multipleSort||r.forEach((t=>{this.table.scenegraph.updateSortIcon({col:null,row:null,iconMark:null,order:"normal",oldSortCol:t.col,oldSortRow:t.row,oldIconMark:null})})),this.table.fireListeners(Xi.z.AFTER_SORT,{order:null==s?void 0:s.order,field:this.table.getHeaderField(t,e),event:i})}updateSortState(t){var e,n,i,r,o,a,s,l;t=Array.isArray(t)?t:[t];for(let l=0;l<t.length;l++){if(t[l].field===(null===(e=this.sort[l])||void 0===e?void 0:e.field)&&t[t.length-1].order===(null===(n=this.sort[l])||void 0===n?void 0:n.order))return;const u=this.table.internalProps.multipleSort?null:(null===(i=this.sort[l])||void 0===i?void 0:i.col)||null,h=this.table.internalProps.multipleSort?null:(null===(r=this.sort[l])||void 0===r?void 0:r.row)||null;"asc"===(null===(o=this.sort[l])||void 0===o?void 0:o.order)||null===(a=this.sort[l])||void 0===a||a.order,this.setSortState(t.slice(0,l+1));const c=this.table.internalProps.layoutMap.getHeaderCellAddressByField(t[l].field);this.sort[l].col=c.col,this.sort[l].row=c.row;const d=this.table.scenegraph.getCell(this.sort[l].col,this.sort[l].row);let f;(0,C.yW)(d,"children",(t=>"sort"===t.attribute.funcType&&(f=t,!0))),this.table.scenegraph.updateSortIcon({col:this.sort[l].col,row:this.sort[l].row,iconMark:f,order:this.sort[l].order,oldSortCol:u,oldSortRow:h,oldIconMark:null===(s=this.sort[l])||void 0===s?void 0:s.icon})}const u=[];this.table.internalProps.layoutMap.columnTree.tree.children.forEach((e=>{t.some((t=>t.field===e.field))||u.push(e)}));for(let t=0;t<u.length;t++){const e=u[t];this.table.scenegraph.updateSortIcon({col:null,row:null,iconMark:null,order:null,oldSortCol:null!==(l=e.startInTotal+this.table.internalProps.layoutMap.leftRowSeriesNumberColumnCount)&&void 0!==l?l:0,oldSortRow:e.level,oldIconMark:null})}}triggerFreeze(t,e,n){if(!this.table.isPivotTable()&&!this.table.transpose){if(function(t,e,n){n.frozenColCount>0?t!==n.frozenColCount-1?n.setFrozenColCount(t+1):n.setFrozenColCount(0):n.setFrozenColCount(t+1)}(t,0,this.table),this.table.hasListeners(Xi.z.FREEZE_CLICK)){const n=this.table.internalProps.layoutMap.columnObjects.slice(0,t+1);this.table.fireListeners(Xi.z.FREEZE_CLICK,{col:t,row:e,fields:n.reduce(((t,e)=>t.concat(e.field)),[]),colCount:this.table.frozenColCount})}this.frozen.icon=n}}updateCursor(t="default"){this.table.getElement().style.cursor=t}updateDrillState(t,e,n,i,r,o){this.drill.dimensionKey=t,this.drill.title=e,this.drill.drillDown=n,this.drill.drillUp=i,this.drill.col=r,this.drill.row=o,function(t,e,n,i,r){const o=r.getCellLocation(t,e);let a=0,s=0,l=!1;"columnHeader"===o?(a=r.getColsWidth(0,r.rowHeaderLevelCount-1)-(0===r.frozenColCount?r.scrollLeft:0),s=r.getRowsHeight(0,e-1)+r.getRowHeight(e)/2,l=!0):"rowHeader"===o&&(s=r.getRowsHeight(0,r.columnHeaderLevelCount-1),a=r.getColsWidth(0,t-1)+r.getColWidth(t)/2,l=!0),r.scenegraph.updateDrill(l,a,s,n,i)}(r,o,n,i,this.table)}updateSparklineHoverPose(t,e,n,i){-1!==this.sparkLine.col&&-1!==this.sparkLine.row&&function(t,e,n){const i=n.scenegraph.getCell(t,e).getChildByName("sparkline"),r=null==i?void 0:i.getChildByName("highlight-line"),o=null==i?void 0:i.getChildByName("highlight-symbol");r&&r.setAttributes({visible:!1,pickable:!1}),o&&o.setAttributes({visible:!1,pickable:!1}),n.scenegraph.updateNextFrame()}(this.sparkLine.col,this.sparkLine.row,this.table);let r=!1;-1!==t&&-1!==e&&(r=function(t,e,n,i,r){var o,a;const s=r.scenegraph.getCell(t,e).getChildByName("sparkline"),l=null==s?void 0:s.getChildByName("sparkline-line"),u=null==s?void 0:s.getChildByName("sparkline-symbol-group");if(!l)return!1;const h=l.bandwidth,c=l.min,d=l.max,f=l.attribute.points;let p;n-=s.globalAABBBounds.x1,s.globalAABBBounds.y1;for(let t=0;t<f.length;t++){const{x:e,y:i,defined:r,rawData:g}=f[t];if(Math.abs(n-e)<h/2&&(p={point:f[t],points:f,pointsBandWidth:h,pointData:g},r)){const t=s.getChildByName("highlight-line");if(t)t.setAttributes({points:[{x:e,y:d},{x:e,y:c}],visible:!0,pickable:!0});else{const t=(0,zt.W)({points:[{x:e,y:d},{x:e,y:c}],lineWidth:null===(o=l.hover)||void 0===o?void 0:o.strokeWidth,stroke:null===(a=l.hover)||void 0===a?void 0:a.stroke});t.name="highlight-line",s.addChild(t)}const n=s.getChildByName("highlight-symbol");if(n)n.setAttributes({x:e,y:i,visible:!0,pickable:!0});else{const t=(0,ue.t)({x:e,y:i,stroke:u.hover.stroke,lineWidth:u.hover.strokeWidth,fill:u.hover.fill,size:2*u.hover.size,symbolType:"circle"});t.name="highlight-symbol",s.addChild(t)}break}}if(r.scenegraph.updateNextFrame(),p){const n={col:t,row:e,field:r.getHeaderField(t,e),value:r.getCellValue(t,e),dataValue:r.getCellOriginValue(t,e),cellHeaderPaths:r.internalProps.layoutMap.getCellHeaderPaths(t,e),title:r.getBodyColumnDefine(t,e).title,cellRange:r.getCellRelativeRect(t,e),sparkline:{pointData:p.pointData},scaleRatio:r.canvas.getBoundingClientRect().width/r.canvas.offsetWidth};r.fireListeners(b.B.MOUSEOVER_CHART_SYMBOL,n)}return!0}(t,e,n,0,this.table)),r?(this.sparkLine.col=t,this.sparkLine.row=e):(this.sparkLine.col=-1,this.sparkLine.row=-1)}setCheckedState(t,e,n,i){return(0,nr.Y)(t,e,n,i,this)}setHeaderCheckedState(t,e){return(0,nr.Vz)(t,e,this)}syncCheckedState(t,e,n,i){return(0,nr.GW)(t,e,n,i,this)}initCheckedState(t){return(0,nr.gs)(t,this)}updateHeaderCheckedState(t,e,n){return(0,nr.Pi)(t,this,e,n)}initLeftRecordsCheckState(t){return(0,nr.Bd)(t,this)}setRadioState(t,e,n,i,r){(0,er.Oq)(t,e,n,i,r,this)}syncRadioState(t,e,n,i,r,o){return(0,er.fM)(t,e,n,i,r,o,this)}changeCheckboxAndRadioOrder(t,e){this.checkedState.size&&(0,nr.hR)(t,e,this),this.radioState.length&&(0,er.tO)(t,e,this)}setCustomSelectRanges(t){(function(t){const{customSelectedRangeComponents:e}=t.table.scenegraph;e.forEach(((t,e)=>{t.rect.delete()})),e.clear(),t.select.customSelectRanges=[]})(this),function(t,e){const{customSelectedRangeComponents:n}=e.table.scenegraph;t.forEach((t=>{var e,i,r,o;const{range:a,style:s}=t,l=(0,jt.f)({fill:null!==(e=s.cellBgColor)&&void 0!==e&&e,stroke:null!==(i=s.cellBorderColor)&&void 0!==i&&i,lineWidth:null!==(r=s.cellBorderLineWidth)&&void 0!==r?r:0,lineDash:null!==(o=s.cellBorderLineDash)&&void 0!==o?o:[],pickable:!1});n.set(`${a.start.col}-${a.start.row}-${a.end.col}-${a.end.row}`,{rect:l,role:"body"})})),e.select.customSelectRanges=t,ri(e.table.scenegraph),e.table.scenegraph.updateNextFrame()}(t,this)}}var or=n(12255),ar=n(31479),sr=n(97176);function lr(t){if(t.eventManager.bindSparklineHoverEvent)return;let e=!1;e=t.isPivotTable()?t.internalProps.layoutMap.indicatorsDefine.some((t=>"string"!=typeof t&&"sparkline"===t.cellType)):t.internalProps.layoutMap.columnObjects.some((t=>"sparkline"===t.cellType||"function"==typeof t.cellType)),e&&(t.eventManager.bindSparklineHoverEvent=!0,t.on(b.B.MOUSEMOVE_CELL,(e=>{const{col:n,row:i,x:r,y:o}=e;"sparkline"!==t.getBodyColumnType(n,i)&&t.stateManager.updateSparklineHoverPose(-1,-1,0,0),t.stateManager.updateSparklineHoverPose(n,i,r,o)})),t.on(b.B.MOUSELEAVE_TABLE,(e=>{t.stateManager.updateSparklineHoverPose(-1,-1,0,0)})))}const ur=(t,e)=>{const n=e.x-t.x,i=e.y-t.y;return Math.abs(n)>Math.abs(i)?n>0?"right":"left":i>0?"down":"up"},hr=(t,e)=>{const n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)};class cr extends(D()){constructor(t,e={}){var n,i,r,o,a,s,l,u,h,c;super(),this.cachedEvents=[],this.startPoints=[],this.processEvent={},this.throttleTimer=0,this.emitThrottles=[],this.lastTapTarget=null,this.onStart=t=>{this.cachedEvents=[],this.startPoints=[],this.reset(),this.startTime=W.now();const{cachedEvents:e,startPoints:n}=this;t&&e.push(t.clone()),n.length=e.length;for(let t=0;t<e.length;t++){const{x:i,y:r}=e[t],o={x:i,y:r};n[t]=o}if(1!==n.length)this.startDistance=hr(n[0],n[1]),this.center=(t=>{const e=t.length;if(1===e)return{x:Math.round(t[0].x),y:Math.round(t[0].y)};let n=0,i=0,r=0;for(;r<e;)n+=t[r].x,i+=t[r].y,r++;return{x:Math.round(n/e),y:Math.round(i/e)}})([n[0],n[1]]);else{const t=e[0];this.pressTimeout=setTimeout((()=>{t.direction="none",t.deltaX=0,t.deltaY=0,t.points=n,this.triggerStartEvent("press",t),this.triggerEvent("press",t),this.eventType="press",this.direction="none",this.pressTimeout=null}),this.config.press.time)}},this.onMove=t=>{this.clearPressTimeout();const{startPoints:e,cachedEvents:n}=this;if(!e.length)return;const i=t.clone(),{x:r,y:o,pointerId:a}=i;for(let t=0,e=n.length;t<e;t++)if(a===n[t].pointerId){n[t]=i;break}const s={x:r,y:o},l=n.map((t=>({x:t.x,y:t.y}))),u=W.now();if(this.prevMoveTime=this.lastMoveTime,this.prevMovePoint=this.lastMovePoint,this.lastMoveTime=u,this.lastMovePoint=s,1===e.length){const t=e[0],n=r-t.x,a=o-t.y,u=this.direction||ur(t,s);this.direction=u;const h=this.getEventType(s);return i.direction=u,i.deltaX=n,i.deltaY=a,i.points=l,this.triggerStartEvent(h,i),void this.triggerEvent(h,i)}const{startDistance:h}=this,c=hr(l[0],l[1]);i.scale=c/h,i.center=this.center,i.points=l,this.triggerStartEvent("pinch",i),this.triggerEvent("pinch",i)},this.onEnd=t=>{const e=t.clone(),{cachedEvents:n,startPoints:i}=this,r=n.map((t=>({x:t.x,y:t.y})));if(e.points=r,this.triggerEndEvent(e),1===n.length){const n=W.now(),r=this.lastMoveTime;if(n-r<100){const t=r-(this.prevMoveTime||this.startTime);if(t>0){const n=this.prevMovePoint||i[0],r=this.lastMovePoint||i[0],o=hr(n,r),a=o/t;if(a>this.config.swipe.velocity&&o>this.config.swipe.threshold)return e.velocity=a,e.direction=ur(n,r),this.triggerEvent("swipe",e),this.cachedEvents=[],this.startPoints=[],void this.reset()}}n-this.startTime<this.config.press.time&&(n-this.lastTapTime<this.config.tap.interval&&t.target===this.lastTapTarget?this.tapCount++:this.tapCount=1,this.lastTapTime=n,this.lastTapTarget=t.target,1===this.tapCount?this.triggerEvent("tap",e):2===this.tapCount&&(this.triggerEvent("doubletap",e),this.tapCount=0))}for(let t=0,r=n.length;t<r;t++)if(n[t].pointerId===e.pointerId){n.splice(t,1),i.splice(t,1);break}this.reset(),n.length>0&&this.onStart()},this.element=t,this.tapCount=0,this.lastTapTime=0,this.config={press:{time:null!==(i=null===(n=null==e?void 0:e.press)||void 0===n?void 0:n.time)&&void 0!==i?i:251,threshold:null!==(o=null===(r=null==e?void 0:e.press)||void 0===r?void 0:r.threshold)&&void 0!==o?o:9},swipe:{threshold:null!==(s=null===(a=null==e?void 0:e.swipe)||void 0===a?void 0:a.threshold)&&void 0!==s?s:10,velocity:null!==(u=null===(l=null==e?void 0:e.swipe)||void 0===l?void 0:l.velocity)&&void 0!==u?u:.3},tap:{interval:null!==(c=null===(h=null==e?void 0:e.tap)||void 0===h?void 0:h.interval)&&void 0!==c?c:300}},this.initEvents()}initEvents(){const{element:t}=this;t&&(t.addEventListener("pointerdown",this.onStart),t.addEventListener("pointermove",this.onMove),t.addEventListener("pointerup",this.onEnd),t.addEventListener("pointerupoutside",this.onEnd))}removeEvents(){const{element:t}=this;t&&(t.removeEventListener("pointerdown",this.onStart),t.removeEventListener("pointermove",this.onMove),t.removeEventListener("pointerup",this.onEnd),t.removeEventListener("pointerupoutside",this.onEnd))}release(){this.removeEvents(),this.element=null}getEventType(t){const{eventType:e,startTime:n,startPoints:i}=this;if("press"===e)return e;let r;return r=W.now()-n>this.config.press.time&&hr(i[0],t)<this.config.press.threshold?"press":"pan",this.eventType=r,r}enable(t){this.processEvent[t]=!0}isProcess(t){return this.processEvent[t]}pushEvent(t,e){const{emitThrottles:n}=this,i={type:t,ev:e};for(let e=0,r=n.length;e<r;e++)if(n[e].type===t)return void n.splice(e,1,i);n.push(i)}clearPressTimeout(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}reset(){this.clearPressTimeout(),this.startTime=0,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoint=null,this.lastMoveTime=0,this.lastMovePoint=null}triggerEvent(t,e){this.pushEvent(t,e);const{throttleTimer:n,emitThrottles:i}=this;n||(this.throttleTimer=J.w.global.getRequestAnimationFrame()((()=>{J.w.global.getCancelAnimationFrame()(this.throttleTimer),this.throttleTimer=null;for(let t=0,e=i.length;t<e;t++){const{type:e,ev:n}=i[t];this.emitEvent(e,n)}this.emitThrottles.length=0})))}triggerStartEvent(t,e){this.isProcess(t)||(this.enable(t),this.triggerEvent(`${t}start`,e))}triggerEndEvent(t){const e=this.processEvent;Object.keys(e).forEach((n=>{this.triggerEvent(`${n}end`,t),"press"===n&&this.triggerEvent(`${n}up`,t),delete e[n]}))}emitEvent(t,e){if(!this.element)return;const n=this.element._events["*"];if(n)if("fn"in n)n.fn.call(n.context,e,t);else for(let i=0,r=n.length;i<r&&!e.propagationImmediatelyStopped;i++)n[i].fn.call(n[i].context,e,t);this.emit(t,e)}}function dr(t,e,n=!0){var i;let{deltaX:r,deltaY:o}=t;t.shiftKey&&t.deltaY&&(r=o,o=0);const[a,s]=function(t,e,n){var i,r;const o=Math.abs(t/e),a=o<=.5?0:t,s=o>2?0:e;return[Math.ceil(a*(null!==(i=n.horizontal)&&void 0!==i?i:0)),Math.ceil(s*(null!==(r=n.vertical)&&void 0!==r?r:0))]}(r,o,{horizontal:1,vertical:1});(a||s)&&e.interactionState!==v.F.scrolling&&e.updateInteractionState(v.F.scrolling),a&&(e.setScrollLeft(e.scroll.horizontalBarPos+a,t),e.showHorizontalScrollBar(!0)),s&&(e.setScrollTop(e.scroll.verticalBarPos+s,t),e.showVerticalScrollBar(!0)),n&&e.resetInteractionState(e.interactionStateBeforeScroll),(null===(i=t.nativeEvent)||void 0===i?void 0:i.cancelable)&&("none"===e.table.internalProps.overscrollBehavior||Math.abs(o)>=Math.abs(r)&&0!==o&&fr(o,e)||Math.abs(o)<=Math.abs(r)&&0!==r&&pr(r,e))&&t.nativeEvent.preventDefault()}function fr(t,e){return 0!=e.table.getAllRowsHeight()-e.table.scenegraph.height&&!function(t,e){return 0!=e.table.getAllRowsHeight()-e.table.scenegraph.height&&t<=0&&e.scroll.verticalBarPos<1}(t,e)&&!function(t,e){var n;const i=(null===(n=e.table.options.customConfig)||void 0===n?void 0:n._disableColumnAndRowSizeRound)?1:0,r=e.table.getAllRowsHeight()-e.table.scenegraph.height;return 0!==r&&t>=0&&Math.abs(e.scroll.verticalBarPos-r)<1+i}(t,e)}function pr(t,e){return 0!=e.table.getAllColsWidth()-e.table.scenegraph.width&&!function(t,e){return 0!=e.table.getAllColsWidth()-e.table.scenegraph.width&&t<=0&&e.scroll.horizontalBarPos<1}(t,e)&&!function(t,e){var n;const i=(null===(n=e.table.options.customConfig)||void 0===n?void 0:n._disableColumnAndRowSizeRound)?1:0,r=e.table.getAllColsWidth()-e.table.scenegraph.width;return 0!==r&&t>=0&&Math.abs(e.scroll.horizontalBarPos-r)<1+i}(t,e)}class gr{constructor(t){this.stateManager=t}setScrollHandle(t){this.scrollHandle=t}startInertia(t,e,n){this.lastTime=Date.now(),this.speedX=t,this.speedY=e,this.friction=n,this.runingId||(this.runingId=requestAnimationFrame(this.inertia.bind(this)))}inertia(){var t;const e=Date.now(),n=e-this.lastTime;let i=!0;const r=Math.pow(this.friction,n/16),o=r*this.speedX,a=r*this.speedY;let s=0,l=0;Math.abs(o)>.05&&(i=!1,s=(this.speedX+o)/2*n),Math.abs(a)>.05&&(i=!1,l=(this.speedY+a)/2*n),null===(t=this.scrollHandle)||void 0===t||t.call(this,s,l),i?this.runingId=null:(this.lastTime=e,this.speedX=o,this.speedY=a,this.runingId=requestAnimationFrame(this.inertia.bind(this)))}endInertia(){cancelAnimationFrame(this.runingId),this.runingId=null}isInertiaScrolling(){return!!this.runingId}}function mr(t,e,n){var i,r,o,a;e&&-1!==(null===(i=t.stateManager.columnMove)||void 0===i?void 0:i.colSource)&&-1!==(null===(r=t.stateManager.columnMove)||void 0===r?void 0:r.rowSource)&&-1!==(null===(o=t.stateManager.columnMove)||void 0===o?void 0:o.colTarget)&&-1!==(null===(a=t.stateManager.columnMove)||void 0===a?void 0:a.rowTarget)?t.hasListeners(b.B.CHANGE_HEADER_POSITION)&&t.fireListeners(b.B.CHANGE_HEADER_POSITION,{target:{col:t.stateManager.columnMove.colTarget,row:t.stateManager.columnMove.rowTarget},source:{col:t.stateManager.columnMove.colSource,row:t.stateManager.columnMove.rowSource},event:n}):e||t.hasListeners(b.B.CHANGE_HEADER_POSITION_FAIL)&&t.fireListeners(b.B.CHANGE_HEADER_POSITION_FAIL,{target:{col:t.stateManager.columnMove.colTarget,row:t.stateManager.columnMove.rowTarget},source:{col:t.stateManager.columnMove.colSource,row:t.stateManager.columnMove.rowSource},event:n})}function vr(t){const e=t.table;t.gesture=new cr(e.scenegraph.tableGroup,{tap:{interval:300}}),t.gesture.on("doubletap",(t=>{!function(t,e){var n,i,r,o,a,s;const l=(0,yi.RJ)(t);let u=-1,h=-1;l.eventArgs&&(u=l.eventArgs.col,h=l.eventArgs.row);const c=e.getCellValue(u,h),d=null===(i=null===(n=l.eventArgs)||void 0===n?void 0:n.targetCell)||void 0===i?void 0:i.globalAABBBounds;if(d&&e.internalProps.focusControl.setFocusRect(new _.U(d.x1+e.scrollLeft,d.y1+e.scrollTop,d.x2-d.x1,d.y2-d.y1),c),e.hasListeners(b.B.DBLCLICK_CELL)){const n=e.getCellInfo(u,h);let i,c;if(null===(r=l.eventArgs)||void 0===r?void 0:r.target){const t=Ji(null===(o=l.eventArgs)||void 0===o?void 0:o.target);t&&(i=t.icon,c=t.position)}const d=Object.assign(Object.assign({},n),{event:t.nativeEvent,federatedEvent:t,cells:[],targetIcon:i?{name:i.name,position:c,funcType:i.attribute.funcType}:void 0,target:null===(a=null==l?void 0:l.eventArgs)||void 0===a?void 0:a.target,mergeCellInfo:null===(s=null==l?void 0:l.eventArgs)||void 0===s?void 0:s.mergeInfo});e.fireListeners(b.B.DBLCLICK_CELL,d)}}(t,e)}))}function yr(t){t.stateManager.endResizeCol();const e=[];for(let n=0;n<t.colCount;n++)e.push(t.getColWidth(n));t.fireListeners(b.B.RESIZE_COLUMN_END,{col:t.stateManager.columnResize.col,colWidths:e})}function br(t){t.stateManager.endResizeRow(),t.fireListeners(b.B.RESIZE_ROW_END,{row:t.stateManager.rowResize.row,rowHeight:t.getRowHeight(t.stateManager.rowResize.row)})}let wr=1;function xr(){return y.UG?wr=1:(wr=Math.ceil(window.devicePixelRatio||1),wr>1&&wr%2!=0&&(wr+=1)),wr}xr();var _r=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};function Cr(t){return!!t.changedTouches}function Sr(t,e,n){if(n.indicatorsAsCol){if(n.hasTwoIndicatorAxes&&e===n.columnHeaderLevelCount-1&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount)return"top";if(e===n.rowCount-n.bottomFrozenRowCount&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount)return"bottom";if(t===n.rowHeaderLevelCount-1&&e>=n.rowHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount)return"left"}else{if(t===n.rowHeaderLevelCount-1&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount)return"left";if(t===n.colCount-n.rightFrozenColCount&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount)return"right";if(e===n.rowCount-n.bottomFrozenRowCount&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount)return"bottom"}return"bottom"}function Mr(t,e,n,i,r){var o;let a=e+1;for(;(0,vt.Z)(i[a])&&(null===(o=i[a])||void 0===o?void 0:o.length)>n.length;){const e=r.columnHeaderLevelCount+a;r.stateManager.setCheckedState(0,e,"_vtable_rowSeries_number",t),(0,nr.r5)(0,e,t,r),a++}}function Ar(t,e,n,i){var r;let o=e.length-1;if(o>0){let e=t-1;for(;o>0&&e>=0;)((0,vt.Z)(n[e])&&(null===(r=n[e])||void 0===r?void 0:r.length)===o||1===o&&(0,Mt.Z)(n[e]))&&(Tr(0,i.columnHeaderLevelCount+e,n[e],i),o--),e--}}function Tr(t,e,n,i){const{checkedState:r}=i.stateManager,o=n.toString(),a=(0,vt.Z)(n)?n.length:1;let s=!1;const l=[];if(r.forEach(((t,e)=>{s&&(e.split(",").length===a?s=!1:l.push(t._vtable_rowSeries_number)),e===o&&(s=!0)})),0===l.length)return;const u=l.every((t=>!!t)),h=l.every((t=>!t));u?(i.stateManager.setCheckedState(t,e,"_vtable_rowSeries_number",!0),(0,nr.r5)(t,e,!0,i)):h?(i.stateManager.setCheckedState(t,e,"_vtable_rowSeries_number",!1),(0,nr.r5)(t,e,!1,i)):(i.stateManager.setCheckedState(t,e,"_vtable_rowSeries_number","indeterminate"),(0,nr.r5)(t,e,"indeterminate",i))}function kr(t,e,n){const{checkedState:i}=n.stateManager,r=e.toString(),o=(0,vt.Z)(e)?e.length:1;let a=!1;i.forEach(((e,n)=>{a&&(n.split(",").length===o?a=!1:e._vtable_rowSeries_number=t),n===r&&(a=!0)}))}class Rr{constructor(t){this.isDown=!1,this.isDraging=!1,this.globalEventListeners=[],this._enableTableScroll=!0,this.table=t,this.handleTextStickBindId=[],this.inertiaScroll=new gr(t.stateManager),"node"===p.X.mode||t.options.disableInteraction||(this.bindOuterEvent(),setTimeout((()=>{this.bindSelfEvent()}),0))}bindOuterEvent(){(function(t){const e=t.table,n=e.stateManager;e.scenegraph.tableGroup.addEventListener("pointermove",(r=>{var o,a,s,l,u,h,c,d,f,p,g,m,y,w,x,_,C,S,M;const A=null!==(a=null===(o=e.eventManager.LastPointerXY)||void 0===o?void 0:o.x)&&void 0!==a?a:r.x,T=null!==(l=null===(s=e.eventManager.LastPointerXY)||void 0===s?void 0:s.y)&&void 0!==l?l:r.y;e.eventManager.LastPointerXY={x:r.x,y:r.y},t.touchSetTimeout&&(clearTimeout(t.touchSetTimeout),t.touchSetTimeout=void 0);const k=(0,yi.RJ)(r);if(k.eventArgs&&e.hasListeners(b.B.MOUSEMOVE_TABLE)&&e.fireListeners(b.B.MOUSEMOVE_TABLE,{col:k.eventArgs.col,row:k.eventArgs.row,x:k.abstractPos.x,y:k.abstractPos.y,event:r.nativeEvent,target:null===(u=null==k?void 0:k.eventArgs)||void 0===u?void 0:u.target,mergeCellInfo:null===(h=k.eventArgs)||void 0===h?void 0:h.mergeInfo}),n.interactionState===v.F.grabing&&!(null===(c=e.editorManager)||void 0===c?void 0:c.editingEditor))return void(Math.abs(A-r.x)+Math.abs(T-r.y)>=1&&(n.isResizeCol()||n.isResizeRow()||(n.isMoveCol()?t.dealColumnMover(k):n.isFillHandle()?t.dealFillSelect(k,!0):(null===(d=e.options.select)||void 0===d?void 0:d.disableDragSelect)||t.dealTableSelect(k,!0))));!(null===(f=e.options.select)||void 0===f?void 0:f.disableDragSelect)&&e.eventManager.isDraging&&n.isSelecting()&&!(null===(p=e.editorManager)||void 0===p?void 0:p.editingEditor)&&t.dealTableSelect(k,!0);const R=r.path.find((t=>"cell"===t.role));if(e.hasListeners(b.B.MOUSELEAVE_CELL)&&(-1===e.stateManager.hover.cellPos.col||-1===e.stateManager.hover.cellPos.row||(null==R?void 0:R.col)===e.stateManager.hover.cellPos.col&&(null==R?void 0:R.row)===e.stateManager.hover.cellPos.row||e.fireListeners(b.B.MOUSELEAVE_CELL,{col:e.stateManager.hover.cellPos.col,row:e.stateManager.hover.cellPos.row,cellRange:e.getCellRangeRelativeRect({col:e.stateManager.hover.cellPos.col,row:e.stateManager.hover.cellPos.row}),scaleRatio:e.canvas.getBoundingClientRect().width/e.canvas.offsetWidth,event:r.nativeEvent,target:null===(g=null==k?void 0:k.eventArgs)||void 0===g?void 0:g.target})),e.hasListeners(b.B.MOUSEENTER_CELL)&&("cell"!==(null==R?void 0:R.role)||!(0,i.Z)(R.col)||!(0,i.Z)(R.row)||R.col===e.stateManager.hover.cellPos.col&&R.row===e.stateManager.hover.cellPos.row||R.col===(null===(m=e.stateManager.hover.cellPosContainHeader)||void 0===m?void 0:m.col)&&R.row===(null===(y=e.stateManager.hover.cellPosContainHeader)||void 0===y?void 0:y.row)||e.fireListeners(b.B.MOUSEENTER_CELL,{col:R.col,row:R.row,cellRange:e.getCellRangeRelativeRect({col:R.col,row:R.row}),scaleRatio:e.canvas.getBoundingClientRect().width/e.canvas.offsetWidth,event:r.nativeEvent,target:null===(w=null==k?void 0:k.eventArgs)||void 0===w?void 0:w.target,mergeCellInfo:null===(x=k.eventArgs)||void 0===x?void 0:x.mergeInfo})),t.dealIconHover(k),t.dealTableHover(k),k.eventArgs&&e.hasListeners(b.B.MOUSEMOVE_CELL)){let t,n;if(null===(_=k.eventArgs)||void 0===_?void 0:_.target){const e=Ji(null===(C=k.eventArgs)||void 0===C?void 0:C.target);e&&(t=e.icon,n=e.position)}e.fireListeners(b.B.MOUSEMOVE_CELL,{col:k.eventArgs.col,row:k.eventArgs.row,x:k.abstractPos.x,y:k.abstractPos.y,event:r.nativeEvent,targetIcon:t?{name:t.name,position:n,funcType:t.attribute.funcType}:void 0,target:null===(S=null==k?void 0:k.eventArgs)||void 0===S?void 0:S.target,mergeCellInfo:null===(M=k.eventArgs)||void 0===M?void 0:M.mergeInfo})}})),e.scenegraph.tableGroup.addEventListener("pointerout",(e=>{var n;const i=(0,yi.RJ)(e),r=null===(n=null==i?void 0:i.eventArgs)||void 0===n?void 0:n.target;"table"===(null==r?void 0:r.role)&&t.dealTableHover()})),e.scenegraph.tableGroup.addEventListener("pointerover",(t=>{var n,i;const r=(0,yi.RJ)(t),o=null===(n=null==r?void 0:r.eventArgs)||void 0===n?void 0:n.target;if(o&&e.hasListeners(b.B.MOUSEOVER_CHART_SYMBOL)&&"symbol"===o.type){const n=t.composedPath().find((t=>"cell"===t.roll));if(n){const{col:o,row:a}=n,s={col:o,row:a,field:e.getHeaderField(o,a),value:e.getCellValue(o,a),dataValue:e.getCellOriginValue(o,a),cellHeaderPaths:e.internalProps.layoutMap.getCellHeaderPaths(o,a),title:e.getBodyColumnDefine(o,a).title,cellRange:e.getCellRelativeRect(o,a),event:t.nativeEvent,sparkline:{pointData:void 0},scaleRatio:e.canvas.getBoundingClientRect().width/e.canvas.offsetWidth,target:null===(i=null==r?void 0:r.eventArgs)||void 0===i?void 0:i.target};e.fireListeners(b.B.MOUSEOVER_CHART_SYMBOL,s)}}})),e.scenegraph.tableGroup.addEventListener("pointerenter",(t=>{(e.theme.scrollStyle.horizontalVisible&&"focus"===e.theme.scrollStyle.horizontalVisible||!e.theme.scrollStyle.horizontalVisible&&"focus"===e.theme.scrollStyle.visible)&&n.showHorizontalScrollBar(),(e.theme.scrollStyle.verticalVisible&&"focus"===e.theme.scrollStyle.verticalVisible||!e.theme.scrollStyle.verticalVisible&&"focus"===e.theme.scrollStyle.visible)&&n.showVerticalScrollBar(),e.hasListeners(b.B.MOUSEENTER_TABLE)&&e.fireListeners(b.B.MOUSEENTER_TABLE,{event:t.nativeEvent})})),e.scenegraph.tableGroup.addEventListener("pointerleave",(i=>{n.isResizeCol()||n.isResizeRow()||n.isMoveCol()||n.isSelecting()||(n.updateInteractionState(v.F.default),n.updateCursor()),(e.theme.scrollStyle.horizontalVisible&&"focus"===e.theme.scrollStyle.horizontalVisible||!e.theme.scrollStyle.horizontalVisible&&"focus"===e.theme.scrollStyle.visible)&&n.hideHorizontalScrollBar(),(e.theme.scrollStyle.verticalVisible&&"focus"===e.theme.scrollStyle.verticalVisible||!e.theme.scrollStyle.verticalVisible&&"focus"===e.theme.scrollStyle.visible)&&n.hideVerticalScrollBar(),e.hasListeners(b.B.MOUSELEAVE_CELL)&&-1!==e.stateManager.hover.cellPos.col&&-1!==e.stateManager.hover.cellPos.row&&e.fireListeners(b.B.MOUSELEAVE_CELL,{col:e.stateManager.hover.cellPos.col,row:e.stateManager.hover.cellPos.row,cellRange:e.getCellRangeRelativeRect({col:e.stateManager.hover.cellPos.col,row:e.stateManager.hover.cellPos.row}),scaleRatio:e.canvas.getBoundingClientRect().width/e.canvas.offsetWidth,event:i.nativeEvent,target:void 0}),t.dealTableHover();const r=i.target;r&&!r.isDescendantsOf(e.scenegraph.tableGroup)&&e.fireListeners(b.B.MOUSELEAVE_TABLE,{event:i.nativeEvent})}));const r=i=>{var r;const o=i.target;if(!e.getElement().contains(o)){const o=null===(r=e.editorManager)||void 0===r?void 0:r.completeEdit(i);(0,y.NC)(o,(e=>{!1!==e&&(n.updateInteractionState(v.F.default),t.dealTableHover())}))}},o=i=>{var r;const o=i.target;if(!e.getElement().contains(o)&&!e.internalProps.menuHandler.containElement(o)){const o=null===(r=e.editorManager)||void 0===r?void 0:r.completeEdit(i);(0,y.NC)(o,(i=>{var r,o;if(!1!==i&&(null===(r=e.options.select)||void 0===r?void 0:r.outsideClickDeselect)){const e=!!(null===(o=n.select.ranges)||void 0===o?void 0:o.length);t.dealTableSelect(),n.endSelectCells(!0,e)}}))}};t.globalEventListeners.push({name:"pointerup",env:"document",callback:r}),t.globalEventListeners.push({name:"pointerdown",env:"document",callback:o}),T.rF.addEventListener("pointerup",r),T.rF.addEventListener("pointerdown",o),e.scenegraph.tableGroup.addEventListener("pointerdown",(i=>{var r,o,a,s,l;if(e.hasListeners(b.B.MOUSEDOWN_TABLE)&&e.fireListeners(b.B.MOUSEDOWN_TABLE,{event:i.nativeEvent}),e.eventManager.isDown=!0,e.eventManager.LastBodyPointerXY={x:i.x,y:i.y},e.eventManager.LastPointerXY={x:i.x,y:i.y},0!==i.button)return;const u=(0,yi.RJ)(i);if(t.downIcon=void 0,n.interactionState!==v.F.default)return;if(e.isPivotChart()&&"chart"!==(null===(r=null==u?void 0:u.eventArgs)||void 0===r?void 0:r.target.type)&&e.scenegraph.updateChartState(null),(null===(o=u.eventArgs)||void 0===o?void 0:o.target)!==(null===(a=n.residentHoverIcon)||void 0===a?void 0:a.icon)&&n.hideMenu(),"chart"===(null===(s=null==u?void 0:u.eventArgs)||void 0===s?void 0:s.target.type))return;const h=null===(l=e.editorManager)||void 0===l?void 0:l.completeEdit(i.nativeEvent);(0,y.NC)(h,(r=>{var o,a,s,l,h,c,d;if(!1===r)return;const f=(null===(s=null===(a=null===(o=null==u?void 0:u.eventArgs)||void 0===o?void 0:o.target)||void 0===a?void 0:a.role)||void 0===s?void 0:s.startsWith("icon"))?u.eventArgs.target:(null===(l=i.target.role)||void 0===l?void 0:l.startsWith("icon"))?i.target:void 0;if(t.downIcon=f,f&&!1!==f.attribute.interactive)f.attribute.funcType===mt.cI.dragReorder&&(n.startMoveCol(u.eventArgs.col,u.eventArgs.row,u.abstractPos.x,u.abstractPos.y,null===(c=null===(h=u.eventArgs)||void 0===h?void 0:h.event)||void 0===c?void 0:c.nativeEvent),n.updateInteractionState(v.F.grabing));else if("touch"===i.pointerType)t.touchEnd=!1,t.touchSetTimeout=setTimeout((()=>{t.isTouchdown=!1,t.touchMove=!0,(!t.touchEnd&&(t.checkColumnResize(u,!0)||t.checkRowResize(u,!0))||!t.touchEnd&&t.chechColumnMover(u)||t.dealTableSelect(u)&&!t.touchEnd)&&n.updateInteractionState(v.F.grabing)}),500),t.dealTableHover(u);else{if(!t.checkCellFillhandle(u)&&(t.checkColumnResize(u,!0)||t.checkRowResize(u,!0)))return e.scenegraph.updateChartState(null),void n.updateInteractionState(v.F.grabing);if(t.chechColumnMover(u))return void n.updateInteractionState(v.F.grabing);if(t.checkCellFillhandle(u,!0)&&t.dealFillSelect(u))return void n.updateInteractionState(v.F.grabing);t.dealTableSelect(u)&&n.updateInteractionState(v.F.grabing)}if(e.hasListeners(b.B.MOUSEDOWN_CELL)){const t=(0,yi.RJ)(i);t.eventArgs&&e.fireListeners(b.B.MOUSEDOWN_CELL,{col:t.eventArgs.col,row:t.eventArgs.row,event:i.nativeEvent,target:null===(d=null==t?void 0:t.eventArgs)||void 0===d?void 0:d.target,mergeCellInfo:t.eventArgs.mergeInfo})}}))})),e.scenegraph.tableGroup.addEventListener("pointerup",(t=>{var i,r,o,a;if(0===t.button){if("grabing"===n.interactionState){if(n.updateInteractionState(v.F.default),n.isResizeCol())yr(e);else if(n.isResizeRow())br(e);else if(n.isMoveCol()){const n=e.stateManager.endMoveCol();mr(e,n,t.nativeEvent)}else if(n.isSelecting()){e.stateManager.endSelectCells(),e.stateManager.isFillHandle()&&e.stateManager.endFillSelect();const n=(0,yi.RJ)(t);if(e.eventManager.isDraging&&n.eventArgs&&e.hasListeners(b.B.DRAG_SELECT_END)){const o={event:t.nativeEvent,cells:[],col:n.eventArgs.target.col,row:n.eventArgs.target.row,scaleRatio:e.canvas.getBoundingClientRect().width/e.canvas.offsetWidth,target:null===(i=null==n?void 0:n.eventArgs)||void 0===i?void 0:i.target,mergeCellInfo:null===(r=n.eventArgs)||void 0===r?void 0:r.mergeInfo};o.cells=e.getSelectedCellInfos(),e.fireListeners(b.B.DRAG_SELECT_END,o)}}}else n.interactionState===v.F.scrolling&&n.updateInteractionState(v.F.default);if(e.hasListeners(b.B.MOUSEUP_CELL)){const n=(0,yi.RJ)(t);n.eventArgs&&e.fireListeners(b.B.MOUSEUP_CELL,{col:n.eventArgs.col,row:n.eventArgs.row,event:t.nativeEvent,target:null===(o=null==n?void 0:n.eventArgs)||void 0===o?void 0:o.target,mergeCellInfo:null===(a=n.eventArgs)||void 0===a?void 0:a.mergeInfo})}}})),e.scenegraph.tableGroup.addEventListener("rightdown",(t=>{var i,r,o,a;const s=(0,yi.RJ)(t);if(s.eventArgs){n.triggerContextMenu(s.eventArgs.col,s.eventArgs.row,s.abstractPos.x,s.abstractPos.y);const{col:l,row:u}=s.eventArgs;if(e.hasListeners(b.B.CONTEXTMENU_CELL)){const n=e.getCellInfo(l,u);let h,c;if(null===(i=s.eventArgs)||void 0===i?void 0:i.target){const t=Ji(null===(r=s.eventArgs)||void 0===r?void 0:r.target);t&&(h=t.icon,c=t.position)}const d=Object.assign(Object.assign({},n),{event:t.nativeEvent,cells:[],targetIcon:h?{name:h.name,position:c,funcType:h.attribute.funcType}:void 0,target:null===(o=null==s?void 0:s.eventArgs)||void 0===o?void 0:o.target,mergeCellInfo:null===(a=s.eventArgs)||void 0===a?void 0:a.mergeInfo});(0,y.yD)(e.stateManager.select.ranges,l,u)?d.cells=e.getSelectedCellInfos():d.cells=[[n]],e.fireListeners(b.B.CONTEXTMENU_CELL,d)}}})),e.scenegraph.tableGroup.addEventListener("pointertap",(i=>{var r,o,a,s,l;if(e.stateManager.columnResize.resizing)return;const u=(0,yi.RJ)(i);if(!t.touchMove&&0===i.button&&u.eventArgs&&e.hasListeners(b.B.CLICK_CELL)){const{col:t,row:n}=u.eventArgs,l=e.getCellInfo(t,n);let h,c;if(null===(r=u.eventArgs)||void 0===r?void 0:r.target){const t=Ji(null===(o=u.eventArgs)||void 0===o?void 0:o.target);t&&(h=t.icon,c=t.position)}const d=Object.assign(Object.assign({},l),{event:i.nativeEvent,federatedEvent:i,cells:[],targetIcon:h?{name:h.name,position:c,funcType:h.attribute.funcType}:void 0,target:null===(a=null==u?void 0:u.eventArgs)||void 0===a?void 0:a.target,mergeCellInfo:null===(s=u.eventArgs)||void 0===s?void 0:s.mergeInfo});e.fireListeners(b.B.CLICK_CELL,d)}if(!e.stateManager.columnResize.resizing&&!e.stateManager.columnMove.moving&&(t.dealIconClick(i,u),(null==u?void 0:u.eventArgs)&&t.touchSetTimeout&&"touch"===i.pointerType)){const e=(0,yi.RJ)(i);if(t.touchSetTimeout){clearTimeout(t.touchSetTimeout);const i=!!(null===(l=n.select.ranges)||void 0===l?void 0:l.length);t.dealTableSelect(e),n.endSelectCells(!0,i),t.touchSetTimeout=void 0}}})),e.scenegraph.stage.addEventListener("pointerdown",(i=>{var r,o,a,s;const l=(0,yi.RJ)(i);(null===(r=l.eventArgs)||void 0===r?void 0:r.target)&&(null===(o=l.eventArgs)||void 0===o?void 0:o.target)===(null===(a=n.residentHoverIcon)||void 0===a?void 0:a.icon)||n.hideMenu();const u=null===(s=e.editorManager)||void 0===s?void 0:s.completeEdit(i.nativeEvent);(0,y.NC)(u,(r=>{var o;if(!1===r)return;const a=(null===(o=i.target.role)||void 0===o?void 0:o.startsWith("icon"))?i.target:void 0;if(t.downIcon=a,a||t.checkCellFillhandle(l)||n.columnResize.resizing||!t.checkColumnResize(l,!0));else{e.scenegraph.updateChartState(null),n.updateInteractionState(v.F.grabing);const{eventArgs:t}=l;(null==t?void 0:t.targetCell)||e.getCellAt(l.abstractPos.x-e.theme.columnResize.resizeHotSpotSize/2,l.abstractPos.y)&&e.hasListeners(b.B.MOUSEDOWN_TABLE)&&e.fireListeners(b.B.MOUSEDOWN_TABLE,{event:i.nativeEvent})}}))})),e.scenegraph.stage.addEventListener("pointerup",(t=>{"grabing"===n.interactionState&&(n.updateInteractionState(v.F.default),n.isResizeCol()?yr(e):n.isResizeRow()&&br(e))})),e.scenegraph.stage.addEventListener("pointertap",(i=>{var r,o,a;const s=i.target;if(e.eventManager.isDraging||!s||!s.isDescendantsOf(e.scenegraph.stage)&&s.stage!==s||s.isDescendantsOf(e.scenegraph.tableGroup))e.eventManager.isDraging&&n.isSelecting()&&n.endSelectCells();else{n.updateInteractionState(v.F.default),t.dealTableHover();const i=!!(null===(r=n.select.ranges)||void 0===r?void 0:r.length);(null===(a=null===(o=e.options.select)||void 0===o?void 0:o.blankAreaClickDeselect)||void 0===a||a)&&t.dealTableSelect(),n.endSelectCells(!0,i),n.updateCursor(),e.scenegraph.updateChartState(null)}})),e.scenegraph.stage.addEventListener("pointermove",(i=>{const r=(0,yi.RJ)(i);n.isResizeCol()||t.checkColumnResize(r)?e.stateManager.select&&t.checkCellFillhandle(r)?n.updateCursor("crosshair"):n.updateCursor("col-resize"):n.isResizeRow()||t.checkRowResize(r)?e.stateManager.select&&t.checkCellFillhandle(r)?n.updateCursor("crosshair"):n.updateCursor("row-resize"):n.isMoveCol()||n.updateCursor()})),e.scenegraph.tableGroup.addEventListener("checkbox_state_change",(t=>{var n,i;const r=(0,yi.RJ)(t),{col:o,row:a}=r.eventArgs,s=e.getCellInfo(o,a),l=(0,yt.Z)(e,o,a);if(l)for(let n=l.start.col;n<=l.end.col;n++)for(let i=l.start.row;i<=l.end.row;i++)e.scenegraph.getCell(n,i).forEachChildren((e=>{"checkbox"===e.name&&e.setAttributes({checked:t.target.attribute.checked,indeterminate:t.target.attribute.indeterminate})}));const u=Object.assign(Object.assign({},s),{event:t.nativeEvent,target:null===(n=null==r?void 0:r.eventArgs)||void 0===n?void 0:n.target,mergeCellInfo:null===(i=null==r?void 0:r.eventArgs)||void 0===i?void 0:i.mergeInfo,checked:t.detail.checked});if(e.isHeader(o,a))e.stateManager.setHeaderCheckedState(s.field,t.detail.checked),"checkbox"===e.getCellType(o,a)&&e.scenegraph.updateCheckboxCellState(o,a,t.detail.checked);else if(e.stateManager.setCheckedState(o,a,s.field,t.detail.checked),"checkbox"===e.getCellType(o,a)){const t=e.stateManager.headerCheckedState[s.field],n=e.stateManager.updateHeaderCheckedState(s.field,o,a);t!==n&&e.scenegraph.updateHeaderCheckboxCellState(o,a,n)}e.fireListeners(b.B.CHECKBOX_STATE_CHANGE,u),e.scenegraph.updateNextFrame()})),e.scenegraph.tableGroup.addEventListener("radio_checked",(t=>{var n,i,r;const o=(0,yi.RJ)(t),{col:a,row:s,target:l}=o.eventArgs,u=e.getCellInfo(a,s),h=null===(n=yi.xD.exec(l.id))||void 0===n?void 0:n[1],c=(0,yt.Z)(e,a,s);if(c)for(let t=c.start.col;t<=c.end.col;t++)for(let n=c.start.row;n<=c.end.row;n++)e.scenegraph.getCell(t,n).forEachChildren((t=>{"radio"===t.name&&t.id===l.id&&t.setAttributes({checked:!0})}));const d=e.getBodyColumnDefine(a,s).radioCheckType||"column";if("cell"===d)if(c)for(let t=c.start.col;t<=c.end.col;t++)for(let n=c.start.row;n<=c.end.row;n++)e.scenegraph.getCell(t,n).forEachChildren((t=>{"radio"===t.name&&t.id!==l.id&&t.setAttributes({checked:!1})}));else e.scenegraph.getCell(a,s).forEachChildren((t=>{"radio"===t.name&&t.id!==l.id&&t.setAttributes({checked:!1})}));else"column"===d&&e.scenegraph.getColGroup(a).forEachChildren((t=>{t.forEachChildren((t=>{"radio"===t.name&&t.id!==l.id&&t.setAttributes({checked:!1})}))}));const f=h?Number(h):void 0;e.stateManager.setRadioState(a,s,u.field,d,f);const p=Object.assign(Object.assign({},u),{event:t.nativeEvent,target:null===(i=null==o?void 0:o.eventArgs)||void 0===i?void 0:i.target,mergeCellInfo:null===(r=null==o?void 0:o.eventArgs)||void 0===r?void 0:r.mergeInfo,radioIndexInCell:f});e.fireListeners(b.B.RADIO_STATE_CHANGE,p),e.scenegraph.updateNextFrame()})),e.scenegraph.stage.addEventListener("wheel",(t=>{var i;t.path.find((t=>"legend"===t.name))||(null===(i=e.editorManager)||void 0===i||i.completeEdit(),e.eventManager._enableTableScroll&&dr(t,n))}))})(this),function(t){const e=t.table,n=e.stateManager,r=e.internalProps.handler;function o(t){var n;if(e.hasListeners(b.B.KEYDOWN)){const i={keyCode:null!==(n=t.keyCode)&&void 0!==n?n:t.which,code:t.code,event:t,scaleRatio:e.canvas.getBoundingClientRect().width/e.canvas.offsetWidth};e.fireListeners(b.B.KEYDOWN,i)}}r.on(e.getElement(),"blur",(e=>{t.dealTableHover()})),r.on(e.getElement(),"keydown",(i=>{var r,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S;if("a"===i.key&&(i.ctrlKey||i.metaKey))(null===(r=e.keyboardOptions)||void 0===r?void 0:r.selectAllOnCtrlA)&&(i.preventDefault(),t.deelTableSelectAll());else if(n.select.cellPos.col>=0&&n.select.cellPos.row>=0&&("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowLeft"===i.key||"ArrowRight"===i.key)){if((null===(s=null===(a=e.options.keyboardOptions)||void 0===a?void 0:a.moveEditCellOnArrowKeys)||void 0===s||!s)&&(null===(l=e.editorManager)||void 0===l?void 0:l.editingEditor)||!1===(null===(u=e.options.keyboardOptions)||void 0===u?void 0:u.moveSelectedCellOnArrowKeys))return;let t,r;if(i.preventDefault(),i.stopPropagation(),"ArrowUp"===i.key?i.ctrlKey||i.metaKey?(t=n.select.cellPos.col,r=0):(i.shiftKey,t=n.select.cellPos.col,r=Math.min(e.rowCount-1,Math.max(0,n.select.cellPos.row-1))):"ArrowDown"===i.key?i.ctrlKey||i.metaKey?(t=n.select.cellPos.col,r=e.rowCount-1):(i.shiftKey,t=n.select.cellPos.col,r=Math.min(e.rowCount-1,Math.max(0,n.select.cellPos.row+1))):"ArrowLeft"===i.key?i.ctrlKey||i.metaKey?(t=0,r=n.select.cellPos.row):(i.shiftKey,r=n.select.cellPos.row,t=Math.min(e.colCount-1,Math.max(0,n.select.cellPos.col-1))):"ArrowRight"===i.key&&(i.ctrlKey||i.metaKey?(t=e.colCount-1,r=n.select.cellPos.row):(i.shiftKey,r=n.select.cellPos.row,t=Math.min(e.colCount-1,Math.max(0,n.select.cellPos.col+1)))),ze(e,t,r))return;e.selectCell(t,r,i.shiftKey),null!==(c=null===(h=e.options.keyboardOptions)||void 0===h?void 0:h.moveEditCellOnArrowKeys)&&void 0!==c&&c&&(null===(d=e.editorManager)||void 0===d?void 0:d.editingEditor)&&(e.editorManager.completeEdit(),e.getElement().focus(),e.getEditor(t,r)&&e.editorManager.startEditCell(t,r))}else if("Escape"===i.key)null===(f=e.editorManager)||void 0===f||f.cancelEdit(),e.getElement().focus();else if("Enter"===i.key){if(null===(p=e.editorManager)||void 0===p?void 0:p.editingEditor){if(o(i),e.editorManager.completeEdit(),e.getElement().focus(),!0===(null===(g=e.options.keyboardOptions)||void 0===g?void 0:g.moveFocusCellOnEnter)){const t=n.select.cellPos.col,r=Math.min(e.rowCount-1,Math.max(0,n.select.cellPos.row+1));if(ze(e,t,r))return;e.selectCell(t,r,i.shiftKey)}return}if(!0===(null===(m=e.options.keyboardOptions)||void 0===m?void 0:m.moveFocusCellOnEnter)){const t=n.select.cellPos.col,r=Math.min(e.rowCount-1,Math.max(0,n.select.cellPos.row+1));if(ze(e,t,r))return;e.selectCell(t,r,i.shiftKey)}else if((null===(y=null===(v=e.options.keyboardOptions)||void 0===v?void 0:v.editCellOnEnter)||void 0===y||y)&&1===(null!==(w=null===(b=e.stateManager.select.ranges)||void 0===b?void 0:b.length)&&void 0!==w?w:0)){const t=e.stateManager.select.ranges[0].start.col,n=e.stateManager.select.ranges[0].start.row,i=e.stateManager.select.ranges[0].end.col,r=e.stateManager.select.ranges[0].end.row;t===i&&n===r&&e.getEditor(t,n)&&e.editorManager.startEditCell(t,n)}}else if("Tab"===i.key){if((null===(_=null===(x=e.options.keyboardOptions)||void 0===x?void 0:x.moveFocusCellOnTab)||void 0===_||_)&&n.select.cellPos.col>=0&&n.select.cellPos.row>=0){if(n.select.cellPos.col===e.colCount-1&&n.select.cellPos.row===e.rowCount-1)return;let t,r;if(i.preventDefault(),n.select.cellPos.col===e.colCount-1?(r=Math.min(e.rowCount-1,n.select.cellPos.row+1),t=e.rowHeaderLevelCount):(r=n.select.cellPos.row,t=n.select.cellPos.col+1),ze(e,t,r))return;e.selectCell(t,r),(null===(C=e.editorManager)||void 0===C?void 0:C.editingEditor)&&(e.editorManager.completeEdit(),e.getElement().focus(),e.getEditor(t,r)&&e.editorManager.startEditCell(t,r))}}else if(!(i.ctrlKey||i.metaKey||i.shiftKey)){const t=e.options.editCellTrigger;if(("keydown"===t||Array.isArray(t)&&t.includes("keydown"))&&!(null===(S=e.editorManager)||void 0===S?void 0:S.editingEditor)){const t=/^[a-zA-Z0-9+\-*\/%=.,\s]$/;i.key.match(t)&&e.editorManager.startEditCell(n.select.cellPos.col,n.select.cellPos.row,"")}}o(i)})),r.on(e.getElement(),"copy",(t=>_r(this,void 0,void 0,(function*(){var n,r;if(null===(n=e.keyboardOptions)||void 0===n?void 0:n.copySelected){const n=e.getCopyValue();if((0,i.Z)(n)){t.preventDefault();const i=yield navigator.permissions.query({name:"clipboard-write"});if((null===(r=navigator.clipboard)||void 0===r?void 0:r.write)&&"granted"===i.state){const t=t=>{const e=["<table>"],n=['<meta name="author" content="Visactor"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),i=t.split("\r\n");return i.forEach((function(t,n){const r=t.split("\t"),o=[];0===n&&e.push("<tbody>"),r.forEach((function(t,e){const n=t?t.toString().replace(/&/g,"&amp;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20{2,}/gi,(t=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(t.length-1)} </span>`)).replace(/\t/gi,"&#9;"):" ";o.push(`<td>${n}</td>`)})),e.push("<tr>",...o,"</tr>"),n===i.length-1&&e.push("</tbody>")})),e.push("</table>"),[n,e.join("")].join("")},e=t(n);navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([e],{type:"text/html"}),"text/plain":new Blob([n],{type:"text/plain"})})])}else y.Xh.IE?window.clipboardData.setData("Text",n):t.clipboardData.setData("text/plain",n);e.fireListeners(b.B.COPY_DATA,{cellRange:e.stateManager.select.ranges,copyData:n})}}})))),r.on(e.getElement(),"paste",(t=>{var n,i,r,o;if((null===(n=e.keyboardOptions)||void 0===n?void 0:n.pasteValueToCell)&&e.changeCellValues){if(null===(i=e.editorManager)||void 0===i?void 0:i.editingEditor)return;if((null===(r=e.stateManager.select.ranges)||void 0===r?void 0:r.length)>0)if(null===(o=navigator.clipboard)||void 0===o?void 0:o.read)navigator.clipboard.read().then((t=>{for(const e of t)e.types.includes("text/html")?l(e):1===e.types.length&&"text/plain"===e.types[0]&&h(e)}));else{const n=e.stateManager.select.ranges,i=Math.min(n[0].start.col,n[0].end.col),r=Math.min(n[0].start.row,n[0].end.row),o=(t.clipboardData||window.Clipboard).getData("text").split("\n"),a=[];o.forEach((function(t,e){const n=t.split("\t"),i=[];a.push(i),n.forEach((function(t,e){e===n.length-1&&(t=t.trim()),i.push(t)}))})),e.changeCellValues(i,r,a)}}})),r.on(e.getElement(),"contextmenu",(t=>{var n;!1!==(null===(n=e.eventOptions)||void 0===n?void 0:n.preventDefaultContextMenu)&&t.preventDefault()})),e.options.canvas||r.on(e.getContainer(),"resize",(t=>{var n;0===t.width&&0===t.height||((e.autoFillWidth||e.autoFillHeight)&&(null===(n=e.editorManager)||void 0===n||n.completeEdit()),(0,i.Z)(e.options.pixelRatio)||e.setPixelRatio(xr()),t.windowSizeNotChange||e.resize())}));const a=/<tr[^>]*>([\s\S]*?)<\/tr>/g,s=/<td[^>]*>([\s\S]*?)<\/td>/g;function l(t){const n=e.stateManager.select.ranges,i=n.length,r=Math.min(n[i-1].start.col,n[i-1].end.col),o=Math.min(n[i-1].start.row,n[i-1].end.row),l=Math.max(n[i-1].start.col,n[i-1].end.col),h=Math.max(n[i-1].start.row,n[i-1].end.row);let d=0,f=0,p=[];t.getType("text/html").then((t=>{t.text().then((t=>{var n,i;if(t&&/(<table)|(<TABLE)/g.test(t)){const u=Array.from(t.matchAll(a));for(const t of u){const e=t[1],i=Array.from(e.matchAll(s)).map((t=>t[1].replace(/(<(?!br)([^>]+)>)/gi,"").replace(/<br(\s*|\/)>[\r\n]?/gim,"\n").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#9;/gi,"\t").replace(/&nbsp;/g," ")));p.push(i),d=Math.max(d,null!==(n=null==i?void 0:i.length)&&void 0!==n?n:0)}f=null!==(i=p.length)&&void 0!==i?i:0,p=c(p,f,d,h-o+1,l-r+1),e.changeCellValues(r,o,p,!0)}else navigator.clipboard.read().then((t=>{for(const e of t)e.types.includes("text/plain")&&e.getType("text/plain").then((t=>{t.text().then(u)}))}))}))}))}function u(t){var n;const i=e.stateManager.select.ranges,r=i.length,o=Math.min(i[r-1].start.col,i[r-1].end.col),a=Math.min(i[r-1].start.row,i[r-1].end.row),s=Math.max(i[r-1].start.col,i[r-1].end.col),l=Math.max(i[r-1].start.row,i[r-1].end.row);let u=0,h=0,d=[];t.split("\n").forEach((function(t,e){var n;const i=t.split("\t"),r=[];d.push(r),i.forEach((function(t,e){e===i.length-1&&(t=t.trim()),r.push(t)})),u=Math.max(u,null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0)})),h=null!==(n=d.length)&&void 0!==n?n:0,d=c(d,h,u,l-a+1,s-o+1),e.changeCellValues(o,a,d,!0)}function h(t){const n=e.stateManager.select.ranges,i=n.length,r=Math.min(n[i-1].start.col,n[i-1].end.col),o=Math.min(n[i-1].start.row,n[i-1].end.row),a=Math.max(n[i-1].start.col,n[i-1].end.col),s=Math.max(n[i-1].start.row,n[i-1].end.row);let l=0,u=0;t.getType("text/plain").then((t=>{t.text().then((t=>{var n;const i=t.replace(/\r(?!\n)/g,"\r\n").split("\r\n");let h=[];i.length>1&&""===i[i.length-1]&&i.pop(),i.forEach((function(t,e){var n;const i=t.split("\t"),r=[];h.push(r),i.forEach((function(t,e){t.includes("\n")&&(t=t.replace(/^"(.*)"$/,"$1").replace(/["]*/g,(t=>new Array(Math.floor(t.length/2)).fill('"').join("")))),r.push(t)})),l=Math.max(l,null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0)})),u=null!==(n=h.length)&&void 0!==n?n:0,h=c(h,u,l,s-o+1,a-r+1),e.changeCellValues(r,o,h,!0)}))}))}function c(t,e,n,i,r){if(r>n||i>e){if(r%n==0&&i%e==0){const o=[];for(let a=0;a<i;a++){const i=[];o.push(i);for(let o=0;o<r;o++){const r=a%e,s=o%n;i.push(t[r][s])}}return o}return t}return t}const d=t=>{e.eventManager.LastBodyPointerXY={x:t.x,y:t.y},e.eventManager.isDown=!0};t.globalEventListeners.push({name:"pointerdown",env:"body",callback:d}),document.body.addEventListener("pointerdown",d);const f=t=>{if(t.target!==e.canvas&&(t=>{var i,r;if(n.menu.isShow&&setTimeout((()=>{e.internalProps.menuHandler.pointInMenuElement(t.clientX,t.clientY)||n.menu.isShow&&n.hideMenu()}),0),n.isResizeCol())yr(e);else if(n.isResizeRow())br(e);else if(n.isMoveCol()){const n=e.stateManager.endMoveCol();mr(e,n,t)}else if(n.isSelecting()&&(null===(r=null===(i=e.stateManager.select)||void 0===i?void 0:i.ranges)||void 0===r?void 0:r.length)){const n=e.stateManager.select.ranges[e.stateManager.select.ranges.length-1].end.col,i=e.stateManager.select.ranges[e.stateManager.select.ranges.length-1].end.row;if(e.stateManager.endSelectCells(),e.hasListeners(b.B.DRAG_SELECT_END)){const r={event:t,cells:[],col:n,row:i,scaleRatio:e.canvas.getBoundingClientRect().width/e.canvas.offsetWidth,target:void 0};r.cells=e.getSelectedCellInfos(),e.fireListeners(b.B.DRAG_SELECT_END,r)}}})(t),e.eventManager.LastBodyPointerXY=null,e.eventManager.isDown=!1,e.eventManager.isDraging=!1,e.eventManager.inertiaScroll.endInertia(),"grabing"===n.interactionState&&n.isResizeCol())yr(e);else if("grabing"===n.interactionState&&n.isResizeRow())br(e);else if(n.isMoveCol()){const n=e.stateManager.endMoveCol();mr(e,n,t)}};t.globalEventListeners.push({name:"pointerup",env:"document",callback:f}),document.addEventListener("pointerup",f);const p=r=>{var o,a,s,l,u;if(e.eventManager.isDown&&e.eventManager.LastBodyPointerXY){const t=null!==(a=null===(o=e.eventManager.LastBodyPointerXY)||void 0===o?void 0:o.x)&&void 0!==a?a:r.x,n=null!==(l=null===(s=e.eventManager.LastBodyPointerXY)||void 0===s?void 0:s.y)&&void 0!==l?l:r.y;(Math.abs(t-r.x)>1||Math.abs(n-r.y)>1)&&(e.eventManager.isDraging=!0)}const{x:h,y:c}=e._getMouseAbstractPoint(r,!1);n.interactionState===v.F.grabing&&(n.isResizeCol()?(t.dealColumnResize(h,c),e.hasListeners(b.B.RESIZE_COLUMN)&&e.fireListeners(b.B.RESIZE_COLUMN,{col:e.stateManager.columnResize.col,colWidth:e.getColWidth(e.stateManager.columnResize.col)})):n.isResizeRow()&&(t.dealRowResize(h,c),e.hasListeners(b.B.RESIZE_ROW)&&e.fireListeners(b.B.RESIZE_ROW,{row:e.stateManager.rowResize.row,rowHeight:e.getRowHeight(e.stateManager.rowResize.row)})));const d=e.stateManager.isSelecting();if(t._enableTableScroll&&t.isDraging&&d&&(null===(u=e.stateManager.select.ranges)||void 0===u?void 0:u.length)>0){const t=e.getDrawRange(),n=e.getFrozenRowsHeight(),r=e.getBottomFrozenRowsHeight(),o=e.getFrozenColsWidth(),a=e.getRightFrozenColsWidth(),s=e.stateManager.select.ranges[e.stateManager.select.ranges.length-1].start;if(e.isSeriesNumber(s.col,s.row))return;const l=e.stateManager.select.ranges[e.stateManager.select.ranges.length-1].end,u=(!1===e.isFrozenRow(s.row)||!1===e.isFrozenRow(l.row))&&e.getAllRowsHeight()>e.tableNoFrameHeight,d=(!1===e.isFrozenColumn(s.col)||!1===e.isFrozenColumn(l.col))&&e.getAllColsWidth()>e.tableNoFrameWidth;if((c>t.bottom-r||c<t.top+n)&&u||(h>t.right-a||h<t.left+o)&&d){e.eventManager.scrollXSpeed=0,e.eventManager.scrollYSpeed=0;let s=!1,l=!1,f=!1,p=!1;c>t.bottom-r&&u&&e.scrollTop+e.tableNoFrameHeight<e.getAllRowsHeight()?(s=!0,e.eventManager.scrollYSpeed=-(c-t.bottom+r)/50):c<t.top+n&&u&&e.scrollTop>0&&(l=!0,e.eventManager.scrollYSpeed=-(c-t.top-n)/50),h>t.right-a&&d&&e.scrollLeft+e.tableNoFrameWidth<e.getAllColsWidth()?(f=!0,e.eventManager.scrollXSpeed=-(h-t.right+a)/50):h<t.left+o&&d&&e.scrollLeft>0&&(p=!0,e.eventManager.scrollXSpeed=-(h-t.left-o)/50),e.eventManager.inertiaScroll.startInertia(e.eventManager.scrollXSpeed,e.eventManager.scrollYSpeed,1),e.eventManager.inertiaScroll.setScrollHandle(((u,d)=>{let g,m;dr({deltaX:-u,deltaY:-d},e.stateManager,!1),s?m=e.scrollTop+t.height-r-20:l&&(m=e.scrollTop+n+20),f?g=e.scrollLeft+t.width-a-20:p&&(g=e.scrollLeft+o+20);let y=!1,b=!1;f||p||(h>e.tableNoFrameWidth-e.getRightFrozenColsWidth()&&h<e.tableNoFrameWidth||h>0&&h<e.getFrozenColsWidth()?(g=h,b=!0):g=e.scrollLeft+h),s||l||(c>e.tableNoFrameHeight-e.getBottomFrozenRowsHeight()&&c<e.tableNoFrameHeight||c>0&&c<e.getFrozenRowsHeight()?(m=c,y=!0):m=e.scrollTop+c),e.stateManager.updateInteractionState(v.F.grabing);const w=e.getTargetColAtConsiderRightFrozen(g,b),x=e.getTargetRowAtConsiderBottomFrozen(m,y);(0,i.Z)(w)&&(0,i.Z)(x)&&e.stateManager.updateSelectPos(w.col,x.row,!1,!1,!1,!1)}))}else e.eventManager.inertiaScroll.isInertiaScrolling()?e.eventManager.inertiaScroll.endInertia():e.eventManager.scrollYSpeed=0}};t.globalEventListeners.push({name:"pointermove",env:"body",callback:p}),document.body.addEventListener("pointermove",p)}(this),function(t){const e=t.table,n=e.stateManager,i=e.scenegraph;i.component.vScrollBar.addEventListener("pointerover",(t=>{n.showVerticalScrollBar()})),i.component.hScrollBar.addEventListener("pointerover",(t=>{n.showHorizontalScrollBar()})),i.component.vScrollBar.addEventListener("pointerout",(t=>{n.interactionState!==v.F.scrolling&&n.hideVerticalScrollBar()})),i.component.hScrollBar.addEventListener("pointerout",(t=>{n.interactionState!==v.F.scrolling&&n.hideHorizontalScrollBar()})),i.component.vScrollBar.addEventListener("pointermove",(t=>{i.table.stateManager.updateCursor("default"),t.stopPropagation()})),i.component.vScrollBar.addEventListener("pointerdown",(t=>{t.stopPropagation(),i.table.hasListeners(b.B.MOUSEDOWN_TABLE)&&i.table.fireListeners(b.B.MOUSEDOWN_TABLE,{event:t.nativeEvent})})),i.component.vScrollBar.addEventListener("scrollDown",(t=>{var e;i.table.eventManager.LastBodyPointerXY={x:t.x,y:t.y},i.table.eventManager.isDown=!0,n.interactionState!==v.F.scrolling&&n.updateInteractionState(v.F.scrolling),i.table.stateManager.hideMenu(),null===(e=i.table.editorManager)||void 0===e||e.completeEdit(),i.table.hasListeners(b.B.MOUSEDOWN_TABLE)&&i.table.fireListeners(b.B.MOUSEDOWN_TABLE,{event:t.nativeEvent})})),i.component.vScrollBar.addEventListener("pointerup",(()=>{n.fastScrolling=!1,i.table.eventManager.isDraging=!1,n.interactionState===v.F.scrolling&&n.updateInteractionState(v.F.default)})),i.component.vScrollBar.addEventListener("pointerupoutside",(()=>{n.fastScrolling=!1,n.interactionState===v.F.scrolling&&n.updateInteractionState(v.F.default)})),i.component.vScrollBar.addEventListener("scrollUp",(t=>{i.table.eventManager.isDraging=!1})),i.component.hScrollBar.addEventListener("pointermove",(t=>{i.table.stateManager.updateCursor("default"),t.stopPropagation()})),i.component.hScrollBar.addEventListener("pointerdown",(t=>{t.stopPropagation(),i.table.hasListeners(b.B.MOUSEDOWN_TABLE)&&i.table.fireListeners(b.B.MOUSEDOWN_TABLE,{event:t.nativeEvent})})),i.component.hScrollBar.addEventListener("scrollDown",(t=>{var e;i.table.eventManager.LastBodyPointerXY={x:t.x,y:t.y},i.table.eventManager.isDown=!0,n.interactionState!==v.F.scrolling&&n.updateInteractionState(v.F.scrolling),i.table.stateManager.hideMenu(),null===(e=i.table.editorManager)||void 0===e||e.completeEdit(),i.table.hasListeners(b.B.MOUSEDOWN_TABLE)&&i.table.fireListeners(b.B.MOUSEDOWN_TABLE,{event:t.nativeEvent})})),i.component.hScrollBar.addEventListener("pointerup",(()=>{n.fastScrolling=!1,i.table.eventManager.isDraging=!1,n.interactionState===v.F.scrolling&&n.updateInteractionState(v.F.default)})),i.component.hScrollBar.addEventListener("pointerupoutside",(()=>{n.fastScrolling=!1,n.interactionState===v.F.scrolling&&n.updateInteractionState(v.F.default)})),i.component.hScrollBar.addEventListener("scrollUp",(t=>{i.table.eventManager.isDraging=!1}));const r=(0,C.P2)(n.updateVerticalScrollBar,20),o=(0,C.P2)(n.updateHorizontalScrollBar,20);i.component.vScrollBar.addEventListener("scrollDrag",(t=>{i.table.eventManager.isDown&&(i.table.eventManager.isDraging=!0),n.fastScrolling=!0,n.interactionState!==v.F.scrolling&&n.updateInteractionState(v.F.scrolling);const e=t.detail.value[0]/(1-t.detail.value[1]+t.detail.value[0]);r(e,t)})),i.component.hScrollBar.addEventListener("scrollDrag",(t=>{i.table.eventManager.isDown&&(i.table.eventManager.isDraging=!0),n.fastScrolling=!0,n.interactionState!==v.F.scrolling&&n.updateInteractionState(v.F.scrolling);const e=t.detail.value[0]/(1-t.detail.value[1]+t.detail.value[0]);o(e)}))}(this),function(t){const e=t.table,n=e.stateManager,i=e.scenegraph;t.touchMovePoints=[],e.scenegraph.tableGroup.addEventListener("touchstart",(e=>{e.target.isChildOf(i.component.vScrollBar)||e.target.isChildOf(i.component.vScrollBar)||(t.isTouchdown=!0,t.touchMovePoints.push({x:e.page.x,y:e.page.y,timestamp:Date.now()}))}));const r=i=>{var r,o;if(t.touchMove&&i.preventDefault(),t.isTouchdown&&Cr(i))if((null===(o=null===(r=t.downIcon)||void 0===r?void 0:r.attribute)||void 0===o?void 0:o.funcType)===mt.cI.dragReorder)i.preventDefault();else if(t.touchMovePoints.length>4&&t.touchMovePoints.shift(),t.touchMovePoints.push({x:i.changedTouches[0].pageX,y:i.changedTouches[0].pageY,timestamp:Date.now()}),t._enableTableScroll){const r=-t.touchMovePoints[t.touchMovePoints.length-1].x+t.touchMovePoints[t.touchMovePoints.length-2].x,o=-t.touchMovePoints[t.touchMovePoints.length-1].y+t.touchMovePoints[t.touchMovePoints.length-2].y;dr({deltaX:r,deltaY:o},n),i.cancelable&&("none"===e.internalProps.overscrollBehavior||Math.abs(o)>=Math.abs(r)&&0!==o&&fr(o,n)||Math.abs(o)<=Math.abs(r)&&0!==r&&pr(r,n))&&i.preventDefault()}};window.addEventListener("touchmove",r,{passive:!1}),t.globalEventListeners.push({name:"touchmove",env:"window",callback:r});const o=n=>{var i,r,o,a;if(t.touchEnd=!0,t.touchMove=!1,t.isTouchdown&&Cr(n)){if((null===(r=null===(i=t.downIcon)||void 0===i?void 0:i.attribute)||void 0===r?void 0:r.funcType)===mt.cI.dragReorder)n.preventDefault();else if((null===(o=t.touchMovePoints)||void 0===o?void 0:o.length)&&(t.touchMovePoints.length>4&&t.touchMovePoints.shift(),t.touchMovePoints.push({x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY,timestamp:Date.now()}),t._enableTableScroll)){const n=t.touchMovePoints[0],i=t.touchMovePoints[(null===(a=t.touchMovePoints)||void 0===a?void 0:a.length)-1],r=(i.x-n.x)/(i.timestamp-n.timestamp),o=(i.y-n.y)/(i.timestamp-n.timestamp);t.inertiaScroll.startInertia(r,o,.95),e.eventManager.inertiaScroll.setScrollHandle(((t,n)=>{dr({deltaX:-t,deltaY:-n},e.stateManager)}))}t.isTouchdown=!1,t.touchMovePoints=[]}};window.addEventListener("touchend",o),t.globalEventListeners.push({name:"touchend",env:"window",callback:o});const a=e=>{t.touchEnd=!0,t.touchMove=!1,t.isTouchdown&&(t.isTouchdown=!1,t.touchMovePoints=[])};window.addEventListener("touchcancel",a),t.globalEventListeners.push({name:"touchcancel",env:"window",callback:a})}(this),vr(this)}updateEventBinder(){setTimeout((()=>{var t;this.table.isReleased||(ti(this.table)&&0===(null===(t=this.handleTextStickBindId)||void 0===t?void 0:t.length)?(this.handleTextStickBindId.push(this.table.on(b.B.SCROLL,(t=>{Xn(this.table)}))),this.handleTextStickBindId.push(this.table.on(b.B.RESIZE_COLUMN_END,(t=>{Xn(this.table)}))),this.handleTextStickBindId.push(this.table.on(b.B.RESIZE_ROW_END,(t=>{Xn(this.table)})))):!ti(this.table)&&this.handleTextStickBindId&&(this.handleTextStickBindId.forEach((t=>{this.table.off(t)})),this.handleTextStickBindId=[]),lr(this.table))}),0)}bindSelfEvent(){if(this.table.isReleased)return;const t=this.table.stateManager;var e;this.table.on(b.B.ICON_CLICK,(e=>{var n;const{col:i,row:r,x:o,y:a,funcType:s,icon:l,event:u}=e;if(s===mt.cI.dropDown)t.triggerDropDownMenu(i,r,o,a,u);else if(s===mt.cI.sort)t.triggerSort(i,r,l,u);else if(s===mt.cI.frozen)t.triggerFreeze(i,r,l);else if(s===mt.cI.drillDown)(h=this.table).fireListeners(Xi.z.DRILLMENU_CLICK,h.stateManager.drill);else if(s===mt.cI.collapse||s===mt.cI.expand){const e=!!(null===(n=t.select.ranges)||void 0===n?void 0:n.length);t.updateSelectPos(-1,-1),t.endSelectCells(!0,e),this.table.toggleHierarchyState(i,r)}var h})),this.table.on(b.B.DROPDOWN_MENU_CLICK,(()=>{t.hideMenu()})),this.updateEventBinder(),e=this.table,"browser"===p.X.mode&&e.on(b.B.CLICK_CELL,(t=>{const{col:n,row:i}=t;if("image"===t.target.type&&t.target.role&&t.target.role.startsWith("icon"))return;let r;r=e.internalProps.layoutMap.isHeader(n,i)?e.isPivotTable()?e._getHeaderLayoutMap(n,i).headerType:e.getHeaderDefine(n,i).headerType:e.getBodyColumnType(n,i);const o=e.isHeader(n,i)?e.getHeaderDefine(n,i):e.getBodyColumnDefine(n,i),a=e.getCellValue(n,i),s=e.getCellOriginValue(n,i);if("link"===r){if(!1===o.linkJump)return;const t=o.templateLink,r=!1!==o.linkDetect;let l;if(t){const r=e.getCellOriginRecord(n,i);if(r.vtableMerge)return;const o=Object.assign({__value:a,__dataValue:s},r);if((0,ar.Z)(t))l=t(o,n,i,e);else{const e=/\{\s*(\S+?)\s*\}/g;l=t.replace(e,((t,e)=>o[e]))}}else if(r){if(!sr.tP.test(a))return;l=a}else l=a;if(!l)return;const u=o.linkTarget,h=o.linkWindowFeatures;window.open(l,u,h)}else if("image"===r){const{clickToPreview:t}=o;if(!1===t)return;const e=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.backgroundColor="rgba(30, 30, 30, 0.4)",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.overflow="hidden",e.style.zIndex="9999",e.addEventListener("click",(t=>{t.target===e&&document.body.removeChild(e)}));const n=new Image;n.src=a,n.style.maxWidth="80%",n.style.maxHeight="80%",e.appendChild(n),document.body.appendChild(e)}else if("video"===r){const{clickToPreview:t}=o;if(!1===t)return;const e=document.createElement("div");e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.backgroundColor="rgba(30, 30, 30, 0.4)",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.overflow="hidden",e.style.zIndex="9999",e.addEventListener("click",(t=>{t.target===e&&document.body.removeChild(e)}));const n=document.createElement("video");n.src=a,n.style.maxWidth="80%",n.style.maxHeight="80%",n.setAttribute("preload","auto"),n.setAttribute("controls","true"),e.appendChild(n),document.body.appendChild(e)}})),this.table.on(b.B.DBLCLICK_CELL,(t=>{var e;if(t.federatedEvent){const n=(0,yi.RJ)(t.federatedEvent),i=this.table.scenegraph.getResizeColAt(n.abstractPos.x,n.abstractPos.y,null===(e=n.eventArgs)||void 0===e?void 0:e.targetCell);if(this.table.eventManager.checkCellFillhandle(n))this.table.fireListeners(b.B.DBLCLICK_FILL_HANDLE,{});else if(this.table._canResizeColumn(i.col,i.row)&&i.col>=0){this.table.scenegraph.updateAutoColWidth(i.col),this.table.internalProps._widthResizedColMap.add(i.col),this.table.scenegraph.updateChartSizeForResizeColWidth(i.col);const t=this.table.stateManager;t.columnResize.col<t.table.frozenColCount&&!t.table.isPivotTable()&&!t.table.transpose&&t.table.scenegraph.component.setFrozenColumnShadow(t.table.frozenColCount-1,t.columnResize.isRightFrozen);const e=[];for(let t=0;t<this.table.colCount;t++)e.push(this.table.getColWidth(t));this.table.fireListeners(b.B.RESIZE_COLUMN_END,{col:i.col,colWidths:e})}}})),this.table.isPivotTable()&&function(t){const e=t.internalProps.layoutMap.rowsDefine,n=t.internalProps.layoutMap.columnsDefine;for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n&&(n.drillDown||n.drillUp))return!0}for(let t=0;t<n.length;t++){const e=n[t];if("string"!=typeof e&&(e.drillDown||e.drillUp))return!0}return!1}(this.table)&&function(t){t.on(b.B.MOUSEENTER_CELL,(e=>{const{col:n,row:i}=e;if(-1===n||-1===i)return;const r=t.internalProps.layoutMap.getHeaderDimension(n,i);(null==r?void 0:r.drillDown)||(null==r?void 0:r.drillUp)?t.stateManager.updateDrillState(r.dimensionKey,r.title,r.drillDown,r.drillUp,n,i):t.stateManager.updateDrillState(void 0,void 0,!1,!1,-1,-1)})),t.on(b.B.MOUSELEAVE_TABLE,(e=>{t.stateManager.updateDrillState(void 0,void 0,!1,!1,-1,-1)}))}(this.table),lr(this.table),function(t){t.isPivotChart()&&t.scenegraph.tableGroup.addEventListener("click",(e=>{var n;if(!t.stateManager.columnMove.moving&&!t.stateManager.columnResize.resizing)if("axis-label"===e.target.name){const n=(0,yi.RJ)(e),{col:i,row:r}=n.eventArgs,o=t.internalProps.layoutMap;let a,s;o.indicatorsAsCol?(a=o.getDimensionKeyInChartSpec(o.rowHeaderLevelCount,r),s=o.getCellHeaderPaths(o.rowHeaderLevelCount-2,r).rowHeaderPaths):(a=o.getDimensionKeyInChartSpec(i,o.columnHeaderLevelCount),s=o.getCellHeaderPaths(i,o.columnHeaderLevelCount-1).colHeaderPaths);const l=s.map((t=>({key:t.dimensionKey,value:t.value}))).filter((t=>t.key));if(l.push({key:a,value:e.target.attribute.text}),t._selectedDimensionInChart.length&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].key!==e[n].key||t[n].value!==e[n].value)return!1;return!0}(t._selectedDimensionInChart,l))return;t._selectedDimensionInChart=l,o.updateDataStateToChartInstance(),(0,Ti.RW)(t.scenegraph),t.scenegraph.updateNextFrame()}else(null===(n=t._selectedDimensionInChart)||void 0===n?void 0:n.length)&&(t._selectedDimensionInChart.length=0,t.internalProps.layoutMap.updateDataStateToChartInstance(),(0,Ti.RW)(t.scenegraph),t.scenegraph.updateNextFrame())}))}(this.table),function(t){t.isPivotChart()&&(t.on(b.B.MOUSEENTER_CELL,(e=>{t.scenegraph.getCell(e.col,e.row).forEachChildren((n=>{if("axis"===n.name){const n=Sr(e.col,e.row,t.internalProps.layoutMap);e.axisPosition=n,t.fireListeners(b.B.MOUSEENTER_AXIS,e)}}))})),t.on(b.B.MOUSELEAVE_CELL,(e=>{t.scenegraph.getCell(e.col,e.row).forEachChildren((n=>{if("axis"===n.name){const n=Sr(e.col,e.row,t.internalProps.layoutMap);e.axisPosition=n,t.fireListeners(b.B.MOUSELEAVE_AXIS,e)}}))})))}(this.table),function(t){t.on("checkbox_state_change",(e=>{var n;if(!0!==(null===(n=t.internalProps.rowSeriesNumber)||void 0===n?void 0:n.enableTreeCheckbox))return;const{col:i,row:r,checked:o}=e,a=t.getCellOriginRecord(i,r),s=t.dataSource.currentPagerIndexedData,l=t.getRecordShowIndexByCell(i,r);let u=s[l];if((0,Mt.Z)(u)&&(u=[u]),a.vtableMerge)if(o)t.getHierarchyState(i,r)===m.g.collapse?kr(!0,u,t):Mr(!0,l,u,s,t),Ar(l,u,s,t);else{t.getHierarchyState(i,r)===m.g.collapse?kr(!1,u,t):Mr(!1,l,u,s,t),Ar(l,u,s,t);const e=t.stateManager.headerCheckedState._vtable_rowSeries_number,n=t.stateManager.updateHeaderCheckedState("_vtable_rowSeries_number",i,r);e!==n&&t.scenegraph.updateHeaderCheckboxCellState(i,r,n)}else Ar(l,u,s,t)}))}(this.table)}dealTableHover(t){if(!t)return void this.table.stateManager.updateHoverPos(-1,-1);const{eventArgs:e}=t;e?this.table.stateManager.updateHoverPos(e.col,e.row):this.table.stateManager.updateHoverPos(-1,-1)}dealIconHover(t){const{eventArgs:e}=t;e?this.table.stateManager.updateHoverIcon(e.col,e.row,e.target,e.targetCell):this.table.stateManager.updateHoverIcon(-1,-1,void 0,void 0)}dealMenuHover(t){}dealTableSelect(t,e){var n,i,r,o,a;if(!t)return this.table.stateManager.updateSelectPos(-1,-1),!1;const{eventArgs:s}=t;if(s){if("checkbox"===s.target.name||"radio"===s.target.name)return!1;if(this.table.isHeader(s.col,s.row)&&ze(this.table,s.col,s.row))return e||this.table.stateManager.updateSelectPos(-1,-1),!1;if(!this.table.isHeader(s.col,s.row)&&ze(this.table,s.col,s.row)){if(!e){const t=!!(null===(n=this.table.stateManager.select.ranges)||void 0===n?void 0:n.length);this.table.stateManager.updateSelectPos(-1,-1),t&&this.table.stateManager.endSelectCells(!0,t)}return!1}return!this.table.isPivotChart()||"axis-label"!==(null===(i=null==t?void 0:t.eventArgs)||void 0===i?void 0:i.target.name)&&"chart"!==(null===(r=null==t?void 0:t.eventArgs)||void 0===r?void 0:r.target.type)?(this.table.stateManager.updateSelectPos(s.col,s.row,s.event.shiftKey,s.event.ctrlKey||s.event.metaKey,!1,!e&&(null===(a=null===(o=this.table.options.select)||void 0===o?void 0:o.makeSelectCellVisible)||void 0===a||a)),!0):(this.table.stateManager.updateSelectPos(-1,-1),!1)}return!1}dealFillSelect(t,e){var n,r;const{eventArgs:o}=t;if(o){if((null===(r=null===(n=this.table.stateManager.select)||void 0===n?void 0:n.ranges)||void 0===r?void 0:r.length)&&this.table.stateManager.isFillHandle()){let n,r;const a=this.table.stateManager.select.ranges[this.table.stateManager.select.ranges.length-1];e&&((0,i.Z)(this.table.stateManager.fillHandle.directionRow)||(Math.abs(this.table.stateManager.fillHandle.startY-t.abstractPos.y)>=Math.abs(this.table.stateManager.fillHandle.startX-t.abstractPos.x)?this.table.stateManager.fillHandle.directionRow=!0:this.table.stateManager.fillHandle.directionRow=!1),Math.abs(this.table.stateManager.fillHandle.startY-t.abstractPos.y)>=Math.abs(this.table.stateManager.fillHandle.startX-t.abstractPos.x)?this.table.stateManager.fillHandle.startY-t.abstractPos.y>0?this.table.stateManager.fillHandle.direction="top":this.table.stateManager.fillHandle.direction="bottom":this.table.stateManager.fillHandle.startX-t.abstractPos.x>0?this.table.stateManager.fillHandle.direction="left":this.table.stateManager.fillHandle.direction="right",this.table.stateManager.fillHandle.directionRow?(n=o.row,r=a.end.col):(n=a.end.row,r=o.col)),this.table.stateManager.updateSelectPos(e?r:a.end.col,e?n:a.end.row,!0,o.event.ctrlKey||o.event.metaKey,!1,!e)}else this.table.stateManager.updateSelectPos(o.col,o.row,o.event.shiftKey,o.event.ctrlKey||o.event.metaKey,!1,!e);return!0}return!1}deelTableSelectAll(){this.table.stateManager.updateSelectPos(-1,-1,!1,!1,!0),this.table.fireListeners(b.B.SELECTED_CELL,{ranges:this.table.stateManager.select.ranges,col:0,row:0})}dealMenuSelect(t){}checkColumnResize(t,e){const{eventArgs:n}=t;if(this.table.options.enableTreeStickCell&&!n)return!1;const i=this.table.scenegraph.getResizeColAt(t.abstractPos.x,t.abstractPos.y,null==n?void 0:n.targetCell);return!!(this.table._canResizeColumn(i.col,i.row)&&i.col>=0)&&(e&&this.table.stateManager.startResizeCol(i.col,t.abstractPos.x,t.abstractPos.y,i.rightFrozen),!0)}checkRowResize(t,e){const{eventArgs:n}=t;if(n){const i=this.table.scenegraph.getResizeRowAt(t.abstractPos.x,t.abstractPos.y,n.targetCell);if(this.table._canResizeRow(i.col,i.row)&&i.row>=0)return e&&this.table.stateManager.startResizeRow(i.row,t.abstractPos.x,t.abstractPos.y,i.bottomFrozen),!0}return!1}checkCellFillhandle(t,e){var n,i,r,o;if(null===(n=this.table.options.excelOptions)||void 0===n?void 0:n.fillHandle){const{eventArgs:n}=t;if(n&&(null===(r=null===(i=this.table.stateManager.select)||void 0===i?void 0:i.ranges)||void 0===r?void 0:r.length)){const n=Math.max(this.table.stateManager.select.ranges[this.table.stateManager.select.ranges.length-1].start.col,this.table.stateManager.select.ranges[this.table.stateManager.select.ranges.length-1].end.col),i=Math.max(this.table.stateManager.select.ranges[this.table.stateManager.select.ranges.length-1].start.row,this.table.stateManager.select.ranges[this.table.stateManager.select.ranges.length-1].end.row),r=this.table.scenegraph.highPerformanceGetCell(n,i).globalAABBBounds,a=Math.abs(t.abstractPos.x-r.x2),s=Math.abs(t.abstractPos.y-r.y2),l=18;if((null===(o=this.table.stateManager.fillHandle)||void 0===o?void 0:o.isFilling)||a<=l/2&&s<=l/2)return e&&this.table.stateManager.startFillSelect(t.abstractPos.x,t.abstractPos.y),!0}}return!1}dealColumnResize(t,e){this.table.stateManager.updateResizeCol(t,e)}dealRowResize(t,e){this.table.stateManager.updateResizeRow(t,e)}chechColumnMover(t){var e;const{eventArgs:n}=t;return!(!n||!this.table._canDragHeaderPosition(n.col,n.row)||(this.table.stateManager.startMoveCol(n.col,n.row,t.abstractPos.x,t.abstractPos.y,null===(e=null==n?void 0:n.event)||void 0===e?void 0:e.nativeEvent),0))}dealColumnMover(t){var e;const{eventArgs:n}=t;(0,i.Z)(n.col)&&(0,i.Z)(n.row)&&this.table.stateManager.updateMoveCol(n.col,n.row,t.abstractPos.x,t.abstractPos.y,null===(e=null==n?void 0:n.event)||void 0===e?void 0:e.nativeEvent)}startColumnResize(t){}dealIconClick(t,e){const{eventArgs:n}=e,{target:i,event:r,col:o,row:a}=n||{target:t.target,event:t,col:-1,row:-1},s=i;if(s.role&&s.role.startsWith("icon-"))return this.table.fireListeners(b.B.ICON_CLICK,{name:s.name,x:(s.globalAABBBounds.x1+s.globalAABBBounds.x2)/2,y:s.globalAABBBounds.y2,col:o,row:a,funcType:s.attribute.funcType,icon:s,event:r}),!0;if(i instanceof or.H){const t=i.pickIcon(r.global);if(t)return this.table.fireListeners(b.B.ICON_CLICK,{name:t.attribute.id,x:t.globalX+t.globalAABBBounds.width()/2,y:t.globalY+t.AABBBounds.height(),col:o,row:a,funcType:t.attribute.funcType,icon:t,event:r}),!0}return!1}release(){this.gesture.release(),this.globalEventListeners.forEach((t=>{"document"===t.env?document.removeEventListener(t.name,t.callback):"body"===t.env?document.body.removeEventListener(t.name,t.callback):"window"===t.env&&window.removeEventListener(t.name,t.callback)})),this.globalEventListeners=[]}enableScroll(){this._enableTableScroll=!0}disableScroll(){this._enableTableScroll=!1}}let Ir,Pr;class Er extends s{static get DEFAULT(){return Ir||(Ir=new Er)}constructor(t={},e={}){var n,i;super(t,e),this._autoWrapText=null!==(n=null==t?void 0:t.autoWrapText)&&void 0!==n?n:null==e?void 0:e.autoWrapText,this._lineClamp=null!==(i=null==t?void 0:t.lineClamp)&&void 0!==i?i:null==e?void 0:e.lineClamp}clone(){return new Er(this,null)}get lineClamp(){return this._lineClamp}set lineClamp(t){this._lineClamp=t}get autoWrapText(){return this._autoWrapText}set autoWrapText(t){this._autoWrapText=t}}const Br=t=>{const e=t.value;return Number(e)>80?"#20a8d8":Number(e)>50?"#4dbd74":Number(e)>20?"#ffc107":"#f86c6b"};class Lr extends s{static get DEFAULT(){return Pr||(Pr=new Lr)}constructor(t={},e={}){var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m;super(t,e),this._showBar=null===(n=t.showBar)||void 0===n||n,this._barColor=null!==(i=t.barColor)&&void 0!==i?i:Br,this._barPositiveColor=null!==(r=t.barPositiveColor)&&void 0!==r?r:"#4dbd74",this._barNegativeColor=null!==(o=t.barNegativeColor)&&void 0!==o?o:"#f86c6b",this._barAxisColor=null!==(a=t.barAxisColor)&&void 0!==a?a:"black",this._barBgColor=t.barBgColor,this._barHeight=null!==(s=t.barHeight)&&void 0!==s?s:3,this._barHeight=null!==(l=t.barHeight)&&void 0!==l?l:3,this._barBottom=null!==(u=t.barBottom)&&void 0!==u?u:0,this._barPadding=null!==(h=t.barPadding)&&void 0!==h?h:[0,0,0,0],this._showBarMark=null!==(c=t.showBarMark)&&void 0!==c&&c,this._barMarkPositiveColor=null!==(d=t.barMarkPositiveColor)&&void 0!==d?d:"#4dbd74",this._barMarkNegativeColor=null!==(f=t.barMarkNegativeColor)&&void 0!==f?f:"#f86c6b",this._barMarkWidth=null!==(p=t.barMarkWidth)&&void 0!==p?p:2,this._barMarkPosition=null!==(g=t.barMarkPosition)&&void 0!==g?g:"right",this._barRightToLeft=null!==(m=t.barRightToLeft)&&void 0!==m&&m}get showBar(){return this._showBar}set showBar(t){this._showBar=t}get barColor(){return this._barColor}set barColor(t){this._barColor=t}get barBgColor(){return this._barBgColor}set barBgColor(t){this._barBgColor=t}get barHeight(){return this._barHeight}set barHeight(t){this._barHeight=t}get barBottom(){return this._barBottom}set barBottom(t){this._barBottom=t}get barPositiveColor(){return this._barPositiveColor}set barPositiveColor(t){this._barPositiveColor=t}get barNegativeColor(){return this._barNegativeColor}set barNegativeColor(t){this._barNegativeColor=t}get barAxisColor(){return this._barAxisColor}set barAxisColor(t){this._barAxisColor=t}get barPadding(){return this._barPadding}set barPadding(t){this._barPadding=t}get showBarMark(){return this._showBarMark}set showBarMark(t){this._showBarMark=t}get barMarkPositiveColor(){return this._barMarkPositiveColor}set barMarkPositiveColor(t){this._barMarkPositiveColor=t}get barMarkNegativeColor(){return this._barMarkNegativeColor}set barMarkNegativeColor(t){this._barMarkNegativeColor=t}get barMarkWidth(){return this._barMarkWidth}set barMarkWidth(t){this._barMarkWidth=t}get barMarkPosition(){return this._barMarkPosition}set barMarkPosition(t){this._barMarkPosition=t}get barRightToLeft(){return this._barRightToLeft}set barRightToLeft(t){this._barRightToLeft=t}clone(){return new Lr(this,null)}}let Dr;class Or extends s{static get DEFAULT(){return Dr||(Dr=new Or)}constructor(t={},e={}){super(t,e)}clone(){return new Or(this,null)}}const Fr=["type","content","font","color","width","height","marginRight","marginLeft","src","svg","name","path","positionType","tooltip","hover","cursor","shape","interactive","isGif"];class Hr{constructor(t){this._table=t;const e=ae.U();this.expandIcon=e[mt.up.expandIconName],this.collapseIcon=e[mt.up.collapseIconName]}getIcons(t,e,n,i,r){const o=[],a=this.getHierarchyIcon(t,e);a&&o.push(a);const{icon:s}=this._table.getBodyColumnDefine(t,e);if(s){let r;r="function"==typeof s?s({col:t,row:e,value:n,dataValue:i,table:this._table}):s;const a=ae.U(),l=t=>{let e;e="string"==typeof t?a[t]:t,e&&o.push(e)};Array.isArray(r)?r.forEach(((t,e)=>{l(t)})):l(r)}return r&&o.forEach(((n,i)=>{(n.content||n.src)&&(o[i]=this.getCellIconFromRecordValue(n,t,e))})),o}getStyleClass(t){switch(t){case"text":case"link":return Er;case"image":case"video":return Or;case"chart":case"sparkline":return s;case"progressbar":return Lr;case"checkbox":return h;case"radio":return c}return Er}getCellIconFromRecordValue(t,e,n){if(Array.isArray(t))return t.map((t=>this.getCellIconFromRecordValue(t,e,n)));if(!y.j6.isObject(t)||"function"==typeof t)return this._table.getFieldData(t,e,n);const r={},o=t;return Fr.forEach((t=>{var a,s;if(void 0!==o[t]){const l=this._table.getFieldData(o[t],e,n);(0,i.Z)(l)?r[t]=l:(null===(s=(a=this._table)._hasField)||void 0===s?void 0:s.call(a,o[t],e,n))||(r[t]=o[t])}})),r}getHierarchyIcon(t,e){const n=this._table.getHierarchyState(t,e);return n===m.g.expand?this.expandIcon:n===m.g.collapse?this.collapseIcon:void 0}getHierarchyIconWidth(){var t,e;return this.expandIcon.width+(null!==(t=this.expandIcon.marginLeft)&&void 0!==t?t:0)+(null!==(e=this.expandIcon.marginRight)&&void 0!==e?e:0)}}var Nr=n(46782);let zr;const Wr={CHANGE_STYLE:"change_style"};class jr extends r.R{static get EVENT_TYPE(){return Wr}static get DEFAULT(){return zr||(zr=new jr)}constructor(t={},e={}){var n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E,B;super(),this._defaultPadding=[10,16,10,16],this._color=null!==(n=t.color)&&void 0!==n?n:null==e?void 0:e.color,this._strokeColor=null!==(i=null==t?void 0:t.strokeColor)&&void 0!==i?i:null==e?void 0:e.strokeColor,this._fontSize=null!==(r=t.fontSize)&&void 0!==r?r:null==e?void 0:e.fontSize,this._fontFamily=null!==(o=t.fontFamily)&&void 0!==o?o:null==e?void 0:e.fontFamily,this._fontWeight=null!==(a=t.fontWeight)&&void 0!==a?a:null==e?void 0:e.fontWeight,this._fontVariant=null!==(s=t.fontVariant)&&void 0!==s?s:null==e?void 0:e.fontVariant,this._fontStyle=null!==(l=t.fontStyle)&&void 0!==l?l:null==e?void 0:e.fontStyle,this._textOverflow=(null!==(u=t.textOverflow)&&void 0!==u?u:null==e?void 0:e.textOverflow)||"ellipsis",this._textStick=null!==(c=null!==(h=t.textStick)&&void 0!==h?h:null==e?void 0:e.textStick)&&void 0!==c&&c,this._textStickBaseOnAlign=null!==(f=null!==(d=t.textStickBaseOnAlign)&&void 0!==d?d:null==e?void 0:e.textStickBaseOnAlign)&&void 0!==f&&f,this._marked=null!==(g=null!==(p=t.marked)&&void 0!==p?p:null==e?void 0:e.marked)&&void 0!==g&&g,this._textAlign=(null!==(m=t.textAlign)&&void 0!==m?m:null==e?void 0:e.textAlign)||"left",this._textBaseline=(null!==(v=t.textBaseline)&&void 0!==v?v:null==e?void 0:e.textBaseline)||"middle",this._bgColor=null!==(y=t.bgColor)&&void 0!==y?y:null==e?void 0:e.bgColor,this._padding=null!==(w=null!==(b=t.padding)&&void 0!==b?b:null==e?void 0:e.padding)&&void 0!==w?w:this._defaultPadding,this._borderColor=null!==(x=t.borderColor)&&void 0!==x?x:null==e?void 0:e.borderColor,this._lineHeight=null!==(_=t.lineHeight)&&void 0!==_?_:null==e?void 0:e.lineHeight,this._underline=null!==(C=t.underline)&&void 0!==C?C:null==e?void 0:e.underline,this._underlineColor=null!==(S=t.underlineColor)&&void 0!==S?S:null==e?void 0:e.underlineColor,this._underlineDash=null!==(M=t.underlineDash)&&void 0!==M?M:null==e?void 0:e.underlineDash,this._underlineOffset=null!==(A=t.underlineOffset)&&void 0!==A?A:null==e?void 0:e.underlineOffset,this._lineThrough=null!==(T=t.lineThrough)&&void 0!==T?T:null==e?void 0:e.lineThrough,this._lineThroughColor=null!==(k=t.lineThroughColor)&&void 0!==k?k:null==e?void 0:e.lineThroughColor,this._lineThroughDash=null!==(R=t.lineThroughDash)&&void 0!==R?R:null==e?void 0:e.lineThroughDash,this._linkColor=null!==(I=t.linkColor)&&void 0!==I?I:null==e?void 0:e.linkColor,this._cursor=null!==(P=t.cursor)&&void 0!==P?P:null==e?void 0:e.cursor,this._borderLineWidth=null!==(E=t.borderLineWidth)&&void 0!==E?E:null==e?void 0:e.borderLineWidth,this._borderLineDash=null!==(B=t.borderLineDash)&&void 0!==B?B:null==e?void 0:e.borderLineDash}get bgColor(){return this._bgColor}set bgColor(t){this._bgColor=t}get color(){return this._color}set color(t){this._color=t}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t}get textOverflow(){return this._textOverflow}set textOverflow(t){this._textOverflow=t}get padding(){var t;return null!==(t=this._padding)&&void 0!==t?t:this._defaultPadding}set padding(t){this._padding=t}get borderColor(){return this._borderColor}set borderColor(t){this._borderColor=t}get textStick(){return this._textStick}set textStick(t){this._textStick=t}get textStickBaseOnAlign(){return this._textStickBaseOnAlign}set textStickBaseOnAlign(t){this._textStickBaseOnAlign=t}get marked(){return this._marked}set marked(t){this._marked=t}get textAlign(){return this._textAlign}set textAlign(t){this._textAlign=t}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t}get underline(){return this._underline}set underline(t){this._underline=t}get underlineColor(){return this._underlineColor}set underlineColor(t){this._underlineColor=t}get underlineDash(){return this._underlineDash}set underlineDash(t){this._underlineDash=t}get underlineOffset(){return this._underlineOffset}set underlineOffset(t){this._underlineOffset=t}get lineThrough(){return this._lineThrough}set lineThrough(t){this._lineThrough=t}get lineThroughColor(){return this._lineThroughColor}set lineThroughColor(t){this._lineThroughColor=t}get lineThroughDash(){return this._lineThroughDash}set lineThroughDash(t){this._lineThroughDash=t}get linkColor(){return this._linkColor}set linkColor(t){this._linkColor=t}get cursor(){return this._cursor}set cursor(t){this._cursor=t}get borderLineWidth(){return this._borderLineWidth}set borderLineWidth(t){this._borderLineWidth=t}get borderLineDash(){return this._borderLineDash}set borderLineDash(t){this._borderLineDash=t}clone(){return new jr(this)}}let Vr,Gr,Zr;class Ur extends jr{static get DEFAULT(){return Vr||(Vr=new Ur)}constructor(t={},e={}){var n;super(t,e),this.textAlign=(null!==(n=t.textAlign)&&void 0!==n?n:null==e?void 0:e.textAlign)||"center"}clone(){return new Ur(this)}}class Kr extends jr{static get DEFAULT(){return Gr||(Gr=new Kr)}constructor(t={},e=null){var n,i;super(t,e),this._autoWrapText=null!==(n=null==t?void 0:t.autoWrapText)&&void 0!==n?n:null==e?void 0:e.autoWrapText,this._lineClamp=null!==(i=null==t?void 0:t.lineClamp)&&void 0!==i?i:null==e?void 0:e.lineClamp}clone(){return new Kr(this,null)}get lineClamp(){return this._lineClamp}set lineClamp(t){this._lineClamp=t}get autoWrapText(){return this._autoWrapText}set autoWrapText(t){this._autoWrapText=t}}class $r extends jr{static get DEFAULT(){return Zr||(Zr=new $r)}constructor(t={},e={},n={}){var i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S;super(t,e),this._size=(null!==(r=null!==(i=null==t?void 0:t.size)&&void 0!==i?i:null==e?void 0:e.size)&&void 0!==r?r:null==n?void 0:n.size)||14,this._spaceBetweenTextAndIcon=(null!==(a=null!==(o=null==t?void 0:t.spaceBetweenTextAndIcon)&&void 0!==o?o:null==e?void 0:e.spaceBetweenTextAndIcon)&&void 0!==a?a:null==n?void 0:n.spaceBetweenTextAndIcon)||8,this._defaultFill=null!==(l=null===(s=null==t?void 0:t.checkboxStyle)||void 0===s?void 0:s.defaultFill)&&void 0!==l?l:null==n?void 0:n.defaultFill,this._defaultStroke=null!==(h=null===(u=null==t?void 0:t.checkboxStyle)||void 0===u?void 0:u.defaultStroke)&&void 0!==h?h:null==n?void 0:n.defaultStroke,this._disableFill=null!==(d=null===(c=null==t?void 0:t.checkboxStyle)||void 0===c?void 0:c.disableFill)&&void 0!==d?d:null==n?void 0:n.disableFill,this._checkedFill=null!==(p=null===(f=null==t?void 0:t.checkboxStyle)||void 0===f?void 0:f.checkedFill)&&void 0!==p?p:null==n?void 0:n.checkedFill,this._checkedStroke=null!==(m=null===(g=null==t?void 0:t.checkboxStyle)||void 0===g?void 0:g.checkedStroke)&&void 0!==m?m:null==n?void 0:n.checkedStroke,this._disableCheckedFill=null!==(y=null===(v=null==t?void 0:t.checkboxStyle)||void 0===v?void 0:v.disableCheckedFill)&&void 0!==y?y:null==n?void 0:n.disableCheckedFill,this._disableCheckedStroke=null!==(w=null===(b=null==t?void 0:t.checkboxStyle)||void 0===b?void 0:b.disableCheckedStroke)&&void 0!==w?w:null==n?void 0:n.disableCheckedStroke,this._checkIconImage=null!==(_=null===(x=null==t?void 0:t.checkboxStyle)||void 0===x?void 0:x.checkIconImage)&&void 0!==_?_:null==n?void 0:n.checkIconImage,this._indeterminateIconImage=null!==(S=null===(C=null==t?void 0:t.checkboxStyle)||void 0===C?void 0:C.indeterminateIconImage)&&void 0!==S?S:null==n?void 0:n.indeterminateIconImage}get size(){return this._size}set size(t){this._size=t}get spaceBetweenTextAndIcon(){return this._spaceBetweenTextAndIcon}set spaceBetweenTextAndIcon(t){this._spaceBetweenTextAndIcon=t}get defaultFill(){return this._defaultFill}set defaultFill(t){this._defaultFill=t}get defaultStroke(){return this._defaultStroke}set defaultStroke(t){this._defaultStroke=t}get disableFill(){return this._disableFill}set disableFill(t){this._disableFill=t}get checkedFill(){return this._checkedFill}set checkedFill(t){this._checkedFill=t}get checkedStroke(){return this._checkedStroke}set checkedStroke(t){this._checkedStroke=t}get disableCheckedFill(){return this._disableCheckedFill}set disableCheckedFill(t){this._disableCheckedFill=t}get disableCheckedStroke(){return this._disableCheckedStroke}set disableCheckedStroke(t){this._disableCheckedStroke=t}get checkIconImage(){return this._checkIconImage}set checkIconImage(t){this._checkIconImage=t}get indeterminateIconImage(){return this._indeterminateIconImage}set indeterminateIconImage(t){this._indeterminateIconImage=t}getStyle(t){return new $r(t,this)}clone(){return new $r(this)}}class Xr{constructor(t){this._table=t;const e=ae.U();this.freezeIcon=e[mt.up.freezeIconName],this.frozenIcon=e[mt.up.frozenIconName],this.frozenCurrentIcon=e[mt.up.frozenCurrentIconName],this.normalIcon=e[mt.up.normalIconName],this.upIcon=e[mt.up.upwardIconName],this.downIcon=e[mt.up.downwardIconName],this.dropDownAbsoluteIcon=e[mt.up.dropdownIconName],this.expandIcon=e[mt.up.expandIconName],this.collapseIcon=e[mt.up.collapseIconName]}getIcons(t,e){const n=[];if(this._table.isPivotTable()){const{showSort:i,sort:r}=this._table.internalProps.layoutMap.getHeader(t,e);let o;if(o="function"==typeof i?i({col:t,row:e,table:this._table}):i,o){let i=this._table.getPivotSortState(t,e);i&&(i=i.toUpperCase());const r="ASC"===i?this.upIcon:"DESC"===i?this.downIcon:this.normalIcon;r&&n.push(r)}else if(r){const i=this.getSortIconForPivotTable(this._table.getPivotSortState(t,e),this._table,t,e);i&&n.push(i)}}else{const i=this._table.sortState;let r;r=void 0;const o=this._table.getCellRange(t,e);if(i)if(Array.isArray(i))for(let t=0;t<i.length;t++){const e=i[t],n=this._table._getHeaderCellBySortState(e);if(n&&(0,y._Z)(o,n.col,n.row)){({order:r}=e);break}}else{const t=this._table._getHeaderCellBySortState(i);t&&(0,y._Z)(o,t.col,t.row)&&({order:r}=i)}const a=this.getSortIcon(r,this._table,t,e);a&&n.push(a)}if(this._table.showFrozenIcon&&t<this._table.allowFrozenColCount){const i=this.getFrozenIcon(t,e);i&&n.push(i)}if(this.checkDropDownIcon(this._table,t,e)){const t=this.dropDownAbsoluteIcon;n.push(t)}const i=this.getDropDownStateIcons(this._table,t,e);i.length&&n.push(...i);const{headerIcon:r}=this._table._getHeaderLayoutMap(t,e),o=this.getHierarchyIcon(t,e);if(o&&n.push(o),r){let i;i="function"==typeof r?r({col:t,row:e,value:this._table.getCellValue(t,e),dataValue:this._table.getCellOriginValue(t,e),table:this._table}):r;const o=ae.U(),a=t=>{let e;e="string"==typeof t?o[t]:t,e&&n.push(e)};Array.isArray(i)?i.forEach(((t,e)=>{a(t)})):a(i)}return n}getFrozenIcon(t,e){if(this._table.isPivotTable()||this._table.transpose)return null;if(this._table.rightFrozenColCount&&t>=this._table.colCount-this._table.rightFrozenColCount)return null;const n=this._table.getHeaderDefine(t,e);if(n.columns&&n.columns.length>0)return null;let i=this.freezeIcon;return this._table.options.frozenColCount-1>t?i=this.frozenIcon:this._table.options.frozenColCount-1===t&&(i=this.frozenCurrentIcon),i}getSortIcon(t,e,n,r){const o="asc"===t?this.upIcon:"desc"===t?this.downIcon:this.normalIcon,a=e.getHeaderDefine(n,r);let s;return a&&(s="function"==typeof a.showSort?a.showSort({col:n,row:r,table:this._table}):a.showSort),!a||!1===s||!(0,i.Z)(s)&&!a.sort||a.columns&&a.columns.length>0?null:o}getSortIconForPivotTable(t,e,n,r){const o=e.getHeaderDefine(n,r);let a;return o&&(a="function"==typeof o.showSort?o.showSort({col:n,row:r,table:this._table}):o.showSort),!o||!1===a||!(0,i.Z)(a)&&!o.sort||o.columns&&o.columns.length>0?null:"ASC"===(null==t?void 0:t.toUpperCase())?this.upIcon:"DESC"===(null==t?void 0:t.toUpperCase())?this.downIcon:this.normalIcon}getDropDownStateIcons(t,e,n){var i,r,o;const a=t.getHeaderDefine(e,n),s=t._getHeaderLayoutMap(e,n),{dropDownMenu:l}=s,u=[];if(Array.isArray(l)&&l.length||Array.isArray(t.globalDropDownMenu)&&t.globalDropDownMenu.length&&!(null===(i=null==a?void 0:a.columns)||void 0===i?void 0:i.length)){const i=l||t.globalDropDownMenu;let a=-1,s=-1;for(let l=0;l<i.length;l++){const u=i[l];if("object"==typeof u&&u.children&&u.children.length)for(let i=0;i<u.children.length;i++){const h=u.children[i];if((null===(r=t.stateManager.menu)||void 0===r?void 0:r.dropDownMenuHighlight)&&(0,Nr.o)(t,null===(o=t.stateManager.menu)||void 0===o?void 0:o.dropDownMenuHighlight,"object"==typeof h?null==h?void 0:h.menuKey:h,e,n,l)){a=l,s=i;break}}if(t._dropDownMenuIsHighlight(e,n,l)){a=l;break}}if(-1!==a){let e;e=-1!==s?(l||t.globalDropDownMenu)[a].children[s]:(l||t.globalDropDownMenu)[a],e.stateIcon&&(e.stateIcon.svg?u.push({type:"svg",name:e.stateIcon.src||e.stateIcon.svg,width:e.stateIcon.width||22,height:e.stateIcon.height||22,svg:e.stateIcon.svg,positionType:mt.q0.right,marginRight:0,funcType:mt.cI.dropDownState,interactive:!1}):e.stateIcon.src&&u.push({type:"image",name:e.stateIcon.src||e.stateIcon.svg,width:e.stateIcon.width||22,height:e.stateIcon.height||22,src:e.stateIcon.src,positionType:mt.q0.right,marginRight:0,funcType:mt.cI.dropDownState,interactive:!1}))}}return u}getDropDownIconRect(t,e,n){var i,r,o,a,s,l,u,h;const c=null!==(a=null!==(r=null===(i=this.downIcon.hover)||void 0===i?void 0:i.width)&&void 0!==r?r:null===(o=this.downIcon)||void 0===o?void 0:o.width)&&void 0!==a?a:0,d=null!==(h=null!==(l=null===(s=this.downIcon.hover)||void 0===s?void 0:s.height)&&void 0!==l?l:null===(u=this.downIcon)||void 0===u?void 0:u.height)&&void 0!==h?h:0,f=t.right-2-c,p=t.right-2;let g;return g="middle"===n?t.top+t.height/2-c/2:"top"===n?t.top+e/2:"bottom"===n?t.bottom-2*e:t.top,{left:f,right:p,top:g,bottom:d+g,width:c,height:d}}getHierarchyIcon(t,e){const{hierarchyState:n}=this._table._getHeaderLayoutMap(t,e);if(n){if(n===m.g.expand)return this.expandIcon;if(n===m.g.collapse)return this.collapseIcon}}getHierarchyIconWidth(){var t,e;return this.expandIcon.width+(null!==(t=this.expandIcon.marginLeft)&&void 0!==t?t:0)+(null!==(e=this.expandIcon.marginRight)&&void 0!==e?e:0)}checkDropDownIcon(t,e,n){var i;if(t.isPivotTable()){const i=t._getHeaderLayoutMap(e,n);if(Array.isArray(i.dropDownMenu)&&i.dropDownMenu.length)return!0}else{const r=t.getHeaderDefine(e,n);if(Array.isArray(r.dropDownMenu)&&r.dropDownMenu.length||(!Array.isArray(r.dropDownMenu)||0!==r.dropDownMenu.length)&&Array.isArray(t.globalDropDownMenu)&&t.globalDropDownMenu.length&&!(null===(i=null==r?void 0:r.columns)||void 0===i?void 0:i.length))return!0}return!1}getStyleClass(t){switch(t){case"text":case"link":return Kr;case"image":case"video":return Ur;case"checkbox":return $r}}setTableColumnsEditor(){const t=(e,n)=>{null==e||e.forEach(((e,i)=>{e.editor&&(n[i].editor=e.editor),e.columns&&t(e.columns,n[i].columns)}))};t(this._table.options.columns,this._table.internalProps.columns)}}var Yr=n(2465),qr=n(86801),Jr=n(16079);class Qr extends EventTarget{constructor(t,e){if(super(),this._table=t,"node"===p.X.mode)return;const n=document.createElement("div");n.style.opacity="0",n.dataset.vtable="vtable",n.style.pointerEvents="none",n.classList.add("input-container");const i=this._input=document.createElement("input");n.appendChild(i),i.classList.add("table-focus-control"),i.dataset.vtable="vtable",i.readOnly=!0,e.appendChild(n),this._container=n}focus(){this._input.focus({preventScroll:!0})}setFocusRect(t,e){const n=this._input;n.value=e,n.select();const i=t.top-this._table.scrollTop,r=t.left-this._table.scrollLeft;n.style.top=`${i.toFixed()}px`,n.style.left=`${r.toFixed()}px`,n.style.width=`${t.width.toFixed()}px`,n.style.height=`${t.height.toFixed()}px`}get input(){return this._input}release(){var t;null===(t=this._container.parentElement)||void 0===t||t.removeChild(this._container)}}class to{constructor(t){this.isUpdate=!1,this._keys=[],this._sorted=!1,this.data=new Map,this._keys.length=0,this.cumulativeSum=new Map,this.difference=new Map,this.totalSum=0,this.table=t}get length(){return this.data.size}clear(){this._keys=[],this.data.clear(),this.cumulativeSum.clear(),this.difference.clear(),this.totalSum=0}clearRange(){this.cumulativeSum.clear(),this.difference.clear()}add(t,e){if(!(0,i.Z)(e))return;const n=this.table.getRowHeight(t);this.data.has(t)||(this._keys.push(t),this._sorted=!1),this.data.set(t,e),this.totalSum+=e,this.updateDifference(t,e-n)}remove(t){if(this.data.has(t)){const e=this.data.get(t);this.data.delete(t);const n=this._keys.indexOf(t);-1!==n&&this._keys.splice(n,1),this.totalSum-=e;const i=this.table.getRowHeight(t);this.updateDifference(t,i-e)}}put(t,e){if((0,i.Z)(e))if(this.data.has(t)){const n=this.data.get(t);if(n===e)return;this.data.set(t,e);const i=e-n;this.totalSum+=i,this.updateDifference(t,i)}else this.add(t,e)}get(t){return this.data.get(t)}has(t){return this.data.has(t)}_sort(){const{_keys:t}=this;this._sorted||(t.sort(((t,e)=>t<e?-1:t>e?1:0)),this._sorted=!0)}updateDifference(t,e){var n;const i=null!==(n=this.difference.get(t))&&void 0!==n?n:0;this.difference.set(t,i+e),this.update()}getSumInRange(t,e){return this.calculatePrefixSum(e)-this.calculatePrefixSum(t-1)}updateCumulativeSum(t,e){for(const[n,i]of this.cumulativeSum)n>=t&&this.cumulativeSum.set(n,i+e)}calculatePrefixSum(t){if(t<0)return 0;if(this.cumulativeSum.has(t)){let e=this.cumulativeSum.get(t);for(const[n,i]of this.difference)n<=t&&(e+=i);return e}return this.dealDiffenence(),this.getCumulativeSum(t)}getCumulativeSum(t){var e;let n=0;for(let i=t;i>=0;i--){if(this.cumulativeSum.has(i)){n+=this.cumulativeSum.get(i);break}n+=null!==(e=this.data.get(i))&&void 0!==e?e:this.table.getRowHeight(i)}return this.cumulativeSum.set(t,n),n}update(){this.isUpdate||(this.isUpdate=!0,setTimeout((()=>{this.dealDiffenence(),this.isUpdate=!1}),0))}dealDiffenence(){for(const[t]of this.cumulativeSum)for(const[e,n]of this.difference)if(t>=e){const e=this.cumulativeSum.get(t);this.cumulativeSum.set(t,e+n)}this.difference.clear()}insert(t,e){for(let e=t;e<=this.getLastIndex();e++)this.cumulativeSum.delete(e);const n=this.getLastIndex()+1;this.adjustOrder(t,t+1,n-t),(0,i.Z)(e)&&this.put(t,e)}getLastIndex(){return this._sort(),this._keys[this._keys.length-1]}delLast(){const t=this.getLastIndex();this.remove(t)}delete(t){if(!this.has(t))return;for(let e=t;e<=this.getLastIndex();e++)this.cumulativeSum.delete(e);const e=this.getLastIndex();this.adjustOrder(t+1,t,e-t),this.delLast()}adjustOrder(t,e,n){this.clearRange(),this._sort();const{_keys:i}=this;if(t>e){const r=[];for(let o=eo(i,t+n-1);o>=0;o--){const a=i[o];if(a>=t)r.push(this.get(a));else if(e<=a&&a<t)this.put(a+n,this.get(a));else if(a<e)break}for(let t=0;t<n;t++)this.put(e+t,r[n-1-t])}const{length:r}=i;if(t<e){const o=[];for(let a=eo(i,t);a<r;a++){const r=i[a];if(r>=t&&r<t+n)o.push(this.get(r));else if(t+n<=r&&r<=e)this.put(r-n,this.get(r));else if(r>e)break}for(let t=0;t<n;t++)this.put(e+t,o[t])}}exchangeOrder(t,e,n,i,r){const{_keys:o}=this;if(this._sorted||(o.sort(((t,e)=>t<e?-1:t>e?1:0)),this._sorted=!0),t>n){const i=[],a=[];for(let r=eo(o,n);r<eo(o,t)+e;r++){const n=o[r];n>=t&&n<t+e?a.push(this.get(n)):i.push(this.get(n))}for(let t=0;t<e;t++)this.put(r+t,a[t]);for(let t=0;t<i.length;t++)this.put(r+e+t,i[t])}else{const a=[],s=[];for(let r=eo(o,t);r<eo(o,n)+i;r++){const n=o[r];n>=t&&n<t+e?s.push(this.get(n)):a.push(this.get(n))}for(let t=0;t<e;t++)this.put(r+t,s[t]);for(let e=0;e<a.length;e++)this.put(t+e,a[e])}}}function eo(t,e){let n=0,i=t.length-1;for(;n<=i;){const r=Math.floor((n+i)/2);if(t[r]===e)return r;t[r]>e?i=r-1:n=r+1}return i<0?0:i}class no{constructor(t){this._table=t;const e=ae.U();this.dragReorderIconName=e[mt.up.dragReorderIconName]}getIcons(t,e){return[this.dragReorderIconName]}}var io=n(43259),ro=n(87269);function oo(t,e){var n;return(0,wt.ke)(e,t)||(null!==(n=lo(t,e))&&void 0!==n?n:{top:-1,row:-1,bottom:-1,height:-1})}function ao(t,e){var n;return(0,wt.sQ)(e,t)||(null!==(n=so(t,e))&&void 0!==n?n:{left:-1,col:-1,right:-1,width:1})}function so(t,e){if(0===t)return{left:0,col:0,right:0,width:0};const n=function(t,e){if(e._colRangeWidthsMap.get("$0$"+(e.colCount-1))){let n=0,i=e.colCount-1;for(;i-n>1;){const r=Math.floor((n+i)/2);if(t<e._colRangeWidthsMap.get(`$0$${r}`))i=r;else{if(!(t>e._colRangeWidthsMap.get(`$0$${r}`)))return r;n=r}}return i}return Math.min(Math.ceil(t/e.internalProps.defaultColWidth),e.colCount-1)}(t,e),i=e.getColsWidth(0,n);return t>=i?((n,i)=>{let r=i-e.getColWidth(n);const{colCount:o}=e.internalProps;for(let i=n;i<o;i++){const n=e.getColWidth(i),o=r+n;if(Math.round(r)<=Math.round(t)&&Math.round(t)<Math.round(o))return{left:r,col:i,right:o,width:n};r=o}return null})(n,i):((n,i)=>{let r=i;for(let i=n;i>=0;i--){const n=e.getColWidth(i),o=r-n;if(Math.round(o)<=Math.round(t)&&Math.round(t)<Math.round(r))return{left:o,col:i,right:r,width:n};r=o}return null})(n,i)}function lo(t,e){if(0===t)return{top:0,row:0,bottom:0,height:0};const n=function(t,e){let n=e.defaultRowHeight;return e._rowRangeHeightsMap.get("$0$"+(e.rowCount-1))&&(n=e._rowRangeHeightsMap.get("$0$"+(e.rowCount-1))/e.rowCount),Math.min(Math.ceil(t/n),e.rowCount-1)}(t,e),i=e.getRowsHeight(0,n);return t>=i?((n,i)=>{let r=i-e.getRowHeight(n);const{rowCount:o}=e.internalProps;for(let i=n;i<o;i++){const n=e.getRowHeight(i),o=r+n;if(Math.round(r)<=Math.round(t)&&Math.round(t)<Math.round(o))return{top:r,row:i,bottom:o,height:n};r=o}return null})(n,i):((n,i)=>{let r=i;for(let i=n;i>=0;i--){const n=e.getRowHeight(i),o=r-n;if(Math.round(o)<=Math.round(t)&&Math.round(t)<Math.round(r))return{top:o,row:i,bottom:r,height:n};r=o}return null})(n,i)}function uo(t,e,n){if(0===t)return{left:0,col:0,right:0,width:0};if(e&&t>n.tableNoFrameWidth-n.getRightFrozenColsWidth()&&t<n.tableNoFrameWidth&&t<=n.getAllColsWidth())for(let e=0;e<n.rightFrozenColCount;e++)if(t>n.tableNoFrameWidth-n.getColsWidth(n.colCount-e-1,n.colCount-1))return{col:n.colCount-e-1,left:void 0,right:void 0,width:void 0};return so(t,n)}function ho(t,e,n){if(0===t)return{top:0,row:0,bottom:0,height:0};if(t-=n.tableY,e&&t>n.tableNoFrameHeight-n.getBottomFrozenRowsHeight()&&t<n.tableNoFrameHeight)for(let e=0;e<n.rightFrozenColCount;e++)if(t>n.tableNoFrameHeight-n.getRowsHeight(n.rowCount-e-1,n.rowCount-1))return{row:n.rowCount-e-1,top:void 0,bottom:void 0,height:void 0};return lo(t,n)}var co=n(7813);function fo(t,e,n,r,o,a){var s;return t||e?t instanceof jr?t:"function"==typeof t?fo(t(n),e,n,r,o,a):(t||(t={}),o&&!(0,i.Z)(t.autoWrapText)&&(t.autoWrapText=!0),r===$r?new $r(null!=t?t:{},null!=e?e:{},null!==(s=a.checkboxStyle)&&void 0!==s?s:{}):new r(null!=t?t:{},null!=e?e:{})):r.DEFAULT}var po=n(9576);const go={};var mo=n(8527);class vo extends mo.rd{onUpdate(t,e,n){if(this.from.x!==this.to.x){const n=t?this.to.x:this.from.x+Math.floor((this.to.x-this.from.x)*e);this.params.table.scrollLeft=n}if(this.from.y!==this.to.y){const n=t?this.to.y:this.from.y+Math.floor((this.to.y-this.from.y)*e);this.params.table.scrollTop=n}}}class yo{constructor(t){this.table=t,this.timeline=new lt.L,this.ticker=new st,this.ticker.addTimeline(this.timeline),this.ticker.setFPS(60),this.tempGraphic=(0,jt.f)({})}scrollTo(t,e){var n,i,r,o;const a={x:this.table.scrollLeft,y:this.table.scrollTop},s=this.table.getCellRect(null!==(n=t.col)&&void 0!==n?n:0,null!==(i=t.row)&&void 0!==i?i:0),l={x:(0,Mt.Z)(t.col)?s.left-this.table.getFrozenColsWidth():this.table.scrollLeft,y:(0,Mt.Z)(t.row)?s.top-this.table.getFrozenRowsHeight():this.table.scrollTop},u=(0,Yr.Z)(e)?e?3e3:0:null!==(r=null==e?void 0:e.duration)&&void 0!==r?r:3e3,h=(0,Yr.Z)(e)?e?"linear":"":null!==(o=null==e?void 0:e.easing)&&void 0!==o?o:"linear";new mo.rs(q.R.GenAutoIncrementId(),this.timeline).bind(this.tempGraphic).play(new vo(a,l,u,h,{graphic:this.tempGraphic,table:this.table})),this.ticker.start()}clear(){this.timeline.clear(),this.ticker.stop()}}function bo(t){return(0,ar.Z)(t)?t:(0,vt.Z)(t)?(e,n)=>t.find((t=>t.range.start.col<=e&&t.range.end.col>=e&&t.range.start.row<=n&&t.range.end.row>=n)):void 0}const{toBoxArray:wo}=y.style,{isTouchEvent:xo}=y.event,_o=/^\$(\d+)\$(\d+)$/;!function(){if("node"===p.X.mode)return;const t=document.createElement("style");t.id="vtable-style-styleSheet",t.textContent="\n.vtable .input-container {\n\tposition: absolute;\n\ttop:0px;\n}\n.vtable .table-scrollable {\n\tposition: absolute;\n\toverflow: scroll;\n}\n.vtable .table-scrollable::-webkit-scrollbar-button{\n\tbackground-color: transparent;\n}\n.vtable .table-scrollable::-webkit-scrollbar-track-piece{\n\tbackground-color: transparent;\n}\n.vtable .table-scrollable::-webkit-scrollbar-corner {\n\tbackground-color: transparent;\n}\n.vtable .table-scrollable::-webkit-scrollbar-thumb {\n\tborder-radius      : 4px;\n\tbackground-color   : rgba(100, 100, 100, .5);\n}\n\n.vtable .table-scroll-end-point {\n\topacity: 0;\n\tposition: relative;\n}\n.vtable {\n\t/* overflow: auto  auto domvtable ;auto  */\n\t/* overflow: auto; */\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: left;\n  -webkit-font-smoothing:auto;\n\n  overflow: hidden; // for react-vtable dom custom element\n}\n\n.vtable-gantt {\n\t/* overflow: auto  auto domvtable ;auto  */\n\t/* overflow: auto; */\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: left;\n  -webkit-font-smoothing:auto;\n\n  overflow: hidden; // for react-vtable dom custom element\n}\n.vtable .table-component-container {\n  pointer-events: none;\n  overflow: hidden;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}\n.vtable > canvas {\n\tposition: absolute;\n\twidth: 0;\n\theight: 0;\n}\n.vtable .table-focus-control {\n\tposition: relative !important;\n\twidth: 1px;\n\theight: 1px;\n\topacity: 0;\n\tpadding: 0;\n\tmargin: 0;\n\tbox-sizing: border-box;\n\tpointer-events: none;\n\tmax-width: 500px;\n\tmax-height: 500px;\n\tfloat: none !important;\n}\n.vtable input.table-focus-control::-ms-clear {\n\tvisibility: hidden;\n}\n.vtable input.table-focus-control.composition {\n\topacity: 1;\n\tmax-width: none;\n\tmax-height: none;\n}\n",document.head.appendChild(t)}();class Co extends r.R{static get EVENT_TYPE(){return b.B}constructor(t,e={}){var n,r,o,a,s,l,u,h,c,d,f;if(super(),this.showFrozenIcon=!0,this.version="1.15.1",this.id=`VTable${Date.now()}`,this.isReleased=!1,this._chartEventMap={},this.throttleInvalidate=(0,C.E5)(this.render.bind(this),200),!t&&"node"!==e.mode&&!e.canvas)throw new Error("vtable's container is undefined");!1===(null===(n=e.customConfig)||void 0===n?void 0:n.imageAnonymous)&&(T.rF.isImageAnonymous=!1);const{frozenColCount:g=0,unfreezeAllOnExceedsMaxWidth:v,frozenRowCount:y,defaultRowHeight:b=40,defaultHeaderRowHeight:_,defaultColWidth:M=80,defaultHeaderColWidth:A,widthMode:k="standard",heightMode:R="standard",autoFillWidth:I=!1,autoFillHeight:P=!1,widthAdaptiveMode:E="only-body",heightAdaptiveMode:B="only-body",keyboardOptions:L,eventOptions:D,rowSeriesNumber:O,columnResizeMode:F,rowResizeMode:H="none",dragHeaderMode:N,showFrozenIcon:z,allowFrozenColCount:W,padding:j,hover:V,menu:G,select:Z,customRender:U,pixelRatio:K=wr,renderChartAsync:$,renderChartAsyncBatchCount:X,mode:Y,modeParams:q,canvasWidth:J,canvasHeight:Q,overscrollBehavior:tt,limitMinWidth:et,limitMinHeight:nt,clearDOM:it=!0}=e;this.container=t,this.options=e,this._widthMode=k,this._heightMode=R,this._widthAdaptiveMode=E,this._heightAdaptiveMode=B,this._autoFillWidth=I,this._autoFillHeight=P,this.customRender=U,this.padding={top:0,right:0,left:0,bottom:0},j&&("number"==typeof j?(this.padding.top=j,this.padding.left=j,this.padding.bottom=j,this.padding.right=j):(j.top&&(this.padding.top=j.top),j.bottom&&(this.padding.bottom=j.bottom),j.left&&(this.padding.left=j.left),j.right&&(this.padding.right=j.right))),(0,i.Z)(Q)&&(0,i.Z)(J)&&(this.canvasSizeSeted=!0),this.tableNoFrameWidth=0,this.tableNoFrameHeight=0,this.canvasWidth=(0,Mt.Z)(J)?J:void 0,this.canvasHeight=(0,Mt.Z)(Q)?Q:void 0,this.columnWidthComputeMode=null!==(r=e.columnWidthComputeMode)&&void 0!==r?r:"normal";const rt=this.internalProps={};void 0!==z&&(this.showFrozenIcon=z),"number"==typeof W&&W<=0&&(this.showFrozenIcon=!1),this.options.canvas?(rt.element=this.options.canvas.parentElement,rt.element.style.position="relative",rt.focusControl=new Qr(this,rt.element),rt.canvas=this.options.canvas,rt.context=rt.canvas.getContext("2d")):"node"!==p.X.mode&&(rt.element=(0,wt._I)(this.padding),rt.focusControl=new Qr(this,rt.element),rt.canvas=document.createElement("canvas"),rt.element.appendChild(rt.canvas),rt.context=rt.canvas.getContext("2d"),(null===(o=e.customConfig)||void 0===o?void 0:o.createReactContainer)&&function(t){const{internalProps:e}=t;e.bodyDomContainer=document.createElement("div"),e.bodyDomContainer.id="vtable-body-dom-container",e.bodyDomContainer.classList.add("table-component-container"),e.element.appendChild(e.bodyDomContainer),e.headerDomContainer=document.createElement("div"),e.headerDomContainer.id="vtable-header-dom-container",e.headerDomContainer.classList.add("table-component-container"),e.element.appendChild(e.headerDomContainer),e.frozenBodyDomContainer=document.createElement("div"),e.frozenBodyDomContainer.id="vtable-frozen-body-dom-container",e.frozenBodyDomContainer.classList.add("table-component-container"),e.element.appendChild(e.frozenBodyDomContainer),e.frozenHeaderDomContainer=document.createElement("div"),e.frozenHeaderDomContainer.id="vtable-frozen-header-dom-container",e.frozenHeaderDomContainer.classList.add("table-component-container"),e.element.appendChild(e.frozenHeaderDomContainer),e.rightFrozenBodyDomContainer=document.createElement("div"),e.rightFrozenBodyDomContainer.id="vtable-right-frozen-body-dom-container",e.rightFrozenBodyDomContainer.classList.add("table-component-container"),e.element.appendChild(e.rightFrozenBodyDomContainer),e.rightFrozenHeaderDomContainer=document.createElement("div"),e.rightFrozenHeaderDomContainer.id="vtable-right-frozen-header-dom-container",e.rightFrozenHeaderDomContainer.classList.add("table-component-container"),e.element.appendChild(e.rightFrozenHeaderDomContainer),e.frozenBottomDomContainer=document.createElement("div"),e.frozenBottomDomContainer.id="vtable-frozen-bottom-dom-container",e.frozenBottomDomContainer.classList.add("table-component-container"),e.element.appendChild(e.frozenBottomDomContainer),e.bottomDomContainer=document.createElement("div"),e.bottomDomContainer.id="vtable-bottom-dom-container",e.bottomDomContainer.classList.add("table-component-container"),e.element.appendChild(e.bottomDomContainer),e.rightFrozenBottomDomContainer=document.createElement("div"),e.rightFrozenBottomDomContainer.id="vtable-right-frozen-bottom-dom-container",e.rightFrozenBottomDomContainer.classList.add("table-component-container"),e.element.appendChild(e.rightFrozenBottomDomContainer)}(this)),rt.handler=new w.b,(0,Mt.Z)(this.options.resizeTime)&&(rt.handler.resizeTime=this.options.resizeTime),rt.pixelRatio=K,rt.frozenColCount=g,rt.frozenRowCount=y,rt.unfreezeAllOnExceedsMaxWidth=null==v||v,rt.defaultRowHeight=b,rt.defaultHeaderRowHeight=null!=_?_:b,rt.defaultColWidth=M,rt.defaultHeaderColWidth=null!=A?A:M,rt.keyboardOptions=L,rt.eventOptions=D,rt.rowSeriesNumber=O,rt.columnResizeMode=F,rt.rowResizeMode=H,rt.dragHeaderMode=null!=N?N:"none",rt.renderChartAsync=$,(0,Te.Ry)(X),rt.overscrollBehavior=null!=tt?tt:"auto",rt._rowHeightsMap=new to(this),rt._rowRangeHeightsMap=new Map,rt._colRangeWidthsMap=new Map,rt._widthResizedColMap=new Set,rt._heightResizedRowMap=new Set,this.colWidthsMap=new x.B,this.colContentWidthsMap=new x.B,this.colWidthsLimit={};const ot=this;if(rt.calcWidthContext={_:rt,get full(){var t;return"node"===p.X.mode?ot.canvasWidth/(null!=K?K:1):this._.canvas.width/(null!==(t=this._.context.pixelRatio)&&void 0!==t?t:window.devicePixelRatio)}},rt.cellTextOverflows={},rt.focusedTable=!1,rt.theme=S.default.of(null!==(a=e.theme)&&void 0!==a?a:S.default.DEFAULT),rt.theme.isPivot=this.isPivotTable(),(0,ae.E)(rt.theme.functionalIconsStyle),t?(it&&(t.innerHTML=""),t.appendChild(rt.element),this._updateSize()):this._updateSize(),rt.bodyHelper=new Hr(this),rt.headerHelper=new Xr(this),rt.rowSeriesNumberHelper=new no(this),rt.autoWrapText=e.autoWrapText,rt.enableLineBreak=e.enableLineBreak,rt.allowFrozenColCount=null!==(s=e.allowFrozenColCount)&&void 0!==s?s:0,rt.limitMaxAutoWidth=null!==(l=e.limitMaxAutoWidth)&&void 0!==l?l:450,rt.limitMinWidth=null!=et?"number"==typeof et?et:et?10:0:10,rt.limitMinHeight=null!=nt?"number"==typeof nt?nt:nt?10:0:10,this.scenegraph=new zi(this),this.stateManager=new rr(this),this.eventManager=new Rr(this),this.animationManager=new yo(this),e.legends){rt.legends=[];const t=bt.F.getFunction("createLegend");if(Array.isArray(e.legends)){for(let n=0;n<e.legends.length;n++)rt.legends.push(t(e.legends[n],this));this.scenegraph.tableGroup.setAttributes({x:this.tableX,y:this.tableY})}else rt.legends.push(t(e.legends,this)),this.scenegraph.tableGroup.setAttributes({x:this.tableX,y:this.tableY})}if(rt.tooltip=Object.assign({parentElement:this.getElement(),renderMode:"html",isShowOverflowTextTooltip:!1,confine:!0,position:m.u.bottom},e.tooltip),"html"===rt.tooltip.renderMode){const t=bt.F.getComponent("tooltipHandler");t&&(rt.tooltipHandler=new t(this,rt.tooltip.confine))}if(rt.menu=Object.assign({renderMode:"html"},e.menu),Array.isArray(null===(u=e.menu)||void 0===u?void 0:u.dropDownMenuHighlight)&&this.setDropDownMenuHighlight(null===(h=e.menu)||void 0===h?void 0:h.dropDownMenuHighlight),Array.isArray(null===(c=e.menu)||void 0===c?void 0:c.defaultHeaderMenuItems)&&(this.globalDropDownMenu=e.menu.defaultHeaderMenuItems),"html"===rt.menu.renderMode){const t=bt.F.getComponent("menuHandler");rt.menuHandler=new t(this)}this.headerStyleCache=new Map,this.bodyStyleCache=new Map,this.bodyMergeTitleCache=new Map,this.bodyBottomStyleCache=new Map,rt.stick={changedCells:new Map},rt.customMergeCell=bo(e.customMergeCell);const at=bt.F.getComponent("customCellStylePlugin");at&&(this.customCellStylePlugin=new at(this,null!==(d=e.customCellStyle)&&void 0!==d?d:[],null!==(f=e.customCellStyleArrangement)&&void 0!==f?f:[])),this._adjustCanvasSizeByOption()}_adjustCanvasSizeByOption(){"auto"!==this.options.canvasHeight&&"auto"!==this.options.canvasWidth||setTimeout((()=>{var t,e,n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C;let S,M;if("auto"===this.options.canvasHeight){let d=0;if(null===(t=this.theme.frameStyle)||void 0===t?void 0:t.innerBorder)d+=null!==(i=wo(null!==(n=null===(e=this.internalProps.theme.frameStyle)||void 0===e?void 0:e.shadowBlur)&&void 0!==n?n:[0])[1])&&void 0!==i?i:0;else if(this.theme.frameStyle){const t=wo(null!==(o=null===(r=this.internalProps.theme.frameStyle)||void 0===r?void 0:r.borderLineWidth)&&void 0!==o?o:[null]),e=wo(null!==(s=null===(a=this.internalProps.theme.frameStyle)||void 0===a?void 0:a.shadowBlur)&&void 0!==s?s:[0]);d+=(null!==(l=t[0])&&void 0!==l?l:0)+(null!==(u=e[0])&&void 0!==u?u:0)+((null!==(h=t[2])&&void 0!==h?h:0)+(null!==(c=e[2])&&void 0!==c?c:0))}M=Math.min(this.options.maxCanvasHeight?this.options.maxCanvasHeight-d:2e4,this.getAllRowsHeight())+d}else M=this.canvasHeight;if("auto"===this.options.canvasWidth){let t=0;if(null===(d=this.theme.frameStyle)||void 0===d?void 0:d.innerBorder)t+=null!==(g=wo(null!==(p=null===(f=this.internalProps.theme.frameStyle)||void 0===f?void 0:f.shadowBlur)&&void 0!==p?p:[0])[2])&&void 0!==g?g:0;else if(this.theme.frameStyle){const e=wo(null!==(v=null===(m=this.internalProps.theme.frameStyle)||void 0===m?void 0:m.borderLineWidth)&&void 0!==v?v:[null]),n=wo(null!==(b=null===(y=this.internalProps.theme.frameStyle)||void 0===y?void 0:y.shadowBlur)&&void 0!==b?b:[0]);t+=(null!==(w=e[1])&&void 0!==w?w:0)+(null!==(x=n[1])&&void 0!==x?x:0)+((null!==(_=e[3])&&void 0!==_?_:0)+(null!==(C=n[3])&&void 0!==C?C:0))}S=Math.min(this.options.maxCanvasWidth?this.options.maxCanvasWidth-t:2e4,this.getAllColsWidth())+t}else S=this.canvasWidth;this.setCanvasSize(S,M)}),0)}getContainer(){return this.container}getElement(){return this.internalProps.element}get canvas(){return this.internalProps.canvas}setCanvasSize(t,e){this.canvasWidth=t,this.canvasHeight=e,this.options.canvasHeight=e,this.options.canvasWidth=t,this.resize()}resize(){var t;this._updateSize(),null===(t=this.internalProps.legends)||void 0===t||t.forEach((t=>{null==t||t.resize()})),this.internalProps.title&&this.internalProps.title.resize(),this.internalProps.emptyTip&&this.internalProps.emptyTip.resize(),this.scenegraph.resize()}get rowCount(){return this.internalProps.rowCount}set rowCount(t){this.internalProps.rowCount=t}get colCount(){var t;return null!==(t=this.internalProps.colCount)&&void 0!==t?t:0}set colCount(t){this.internalProps.colCount=t}get frozenColCount(){var t,e,n,i,r;return null!==(r=null!==(n=null===(e=null===(t=this.internalProps)||void 0===t?void 0:t.layoutMap)||void 0===e?void 0:e.frozenColCount)&&void 0!==n?n:null===(i=this.internalProps)||void 0===i?void 0:i.frozenColCount)&&void 0!==r?r:0}set frozenColCount(t){t>=this.colCount&&(t=0),this.internalProps.frozenColCount=t,this.options.frozenColCount=t;const e=this._getMaxFrozenWidth();if(this.getColsWidth(0,t-1)>e)if(this.internalProps.unfreezeAllOnExceedsMaxWidth)this.internalProps.frozenColCount=0;else{const e=this._getComputedFrozenColCount(t);this.internalProps.frozenColCount=e}this.stateManager.setFrozenCol(this.internalProps.frozenColCount)}setFrozenColCount(t){t>=this.colCount&&(t=0),this.internalProps.frozenColCount=t,this.options.frozenColCount=t;const e=this._getMaxFrozenWidth();if(this.getColsWidth(0,t-1)>e)if(this.internalProps.unfreezeAllOnExceedsMaxWidth)this.internalProps.frozenColCount=0;else{const e=this._getComputedFrozenColCount(t);this.internalProps.frozenColCount=e}this.stateManager.setFrozenCol(this.internalProps.frozenColCount)}_setFrozenColCount(t){t>=this.colCount&&(t=0),this.internalProps.frozenColCount=t}_resetFrozenColCount(){this.options.frozenColCount&&(this.tableNoFrameWidth-this.getColsWidth(0,this.options.frozenColCount-1)<=120?this._setFrozenColCount(0):this.frozenColCount!==this.options.frozenColCount&&this._setFrozenColCount(this.options.frozenColCount))}get frozenRowCount(){var t,e,n,i,r;return null!==(r=null!==(n=null===(e=null===(t=this.internalProps)||void 0===t?void 0:t.layoutMap)||void 0===e?void 0:e.frozenRowCount)&&void 0!==n?n:null===(i=this.internalProps)||void 0===i?void 0:i.frozenRowCount)&&void 0!==r?r:0}set frozenRowCount(t){this.internalProps.frozenRowCount=t}get rightFrozenColCount(){var t,e,n,i,r;return null!==(r=null!==(n=null===(e=null===(t=this.internalProps)||void 0===t?void 0:t.layoutMap)||void 0===e?void 0:e.rightFrozenColCount)&&void 0!==n?n:null===(i=this.internalProps)||void 0===i?void 0:i.rightFrozenColCount)&&void 0!==r?r:0}set rightFrozenColCount(t){this.scenegraph.dealWidthRightFrozen(t)}get bottomFrozenRowCount(){var t,e,n,i,r;return null!==(r=null!==(n=null===(e=null===(t=this.internalProps)||void 0===t?void 0:t.layoutMap)||void 0===e?void 0:e.bottomFrozenRowCount)&&void 0!==n?n:null===(i=this.internalProps)||void 0===i?void 0:i.bottomFrozenRowCount)&&void 0!==r?r:0}set bottomFrozenRowCount(t){this.scenegraph.dealWidthBottomFrozen(t)}get defaultRowHeight(){return(0,Mt.Z)(this.internalProps.defaultRowHeight)?this.internalProps.defaultRowHeight:40}set defaultRowHeight(t){this.internalProps.defaultRowHeight=t,this.options.defaultRowHeight=t}get defaultHeaderRowHeight(){return this.internalProps.defaultHeaderRowHeight}set defaultHeaderRowHeight(t){this.internalProps.defaultHeaderRowHeight=t,this.options.defaultHeaderRowHeight=t}get defaultColWidth(){return this.internalProps.defaultColWidth}set defaultColWidth(t){this.internalProps.defaultColWidth=t,this.options.defaultColWidth=t}get defaultHeaderColWidth(){return this.internalProps.defaultHeaderColWidth}set defaultHeaderColWidth(t){this.internalProps.defaultHeaderColWidth=t,this.options.defaultHeaderColWidth=t}get colWidthsMap(){return this.internalProps._colWidthsMap}set colWidthsMap(t){this.internalProps._colWidthsMap=t}get colContentWidthsMap(){return this.internalProps._colContentWidthsMap}set colContentWidthsMap(t){this.internalProps._colContentWidthsMap=t}get _colRangeWidthsMap(){return this.internalProps._colRangeWidthsMap}set _colRangeWidthsMap(t){this.internalProps._colRangeWidthsMap=t}get _rowRangeHeightsMap(){return this.internalProps._rowRangeHeightsMap}set _rowRangeHeightsMap(t){this.internalProps._rowRangeHeightsMap=t}get rowHeightsMap(){return this.internalProps._rowHeightsMap}set rowHeightsMap(t){this.internalProps._rowHeightsMap=t}get colWidthsLimit(){return this.internalProps._colWidthsLimit}set colWidthsLimit(t){this.internalProps._colWidthsLimit=t}get keyboardOptions(){var t;return null!==(t=this.internalProps.keyboardOptions)&&void 0!==t?t:null}set keyboardOptions(t){this.internalProps.keyboardOptions=null!=t?t:void 0}get eventOptions(){var t;return null!==(t=this.internalProps.eventOptions)&&void 0!==t?t:null}set eventOptions(t){this.internalProps.eventOptions=null!=t?t:void 0}get widthMode(){return this._widthMode}set widthMode(t){t!==this._widthMode&&(this._widthMode=t,this.options.widthMode=t)}get heightMode(){return this._heightMode}set heightMode(t){t!==this._heightMode&&(this._heightMode=t,this.options.heightMode=t)}get autoFillWidth(){return this._autoFillWidth}set autoFillWidth(t){t!==this._autoFillWidth&&(this._autoFillWidth=t)}get autoFillHeight(){return this._autoFillHeight}set autoFillHeight(t){t!==this._autoFillHeight&&(this._autoFillHeight=t)}get widthAdaptiveMode(){return this._widthAdaptiveMode}set widthAdaptiveMode(t){t!==this._widthAdaptiveMode&&(this._widthAdaptiveMode=t)}get heightAdaptiveMode(){return this._heightAdaptiveMode}set heightAdaptiveMode(t){t!==this._heightAdaptiveMode&&(this._heightAdaptiveMode=t)}_colWidthDefineToPxWidth(t){return"auto"===t?0:(0,wt.qf)(this,t)}_getMaxFrozenWidth(){var t;const e=null!==(t=this.options.maxFrozenWidth)&&void 0!==t?t:"80%";return(0,wt.qf)(this,e)}_getComputedFrozenColCount(t){const e=this._getMaxFrozenWidth();let n=t;for(;this.getColsWidth(0,n-1)>e&&(n--,!(n<=0)););return n}_getColWidthLimits(t){const e=this.colWidthsLimit[t];if(!e)return null;const n={};return e.min&&(n.min=(0,wt.qf)(this,e.min),n.minDef=e.min),e.max&&(n.max=(0,wt.qf)(this,e.max),n.maxDef=e.max),n}_adjustColWidth(t,e){const n=this._getColWidthLimits(t);return Math.max((0,wt.AS)(n,e),0)}get pixelRatio(){return this.internalProps.pixelRatio}setPixelRatio(t){if(t!==this.internalProps.pixelRatio){this.internalProps.pixelRatio=t;const e=this.canvasWidth;this.internalProps.calcWidthContext={_:this.internalProps,get full(){var n;return"node"===p.X.mode?e/(null!=t?t:1):this._.canvas.width/(null!==(n=this._.context.pixelRatio)&&void 0!==n?n:window.devicePixelRatio)}},this.scenegraph.setPixelRatio(t)}}_updateSize(){var t,e,n,i,r,o,a,s,l,u,h,c,d,f,m,v,y,b,w,x,_,C,S,M,A,T;const{padding:k}=this;let R=0,I=0;if(this.tableX=0,this.tableY=0,this.options.canvas&&this.options.viewBox)R=this.options.viewBox.x2-this.options.viewBox.x1,I=this.options.viewBox.y2-this.options.viewBox.y1,(null===(t=null==this?void 0:this.scenegraph)||void 0===t?void 0:t.stage)&&(this.options.viewBox?this.scenegraph.stage.setViewBox(this.options.viewBox,!1):this.scenegraph.stage.resize(R,I));else if("browser"===p.X.mode){const t=this.getElement();let a=0,s=0;if(this.canvasSizeSeted)a=this.canvasWidth,s=this.canvasHeight;else if(t.parentElement){const e=t.parentElement.style||window.getComputedStyle(t.parentElement);a=t.parentElement.offsetWidth-parseInt(e.paddingLeft||"0px",10)-parseInt(e.paddingRight||"0px",10),s=t.parentElement.offsetHeight-parseInt(e.paddingTop||"0px",10)-parseInt(e.paddingBottom||"0px",20),a=(null!=a?a:1)-(this.options.tableSizeAntiJitter?1:0),s=(null!=s?s:1)-(this.options.tableSizeAntiJitter?1:0)}t.style.width=a&&a-k.left-k.right+"px"||"0px",t.style.height=s&&s-k.top-k.bottom+"px"||"0px";const{canvas:l}=this.internalProps;R=(null!==(n=null===(e=l.parentElement)||void 0===e?void 0:e.offsetWidth)&&void 0!==n?n:1)-(this.options.tableSizeAntiJitter?1:0),I=(null!==(r=null===(i=l.parentElement)||void 0===i?void 0:i.offsetHeight)&&void 0!==r?r:1)-(this.options.tableSizeAntiJitter?1:0),(null===(o=null==this?void 0:this.scenegraph)||void 0===o?void 0:o.stage)?this.scenegraph.stage.resize(R,I):(l.style.width="",l.style.height="",l.width=R,l.height=I,l.style.width=`${R}px`,l.style.height=`${I}px`)}else"node"===p.X.mode&&(R=this.canvasWidth-1,I=this.canvasHeight-1);const P=Math.floor(R-g.Iv(this.getTheme().scrollStyle)),E=Math.floor(I-g.vP(this.getTheme().scrollStyle));if(null===(a=this.internalProps.theme)||void 0===a?void 0:a.frameStyle){const t=wo(null!==(l=null===(s=this.internalProps.theme.frameStyle)||void 0===s?void 0:s.borderLineWidth)&&void 0!==l?l:[null]),e=wo(null!==(h=null===(u=this.internalProps.theme.frameStyle)||void 0===u?void 0:u.shadowBlur)&&void 0!==h?h:[0]);(null===(c=this.theme.frameStyle)||void 0===c?void 0:c.innerBorder)?(this.tableX=0,this.tableY=0,this.tableNoFrameWidth=P-(null!==(d=e[1])&&void 0!==d?d:0),this.tableNoFrameHeight=E-(null!==(f=e[2])&&void 0!==f?f:0)):(this.tableX=(null!==(m=t[3])&&void 0!==m?m:0)+(null!==(v=e[3])&&void 0!==v?v:0),this.tableY=(null!==(y=t[0])&&void 0!==y?y:0)+(null!==(b=e[0])&&void 0!==b?b:0),this.tableNoFrameWidth=P-((null!==(w=t[1])&&void 0!==w?w:0)+(null!==(x=e[1])&&void 0!==x?x:0))-((null!==(_=t[3])&&void 0!==_?_:0)+(null!==(C=e[3])&&void 0!==C?C:0)),this.tableNoFrameHeight=E-((null!==(S=t[0])&&void 0!==S?S:0)+(null!==(M=e[0])&&void 0!==M?M:0))-((null!==(A=t[2])&&void 0!==A?A:0)+(null!==(T=e[2])&&void 0!==T?T:0)))}}updateViewBox(t){var e,n,i,r,o,a,s,l;const u=null!==(r=null!==(n=null===(e=this.options)||void 0===e?void 0:e.viewBox.x2)&&void 0!==n?n:0-(null===(i=this.options)||void 0===i?void 0:i.viewBox.x1))&&void 0!==r?r:0,h=null!==(l=null!==(a=null===(o=this.options)||void 0===o?void 0:o.viewBox.y2)&&void 0!==a?a:0-(null===(s=this.options)||void 0===s?void 0:s.viewBox.y1))&&void 0!==l?l:0,c=t.x2-t.x1,d=t.y2-t.y1;this.options.viewBox=t,u!==c||h!==d?this.resize():this.scenegraph.stage.setViewBox(this.options.viewBox,!0)}setViewBoxTransform(t,e,n,i,r,o){this.internalProps.modifiedViewBoxTransform=!0,this.scenegraph.stage.window.setViewBoxTransform(t,e,n,i,r,o)}get rowHierarchyType(){return"grid"}getColsWidth(t,e){var n;if(t>e)return 0;t=Math.max(t,0),e=Math.min(e,(null!==(n=this.colCount)&&void 0!==n?n:1/0)-1);const i=this._colRangeWidthsMap.get(`$${t}$${e}`);if(null!=i)return i;const r=this._colRangeWidthsMap.get(`$${t}$${e-1}`);if(null!=r){const n=r+this.getColWidth(e);return t>=0&&e>=0&&!Number.isNaN(n)&&this._colRangeWidthsMap.set(`$${t}$${e}`,Math.round(n)),Math.round(n)}let o=0;for(let n=t;n<=e;n++)o+=this.getColWidth(n);return t>=0&&e>=0&&this._colRangeWidthsMap.set(`$${t}$${e}`,Math.round(o)),Math.round(o)}getRowHeight(t){var e;if((0,i.Z)(this.rowHeightsMap.get(t))){if(null===(e=this.options.customConfig)||void 0===e?void 0:e._disableColumnAndRowSizeRound){const e=this.rowHeightsMap.get(t);let n;return n=t<this.frozenRowCount?this.rowHeightsMap.getSumInRange(0,t):t>=this.rowCount-this.bottomFrozenRowCount?this.rowHeightsMap.getSumInRange(t,this.rowCount-1):this.rowHeightsMap.getSumInRange(this.frozenRowCount,t),n=Number(n.toFixed(2)),Number.isInteger(n)?Math.ceil(e):Math.floor(e)}return this.rowHeightsMap.get(t)}const n=this.getDefaultRowHeight(t);return(0,Mt.Z)(n)?n:this.defaultRowHeight}getDefaultColumnWidth(t){var e,n;return this.isRowHeader(t,0)||this.isCornerHeader(t,0)?Array.isArray(this.defaultHeaderColWidth)?null!==(e=this.defaultHeaderColWidth[t])&&void 0!==e?e:this.defaultColWidth:this.defaultHeaderColWidth:this.isRightFrozenColumn(t,this.columnHeaderLevelCount)&&this.isPivotTable()?Array.isArray(this.defaultHeaderColWidth)?null!==(n=this.defaultHeaderColWidth[this.rowHeaderLevelCount-this.rightFrozenColCount])&&void 0!==n?n:this.defaultColWidth:this.defaultHeaderColWidth:this.defaultColWidth}getDefaultRowHeight(t){var e,n;return this.isColumnHeader(0,t)||this.isCornerHeader(0,t)||this.isSeriesNumberInHeader(0,t)?Array.isArray(this.defaultHeaderRowHeight)?null!==(e=this.defaultHeaderRowHeight[t])&&void 0!==e?e:this.internalProps.defaultRowHeight:this.defaultHeaderRowHeight:this.isBottomFrozenRow(t)?Array.isArray(this.defaultHeaderRowHeight)?null!==(n=this.defaultHeaderRowHeight[this.columnHeaderLevelCount>0?this.columnHeaderLevelCount-this.bottomFrozenRowCount:0])&&void 0!==n?n:this.internalProps.defaultRowHeight:this.defaultHeaderRowHeight:this.internalProps.defaultRowHeight}_setRowHeight(t,e,n){var i;this.rowHeightsMap.put(t,(null===(i=this.options.customConfig)||void 0===i?void 0:i._disableColumnAndRowSizeRound)?e:Math.round(e)),n&&this._clearRowRangeHeightsMap(t)}setRowHeight(t,e){this.scenegraph.setRowHeight(t,e),this.scenegraph.updateChartSizeForResizeRowHeight(t),this.internalProps._heightResizedRowMap.add(t)}getRowsHeight(t,e){var n,i;if(t>e||0===this.rowCount)return 0;t=Math.max(t,0),e=Math.min(e,(null!==(n=this.rowCount)&&void 0!==n?n:1/0)-1);let r=0;const o="auto"===this.options.defaultRowHeight;if("standard"!==this.heightMode||this.options.customComputeRowHeight||this.autoFillHeight||!this.internalProps.layoutMap||this.hasAutoImageColumn()||o||0!==this.internalProps._heightResizedRowMap.size){if(null===(i=this.options.customConfig)||void 0===i?void 0:i._disableColumnAndRowSizeRound){const n=this.rowHeightsMap.getSumInRange(t,e);let i;return i=e<this.frozenRowCount?this.rowHeightsMap.getSumInRange(0,e):e>=this.rowCount-this.bottomFrozenRowCount?this.rowHeightsMap.getSumInRange(e,this.rowCount-1):this.rowHeightsMap.getSumInRange(this.frozenRowCount,e),i=Number(i.toFixed(2)),Number.isInteger(i)?Math.ceil(n):Math.floor(n)}r=this.rowHeightsMap.getSumInRange(t,e)}else{for(let n=t;n<Math.min(e+1,this.columnHeaderLevelCount);n++)r+=this.getRowHeight(n);e>=this.columnHeaderLevelCount&&(r+=this.defaultRowHeight*(Math.min(e,this.rowCount-this.bottomFrozenRowCount-1)-Math.max(this.columnHeaderLevelCount,t)+1));for(let t=this.rowCount-this.bottomFrozenRowCount;t<e+1;t++)r+=this.getRowHeight(t)}return Math.round(r)}getColWidthDefined(t){var e;const{layoutMap:n}=this.internalProps;if("autoWidth"===this.widthMode)return"auto";const{width:i}=null!==(e=null==n?void 0:n.getColumnWidthDefined(t))&&void 0!==e?e:{};return"number"==typeof i&&i<=0?0:i||this.getDefaultColumnWidth(t)}getColWidthDefinedNumber(t){const e=this.getColWidthDefined(t);return this._adjustColWidth(t,this._colWidthDefineToPxWidth(e))}isAutoRowHeight(t){return"autoHeight"===this.heightMode||!!this.options.customComputeRowHeight||t>=0&&t<this.columnHeaderLevelCount&&"auto"===this.getDefaultRowHeight(t)}getColWidth(t){var e;const n=null!==(e=this.colWidthsMap.get(t))&&void 0!==e?e:this.getDefaultColumnWidth(t);return"adaptive"===this.widthMode&&"number"==typeof n||this.transpose&&"number"==typeof n?this._colWidthDefineToPxWidth(n):this._adjustColWidth(t,this._colWidthDefineToPxWidth(n))}_setColWidth(t,e,n,i){this.colWidthsMap.put(t,"number"==typeof e?Math.round(e):e),n&&this._clearColRangeWidthsMap(t),i||this.stateManager.checkFrozen()}setColWidth(t,e){this.scenegraph.setColWidth(t,e),this.scenegraph.updateChartSizeForResizeColWidth(t),this.internalProps._widthResizedColMap.add(t)}_clearColRangeWidthsMap(t){if("number"!=typeof t)this._colRangeWidthsMap.clear();else{const e=this._colRangeWidthsMap.keys();for(const n of e){const e=_o.exec(n);if(e){const i=Number(e[1]),r=Number(e[2]);t>=i&&t<=r&&this._colRangeWidthsMap.delete(n)}}}}_clearRowRangeHeightsMap(t){this.rowHeightsMap.clearRange()}_getColContentWidth(t){return Number(this.colContentWidthsMap.get(t))}_setColContentWidth(t,e){this.colContentWidthsMap.put(t,e)}getAllRowsHeight(){return this.internalProps.rowCount<=0?0:this.getRowsHeight(0,this.internalProps.rowCount-1)}getAllColsWidth(){return this.internalProps.colCount<=0?0:this.getColsWidth(0,this.internalProps.colCount-1)}getMaxColWidth(t){var e;const n=this.colWidthsLimit[t];let i=null!==(e=n&&n.max)&&void 0!==e?e:1/0;return"string"==typeof i&&(i=(0,wt.qf)(this,i)),i}setMaxColWidth(t,e){(this.colWidthsLimit[t]||(this.colWidthsLimit[t]={})).max=e}getMinColWidth(t){var e;const n=this.colWidthsLimit[t];let i=null!==(e=n&&n.min)&&void 0!==e?e:0;return"string"==typeof i&&(i=(0,wt.qf)(this,i)),i}setMinColWidth(t,e){(this.colWidthsLimit[t]||(this.colWidthsLimit[t]={})).min=e}getCellRect(t,e){var n,i;const r=this.isFrozenCell(t,e);let o;const a=this.getColWidth(t);let s;o=r&&r.col&&this.isRightFrozenColumn(t,e)?this.getAllColsWidth()<=this.tableNoFrameWidth?this.getColsWidth(0,t-1)||0:this.tableNoFrameWidth-(null!==(n=this.getColsWidth(t,this.colCount-1))&&void 0!==n?n:0):this.getColsWidth(0,t-1)||0;const l=this.getRowHeight(e);return s=r&&r.row&&this.isBottomFrozenRow(t,e)?this.getAllRowsHeight()<=this.tableNoFrameHeight?this.getRowsHeight(0,e-1):this.tableNoFrameHeight-(null!==(i=this.getRowsHeight(e,this.rowCount-1))&&void 0!==i?i:0):this.getRowsHeight(0,e-1),new _.U(Math.round(o),Math.round(s),Math.round(a),Math.round(l))}getMergeCellRect(t,e){const n=this.getCellRange(t,e),i=this.getColsWidth(0,n.start.col-1)||0,r=this.getColsWidth(n.start.col,n.end.col),o=this.getRowsHeight(0,n.start.row-1)||0,a=this.getRowsHeight(n.start.row,n.end.row);return new _.U(Math.round(i),Math.round(o),Math.round(r),Math.round(a))}getCellRelativeRect(t,e){const n=this.isFrozenCell(t,e);let i=!0,r=!0;(null==n?void 0:n.col)&&(null==n?void 0:n.row)?(i=!1,r=!1):(null==n?void 0:n.col)?i=!1:(null==n?void 0:n.row)&&(r=!1);const o=this.getCellRect(t,e);return this._toRelativeRect(o,i,r)}getCellRangeRelativeRect(t){if(t.start){const e=this.isFrozenCell(t.start.col,t.start.row);let n=!0,i=!0;return(null==e?void 0:e.col)&&(null==e?void 0:e.row)?(n=!1,i=!1):(null==e?void 0:e.col)?n=!1:(null==e?void 0:e.row)&&(i=!1),this._toRelativeRect(this.getCellsRect(t.start.col,t.start.row,t.end.col,t.end.row),n,i)}const e=this.getCellRange(t.col,t.row),n=this.isFrozenCell(t.col,t.row);let i=!0,r=!0;return(null==n?void 0:n.col)&&(null==n?void 0:n.row)?(i=!1,r=!1):(null==n?void 0:n.col)?i=!1:(null==n?void 0:n.row)&&(r=!1),this._toRelativeRect(this.getCellsRect(e.start.col,e.start.row,e.end.col,e.end.row),i,r)}getVisibleCellRangeRelativeRect(t){let e;return e=t.start?t:this.getCellRange(t.col,t.row),this._getVisiableRect(this.getCellRangeRelativeRect(t),e)}_getVisiableRect(t,e){const n=e.start.col>=this.frozenColCount?Math.max(t.left,this.frozenColCount>=1?this.getColsWidth(0,this.frozenColCount-1):0):t.left,i=Math.min(t.right,this.tableNoFrameWidth),r=t.copy();r.left=n,r.right=i;const o=e.start.row>=this.frozenRowCount?Math.max(t.top,this.frozenRowCount>=1?this.getRowsHeight(0,this.frozenRowCount-1):0):t.top,a=Math.min(t.bottom,this.tableNoFrameHeight);return r.top=o,r.bottom=a,r}getCellsRect(t,e,n,i){var r,o,a,s,l,u;let h=this.getColsWidth(0,t-1)||0,c=this.getColsWidth(t,n);const d=this.scrollLeft;this.isLeftFrozenColumn(t)&&this.isRightFrozenColumn(n)?c=this.tableNoFrameWidth-(null!==(r=this.getColsWidth(t+1,this.colCount-1))&&void 0!==r?r:0)-h:this.isLeftFrozenColumn(t)&&!this.isLeftFrozenColumn(n)?c=Math.max(c-d,this.getColsWidth(t,this.frozenColCount-1)):!this.isRightFrozenColumn(t)&&this.isRightFrozenColumn(n)?(h=Math.min(h-d,this.tableNoFrameWidth-this.getRightFrozenColsWidth()),c=this.tableNoFrameWidth-(null!==(o=this.getColsWidth(t+1,this.colCount-1))&&void 0!==o?o:0)-h):this.isRightFrozenColumn(t)&&(h=this.tableNoFrameWidth-(null!==(a=this.getColsWidth(t,this.colCount-1))&&void 0!==a?a:0));let f=this.getRowsHeight(0,e-1),p=this.getRowsHeight(e,i);const g=this.scrollTop;return this.isTopFrozenRow(e)&&this.isBottomFrozenRow(i)?p=this.tableNoFrameHeight-(null!==(s=this.getRowsHeight(e+1,this.rowCount-1))&&void 0!==s?s:0)-f:this.isTopFrozenRow(e)&&!this.isTopFrozenRow(i)?p=Math.max(p-g,this.getRowsHeight(e,this.frozenRowCount-1)):!this.isBottomFrozenRow(e)&&this.isBottomFrozenRow(i)?(f=Math.min(f-g,this.tableNoFrameHeight-this.getBottomFrozenRowsHeight()),p=this.tableNoFrameHeight-(null!==(l=this.getRowsHeight(e+1,this.rowCount-1))&&void 0!==l?l:0)-f):this.isBottomFrozenRow(e)&&(f=this.tableNoFrameHeight-(null!==(u=this.getRowsHeight(e,this.rowCount-1))&&void 0!==u?u:0)),new _.U(Math.round(h),Math.round(f),Math.round(c),Math.round(p))}getCellsRectWidth(t,e,n,i){const r=this.isFrozenCell(t,e),o=this.isFrozenCell(n,i);let a=this.getColsWidth(t,n);if(r&&r.col){const e=this.scrollLeft;o&&o.col||(a-=e,a=Math.max(a,this.getColsWidth(t,this.frozenColCount-1)))}return a}getCellRangeRect(t){if(t.start)return this.getCellsRect(t.start.col,t.start.row,t.end.col,t.end.row);const e=this.getCellRange(t.col,t.row);return this.getCellsRect(e.start.col,e.start.row,e.end.col,e.end.row)}getCellRangeRectWidth(t){if(t.start)return this.getCellsRectWidth(t.start.col,t.start.row,t.end.col,t.end.row);const e=this.getCellRange(t.col,t.row);return this.getCellsRectWidth(e.start.col,e.start.row,e.end.col,e.end.row)}isFrozenCell(t,e){const n=this.isFrozenRow(e),i=this.isFrozenColumn(t);return n||i?{row:n,col:i}:null}getRowAt(t){return oo(t,this)}getColAt(t){return ao(t,this)}getCellAt(t,e){return function(t,e,n){const i=oo(e,n),{row:r,top:o,bottom:a,height:s}=i,l=ao(t,n),{col:u,left:h,right:c,width:d}=l;return{row:r,col:u,rect:{left:h,right:c,top:o,bottom:a,width:d,height:s}}}(t,e,this)}getCellAtRelativePosition(t,e){return function(t,e,n){t-=n.tableX;let i=!1;(e-=n.tableY)>0&&e<n.getFrozenRowsHeight()&&(i=!0);let r=!1;t>0&&t<n.getFrozenColsWidth()&&(r=!0);let o=!1;e>n.tableNoFrameHeight-n.getBottomFrozenRowsHeight()&&e<n.tableNoFrameHeight&&e<=n.getAllRowsHeight()&&(o=!0);let a=!1;t>n.tableNoFrameWidth-n.getRightFrozenColsWidth()&&t<n.tableNoFrameWidth&&t<=n.getAllColsWidth()&&(a=!0);const s=uo(r||a?t:t+n.scrollLeft,a,n),l=ho(i||o?e:e+n.scrollTop,o,n);if(s&&l){const{row:t,top:e,bottom:n,height:i}=l,{col:r,left:o,right:a,width:u}=s;return{row:t,col:r,rect:{left:o,right:a,top:e,bottom:n,width:u,height:i}}}return{col:-1,row:-1}}(t,e,this)}_checkRowCol(t,e){return t>=0&&t<this.colCount&&e>=0&&e<this.rowCount}_makeVisibleCell(t,e){if(this._checkRowCol(t,e)){const n=this.isFrozenCell(t,e);if(n&&n.col&&n.row)return;const i=this.getCellRect(t,e),r=(0,wt.VN)(this);if(r.contains(i))return;n&&n.col||this.getColsWidth(0,this.frozenColCount-1)+i.width>this.canvas.width||(i.left<r.left?this.scrollLeft-=r.left-i.left:r.right<i.right&&(this.scrollLeft-=r.right-i.right)),n&&n.row||this.getRowsHeight(0,this.frozenRowCount-1)+i.height>this.canvas.height||(i.top<r.top?this.scrollTop-=r.top-i.top:r.bottom<i.bottom&&(this.scrollTop-=r.bottom-i.bottom))}}render(){this.scenegraph.renderSceneGraph()}renderAsync(){return this.scenegraph.updateNextFrame(),new Promise(((t,e)=>{setTimeout((()=>{t()}),0)}))}_toRelativeRect(t,e=!0,n=!0){var i,r,o,a;const s=t.copy(),l=this.getVisibleRect();return s.offsetLeft(this.tableX-(e?l.left:0)),s.offsetTop(this.tableY-(n?l.top:0)),s.offsetLeft(null!==(r=null===(i=this.options.viewBox)||void 0===i?void 0:i.x1)&&void 0!==r?r:0),s.offsetTop(null!==(a=null===(o=this.options.viewBox)||void 0===o?void 0:o.y1)&&void 0!==a?a:0),s}getVisibleRect(){const{scrollTop:t,scrollLeft:e}=this,n=this.tableNoFrameWidth,i=this.tableNoFrameHeight;return new _.U(e,t,n,i)}get visibleRowCount(){const{frozenRowCount:t}=this,e=this.getVisibleRect(),n=t>0?e.top+this.getRowsHeight(0,t-1):e.top,i=this.getTargetRowAt(n);if(!i)return 0;const r=Math.max(i.top>=n?i.row:i.row+1,t);let o=this.getRowsHeight(0,r-1),a=0;const{rowCount:s}=this;for(let t=r;t<s;t++){const n=o+this.getRowHeight(t);if(e.bottom<n)break;a++,o=n}return a}getBodyVisibleCellRange(){const{scrollTop:t,scrollLeft:e}=this,n=this.getFrozenRowsHeight(),i=this.getFrozenColsWidth(),r=this.getBottomFrozenRowsHeight(),o=this.getRightFrozenColsWidth(),{row:a}=this.getRowAt(t+n+1),{col:s}=this.getColAt(e+i+1),l=this.getAllRowsHeight()>this.tableNoFrameHeight?this.getRowAt(t+this.tableNoFrameHeight-1-r).row:this.rowCount-1,u=this.getAllColsWidth()>this.tableNoFrameWidth?this.getColAt(e+this.tableNoFrameWidth-1-o).col:this.colCount-1;return u<0||l<0?null:{rowStart:a,colStart:s,rowEnd:l,colEnd:u}}getBodyVisibleRowRange(){const{scrollTop:t}=this,e=this.getFrozenRowsHeight(),n=this.getBottomFrozenRowsHeight(),{row:i}=this.getRowAt(t+e+1),r=this.getAllRowsHeight()>this.tableNoFrameHeight?this.getRowAt(t+this.tableNoFrameHeight-1-n).row:this.rowCount-1;return r<0?null:{rowStart:i,rowEnd:r}}getBodyVisibleColRange(){const{scrollLeft:t}=this,e=this.getFrozenColsWidth(),n=this.getRightFrozenColsWidth(),{col:i}=this.getColAt(t+e+1),r=this.getAllColsWidth()>this.tableNoFrameWidth?this.getColAt(t+this.tableNoFrameWidth-1-n).col:this.colCount-1;return r<0?null:{colStart:i,colEnd:r}}get visibleColCount(){const{frozenColCount:t}=this,e=this.getVisibleRect(),n=t>0?e.left+this.getColsWidth(0,t-1):e.left,i=this.getTargetColAt(n);if(!i)return 0;const r=Math.max(i.left>=n?i.col:i.col+1,t);let o=this.getColsWidth(0,r-1),a=0;const{colCount:s}=this;for(let t=r;t<s;t++){const n=o+this.getColWidth(t);if(e.right<n)break;a++,o=n}return a}get scrollTop(){return this.stateManager.scroll.verticalBarPos}set scrollTop(t){this.stateManager.setScrollTop(t)}get scrollLeft(){return this.stateManager.scroll.horizontalBarPos}set scrollLeft(t){this.stateManager.setScrollLeft(t)}getScrollLeft(){return this.scrollLeft}getScrollTop(){return this.scrollTop}setScrollLeft(t){this.scrollLeft=Math.ceil(t)}setScrollTop(t){this.scrollTop=Math.ceil(t)}getCellOverflowText(t,e){return this.scenegraph.getCellOverflowText(t,e)}addReleaseObj(t){if(!t||!t.release||"function"!=typeof t.release)throw new Error("not releaseObj!");(this.internalProps.releaseList=this.internalProps.releaseList||[]).push(t)}dispose(){this.release()}release(){var t,e,n,i,r,o,a,s,l,u,h,c,d,f,p,g;const m=this.internalProps;if(this.isReleased)return;null===(e=null===(t=m.tooltipHandler)||void 0===t?void 0:t.release)||void 0===e||e.call(t),null===(i=null===(n=m.menuHandler)||void 0===n?void 0:n.release)||void 0===i||i.call(n),Jr.d.clearAll(),null===(r=super.release)||void 0===r||r.call(this),null===(a=null===(o=m.handler)||void 0===o?void 0:o.release)||void 0===a||a.call(o),this.eventManager.release(),null===(l=null===(s=m.focusControl)||void 0===s?void 0:s.release)||void 0===l||l.call(s),null===(u=m.legends)||void 0===u||u.forEach((t=>{null==t||t.release()})),null===(h=m.title)||void 0===h||h.release(),m.title=null,null===(c=m.emptyTip)||void 0===c||c.release(),m.emptyTip=null,m.layoutMap.release(),m.releaseList&&(m.releaseList.forEach((t=>{var e;return null===(e=null==t?void 0:t.release)||void 0===e?void 0:e.call(t)})),m.releaseList=null),this.scenegraph.stage.release(),this.scenegraph.proxy.release(),m.focusControl.release();const{parentElement:v}=m.element;v&&!this.options.canvas&&v.removeChild(m.element),null===(p=null===(f=null===(d=this.editorManager)||void 0===d?void 0:d.editingEditor)||void 0===f?void 0:f.onEnd)||void 0===p||p.call(f),this.isReleased=!0,this.scenegraph=null,this.internalProps=null,null===(g=this.reactCustomLayout)||void 0===g||g.clearCache()}fireListeners(t,e){return super.fireListeners(t,e)}updateOption(t){var e,n,i,r,o,a,s,l,u,h,c,d,f;this.options=t,this._hasAutoImageColumn=void 0;const{frozenColCount:g=0,unfreezeAllOnExceedsMaxWidth:v,defaultRowHeight:y=40,defaultHeaderRowHeight:b,defaultColWidth:w=80,defaultHeaderColWidth:_=80,keyboardOptions:C,eventOptions:M,rowSeriesNumber:A,columnResizeMode:T,rowResizeMode:k="none",dragHeaderMode:R,showFrozenIcon:I,allowFrozenColCount:P,padding:E,hover:B,menu:L,select:D,pixelRatio:O,widthMode:F,heightMode:H,autoFillWidth:N,autoFillHeight:z,widthAdaptiveMode:W,heightAdaptiveMode:j,customRender:V,renderChartAsync:G,renderChartAsyncBatchCount:Z,canvasWidth:U,canvasHeight:K,overscrollBehavior:$,limitMinWidth:X,limitMinHeight:Y}=t;O&&O!==this.internalProps.pixelRatio&&(this.internalProps.pixelRatio=O),E&&("number"==typeof E?(this.padding.top=E,this.padding.left=E,this.padding.bottom=E,this.padding.right=E):(E.top&&(this.padding.top=E.top),E.bottom&&(this.padding.bottom=E.bottom),E.left&&(this.padding.left=E.left),E.right&&(this.padding.right=E.right))),this.showFrozenIcon="boolean"!=typeof I||I,"number"==typeof P&&P<=0&&(this.showFrozenIcon=!1),this.widthMode=null!=F?F:"standard",this.heightMode=null!=H?H:"standard",this._widthAdaptiveMode=null!=W?W:"only-body",this._heightAdaptiveMode=null!=j?j:"only-body",this.autoFillWidth=null!=N&&N,this.autoFillHeight=null!=z&&z,this.customRender=V,this.canvasWidth=(0,Mt.Z)(U)?U:void 0,this.canvasHeight=(0,Mt.Z)(K)?K:void 0;const q=this.internalProps;if("node"===p.X.mode||t.canvas||(0,wt.gX)(q.element,this.padding),this.columnWidthComputeMode=null!==(e=t.columnWidthComputeMode)&&void 0!==e?e:"normal",q.frozenColCount=g,q.unfreezeAllOnExceedsMaxWidth=null==v||v,q.defaultRowHeight=y,q.defaultHeaderRowHeight=null!=b?b:y,q.defaultColWidth=w,q.defaultHeaderColWidth=null!=_?_:w,q.keyboardOptions=C,q.eventOptions=M,q.rowSeriesNumber=A,q.columnResizeMode=T,q.rowResizeMode=k,q.dragHeaderMode=null!=R?R:"none",q.renderChartAsync=G,(0,Te.Ry)(Z),q.overscrollBehavior=null!=$?$:"auto",q.cellTextOverflows={},q._rowHeightsMap=new to(this),q._rowRangeHeightsMap=new Map,q._colRangeWidthsMap=new Map,q._widthResizedColMap=new Set,q._heightResizedRowMap=new Set,this.colWidthsMap=new x.B,this.colContentWidthsMap=new x.B,this.colWidthsLimit={},q.stick.changedCells.clear(),q.theme=S.default.of(null!==(n=t.theme)&&void 0!==n?n:S.default.DEFAULT),q.theme.isPivot=this.isPivotTable(),(0,ae.E)(q.theme.functionalIconsStyle),this.scenegraph.updateStageBackground(),q.autoWrapText=t.autoWrapText,q.enableLineBreak=t.enableLineBreak,q.allowFrozenColCount=null!==(i=t.allowFrozenColCount)&&void 0!==i?i:0,q.limitMaxAutoWidth=null!==(r=t.limitMaxAutoWidth)&&void 0!==r?r:450,q.limitMinWidth=null!=X?"number"==typeof X?X:X?10:0:10,q.limitMinHeight=null!=Y?"number"==typeof Y?Y:Y?10:0:10,null===(o=q.legends)||void 0===o||o.forEach((t=>{null==t||t.release()})),null===(a=q.title)||void 0===a||a.release(),q.title=null,null===(s=q.emptyTip)||void 0===s||s.release(),q.emptyTip=null,q.layoutMap.release(),this.scenegraph.clearCells(),this.scenegraph.updateComponent(),this.stateManager.updateOptionSetState(),this._updateSize(),this.eventManager.updateEventBinder(),t.legends){q.legends=[];const e=bt.F.getFunction("createLegend");if(Array.isArray(t.legends)){for(let n=0;n<t.legends.length;n++)q.legends.push(e(t.legends[n],this));this.scenegraph.tableGroup.setAttributes({x:this.tableX,y:this.tableY})}else q.legends.push(e(t.legends,this)),this.scenegraph.tableGroup.setAttributes({x:this.tableX,y:this.tableY})}if(q.tooltip=Object.assign({parentElement:this.getElement(),renderMode:"html",isShowOverflowTextTooltip:!1,confine:!0,position:m.u.bottom},t.tooltip),"html"===q.tooltip.renderMode&&!q.tooltipHandler){const t=bt.F.getComponent("tooltipHandler");q.tooltipHandler=new t(this,q.tooltip.confine)}if(q.menu=Object.assign({renderMode:"html"},t.menu),Array.isArray(null===(l=t.menu)||void 0===l?void 0:l.dropDownMenuHighlight)&&this.setDropDownMenuHighlight(null===(u=t.menu)||void 0===u?void 0:u.dropDownMenuHighlight),Array.isArray(null===(h=t.menu)||void 0===h?void 0:h.defaultHeaderMenuItems)&&(this.globalDropDownMenu=t.menu.defaultHeaderMenuItems),"html"===q.menu.renderMode&&!q.menuHandler){const t=bt.F.getComponent("menuHandler");q.menuHandler=new t(this)}this.clearCellStyleCache(),this.clearColWidthCache(),this.clearRowHeightCache(),q.customMergeCell=bo(t.customMergeCell),null===(c=this.customCellStylePlugin)||void 0===c||c.updateCustomCell(null!==(d=t.customCellStyle)&&void 0!==d?d:[],null!==(f=t.customCellStyleArrangement)&&void 0!==f?f:[]),this._adjustCanvasSizeByOption()}renderWithRecreateCells(){const t={col:this.stateManager.hover.cellPos.col,row:this.stateManager.hover.cellPos.row};this.refreshHeader(),this.internalProps.useOneRowHeightFillAll=!1,this.scenegraph.clearCells(),this.clearCellStyleCache(),this.scenegraph.createSceneGraph(),this.stateManager.updateHoverPos(t.col,t.row),this.render()}getFrozenRowsHeight(){return this.getRowsHeight(0,this.frozenRowCount-1)}getFrozenColsWidth(){return this.getColsWidth(0,this.frozenColCount-1)}getBottomFrozenRowsHeight(){if(this.bottomFrozenRowCount>0){let t=0;for(let e=this.rowCount-this.bottomFrozenRowCount;e<=this.rowCount-1;e++)t+=this.getRowHeight(e);return t}return 0}getRightFrozenColsWidth(){if(this.rightFrozenColCount>0){let t=0;for(let e=this.colCount-this.rightFrozenColCount;e<=this.colCount-1;e++)t+=this.getColWidth(e);return t}return 0}getDrawRange(){const t=Math.min(this.tableNoFrameWidth,this.getAllColsWidth()),e=Math.min(this.tableNoFrameHeight,this.getAllRowsHeight());return new _.U(this.tableX,this.tableY,t,e)}_getMouseAbstractPoint(t,e=!0){var n,i,r,o;let a;if(!t)return{inTable:!1,x:void 0,y:void 0};a=xo(t)?t.changedTouches[0]:t;const s=a.clientX||a.pageX+window.scrollX,l=a.clientY||a.pageY+window.scrollY,u=this.internalProps.canvas.getBoundingClientRect();let h=!0;u.right<=s&&(h=!1),u.bottom<=l&&(h=!1);const c=u.width,d=c/(this.canvas.offsetWidth||c),f=u.height,p=f/(this.canvas.offsetHeight||f),g={x:(s-u.left)/d+(e?this.scrollLeft:0)-(null!==(i=null===(n=this.options.viewBox)||void 0===n?void 0:n.x1)&&void 0!==i?i:0),y:(l-u.top)/p+(e?this.scrollTop:0)-(null!==(o=null===(r=this.options.viewBox)||void 0===r?void 0:r.y1)&&void 0!==o?o:0),inTable:h};return this.internalProps.modifiedViewBoxTransform&&this.scenegraph.stage.window.getViewBoxTransform()&&this.scenegraph.stage.window.getViewBoxTransform().transformPoint(g,g),g}getTheme(){return this.internalProps.theme}getTargetColAt(t){return so(t,this)}getTargetRowAt(t){const e=lo(t,this);return e&&(e.row=Math.min(e.row,this.rowCount-1)),e}getTargetColAtConsiderRightFrozen(t,e){return uo(t,e,this)}getTargetRowAtConsiderBottomFrozen(t,e){return ho(t,e,this)}clearSelected(){this.stateManager.updateSelectPos(-1,-1)}selectCell(t,e,n,i,r,o=!1){var a,s,l;const u=!!(null===(a=this.stateManager.select.ranges)||void 0===a?void 0:a.length);this.stateManager.updateSelectPos(t,e,n,i,!1,null===(l=null!=r?r:null===(s=this.options.select)||void 0===s?void 0:s.makeSelectCellVisible)||void 0===l||l,o),this.stateManager.endSelectCells(!0,u)}selectCells(t){const{scrollLeft:e,scrollTop:n}=this;t.forEach(((t,e)=>{var n,i,r,o,a,s;t.start.col===t.end.col&&t.start.row===t.end.row?this.stateManager.updateSelectPos(t.start.col,t.start.row,!1,e>=1,!1,null===(i=null===(n=this.options.select)||void 0===n?void 0:n.makeSelectCellVisible)||void 0===i||i,!0):(this.stateManager.updateSelectPos(t.start.col,t.start.row,!1,e>=1,!1,null===(o=null===(r=this.options.select)||void 0===r?void 0:r.makeSelectCellVisible)||void 0===o||o,!0),this.stateManager.updateInteractionState(v.F.grabing),this.stateManager.updateSelectPos(t.end.col,t.end.row,!1,e>=1,!1,null===(s=null===(a=this.options.select)||void 0===a?void 0:a.makeSelectCellVisible)||void 0===s||s,!0)),this.stateManager.endSelectCells(!1,!1),this.stateManager.updateInteractionState(v.F.default)})),this.setScrollTop(n),this.setScrollLeft(e)}get recordsCount(){var t;return null===(t=this.records)||void 0===t?void 0:t.length}get allowFrozenColCount(){return this.internalProps.allowFrozenColCount}get rowHeaderLevelCount(){return this.internalProps.layoutMap.rowHeaderLevelCount}get columnHeaderLevelCount(){return this.internalProps.layoutMap.columnHeaderLevelCount}get records(){return this.internalProps.records}get dataSource(){return this.internalProps.dataSource}set dataSource(t){this.scenegraph.clearCells(),(0,wt.x6)(this,t),this.refreshRowColCount(),this.scenegraph.createSceneGraph(),this.render()}get autoWrapText(){return this.internalProps.autoWrapText}set autoWrapText(t){this.internalProps.autoWrapText=t,this.options.autoWrapText=t}get enableLineBreak(){return this.internalProps.enableLineBreak}set enableLineBreak(t){this.internalProps.enableLineBreak=t,this.options.enableLineBreak=t}updateAutoWrapText(t){this.internalProps.autoWrapText!==t&&(this.internalProps.autoWrapText=t,this.options.autoWrapText=t,this.scenegraph.clearCells(),this.clearCellStyleCache(),this.scenegraph.createSceneGraph(),this.render())}get theme(){return this.internalProps.theme}set theme(t){this.internalProps.theme=S.default.of(null!=t?t:S.default.DEFAULT),this.internalProps.theme.isPivot=this.isPivotTable(),this.options.theme=t,(0,ae.E)(this.internalProps.theme.functionalIconsStyle)}updateTheme(t){const e={col:this.stateManager.hover.cellPos.col,row:this.stateManager.hover.cellPos.row};this.internalProps.theme=S.default.of(null!=t?t:S.default.DEFAULT),this.internalProps.theme.isPivot=this.isPivotTable(),(0,ae.E)(this.internalProps.theme.functionalIconsStyle),this.options.theme=t,this.scenegraph.updateComponent(),this.scenegraph.updateStageBackground(),this.scenegraph.clearCells(),this.clearCellStyleCache(),this.scenegraph.createSceneGraph(),this.stateManager.updateHoverPos(e.col,e.row),this.render()}getBodyField(t,e){return this.internalProps.layoutMap.getBody(t,e).field}getBodyColumnDefine(t,e){const n=this.internalProps.layoutMap.getBody(t,e);return null==n?void 0:n.define}getBodyColumnType(t,e){var n,i;const r=null!==(i=null===(n=this.internalProps.layoutMap.getBody(t,e))||void 0===n?void 0:n.cellType)&&void 0!==i?i:"text";return(0,St.WJ)("cellType",{cellType:r},t,e,this)}getCellType(t,e){let n;return this.isSeriesNumberInHeader(t,e)?this.internalProps.layoutMap.getSeriesNumberHeader(t,e).cellType:(n=this.isHeader(t,e)?this.internalProps.layoutMap.getHeader(t,e).headerType:this.internalProps.layoutMap.getBody(t,e).cellType,(0,St.WJ)("cellType",{cellType:n},t,e,this))}getHeaderField(t,e){return this.internalProps.layoutMap.getHeaderField(t,e)}getHeaderDefine(t,e){const n=this.internalProps.layoutMap.getHeader(t,e);return null==n?void 0:n.define}getCellLocation(t,e){return this.internalProps.layoutMap.getCellLocation(t,e)}getCellHeaderPaths(t,e){return this.internalProps.layoutMap.getCellHeaderPaths(t,e)}getHeadersDefine(t,e){const n=[];for(;;){const i=this.getHeaderDefine(t,e);if(!i||!i.field&&!i.columns)break;n.push(i),e++}return n}_getHeaderLayoutMap(t,e){return this.internalProps.layoutMap.getHeader(t,e)}_getBodyLayoutMap(t,e){return this.internalProps.layoutMap.getBody(t,e)}getContext(){return this.internalProps.context}getRecordByCell(t,e){if(!this.internalProps.layoutMap.isHeader(t,e))return this.getCellOriginRecord(t,e)}getRecordByRowCol(t,e){return this.getRecordByCell(t,e)}getRecordStartRowByRecordIndex(t){return this.internalProps.layoutMap.getRecordStartRowByRecordIndex(t)}_getHeaderCellBySortState(t){const{layoutMap:e}=this.internalProps,n=e.headerObjects.find((e=>e&&e.field===t.field));if(n)return e.getHeaderCellAdressById(n.id)}getCellRange(t,e){var n;if(this.internalProps.customMergeCell){const n=this.internalProps.customMergeCell(t,e,this);if(n&&n.range&&((0,i.Z)(n.text)||n.customLayout||n.customRender))return n.range}return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.getCellRange(t,e)}hasCustomMerge(){return!!this.internalProps.customMergeCell}getCustomMerge(t,e){if(this.internalProps.customMergeCell){const n=this.internalProps.customMergeCell(t,e,this);if(n&&n.range&&((0,i.Z)(n.text)||n.customLayout||this.customRender)){if(n.style){const i=this.internalProps.bodyHelper.getStyleClass("text"),r=f(n.style,this.theme.bodyStyle,{col:t,row:e,table:this,value:n.text,dataValue:this.getCellOriginValue(t,e),cellHeaderPaths:this.getCellHeaderPaths(t,e)},i,this.options.autoWrapText,this.theme);n.style=r}return n}}}isCellRangeEqual(t,e,n,i){return this.internalProps.layoutMap.isCellRangeEqual(t,e,n,i)}_getLayoutCellId(t,e){return this.internalProps.layoutMap.getCellId(t,e)}getHeaderDescription(t,e){var n;const i=this._getHeaderLayoutMap(t,e),r=null==i?void 0:i.define,o=null!==(n=null==r?void 0:r.description)&&void 0!==n?n:null==i?void 0:i.description;return"function"==typeof o?o({col:t,row:e,value:this.getCellValue(t,e),dataValue:this.getCellOriginValue(t,e)}):o}setDropDownMenuHighlight(t){this.stateManager.setDropDownMenuHighlight(t)}_dropDownMenuIsHighlight(t,e,n){return this.stateManager.dropDownMenuIsHighlight(t,e,n)}isSeriesNumberInBody(t,e){return this.internalProps.layoutMap&&this.internalProps.layoutMap.isSeriesNumberInBody(t,e)}isSeriesNumberInHeader(t,e){return this.internalProps.layoutMap&&this.internalProps.layoutMap.isSeriesNumberInHeader(t,e)}isHeader(t,e){return this.internalProps.layoutMap&&this.internalProps.layoutMap.isHeader(t,e)}isColumnHeader(t,e){var n;return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.isColumnHeader(t,e)}isRowHeader(t,e){var n;return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.isRowHeader(t,e)}isCornerHeader(t,e){var n;return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.isCornerHeader(t,e)}isFrozenColumn(t,e){return this.isLeftFrozenColumn(t,e)||this.isRightFrozenColumn(t,e)}isLeftFrozenColumn(t,e){var n;return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.isFrozenColumn(t,e)}isRightFrozenColumn(t,e){var n;return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.isRightFrozenColumn(t,e)}isFrozenRow(t,e){return this.isTopFrozenRow(t,e)||this.isBottomFrozenRow(t,e)}isTopFrozenRow(t,e){var n;return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.isFrozenRow(t,e)}isBottomFrozenRow(t,e){var n;return null===(n=this.internalProps.layoutMap)||void 0===n?void 0:n.isBottomFrozenRow(t,e)}getCellInfo(t,e){if(t>=0&&e>=0){const n=this.isHeader(t,e)?this.getHeaderDefine(t,e):this.getBodyColumnDefine(t,e);return{col:t,row:e,field:this.getHeaderField(t,e),cellHeaderPaths:this.internalProps.layoutMap.getCellHeaderPaths(t,e),title:null==n?void 0:n.title,cellType:this.getCellType(t,e),originData:this.getCellOriginRecord(t,e),cellRange:this.getCellRangeRelativeRect({col:t,row:e}),value:this.getCellValue(t,e),dataValue:this.getCellOriginValue(t,e),cellLocation:this.getCellLocation(t,e),scaleRatio:this.canvas.getBoundingClientRect().width/this.canvas.offsetWidth}}}_hasField(t,e,n){var i;if(null===t)return!1;if(this.internalProps.layoutMap.isHeader(e,n))return!1;const r=this.getRecordShowIndexByCell(e,n);return null===(i=this.internalProps.dataSource)||void 0===i?void 0:i.hasField(r,t)}_getCellStyle(t,e){return function(t,e,n){var i,r,o,a,s,l,u,h,c,d;const p=null===(i=n.customCellStylePlugin)||void 0===i?void 0:i.getCustomCellStyle(t,e),{layoutMap:g}=n.internalProps;if(g.isHeader(t,e)){let i;if(!n.isPivotTable()||n.isBottomFrozenRow(e)||n.isRightFrozenColumn(t))i=`${t}-${e}`;else{const r=n.getHeaderDefine(t,e),o=n.isCornerHeader(t,e);i=(null==r?void 0:r.dimensionKey)?o?`dim-cor-${r.dimensionKey}`:`dim-${r.dimensionKey}`:(null==r?void 0:r.indicatorKey)?`ind-${r.indicatorKey}`:`${t}-${e}`}let l=n.headerStyleCache.get(i);if(l)return p?(0,po.wh)(l,p):l;const u=g.getHeader(t,e);let h;if(n.isPivotChart()&&(0,co.Vp)(t,e,g)&&g.isAxisCell(t,e)?h=null!==(o=null===(r=g.getBody(t,n.rowHeaderLevelCount).style)||void 0===r?void 0:r.padding)&&void 0!==o?o:n.theme.bodyStyle.padding:n.isPivotChart()&&(0,co.iN)(t,e,g)&&g.isAxisCell(t,e)&&(h=null!==(s=null===(a=g.getBody(n.columnHeaderLevelCount,e).style)||void 0===a?void 0:a.padding)&&void 0!==s?s:n.theme.bodyStyle.padding),(!u||u.isEmpty)&&(g.isLeftBottomCorner(t,e)||g.isRightBottomCorner(t,e)||g.isCornerHeader(t,e)||g.isRightTopCorner(t,e)))return go;const c=n.internalProps.headerHelper.getStyleClass((null==u?void 0:u.headerType)||"text");if(g.isBottomFrozenRow(t,e)&&n.theme.bottomFrozenStyle)l=fo(h?{padding:h}:{},n.theme.bottomFrozenStyle,{col:t,row:e,table:n,value:n.getCellValue(t,e),dataValue:n.getCellOriginValue(t,e),cellHeaderPaths:n.getCellHeaderPaths(t,e)},c,n.options.autoWrapText,n.theme);else if(g.isRightFrozenColumn(t,e)&&n.theme.rightFrozenStyle)l=fo(h?{padding:h}:{},n.theme.rightFrozenStyle,{col:t,row:e,table:n,value:n.getCellValue(t,e),dataValue:n.getCellOriginValue(t,e),cellHeaderPaths:n.getCellHeaderPaths(t,e)},c,n.options.autoWrapText,n.theme);else{const i=(null==u?void 0:u.style)||{};h&&(i.padding=h),l=fo(i,g.isColumnHeader(t,e)||g.isBottomFrozenRow(t,e)?n.theme.headerStyle:g.isRowHeader(t,e)||g.isRightFrozenColumn(t,e)?n.theme.rowHeaderStyle:n.theme.cornerHeaderStyle,{col:t,row:e,table:n,value:n.getCellValue(t,e),dataValue:n.getCellOriginValue(t,e),cellHeaderPaths:n.getCellHeaderPaths(t,e)},c,n.options.autoWrapText,n.theme)}return n.headerStyleCache.set(i,l),p?(0,po.wh)(l,p):l}let m,v;(null===(u=null===(l=n.internalProps)||void 0===l?void 0:l.dataConfig)||void 0===u?void 0:u.mappingRules)&&!n.isHeader(t,e)&&(null===(d=null===(c=null===(h=n.internalProps)||void 0===h?void 0:h.dataConfig)||void 0===c?void 0:c.mappingRules)||void 0===d||d.forEach(((i,r)=>{i.bgColor&&n.internalProps.layoutMap.getIndicatorKey(t,e)===i.bgColor.indicatorKey&&(m=i.bgColor.mapping)})));const y=n.getCellType(t,e),b=n.getCellOriginRecord(t,e);let w;if(v=(null==b?void 0:b.vtableMerge)?"merge-title":n.isSeriesNumberInBody(t,e)?`${t}-series-`+y:n.isListTable()&&!n.transpose||n.isPivotTable()&&n.internalProps.layoutMap.indicatorsAsCol?t+y:e+y,w=(null==b?void 0:b.vtableMerge)?n.bodyMergeTitleCache.get(v):g.isBottomFrozenRow(e)?n.bodyBottomStyleCache.get(v):n.bodyStyleCache.get(v),w)return p?(0,po.wh)(w,p):w;const x=g.getBody(t,e),_=n.internalProps.bodyHelper.getStyleClass(n.getCellType(t,e)),C=null==x?void 0:x.style;return w=f(C,(null==b?void 0:b.vtableMerge)&&n.theme.groupTitleStyle?n.theme.groupTitleStyle:g.isBottomFrozenRow(e)&&n.theme.bottomFrozenStyle?n.theme.bottomFrozenStyle:g.isRightFrozenColumn(t)&&n.theme.rightFrozenStyle?n.theme.rightFrozenStyle:n.theme.bodyStyle,{col:t,row:e,table:n,value:n.getCellValue(t,e),dataValue:n.getCellOriginValue(t,e),cellHeaderPaths:n.getCellHeaderPaths(t,e)},_,n.options.autoWrapText,n.theme),m&&(w=(0,po.wh)(w,{bgColor:m})),(0,ar.Z)(C)||(g.isBottomFrozenRow(e)?n.bodyBottomStyleCache.set(v,w):n.bodyStyleCache.set(v,w)),p?(0,po.wh)(w,p):w}(t,e,this)}clearCellStyleCache(){this.headerStyleCache.clear(),this.bodyStyleCache.clear(),this.bodyMergeTitleCache.clear(),this.bodyBottomStyleCache.clear()}clearRowHeightCache(){this.internalProps._rowHeightsMap.clear(),this._clearRowRangeHeightsMap()}clearColWidthCache(){this.internalProps._colWidthsMap.clear(),this._clearColRangeWidthsMap()}_canResizeColumn(t,e){if(!(t>=0&&e>=0))return!1;if(this.isCellRangeEqual(t,e,t+1,e))return!1;if("none"===this.internalProps.columnResizeMode)return!1;if("header"===this.internalProps.columnResizeMode){if(!this.isHeader(t,e))return!1}else if("body"===this.internalProps.columnResizeMode&&this.isHeader(t,e))return!1;const n=this.colWidthsLimit[t];return!(n&&n.min&&n.max)||n.max!==n.min}_canResizeRow(t,e){if(!(t>=0&&e>=0))return!1;if(this.isCellRangeEqual(t,e,t,e+1))return!1;if("none"===this.internalProps.rowResizeMode)return!1;if("header"===this.internalProps.rowResizeMode){if(!this.isHeader(t,e))return!1}else if("body"===this.internalProps.rowResizeMode&&this.isHeader(t,e))return!1;return!0}_canDragHeaderPosition(t,e){var n;if(this.isHeader(t,e)&&(this.stateManager.isSelected(t,e)||"body"===(null===(n=this.options.select)||void 0===n?void 0:n.headerSelectMode)&&function(t,e,n){for(let i=0;i<n.length;i++){const r=n[i];if((0,y._Z)(r,t,e))return!0}return!1}(t,e,[this.getCellRange(this.stateManager.select.cellPos.col,this.stateManager.select.cellPos.row)])||ze(this,t,e))){if("disabled"===this.internalProps.frozenColDragHeaderMode&&this.isFrozenColumn(t))return!1;if(this.stateManager.isSelected(t,e)){const n=this.stateManager.select.ranges[0];if(this.isColumnHeader(t,e)){if(n.end.row!==this.rowCount-1)return!1}else{if(!this.isRowHeader(t,e))return!1;if(n.end.col!==this.colCount-1)return!1}}const n=this.getHeaderDefine(t,e);if(!n)return!1;if(void 0===n.dragHeader){if("all"===this.internalProps.dragHeaderMode)return!0;if("column"===this.internalProps.dragHeaderMode){if(this.isColumnHeader(t,e))return!0}else if("row"===this.internalProps.dragHeaderMode&&this.isRowHeader(t,e))return!0;return!1}return n.dragHeader}return!1}getCellIcons(t,e){var n,i,r;let o;if(this.isHeader(t,e))o=this.internalProps.headerHelper.getIcons(t,e);else if(this.internalProps.layoutMap.isSeriesNumber(t,e)){this.options.groupBy&&(null===(n=this.getCellRawRecord(t,e))||void 0===n?void 0:n.vtableMerge)||(null===(r=null===(i=this.internalProps.layoutMap.getSeriesNumberBody(t,e))||void 0===i?void 0:i.define)||void 0===r?void 0:r.dragOrder)&&(o=this.internalProps.rowSeriesNumberHelper.getIcons(t,e));const a=this.getCellValue(t,e),s=this.getCellOriginValue(t,e),l=this.internalProps.context,u=this.internalProps.bodyHelper.getIcons(t,e,a,s,l);(null==o?void 0:o.length)>0?o=o.concat(u):(null==u?void 0:u.length)>0&&(o=u)}else{const n=this.getCellValue(t,e),i=this.getCellOriginValue(t,e),r=this.internalProps.context;o=this.internalProps.bodyHelper.getIcons(t,e,n,i,r)}return o}showDropDownMenu(t,e,n){let i="dropdown-menu";n&&(i=Array.isArray(n.content)?"dropdown-menu":"container"),"html"===this.internalProps.menu.renderMode&&(this.stateManager.menu.isShow=!0,this.internalProps.menuHandler._bindToCell(t,e,i,n))}showTooltip(t,e,n){"html"===this.internalProps.tooltip.renderMode&&this.internalProps.tooltipHandler._bindToCell(t,e,n)}getCellStyle(t,e){const n=this._getCellStyle(t,e),i=(0,wt.RT)(n,this,t,e,St.WJ).theme,{autoWrapText:r,lineClamp:o,textOverflow:a}=n;return{textAlign:i.text.textAlign,textBaseline:i.text.textBaseline,bgColor:(0,Yr.Z)(i.group.fill)?(0,St.WJ)("bgColor",n,t,e,this):i.group.fill,color:(0,Yr.Z)(i.text.fill)?(0,St.WJ)("color",n,t,e,this):i.text.fill,strokeColor:(0,Yr.Z)(i.text.stroke)?(0,St.WJ)("strokeColor",n,t,e,this):i.text.stroke,fontFamily:i.text.fontFamily,fontSize:i.text.fontSize,fontWeight:i.text.fontWeight,fontVariant:i.text.fontVariant,fontStyle:i.text.fontStyle,lineHeight:i.text.lineHeight,autoWrapText:null!=r&&r,lineClamp:null!=o?o:"auto",textOverflow:a,borderColor:(0,Yr.Z)(i.group.stroke)?(0,St.WJ)("borderColor",n,t,e,this):i.group.stroke,borderLineWidth:i.group.lineWidth,borderLineDash:i.group.lineDash,underline:!!i.text.underline,underlineDash:i.text.underlineDash,underlineOffset:i.text.underlineOffset,lineThrough:!!i.text.lineThrough,padding:i._vtable.padding,underlineWidth:i.text.underline,lineThroughLineWidth:i.text.lineThrough,_strokeArrayWidth:i.group.strokeArrayWidth,_strokeArrayColor:i.group.strokeArrayColor,_linkColor:(0,St.WJ)("linkColor",n,t,e,this)}}getAllBodyCells(t,e){const n=this.rowHeaderLevelCount,i=this.columnHeaderLevelCount,r=this.colCount-1,o=this.rowCount-1;return Array(Math.min(null!=e?e:2e3,o-i+1,this.rowCount)).fill(0).map(((e,o)=>Array(Math.min(null!=t?t:2e3,r-n+1,this.colCount)).fill(0).map(((t,e)=>this.getCellInfo(e+n,o+i)))))}getAllCells(t,e){const n=this.colCount-1,i=this.rowCount-1;return Array(Math.min(null!=e?e:2e3,i-0+1,this.rowCount)).fill(0).map(((e,i)=>Array(Math.min(null!=t?t:2e3,n-0+1,this.colCount)).fill(0).map(((t,e)=>this.getCellInfo(e+0,i+0)))))}getAllColumnHeaderCells(){const t=this.rowHeaderLevelCount,e=this.colCount-1,n=this.columnHeaderLevelCount-1;return Array(n-0+1).fill(0).map(((n,i)=>Array(e-t+1).fill(0).map(((e,n)=>this.getCellInfo(n+t,i+0)))))}getAllRowHeaderCells(){const t=this.columnHeaderLevelCount,e=this.rowHeaderLevelCount-1,n=this.rowCount-1;return Array(n-t+1).fill(0).map(((n,i)=>Array(e-0+1).fill(0).map(((e,n)=>this.getCellInfo(n+0,i+t)))))}getCopyValue(){var t,e,n;if((null===(e=null===(t=this.stateManager.select)||void 0===t?void 0:t.ranges)||void 0===e?void 0:e.length)>0){const t=this.stateManager.select.ranges;let e=Math.min(t[0].start.col,t[0].end.col),r=Math.max(t[0].start.col,t[0].end.col),o=Math.min(t[0].start.row,t[0].end.row),a=Math.max(t[0].start.row,t[0].end.row);t.forEach((t=>{e=Math.min(e,t.start.col,t.end.col),r=Math.max(r,t.start.col,t.end.col),o=Math.min(o,t.start.row,t.end.row),a=Math.max(a,t.start.row,t.end.row)}));const s=e=>{let n=!1;return t.forEach((t=>{const i=Math.min(t.start.row,t.end.row),r=Math.max(t.start.row,t.end.row);i<=e&&r>=e&&(n=!0)})),n},l=e=>{let n=!1;return t.forEach((t=>{const i=Math.min(t.start.col,t.end.col),r=Math.max(t.start.col,t.end.col);i<=e&&r>=e&&(n=!0)})),n},u=(e,n)=>{let i;return t.forEach((t=>{const r=Math.min(t.start.row,t.end.row),o=Math.max(t.start.row,t.end.row),a=Math.min(t.start.col,t.end.col),s=Math.max(t.start.col,t.end.col);a<=e&&s>=e&&r<=n&&o>=n&&(i=t)})),i},h=(t,e,n)=>{const i=this.getCellRange(t,e);let r=i.start.col,o=i.start.row;if(n){const t=Math.min(n.start.col,n.end.col),e=Math.min(n.start.row,n.end.row);r=Math.max(t,i.start.col),o=Math.max(e,i.start.row)}return r!==t||o!==e?"":this.getCellValue(t,e)};let c="";for(let t=o;t<=a;t++)if(s(t)){for(let n=e;n<=r;n++)if(l(n)){const e=u(n,t);if(e){const o=h(n,t,e);if("undefined"!=typeof Promise&&o instanceof Promise);else{const t=(0,i.Z)(o)?`${o}`:"";/^\[object .*\]$/.exec(t)||(c+=t)}(n<e.end.col||n<r)&&(c+="\t")}else c+="\t"}t<a&&(c+="\r\n")}return(null===(n=this.options)||void 0===n?void 0:n.formatCopyValue)&&(c=this.options.formatCopyValue(c)),c}return""}getSelectedCellInfos(){var t;if(!(null===(t=this.stateManager.select)||void 0===t?void 0:t.ranges))return null;const e=this.stateManager.select.ranges;if(!e.length)return[];let n=Math.min(e[0].start.col,e[0].end.col),i=Math.max(e[0].start.col,e[0].end.col),r=Math.min(e[0].start.row,e[0].end.row),o=Math.max(e[0].start.row,e[0].end.row);e.forEach((t=>{n=Math.min(n,t.start.col,t.end.col),i=Math.max(i,t.start.col,t.end.col),r=Math.min(r,t.start.row,t.end.row),o=Math.max(o,t.start.row,t.end.row)}));const a=t=>{let n=!1;return e.forEach((e=>{const i=Math.min(e.start.row,e.end.row),r=Math.max(e.start.row,e.end.row);i<=t&&r>=t&&(n=!0)})),n},s=t=>{let n=!1;return e.forEach((e=>{const i=Math.min(e.start.col,e.end.col),r=Math.max(e.start.col,e.end.col);i<=t&&r>=t&&(n=!0)})),n},l=(t,n)=>{let i;return e.forEach((e=>{const r=Math.min(e.start.row,e.end.row),o=Math.max(e.start.row,e.end.row),a=Math.min(e.start.col,e.end.col),s=Math.max(e.start.col,e.end.col);a<=t&&s>=t&&r<=n&&o>=n&&(i=e)})),i},u=[];for(let t=r;t<=o;t++)if(a(t)){const e=[];for(let r=n;r<=i;r++)if(s(r)&&l(r,t)){const n=this.getCellInfo(r,t);e.push(n)}u.push(e)}return u}getSelectedCellRanges(){const t=this.stateManager.select.ranges;return t.length?(0,qr.Z)(t):[]}measureText(t,e){return gn.QC.measureText(t,e)}measureTextBounds(t){return(0,gn.Rc)(t)}getCustomRender(t,e){let n;if("body"!==this.getCellLocation(t,e)){const i=this.getHeaderDefine(t,e);n=null==i?void 0:i.headerCustomRender}else{const i=this.getBodyColumnDefine(t,e);n=(null==i?void 0:i.customRender)||this.customRender}return n}getCustomLayout(t,e){let n;if("body"!==this.getCellLocation(t,e)){const i=this.getHeaderDefine(t,e);n=null==i?void 0:i.headerCustomLayout}else{const i=this.getBodyColumnDefine(t,e);n=null==i?void 0:i.customLayout}return n}hasAutoImageColumn(){return void 0===this._hasAutoImageColumn&&(this._hasAutoImageColumn=(0,ro.N3)(this)),this._hasAutoImageColumn}_getActiveChartInstance(){var t,e,n,i,r,o;const a=this.scenegraph.getCell(null===(e=null===(t=this.stateManager.hover)||void 0===t?void 0:t.cellPos)||void 0===e?void 0:e.col,null===(i=null===(n=this.stateManager.hover)||void 0===n?void 0:n.cellPos)||void 0===i?void 0:i.row);return"chart"===(null===(o=null===(r=null==a?void 0:a.getChildren())||void 0===r?void 0:r[0])||void 0===o?void 0:o.type)?a.getChildren()[0].activeChartInstance:null}cellIsInVisualView(t,e){var n,i,r,o;const a=this.getDrawRange(),s=this.getCellRelativeRect(t,e);if(t<this.frozenColCount&&e<this.frozenRowCount)return!0;let l,u,h,c;if(this.frozenRowCount>=1&&(l=this.getCellRangeRelativeRect({start:{col:0,row:0},end:{col:this.colCount-1,row:this.frozenRowCount-1}})),this.frozenColCount>=1&&(u=this.getCellRangeRelativeRect({start:{col:0,row:0},end:{col:this.frozenColCount-1,row:this.rowCount-1}})),this.bottomFrozenRowCount>=1&&(h=this.getCellRangeRelativeRect({start:{col:0,row:this.rowCount-this.bottomFrozenRowCount},end:{col:this.colCount-1,row:this.rowCount-1}})),this.rightFrozenColCount>=1&&(c=this.getCellRangeRelativeRect({start:{col:this.colCount-this.rightFrozenColCount,row:0},end:{col:this.colCount-1,row:this.rowCount-1}})),s.top>=a.top&&s.bottom<=a.bottom&&s.left>=a.left&&s.right<=a.right){if(this.isFrozenCell(t,e))return!0;if(s.top>=(null!==(n=null==l?void 0:l.bottom)&&void 0!==n?n:s.top)&&s.left>=(null!==(i=null==u?void 0:u.right)&&void 0!==i?i:s.left)&&s.bottom<=(null!==(r=null==h?void 0:h.top)&&void 0!==r?r:s.bottom)&&s.right<=(null!==(o=null==c?void 0:c.left)&&void 0!==o?o:s.right))return!0}return!1}getCustomMergeValue(t,e){if(this.internalProps.customMergeCell){const n=this.getCustomMerge(t,e);if(n){const{text:t}=n;return t}}}exportImg(){return this.scenegraph.stage.toCanvas().toDataURL()}exportCellImg(t,e,n){var i,r,o,a;const s=this.cellIsInVisualView(t,e),{scrollTop:l,scrollLeft:u}=this;s||this.scrollToCell({col:t,row:e});const h=this.getCellRelativeRect(t,e);(null===(r=null===(i=this.stateManager.select)||void 0===i?void 0:i.ranges)||void 0===r?void 0:r.length)>0&&si(this.scenegraph);const{col:c,row:d}=this.stateManager.hover.cellPos;let f,p;if(this.stateManager.updateHoverPos(-1,-1),this.scenegraph.component.hideVerticalScrollBar(),this.scenegraph.component.hideHorizontalScrollBar(),this.scenegraph.tableGroup.border.setAttribute("visible",!1),null==n?void 0:n.disableBackground){const n=this.scenegraph.getCell(t,e);f=n.attribute.fill,n.setAttribute("fill","transparent")}if(null==n?void 0:n.disableBorder){const n=this.scenegraph.getCell(t,e);p=n.attribute.stroke,n.setAttribute("stroke",!1)}this.scenegraph.renderSceneGraph();let g=0;"bottom-right"===this.theme.cellBorderClipDirection&&(g=1);const m=this.scenegraph.stage.toCanvas(!1,(new R.FB).set(h.left+this.tableX+1,h.top+this.tableY+1,h.right+this.tableX-g,h.bottom+this.tableY-g));return s||(this.setScrollTop(l),this.setScrollLeft(u)),this.scenegraph.tableGroup.border.setAttribute("visible",!0),f&&this.scenegraph.getCell(t,e).setAttribute("fill",f),p&&this.scenegraph.getCell(t,e).setAttribute("stroke",p),(null===(a=null===(o=this.stateManager.select)||void 0===o?void 0:o.ranges)||void 0===a?void 0:a.length)>0&&li(this.scenegraph),this.stateManager.updateHoverPos(c,d),this.scenegraph.updateNextFrame(),m.toDataURL()}exportCellRangeImg(t){var e,n,i,r;const{scrollTop:o,scrollLeft:a}=this,s=Math.min(t.start.col,t.end.col),l=Math.min(t.start.row,t.end.row),u=Math.max(t.start.col,t.end.col),h=Math.max(t.start.row,t.end.row),c=this.cellIsInVisualView(s,l),d=this.cellIsInVisualView(u,h);c&&d||this.scrollToCell({col:s,row:l});const f=this.getCellRangeRelativeRect({start:{col:s,row:l},end:{col:u,row:h}});(null===(n=null===(e=this.stateManager.select)||void 0===e?void 0:e.ranges)||void 0===n?void 0:n.length)>0&&si(this.scenegraph);const{col:p,row:g}=this.stateManager.hover.cellPos;this.stateManager.updateHoverPos(-1,-1),this.scenegraph.component.hideVerticalScrollBar(),this.scenegraph.component.hideHorizontalScrollBar(),this.scenegraph.renderSceneGraph();const m=this.scenegraph.stage.toCanvas(!1,(new R.FB).set(f.left+this.tableX+1,f.top+this.tableY+1,f.right+this.tableX,f.bottom+this.tableY)).toDataURL();return c&&d||(this.setScrollTop(o),this.setScrollLeft(a)),(null===(r=null===(i=this.stateManager.select)||void 0===i?void 0:i.ranges)||void 0===r?void 0:r.length)>0&&li(this.scenegraph),this.stateManager.updateHoverPos(p,g),m}exportCanvas(){return this.scenegraph.stage.toCanvas()}getImageBuffer(t="image/png"){if("node"!==this.options.mode)return;this.render();const e=this.scenegraph.stage;if(e){const n=this.tableX+this.getAllColsWidth(),i=this.tableY+this.getAllRowsHeight();return n>=this.canvasWidth&&i>=this.canvasHeight?(e.render(),e.window.getImageBuffer(t)):this.scenegraph.stage.toCanvas(!1,(new R.FB).set(0,0,Math.min(this.canvasWidth,n),Math.min(this.canvasHeight,i))).toBuffer(t)}return null}getBodyIndexByTableIndex(t,e){return{col:t-this.rowHeaderLevelCount,row:e-this.columnHeaderLevelCount}}getTableIndexByBodyIndex(t,e){return{col:t+this.rowHeaderLevelCount,row:e+this.columnHeaderLevelCount}}onVChartEvent(t,e,n){this._chartEventMap[t]||(this._chartEventMap[t]=[]),"function"==typeof e?this._chartEventMap[t].push({callback:e}):this._chartEventMap[t].push({callback:n,query:e})}offVChartEvent(t,e){this._chartEventMap[t]&&(this._chartEventMap[t]=e?this._chartEventMap[t].filter((t=>t.callback!==e)):[])}_bindChartEvent(t){if(t)for(const e in this._chartEventMap)(this._chartEventMap[e]||[]).forEach((n=>{n.query?t.on(e,n.query,n.callback):t.on(e,n.callback)}))}changeRecordOrder(t,e){}hasCustomCellStyle(t){var e;return null===(e=this.customCellStylePlugin)||void 0===e?void 0:e.hasCustomCellStyle(t)}registerCustomCellStyle(t,e){var n;null===(n=this.customCellStylePlugin)||void 0===n||n.registerCustomCellStyle(t,e)}arrangeCustomCellStyle(t,e,n){var i;null===(i=this.customCellStylePlugin)||void 0===i||i.arrangeCustomCellStyle(t,e,n)}isSeriesNumber(t,e){return this.internalProps.layoutMap.isSeriesNumber(t,e)}isHasSeriesNumber(){var t;return(null===(t=this.internalProps.layoutMap)||void 0===t?void 0:t.leftRowSeriesNumberColumnCount)>0}get leftRowSeriesNumberCount(){var t,e;return null!==(e=null===(t=this.internalProps.layoutMap)||void 0===t?void 0:t.leftRowSeriesNumberColumnCount)&&void 0!==e?e:0}setMinMaxLimitWidth(t=!1){var e,n;const i=this.internalProps;for(let r=0;r<i.layoutMap.columnWidths.length;r++){if(this.internalProps._widthResizedColMap.has(r))continue;const{width:o,minWidth:a,maxWidth:s}=null!==(n=null===(e=i.layoutMap.columnWidths)||void 0===e?void 0:e[r])&&void 0!==n?n:{};t&&o&&("string"==typeof o&&"auto"!==o||"number"==typeof o&&o>0)&&this._setColWidth(r,o),a&&("number"==typeof a&&a>0||"string"==typeof a)&&this.setMinColWidth(r,a),s&&("number"==typeof s&&s>0||"string"==typeof s)&&this.setMaxColWidth(r,s)}}setSortedIndexMap(t,e){var n;null===(n=this.dataSource)||void 0===n||n.setSortedIndexMap(t,e)}checkReactCustomLayout(){this.reactCustomLayout||(this.reactCustomLayout=new io.Z(this))}get bodyDomContainer(){return this.internalProps.bodyDomContainer}get headerDomContainer(){return this.internalProps.headerDomContainer}get frozenBodyDomContainer(){return this.internalProps.frozenBodyDomContainer}get frozenHeaderDomContainer(){return this.internalProps.frozenHeaderDomContainer}get rightFrozenBodyDomContainer(){return this.internalProps.rightFrozenBodyDomContainer}get rightFrozenHeaderDomContainer(){return this.internalProps.rightFrozenHeaderDomContainer}get frozenBottomDomContainer(){return this.internalProps.frozenBottomDomContainer}get bottomDomContainer(){return this.internalProps.bottomDomContainer}get rightFrozenBottomDomContainer(){return this.internalProps.rightFrozenBottomDomContainer}showMoverLine(t,e){this.scenegraph.component.showMoveCol(t,e,0),this.scenegraph.renderSceneGraph()}hideMoverLine(t,e){this.scenegraph.component.hideMoveCol(),this.scenegraph.renderSceneGraph()}disableScroll(){this.eventManager.disableScroll()}enableScroll(){this.eventManager.enableScroll()}getGroupTitleLevel(t,e){}scrollToRow(t,e){e?this.animationManager.scrollTo({row:t},e):this.scrollToCell({row:t})}scrollToCol(t,e){e?this.animationManager.scrollTo({col:t},e):this.scrollToCell({col:t})}scrollToCell(t,e){if(e)return void this.animationManager.scrollTo(t,e);const n=this.getDrawRange();if((0,i.Z)(t.col)&&t.col>=this.frozenColCount){const e=this.getFrozenColsWidth(),i=this.getColsWidth(0,t.col-1);this.scrollLeft=Math.min(i-e,this.getAllColsWidth()-n.width)}if((0,i.Z)(t.row)&&t.row>=this.frozenRowCount){const e=this.getFrozenRowsHeight(),i=this.getRowsHeight(0,t.row-1);this.scrollTop=Math.min(i-e,this.getAllRowsHeight()-n.height)}this.render()}checkHasColumnAutoWidth(){return(0,wt.MO)(this)}}},6577:function(t,e,n){"use strict";n.d(e,{B:function(){return i}});const i={CLICK_CELL:"click_cell",DBLCLICK_CELL:"dblclick_cell",MOUSEDOWN_CELL:"mousedown_cell",MOUSEUP_CELL:"mouseup_cell",SELECTED_CELL:"selected_cell",SELECTED_CLEAR:"selected_clear",KEYDOWN:"keydown",MOUSEENTER_TABLE:"mouseenter_table",MOUSELEAVE_TABLE:"mouseleave_table",MOUSEDOWN_TABLE:"mousedown_table",MOUSEMOVE_TABLE:"mousemove_table",MOUSEMOVE_CELL:"mousemove_cell",MOUSEENTER_CELL:"mouseenter_cell",MOUSELEAVE_CELL:"mouseleave_cell",CONTEXTMENU_CELL:"contextmenu_cell",RESIZE_COLUMN:"resize_column",RESIZE_COLUMN_END:"resize_column_end",RESIZE_ROW:"resize_row",RESIZE_ROW_END:"resize_row_end",CHANGE_HEADER_POSITION_START:"change_header_position_start",CHANGE_HEADER_POSITION:"change_header_position",CHANGING_HEADER_POSITION:"changing_header_position",CHANGE_HEADER_POSITION_FAIL:"change_header_position_fail",SORT_CLICK:"sort_click",AFTER_SORT:"after_sort",FREEZE_CLICK:"freeze_click",SCROLL:"scroll",SCROLL_HORIZONTAL_END:"scroll_horizontal_end",SCROLL_VERTICAL_END:"scroll_vertical_end",DROPDOWN_MENU_CLICK:"dropdown_menu_click",MOUSEOVER_CHART_SYMBOL:"mouseover_chart_symbol",DRAG_SELECT_END:"drag_select_end",COPY_DATA:"copy_data",DROPDOWN_ICON_CLICK:"dropdown_icon_click",DROPDOWN_MENU_CLEAR:"dropdown_menu_clear",TREE_HIERARCHY_STATE_CHANGE:"tree_hierarchy_state_change",SHOW_MENU:"show_menu",HIDE_MENU:"hide_menu",ICON_CLICK:"icon_click",LEGEND_ITEM_CLICK:"legend_item_click",LEGEND_ITEM_HOVER:"legend_item_hover",LEGEND_ITEM_UNHOVER:"legend_item_unHover",LEGEND_CHANGE:"legend_change",MOUSEENTER_AXIS:"mouseenter_axis",MOUSELEAVE_AXIS:"mouseleave_axis",CHECKBOX_STATE_CHANGE:"checkbox_state_change",RADIO_STATE_CHANGE:"radio_state_change",AFTER_RENDER:"after_render",INITIALIZED:"initialized",CHANGE_CELL_VALUE:"change_cell_value",DRAG_FILL_HANDLE_END:"drag_fill_handle_end",MOUSEDOWN_FILL_HANDLE:"mousedown_fill_handle",DBLCLICK_FILL_HANDLE:"dblclick_fill_handle",EMPTY_TIP_CLICK:"empty_tip_click",EMPTY_TIP_DBLCLICK:"empty_tip_dblclick"}},95433:function(t,e,n){"use strict";n.d(e,{F:function(){return i}});class i{static registerComponent(t,e){i._components[t]=e}static getComponent(t){return i._components[t]}static registerFunction(t,e){i._functions[t]=e}static getFunction(t){return i._functions[t]}static registerCellType(t,e){i._cellTypes[t]=e}static getCellType(t){return i._cellTypes[t]}}i._components={},i._functions={},i._cellTypes={}},99766:function(t,e,n){"use strict";n.d(e,{AS:function(){return w},VN:function(){return x},sQ:function(){return y},ke:function(){return v},x6:function(){return m},mP:function(){return p},qf:function(){return b},bW:function(){return A},MO:function(){return T},_I:function(){return c},rQ:function(){return M},xv:function(){return C},RT:function(){return _},FJ:function(){return S},gX:function(){return d}});var i=n(48815),r=n(19888),o=n(36966),a=n.n(o);var s=n(85650),l=n(25),u=n(4928),h=n(70375);function c(t,e="vtable"){var n,i;const r=document.createElement("div");r.setAttribute("tabindex","0"),r.classList.add(e),r.style.outline="none",r.style.margin=`${t.top}px ${t.right}px ${t.bottom}px ${t.left}px`;const o=(r.offsetWidth||(null===(n=r.parentElement)||void 0===n?void 0:n.offsetWidth)||1)-1,a=(r.offsetHeight||(null===(i=r.parentElement)||void 0===i?void 0:i.offsetHeight)||1)-1;return r.style.width=o&&o-t.left-t.right+"px"||"0px",r.style.height=a&&a-t.top-t.bottom+"px"||"0px",r}function d(t,e){var n,i;t.style.margin=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`;const r=(t.offsetWidth||(null===(n=t.parentElement)||void 0===n?void 0:n.offsetWidth)||1)-1,o=(t.offsetHeight||(null===(i=t.parentElement)||void 0===i?void 0:i.offsetHeight)||1)-1;t.style.width=r&&r-e.left-e.right+"px"||"0px",t.style.height=o&&o-e.top-e.bottom+"px"||"0px"}function f(t,e){const{dataSourceEventIds:n}=t.internalProps;n&&n.forEach((e=>t.internalProps.handler.off(e))),e(t),t.internalProps.dataSourceEventIds=[t.internalProps.handler.on(t.internalProps.dataSource,i.o2.EVENT_TYPE.CHANGE_ORDER,(()=>{t.dataSource.hierarchyExpandLevel&&t.refreshRowColCount(),t.render()}))]}function p(t,e=[]){f(t,(()=>{t.internalProps.records=e;const n=t.internalProps.dataSource=r.Z.ofArray(e,t.internalProps.dataConfig,t.pagination,t.internalProps.columns,t.internalProps.layoutMap.rowHierarchyType,g(t));t.addReleaseObj(n)}))}function g(t){var e;return t.options.hierarchyExpandLevel?t.options.hierarchyExpandLevel:t.options.groupBy?1/0:(null===(e=t._hasHierarchyTreeHeader)||void 0===e?void 0:e.call(t))?1:void 0}function m(t,e){f(t,(()=>{var n,o;t.internalProps.dataSource&&(null===(o=(n=t.internalProps.dataSource).release)||void 0===o||o.call(n)),e?e instanceof i.o2?(t.internalProps.dataSource=e,t.internalProps.dataSource.supplementConfig(t.pagination,t.options.columns,t.internalProps.layoutMap.rowHierarchyType,g(t))):t.internalProps.dataSource=new r.Z(e):t.internalProps.dataSource=i.o2.EMPTY,t.addReleaseObj(t.internalProps.dataSource),t.internalProps.records=null}))}function v(t,e){if(!t.internalProps.frozenRowCount)return null;let{scrollTop:n}=t;const i=t.internalProps.frozenRowCount;for(let r=0;r<i;r++){const i=t.getRowHeight(r),o=n+i;if(o>e)return{top:n,row:r,bottom:o,height:i};n=o}return null}function y(t,e){if(!t.internalProps.frozenColCount)return null;let{scrollLeft:n}=t;const i=t.internalProps.frozenColCount;for(let r=0;r<i;r++){const i=t.getColWidth(r),o=n+i;if(o>e)return{left:n,col:r,right:o,width:i};n=o}return null}function b(t,e){return Math.round(u.aR(e,t.internalProps.calcWidthContext))}function w(t,e){return t?t.min&&t.min>e?t.min:t.max&&t.max<e?t.max:e:e}function x(t){let e=0,n=0;t.frozenColCount>0&&(e=t.getFrozenColsWidth()),t.rightFrozenColCount>0&&(n=t.getRightFrozenColsWidth());let i=0,r=0;return t.frozenRowCount>0&&(i=t.getFrozenRowsHeight()),t.bottomFrozenRowCount>0&&(r=t.getBottomFrozenRowsHeight()),new l.U(t.scrollLeft+e,t.scrollTop+i,t.tableNoFrameWidth-e-n,t.tableNoFrameHeight-i-r)}function _(t,e,n,i,r,o=!0){const l=(0,s.u)(r("padding",t,n,i,e)),u=r("bgColor",t,n,i,e),c=r("font",t,n,i,e);let d,f,p,g,m;if(c){const{family:t,size:e,weight:n,style:i,variant:r}=function(t){return a()(t)}(c);d=t.join(" "),f=e,p=n,g=i,g=r}else d=r("fontFamily",t,n,i,e),f=r("fontSize",t,n,i,e),p=r("fontWeight",t,n,i,e),g=r("fontStyle",t,n,i,e),m=r("fontVariant",t,n,i,e);const v=r("textAlign",t,n,i,e),y=r("textBaseline",t,n,i,e),b=r("color",t,n,i,e),w=r("strokeColor",t,n,i,e),x=r("lineHeight",t,n,i,e),_=r("underline",t,n,i,e),C=r("underlineDash",t,n,i,e),S=r("underlineOffset",t,n,i,e),M=r("lineThrough",t,n,i,e),A=Math.max(1,Math.floor(f/10)),T=r("textOverflow",t,n,i,e),k=r("borderColor",t,n,i,e),R=r("borderLineWidth",t,n,i,e),I=r("borderLineDash",t,n,i,e),P=r("marked",t,n,i,e),E=r("cursor",t,n,i,e),B=!(l&&u&&c&&v&&y&&b&&T&&k&&R&&I&&"boolean"==typeof _&&"boolean"==typeof M&&"boolean"==typeof P);if(!o)return{hasFunctionPros:B};const L={text:{fontFamily:d,fontSize:f,fontWeight:p,fontStyle:g,fontVariant:m,fill:b,stroke:null!=w&&w,textAlign:v,textBaseline:y,lineHeight:null!=x?x:f,underline:_?A:void 0,underlineDash:C,underlineOffset:S,lineThrough:M?A:void 0,ellipsis:"clip"===T?"":"ellipsis"===T?"...":(0,h.Z)(T)?T:void 0},group:{fill:u,lineDash:I,lineWidth:R,stroke:k,cursor:"auto"===E||"default"===E?void 0:E},_vtable:{padding:l,marked:P}};if(Array.isArray(R)&&(L.group.strokeArrayWidth=(0,s.u)(R)),Array.isArray(k)){const t=(0,s.u)(k);L.group.stroke=!t.every((t=>!t))&&t,L.group.strokeArrayColor=(0,s.u)(k)}return{theme:L,hasFunctionPros:B}}function C(t,e,n){const i=n.theme.frameStyle.cornerRadius;if(Array.isArray(i)){if(0===t&&0===e)return[i[0],0,0,0];if(t===n.colCount-1&&0===e)return[0,i[1],0,0];if(0===t&&e===n.rowCount-1)return[0,0,0,i[3]];if(t===n.colCount-1&&e===n.rowCount-1)return[0,0,i[2],0]}else if(i){if(0===t&&0===e)return[i,0,0,0];if(t===n.colCount-1&&0===e)return[0,i,0,0];if(0===t&&e===n.rowCount-1)return[0,0,0,i];if(t===n.colCount-1&&e===n.rowCount-1)return[0,0,i,0]}return 0}function S(t){var e,n,i,r;if(t){if(Array.isArray(t)){let o;for(let a=0;a<t.length;a++)if(t[a].autoRange){if("sum"===t[a].y||"sum"===t[a].x||"sum"===t[a].y1||"sum"===t[a].x1)return"sum";"max"!==t[a].y&&"max"!==t[a].x&&"max"!==t[a].y1&&"max"!==t[a].x1||(o="max"),"number"==typeof t[a].y&&"number"==typeof(null!=o?o:0)&&(o=Math.max(null!==(e=o)&&void 0!==e?e:0,t[a].y)),"number"==typeof t[a].x&&"number"==typeof(null!=o?o:0)&&(o=Math.max(null!==(n=o)&&void 0!==n?n:0,t[a].x)),"number"==typeof t[a].y1&&"number"==typeof(null!=o?o:0)&&(o=Math.max(null!==(i=o)&&void 0!==i?i:0,t[a].y1)),"number"==typeof t[a].x1&&"number"==typeof(null!=o?o:0)&&(o=Math.max(null!==(r=o)&&void 0!==r?r:0,t[a].x1))}return o}if(t.autoRange){if("sum"===t.y||"sum"===t.x||"sum"===t.y1||"sum"===t.x1)return"sum";if("max"===t.y||"max"===t.x||"max"===t.y1||"max"===t.x1)return"max";if("number"==typeof t.y)return t.y;if("number"==typeof t.x)return t.x;if("number"==typeof t.y1)return t.y1;if("number"==typeof t.x1)return t.x1}}}function M(t){for(let e=0;e<t.internalProps.columns.length;e++){const n=t.internalProps.columns[e];if(n.aggregation);else if(t.options.aggregation){let i;if(i="function"==typeof t.options.aggregation?t.options.aggregation({col:e,field:n.field}):t.options.aggregation,i)if(Array.isArray(i)){const t=[];i.forEach((e=>{t.push(Object.assign({showOnTop:!1},e))})),n.aggregation=t}else n.aggregation=Object.assign({showOnTop:!1},i)}}}function A(t){for(let e=0;e<t.length;e++)if(t[e].aggregation)return!0;return!1}function T(t){if("autoWidth"===t.options.widthMode)return!0;if("auto"===t.options.defaultHeaderColWidth||Array.isArray(t.options.defaultHeaderColWidth)&&t.options.defaultHeaderColWidth.includes("auto"))return!0;const e=t.internalProps.layoutMap.columnObjects;for(let t=0;t<e.length;t++)if("auto"===e[t].width)return!0;return!1}},19888:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var i=n(68725),r=n(66990),o=n(70375),a=n(86801),s=n(19401),l=n(48815),u=n(3709),h=n.n(u);class c extends l.o2{static get EVENT_TYPE(){return l.o2.EVENT_TYPE}static ofArray(t,e,n,i,r,o){return new c({get:e=>t[e],length:t.length,records:t},e,n,i,r,o)}constructor(t,e,n,r,o,a){let s;(0,i.Z)(null==e?void 0:e.groupByRules)&&(o="tree",s=!0),super(t,e,n,r,o,a),this._isGrouped=s,this._recordCache=[],this._fieldCache={}}getOriginalRecord(t){return(0,r.Z)(t)&&this._recordCache&&this._recordCache[t]?this._recordCache[t]:super.getOriginalRecord(t)}getRawRecord(t){var e,n,i,a;let s,u;if(this._isGrouped){if(s=this.getOriginRecordIndexForGroup(t),(0,o.Z)(s)&&(null===(e=this.beforeChangedRecordsMap)||void 0===e?void 0:e.has(s.toString())))return null===(n=this.beforeChangedRecordsMap)||void 0===n?void 0:n.get(s.toString())}else if(null===(i=this.beforeChangedRecordsMap)||void 0===i?void 0:i.has(t.toString()))return null===(a=this.beforeChangedRecordsMap)||void 0===a?void 0:a.get(t.toString());return(0,r.Z)(t)&&this._recordCache&&this._recordCache[t]?this._recordCache[t]:(u=this.dataSourceObj.records?Array.isArray(t)?(0,l.UN)(this.records,t):this.records[t]:this._get(t),(0,l.NA)(u,(e=>{this.recordPromiseCallBack(t,e)})))}getOriginalField(t,e,n,i,r){const o=this._fieldCache&&this._fieldCache[t];if(o){const t=o.get(e);if(t)return t}return super.getOriginalField(t,e,n,i,r)}clearCache(){this._recordCache&&(this._recordCache=[]),this._fieldCache&&(this._fieldCache={})}fieldPromiseCallBack(t,e,n){!function(t,e,n,i){(t[e]||(t[e]=new Map)).set(n,i)}(this._fieldCache,t,e,n)}recordPromiseCallBack(t,e){this._recordCache&&(this._recordCache[t]=e)}get records(){return Array.isArray(this._recordCache)&&this._recordCache.length>0?this._recordCache:super.records}release(){var t;null===(t=super.release)||void 0===t||t.call(this),this._recordCache=null,this._fieldCache=null}_generateFieldAggragations(){var t;if(super._generateFieldAggragations(),(0,i.Z)(null===(t=this.dataConfig)||void 0===t?void 0:t.groupByRules)){const t=this.dataConfig.groupByRules;this.groupAggregator=new this.registedAggregators[s.E.CUSTOM]({field:"",aggregationFun:(e,n,i)=>{const r=new Map,o=[];for(let e=0;e<n.length;e++)d(n[e],o,r,t,0);return o}}),this.fieldAggregators.push(this.groupAggregator)}}processRecords(t){var e;const n=super.processRecords(t);return(null===(e=this.groupAggregator)||void 0===e?void 0:e.value())||n}getGroupLength(){var t,e,n;return null!==(n=null===(e=null===(t=this.dataConfig)||void 0===t?void 0:t.groupByRules)||void 0===e?void 0:e.length)&&void 0!==n?n:0}updateGroup(){var t,e,n;this.clearCache();const i=this.source;this._source=this.processRecords(null!==(e=null===(t=this.dataSourceObj)||void 0===t?void 0:t.records)&&void 0!==e?e:this.dataSourceObj),i&&f(i,this.source),this.sourceLength=(null===(n=this.source)||void 0===n?void 0:n.length)||0,this.sortedIndexMap.clear(),this.currentIndexedData=Array.from({length:this.sourceLength},((t,e)=>e)),this.userPagination||(this.pagination.perPageCount=this.sourceLength,this.pagination.totalCount=this.sourceLength),this.initTreeHierarchyState(),this.updatePagerData()}getOriginRecordIndexForGroup(t){const e=this.getOriginalRecord(t);if((0,o.Z)(e)&&!(e.children&&e.children.length>0))for(let t=0;t<this.dataSourceObj.records.length;t++)if(this.dataSourceObj.records[t]===e)return t}addRecordsForGroup(t,e){if(!(0,i.Z)(t)||0===t.length)return;let n=this.getOriginRecordIndexForGroup(e);(void 0===n||n>this.dataSourceObj.records)&&(n=this.dataSourceObj.records.length),this.dataSourceObj.records.splice(n,0,...t),this.adjustBeforeChangedRecordsMap(n,t.length),this.updateGroup()}deleteRecordsForGroup(t){if(!(0,i.Z)(t)||0===t.length)return;const e=(0,l.pY)(t,-1);for(let t=0;t<e.length;t++){const n=e[t];if((0,r.Z)(n)&&(n>=this.sourceLength||n<0))continue;const i=this.getOriginRecordIndexForGroup(n);this.beforeChangedRecordsMap.delete(i.toString()),this.dataSourceObj.records.splice(i,1),this.sourceLength-=1,this.adjustBeforeChangedRecordsMap(i,1,"delete")}this.updateGroup()}updateRecordsForGroup(t,e){for(let n=0;n<e.length;n++){const i=e[n];if((0,r.Z)(i)&&(i>=this.sourceLength||i<0))continue;const o=this.getOriginRecordIndexForGroup(i);this.beforeChangedRecordsMap.delete(o.toString()),this.dataSourceObj.records[o]=t[n]}this.updateGroup()}addRecordsForTree(t,e){if((0,i.Z)(t)&&0!==t.length){if(this.adjustBeforeChangedRecordsMap(e,t.length),(0,r.Z)(e))this.dataSourceObj.records.splice(e,0,...t);else{const n=e.pop(),i=this.getOriginalRecord(e);i.children?i.children.splice(n,0,...t):i.children=t}this.initTreeHierarchyState(),this.updatePagerData()}}deleteRecordsForTree(t){if(!(0,i.Z)(t)||0===t.length)return;const e=(0,l.pY)(t,-1);for(let t=0;t<e.length;t++){const n=e[t];if(!(0,r.Z)(n)||!(n>=this.sourceLength||n<0)){if(this.beforeChangedRecordsMap.delete(n.toString()),(0,r.Z)(n))this.dataSourceObj.records.splice(n,1);else{const t=n.pop();this.getOriginalRecord(n).children.splice(t,1)}this.adjustBeforeChangedRecordsMap(n,1,"delete")}}this.initTreeHierarchyState(),this.updatePagerData()}updateRecordsForTree(t,e){for(let n=0;n<e.length;n++){const i=e[n],o=t[n];if(!(0,r.Z)(i)||!(i>=this.sourceLength||i<0))if(this.beforeChangedRecordsMap.delete(i.toString()),(0,r.Z)(i))this.dataSourceObj.records.splice(i,1,o);else{const t=i.pop();this.getOriginalRecord(i).children.splice(t,1,o)}}this.initTreeHierarchyState(),this.updatePagerData()}adjustBeforeChangedRecordsMap(t,e,n="add"){if("tree"===this.rowHierarchyType){let i;i=(0,r.Z)(t)?[t]:t;const o=[];this.beforeChangedRecordsMap.forEach(((t,r)=>{var a,s;const l=r.split(","),u=Math.max(l.length,i.length);for(let h=0;h<u;h++){const u=null!==(a=i[h])&&void 0!==a?a:-1,c=null!==(s=Number(l[h]))&&void 0!==s?s:-1;if(u<c||u===c&&h===l.length-1&&h===i.length-1)return l[h]=(c+("add"===n?e:-e)).toString(),void o.push({originKey:r,targetKey:l.toString(),value:t})}})),o.forEach((({originKey:t,targetKey:e,value:n})=>{this.beforeChangedRecordsMap.delete(t),this.beforeChangedRecordsMap.set(e,n)}))}else super.adjustBeforeChangedRecordsMap(t,e,n)}cacheBeforeChangedRecord(t,e){var n;const i=this.getOriginalRecord(t);e.options.groupBy&&(t=this.getOriginRecordIndexForGroup(t)),this.beforeChangedRecordsMap.has(t.toString())||this.beforeChangedRecordsMap.set(t.toString(),null!==(n=(0,a.Z)(i,void 0,["vtable_gantt_linkedFrom","vtable_gantt_linkedTo"]))&&void 0!==n?n:{})}getGroupSeriesNumber(t){const e=this.dataSource.currentIndexedData[t],n=e.length-1;let i=e.length,o=1;for(;i>n;o++){const e=this.dataSource.currentIndexedData[t-o];i=(0,r.Z)(e)?1:e.length}return o-1}}function d(t,e,n,i,r){const a=i[r];if(!(0,o.Z)(a))return void e.push(t);const s=h()(t,a);if(void 0!==s){if(n.has(s)){const o=n.get(s);return d(t,e[o].children,e[o].map,i,r+1)}return n.set(s,e.length),e.push({vtableMerge:!0,vtableMergeName:s,children:[],map:new Map}),d(t,e[e.length-1].children,e[e.length-1].map,i,r+1)}}function f(t,e,n,r){if(!n){n=new Map;for(let e=0;e<t.length;e++){const i=t[e];i.vtableMerge&&n.set(i.vtableMergeName,e)}}if(!r){r=new Map;for(let t=0;t<e.length;t++){const n=e[t];n.vtableMerge&&r.set(n.vtableMergeName,t)}}for(let n=0;n<t.length;n++){const a=t[n],s=e[r.get(a.vtableMergeName)];(0,o.Z)(s)&&(s.hierarchyState=t[n].hierarchyState),(0,i.Z)(a.children)&&(0,i.Z)(s.children)&&0!==a.map.size&&0!==s.map.size&&f(a.children,s.children,a.map,s.map)}}},48815:function(t,e,n){"use strict";function i(t,e,n,i,r,o){const a=function(t,e){const n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i);return n}(t,n);a.sort(((t,e)=>i(o(t),o(e),r)));for(let t=0;t<n;t++)e(t,a[t])}n.d(e,{o2:function(){return y},NA:function(){return g},UN:function(){return b},pY:function(){return w}});var r=n(86036),o=n(19401),a=n(95170),s=n(83130),l=n(51917),u=n(70375),h=n(42921),c=n(86801),d=n(66990),f=n(99655);const p={SOURCE_LENGTH_UPDATE:"source_length_update",CHANGE_ORDER:"change_order"};function g(t,e){const n=(0,a.vi)(t);if((0,a.tI)(n)){const t=n.then((t=>(e(t),t)));return e(t),t}return n}function m(t,e,n,i,r,o){if(null==t)return;if((0,a.tI)(t))return t.then((t=>m(t,e,n,i,r,o)));const s=function(t){if(a.j6.isObject(t)){const e=t;if((0,u.Z)(e.get)&&(0,u.Z)(e.set))return!0}return!1}(e)?e.get:e;if(s in t)return g(t[s],o);if("function"==typeof s)return g(s(t,n,i,r),o);if(Array.isArray(s))return g((0,l.MU)(t,[...s]),o);const h=`${s}`.split(".");return h.length<=1?g(t[s],o):g((0,a.vl)(t,((t,e)=>m(t,e,n,i,r,a.nO)),...h),o)}function v(t,e){if(!t)return e;const n=t[e];return(0,u.Z)(n)?n:e}class y extends s.R{static get EVENT_TYPE(){return p}constructor(t,e,n,i,r,o){var a;super(),this.currentIndexedData=[],this.hierarchyExpandLevel=0,this.hasHierarchyStateExpand=!1,this.beforeChangedRecordsMap=new Map,this.registedAggregators={},this.fieldAggregators=[],this.registerAggregators(),this.dataSourceObj=t,this.dataConfig=e,this._get=null==t?void 0:t.get,this.columns=i,this._source=(null==t?void 0:t.records)?this.processRecords(null==t?void 0:t.records):t,this._sourceLength=(null===(a=this._source)||void 0===a?void 0:a.length)||0,this.sortedIndexMap=new Map,this._currentPagerIndexedData=[],this.userPagination=n,this.pagination=n||{totalCount:this._sourceLength,perPageCount:this._sourceLength,currentPage:0},o>=1&&(this.hierarchyExpandLevel=o),this.currentIndexedData=Array.from({length:this._sourceLength},((t,e)=>e)),"tree"===r&&this.initTreeHierarchyState(),this.rowHierarchyType=r,this.updatePagerData()}initTreeHierarchyState(){var t;this.currentIndexedData=Array.from({length:this._sourceLength},((t,e)=>e));let e=this._sourceLength;for(let n=0;n<e;n++){const i=this.currentIndexedData[n],o=this.getOriginalRecord(i),a=null!==(t=o.filteredChildren)&&void 0!==t?t:o.children;if((null==a?void 0:a.length)>0){if(this.hierarchyExpandLevel>1?!o.hierarchyState&&(o.hierarchyState=r.g.expand):!o.hierarchyState&&(o.hierarchyState=r.g.collapse),this.hasHierarchyStateExpand=!0,o.hierarchyState===r.g.collapse)continue;const t=this.initChildrenNodeHierarchy(i,this.hierarchyExpandLevel,2,o);n+=t,e+=t}else!0===o.children&&!o.hierarchyState&&(o.hierarchyState=r.g.collapse)}}supplementConfig(t,e,n,i){var r;this.columns=e,this._sourceLength=(null===(r=this._source)||void 0===r?void 0:r.length)||0,this.sortedIndexMap=new Map,this._currentPagerIndexedData=[],this.userPagination=t,this.pagination=t||{totalCount:this._sourceLength,perPageCount:this._sourceLength,currentPage:0},i>=1&&(this.hierarchyExpandLevel=i),this.currentIndexedData=Array.from({length:this._sourceLength},((t,e)=>e)),"tree"===n&&this.initTreeHierarchyState(),this.rowHierarchyType=n,this.updatePagerData()}registerAggregator(t,e){this.registedAggregators[t]=e}registerAggregators(){this.registerAggregator(o.E.RECORD,f.hT),this.registerAggregator(o.E.SUM,f.__),this.registerAggregator(o.E.COUNT,f.ZP),this.registerAggregator(o.E.MAX,f.Fn),this.registerAggregator(o.E.MIN,f.NF),this.registerAggregator(o.E.AVG,f.ky),this.registerAggregator(o.E.NONE,f.ld),this.registerAggregator(o.E.CUSTOM,f.Js)}updateColumns(t){this.columns=t}_generateFieldAggragations(){const t=this.columns;this.fieldAggregators=[];const e=t=>{delete t.vtable_aggregator;const e=t.field,n=t.aggregation;if(n)if(Array.isArray(n))for(const i of n){const n=new this.registedAggregators[i.aggregationType]({field:e,formatFun:i.formatFun,isRecord:!0,aggregationFun:i.aggregationFun});this.fieldAggregators.push(n),t.vtable_aggregator||(t.vtable_aggregator=[]),t.vtable_aggregator.push(n)}else{const i=new this.registedAggregators[n.aggregationType]({field:e,formatFun:n.formatFun,isRecord:!0,aggregationFun:n.aggregationFun});this.fieldAggregators.push(i),t.vtable_aggregator=i}},n=t=>{if(t&&0!==t.length)for(const i of t)e(i),i.columns&&n(i.columns)};n(t)}processRecords(t){var e,n,i,r,o,a,s,l;this._generateFieldAggragations();const u=[],h=this.fieldAggregators.length>=1;if((null===(n=null===(e=this.dataConfig)||void 0===e?void 0:e.filterRules)||void 0===n?void 0:n.length)>=1||(null===(i=this.lastFilterRules)||void 0===i?void 0:i.length)>=1||h){for(let e=0,n=t.length;e<n;e++){const n=t[e];(null===(o=null===(r=this.dataConfig)||void 0===r?void 0:r.filterRules)||void 0===o?void 0:o.length)>=1?this.filterRecord(n)&&(u.push(n),"tree"===this.rowHierarchyType&&n.children&&(n.filteredChildren=this.filteredChildren(n.children)),h&&this.processRecord(n)):(null===(a=this.lastFilterRules)||void 0===a?void 0:a.length)>=1?(this.clearFilteredChildren(n),h&&this.processRecord(n)):h&&this.processRecord(n)}if((null===(l=null===(s=this.dataConfig)||void 0===s?void 0:s.filterRules)||void 0===l?void 0:l.length)>=1)return u}return t}filteredChildren(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];this.filterRecord(i)&&(e.push(i),i.children&&(i.filteredChildren=this.filteredChildren(i.children)))}return e}processRecord(t){for(let e=0;e<this.fieldAggregators.length;e++)this.fieldAggregators[e].push(t)}initChildrenNodeHierarchy(t,e,n,i){var o,a,s;let l=0;const u=i.filteredChildren?i.filteredChildren.length:null!==(a=null===(o=i.children)||void 0===o?void 0:o.length)&&void 0!==a?a:0;for(let o=0;o<u;o++){(n<=e||i.hierarchyState===r.g.expand)&&(l+=1);const a=i.filteredChildren?i.filteredChildren[o]:i.children[o],u=Array.isArray(t)?t.concat(o):[t,o];(n<=e||i.hierarchyState===r.g.expand)&&this.currentIndexedData.splice(this.currentIndexedData.indexOf(t)+l,0,u),(a.filteredChildren?a.filteredChildren.length>0:(null===(s=a.children)||void 0===s?void 0:s.length)>0)&&(n<e||a.hierarchyState===r.g.expand?(!a.hierarchyState&&(a.hierarchyState=r.g.expand),this.hasHierarchyStateExpand=!0):!a.hierarchyState&&(a.hierarchyState=r.g.collapse)),a.hierarchyState===r.g.expand&&(l+=this.initChildrenNodeHierarchy(u,e,n+1,a)),!0===a.children&&!a.hierarchyState&&(a.hierarchyState=r.g.collapse)}return l}updatePagination(t){this.pagination=t||{totalCount:this._sourceLength,perPageCount:this._sourceLength,currentPage:0},this.updatePagerData()}updatePagerData(){const{currentIndexedData:t}=this,{perPageCount:e,currentPage:n}=this.pagination,i=e*(n||0),r=i+e;if(this._currentPagerIndexedData.length=0,t&&t.length>0){let e=-1;for(let n=0;n<t.length;n++)if((Array.isArray(t[n])&&1===t[n].length||!Array.isArray(t[n]))&&e++,e>=i&&e<r)this._currentPagerIndexedData.push(t[n]);else if(e>=r)break}else if(this._sourceLength>0)throw new Error("currentIndexedData should has values!")}getRecordIndexPaths(t){return this._currentPagerIndexedData[t]}get records(){return Array.isArray(this._source)?this._source:[]}get source(){return this._source}get(t){return this.getOriginalRecord(v(this.currentPagerIndexedData,t))}getRaw(t){return this.getRawRecord(v(this.currentPagerIndexedData,t))}getIndexKey(t){return v(this.currentPagerIndexedData,t)}getTableIndex(t){return Array.isArray(t)?"tree"===this.rowHierarchyType?this.currentPagerIndexedData.findIndex((e=>(0,h.h6)(e,t))):this.currentPagerIndexedData.findIndex((e=>e===t[0])):this.currentPagerIndexedData.findIndex((e=>e===t))}getField(t,e,n,i,r){return this.getOriginalField(v(this.currentPagerIndexedData,t),e,n,i,r)}getRawField(t,e,n,i,r){return this.getRawFieldData(v(this.currentPagerIndexedData,t),e,n,i,r)}hasField(t,e){return this.hasOriginalField(v(this.currentPagerIndexedData,t),e)}getHierarchyState(t){var e;const n=this.getOriginalRecord(this.currentPagerIndexedData[t]);if(null==n?void 0:n.hierarchyState){const t=n.hierarchyState;if((null===(e=n.children)||void 0===e?void 0:e.length)>0||!0===n.children)return t}return null}toggleHierarchyState(t,e,n){const i=this.currentIndexedData.slice(0),o=this.getIndexKey(t),a=this.getHierarchyState(t),s=this.getOriginalRecord(o);if(this.clearSortedIndexMap(),a===r.g.collapse)s.hierarchyState=r.g.expand,this.pushChildrenNode(o,r.g.expand,s),this.hasHierarchyStateExpand=!0;else if(a===r.g.expand){let t=0;const e=(n,i,o)=>{if(!i||i===r.g.collapse||i===r.g.none)return;const a=o.filteredChildren?o.filteredChildren:o.children;if(a)for(let i=0;i<a.length;i++){t+=1;const r=Array.isArray(n)?n.concat([i]):[n,i];e(r,a[i].hierarchyState,a[i])}};e(o,a,s),this.currentIndexedData.splice(this.currentIndexedData.indexOf(o)+1,t),s.hierarchyState=r.g.collapse}this.updatePagerData();const l=[],u=[];if(a===r.g.collapse){const e=this.currentIndexedData.length-i.length;for(let n=0;n<e;n++)l.push(t+n+1)}else if(a===r.g.expand){const e=i.length-this.currentIndexedData.length;for(let n=0;n<e;n++)u.push(t+n+1)}return{add:l,remove:u}}pushChildrenNode(t,e,n){var o,a;if(!e||e===r.g.collapse||e===r.g.none)return 0;let s=0;const l=n.filteredChildren?n.filteredChildren:n.children;if(l){const e=Array.from({length:l.length},((t,e)=>e));null===(o=this.lastSortStates)||void 0===o||o.forEach((n=>{"normal"!==n.order&&i((t=>(0,u.Z)(e[t])?e[t]:e[t]=t),((t,n)=>{e[t]=n}),l.length,n.orderFn,n.order,(e=>this.getOriginalField(Array.isArray(t)?t.concat([e]):[t,e],n.field)))}));for(let n=0;n<e.length;n++){s+=1;const i=Array.isArray(t)?t.concat([e[n]]):[t,e[n]];this.currentIndexedData.splice(this.currentIndexedData.indexOf(t)+s,0,i);const o=this.getOriginalRecord(i);!o.hierarchyState&&(null!==(a=o.filteredChildren)&&void 0!==a?a:o.children)&&(o.hierarchyState=r.g.collapse),s+=this.pushChildrenNode(i,o.hierarchyState,l[e[n]])}}return s}changeFieldValue(t,e,n,i,r,o){var s;if(null!==n&&e>=0){const i=this.getIndexKey(e);if(this.cacheBeforeChangedRecord(i,o),"string"==typeof n||"number"==typeof n){const e=null===(s=this.beforeChangedRecordsMap.get(i.toString()))||void 0===s?void 0:s[n],r=this.getOriginalRecord(i);let o=t;"number"==typeof e&&(0,l.Zf)(t)&&(o=parseFloat(t)),(0,a.tI)(r)?r.then((t=>{t[n]=o})).catch((t=>{})):r?r[n]=o:(this.records[i]={},this.records[i][n]=o)}}}cacheBeforeChangedRecord(t,e){var n;if(!this.beforeChangedRecordsMap.has(t.toString())){const e=this.getOriginalRecord(t);this.beforeChangedRecordsMap.set(t.toString(),null!==(n=(0,c.Z)(e,void 0,["vtable_gantt_linkedFrom","vtable_gantt_linkedTo"]))&&void 0!==n?n:{})}}setRecord(t,e){var n,i;let r=!0;if((null===(i=null===(n=this.dataConfig)||void 0===n?void 0:n.filterRules)||void 0===i?void 0:i.length)>=1&&(this.filterRecord(t)?"tree"===this.rowHierarchyType&&t.children&&(t.filteredChildren=this.filteredChildren(t.children)):r=!1),r&&Array.isArray(this.records)){const n=this.getIndexKey(e);Array.isArray(n)||this.records.splice(n,1,t)}}addRecord(t,e){var n;if(Array.isArray(this.records)){this.records.splice(e,0,t),this.adjustBeforeChangedRecordsMap(e,1),this.currentIndexedData.push(this.currentIndexedData.length),this._sourceLength+=1;for(let e=0;e<this.fieldAggregators.length;e++)this.fieldAggregators[e].push(t);if("tree"===this.rowHierarchyType&&this.initTreeHierarchyState(),this.userPagination){this.pagination.totalCount=this._sourceLength;const{perPageCount:t,currentPage:n}=this.pagination;e<t*(n||0)+t&&this.updatePagerData()}else this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength,this.updatePagerData();(null===(n=this.dataSourceObj)||void 0===n?void 0:n.added)&&this.dataSourceObj.added(e,1)}}addRecords(t,e){var n;if(Array.isArray(this.records)){if(Array.isArray(t)){this.records.splice(e,0,...t),this.adjustBeforeChangedRecordsMap(e,t.length);for(let e=0;e<t.length;e++)this.currentIndexedData.push(this.currentIndexedData.length);this._sourceLength+=t.length;for(let e=0;e<this.fieldAggregators.length;e++)for(let n=0;n<t.length;n++)this.fieldAggregators[e].push(t[n])}if(this.userPagination){this.pagination.totalCount=this._sourceLength;const{perPageCount:t,currentPage:n}=this.pagination;e<t*(n||0)+t&&this.updatePagerData()}else this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength,this.updatePagerData();(null===(n=this.dataSourceObj)||void 0===n?void 0:n.added)&&this.dataSourceObj.added(e,t.length)}}addRecordForSorted(t){Array.isArray(this.records)&&(this.beforeChangedRecordsMap.clear(),this.records.push(t),this.currentIndexedData.push(this.currentIndexedData.length),this._sourceLength+=1,this.sortedIndexMap.clear(),this.userPagination||(this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength))}addRecordsForSorted(t){if(Array.isArray(this.records)){if(this.beforeChangedRecordsMap.clear(),Array.isArray(t)){this.records.push(...t);for(let e=0;e<t.length;e++)this.currentIndexedData.push(this.currentIndexedData.length);this._sourceLength+=t.length,this.sortedIndexMap.clear()}this.userPagination||(this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength)}}adjustBeforeChangedRecordsMap(t,e,n="add"){for(let i=this.beforeChangedRecordsMap.size-1;i>=t;i--){const t=this.beforeChangedRecordsMap.get(i.toString());this.beforeChangedRecordsMap.delete(i.toString()),this.beforeChangedRecordsMap.set((i+("add"===n?e:-e)).toString(),t)}}deleteRecords(t){var e;if(Array.isArray(this.records)){const n=[],i=t.sort(((t,e)=>e-t));for(let t=0;t<i.length;t++){const e=i[t];if(e>=this._sourceLength||e<0)continue;this.adjustBeforeChangedRecordsMap(e,1,"delete"),n.push(e);const r=this.records[e];for(let t=0;t<this.fieldAggregators.length;t++)this.fieldAggregators[t].deleteRecord(r);this.records.splice(e,1),this.currentIndexedData.pop(),this._sourceLength-=1}return this.userPagination||(this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength),this.updatePagerData(),(null===(e=this.dataSourceObj)||void 0===e?void 0:e.deleted)&&this.dataSourceObj.deleted(n),n}return[]}deleteRecordsForSorted(t){if(Array.isArray(this.records)){const e=t.sort(((t,e)=>e-t));for(let t=0;t<e.length;t++){const n=e[t];if(n>=this._sourceLength||n<0)continue;const i=this.currentIndexedData[n];this.records.splice(i,1),this._sourceLength-=1}this.sortedIndexMap.clear(),this.userPagination||(this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength),this.beforeChangedRecordsMap.clear()}}updateRecords(t,e){const n=[];for(let i=0;i<e.length;i++){const r=e[i];if(Array.isArray(r))this.beforeChangedRecordsMap.delete(r.toString()),n.push(r),r.slice(0,-1).reduce(((t,e)=>(void 0===t[e]&&(t[e]={}),t[e].children)),this.records)[r[r.length-1]]=t[i];else{if(r>=this._sourceLength||r<0)continue;this.beforeChangedRecordsMap.delete(r.toString()),n.push(r);for(let e=0;e<this.fieldAggregators.length;e++)this.fieldAggregators[e].updateRecord(this.records[r],t[i]);this.records[r]=t[i]}}return this.userPagination&&this.updatePagerData(),n}updateRecordsForSorted(t,e){const n=[];for(let i=0;i<e.length;i++){const r=e[i];if(r>=this._sourceLength||r<0)continue;const o=this.currentIndexedData[r];if("number"!=typeof o)return;this.beforeChangedRecordsMap.delete(o.toString()),n.push(r),this.records[o]=t[i]}this.sortedIndexMap.clear()}sort(t){t=(Array.isArray(t)?t:[t]).filter((t=>{const e=this.columns.find((e=>e.field===t.field));return!1!==(null==e?void 0:e.sort)&&"normal"!==t.order})),this.lastSortStates=t;let e=t.map((t=>this.sortedIndexMap.get(null==t?void 0:t.field)||{asc:[],desc:[],normal:[]})),n=null;if(e.length>0&&(n=t.reduce(((t,n,i)=>{var r;const o=null===(r=e[i])||void 0===r?void 0:r[n.order];return o&&o.length>0?o:t}),null),n&&n.length>0))return this.currentIndexedData=n,this.updatePagerData(),void this.fireListeners(p.CHANGE_ORDER,null);const i=Array.from({length:this._sourceLength},((t,e)=>e));if(i.sort(((e,n)=>t.reduce(((t,i)=>0!==t?t:(i.orderFn||("desc"!==i.order?(t,e)=>t===e?0:t>e?1:-1:(t,e)=>t===e?0:t<e?1:-1))(this.getOriginalField(e,i.field),this.getOriginalField(n,i.field),i.order)),0))),this.currentIndexedData=i,this.hierarchyExpandLevel){let t=i.length;for(let e=0;e<t;e++){const n=this.getOriginalRecord(i[e]),r=this.pushChildrenNode(i[e],n.hierarchyState,this.getOriginalRecord(i[e]));t+=r,e+=r}}if(!e.length){e=t.map((()=>({asc:[],desc:[],normal:[]})));for(let n=0;n<t.length;n++)this.sortedIndexMap.set(t[n].field,e[n])}t.forEach(((t,n)=>{e[n][t.order]=i.slice()})),this.updatePagerData(),this.fireListeners(p.CHANGE_ORDER,null)}setSortedIndexMap(t,e){this.sortedIndexMap.set(t,e)}clearFilteredChildren(t){var e,n;t.filteredChildren=void 0;for(let i=0;i<(null!==(n=null===(e=t.children)||void 0===e?void 0:e.length)&&void 0!==n?n:0);i++)this.clearFilteredChildren(t.children[i])}filterRecord(t){var e,n,i;let r=!0;for(let o=0;o<(null===(e=this.dataConfig.filterRules)||void 0===e?void 0:e.length);o++){const e=null===(n=this.dataConfig)||void 0===n?void 0:n.filterRules[o];if(e.filterKey){const n=t[e.filterKey];if(-1===e.filteredValues.indexOf(n)){r=!1;break}}else if(!(null===(i=e.filterFunc)||void 0===i?void 0:i.call(e,t))){r=!1;break}}return r}updateFilterRulesForSorted(t){var e,n,i;this.lastFilterRules=this.dataConfig.filterRules,this.dataConfig.filterRules=t,this._source=this.processRecords(null!==(n=null===(e=this.dataSourceObj)||void 0===e?void 0:e.records)&&void 0!==n?n:this.dataSourceObj),this._sourceLength=(null===(i=this._source)||void 0===i?void 0:i.length)||0,this.sortedIndexMap.clear(),this.currentIndexedData=Array.from({length:this._sourceLength},((t,e)=>e)),this.userPagination||(this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength)}updateFilterRules(t){var e,n,i;this.lastFilterRules=this.dataConfig.filterRules,this.dataConfig.filterRules=t,this._source=this.processRecords(null!==(n=null===(e=this.dataSourceObj)||void 0===e?void 0:e.records)&&void 0!==n?n:this.dataSourceObj),this._sourceLength=(null===(i=this._source)||void 0===i?void 0:i.length)||0,this.currentIndexedData=Array.from({length:this._sourceLength},((t,e)=>e)),this.userPagination||(this.pagination.perPageCount=this._sourceLength,this.pagination.totalCount=this._sourceLength,"tree"===this.rowHierarchyType&&this.initTreeHierarchyState()),this.updatePagerData()}clearSortedIndexMap(){this.lastSortStates&&this.lastSortStates.length>0&&this.sortedIndexMap.forEach(((t,e)=>{this.lastSortStates.some((t=>t.field===e))?this.lastSortStates.forEach((e=>{"asc"===e.order?(t.desc=[],t.normal=[]):"desc"===e.order?(t.asc=[],t.normal=[]):(t.asc=[],t.desc=[])})):this.sortedIndexMap.delete(e)}))}get sourceLength(){return this._sourceLength}set sourceLength(t){this._sourceLength!==t&&(this._sourceLength=t,this.fireListeners(p.SOURCE_LENGTH_UPDATE,this._sourceLength))}get length(){return this.currentPagerIndexedData.length}get dataSource(){return this}get currentPagerIndexedData(){return this._currentPagerIndexedData.length>0?this._currentPagerIndexedData:[]}release(){var t;null===(t=super.release)||void 0===t||t.call(this),this.lastFilterRules=null}clearSortedMap(){this.currentIndexedData&&(this.currentIndexedData.length=0),this.currentIndexedData=null,this.sortedIndexMap.forEach((t=>{t.asc&&(t.asc.length=0),t.desc&&(t.desc.length=0)})),this.sortedIndexMap.clear()}clearCurrentIndexedData(){this.currentIndexedData=null,this.currentPagerIndexedData.length=0}getOriginalRecord(t){let e;return e=this.dataSourceObj.records?Array.isArray(t)?b(this.records,t):this.records[t]:this._get(t),g(e,(e=>{this.recordPromiseCallBack(t,e)}))}getRawRecord(t){var e,n;if(null===(e=this.beforeChangedRecordsMap)||void 0===e?void 0:e.has(t.toString()))return null===(n=this.beforeChangedRecordsMap)||void 0===n?void 0:n.get(t.toString());let i;return i=this.dataSourceObj.records?Array.isArray(t)?b(this.records,t):this.records[t]:this._get(t),g(i,(e=>{this.recordPromiseCallBack(t,e)}))}getOriginalField(t,e,n,i,r){if(null!==e)return m(this.getOriginalRecord(t),e,n,i,r,(n=>{this.fieldPromiseCallBack(t,e,n)}))}getRawFieldData(t,e,n,i,r){if(null!==e)return m(this.getRawRecord(t),e,n,i,r,(n=>{this.fieldPromiseCallBack(t,e,n)}))}hasOriginalField(t,e){if(null===e)return!1;if("function"==typeof e)return!0;const n=this.getOriginalRecord(t);return Boolean(n&&e in n)}fieldPromiseCallBack(t,e,n){}recordPromiseCallBack(t,e){}canChangeOrder(t,e){var n;if(null===(n=this.dataSourceObj)||void 0===n?void 0:n.canChangeOrder)return this.dataSourceObj.canChangeOrder(t,e);if(this.hasHierarchyStateExpand){let n=this.currentPagerIndexedData[t],i=this.currentPagerIndexedData[e];if(n=Array.isArray(n)?[...n]:[n],i=Array.isArray(i)?[...i]:[i],e>t&&i.length>n.length){let t=this.currentPagerIndexedData[e+1];t=Array.isArray(t)?[...t]:[t],t.length<i.length&&i.splice(i.length-1,1)}if(n.length===i.length){for(let t=0;t<=n.length-2;t++)if(n[t]!==i[t])return!1;return!0}return!1}return!0}changeOrder(t,e){var n,i,r;if(null===(n=this.dataSourceObj)||void 0===n?void 0:n.changeOrder)this.dataSourceObj.changeOrder(t,e);else if(!(null===(i=this.lastSortStates)||void 0===i?void 0:i.some((t=>"asc"===t.order||"desc"===t.order)))&&this.canChangeOrder(t,e))if(this.hasHierarchyStateExpand){let n,i,o=this.currentPagerIndexedData[t],a=this.currentPagerIndexedData[e];if(o=Array.isArray(o)?[...o]:[o],a=Array.isArray(a)?[...a]:[a],o.length>1||a.length>1){if(e>t&&a.length>o.length){let t=this.currentPagerIndexedData[e+1];t=Array.isArray(t)?[...t]:[t],t.length<a.length&&a.splice(a.length-1,1)}if(n=o.splice(o.length-1,1)[0],i=a.splice(a.length-1,1)[0],o.length>=1){const t=this.getOriginalRecord(o),e=t.filteredChildren?t.filteredChildren.splice(n,1):t.children.splice(n,1);e.unshift(i,0),Array.prototype.splice.apply(null!==(r=t.filteredChildren)&&void 0!==r?r:t.children,e)}else{const t=this.records.splice(n,1);t.unshift(i,0),Array.prototype.splice.apply(this.records,t)}}else{n=this.currentPagerIndexedData[t],i=this.currentPagerIndexedData[e];const r=this.records.splice(n,1);r.unshift(i,0),Array.prototype.splice.apply(this.records,r)}this.restoreTreeHierarchyState(),this.updatePagerData()}else{const n=this.records.splice(t,1);n.unshift(e,0),Array.prototype.splice.apply(this.records,n)}}restoreTreeHierarchyState(){var t,e;if(this.hierarchyExpandLevel){for(let e=0;e<this._sourceLength;e++){const n=this.getOriginalRecord(e);(null!==(t=n.filteredChildren)&&void 0!==t?t:n.children)&&!n.hierarchyState&&(n.hierarchyState=r.g.collapse)}this.currentIndexedData=Array.from({length:this._sourceLength},((t,e)=>e));let n=this._sourceLength;for(let t=0;t<n;t++){const i=this.currentIndexedData[t],o=this.getOriginalRecord(i),a=null!==(e=o.filteredChildren)&&void 0!==e?e:o.children;if((null==a?void 0:a.length)>0&&o.hierarchyState===r.g.expand){this.hasHierarchyStateExpand=!0;const e=this.restoreChildrenNodeHierarchy(i,o);t+=e,n+=e}else!0===o.children&&!o.hierarchyState&&(o.hierarchyState=r.g.collapse)}}}restoreChildrenNodeHierarchy(t,e){var n,i;let o=0;const a=null!==(n=e.filteredChildren)&&void 0!==n?n:e.children,s=null!==(i=null==a?void 0:a.length)&&void 0!==i?i:0;for(let n=0;n<s;n++){e.hierarchyState===r.g.expand&&(o+=1);const i=a[n],s=Array.isArray(t)?t.concat(n):[t,n];e.hierarchyState===r.g.expand&&this.currentIndexedData.splice(this.currentIndexedData.indexOf(t)+o,0,s),o+=this.restoreChildrenNodeHierarchy(s,i)}return o}}function b(t,e){var n;let i=t;for(let t=0;t<e.length;t++){const r=e[t];if(!i[r])return;i=i[r];const o=null!==(n=i.filteredChildren)&&void 0!==n?n:null==i?void 0:i.children;o&&t+1<e.length&&(i=o)}return i}function w(t,e){return t.sort(((t,n)=>{var i,r;(0,d.Z)(t)&&(t=[t]),(0,d.Z)(n)&&(n=[n]);const o=Math.max(t.length,n.length);for(let a=0;a<o;a++){const o=null!==(i=t[a])&&void 0!==i?i:-1,s=null!==(r=n[a])&&void 0!==r?r:-1;if(o!==s)return 1===e?o-s:s-o}return 0}))}y.EMPTY=new y({get(){},length:0})},26221:function(t,e,n){"use strict";n.d(e,{q:function(){return l}});var i=n(70375),r=n(19401),o=n(99655),a=n(97176);function s(t,e){let n="";for(let i=0;i<t.length;i++)n+=t[i],i!==t.length-1&&(n+=e);return n}class l{constructor(t,e,n,i,r,o,a,s,l,u,h,c,d){var f,p,g,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$,X,Y;this.tree={},this.changedTree={},this.colFlatKeys={},this.rowFlatKeys={},this.colKeys=[],this.rowKeys=[],this.colKeys_normal=[],this.rowKeys_normal=[],this.rowOrder="key_a_to_z",this.colOrder="key_a_to_z",this.sorted=!1,this.indicatorStatistics=[],this.stringJoinChar=String.fromCharCode(0),this.rowsIsTotal=[],this.colsIsTotal=[],this.collectedValues={},this.cacheCollectedValues={},this.totalRecordsTree={},this.registerAggregators(),this.dataConfig=t,this.filterRules=null===(f=this.dataConfig)||void 0===f?void 0:f.filterRules,this.rowHierarchyType=null!=s?s:"grid",this.sortRules=null===(p=this.dataConfig)||void 0===p?void 0:p.sortRules,this.aggregationRules=null===(g=this.dataConfig)||void 0===g?void 0:g.aggregationRules,this.derivedFieldRules=null===(m=this.dataConfig)||void 0===m?void 0:m.derivedFieldRules,this.mappingRules=null===(v=this.dataConfig)||void 0===v?void 0:v.mappingRules,this.calculatedFieldRules=null===(y=this.dataConfig)||void 0===y?void 0:y.calculatedFieldRules,this.calculatedFiledKeys=null!==(w=null===(b=this.calculatedFieldRules)||void 0===b?void 0:b.map((t=>t.key)))&&void 0!==w?w:[],this.calculatedFieldDependIndicatorKeys=null!==(_=null===(x=this.calculatedFieldRules)||void 0===x?void 0:x.reduce(((t,e)=>{for(let n=0;n<e.dependIndicatorKeys.length;n++)-1===t.indexOf(e.dependIndicatorKeys[n])&&t.push(e.dependIndicatorKeys[n]);return t}),[]))&&void 0!==_?_:[],this.totals=null===(C=this.dataConfig)||void 0===C?void 0:C.totals,this.rows=e,this.columns=n,this.indicatorKeys=i,this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys=[...i];for(let t=0;t<this.calculatedFieldDependIndicatorKeys.length;t++)-1===this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys.indexOf(this.calculatedFieldDependIndicatorKeys[t])&&this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys.push(this.calculatedFieldDependIndicatorKeys[t]);if(this.indicatorsAsCol=o,this.indicators=r,this.customColTree=l,this.customRowTree=u,this.hasExtensionRowTree=c,this.parseCustomTreeToMatchRecords=d,this.parseCustomTreeToMatchRecords&&(this.customColTreeDimensionPaths=this.customTreeToDimensionPathArr(this.customColTree,"col"),this.hasExtensionRowTree||(this.customRowTreeDimensionPaths=this.customTreeToDimensionPathArr(this.customRowTree,"row"))),this.colGrandTotalLabel=null!==(A=null===(M=null===(S=this.totals)||void 0===S?void 0:S.column)||void 0===M?void 0:M.grandTotalLabel)&&void 0!==A?A:"",this.colSubTotalLabel=null!==(R=null===(k=null===(T=this.totals)||void 0===T?void 0:T.column)||void 0===k?void 0:k.subTotalLabel)&&void 0!==R?R:"",this.rowGrandTotalLabel=null!==(E=null===(P=null===(I=this.totals)||void 0===I?void 0:I.row)||void 0===P?void 0:P.grandTotalLabel)&&void 0!==E?E:"",this.rowSubTotalLabel=null!==(D=null===(L=null===(B=this.totals)||void 0===B?void 0:B.row)||void 0===L?void 0:L.subTotalLabel)&&void 0!==D?D:"",this.collectValuesBy=null===(O=this.dataConfig)||void 0===O?void 0:O.collectValuesBy,this.needSplitPositiveAndNegative=null!=h&&h,this.rowsIsTotal=new Array(null!==(H=null===(F=this.rows)||void 0===F?void 0:F.length)&&void 0!==H?H:0).fill(!1),this.colsIsTotal=new Array(null!==(z=null===(N=this.columns)||void 0===N?void 0:N.length)&&void 0!==z?z:0).fill(!1),(null===(W=this.totals)||void 0===W?void 0:W.row)&&!1!==this.totals.row.showSubTotals&&this.totals.row.subTotalsDimensions)for(let t=0,e=null!==(Z=null===(G=null===(V=null===(j=this.totals)||void 0===j?void 0:j.row)||void 0===V?void 0:V.subTotalsDimensions)||void 0===G?void 0:G.length)&&void 0!==Z?Z:0;t<e;t++){const e=this.totals.row.subTotalsDimensions[t],n=this.rows.indexOf(e);this.rowsIsTotal[n]=!0}if((null===(U=this.totals)||void 0===U?void 0:U.column)&&!1!==this.totals.column.showSubTotals&&this.totals.column.subTotalsDimensions)for(let t=0,e=null!==(Y=null===(X=null===($=null===(K=this.totals)||void 0===K?void 0:K.column)||void 0===$?void 0:$.subTotalsDimensions)||void 0===X?void 0:X.length)&&void 0!==Y?Y:0;t<e;t++){const e=this.totals.column.subTotalsDimensions[t],n=this.columns.indexOf(e);this.colsIsTotal[n]=!0}this.setRecords(a)}setRecords(t){var e,n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b;this.records=t,this.collectedValues={},this.cacheCollectedValues={},this.totalRecordsTree={},this.tree={},this.colFlatKeys={},this.rowFlatKeys={},this.colKeys=[],this.rowKeys=[],this.rowsHasValue=[],this.columnsHasValue=[],this.sorted=!1,t&&(this.records=t,"undefined"!=typeof window&&window.performance.now(),this.processRecords(),this.processCollectedValuesWithSumBy(),this.generateCollectedValuesSortRule(),this.processCollectedValuesWithSortBy(),"undefined"!=typeof window&&window.performance.now(),"undefined"!=typeof window&&window.performance.now(),this.totalStatistics(),"undefined"!=typeof window&&window.performance.now(),this.rowKeys_normal=this.rowKeys.slice(),this.colKeys_normal=this.colKeys.slice(),"undefined"!=typeof window&&window.performance.now(),this.sortKeys(),"undefined"!=typeof window&&window.performance.now(),"undefined"!=typeof window&&window.performance.now(),this.customRowTree?this.rowHeaderTree=this.customRowTree:"tree"===this.rowHierarchyType?this.rowHeaderTree=this.ArrToTree1(this.rowKeys,this.rows.filter(((t,e)=>this.rowsHasValue[e])),this.indicatorsAsCol?void 0:this.indicators,(null===(n=null===(e=this.totals)||void 0===e?void 0:e.row)||void 0===n?void 0:n.showGrandTotals)||!this.indicatorsAsCol&&0===this.columns.length||this.indicatorsAsCol&&0===this.rows.length,this.rowGrandTotalLabel):this.rowHeaderTree=this.ArrToTree(this.rowKeys,this.rows.filter(((t,e)=>this.rowsHasValue[e])),this.indicatorsAsCol?void 0:this.indicators,this.rowsIsTotal,(null===(r=null===(i=this.totals)||void 0===i?void 0:i.row)||void 0===r?void 0:r.showGrandTotals)||this.indicatorsAsCol&&0===this.rows.length,this.rowGrandTotalLabel,this.rowSubTotalLabel,null!==(s=null===(a=null===(o=this.totals)||void 0===o?void 0:o.row)||void 0===a?void 0:a.showGrandTotalsOnTop)&&void 0!==s&&s,null!==(h=null===(u=null===(l=this.totals)||void 0===l?void 0:l.row)||void 0===u?void 0:u.showSubTotalsOnTop)&&void 0!==h&&h),this.customColTree?this.colHeaderTree=this.customColTree:this.colHeaderTree=this.ArrToTree(this.colKeys,this.columns.filter(((t,e)=>this.columnsHasValue[e])),this.indicatorsAsCol?this.indicators:void 0,this.colsIsTotal,(null===(d=null===(c=this.totals)||void 0===c?void 0:c.column)||void 0===d?void 0:d.showGrandTotals)||!this.indicatorsAsCol&&0===this.columns.length,this.colGrandTotalLabel,this.colSubTotalLabel,null!==(g=null===(p=null===(f=this.totals)||void 0===f?void 0:f.column)||void 0===p?void 0:p.showGrandTotalsOnLeft)&&void 0!==g&&g,null!==(y=null===(v=null===(m=this.totals)||void 0===m?void 0:m.column)||void 0===v?void 0:v.showSubTotalsOnLeft)&&void 0!==y&&y),"undefined"!=typeof window&&window.performance.now(),(null===(b=this.dataConfig)||void 0===b?void 0:b.isPivotChart)&&this.cacheDeminsionCollectedValues())}registerAggregator(t,e){o.YJ[t]=e}registerAggregators(){this.registerAggregator(r.E.RECORD,o.hT),this.registerAggregator(r.E.SUM,o.__),this.registerAggregator(r.E.COUNT,o.ZP),this.registerAggregator(r.E.MAX,o.Fn),this.registerAggregator(r.E.MIN,o.NF),this.registerAggregator(r.E.AVG,o.ky),this.registerAggregator(r.E.NONE,o.ld),this.registerAggregator(r.E.RECALCULATE,o.U4),this.registerAggregator(r.E.CUSTOM,o.Js)}processCollectedValuesWithSumBy(){var t,e,n,i,r,o;for(const a in this.collectedValues)if(null===(e=null===(t=this.collectValuesBy)||void 0===t?void 0:t[a])||void 0===e?void 0:e.sumBy)for(const t in this.collectedValues[a]){let e;"sum"===(null===(n=this.collectValuesBy[a])||void 0===n?void 0:n.extendRange)?(e=Object.values(this.collectedValues[a][t]).reduce(((t,e)=>t+e.value()),0),e+=Math.round(e/20)):(e=Object.values(this.collectedValues[a][t]).reduce(((t,e)=>e.value()>t?e.value():t),Number.MIN_SAFE_INTEGER),"max"===(null===(i=this.collectValuesBy[a])||void 0===i?void 0:i.extendRange)?e+=Math.round(e/20):"number"==typeof(null===(r=this.collectValuesBy[a])||void 0===r?void 0:r.extendRange)&&(e=Math.max(e,null===(o=this.collectValuesBy[a])||void 0===o?void 0:o.extendRange)));const s=Object.values(this.collectedValues[a][t]).reduce(((t,e)=>e.value()<t?e.value():t),Number.MAX_SAFE_INTEGER);let l,u;this.needSplitPositiveAndNegative&&(l=Object.values(this.collectedValues[a][t]).reduce(((t,e)=>e.positiveValue()>t?e.positiveValue():t),Number.MIN_SAFE_INTEGER),u=Object.values(this.collectedValues[a][t]).reduce(((t,e)=>e.negativeValue()<t?e.negativeValue():t),Number.MAX_SAFE_INTEGER)),this.collectedValues[a][t]={},this.collectedValues[a][t].max=e,this.collectedValues[a][t].min=s,this.needSplitPositiveAndNegative&&(this.collectedValues[a][t].positiveMax=l,this.collectedValues[a][t].negativeMin=u)}}processCollectedValuesWithSortBy(){var t,e;const n=this;for(const i in this.collectedValues)if(null===(e=null===(t=this.collectValuesBy)||void 0===t?void 0:t[i])||void 0===e?void 0:e.sortBy)for(const t in this.collectedValues[i])this.collectedValues[i][t]=this.collectedValues[i][t].sort(((t,e)=>{var r,o,a,s;return(null!==(o=null===(r=n.collectValuesBy[i].sortBy)||void 0===r?void 0:r.indexOf(t))&&void 0!==o?o:-1)-(null!==(s=null===(a=n.collectValuesBy[i].sortBy)||void 0===a?void 0:a.indexOf(e))&&void 0!==s?s:-1)}))}generateCollectedValuesSortRule(){for(const t in this.collectedValues)if(this.collectValuesBy&&this.collectValuesBy[t]&&!this.collectValuesBy[t].sortBy){let e=[];for(const n in this.collectedValues[t])Array.isArray(this.collectedValues[t][n])&&(e.push(...this.collectedValues[t][n]),e=Array.from(new Set(e)));e.length>0&&(this.collectValuesBy[t].sortBy=e)}}processRecords(){var t,e;let n=!1;if((null!==(e=null===(t=this.filterRules)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>=1&&(n=!0),Array.isArray(this.records)){this.filteredRecords||(this.filteredRecords=[]);for(let t=0,e=this.records.length;t<e;t++){const e=this.records[t];n&&!this.filterRecord(e)||(this.filteredRecords.push(e),this.processRecord(e))}}else{this.filteredRecords||(this.filteredRecords={});for(const t in this.records)for(let e=0,i=this.records[t].length;e<i;e++){const i=this.records[t][e];n&&!this.filterRecord(i)||(this.filteredRecords[t]||(this.filteredRecords[t]=[]),this.filteredRecords[t].push(i),this.processRecord(i,t))}}this.rowFlatKeys={},this.colFlatKeys={}}filterRecord(t){var e,n;let i=!0;if(this.filterRules)for(let r=0;r<this.filterRules.length;r++){const o=this.filterRules[r];if(o.filterKey){const n=t[o.filterKey];if(-1===(null===(e=o.filteredValues)||void 0===e?void 0:e.indexOf(n))){i=!1;break}}else if(!(null===(n=o.filterFunc)||void 0===n?void 0:n.call(o,t))){i=!1;break}}return i}processRecord(t,e){var n,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$,X,Y,q,J,Q,tt,et,nt,it,rt,ot,at,st,lt,ut,ht,ct,dt,ft,pt,gt,mt,vt;null===(n=this.derivedFieldRules)||void 0===n||n.forEach(((e,n)=>{e.fieldName&&e.derivedFunc&&(t[e.fieldName]=e.derivedFunc(t))}));for(const e in this.collectValuesBy)if((0,i.Z)(t[e])){this.collectedValues[e]||(this.collectedValues[e]={});const n=this.collectValuesBy[e].by.map((e=>t[e])).join(this.stringJoinChar);if(this.collectedValues[e][n]||(this.collectValuesBy[e].sumBy?this.collectedValues[e][n]={}:this.collectValuesBy[e].range?this.collectedValues[e][n]={min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER}:this.collectedValues[e][n]=[]),this.collectValuesBy[e].sumBy){const i=null===(s=this.collectValuesBy[e].sumBy)||void 0===s?void 0:s.map((e=>t[e])).join(this.stringJoinChar);this.collectedValues[e][n][i]||(this.collectedValues[e][n][i]=new o.YJ[r.E.SUM]({key:e,field:e,isRecord:void 0,needSplitPositiveAndNegative:this.needSplitPositiveAndNegative})),this.collectedValues[e][n][i].push(t)}else if(this.collectValuesBy[e].range){const i=this.collectedValues[e][n],r=Math.max(t[e],i.max),o=Math.min(t[e],i.min);isNaN(r)||(i.max=r,i.min=o)}else{const i=this.collectedValues[e][n];-1===i.indexOf(t[e])&&i.push(t[e])}}let yt=!1;const bt=[],wt=[];if(!this.parseCustomTreeToMatchRecords||(null===(l=this.dataConfig)||void 0===l?void 0:l.isPivotChart)||!(null===(u=this.customRowTree)||void 0===u?void 0:u.length)||e||this.hasExtensionRowTree){const n=[];wt.push({rowKey:n,indicatorKey:e});for(let e=0,i=this.rows.length;e<i;e++){const i=this.rows[e];if(i in t)this.rowsHasValue[e]=!0,n.push(t[i]);else if(i!==a.ek){if((null===(d=null===(c=null===(h=this.dataConfig)||void 0===h?void 0:h.totals)||void 0===c?void 0:c.row)||void 0===d?void 0:d.showGrandTotals)&&0===e&&!this.rows.find((e=>e in t))){n.push(this.rowGrandTotalLabel),yt=!0;break}if((null===(g=null===(p=null===(f=this.dataConfig)||void 0===f?void 0:f.totals)||void 0===p?void 0:p.row)||void 0===g?void 0:g.subTotalsDimensions)&&(null===(y=null===(v=null===(m=this.dataConfig)||void 0===m?void 0:m.totals)||void 0===v?void 0:v.row)||void 0===y?void 0:y.subTotalsDimensions.indexOf(this.rows[e-1]))>=0){"grid"===this.rowHierarchyType&&n.push(this.rowSubTotalLabel),yt=!0;break}}}}else{const e=this.getFieldMatchRowDimensionPaths(t);if(e.length>0)for(let t=0,n=e.length;t<n;t++){const n=e[t],r=[];let o;for(let t=0,e=n.length;t<e;t++)(0,i.Z)(n[t].indicatorKey)?o=n[t].indicatorKey:r.push(n[t].value);wt.push({rowKey:r,indicatorKey:o})}}if(!this.parseCustomTreeToMatchRecords||(null===(b=this.dataConfig)||void 0===b?void 0:b.isPivotChart)||!(null===(w=this.customColTree)||void 0===w?void 0:w.length)||e||this.hasExtensionRowTree){const n=[];bt.push({colKey:n,indicatorKey:e});for(let e=0,i=this.columns.length;e<i;e++){const i=this.columns[e];if(i in t)this.columnsHasValue[e]=!0,n.push(t[i]);else if(i!==a.ek){if((null===(C=null===(_=null===(x=this.dataConfig)||void 0===x?void 0:x.totals)||void 0===_?void 0:_.column)||void 0===C?void 0:C.showGrandTotals)&&0===e&&!this.columns.find((e=>e in t))){n.push(this.colGrandTotalLabel),yt=!0;break}if((null===(A=null===(M=null===(S=this.dataConfig)||void 0===S?void 0:S.totals)||void 0===M?void 0:M.column)||void 0===A?void 0:A.subTotalsDimensions)&&(null===(R=null===(k=null===(T=this.dataConfig)||void 0===T?void 0:T.totals)||void 0===k?void 0:k.column)||void 0===R?void 0:R.subTotalsDimensions.indexOf(this.columns[e-1]))>=0){n.push(this.colSubTotalLabel),yt=!0;break}}}}else{const e=this.getFieldMatchColDimensionPaths(t);if(e.length>0)for(let t=0,n=e.length;t<n;t++){const n=e[t],r=[];let o;for(let t=0,e=n.length;t<e;t++)(0,i.Z)(n[t].indicatorKey)?o=n[t].indicatorKey:r.push(n[t].value);bt.push({colKey:r,indicatorKey:o})}}for(let n=0;n<wt.length;n++){const i=wt[n].rowKey;let a;this.indicatorsAsCol||(a=wt[n].indicatorKey);for(let n=0;n<bt.length;n++){const s=bt[n].colKey;this.indicatorsAsCol&&(a=bt[n].indicatorKey);const l=i.join(this.stringJoinChar),u=s.join(this.stringJoinChar);if(yt){this.totalRecordsTree[l]||(this.totalRecordsTree[l]={}),this.totalRecordsTree[l][u]||(this.totalRecordsTree[l][u]=[]);const e=this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys;for(let n=0;n<e.length;n++)if(this.calculatedFiledKeys.indexOf(e[n])>=0){const i=null===(I=this.calculatedFieldRules)||void 0===I?void 0:I.find((t=>t.key===e[n]));(null===(E=null===(P=this.totalRecordsTree[l])||void 0===P?void 0:P[u])||void 0===E?void 0:E[n])||(this.totalRecordsTree[l][u][n]=new o.YJ[r.E.RECALCULATE]({key:e[n],field:e[n],isRecord:!0,formatFun:null===(L=null===(B=this.indicators)||void 0===B?void 0:B.find((t=>"string"!=typeof t&&t.indicatorKey===e[n])))||void 0===L?void 0:L.format,calculateFun:null==i?void 0:i.calculateFun,dependAggregators:this.totalRecordsTree[l][u],dependIndicatorKeys:null==i?void 0:i.dependIndicatorKeys})),e[n]in t&&(null===(O=null===(D=this.totalRecordsTree[l])||void 0===D?void 0:D[u])||void 0===O||O[n].push(t))}else{const i=this.getAggregatorRule(e[n]);(null===(H=null===(F=this.totalRecordsTree[l])||void 0===F?void 0:F[u])||void 0===H?void 0:H[n])||(this.totalRecordsTree[l][u][n]=new o.YJ[null!==(N=null==i?void 0:i.aggregationType)&&void 0!==N?N:r.E.SUM]({key:e[n],field:null!==(z=null==i?void 0:i.field)&&void 0!==z?z:e[n],aggregationFun:null==i?void 0:i.aggregationFun,formatFun:null!==(W=null==i?void 0:i.formatFun)&&void 0!==W?W:null===(V=null===(j=this.indicators)||void 0===j?void 0:j.find((t=>"string"!=typeof t&&t.indicatorKey===e[n])))||void 0===V?void 0:V.format})),e[n]in t&&(null===(Z=null===(G=this.totalRecordsTree[l])||void 0===G?void 0:G[u])||void 0===Z||Z[n].push(t))}return}0!==i.length&&(this.rowFlatKeys[l]||(this.rowKeys.push(i),this.rowFlatKeys[l]=1)),0!==s.length&&(this.colFlatKeys[u]||(this.colKeys.push(s),this.colFlatKeys[u]=1)),this.tree[l]||(this.tree[l]={}),(null===(U=this.tree[l])||void 0===U?void 0:U[u])||(this.tree[l][u]=[]);const h=this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys;for(let n=0;n<h.length;n++)if(this.calculatedFiledKeys.indexOf(h[n])>=0){const e=null===(K=this.calculatedFieldRules)||void 0===K?void 0:K.find((t=>t.key===h[n]));(null===(X=null===($=this.tree[l])||void 0===$?void 0:$[u])||void 0===X?void 0:X[n])||(this.tree[l][u][n]=new o.YJ[r.E.RECALCULATE]({key:h[n],field:h[n],isRecord:!0,formatFun:null===(q=null===(Y=this.indicators)||void 0===Y?void 0:Y.find((t=>"string"!=typeof t&&t.indicatorKey===h[n])))||void 0===q?void 0:q.format,calculateFun:null==e?void 0:e.calculateFun,dependAggregators:this.tree[l][u],dependIndicatorKeys:null==e?void 0:e.dependIndicatorKeys})),null===(Q=null===(J=this.tree[l])||void 0===J?void 0:J[u])||void 0===Q||Q[n].push(t)}else{const i=this.getAggregatorRule(h[n]);let s=!1;a?e===a?h[n]===a&&(s=!0):h[n]===a&&h[n]in t&&(s=!0):(null==i?void 0:i.field)?"string"==typeof(null==i?void 0:i.field)?(null==i?void 0:i.field)in t&&(s=!0):(null==i?void 0:i.field.find((e=>e in t)))&&(s=!0):h[n]in t&&(s=!0),!(null===(et=null===(tt=this.tree[l])||void 0===tt?void 0:tt[u])||void 0===et?void 0:et[n])&&s&&(this.tree[l][u][n]=new o.YJ[null!==(nt=null==i?void 0:i.aggregationType)&&void 0!==nt?nt:r.E.SUM]({key:h[n],field:null!==(it=null==i?void 0:i.field)&&void 0!==it?it:h[n],aggregationFun:null==i?void 0:i.aggregationFun,formatFun:null!==(rt=null==i?void 0:i.formatFun)&&void 0!==rt?rt:null===(at=null===(ot=this.indicators)||void 0===ot?void 0:ot.find((t=>"string"!=typeof t&&t.indicatorKey===h[n])))||void 0===at?void 0:at.format})),s&&(null===(lt=null===(st=this.tree[l])||void 0===st?void 0:st[u])||void 0===lt||lt[n].push(t))}if(this.mappingRules)for(let e=0;e<this.indicatorKeys.length;e++){if(!this.indicatorStatistics[e]){const t=this.getAggregatorRule(this.indicatorKeys[e]);this.indicatorStatistics[e]={max:new o.YJ[r.E.MAX]({key:this.indicatorKeys[e],field:this.indicatorKeys[e]}),min:new o.YJ[r.E.MIN]({key:this.indicatorKeys[e],field:this.indicatorKeys[e]}),total:new o.YJ[null!==(ut=null==t?void 0:t.aggregationType)&&void 0!==ut?ut:r.E.SUM]({key:this.indicatorKeys[e],field:null!==(ht=null==t?void 0:t.field)&&void 0!==ht?ht:this.indicatorKeys[e],aggregationFun:null==t?void 0:t.aggregationFun,formatFun:null!==(ct=null==t?void 0:t.formatFun)&&void 0!==ct?ct:null===(ft=null===(dt=this.indicators)||void 0===dt?void 0:dt.find((t=>"string"!=typeof t&&t.indicatorKey===this.indicatorKeys[e])))||void 0===ft?void 0:ft.format})}}this.indicatorStatistics[e].max.push(null===(gt=null===(pt=this.tree[l])||void 0===pt?void 0:pt[u])||void 0===gt?void 0:gt[e].value()),this.indicatorStatistics[e].min.push(null===(vt=null===(mt=this.tree[l])||void 0===mt?void 0:mt[u])||void 0===vt?void 0:vt[e].value()),this.indicatorStatistics[e].total.push(t)}}}}updateSortRules(t){var e,n,i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y;this.sorted=!1,this.sortRules=t,this.sortKeys(),this.customRowTree||("tree"===this.rowHierarchyType?this.rowHeaderTree=this.ArrToTree1(this.rowKeys,this.rows.filter(((t,e)=>this.rowsHasValue[e])),this.indicatorsAsCol?void 0:this.indicators,(null===(n=null===(e=this.totals)||void 0===e?void 0:e.row)||void 0===n?void 0:n.showGrandTotals)||!this.indicatorsAsCol&&0===this.columns.length||this.indicatorsAsCol&&0===this.rows.length,this.rowGrandTotalLabel):this.rowHeaderTree=this.ArrToTree(this.rowKeys,this.rows.filter(((t,e)=>this.rowsHasValue[e])),this.indicatorsAsCol?void 0:this.indicators,this.rowsIsTotal,(null===(r=null===(i=this.totals)||void 0===i?void 0:i.row)||void 0===r?void 0:r.showGrandTotals)||this.indicatorsAsCol&&0===this.rows.length,this.rowGrandTotalLabel,this.rowSubTotalLabel,null!==(s=null===(a=null===(o=this.totals)||void 0===o?void 0:o.row)||void 0===a?void 0:a.showGrandTotalsOnTop)&&void 0!==s&&s,null!==(h=null===(u=null===(l=this.totals)||void 0===l?void 0:l.row)||void 0===u?void 0:u.showSubTotalsOnTop)&&void 0!==h&&h)),this.customColTree||(this.colHeaderTree=this.ArrToTree(this.colKeys,this.columns.filter(((t,e)=>this.columnsHasValue[e])),this.indicatorsAsCol?this.indicators:void 0,this.colsIsTotal,(null===(d=null===(c=this.totals)||void 0===c?void 0:c.column)||void 0===d?void 0:d.showGrandTotals)||!this.indicatorsAsCol&&0===this.columns.length,this.colGrandTotalLabel,this.colSubTotalLabel,null!==(g=null===(p=null===(f=this.totals)||void 0===f?void 0:f.column)||void 0===p?void 0:p.showGrandTotalsOnLeft)&&void 0!==g&&g,null!==(y=null===(v=null===(m=this.totals)||void 0===m?void 0:m.column)||void 0===v?void 0:v.showSubTotalsOnLeft)&&void 0!==y&&y))}updateFilterRules(t,e=!1){var n,i;if(this.filterRules=t,this.filteredRecords=void 0,e)this.tree={};else for(const t in this.tree)for(const e in this.tree[t])for(let i=0;i<this.tree[t][e].length;i++)null===(n=this.tree[t][e][i])||void 0===n||n.reset();this.collectedValues={},this.processRecords(),this.processCollectedValuesWithSumBy(),this.processCollectedValuesWithSortBy(),this.totalStatistics(),(null===(i=this.dataConfig)||void 0===i?void 0:i.isPivotChart)&&this.cacheDeminsionCollectedValues()}getAggregatorRule(t){var e;return null===(e=this.aggregationRules)||void 0===e?void 0:e.find(((e,n)=>t===e.indicatorKey))}getAggregator(t=[],e=[],n,r=!0,o){var a,l,u,h;const c=this.indicatorKeys.indexOf(n);let d,f;"string"==typeof t?d=t:(o&&"row"!==o.position||t.map(((e,r)=>{e!==n||(0,i.Z)(null==o?void 0:o.index)&&r!==o.index||t.splice(r,1)})),d=s(t,this.stringJoinChar)),"string"==typeof e?f=e:(o&&"col"!==o.position||e.map(((t,r)=>{t!==n||(0,i.Z)(null==o?void 0:o.index)&&r!==o.index||e.splice(r,1)})),f=s(e,this.stringJoinChar));const p=null===(l=null===(a=this.tree[d])||void 0===a?void 0:a[f])||void 0===l?void 0:l[c];if(r&&(0,i.Z)(null===(h=null===(u=this.changedTree[d])||void 0===u?void 0:u[f])||void 0===h?void 0:h[c])){const t=this.changedTree[d][f][c];return p?{value:()=>t,formatValue:p.formatValue,formatFun:p.formatFun,records:p.records,recalculate(){},push(){},deleteRecord(){},updateRecord(){},clearCacheValue(){},reset(){}}:{records:[],value:()=>t,push(){},deleteRecord(){},updateRecord(){},recalculate(){},formatValue:()=>t,clearCacheValue(){},reset(){}}}return p||{records:[],push(){},deleteRecord(){},updateRecord(){},recalculate(){},value:()=>null,clearCacheValue(){},reset(){}}}sortKeys(){if(this.colKeys=this.colKeys_normal.slice(),this.rowKeys=this.rowKeys_normal.slice(),!this.sorted){this.sorted=!0,this.rowKeys.sort(this.arrSort(this.rows,!0));const t=this.arrSort(this.columns,!1);this.colKeys.sort(t)}}arrSort(t,e){let n;const i=this,r=function(r){const o=[];for(let r=0,a=t.length;r<a;r++){n=t[r];let a=!1;if(i.sortRules)for(let t=0,s=i.sortRules.length;t<s;t++)i.sortRules[t].sortField===n&&(a=!0,o.push({field:n,fieldIndex:r,sortRule:i.sortRules[t],func:i.getSort(i.sortRules[t],e)}))}return o}.call(this);return function(n,o){var a,s,l,u;let h,c;for(let d=0;d<r.length;d++){if(c=r[d],null===(a=c.sortRule)||void 0===a?void 0:a.sortByIndicator){let r=n,a=o;c.fieldIndex<t.length-1&&(r=n.slice(0,c.fieldIndex+1),"grid"===i.rowHierarchyType&&e?r.push(i.rowSubTotalLabel):e||r.push(i.colSubTotalLabel),a=o.slice(0,c.fieldIndex+1),"grid"===i.rowHierarchyType&&e?a.push(i.rowSubTotalLabel):e||a.push(i.colSubTotalLabel)),h=c.func(r,a,null===(s=c.sortRule)||void 0===s?void 0:s.sortType)}else h=null===(l=c.func)||void 0===l?void 0:l.call(c,n[c.fieldIndex],o[c.fieldIndex],null===(u=c.sortRule)||void 0===u?void 0:u.sortType);if(0!==h)return h}return 0}}getSort(t,e){const n=this;return t.sortByIndicator?(i,r,a)=>{const s=function(e,i){return"grid"===n.rowHierarchyType&&e.length<n.rows.length&&e[e.length-1]!==n.rowSubTotalLabel&&e[e.length-1]!==n.rowGrandTotalLabel&&e.push(n.rowSubTotalLabel),i.length<n.columns.length&&i[i.length-1]!==n.colSubTotalLabel&&i[i.length-1]!==n.colGrandTotalLabel&&i.push(n.colSubTotalLabel),n.getAggregator(e,i,t.sortByIndicator).value()};return e?(0,o.SL)(s(i,t.query),s(r,t.query),a):(0,o.SL)(s(t.query,i),s(t.query,r),a)}:t.sortBy?(0,o.MR)(t.sortBy):t.sortFunc?t.sortFunc:t.sortType?o.y4:o.SL}totalStatistics(){var t,e,n,i,a,s,l,u,h,c,d,f,p,g;const m=this,v=(t,e)=>{var n,i,a,s,l,u,h,c,d,f,p,g,v,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$,X,Y,q,J,Q,tt;if(null===(i=null===(n=this.totalRecordsTree)||void 0===n?void 0:n[t])||void 0===i?void 0:i[e])return this.tree[t]||(this.tree[t]={}),void(this.tree[t][e]=null===(s=null===(a=this.totalRecordsTree)||void 0===a?void 0:a[t])||void 0===s?void 0:s[e]);const et=e.split(this.stringJoinChar);if((null===(u=null===(l=m.totals)||void 0===l?void 0:l.column)||void 0===u?void 0:u.subTotalsDimensions)&&(null===(d=null===(c=null===(h=m.totals)||void 0===h?void 0:h.column)||void 0===c?void 0:c.subTotalsDimensions)||void 0===d?void 0:d.length)>0&&!1!==m.totals.column.showSubTotals)for(let n=0,i=null===(g=null===(p=null===(f=m.totals)||void 0===f?void 0:f.column)||void 0===p?void 0:p.subTotalsDimensions)||void 0===g?void 0:g.length;n<i;n++){const i=m.totals.column.subTotalsDimensions[n],a=m.columns.indexOf(i);if(a>=0){const n=et.slice(0,a+1);n.push(m.colSubTotalLabel);const i=n.join(this.stringJoinChar);if(null===(y=null===(v=this.totalRecordsTree)||void 0===v?void 0:v[t])||void 0===y?void 0:y[i])return void(this.tree[t][i]=null===(w=null===(b=this.totalRecordsTree)||void 0===b?void 0:b[t])||void 0===w?void 0:w[i]);this.tree[t][i]||(this.tree[t][i]=[]);const s=this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys;for(let n=0;n<s.length;n++)if(this.calculatedFiledKeys.indexOf(s[n])>=0){const a=null===(x=this.calculatedFieldRules)||void 0===x?void 0:x.find((t=>t.key===s[n]));(null===(C=null===(_=this.tree[t])||void 0===_?void 0:_[i])||void 0===C?void 0:C[n])||(this.tree[t][i][n]=new o.YJ[r.E.RECALCULATE]({key:s[n],field:s[n],isRecord:!0,formatFun:null===(M=null===(S=this.indicators)||void 0===S?void 0:S.find((t=>"string"!=typeof t&&t.indicatorKey===s[n])))||void 0===M?void 0:M.format,calculateFun:null==a?void 0:a.calculateFun,dependAggregators:this.tree[t][i],dependIndicatorKeys:null==a?void 0:a.dependIndicatorKeys})),i!==e&&this.tree[t][i][n].push(null===(T=null===(A=m.tree[t])||void 0===A?void 0:A[e])||void 0===T?void 0:T[n])}else{if(!this.tree[t][i][n]){const e=this.getAggregatorRule(s[n]);this.tree[t][i][n]=new o.YJ[null!==(k=null==e?void 0:e.aggregationType)&&void 0!==k?k:r.E.SUM]({key:s[n],field:null!==(R=null==e?void 0:e.field)&&void 0!==R?R:s[n],aggregationFun:null==e?void 0:e.aggregationFun,formatFun:null!==(I=null==e?void 0:e.formatFun)&&void 0!==I?I:null===(E=null===(P=this.indicators)||void 0===P?void 0:P.find((t=>"string"!=typeof t&&t.indicatorKey===s[n])))||void 0===E?void 0:E.format})}i!==e&&this.tree[t][i][n].push(null===(L=null===(B=m.tree[t])||void 0===B?void 0:B[e])||void 0===L?void 0:L[n])}}}if((null===(O=null===(D=m.totals)||void 0===D?void 0:D.column)||void 0===O?void 0:O.showGrandTotals)||0===this.rows.length){const n=m.colGrandTotalLabel;if(null===(H=null===(F=this.totalRecordsTree)||void 0===F?void 0:F[t])||void 0===H?void 0:H[n])return void(this.tree[t][n]=null===(z=null===(N=this.totalRecordsTree)||void 0===N?void 0:N[t])||void 0===z?void 0:z[n]);this.tree[t][n]||(this.tree[t][n]=[]);const i=this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys;for(let a=0;a<i.length;a++)if(this.calculatedFiledKeys.indexOf(i[a])>=0){const s=null===(W=this.calculatedFieldRules)||void 0===W?void 0:W.find((t=>t.key===i[a]));(null===(V=null===(j=this.tree[t])||void 0===j?void 0:j[n])||void 0===V?void 0:V[a])||(this.tree[t][n][a]=new o.YJ[r.E.RECALCULATE]({key:i[a],field:i[a],isRecord:!0,formatFun:null===(Z=null===(G=this.indicators)||void 0===G?void 0:G.find((t=>"string"!=typeof t&&t.indicatorKey===i[a])))||void 0===Z?void 0:Z.format,calculateFun:null==s?void 0:s.calculateFun,dependAggregators:this.tree[t][n],dependIndicatorKeys:null==s?void 0:s.dependIndicatorKeys})),n!==e&&this.tree[t][n][a].push(null===(K=null===(U=m.tree[t])||void 0===U?void 0:U[e])||void 0===K?void 0:K[a])}else{if(!this.tree[t][n][a]){const e=this.getAggregatorRule(i[a]);this.tree[t][n][a]=new o.YJ[null!==($=null==e?void 0:e.aggregationType)&&void 0!==$?$:r.E.SUM]({key:i[a],field:null!==(X=null==e?void 0:e.field)&&void 0!==X?X:i[a],formatFun:null!==(Y=null==e?void 0:e.formatFun)&&void 0!==Y?Y:null===(J=null===(q=this.indicators)||void 0===q?void 0:q.find((t=>"string"!=typeof t&&t.indicatorKey===i[a])))||void 0===J?void 0:J.format})}n!==e&&this.tree[t][n][a].push(null===(tt=null===(Q=m.tree[t])||void 0===Q?void 0:Q[e])||void 0===tt?void 0:tt[a])}}};if((null===(e=null===(t=null==m?void 0:m.totals)||void 0===t?void 0:t.column)||void 0===e?void 0:e.subTotalsDimensions)&&(null===(a=null===(i=null===(n=null==m?void 0:m.totals)||void 0===n?void 0:n.column)||void 0===i?void 0:i.subTotalsDimensions)||void 0===a?void 0:a.length)>=1||(null===(l=null===(s=null==m?void 0:m.totals)||void 0===s?void 0:s.row)||void 0===l?void 0:l.subTotalsDimensions)&&(null===(c=null===(h=null===(u=null==m?void 0:m.totals)||void 0===u?void 0:u.row)||void 0===h?void 0:h.subTotalsDimensions)||void 0===c?void 0:c.length)>=1||(null===(f=null===(d=null==m?void 0:m.totals)||void 0===d?void 0:d.column)||void 0===f?void 0:f.showGrandTotals)||(null===(g=null===(p=null==m?void 0:m.totals)||void 0===p?void 0:p.row)||void 0===g?void 0:g.showGrandTotals)){const t=[];Object.keys(m.tree).forEach((e=>{const n=e.split(this.stringJoinChar);Object.keys(m.tree[e]).forEach((i=>{var a,s,l,u,h,c,d,f,p,g,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E,B,L,D,O,F;if((null===(s=null===(a=m.totals)||void 0===a?void 0:a.row)||void 0===s?void 0:s.subTotalsDimensions)&&(null===(h=null===(u=null===(l=m.totals)||void 0===l?void 0:l.row)||void 0===u?void 0:u.subTotalsDimensions)||void 0===h?void 0:h.length)>0&&!1!==m.totals.row.showSubTotals)for(let a=0,s=null===(f=null===(d=null===(c=m.totals)||void 0===c?void 0:c.row)||void 0===d?void 0:d.subTotalsDimensions)||void 0===f?void 0:f.length;a<s;a++){const s=m.totals.row.subTotalsDimensions[a],l=m.rows.indexOf(s);if(l>=0&&l<m.rows.length-1){const a=n.slice(0,l+1);"grid"===this.rowHierarchyType&&a.push(m.rowSubTotalLabel);const s=a.join(this.stringJoinChar);this.tree[s]||(this.tree[s]={},t.push(s)),this.tree[s][i]||(this.tree[s][i]=[]);const u=this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys;for(let t=0;t<u.length;t++){if(!this.tree[s][i][t])if(this.calculatedFiledKeys.indexOf(u[t])>=0){const e=null===(p=this.calculatedFieldRules)||void 0===p?void 0:p.find((e=>e.key===u[t]));this.tree[s][i][t]=new o.YJ[r.E.RECALCULATE]({key:u[t],field:u[t],isRecord:!0,formatFun:null===(y=null===(g=this.indicators)||void 0===g?void 0:g.find((e=>"string"!=typeof e&&e.indicatorKey===u[t])))||void 0===y?void 0:y.format,calculateFun:null==e?void 0:e.calculateFun,dependAggregators:this.tree[s][i],dependIndicatorKeys:null==e?void 0:e.dependIndicatorKeys})}else{const e=this.getAggregatorRule(u[t]);this.tree[s][i][t]=new o.YJ[null!==(b=null==e?void 0:e.aggregationType)&&void 0!==b?b:r.E.SUM]({key:u[t],field:null!==(w=null==e?void 0:e.field)&&void 0!==w?w:u[t],formatFun:null!==(x=null==e?void 0:e.formatFun)&&void 0!==x?x:null===(C=null===(_=this.indicators)||void 0===_?void 0:_.find((e=>"string"!=typeof e&&e.indicatorKey===u[t])))||void 0===C?void 0:C.format})}s!==e&&this.tree[s][i][t].push(null===(M=null===(S=m.tree[e])||void 0===S?void 0:S[i])||void 0===M?void 0:M[t])}}}if((null===(T=null===(A=m.totals)||void 0===A?void 0:A.row)||void 0===T?void 0:T.showGrandTotals)||0===this.columns.length){const n=m.rowGrandTotalLabel;this.tree[n]||(this.tree[n]={},t.push(n)),this.tree[n][i]||(this.tree[n][i]=[]);const a=this.indicatorKeysIncludeCalculatedFieldDependIndicatorKeys;for(let t=0;t<a.length;t++){if(!this.tree[n][i][t])if(this.calculatedFiledKeys.indexOf(a[t])>=0){const e=null===(k=this.calculatedFieldRules)||void 0===k?void 0:k.find((e=>e.key===a[t]));this.tree[n][i][t]=new o.YJ[r.E.RECALCULATE]({key:a[t],field:a[t],isRecord:!0,formatFun:null===(I=null===(R=this.indicators)||void 0===R?void 0:R.find((e=>"string"!=typeof e&&e.indicatorKey===a[t])))||void 0===I?void 0:I.format,calculateFun:null==e?void 0:e.calculateFun,dependAggregators:this.tree[n][i],dependIndicatorKeys:null==e?void 0:e.dependIndicatorKeys})}else{const e=this.getAggregatorRule(a[t]);this.tree[n][i][t]=new o.YJ[null!==(P=null==e?void 0:e.aggregationType)&&void 0!==P?P:r.E.SUM]({key:a[t],field:null!==(E=null==e?void 0:e.field)&&void 0!==E?E:a[t],formatFun:null!==(B=null==e?void 0:e.formatFun)&&void 0!==B?B:null===(D=null===(L=this.indicators)||void 0===L?void 0:L.find((e=>"string"!=typeof e&&e.indicatorKey===a[t])))||void 0===D?void 0:D.format})}n!==e&&this.tree[n][i][t].push(null===(F=null===(O=m.tree[e])||void 0===O?void 0:O[i])||void 0===F?void 0:F[t])}}v(e,i)}))})),t.forEach((t=>{Object.keys(m.tree[t]).forEach((e=>{v(t,e)}))}))}for(const t in m.totalRecordsTree)for(const e in m.totalRecordsTree[t])v(t,e)}ArrToTree1(t,e,n,i,r){const o=[],a=this.stringJoinChar,s=new Map;function l(t){const i=[];let r;t.forEach(((l,u)=>{var h;i.push(l);const c=i.join(a);let d=s.get(c);d||(d={value:l,dimensionKey:e[u],children:u===t.length-1&&(null!==(h=null==n?void 0:n.length)&&void 0!==h?h:0)>=1?null==n?void 0:n.map((t=>"string"==typeof t?{indicatorKey:t,value:t}:{indicatorKey:t.indicatorKey,value:t.title})):[]},s.set(c,d),r?r.children.push(d):o.push(d)),r=d}))}return t.forEach((t=>l(t))),i&&l([r]),o}ArrToTree(t,e,n,i,r,o,a,s,l){var u;let h=[];const c=this.stringJoinChar,d=new Map;if((null==t?void 0:t.length)?t.forEach((t=>function(t){const r=[];let o;t.forEach(((s,u)=>{var f,p,g,m;r.push(s);const v=r.join(c);let y=d.get(v);if(!y){if(y={value:s,dimensionKey:e[u],children:u===t.length-1&&(null!==(f=null==n?void 0:n.length)&&void 0!==f?f:0)>=1?null==n?void 0:n.map((t=>"string"==typeof t?{indicatorKey:t,value:t}:{indicatorKey:t.indicatorKey,value:t.title})):[]},i[u]){let t=null!==(p=y.children)&&void 0!==p?p:[];const r={value:a,dimensionKey:e[u+1],levelSpan:i.length-u-1,children:(null!==(g=null==n?void 0:n.length)&&void 0!==g?g:0)>=1?null==n?void 0:n.map((t=>"string"==typeof t?{indicatorKey:t,value:t}:{indicatorKey:t.indicatorKey,value:t.title})):[]};t.push(r),t=null!==(m=r.children)&&void 0!==m?m:[]}d.set(v,y),o?i[u-1]&&!l?o.children.splice(o.children.length-1,0,y):o.children.push(y):h.push(y)}o=y}))}(t))):n&&(h=null==n?void 0:n.map((t=>{var e;return"string"==typeof t?{indicatorKey:t,value:t}:{indicatorKey:t.indicatorKey,value:null!==(e=t.title)&&void 0!==e?e:t.indicatorKey}}))),r&&(null==t?void 0:t.length)){const t={value:o,dimensionKey:e[0],levelSpan:i.length,children:null!==(u=null==n?void 0:n.map((t=>"string"==typeof t?{indicatorKey:t,value:t}:{indicatorKey:t.indicatorKey,value:t.title})))&&void 0!==u?u:[]};s?h.unshift(t):h.push(t)}return h}cacheDeminsionCollectedValues(){for(const t in this.collectValuesBy)"xField"!==this.collectValuesBy[t].type&&"yField"!==this.collectValuesBy[t].type||(this.dataConfig.dimensionSortArray?this.cacheCollectedValues[t]=u(this.collectedValues[t],this.dataConfig.dimensionSortArray):this.cacheCollectedValues[t]=this.collectedValues[t])}changeTreeNodeValue(t=[],e=[],n,i){var r,o,a;const s=this.indicatorKeys.indexOf(n);let l,u;l="string"==typeof t?t:t.join(this.stringJoinChar),u="string"==typeof e?e:e.join(this.stringJoinChar),(null===(r=this.changedTree[l])||void 0===r?void 0:r[u])?this.changedTree[l][u][s]=i:this.changedTree[l]?(this.changedTree[l][u]=[],this.changedTree[l][u][s]=i):(this.changedTree[l]={},this.changedTree[l][u]=[],this.changedTree[l][u][s]=i);const h=null===(a=null===(o=this.tree[l])||void 0===o?void 0:o[u])||void 0===a?void 0:a[s];1===(null==h?void 0:h.records.length)&&(h.records[0][this.indicatorKeys[s]]=i)}changeRecordFieldValue(t,e,n){let i=!1;for(let e=0;e<this.indicatorKeys.length;e++)this.indicatorKeys[e]===t&&(i=!0);if(!i){if(Array.isArray(this.records))for(let i=0,r=this.records.length;i<r;i++){const r=this.records[i];r[t]===e&&(r[t]=n)}else for(const i in this.records)for(let r=0,o=this.records[i].length;r<o;r++){const o=this.records[i][r];o[t]===e&&(o[t]=n)}this.rowFlatKeys={},this.colFlatKeys={},this.tree={},this.processRecords()}}_rowTreeHasChanged(){this.hasExtensionRowTree||(this.customRowTreeDimensionPaths=this.customTreeToDimensionPathArr(this.customRowTree,"row"))}changeDataConfig(t){this.rows=t.rows,this.columns=t.columns}addRecords(t){for(let e=0,n=t.length;e<n;e++){const n=t[e];this.processRecord(n)}Array.isArray(this.records)&&this.records.push(t)}customTreeToDimensionPathArr(t,e){const n=[],r=this;function o(t,a){var s,l,u;t.virtual||((null===(s=a[a.length-1])||void 0===s?void 0:s.childKeys)&&t.dimensionKey&&-1===a[a.length-1].childKeys.indexOf(t.dimensionKey)&&t.dimensionKey!==a[a.length-1].dimensionKey&&a[a.length-1].childKeys.push(t.dimensionKey),a.push({dimensionKey:(0,i.Z)(t.indicatorKey)?void 0:t.dimensionKey,value:t.value,indicatorKey:t.indicatorKey,virtual:t.virtual})),(null===(l=t.children)||void 0===l?void 0:l.length)>0?("tree"===r.rowHierarchyType&&"row"===e&&(a[a.length-1].childKeys=[],n.push([...a])),null===(u=t.children)||void 0===u||u.forEach((t=>o(t,[...a])))):n.push(a)}return null==t||t.forEach((t=>o(t,[]))),n}getFieldMatchColDimensionPaths(t){var e,n;const i=[];for(let r=0;null!==(n=r<(null===(e=this.customColTreeDimensionPaths)||void 0===e?void 0:e.length))&&void 0!==n&&n;r++){const e=this.customColTreeDimensionPaths[r];let n=!0;for(let i=0;i<e.length;i++){const r=e[i];if(r.dimensionKey&&t[r.dimensionKey]!==r.value||r.indicatorKey&&void 0===t[r.indicatorKey]){n=!1;break}}n&&i.push(e)}return i}getFieldMatchRowDimensionPaths(t){var e,n;const r=[];for(let o=0;null!==(n=o<(null===(e=this.customRowTreeDimensionPaths)||void 0===e?void 0:e.length))&&void 0!==n&&n;o++){const e=this.customRowTreeDimensionPaths[o];let n=!0;for(let r=0;r<e.length;r++){const o=e[r];if(o.dimensionKey&&t[o.dimensionKey]!==o.value||o.indicatorKey&&void 0===t[o.indicatorKey]){n=!1;break}if(o.childKeys&&r===e.length-1&&o.childKeys.length>0&&o.childKeys.find((e=>(0,i.Z)(t[e])))){n=!1;break}}n&&(this.indicatorsAsCol||"tree"!==this.rowHierarchyType||e.find((t=>t.indicatorKey))||(n=!1)),n&&r.push(e)}return r}}function u(t,e){return t.sort(((t,n)=>{const i=e.indexOf(t),r=e.indexOf(n);return i<r?-1:i>r?1:0}))}},9677:function(t,e,n){"use strict";n.d(e,{$:function(){return s}});var i=n(6577),r=n(97925),o=n(95170),a=n(70375);class s{constructor(t){this.isValidatingValue=!1,this.table=t,this.bindEvent()}bindEvent(){this.table.internalProps.handler;const t=this.table.options.editCellTrigger;this.table.on(i.B.DBLCLICK_CELL,(e=>{var n;if(!t||"doubleclick"===t||Array.isArray(t)&&t.includes("doubleclick")){const{col:t,row:i}=e,o=(0,r.RJ)(e.federatedEvent),a=this.table.scenegraph.getResizeColAt(o.abstractPos.x,o.abstractPos.y,null===(n=o.eventArgs)||void 0===n?void 0:n.targetCell);if(this.table._canResizeColumn(a.col,a.row)&&a.col>=0)return;this.startEditCell(t,i)}})),this.table.on(i.B.CLICK_CELL,(e=>{if("click"===t||Array.isArray(t)&&t.includes("click")){const{col:t,row:n}=e;this.startEditCell(t,n)}}))}startEditCell(t,e,n){var i,r,o,s,l;if(this.editingEditor)return;const u=this.table.getEditor(t,e);if(u){if(null===(r=null===(i=this.table.internalProps.layoutMap)||void 0===i?void 0:i.isAggregation)||void 0===r?void 0:r.call(i,t,e))return;this.editingEditor||(this.editCell={col:t,row:e}),this.table._makeVisibleCell(t,e),this.editingEditor=u;const h=(0,a.Z)(n)?n:this.table.getCellOriginValue(t,e),c=this.table.getCellRangeRelativeRect(this.table.getCellRange(t,e)),d={rect:{left:c.left,top:c.top,width:c.width,height:c.height}};t===this.table.colCount-1&&(d.rect.width=c.width-1),e===this.table.rowCount-1&&(d.rect.height=c.height-1),u.beginEditing,null===(o=u.beginEditing)||void 0===o||o.call(u,this.table.getElement(),d,h),u.bindSuccessCallback,null===(s=u.bindSuccessCallback)||void 0===s||s.call(u,(()=>{this.completeEdit()})),null===(l=u.onStart)||void 0===l||l.call(u,{value:h,endEdit:()=>{this.completeEdit()},referencePosition:d,container:this.table.getElement(),col:t,row:e})}}completeEdit(t){var e,n;if(!this.editingEditor)return!0;if(this.isValidatingValue)return!1;const i=null==t?void 0:t.target,{editingEditor:r}=this;if(i)if(r.targetIsOnEditor){if(r.targetIsOnEditor(i))return!1}else if(!r.isEditorElement||r.isEditorElement(i))return!1;if(this.editingEditor.getValue,this.editingEditor.validateValue){this.isValidatingValue=!0;const t=this.editingEditor.getValue(),i=this.table.getCellOriginValue(this.editCell.col,this.editCell.row),r=null===(n=(e=this.editingEditor).validateValue)||void 0===n?void 0:n.call(e,t,i,this.editCell,this.table);return(0,o.tI)(r)?(this.isValidatingValue=!0,new Promise(((t,e)=>{r.then((e=>{l(e,this,i,t)})).catch((t=>{this.isValidatingValue=!1,e(t)}))}))):l(r,this,i)}return this.doExit(),!0}doExit(){var t,e,n,i,r,o;const a=null===(e=(t=this.editingEditor).getValue)||void 0===e?void 0:e.call(t),s=this.table.getCellRange(this.editCell.col,this.editCell.row),l=[];for(let t=s.start.row;t<=s.end.row;t++){const t=[];for(let e=s.start.col;e<=s.end.col;e++)t.push(a);l.push(t)}this.table.changeCellValues(s.start.col,s.start.row,l),this.editingEditor.exit,null===(i=(n=this.editingEditor).exit)||void 0===i||i.call(n),null===(o=(r=this.editingEditor).onEnd)||void 0===o||o.call(r),this.editingEditor=null,this.isValidatingValue=!1}cancelEdit(){var t,e,n,i;this.editingEditor&&(null===(e=(t=this.editingEditor).exit)||void 0===e||e.call(t),null===(i=(n=this.editingEditor).onEnd)||void 0===i||i.call(n),this.editingEditor=null)}}function l(t,e,n,i){return e.isValidatingValue=!1,"validate-exit"===t?(e.doExit(),null==i||i(!0),!0):"invalidate-exit"===t?(e.editingEditor.setValue(n),e.doExit(),null==i||i(!0),!0):"validate-not-exit"===t||"invalidate-not-exit"===t?(null==i||i(!1),!1):!0===t?(e.doExit(),null==i||i(!0),!0):(null==i||i(!1),!1)}},74303:function(t,e,n){"use strict";n.d(e,{U:function(){return r},X:function(){return i}});const i={};function r(t){if(i[t])return i[t]}},81015:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});var i=n(42073),r=n(74910);let o=1;class a{constructor(t,e,n){var r;if(this.resizeTime=100,this.lastSize={width:0,height:0},this.mutationResize=()=>{this.onResize()},this.callBack=()=>{const t=this.getSize();let e=!1;t.width===this.lastSize.width&&t.height===this.lastSize.height&&(e=!0),this.lastSize=t,this.cb&&this.cb(Object.assign(Object.assign({},this.lastSize),{windowSizeNotChange:e}))},this.onResize=()=>{this.callBackDebounce()},this.element=t,this.cb=e,this.lastSize=this.getSize(),n&&(this.resizeTime=Math.max(n,16)),this.callBackDebounce=(0,i.D)(this.callBack,this.resizeTime),null===window||void 0===window||window.addEventListener("resize",this.onResize),"ResizeObserver"in window){const t=window.ResizeObserver;this.observer=new t(this.mutationResize),null===(r=this.observer)||void 0===r||r.observe(this.element)}else"MutationObserver"in window&&(this.observer=new MutationObserver(this.mutationResize),this.observer.observe(this.element,{attributes:!0,attributeFilter:["style"]}))}disConnect(){window.removeEventListener("resize",this.onResize),this.observer&&(this.observer.disconnect(),this.observer=void 0)}setSize(t){this.lastSize=t}checkSize(){const t=this.getSize();return t.width!==this.lastSize.width||t.height!==this.lastSize.height}getSize(){return this.element?{width:Math.floor(this.element.clientWidth),height:Math.floor(this.element.clientHeight)}:Object.assign({},this.lastSize)}}class s{constructor(){this.listeners={},this.reseizeListeners={}}on(t,e,n,...i){if("node"===r.X.mode)return-1;const s=o++;if(null==t?void 0:t.addEventListener)if("resize"!==e||t===window)null==t||t.addEventListener(e,n,...i);else{const e=new a(t,n,this.resizeTime);this.reseizeListeners[s]=e}const l={target:t,type:e,listener:n,options:i};return this.listeners[s]=l,s}once(t,e,n,...i){if("node"===r.X.mode)return-1;const o=this.on(t,e,((...t)=>{this.off(o),n(...t)}),...i);return o}off(t){var e;if("node"===r.X.mode)return;if(null===t)return;const n=null===(e=this.listeners)||void 0===e?void 0:e[t];n&&(delete this.listeners[t],n.target.removeEventListener&&n.target.removeEventListener(n.type,n.listener,...n.options))}fire(t,e,...n){if("node"!==r.X.mode)for(const i in this.listeners){const r=this.listeners[i];r.target===t&&r.type===e&&r.listener.call(r.target,...n)}}hasListener(t,e){if("node"===r.X.mode)return!1;let n=!1;for(const i in this.listeners){const r=this.listeners[i];r.target===t&&r.type===e&&(n=!0)}return n}clear(){if("node"!==r.X.mode){for(const t in this.listeners){const e=this.listeners[t];e.target.removeEventListener&&e.target.removeEventListener(e.type,e.listener,...e.options)}for(const t in this.reseizeListeners){const e=this.reseizeListeners[t];null==e||e.disConnect()}this.listeners={}}}release(){"node"!==r.X.mode&&(this.clear(),this.listeners={})}}},83130:function(t,e,n){"use strict";n.d(e,{R:function(){return o}});var i=n(70375);let r=1;class o{constructor(){this.listenersData={listeners:{},listenerData:{}}}on(t,e){const n=this.listenersData.listeners[t]||(this.listenersData.listeners[t]=[]);n.push(e);const i=r++;return this.listenersData.listenerData[i]={type:t,listener:e,remove:()=>{delete this.listenersData.listenerData[i];const r=n.indexOf(e);n.splice(r,1),this.listenersData.listeners[t].length||delete this.listenersData.listeners[t]}},i}off(t,e){var n;if(e){const n=t;this.removeEventListener(n,e)}else{const e=t;if(!this.listenersData)return;null===(n=this.listenersData.listenerData[e])||void 0===n||n.remove()}}addEventListener(t,e,n){this.on(t,e)}removeEventListener(t,e){if(this.listenersData)for(const n in this.listenersData.listenerData){const i=this.listenersData.listenerData[n];i.type===t&&i.listener===e&&this.off(n)}}hasListeners(t){return!!this.listenersData&&!!this.listenersData.listeners[t]}fireListeners(t,e){if(!this.listenersData)return[];const n=this.listenersData.listeners[t];return n?n.map((t=>t.call(this,e))).filter((t=>(0,i.Z)(t))):[]}release(){delete this.listenersData}}},97925:function(t,e,n){"use strict";n.d(e,{J$:function(){return o},RJ:function(){return r},xD:function(){return s}});var i=n(70375);function r(t){const e={abstractPos:{x:t.viewport.x,y:t.viewport.y}},n=o(t.target);return n&&(e.eventArgs={col:n.col,row:n.row,event:t,targetCell:n,mergeInfo:a(n),target:t.target}),e}function o(t){for(;t&&t.parent;){if("cell"===t.role)return t;t=t.parent}return null}function a(t){if((0,i.Z)(t.mergeStartCol)&&(0,i.Z)(t.mergeStartRow)&&(0,i.Z)(t.mergeEndCol)&&(0,i.Z)(t.mergeEndRow))return{colStart:t.mergeStartCol,colEnd:t.mergeEndCol,rowStart:t.mergeStartRow,rowEnd:t.mergeEndRow}}const s=/radio-\d+-\d+-(\d+)/},45588:function(t,e,n){"use strict";n.d(e,{E:function(){return P},U:function(){return B}});var i=n(23186),r=n(95170),o=n(16079),a=n(97176);let s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I;function P(t){var e,n,i,r,o,a,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$;s=null!==(e=null==t?void 0:t.sort_color)&&void 0!==e?e:"#282F38",l=null!==(n=null==t?void 0:t.sort_color_opacity)&&void 0!==n?n:"0.35",u=null!==(i=null==t?void 0:t.sort_color_2)&&void 0!==i?i:"#416EFF",h=null!==(r=null==t?void 0:t.sort_color_opacity_2)&&void 0!==r?r:"1",c=null!==(o=null==t?void 0:t.sort_size)&&void 0!==o?o:16,d=null!==(a=null==t?void 0:t.sort_size_2)&&void 0!==a?a:22,f=null!==(P=null==t?void 0:t.frozen_color)&&void 0!==P?P:"#282F38",p=null!==(E=null==t?void 0:t.frozen_color_opacity)&&void 0!==E?E:"0.35",g=null!==(B=null==t?void 0:t.frozen_color_opacity)&&void 0!==B?B:"0.2",m=null!==(L=null==t?void 0:t.frozen_color_2)&&void 0!==L?L:"#416EFF",v=null!==(D=null==t?void 0:t.frozen_color_opacity_2)&&void 0!==D?D:"1",y=null!==(O=null==t?void 0:t.frozen_size)&&void 0!==O?O:22,b=null!==(F=null==t?void 0:t.frozen_size_2)&&void 0!==F?F:22,w=null!==(H=null==t?void 0:t.collapse_color)&&void 0!==H?H:"#141414",x=null!==(N=null==t?void 0:t.collapse_color_opacity)&&void 0!==N?N:"0.65",_=null!==(z=null==t?void 0:t.collapse_size)&&void 0!==z?z:16,C=null!==(W=null==t?void 0:t.frozen_size_2)&&void 0!==W?W:22,S=null!==(j=null==t?void 0:t.expand_color)&&void 0!==j?j:"#141414",M=null!==(V=null==t?void 0:t.expand_color_opacity)&&void 0!==V?V:"0.65",A=null!==(G=null==t?void 0:t.expand_size)&&void 0!==G?G:16,T=null!==(Z=null==t?void 0:t.expand_size_2)&&void 0!==Z?Z:22,k=null!==(U=null==t?void 0:t.dragReorder_color)&&void 0!==U?U:"#666666",R=null!==(K=null==t?void 0:t.dragReorder_color_opacity)&&void 0!==K?K:"1",I=null!==($=null==t?void 0:t.dragReorder_size)&&void 0!==$?$:20}const E={get sort_downward(){return{type:"svg",svg:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M4.6665 9H11.3332L7.99984 13.1667L4.6665 9Z" fill="${u}"  fill-opacity="${h}"/><path d="M11.3335 7L4.66683 7L8.00016 2.83333L11.3335 7Z" fill="${s}" fill-opacity="${l}"/></svg> `,width:c,height:c,funcType:i.cI.sort,name:"sort_downward",positionType:i.q0.contentRight,marginLeft:3,hover:{width:d,height:d,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get sort_upward(){return{type:"svg",svg:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.6665 9H11.3332L7.99984 13.1667L4.6665 9Z" fill="${s}"  fill-opacity="${l}"/><path d="M11.3335 7L4.66683 7L8.00016 2.83333L11.3335 7Z" fill="${u}"  fill-opacity="${h}"/> </svg>`,width:c,height:c,funcType:i.cI.sort,positionType:i.q0.contentRight,name:"sort_upward",marginLeft:3,hover:{width:d,height:d,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get sort_normal(){return{type:"svg",svg:`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.6665 9H11.3332L7.99984 13.1667L4.6665 9Z" fill="${s}" fill-opacity="${l}"/><path d="M11.3335 7L4.66683 7L8.00016 2.83333L11.3335 7Z" fill="${s}" fill-opacity="${l}"/></svg> `,width:c,height:c,funcType:i.cI.sort,positionType:i.q0.contentRight,name:"sort_normal",marginLeft:3,hover:{width:d,height:d,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get freeze(){return{type:"svg",svg:`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M17.1313 8.42047C17.1932 8.48238 17.2423 8.55587 17.2759 8.63676C17.3094 8.71764 17.3266 8.80434 17.3266 8.89189C17.3266 8.97944 17.3094 9.06613 17.2759 9.14702C17.2423 9.2279 17.1932 9.3014 17.1313 9.3633L13.3843 13.1103C13.7007 14.3048 13.5305 15.4443 12.8388 16.2395C12.8104 16.2781 12.7778 16.3136 12.7417 16.3451L12.712 16.3755C12.6501 16.4374 12.5766 16.4865 12.4957 16.52C12.4148 16.5535 12.3281 16.5707 12.2406 16.5707C12.153 16.5707 12.0663 16.5535 11.9854 16.52C11.9046 16.4865 11.8311 16.4374 11.7692 16.3755L9.17633 13.7826L6.05316 16.9058L5.11983 17.0925C5.09291 17.0979 5.06508 17.0965 5.03881 17.0886C5.01254 17.0806 4.98863 17.0663 4.96923 17.0469C4.94982 17.0275 4.9355 17.0036 4.92755 16.9773C4.9196 16.951 4.91827 16.9232 4.92366 16.8963L5.11033 15.963L8.23333 12.8396L5.64066 10.2471C5.57875 10.1852 5.52964 10.1117 5.49614 10.0309C5.46263 9.94997 5.44539 9.86327 5.44539 9.77572C5.44539 9.68817 5.46263 9.60148 5.49614 9.52059C5.52964 9.43971 5.57875 9.36621 5.64066 9.3043C5.65066 9.2943 5.66066 9.2843 5.67099 9.27464C5.70266 9.2383 5.73833 9.20547 5.77766 9.17664C6.57283 8.48564 7.71199 8.31564 8.90599 8.63197L12.6528 4.88497C12.7147 4.82306 12.7882 4.77395 12.8691 4.74045C12.95 4.70694 13.0367 4.6897 13.1242 4.6897C13.2118 4.6897 13.2985 4.70694 13.3794 4.74045C13.4603 4.77395 13.5338 4.82306 13.5957 4.88497L17.1312 8.42047H17.1313ZM15.7172 8.8918L13.1243 6.29914L9.56483 9.8588C9.47574 9.94788 9.36323 10.0099 9.24034 10.0376C9.11746 10.0654 8.98922 10.0578 8.87049 10.0156C8.22783 9.78764 7.63899 9.7553 7.17749 9.89814L12.1182 14.8388C12.261 14.3771 12.2287 13.7885 12.0007 13.146C11.9585 13.0272 11.9509 12.899 11.9787 12.7761C12.0064 12.6532 12.0684 12.5407 12.1575 12.4516L15.7172 8.89164V8.8918Z" fill="${f}" fill-opacity="${g}"/></g><defs><clipPath id="clip0"><rect width="22" height="22" fill="white"/></clipPath></defs></svg>`,width:y,height:y,name:"freeze",funcType:i.cI.frozen,positionType:i.q0.right,marginRight:0,hover:{width:b,height:b,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get frozen(){return{type:"svg",svg:`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.49975 3.66663C8.32294 3.66663 8.15337 3.73686 8.02835 3.86189C7.90332 3.98691 7.83309 4.15648 7.83309 4.33329V9.63246C6.76475 10.2533 6.07942 11.1795 6.00625 12.2308C5.99892 12.2786 5.99692 12.3268 6.00009 12.3741L5.99975 12.4166C5.99975 12.5934 6.06999 12.763 6.19501 12.888C6.32004 13.0131 6.48961 13.0833 6.66642 13.0833H10.3333L10.3331 17.5L10.8611 18.292C10.8763 18.3148 10.8969 18.3335 10.9211 18.3464C10.9453 18.3594 10.9723 18.3662 10.9998 18.3662C11.0272 18.3662 11.0542 18.3594 11.0784 18.3464C11.1026 18.3335 11.1232 18.3148 11.1384 18.292L11.6664 17.5L11.6666 13.0833H15.3331C15.5099 13.0833 15.6795 13.0131 15.8045 12.888C15.9295 12.763 15.9998 12.5934 15.9998 12.4166C15.9998 12.4025 15.9998 12.3883 15.9994 12.3741C16.0028 12.3263 16.0008 12.2776 15.9933 12.2295C15.9196 11.1786 15.2343 10.2528 14.1664 9.63229V4.33329C14.1664 4.15648 14.0962 3.98691 13.9712 3.86189C13.8461 3.73686 13.6766 3.66663 13.4998 3.66663H8.49975Z" fill="${f}" fill-opacity="${p}"/></svg>`,width:y,height:y,name:"frozen",funcType:i.cI.frozen,positionType:i.q0.right,marginRight:0,hover:{width:b,height:b,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get frozenCurrent(){return{type:"svg",svg:`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.49975 3.66663C8.32294 3.66663 8.15337 3.73686 8.02835 3.86189C7.90332 3.98691 7.83309 4.15648 7.83309 4.33329V9.63246C6.76475 10.2533 6.07942 11.1795 6.00625 12.2308C5.99892 12.2786 5.99692 12.3268 6.00009 12.3741L5.99975 12.4166C5.99975 12.5934 6.06999 12.763 6.19501 12.888C6.32004 13.0131 6.48961 13.0833 6.66642 13.0833H10.3333L10.3331 17.5L10.8611 18.292C10.8763 18.3148 10.8969 18.3335 10.9211 18.3464C10.9453 18.3594 10.9723 18.3662 10.9998 18.3662C11.0272 18.3662 11.0542 18.3594 11.0784 18.3464C11.1026 18.3335 11.1232 18.3148 11.1384 18.292L11.6664 17.5L11.6666 13.0833H15.3331C15.5099 13.0833 15.6795 13.0131 15.8045 12.888C15.9295 12.763 15.9998 12.5934 15.9998 12.4166C15.9998 12.4025 15.9998 12.3883 15.9994 12.3741C16.0028 12.3263 16.0008 12.2776 15.9933 12.2295C15.9196 11.1786 15.2343 10.2528 14.1664 9.63229V4.33329C14.1664 4.15648 14.0962 3.98691 13.9712 3.86189C13.8461 3.73686 13.6766 3.66663 13.4998 3.66663H8.49975Z"  fill="${m}" fill-opacity="${v}"/></svg>`,width:y,height:y,funcType:i.cI.frozen,positionType:i.q0.right,name:"frozenCurrent",marginRight:0,hover:{width:b,height:b,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get dropdownIcon(){return{type:"svg",svg:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g><rect x="2" y="1" width="20" height="20" rx="10" fill="white"/><rect x="2.5" y="1.5" width="19" height="19" rx="9.5" stroke="#959DA5"/></g><path d="M14.9492 9.39531C15.0086 9.31911 15.0165 9.21887 14.9698 9.1356C14.923 9.05234 14.8294 9 14.7273 9L9.27273 9C9.17057 9 9.07697 9.05234 9.03023 9.1356C8.98348 9.21887 8.99142 9.31911 9.0508 9.39531L11.7781 12.8953C11.8293 12.961 11.9119 13 12 13C12.0881 13 12.1707 12.961 12.2219 12.8953L14.9492 9.39531Z" fill="#4F5965"/></svg>',width:24,height:24,funcType:i.cI.dropDown,positionType:i.q0.absoluteRight,name:"dropdownIcon",marginRight:0,hover:{width:24,height:24,bgColor:"rgba(101, 117, 168, 0.1)",image:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g><rect x="2" y="1" width="20" height="20" rx="10" fill="#1E54C9"/><rect x="2.5" y="1.5" width="19" height="19" rx="9.5" stroke="#141414" stroke-opacity="0.2"/></g><path d="M14.9492 9.39531C15.0086 9.31911 15.0165 9.21887 14.9698 9.1356C14.923 9.05234 14.8294 9 14.7273 9L9.27273 9C9.17057 9 9.07697 9.05234 9.03023 9.1356C8.98348 9.21887 8.99142 9.31911 9.0508 9.39531L11.7781 12.8953C11.8293 12.961 11.9119 13 12 13C12.0881 13 12.1707 12.961 12.2219 12.8953L14.9492 9.39531Z" fill="white"/></svg>'},cursor:"pointer",visibleTime:"mouseenter_cell"}},get play(){return{type:"svg",svg:'<svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01" /><path d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z" fill="none" stroke="#686a6e" stroke-width="4" stroke-linejoin="round" stroke-opacity="0.7" /><path d="M20 24V17.0718L26 20.5359L32 24L26 27.4641L20 30.9282V24Z" fill="none" stroke="#686a6e" stroke-width="4" stroke-linejoin="round" stroke-opacity="0.7" /></svg>',width:24,height:24,funcType:i.cI.play,positionType:i.q0.right,name:"play",marginRight:0,hover:{width:24,height:24,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get damage_pic(){return{type:"svg",svg:'<svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 10V38C5 39.1046 5.89543 40 7 40H14H18L15 29L22 27L21 20L29 16L27 13L30 8H7C5.89543 8 5 8.89543 5 10Z" fill="none" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M43 38V10C43 8.89543 42.1046 8 41 8H38L34 14L37 19L28 23L29 31L22 33L24 40H41C42.1046 40 43 39.1046 43 38Z" fill="none" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 18C15.3284 18 16 17.3284 16 16.5C16 15.6716 15.3284 15 14.5 15C13.6716 15 13 15.6716 13 16.5C13 17.3284 13.6716 18 14.5 18Z" fill="none" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',width:24,height:24,funcType:i.cI.damagePic,positionType:i.q0.left,name:"damage_pic",marginRight:0,hover:{width:24,height:24,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get loading_pic(){return{type:"svg",svg:'<svg viewBox="0 0 400 300" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="a" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="50" y="65" width="301" height="170"><path d="M350.3 65H50v169.8h300.3V65Z" fill="#fff"/></mask><g mask="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M58.3 233.2h32.8v-36.8H58.3v36.8Z" fill="#C7DEFF"/><path d="M91.1 224.5v8.8H58.3M82.4 196.2H58.3" stroke="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M305.4 182.5s-2.7 12.6 0 17.4c2.7 4.8 8.3 6.7 12.4 4.4 4.2-2.4 5.3-8.1 2.6-12.9-2.7-4.8-15-8.9-15-8.9ZM336 204.7c4.3 2 9.7-.4 12-5.4 2.3-5-1.5-17.3-1.5-17.3s-11.8 5.1-14.1 10.1c-2.3 5-.7 10.6 3.6 12.6Z" fill="#00E4E5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M326.7 174s-10 11.8-10 18.6c0 6.7 4.5 12.2 10 12.2s10-5.5 10-12.3c0-6.8-10-18.5-10-18.5Z" fill="#00E4E5"/><path d="M332.3 181.5c2.3 3.6 4.4 7.8 4.4 10.9M316.7 192.5c0-3.1 2.1-7.2 4.3-10.8" stroke="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M343.1 227.3v-9.7h-34v9.7c0 3.7 3 6.6 6.6 6.6h20.9c3.6 0 6.5-2.9 6.5-6.6Z" fill="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M350.4 220.8V198H302v22.8c0 5.9 4.8 10.7 10.7 10.7h26.9c5.9 0 10.7-4.8 10.8-10.7Z" fill="#C7DEFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M331.7 74.2H117.8L87.4 203h213.8l30.5-128.8Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M337 74.2h-6.2l-30.6 129.2h6.2L337 74.2Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M303.8 203.5h2.4l30.7-129.3h-1.8l-31.3 129.3Z" fill="#C7DEFF"/><path d="m337 74.2-30.6 129.2h-5.9" stroke="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M229.9 202.1h-47.6l2 9.6h47.3l-1.7-9.6Z" fill="#C7DEFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M94.7 172.6 87.4 203h213.1l7.8-30.4H94.7Z" fill="#006EFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M94.7 172.6 87.4 203h213.1l7.8-30.4H94.7Z" fill="#006EFF"/><path d="M138.5 74.2h193.2l-23.4 98.6M94.5 172.7l11-46.3M104.8 155.4l-2.3 11.5h6.7M316 112.1l1.1-4.5" stroke="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M148.3 138.1h97V119h-97v19.1Z" fill="#00E4E5"/><path d="M303.1 80.6h20.3l-4.6 19.6M228.3 234.3c3.6 0 6.3-3.2 5.7-6.8l-4.1-24.1" stroke="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M226.2 229.5h-68.9v1.2c0 2 1.6 3.7 3.7 3.7h60.1c2.8 0 5-2.2 5.1-4.9Z" fill="#C7DEFF"/><path d="M180.699 226.8h-19.9c-2.8 0-4.6 3-3.3 5.5m0 0c.6 1.2 1.9 2 3.3 2h57.8M175.9 203.4l3.6 17.6M241.2 234.3h65.1M104.6 234.3h41.3" stroke="#071F4D"/><path d="M206.2 234.3h14.9c3.1 0 5.5-2.8 5-5.9l-4.3-24.9M160.7 226.8h46M62.2 226.1h-9.5c-1.2 0-2.2-1-2.2-2.2v-18.3c0-1.2 1-2.2 2.2-2.2h9.5" stroke="#071F4D"/><path d="M53.4 171.7H68c2.1 0 3.7 1.7 3.7 3.7v16.1M79.1 192v-21.8c0-2.5 2-4.6 4.6-4.6h2.2c2.5 0 4.5-2 4.5-4.5m0 0c0-2.5-2-4.5-4.5-4.5H56.1c-2.4 0-4.3-1.9-4.3-4.3V148M71.2 165.2h-18M64 181.7v10.1" stroke="#C7DEFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M85.7 120H124c4.3 0 7.7-3.5 7.7-7.7V65.5H94.2c-4.7 0-8.5 4.9-8.5 11V120Z" fill="#C7DEFF"/><path d="M85.7 110.7V73c0-4.1 3.4-7.5 7.5-7.5h38.5M146.2 73.8v-2.5c0-3.2-2-5.8-5.8-5.8-2.8 0-6 1.1-6 5.8v42.4c0 4.7-3.8 8.5-8.5 8.5h-15.6" stroke="#071F4D"/><path d="M119.7 122.3H87c-6.1 0-11.1-5-11.1-11.1m0 0h39M126.1 122.3c-6.1 0-11.1-5-11.1-11.1" stroke="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M85.4 122.1h37.2c-6.5-1.8-8-10.5-8-10.5H76.2c.6 8.8 9.2 10.5 9.2 10.5Z" fill="#071F4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M95.8 102.9h4.8V83.6h-4.8v19.3ZM106.6 102.9h4.8V77.6h-4.8v25.3ZM117.3 102.9h4.8V89.1h-4.8v13.8Z" fill="#fff"/><path d="M273.2 195.9h16.9M261.2 195.9h5" stroke="#fff"/><path d="M62.4 201.9v2.9M62.4 224.5v2.9" stroke="#071F4D"/><path d="m153.6 138.1 9.7-19.1M168.8 138.1l9.7-19.1M184.1 138.1l9.7-19.1M199.4 138.1l9.7-19.1M214.6 138.1l9.8-19.1M229.9 138.1l9.7-19.1" stroke="#fff"/><path d="M148.3 138.1h121.6V119H148.3v19.1Z" stroke="#071F4D"/></g></svg>',width:400,height:300,name:"loading_pic",positionType:i.q0.left}},get expand(){return{type:"svg",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n      <path d="M4.64988 6.81235C4.38797 6.48497 4.62106 6 5.04031 6L10.9597 6C11.3789 6 11.612 6.48497 11.3501 6.81235L8.39043 10.512C8.19027 10.7622 7.80973 10.7622 7.60957 10.512L4.64988 6.81235Z" fill="${S}" fill-opacity="${M}"/>\n      </svg>`,width:A,height:A,funcType:i.cI.expand,name:"expand",positionType:i.q0.contentLeft,marginLeft:0,marginRight:4,hover:{width:T,height:T,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get collapse(){return{type:"svg",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n      <path d="M5.81235 11.3501C5.48497 11.612 5 11.3789 5 10.9597L5 5.04031C5 4.62106 5.48497 4.38797 5.81235 4.64988L9.51196 7.60957C9.76216 7.80973 9.76216 8.19027 9.51196 8.39044L5.81235 11.3501Z"  fill="${w}" fill-opacity="${x}"/>\n      </svg>`,width:_,height:_,funcType:i.cI.collapse,name:"collapse",positionType:i.q0.contentLeft,marginLeft:0,marginRight:4,hover:{width:C,height:C,bgColor:"rgba(101, 117, 168, 0.1)"},cursor:"pointer"}},get loading(){return{type:"image",src:"https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/VTable/media/loading-circle.gif",width:_,height:_,name:"loading",positionType:i.q0.contentLeft,marginLeft:0,marginRight:4,hover:{width:C,height:C,bgColor:"rgba(101, 117, 168, 0.1)"},isGif:!0}},get drillDown(){return{name:"drillDown",type:"svg",positionType:i.q0.absolute,funcType:i.cI.drillDown,svg:a.gm,width:13,height:13,cursor:"pointer"}},get drillUp(){return{name:"drillUp",type:"svg",positionType:i.q0.absolute,funcType:i.cI.drillUp,svg:a.Zj,width:13,height:13,cursor:"pointer"}},get dragReorder(){return{type:"svg",svg:`<svg t="1710129136961" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5166" width="200" height="200"><path d="M362.666667 192m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="${k}"  fill-opacity="${R}" p-id="5167"></path><path d="M661.333333 192m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="${k}"  fill-opacity="${R}" p-id="5168"></path><path d="M362.666667 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="${k}"  fill-opacity="${R}" p-id="5169"></path><path d="M661.333333 512m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="${k}"  fill-opacity="${R}" p-id="5170"></path><path d="M362.666667 832m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="${k}"  fill-opacity="${R}" p-id="5171"></path><path d="M661.333333 832m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="${k}"  fill-opacity="${R}" p-id="5172"></path></svg>`,width:I,height:I,funcType:i.cI.dragReorder,positionType:i.q0.left,name:"dragReorder",marginLeft:-10,marginRight:10,cursor:"grab"}}};function B(){return(0,r.l7)(E,o.c)}},7813:function(t,e,n){"use strict";n.d(e,{hZ:function(){return b},dK:function(){return w},V4:function(){return R},Wm:function(){return A},iN:function(){return S},Vp:function(){return C}});var i=n(66990),r=n(22304),o=n(68725),a=n(70375),s=n(89393);function l(t){return 2===t.length&&(0,s.Z)(t[0])&&(0,s.Z)(t[1])&&t[1]>=t[0]}function u(t){const e=t[1]-t[0],n=t[1]*t[0]<0;let i=t[0]<=0?0-t[0]:0,r=t[1]>0?t[1]-0:0;return 0===e?t[0]<0?(i=1,r=0):t[0]>0&&(i=0,r=1):(i/=e,r/=e),{total:e,negative:i,positive:r,includeZero:n,domain:t,extendable_min:!0,extendable_max:!0}}function h(t,e){const{positive:n,negative:i,extendable_min:r,extendable_max:o,domain:a}=t,{positive:s,negative:l,extendable_min:u,extendable_max:h,domain:c}=e;if(s>0){if(!u)return!1;let t=i/n;o&&(t=i/Math.max(n,s),a[1]=-a[0]/t),c[0]=-c[1]*t}else if(l>0){if(!h)return!1;let t=n/i;r&&(t=n/Math.max(i,i),a[0]=-a[1]/t),c[1]=-c[0]*t}return!0}function c(t,e){const{extendable_min:n,extendable_max:i,domain:r}=t,{positive:o,negative:a,domain:s}=e;return!(0===o&&0===a||o>0&&!i||a>0&&!n||(r[0]=s[0],r[1]=s[1],0))}function d(t,e){const{positive:n,negative:i,extendable_max:r,domain:o}=t,{positive:a,negative:s,extendable_min:l,domain:u}=e;if(r&&l){const t=Math.max(i,s)/Math.max(n,a);o[1]=-o[0]/t,u[0]=-u[1]*t}else if(l){const t=i/n;u[0]=-u[1]*t}else{if(!r)return!1;{const t=s/a;o[1]=-o[0]/t}}return!0}function f(t,e){const{extendable_min:n,domain:i}=t,{extendable_max:r,domain:o}=e;return!(!n||!r||(i[0]=-i[1],o[1]=-o[0],0))}var p,g=n(95433),m=n(85650),v=n(87689),y=n(54474);function b(t,e,n){var a,s,l,u,h,c,d;if(n._table.isPivotChart())if(n.indicatorsAsCol){if(n.hasTwoIndicatorAxes&&e===n.columnHeaderLevelCount-1&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount){const o=T("top",t,e+1,t,n.columnHeaderLevelCount-1,t,e,1,n);if(!o)return;const a=n._table._getCellStyle(t,e+1),s=(0,m.u)((0,v.WJ)("padding",a,t,e+1,n._table)),{range:l,ticks:u,axisOption:h,targetTicks:c,targetRange:d,index:f,theme:p}=o;return(0,i.Z)(null==h?void 0:h.min)&&(l.min=h.min,l.min>0&&(h.zero=!1)),(0,i.Z)(null==h?void 0:h.max)&&(l.max=h.max,l.max<0&&(h.zero=!1)),(0,r.Z)({range:l},h,{orient:"top",type:(null==h?void 0:h.type)||"linear",label:{flush:!0},tick:{tickMode:(0,y.h)(c,d,l,f)},__ticksForVTable:u,__vtableChartTheme:p,__vtablePadding:s})}if(e===n.rowCount-n.bottomFrozenRowCount&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount){const o=n.getIndicatorKeyInChartSpec(t,e);let a=null;null==o||o.forEach((t=>{const e=n.getIndicatorInfo(t);e&&(a=e)}));const s=T("bottom",t,e-1,t,e,t,e,0,n);if(!s)return;const l=n._table._getCellStyle(t,e-1),u=(0,m.u)((0,v.WJ)("padding",l,t,e-1,n._table)),{range:h,ticks:c,axisOption:d,index:f,targetTicks:p,targetRange:g,theme:b}=s;return(0,i.Z)(null==d?void 0:d.min)&&(h.min=d.min,h.min>0&&(d.zero=!1)),(0,i.Z)(null==d?void 0:d.max)&&(h.max=d.max,h.max<0&&(d.zero=!1)),(0,r.Z)({title:{visible:!0,text:null==a?void 0:a.title},range:h},d,{orient:"bottom",type:(null==d?void 0:d.type)||"linear",label:{flush:!0},tick:{tickMode:(0,y.h)(p,g,h,f)},__ticksForVTable:c,__vtableChartTheme:b,__vtablePadding:u})}if(t===n.rowHeaderLevelCount-1&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount){let i=n.getDimensionKeyInChartSpec(n.rowHeaderLevelCount,e);(0,o.Z)(i)&&(i=i[0]);const h=null!==(a=n.dataset.collectedValues[i])&&void 0!==a?a:[],c=n.getRowKeysPath(t,e),d=null!==(s=h[null!=c?c:""])&&void 0!==s?s:[],{axisOption:f,theme:p,chartType:g}=w(t+1,e,"left",n);if(!1===(null==f?void 0:f.visible))return;const y=n._table._getCellStyle(t+1,e),b=(0,m.u)((0,v.WJ)("padding",y,t+1,e,n._table)),x=n.getRawChartSpec(t+1,e);return(0,r.Z)({domain:"linear"===(null==f?void 0:f.type)?void 0:Array.from(d),range:"linear"===(null==f?void 0:f.type)?d:void 0,title:{autoRotate:!0}},f,{orient:"left",type:null!==(l=null==f?void 0:f.type)&&void 0!==l?l:"band",__vtableChartTheme:p,inverse:M(f,"horizontal"===(null!==(u=null==x?void 0:x.direction)&&void 0!==u?u:"scatter"===g?"vertical":"horizontal")),__vtablePadding:b})}}else{if(t===n.rowHeaderLevelCount-1&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount){const o=n.getIndicatorKeyInChartSpec(t,e);let a=null;null==o||o.forEach((t=>{const e=n.getIndicatorInfo(t);e&&(a=e)}));const s=T("left",t+1,e,t,e,t,e,0,n);if(!s)return;const l=n._table._getCellStyle(t+1,e),u=(0,m.u)((0,v.WJ)("padding",l,t+1,e,n._table)),{range:h,ticks:c,axisOption:d,index:f,targetTicks:p,targetRange:g,theme:b}=s;return(0,i.Z)(null==d?void 0:d.min)&&(h.min=d.min,h.min>0&&(d.zero=!1)),(0,i.Z)(null==d?void 0:d.max)&&(h.max=d.max,h.max<0&&(d.zero=!1)),(0,r.Z)({title:{visible:!0,text:null==a?void 0:a.title,autoRotate:!0},range:h},d,{orient:"left",type:(null==d?void 0:d.type)||"linear",label:{flush:!0},tick:{tickMode:(0,y.h)(p,g,h,f)},__ticksForVTable:c,__vtableChartTheme:b,__vtablePadding:u})}if(t===n.colCount-n.rightFrozenColCount&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount){const o=T("right",t-1,e,n.rowHeaderLevelCount-1,e,t,e,1,n);if(!o)return;const a=n._table._getCellStyle(t-1,e),s=(0,m.u)((0,v.WJ)("padding",a,t-1,e,n._table)),{range:l,ticks:u,axisOption:h,index:c,targetTicks:d,targetRange:f,theme:p}=o;return(0,i.Z)(null==h?void 0:h.min)&&(l.min=h.min,l.min>0&&(h.zero=!1)),(0,i.Z)(null==h?void 0:h.max)&&(l.max=h.max,l.max<0&&(h.zero=!1)),(0,r.Z)({range:l,title:{autoRotate:!0}},h,{orient:"right",type:(null==h?void 0:h.type)||"linear",label:{flush:!0},tick:{tickMode:(0,y.h)(d,f,l,c)},__ticksForVTable:u,__vtableChartTheme:p,__vtablePadding:s})}if(e===n.rowCount-n.bottomFrozenRowCount&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount){let i=n.getDimensionKeyInChartSpec(t,n.columnHeaderLevelCount);(0,o.Z)(i)&&(i=i[0]);const a=null!==(h=n.dataset.collectedValues[i])&&void 0!==h?h:[],s=n.getColKeysPath(t,e),l=null!==(c=null==a?void 0:a[null!=s?s:""])&&void 0!==c?c:[],{axisOption:u,isPercent:f,theme:p,chartType:g}=w(t,e-1,"bottom",n);if(!1===(null==u?void 0:u.visible))return;const y=n._table._getCellStyle(t,e-1),b=(0,m.u)((0,v.WJ)("padding",y,t,e-1,n._table));return(0,r.Z)({domain:"linear"===(null==u?void 0:u.type)?void 0:Array.from(l),range:"linear"===(null==u?void 0:u.type)?l:void 0},u,{orient:"bottom",type:null!==(d=null==u?void 0:u.type)&&void 0!==d?d:"band",__vtableChartTheme:p,__vtablePadding:b})}}}function w(t,e,n,i){var r,s;const l=i.getRawChartSpec(t,e),u=null!==(r=l.axes)&&void 0!==r?r:[];if(i._table.pivotChartAxes.forEach((t=>{-1===u.findIndex((e=>t.orient===e.orient))&&u.push(t)})),l&&(0,o.Z)(u)){const t=u.find((t=>t.orient===n));if(t){const{seriesIndex:e,seriesId:r}=t;let u,h;(0,a.Z)(r)&&(0,o.Z)(l.series)?u=((0,o.Z)(r)?r:[r]).map((t=>{const e=l.series.findIndex((e=>e.id===t));return e>=0&&(h=l.series[e]),e})):(0,a.Z)(e)&&(0,o.Z)(l.series)&&(u=e);const{isZeroAlign:c,isTickAlign:d}=x(l,n,i);return{axisOption:t,isPercent:l.percent,isZeroAlign:c,isTickAlign:d,seriesIndice:u,theme:l.theme,chartType:null!==(s=null==h?void 0:h.type)&&void 0!==s?s:l.type}}}const h=i._table.pivotChartAxes.find((t=>t.orient===n)),{isZeroAlign:c,isTickAlign:d}=x(l,n,i);return{axisOption:h,isPercent:!1,isZeroAlign:c,isTickAlign:d,theme:l.theme,chartType:l.type}}function x(t,e,n){const i=[];let r;"left"===e||"right"===e?i.push("left","right"):"top"!==e&&"bottom"!==e||i.push("top","bottom"),r=t&&(0,o.Z)(t.axes)?t.axes:n._table.pivotChartAxes;let a=!1,s=!1;if((0,o.Z)(r)){const t=[];r.forEach((e=>{i.includes(e.orient)&&t.push(e)}));for(let e=0;e<t.length;e++){const n=t[e];n.sync&&n.sync.axisId&&t.find((t=>t.id===n.sync.axisId))&&(a=a||n.sync.zeroAlign,s=s||n.sync.tickAlign)}}return{isZeroAlign:a,isTickAlign:s}}function _(t,e,n,i,a){var s;if((0,o.Z)(a)){const r={min:1/0,max:-1/0};for(let o=0;o<a.length;o++){const s=_(t,e,n,i,a[o]);s&&(r.min=Math.min(r.min,s.min),r.max=Math.max(r.max,s.max))}return isFinite(r.min)&&isFinite(r.max)?r:null}let l=null==e?void 0:e[a];if((0,o.Z)(l)&&(l=l[0]),!l)return null;const u=t[l],h=(0,r.Z)({},null!==(s=null==u?void 0:u[null!=i?i:""])&&void 0!==s?s:{min:0,max:1});return h.positiveMax&&h.positiveMax>h.max&&(h.max=h.positiveMax),h.negativeMin&&h.negativeMin<h.min&&(h.min=h.negativeMin),h.min===h.max&&(h.min>0?h.min=0:h.max=0),h}function C(t,e,n){if(!n._table.isPivotChart())return!1;if(n.indicatorsAsCol){if(n.hasTwoIndicatorAxes&&e===n.columnHeaderLevelCount-1&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount)return!0;if(e===n.rowCount-n.bottomFrozenRowCount&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount)return!0}else if(e===n.rowCount-n.bottomFrozenRowCount&&t>=n.rowHeaderLevelCount&&t<n.colCount-n.rightFrozenColCount)return!0;return!1}function S(t,e,n){if(!n._table.isPivotChart())return!1;if(n.indicatorsAsCol){if(t===n.rowHeaderLevelCount-1&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount)return!0}else{if(t===n.rowHeaderLevelCount-1&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount)return!0;if(t===n.colCount-n.rightFrozenColCount&&e>=n.columnHeaderLevelCount&&e<n.rowCount-n.bottomFrozenRowCount)return!0}return!1}function M(t,e){let n=null==t?void 0:t.inverse;return e&&!("bottom"===(i=null==t?void 0:t.orient)||"top"===i)&&(n=!(0,a.Z)(null==t?void 0:t.inverse)||!(null==t?void 0:t.inverse)),n;var i}function A(t,e,n,i){if(!(0,o.Z)(t.axes)||0===t.axes.length)return n&&i||!n&&!i;for(let e=0;e<t.axes.length;e++){const r=t.axes[e];if(!n&&i&&"bottom"===r.orient&&"linear"===r.type)return!0;if(n&&i&&"bottom"===r.orient&&"linear"!==r.type)return!0;if(!n&&!i&&"left"===r.orient&&"linear"!==r.type)return!0;if(n&&!i&&"left"===r.orient&&"linear"===r.type)return!0}if((0,o.Z)(e)&&e.length>0)for(let t=0;t<e.length;t++){const r=e[t];if(!n&&i&&"bottom"===r.orient&&"linear"===r.type)return!0;if(n&&i&&"bottom"===r.orient&&"linear"!==r.type)return!0;if(!n&&!i&&"left"===r.orient&&"linear"!==r.type)return!0;if(n&&!i&&"left"===r.orient&&"linear"===r.type)return!0}return n&&i||!n&&!i}function T(t,e,n,i,r,o,a,s,l){const u=l.getIndicatorKeyInChartSpec(i,r);let h;h="top"===t||"bottom"===t?l.getColKeysPath(o,a):l.getRowKeysPath(o,a);const c=k(e,n,s,t,u,h,l);if(!c)return;const d="bottom"===t?"top":"top"===t?"bottom":"left"===t?"right":"left",{targetRange:f,targetTicks:p}=I(e,n,c.index,c.isZeroAlign,c.isTickAlign,c.range,u,d,h,l);if(0!==c.index&&p){const e=g.F.getFunction("getAxisDomainRangeAndLabels"),{range:n,ticks:i}=e(c.range.min,c.range.max,c.axisOption,c.isZeroAlign,"bottom"===t||"top"===t?l._table.getColWidth(o)||l._table.tableNoFrameWidth:l._table.getRowHeight(a)||l._table.tableNoFrameHeight,{targetTicks:p,targetRange:f});c.range.min=n[0],c.range.max=n[1],c.ticks=i}return c.targetRange=f,c.targetTicks=p,c}function k(t,e,n,r,o,a,s){const{axisOption:l,isPercent:u,isZeroAlign:h,isTickAlign:c,seriesIndice:d,theme:f,chartType:p}=w(t,e,r,s),m=_(s.dataset.collectedValues,o,h,a,null!=d?d:n);if(!m)return;let v;if(u&&(m.min=m.min<0?-1:0,m.max=m.max>0?1:0),((null==l?void 0:l.zero)||m.min===m.max)&&(m.min=Math.min(m.min,0),m.max=Math.max(m.max,0)),(null==l?void 0:l.nice)||c){const n=g.F.getFunction("getAxisDomainRangeAndLabels"),{range:i,ticks:o}=n(m.min,m.max,l,h,"bottom"===r||"top"===r?s._table.getColWidth(t)||s._table.tableNoFrameWidth:s._table.getRowHeight(e)||s._table.tableNoFrameHeight);(null==l?void 0:l.nice)&&(m.min=i[0],m.max=i[1]),v=o}return(0,i.Z)(null==l?void 0:l.min)&&(m.min=l.min),(0,i.Z)(null==l?void 0:l.max)&&(m.max=l.max),{index:null!=d?d:n,range:m,ticks:v,isZeroAlign:h,isTickAlign:c,axisOption:l,theme:f,chartType:p}}function R(t,e,n,i,o,a,s,l){const{range:u,isZeroAlign:h,isTickAlign:c,axisOption:d}=k(t,e,n,i,a,s,l),{targetRange:f,targetTicks:p}=I(t,e,n,h,c,u,a,o,s,l);if(0!==n&&p){const n=g.F.getFunction("getAxisDomainRangeAndLabels"),{range:o,ticks:a}=n(u.min,u.max,(0,r.Z)({},d,{nice:!0,tick:{forceTickCount:p.length}}),h,"bottom"===i||"top"===i?l._table.getColWidth(t)||l._table.tableNoFrameWidth:l._table.getRowHeight(e)||l._table.tableNoFrameHeight,{targetTicks:p,targetRange:f});u.min=o[0],u.max=o[1]}return{axisOption:d,range:u,targetTicks:p,targetRange:f}}function I(t,e,n,i,r,o,a,s,p,g){let m,v;if(!i&&!r)return{targetTicks:m,targetRange:v};const b=k(t,e,a.length-1-n,s,a,p,g);if(b){const{range:a,ticks:p}=b;if(v=a,i){const t=function(t,e){const n=[t.min,t.max],i=[e.min,e.max];if(!l(n)||!l(i))return;const r=u(n),o=u(i),{positive:a,negative:s,extendable_min:p,extendable_max:g,includeZero:m}=r,{positive:v,negative:y,extendable_min:b,extendable_max:w,includeZero:x}=o;if(0===a&&0===s){if(!c(r,o))return}else if(0===v&&0===y){if(!c(o,r))return}else if(m||x)if(m&&!x){if(!h(r,o))return}else if(x&&!m){if(!h(o,r))return}else{if(s===y)return;if(s>y){if(!d(r,o))return}else if(!d(o,r))return}else{if(0===s&&0===v){if(!f(r,o))return}else if(0===y&&0===a&&!f(o,r))return;if(0===s&&0===y)if(0===n[0]&&i[0]>0){if(!b)return;i[0]=0}else{if(!(0===i[0]&&n[0]>0))return;if(!p)return;n[0]=0}if(0===a&&0===v)if(0===n[1]&&i[1]>0){if(!w)return;i[1]=0}else{if(!(0===i[1]&&n[1]>0))return;if(!g)return;n[1]=0}}return{range1:n,range2:i}}(o,a);t&&(o.min=t.range1[0],o.max=t.range1[1],v.min=t.range2[0],v.max=t.range2[1])}r&&(m=i?(0,y.r)(v,t,e,n,s,g):p)}return{targetTicks:m,targetRange:v}}!function(t){t.vertical="vertical",t.horizontal="horizontal"}(p||(p={}))},64127:function(t,e,n){"use strict";n.d(e,{K0:function(){return v},TF:function(){return d},TQ:function(){return y},VR:function(){return g},YL:function(){return w},aw:function(){return m},eW:function(){return p},ed:function(){return c},f_:function(){return f},py:function(){return b}});var i=n(68725),r=n(66990),o=n(22304),a=n(7813),s=n(35517),l=n(27939),u=n(54474);const h="NO_AXISID_FRO_VTABLE";function c(t,e,n){var i,r;const o=n.getCellHeaderPaths(t,e);let a;if(n.indicatorsAsCol){const t=null===(i=o.colHeaderPaths.find((t=>t.indicatorKey)))||void 0===i?void 0:i.indicatorKey;a=n.columnObjects.find((e=>e.indicatorKey===t))}else{const t=null===(r=o.rowHeaderPaths.find((t=>t.indicatorKey)))||void 0===r?void 0:r.indicatorKey;a=n.columnObjects.find((e=>e.indicatorKey===t))}const s=null==a?void 0:a.chartSpec;return"function"==typeof s?s({col:t,row:e,dataValue:n._table.getCellOriginValue(t,e)||"",value:n._table.getCellValue(t,e)||"",rect:n._table.getCellRangeRelativeRect(n._table.getCellRange(t,e)),table:n._table}):s}function d(t,e,n){var i,r;const o=n.getCellHeaderPaths(t,e);let a;if(n.indicatorsAsCol){const t=null===(i=o.colHeaderPaths.find((t=>t.indicatorKey)))||void 0===i?void 0:i.indicatorKey;a=n.columnObjects.find((e=>e.indicatorKey===t))}else{const t=null===(r=o.rowHeaderPaths.find((t=>t.indicatorKey)))||void 0===r?void 0:r.indicatorKey;a=n.columnObjects.find((e=>e.indicatorKey===t))}return"function"!=typeof(null==a?void 0:a.chartSpec)}function f(t,e,n){var i,r;const o=n.getCellHeaderPaths(t,e);let a;if(n.indicatorsAsCol){const t=null===(i=o.colHeaderPaths.find((t=>t.indicatorKey)))||void 0===i?void 0:i.indicatorKey;a=n.columnObjects.find((e=>e.indicatorKey===t))}else{const t=null===(r=o.rowHeaderPaths.find((t=>t.indicatorKey)))||void 0===r?void 0:r.indicatorKey;a=n.columnObjects.find((e=>e.indicatorKey===t))}return null==a?void 0:a.noDataRenderNothing}function p(t){let e=!1;for(let n=0;n<t.length;n++){const i=t[n];if(i.chartSpec&&"wordCloud"!==i.chartSpec.type&&"radar"!==i.chartSpec.type&&"gauge"!==i.chartSpec.type&&"pie"!==i.chartSpec.type&&"funnel"!==i.chartSpec.type&&"rose"!==i.chartSpec.type){e=!0;break}}return e}function g(t,e,n){let i=!0;const r=n.getRawChartSpec(t,e);return r&&"pie"!==r.type&&"radar"!==r.type&&"gauge"!==r.type&&"wordCloud"!==r.type&&"funnel"!==r.type&&"rose"!==r.type||(i=!1),i}function m(t,e,n,i){let r=!1;if(i.indicatorsAsCol&&"row"===n||!i.indicatorsAsCol&&"col"===n)for(let t=0;t<i.indicatorsDefine.length;t++){const e=i.indicatorsDefine[t];if(e.chartSpec&&"pie"!==e.chartSpec.type&&"wordCloud"!==e.chartSpec.type&&"radar"!==e.chartSpec.type&&"gauge"!==e.chartSpec.type&&"funnel"!==e.chartSpec.type&&"rose"!==e.chartSpec.type){r=!0;break}}else{const n=i.getRawChartSpec(t,e);n?"pie"!==n.type&&"radar"!==n.type&&"gauge"!==n.type&&"wordCloud"!==n.type&&"funnel"!==n.type&&"rose"!==n.type&&(r=!0):r=!1}return r}function v(t,e,n){let r=n.getRawChartSpec(t,e);return r?n._table.isPivotChart()?(r=(0,s.u)(r),r.sortDataByAxis=!0,(0,i.Z)(r.series)&&r.series.forEach((t=>{t.sortDataByAxis=!0})),"gauge"!==r.type&&"rose"!==r.type&&"radar"!==r.type&&(r.axes=n.getChartAxes(t,e)),r.padding=0,r.dataZoom=[],r):r:null}function y(t,e,n){var s,c,d;const f=[];if(n.indicatorsAsCol){const c=n.getIndicatorKeyInChartSpec(t,e),d=n.getColKeysPath(t,e);c.forEach(((i,s)=>{const{range:p,targetTicks:g,targetRange:m,axisOption:v}=(0,a.V4)(t,e,s,0===s?"bottom":"top",0===s?"top":"bottom",c,d,n);(0,r.Z)(null==v?void 0:v.min)&&(p.min=v.min),(0,r.Z)(null==v?void 0:v.max)&&(p.max=v.max),x(v,f)||f.push((0,o.Z)({range:p,label:{style:{fontSize:l.$M}}},v,{type:(null==v?void 0:v.type)||"linear",orient:0===s?"bottom":"top",label:{visible:!1,flush:!0},title:{visible:!1},domainLine:{visible:!1},seriesIndex:(null==v?void 0:v.seriesId)?void 0:s,tick:{tickMode:(0,u.h)(g,m,p,s)},sync:{axisId:h}}))}));let p=n.getDimensionKeyInChartSpec(n.rowHeaderLevelCount,e);(0,i.Z)(p)&&(p=p[0]);const g=n.dataset.cacheCollectedValues[p]||n.dataset.collectedValues[p]||[],m=n.getRowKeysPath(t,e),v=g[null!=m?m:""],{axisOption:y,isPercent:b,chartType:w}=(0,a.dK)(t,e,"left",n);f.push((0,o.Z)({domain:"linear"!==(null==y?void 0:y.type)||Array.isArray(v)?Array.from(null!=v?v:[]):void 0,range:"linear"!==(null==y?void 0:y.type)||Array.isArray(v)?void 0:v,label:{style:{fontSize:l.$M}}},y,{type:null!==(s=null==y?void 0:y.type)&&void 0!==s?s:"band",orient:"left",label:{visible:!1},domainLine:{visible:!1},tick:{visible:!1},subTick:{visible:!1},title:{visible:!1}}))}else{const s=n.getIndicatorKeyInChartSpec(t,e),p=n.getRowKeysPath(t,e);s.forEach(((i,c)=>{const{range:d,targetTicks:g,targetRange:m,axisOption:v}=(0,a.V4)(t,e,c,0===c?"left":"right",0===c?"right":"left",s,p,n);(0,r.Z)(null==v?void 0:v.min)&&(d.min=v.min),(0,r.Z)(null==v?void 0:v.max)&&(d.max=v.max),x(v,f)||f.push((0,o.Z)({range:d,label:{style:{fontSize:l.$M}}},v,{type:(null==v?void 0:v.type)||"linear",orient:0===c?"left":"right",label:{visible:!1,flush:!0},title:{visible:!1},domainLine:{visible:!1},seriesIndex:(null==v?void 0:v.seriesId)?void 0:c,tick:{tickMode:(0,u.h)(g,m,d,c)},sync:{axisId:h}}))}));let g=n.getDimensionKeyInChartSpec(t,n.columnHeaderLevelCount);(0,i.Z)(g)&&(g=g[0]);const m=n.dataset.cacheCollectedValues[g]||n.dataset.collectedValues[g]||[],v=n.getColKeysPath(t,e),y=null!==(c=null==m?void 0:m[null!=v?v:""])&&void 0!==c?c:[],{axisOption:b,isPercent:w,chartType:_}=(0,a.dK)(t,e,"bottom",n);f.push((0,o.Z)({domain:"linear"!==(null==b?void 0:b.type)||Array.isArray(y)?Array.from(null!=y?y:[]):void 0,range:"linear"!==(null==b?void 0:b.type)||Array.isArray(y)?void 0:y,label:{style:{fontSize:l.$M}}},b,{type:null!==(d=null==b?void 0:b.type)&&void 0!==d?d:"band",orient:"bottom",visible:!0,label:{visible:!1},domainLine:{visible:!1},tick:{visible:!1},subTick:{visible:!1},title:{visible:!1}}))}return f}function b(t,e,n){var i;const r=n.getRawChartSpec(t,e);if(null==r?void 0:r.series){const t={};return(null===(i=r.data)||void 0===i?void 0:i.id)&&(t[r.data.id]=void 0),null==r||r.series.forEach((e=>{var n,i,o,a,s,l,u,h,c,d,f;if(!(null===(n=e.data)||void 0===n?void 0:n.fromDataId))if(null===(i=e.data)||void 0===i?void 0:i.transforms)t[null!==(f=null!==(c=null===(h=e.data)||void 0===h?void 0:h.id)&&void 0!==c?c:null===(d=r.data)||void 0===d?void 0:d.id)&&void 0!==f?f:"data"]=void 0;else{const n="horizontal"===e.direction?e.xField:e.yField;t[null!==(l=null!==(a=null===(o=e.data)||void 0===o?void 0:o.id)&&void 0!==a?a:null===(s=r.data)||void 0===s?void 0:s.id)&&void 0!==l?l:"data"]=(null===(u=e.data)||void 0===u?void 0:u.id)?n:void 0}})),t}return r.data.id}function w(t){let e=!1;for(let n=0;n<t.columnObjects.length;n++)if(t.columnObjects[n].chartSpec){e=!0;break}return e}function x(t,e){return!!(t&&(0,i.Z)(t.seriesId)&&t.seriesId.length>0&&e.filter((e=>!(e.orient!==t.orient||!e.seriesId||e.seriesId.length!==t.seriesId.length||!e.seriesId.every(((e,n)=>e===t.seriesId[n]))))).length>0)}},54474:function(t,e,n){"use strict";n.d(e,{h:function(){return a},r:function(){return o}});var i=n(95433),r=n(7813);function o(t,e,n,o,a,s){const l=i.F.getFunction("getAxisDomainRangeAndLabels"),{axisOption:u,isZeroAlign:h}=(0,r.dK)(e,n,0===o?"right":"left",s),{ticks:c}=l(t.min,t.max,u,h,"bottom"===a||"top"===a?s._table.getColWidth(e)||s._table.tableNoFrameWidth:s._table.getRowHeight(n)||s._table.tableNoFrameHeight);return c}function a(t,e,n,i){return 0!==i&&t?()=>t.map((t=>{const i=(t-e.min)/(e.max-e.min),r=(n.max-n.min)*i+n.min;return Math.round(100*r)/100})):void 0}},87269:function(t,e,n){"use strict";n.d(e,{C1:function(){return h},MP:function(){return s},N3:function(){return c},OT:function(){return l},Ul:function(){return d},VN:function(){return f},WM:function(){return u},uu:function(){return p}});var i=n(68725),r=n(44409),o=n(19401),a=n(36657);function s(t){const e=t.columnObjects;for(let t=0;t<e.length;t++){const n=e[t];if(null==n?void 0:n.aggregation)return!0}return!1}function l(t){const e=t.columnObjects;let n=0;for(let t=0;t<e.length;t++){const i=e[t];(null==i?void 0:i.aggregation)&&(Array.isArray(null==i?void 0:i.aggregation)?n=Math.max(n,i.aggregation.filter((t=>t.showOnTop)).length):i.aggregation.showOnTop&&(n=Math.max(n,1)))}return n}function u(t){const e=t.columnObjects;let n=0;for(let t=0;t<e.length;t++){const i=e[t];(null==i?void 0:i.aggregation)&&(Array.isArray(null==i?void 0:i.aggregation)?n=Math.max(n,i.aggregation.filter((t=>!t.showOnTop)).length):i.aggregation.showOnTop||(n=Math.max(n,1)))}return n}function h(t){if(t._table.options.groupBy)return!0;const{columns:e}=t._table.options;if((0,i.Z)(e)&&e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if(!(0,r.Z)(n)&&n.tree)return!0}return!1}function c(t){const{columns:e,rows:n,indicators:o}=t.options;if(t.isPivotTable()){if((0,i.Z)(e)&&e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if(!(0,r.Z)(n)&&("image"===n.headerType||"video"===n.headerType||"function"==typeof n.headerType)&&n.imageAutoSizing)return!0}if((0,i.Z)(n)&&n.length>0)for(let t=0;t<n.length;t++){const e=n[t];if(!(0,r.Z)(e)&&("image"===e.headerType||"video"===e.headerType||"function"==typeof e.headerType)&&e.imageAutoSizing)return!0}if((0,i.Z)(o)&&o.length>0)for(let t=0;t<o.length;t++){const e=o[t];if(!(0,r.Z)(e)&&(("image"===e.cellType||"video"===e.cellType||"function"==typeof e.cellType)&&e.imageAutoSizing||("image"===e.headerType||"video"===e.headerType||"function"==typeof e.headerType)&&e.imageAutoSizing))return!0}}else if((0,i.Z)(e)&&e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if(("image"===n.cellType||"video"===n.cellType||"function"==typeof n.cellType)&&n.imageAutoSizing||("image"===n.headerType||"video"===n.headerType||"function"==typeof n.headerType)&&n.imageAutoSizing)return!0}return!1}function d(t,e){var n,i,r,s,l,u,h,c,d,p,g,m,v,y;let b,w;e.columnTree&&(!1!==t.options.indicatorsAsCol&&!1!==t.options.supplementIndicatorNodes&&(t.internalProps.columnTree=f(t.internalProps.columnTree,e.indicators)),b=new a.KO(null!==(n=t.internalProps.columnTree)&&void 0!==n?n:[],t.layoutNodeId)),e.rowTree&&(!1===t.options.indicatorsAsCol&&!1!==t.options.supplementIndicatorNodes&&(t.internalProps.rowTree=f(t.internalProps.rowTree,e.indicators)),w=new a.KO(null!==(i=t.internalProps.rowTree)&&void 0!==i?i:[],t.layoutNodeId,t.options.rowHierarchyType,"tree"===t.options.rowHierarchyType?null!==(r=t.options.rowExpandLevel)&&void 0!==r?r:1:void 0));const x=(null===(s=null==w?void 0:w.dimensionKeys)||void 0===s?void 0:s.count)?w.dimensionKeys.valueArr():null!==(u=null===(l=e.rows)||void 0===l?void 0:l.reduce(((t,e)=>("string"==typeof e?t.push(e):t.push(e.dimensionKey),t)),[]))&&void 0!==u?u:[],_=(null===(h=null==b?void 0:b.dimensionKeys)||void 0===h?void 0:h.count)?b.dimensionKeys.valueArr():null!==(d=null===(c=e.columns)||void 0===c?void 0:c.reduce(((t,e)=>("string"==typeof e?t.push(e):t.push(e.dimensionKey),t)),[]))&&void 0!==d?d:[],C=null!==(g=null===(p=e.indicators)||void 0===p?void 0:p.reduce(((e,n)=>{var i;return"string"==typeof n?e.push(n):(e.push(n.indicatorKey),(n.chartSpec||n.sparklineSpec)&&((null===(i=t.internalProps.dataConfig)||void 0===i?void 0:i.aggregationRules)?t.internalProps.dataConfig.aggregationRules.find((t=>t.indicatorKey===n.indicatorKey))||t.internalProps.dataConfig.aggregationRules.push({field:n.indicatorKey,indicatorKey:n.indicatorKey,aggregationType:o.E.NONE}):t.internalProps.dataConfig?t.internalProps.dataConfig.aggregationRules=[{field:n.indicatorKey,indicatorKey:n.indicatorKey,aggregationType:o.E.NONE}]:t.internalProps.dataConfig={aggregationRules:[{field:n.indicatorKey,indicatorKey:n.indicatorKey,aggregationType:o.E.NONE}]})),e}),[]))&&void 0!==g?g:[];return"tree"===e.rowHierarchyType&&(null!==(v=null===(m=e.extensionRows)||void 0===m?void 0:m.length)&&void 0!==v?v:0)>=1&&(null===(y=e.extensionRows)||void 0===y||y.forEach((t=>{const e=[];t.rows.forEach((t=>{"string"==typeof t?e.push(t):e.push(t.dimensionKey)})),x.push(...e)}))),{rowKeys:x,columnKeys:_,indicatorKeys:C,columnDimensionTree:b,rowDimensionTree:w}}function f(t,e){const n=(t,i)=>{t.forEach((t=>{var r;t.indicatorKey||i||(null===(r=t.children)||void 0===r?void 0:r.length)&&t.children?t.children&&Array.isArray(t.children)&&n(t.children,i||!!t.indicatorKey):t.children=null==e?void 0:e.map((t=>{var e;return"string"==typeof t?{indicatorKey:t,value:t}:{indicatorKey:t.indicatorKey,value:null!==(e=t.title)&&void 0!==e?e:t.indicatorKey}}))}))};return(null==t?void 0:t.length)?n(t,!1):t=null==e?void 0:e.map((t=>{var e;return"string"==typeof t?{indicatorKey:t,value:t}:{indicatorKey:t.indicatorKey,value:null!==(e=t.title)&&void 0!==e?e:t.indicatorKey}})),t}function p(t,e,n,i){const r=[];for(let t=0;t<(null==e?void 0:e.length);t++){const n=e[t];(null==n?void 0:n.hide)&&r.push(n)}(r.length||n)&&(0,a.gD)(t,[],r,n,i)}},48887:function(t,e,n){"use strict";n.d(e,{z:function(){return p}});var i=n(51917),r=n(86036),o=n(97176);var a=n(64127),s=n(36657),l=n(68725),u=n(86801),h=n(70375),c=n(85650),d=n(95433);const f={startInTotal:0,level:0};class p{constructor(t,e,n,r){var a,s,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C;this.colIndex=0,this._showHeader=!0,this.columnHeaderObjs=[],this.rowHeaderObjs=[],this._cornerHeaderCellFullPathIds=[],this._columnHeaderCellFullPathIds=[],this._rowHeaderCellFullPathIds=[],this._rowHeaderCellFullPathIds_FULL=[],this._cornerHeaderCellIds=[],this._columnHeaderCellIds=[],this._rowHeaderCellIds=[],this._rowHeaderCellIds_FULL=[],this._columnWidths=[],this.columnPaths=[],this._headerObjects=[],this._headerObjectMap={},this._indicators=[],this.indicatorsAsCol=!0,this.hideIndicatorName=!1,this._showRowHeader=!0,this._showColumnHeader=!0,this._indicatorShowType="column",this.rowHierarchyTextStartAlignment=!1,this.rowDimensionKeys=[],this.colDimensionKeys=[],this.indicatorKeys=[],this.indicatorDimensionKey=o.ek,this._rowHeaderExtensionTree={},this._extensionRowDimensionKeys=[],this.fullRowDimensionKeys=[],this.leftRowSeriesNumberColumnCount=0,this.rightRowSeriesNumberColumnCount=0,this._useGetBodyCache=!1,this._getBodyCache=new Map,this._useHeaderPathCache=!1,this._colHeaderPathCache=new Map,this._rowHeaderPathCache=new Map,this.sharedVar=t.layoutNodeId,this._table=t,"tree"===t.options.rowHierarchyType&&(this.extensionRows=t.options.extensionRows),this.dataset=e,this._largeCellRangeCache=[],this._CellHeaderPathMap=new Map,this.rowTree=t.internalProps.rowTree,this.columnTree=t.internalProps.columnTree,this.rowsDefine=null!==(a=t.internalProps.rows)&&void 0!==a?a:[],this.columnsDefine=null!==(s=t.internalProps.columns)&&void 0!==s?s:[],this.indicatorsDefine=null!==(u=t.internalProps.indicators)&&void 0!==u?u:[],this.indicatorTitle=t.options.indicatorTitle,this.indicatorsAsCol=null===(h=t.options.indicatorsAsCol)||void 0===h||h,this.hideIndicatorName=null!==(c=t.options.hideIndicatorName)&&void 0!==c&&c,this.showRowHeader=null===(d=t.options.showRowHeader)||void 0===d||d,this.showColumnHeader=null===(f=t.options.showColumnHeader)||void 0===f||f,this.rowHeaderTitle=t.options.rowHeaderTitle,this.columnHeaderTitle=t.options.columnHeaderTitle,this.rowHierarchyType=null!==(p=t.options.rowHierarchyType)&&void 0!==p?p:"grid",this.rowExpandLevel=null!==(g=t.options.rowExpandLevel)&&void 0!==g?g:1,this.rowHierarchyIndent=null!==(m=t.options.rowHierarchyIndent)&&void 0!==m?m:20,this.rowHierarchyTextStartAlignment=t.options.rowHierarchyTextStartAlignment,this.cornerSetting=Object.assign({titleOnDimension:"column",forceShowHeader:!1},t.options.corner),e&&(this.rowTree=e.rowHeaderTree,this.columnTree=e.colHeaderTree),null===(v=this.indicatorsDefine)||void 0===v||v.forEach((t=>{"string"==typeof t?this.indicatorKeys.push(t):this.indicatorKeys.push(t.indicatorKey)})),this.columnDimensionTree=n,this.rowDimensionTree=r,this.colDimensionKeys=this.columnDimensionTree.dimensionKeysIncludeVirtual.valueArr(),this.rowDimensionKeys=this.rowDimensionTree.dimensionKeysIncludeVirtual.valueArr(),this.fullRowDimensionKeys=this.fullRowDimensionKeys.concat(this.rowDimensionKeys),this.resetRowHeaderLevelCount(),this._table.isPivotChart()&&(this.hasTwoIndicatorAxes=this.indicatorsDefine.some((t=>{var e,n;if(t.chartSpec&&t.chartSpec.series&&t.chartSpec.series.length>1){const i=null!==(n=null!==(e=t.chartSpec.axes)&&void 0!==e?e:this._table.pivotChartAxes)&&void 0!==n?n:[];if(!i.length||i.every((t=>t.orient!==(this.indicatorsAsCol?"top":"right")||!1!==t.visible)))return!0}return!1}))),this.resetColumnHeaderLevelCount(),this._generateColHeaderIds(),this.colIndex=0,this._generateRowHeaderIds(),this._rowHeaderCellFullPathIds_FULL=(0,i.p4)(this._rowHeaderCellFullPathIds_FULL),"tree"===t.options.rowHierarchyType&&(null===(y=this.extensionRows)||void 0===y?void 0:y.length)>=1&&(this.generateExtensionRowTree(),this.extensionRows.forEach((t=>{const e=[];t.rows.forEach((t=>{"string"==typeof t?e.push(t):e.push(t.dimensionKey)})),this._extensionRowDimensionKeys.push(e),this.fullRowDimensionKeys=this.fullRowDimensionKeys.concat(e)}))),this.sharedVar.seqId=Math.max(this.sharedVar.seqId,this._headerObjects.length);let S,M=this.columnDimensionTree.dimensionKeysIncludeVirtual.valueArr();!this.dataset||this._table.isPivotChart()||0!==(null!==(w=null===(b=this.dataset.records)||void 0===b?void 0:b.length)&&void 0!==w?w:0)||this.dataset.customColTree||(M=this.columnsDefine.map((t=>"string"==typeof t?t:t.dimensionKey)),this.indicatorsAsCol&&M.push(this.indicatorDimensionKey)),M=this.columnHeaderTitle?[""].concat(M):M;let A=[];if("tree"===this.rowHierarchyType&&(null===(x=this.extensionRows)||void 0===x?void 0:x.length)>=1){const t=[];t.push(this.rowDimensionKeys[0]),this._extensionRowDimensionKeys.forEach((e=>{t.push(e[0])})),A=this.extensionRows.reduce(((t,e)=>t.concat(e.rows)),[]),S=this.rowHeaderTitle?[""].concat(t):t}else S=this.rowDimensionTree.dimensionKeysIncludeVirtual.valueArr(),!this.dataset||this._table.isPivotChart()||0!==(null!==(C=null===(_=this.dataset.records)||void 0===_?void 0:_.length)&&void 0!==C?C:0)||this.dataset.customRowTree||(S=this.rowsDefine.map((t=>"string"==typeof t?t:t.dimensionKey)),this.indicatorsAsCol||S.push(this.indicatorDimensionKey)),S=this.rowHeaderTitle?[""].concat(S):S;this.cornerHeaderObjs=this._addCornerHeaders(M,S,this.columnsDefine.concat(...this.rowsDefine,...A)),this.colIndex=0,this._headerObjectMap=this._headerObjects.reduce(((t,e)=>(t[e.id]=e,t)),{}),this.indicatorsAsCol&&!this.hideIndicatorName?this._indicatorShowType="column":this.indicatorsAsCol||this.hideIndicatorName?this._indicatorShowType="none":this._indicatorShowType="row",this.generateCellIdsConsiderHideHeader(),this.setPagination(t.options.pagination),this._table.isPivotChart()&&(this._chartItemSpanSize=0,this._chartItemBandSize=0,this._indicators.find((t=>{var e,n,i,r,o,a,s,u;(null===(e=null==t?void 0:t.style)||void 0===e?void 0:e.padding)&&(this._chartPadding=t.style.padding),(null===(n=t.chartSpec)||void 0===n?void 0:n.barWidth)&&"number"==typeof t.chartSpec.barWidth&&(this._chartItemSpanSize=null===(i=t.chartSpec)||void 0===i?void 0:i.barWidth);const h=null===(o=null===(r=t.chartSpec)||void 0===r?void 0:r.axes)||void 0===o?void 0:o.find((t=>"band"===t.type));return(null==h?void 0:h.bandSize)&&(this._chartItemBandSize=null==h?void 0:h.bandSize,this._chartPaddingInner=null!==(a=(0,l.Z)(h.paddingInner)?h.paddingInner[0]:h.paddingInner)&&void 0!==a?a:0,this._chartPaddingOuter=null!==(s=(0,l.Z)(h.paddingOuter)?h.paddingOuter[0]:h.paddingOuter)&&void 0!==s?s:0),this._chartItemSpanSize>0||(null===(u=t.chartSpec.series)||void 0===u||u.find((t=>(t.barWidth&&"number"==typeof t.barWidth&&(this._chartItemSpanSize=t.barWidth),this._chartItemSpanSize>0))),!1)}))),this.handleRowSeriesNumber(t.internalProps.rowSeriesNumber),this.setColumnWidths()}handleRowSeriesNumber(t){var e,n;t&&(Array.isArray(t)?this.rowSeriesNumberColumn=t.map((t=>{var e,n;return{id:"",title:t.title,define:t,cellType:null!==(e=t.cellType)&&void 0!==e?e:"text",headerType:null!==(n=t.cellType)&&void 0!==n?n:"text",width:t.width,style:t.style,format:t.format,field:t.field,icon:t.icon}})):this.rowSeriesNumberColumn=[{id:"",title:t.title,define:t,cellType:null!==(e=t.cellType)&&void 0!==e?e:"text",headerType:null!==(n=t.cellType)&&void 0!==n?n:"text",style:t.style,width:t.width,format:t.format,field:"",icon:t.icon,isChildNode:!1}],this.leftRowSeriesNumberColumn=this.rowSeriesNumberColumn.filter((t=>!0)),this.rightRowSeriesNumberColumn=this.rowSeriesNumberColumn.filter((t=>!1)),this.leftRowSeriesNumberColumnCount=this.leftRowSeriesNumberColumn.length,this.rightRowSeriesNumberColumnCount=this.rightRowSeriesNumberColumn.length)}_generateColHeaderIds(){var t,e,n,i,r,o,a,s;if((null===(t=this.columnDimensionTree.tree.children)||void 0===t?void 0:t.length)>=1){let t=0;if(this.dataset&&!this._table.isPivotChart()&&0===(null!==(n=null===(e=this.dataset.records)||void 0===e?void 0:e.length)&&void 0!==n?n:0)&&!this.dataset.customColTree&&!this.dataset.customRowTree&&this.indicatorsAsCol&&this.columnDimensionTree.totalLevel<this.columnHeaderLevelCount){t=this.columnHeaderLevelCount-this.columnDimensionTree.totalLevel;for(let e=0;e<t;e++)this._columnHeaderCellFullPathIds.unshift([])}this._addHeaders(this._columnHeaderCellFullPathIds,t,this.columnDimensionTree.tree.children,[],this.columnHeaderObjs)}if(this.columnHeaderTitle){this.sharedVar.seqId=Math.max(this.sharedVar.seqId,this._headerObjects.length);const t=++this.sharedVar.seqId,e=Array(this.colCount-this.rowHeaderLevelCount-this.rightFrozenColCount).fill(t);this._columnHeaderCellFullPathIds.unshift(e);const n={id:t,title:"string"==typeof this.columnHeaderTitle.title?this.columnHeaderTitle.title:this.columnsDefine.reduce(((t,e)=>"string"==typeof e?t:t+(t?`/${e.title}`:`${e.title}`)),""),field:void 0,headerType:null!==(r=null===(i=this.columnHeaderTitle)||void 0===i?void 0:i.headerType)&&void 0!==r?r:"text",style:null===(o=this.columnHeaderTitle)||void 0===o?void 0:o.headerStyle,define:{id:t,disableHeaderHover:!!(null===(a=this.columnHeaderTitle)||void 0===a?void 0:a.disableHeaderHover),disableHeaderSelect:!!(null===(s=this.columnHeaderTitle)||void 0===s?void 0:s.disableHeaderSelect)}};this.columnHeaderObjs.push(n),this._headerObjects[t]=n}}_generateRowHeaderIds(){var t,e,n,i,r,o,a,s,l,u;if((null===(t=this.rowDimensionTree.tree.children)||void 0===t?void 0:t.length)>=1)if("tree"===this.rowHierarchyType)this._addHeadersForTreeMode(this._rowHeaderCellFullPathIds_FULL,0,this.rowDimensionTree.tree.children,[],this.rowDimensionTree.totalLevel,!0,this.rowsDefine,this.rowHeaderObjs);else{let t=0;if(this.dataset&&!this._table.isPivotChart()&&0===(null!==(n=null===(e=this.dataset.records)||void 0===e?void 0:e.length)&&void 0!==n?n:0)&&!this.dataset.customColTree&&!this.dataset.customRowTree&&!this.indicatorsAsCol&&this.rowDimensionTree.totalLevel<this.rowHeaderLevelCount){t=this.rowHeaderLevelCount-this.rowDimensionTree.totalLevel;for(let e=0;e<t;e++)this._rowHeaderCellFullPathIds_FULL.unshift([])}this._addHeaders(this._rowHeaderCellFullPathIds_FULL,t,this.rowDimensionTree.tree.children,[],this.rowHeaderObjs)}if(this.rowHeaderTitle){this.sharedVar.seqId=Math.max(this.sharedVar.seqId,this._headerObjects.length);const t=++this.sharedVar.seqId,e=Array(null!==(r=null===(i=this._rowHeaderCellFullPathIds_FULL[0])||void 0===i?void 0:i.length)&&void 0!==r?r:this.rowDimensionTree.tree.size).fill(t);this._rowHeaderCellFullPathIds_FULL.unshift(e);const n={id:t,title:"string"==typeof this.rowHeaderTitle.title?this.rowHeaderTitle.title:this.rowsDefine.reduce(((t,e)=>"string"==typeof e?t:t+(t?`/${e.title}`:`${e.title}`)),""),field:void 0,headerType:null!==(a=null===(o=this.rowHeaderTitle)||void 0===o?void 0:o.headerType)&&void 0!==a?a:"text",style:null===(s=this.rowHeaderTitle)||void 0===s?void 0:s.headerStyle,define:{id:t,disableHeaderHover:!!(null===(l=this.rowHeaderTitle)||void 0===l?void 0:l.disableHeaderHover),disableHeaderSelect:!!(null===(u=this.rowHeaderTitle)||void 0===u?void 0:u.disableHeaderSelect)}};this.rowHeaderObjs.push(n),this._headerObjects[t]=n}}_addHeaders(t,e,n,i,r){const o=this;t[e]||function(e){const n=t[e]=[];if(0===o.colIndex)return n;const i=t[e-1];for(let t=0;t<(null==i?void 0:i.length);t++)n[t]=i[t]}(e);for(let o=0;o<n.length;o++){const a=n[o];(0,s.g3)(a,t,r,i,e,this)}}_addHeadersForTreeMode(t,e,n,i,r,o,a,l){const u=this;t[e]||function(e){const n=t[e]=[];if(0===u.colIndex)return n;const i=t[e-1];for(let t=0;t<(null==i?void 0:i.length);t++)n[t]=i[t]}(e);for(let u=0;u<n.length;u++){const h=n[u];(0,s.py)(h,t,l,i,e,r,o,a,this)}}_addCornerHeaders(t,e,n){var i,r;const o=[];if("all"===this.cornerSetting.titleOnDimension)if(this.indicatorsAsCol){let i=-1;t&&t.forEach(((t,e)=>{var r,a;t===this.indicatorDimensionKey&&(i=e);const s=++this.sharedVar.seqId,l=n.find((e=>"string"!=typeof e&&e.dimensionKey===t)),u={id:s,title:t===this.indicatorDimensionKey?this.indicatorTitle:l?l.title:"axis"===t?"":t,field:t,style:this.cornerSetting.headerStyle,headerType:null!==(r=this.cornerSetting.headerType)&&void 0!==r?r:"text",showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,define:{showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,dimensionKey:t,id:s,value:t,headerEditor:this.cornerSetting.headerEditor,disableHeaderHover:!!this.cornerSetting.disableHeaderHover,disableHeaderSelect:!!this.cornerSetting.disableHeaderSelect},dropDownMenu:null==l?void 0:l.cornerDropDownMenu,headerIcon:null==l?void 0:l.cornerHeaderIcon,pivotInfo:{value:null!==(a=null==l?void 0:l.title)&&void 0!==a?a:"",dimensionKey:t,isPivotCorner:!0},description:null==l?void 0:l.cornerDescription};o[s]=u,this._headerObjects[s]=u,this._cornerHeaderCellFullPathIds[e]||(this._cornerHeaderCellFullPathIds[e]=[]);for(let t=0;t<this.rowHeaderLevelCount;t++)this._cornerHeaderCellFullPathIds[e][t]=s})),e&&e.forEach(((t,e)=>{var r,a;const s=++this.sharedVar.seqId,l=n.find((e=>"string"!=typeof e&&e.dimensionKey===t)),u={id:s,title:t===this.indicatorDimensionKey?this.indicatorTitle:l?l.title:"axis"===t?"":t,field:t,style:this.cornerSetting.headerStyle,headerType:null!==(r=this.cornerSetting.headerType)&&void 0!==r?r:"text",showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,define:{showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,dimensionKey:t,id:s,value:t,headerEditor:this.cornerSetting.headerEditor,disableHeaderHover:!!this.cornerSetting.disableHeaderHover,disableHeaderSelect:!!this.cornerSetting.disableHeaderSelect},dropDownMenu:null==l?void 0:l.cornerDropDownMenu,headerIcon:null==l?void 0:l.cornerHeaderIcon,pivotInfo:{value:null!==(a=null==l?void 0:l.title)&&void 0!==a?a:"",dimensionKey:t,isPivotCorner:!0},description:null==l?void 0:l.cornerDescription};o[s]=u,this._headerObjects[s]=u,this._cornerHeaderCellFullPathIds[i]||(this._cornerHeaderCellFullPathIds[i]=[]),this._cornerHeaderCellFullPathIds[i][e]=s}))}else{let i=-1;e&&e.forEach(((t,e)=>{var r,a;t===this.indicatorDimensionKey&&(i=e);const s=++this.sharedVar.seqId,l=n.find((e=>"string"!=typeof e&&e.dimensionKey===t)),u={id:s,title:t===this.indicatorDimensionKey?this.indicatorTitle:l?l.title:"axis"===t?"":t,field:t,style:this.cornerSetting.headerStyle,headerType:null!==(r=this.cornerSetting.headerType)&&void 0!==r?r:"text",showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,define:{showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,dimensionKey:t,id:s,value:t,headerEditor:this.cornerSetting.headerEditor,disableHeaderHover:!!this.cornerSetting.disableHeaderHover,disableHeaderSelect:!!this.cornerSetting.disableHeaderSelect},dropDownMenu:null==l?void 0:l.cornerDropDownMenu,headerIcon:null==l?void 0:l.cornerHeaderIcon,pivotInfo:{value:null!==(a=null==l?void 0:l.title)&&void 0!==a?a:"",dimensionKey:t,isPivotCorner:!0},description:null==l?void 0:l.cornerDescription};o[s]=u,this._headerObjects[s]=u;for(let t=0;t<this.columnHeaderLevelCount;t++)this._cornerHeaderCellFullPathIds[t]||(this._cornerHeaderCellFullPathIds[t]=[]),this._cornerHeaderCellFullPathIds[t][e]=s})),t&&t.forEach(((t,e)=>{var r,a;const s=++this.sharedVar.seqId,l=n.find((e=>"string"!=typeof e&&e.dimensionKey===t)),u={id:s,title:t===this.indicatorDimensionKey?this.indicatorTitle:l?l.title:"axis"===t?"":t,field:t,style:this.cornerSetting.headerStyle,headerType:null!==(r=this.cornerSetting.headerType)&&void 0!==r?r:"text",showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,define:{showSort:null==l?void 0:l.showSortInCorner,sort:null==l?void 0:l.sort,dimensionKey:t,id:s,value:t,headerEditor:this.cornerSetting.headerEditor,disableHeaderHover:!!this.cornerSetting.disableHeaderHover,disableHeaderSelect:!!this.cornerSetting.disableHeaderSelect},dropDownMenu:null==l?void 0:l.cornerDropDownMenu,headerIcon:null==l?void 0:l.cornerHeaderIcon,pivotInfo:{value:null!==(a=null==l?void 0:l.title)&&void 0!==a?a:"",dimensionKey:t,isPivotCorner:!0},description:null==l?void 0:l.cornerDescription};o[s]=u,this._headerObjects[s]=u,this._cornerHeaderCellFullPathIds[e][i]=s}))}else if("row"===this.cornerSetting.titleOnDimension||"column"===this.cornerSetting.titleOnDimension){const r="row"===(null===(i=this.cornerSetting)||void 0===i?void 0:i.titleOnDimension)?e:t;r&&r.forEach(((t,e)=>{var i,r;const a=++this.sharedVar.seqId,s=n.find((e=>"string"!=typeof e&&e.dimensionKey===t)),l={id:a,title:t===this.indicatorDimensionKey?this.indicatorTitle:s?s.title:"axis"===t?"":t,field:t,style:this.cornerSetting.headerStyle,headerType:null!==(i=this.cornerSetting.headerType)&&void 0!==i?i:"text",showSort:null==s?void 0:s.showSortInCorner,sort:null==s?void 0:s.sort,define:{showSort:null==s?void 0:s.showSortInCorner,sort:null==s?void 0:s.sort,dimensionKey:t,id:a,value:t,headerCustomRender:this.cornerSetting.customRender,headerCustomLayout:this.cornerSetting.customLayout,headerEditor:this.cornerSetting.headerEditor,disableHeaderHover:!!this.cornerSetting.disableHeaderHover,disableHeaderSelect:!!this.cornerSetting.disableHeaderSelect},dropDownMenu:null==s?void 0:s.cornerDropDownMenu,headerIcon:null==s?void 0:s.cornerHeaderIcon,pivotInfo:{value:null!==(r=null==s?void 0:s.title)&&void 0!==r?r:"",dimensionKey:t,isPivotCorner:!0},description:null==s?void 0:s.cornerDescription};if(o[a]=l,this._headerObjects[a]=l,"column"===this.cornerSetting.titleOnDimension){this._cornerHeaderCellFullPathIds[e]||(this._cornerHeaderCellFullPathIds[e]=[]);for(let t=0;t<this.rowHeaderLevelCount;t++)this._cornerHeaderCellFullPathIds[e][t]=a}else if("row"===this.cornerSetting.titleOnDimension)for(let t=0;t<this.columnHeaderLevelCount;t++)this._cornerHeaderCellFullPathIds[t]||(this._cornerHeaderCellFullPathIds[t]=[]),this._cornerHeaderCellFullPathIds[t][e]=a}))}else{const t=++this.sharedVar.seqId,e={id:t,title:"",field:"",style:this.cornerSetting.headerStyle,headerType:null!==(r=this.cornerSetting.headerType)&&void 0!==r?r:"text",define:{dimensionKey:"",id:t,headerCustomRender:this.cornerSetting.customRender,headerCustomLayout:this.cornerSetting.customLayout,disableHeaderHover:!!this.cornerSetting.disableHeaderHover,disableHeaderSelect:!!this.cornerSetting.disableHeaderSelect}};o[t]=e,this._headerObjects[t]=e;for(let e=0;e<this.columnHeaderLevelCount;e++)for(let n=0;n<this.rowHeaderLevelCount;n++)this._cornerHeaderCellFullPathIds[e]||(this._cornerHeaderCellFullPathIds[e]=[]),this._cornerHeaderCellFullPathIds[e][n]=t}return o}generateExtensionRowTree(){this.extensionRows.forEach(((t,e)=>{const n=this._rowHeaderCellFullPathIds_FULL;this._rowHeaderCellFullPathIds_FULL=[],n.forEach(((e,n)=>{const i=e[e.length-1];let r,o;if(this.colIndex=0,"function"==typeof t.rowTree){const n=this.findFullCellIds(e);r=t.rowTree(n.map((t=>({dimensionKey:this._headerObjects[t].field,value:this._headerObjects[t].title}))))}else r=(0,u.Z)(t.rowTree);this._rowHeaderExtensionTree[i]?(this._rowHeaderExtensionTree[i].reset(this._rowHeaderExtensionTree[i].tree.children),o=this._rowHeaderExtensionTree[i]):(o=new s.KO(null!=r?r:[],this.sharedVar,this.rowHierarchyType,void 0),this._rowHeaderExtensionTree[i]=o);const a=[];this._addHeadersForTreeMode(a,0,o.tree.children,[],o.totalLevel,!0,t.rows,this.rowHeaderObjs);for(let t=0;t<a[0].length;t++)this._rowHeaderCellFullPathIds_FULL.push(e.concat(a[0][t]))}))}))}setColumnWidths(){var t,e,n;const i=new Array(this.colCount).fill(void 0);if(this.leftRowSeriesNumberColumnCount&&(i[0]=this.leftRowSeriesNumberColumn[0]),this.showHeader&&this.showRowHeader)if(this.rowHeaderTitle&&(i[0+this.leftRowSeriesNumberColumnCount]={}),"tree"===this.rowHierarchyType){const n=this.rowDimensionKeys[0];if(n){const e=null===(t=this.rowsDefine)||void 0===t?void 0:t.find((t=>"string"!=typeof t&&t.dimensionKey===n));e&&(i[0+(this.rowHeaderTitle?1:0)+this.leftRowSeriesNumberColumnCount]={width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth})}null===(e=this._extensionRowDimensionKeys)||void 0===e||e.forEach(((t,e)=>{var n;const r=t[0];if(r){const t=null===(n=this.extensionRows[e].rows)||void 0===n?void 0:n.find((t=>"string"!=typeof t&&t.dimensionKey===r));t&&(i[e+1+(this.rowHeaderTitle?1:0)+this.leftRowSeriesNumberColumnCount]={width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth})}}))}else(this.rowDimensionTree.totalLevel>0?this.rowDimensionTree.dimensionKeysIncludeVirtual.valueArr():this.rowsDefine.map((t=>"string"==typeof t?t:t.dimensionKey))).forEach(((t,e)=>{var n;const r=null===(n=this.rowsDefine)||void 0===n?void 0:n.find((e=>"string"!=typeof e&&e.dimensionKey===t));r&&(i[e+(this.rowHeaderTitle?1:0)+this.leftRowSeriesNumberColumnCount]={width:r.width,minWidth:r.minWidth,maxWidth:r.maxWidth})}));if(this.indicatorsAsCol)for(let t=this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount;t<this.colCount;t++){const e=this.getBody(t,this.columnHeaderLevelCount);i[t]={width:null==e?void 0:e.width,minWidth:null==e?void 0:e.minWidth,maxWidth:null==e?void 0:e.maxWidth}}else{let t,e,r,o=0;null===(n=this._indicators)||void 0===n||n.forEach(((n,i)=>{var a,s;"number"==typeof n.width?o=Math.max(n.width,o):"auto"===n.width&&(r=!0),"number"==typeof n.minWidth&&(e=Math.max(n.minWidth,null!==(a=e)&&void 0!==a?a:0)),"number"==typeof n.maxWidth&&(t=Math.min(n.maxWidth,null!==(s=t)&&void 0!==s?s:Number.MAX_VALUE))})),o=o>0?o:r?"auto":void 0,i.fill({width:o,minWidth:e,maxWidth:t},this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount,this.colCount-this.rightFrozenColCount)}this._columnWidths=i}get columnWidths(){return this._columnWidths}getColumnWidthDefined(t){return this._columnWidths[t]}get showHeader(){return this._showHeader}set showHeader(t){this._showHeader=t}get showColumnHeader(){return this._showColumnHeader}set showColumnHeader(t){this._showColumnHeader=t}get showRowHeader(){return this._showRowHeader}set showRowHeader(t){this._showRowHeader=t}get columnHeaderTitle(){return this._columnHeaderTitle}set columnHeaderTitle(t){this._columnHeaderTitle=t}get rowHeaderTitle(){return this._rowHeaderTitle}set rowHeaderTitle(t){this._rowHeaderTitle=t}getHeaderFieldKey(t,e){}getCellLocation(t,e){return this.isCornerHeader(t,e)?"cornerHeader":this.isColumnHeader(t,e)?"columnHeader":this.isRowHeader(t,e)?"rowHeader":"body"}isHeader(t,e){return t>=this.leftRowSeriesNumberColumnCount&&t<this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount||e>=0&&e<this.columnHeaderLevelCount||t>=this.colCount-this.rightHeaderColCount||e>=this.rowCount-this.bottomHeaderRowCount}isCornerHeader(t,e){return t>=0&&t<this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount&&e>=0&&e<this.columnHeaderLevelCount}isColumnHeader(t,e){return t>=this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount&&e>=0&&e<this.columnHeaderLevelCount}isRowHeader(t,e){return t>=this.leftRowSeriesNumberColumnCount&&t<this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount&&e>=this.columnHeaderLevelCount}isFrozen(t,e){return this.isFrozenColumn(t)||this.isRightFrozenColumn(t)||this.isBottomFrozenRow(e)||this.isFrozenRow(e)||this.isSeriesNumberInBody(t,e)||this.isSeriesNumberInHeader(t,e)}isFrozenColumn(t,e){if((0,h.Z)(e)){if(t>=0&&t<this.frozenColCount&&e>=this.frozenRowCount&&e<this.rowCount-this.bottomFrozenRowCount)return!0}else if(this.frozenColCount>0&&t>=0&&t<this.frozenColCount)return!0;return!1}isRightFrozenColumn(t,e){if((0,h.Z)(e)){if(t>=this.colCount-this.rightFrozenColCount&&e>=this.frozenRowCount&&e<this.rowCount-this.bottomFrozenRowCount)return!0}else if(this.rightFrozenColCount>0&&t>=this.colCount-this.rightFrozenColCount)return!0;return!1}isFrozenRow(t,e){if((0,h.Z)(e)){if(e>=0&&e<this.frozenRowCount&&t>=this.frozenColCount&&t<this.colCount-this.rightFrozenColCount)return!0}else if(e=t,this.frozenRowCount>0&&e>=0&&e<this.frozenRowCount)return!0;return!1}isBottomFrozenRow(t,e){if((0,h.Z)(e)){if(e>=this.rowCount-this.bottomFrozenRowCount&&t>=this.frozenColCount&&t<this.colCount-this.rightFrozenColCount)return!0}else if(e=t,this.bottomFrozenRowCount>0&&e>=this.rowCount-this.bottomFrozenRowCount)return!0;return!1}isLeftTopCorner(t,e){return t>=0&&t<this.frozenColCount&&e>=0&&e<this.frozenRowCount}isLeftBottomCorner(t,e){return t>=0&&t<this.frozenColCount&&e>=this.rowCount-this.bottomFrozenRowCount}isRightTopCorner(t,e){return t>=this.colCount-this.rightFrozenColCount&&e>=0&&e<this.frozenRowCount}isRightBottomCorner(t,e){return t>=this.colCount-this.rightFrozenColCount&&e>=this.rowCount-this.bottomFrozenRowCount}getColumnHeaderRange(){return{start:{col:this.rowHeaderLevelCount,row:0},end:{col:this.colCount-1,row:this.columnHeaderLevelCount-1}}}getRowHeaderRange(){return{start:{col:0,row:this.columnHeaderLevelCount},end:{col:this.rowHeaderLevelCount-1,row:this.rowCount-1}}}getCornerHeaderRange(){return{start:{col:0,row:0},end:{col:this.rowHeaderLevelCount-1,row:this.columnHeaderLevelCount-1}}}getBodyRange(){return{start:{col:this.rowHeaderLevelCount,row:this.columnHeaderLevelCount},end:{col:this.colCount-1,row:this.rowCount-1}}}resetCellIds(){}get frozenColCount(){return this._table.internalProps.frozenColCount?this.colCount>this._table.internalProps.frozenColCount?this._table.internalProps.frozenColCount:this.colCount:0}get frozenRowCount(){return this._table.internalProps.frozenRowCount?this.rowCount>=this._table.internalProps.frozenRowCount?this._table.internalProps.frozenRowCount:this.rowCount:0}get headerLevelCount(){return this.columnHeaderLevelCount}resetColumnHeaderLevelCount(){var t,e,n,i,r,o,s,l,u,h,c;if(this.showHeader&&this.showColumnHeader){if(this._table.isPivotChart()&&this.indicatorsAsCol&&!(null===(e=null===(t=this.dataset)||void 0===t?void 0:t.colKeys)||void 0===e?void 0:e.length)&&0===(null===(i=null===(n=this.columnDimensionTree)||void 0===n?void 0:n.tree)||void 0===i?void 0:i.level)&&!this.hasTwoIndicatorAxes)return void(this.columnHeaderLevelCount=0);let d=this.indicatorsAsCol&&this.hideIndicatorName&&this.colDimensionKeys[this.colDimensionKeys.length-1]===this.indicatorDimensionKey?this.columnDimensionTree.totalLevel-1:this.columnDimensionTree.totalLevel;return 0===d&&this.dataset&&!(null===(r=this.dataset.customColTree)||void 0===r?void 0:r.length)?"row"===this.cornerSetting.titleOnDimension&&this.cornerSetting.forceShowHeader?d=1:this._table.isPivotChart()||0!==(null!==(s=null===(o=this.dataset.records)||void 0===o?void 0:o.length)&&void 0!==s?s:0)||"column"!==this.cornerSetting.titleOnDimension&&"all"!==this.cornerSetting.titleOnDimension||(d=null!==(l=this.columnsDefine.length)&&void 0!==l?l:0):!this.dataset||this._table.isPivotChart()||0!==(null!==(h=null===(u=this.dataset.records)||void 0===u?void 0:u.length)&&void 0!==h?h:0)||this.dataset.customColTree||"column"!==this.cornerSetting.titleOnDimension&&"all"!==this.cornerSetting.titleOnDimension||(d=null!==(c=this.columnsDefine.length)&&void 0!==c?c:0,!this.hideIndicatorName&&this.indicatorsAsCol&&d++),this.columnHeaderTitle&&(d+=1),this._table.isPivotChart()&&this.indicatorsAsCol&&!this.hasTwoIndicatorAxes&&(0,a.eW)(this.indicatorsDefine)&&(d-=1),void(this.columnHeaderLevelCount=d)}this.columnHeaderLevelCount=this.indicatorsAsCol?this.hideIndicatorName?0:1:0}resetRowHeaderLevelCount(){var t,e,n,i,r,o,a,s;if(this.showHeader&&this.showRowHeader){if("tree"===this.rowHierarchyType){const n=null!==(e=null===(t=this.extensionRows)||void 0===t?void 0:t.length)&&void 0!==e?e:0;return this.rowHeaderTitle?void(this.rowHeaderLevelCount=2+n):void(this.rowHeaderLevelCount=1+n)}const l=this.rowDimensionTree.totalLevel;let u=l;return 0===u&&this.dataset&&!(null===(n=this.dataset.customRowTree)||void 0===n?void 0:n.length)?"column"===this.cornerSetting.titleOnDimension&&this.cornerSetting.forceShowHeader?u=1:this._table.isPivotChart()||0!==(null!==(r=null===(i=this.dataset.records)||void 0===i?void 0:i.length)&&void 0!==r?r:0)||"row"!==this.cornerSetting.titleOnDimension&&"all"!==this.cornerSetting.titleOnDimension||(u=null!==(o=this.rowsDefine.length)&&void 0!==o?o:0):!this.dataset||this._table.isPivotChart()||0!==(null!==(s=null===(a=this.dataset.records)||void 0===a?void 0:a.length)&&void 0!==s?s:0)||this.dataset.customRowTree||"row"!==this.cornerSetting.titleOnDimension&&"all"!==this.cornerSetting.titleOnDimension||(u=this.rowsDefine.length,this.hideIndicatorName||this.indicatorsAsCol||u++),!this.indicatorsAsCol&&this.hideIndicatorName&&this.rowDimensionKeys[this.rowDimensionKeys.length-1]===this.indicatorDimensionKey&&(u=l-1),this.rowHeaderTitle&&(u+=1),void(this.rowHeaderLevelCount=u)}this.rowHeaderLevelCount=this.indicatorsAsCol||this.hideIndicatorName?0:1}get columnHeaderLevelCount(){return this._columnHeaderLevelCount}set columnHeaderLevelCount(t){this._columnHeaderLevelCount=t}get rowHeaderLevelCount(){return this._rowHeaderLevelCount}set rowHeaderLevelCount(t){this._rowHeaderLevelCount=t}get colCount(){var t,e,n;return(this.columnDimensionTree.totalLevel>0||this._table.isPivotChart()||(null===(t=this.dataset.records)||void 0===t?void 0:t.length)>0||this.dataset.records&&!Array.isArray(this.dataset.records)?null!==(n=null===(e=this._columnHeaderCellIds[0])||void 0===e?void 0:e.length)&&void 0!==n?n:this.columnDimensionTree.tree.size:0)+this.rowHeaderLevelCount+this.rightHeaderColCount+this.leftRowSeriesNumberColumnCount}get rowCount(){var t,e,n,i;return((this._table.records||this.dataset.records)&&(!Array.isArray(this._table.records)||this._table.records.length>0)&&(null===(t=this._indicators)||void 0===t?void 0:t.length)>0&&!(null===(e=this._rowHeaderCellIds)||void 0===e?void 0:e.length)?1:null!==(i=null===(n=this._rowHeaderCellIds)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+this.columnHeaderLevelCount+this.bottomHeaderRowCount}get bodyRowSpanCount(){return this.rowDimensionTree.tree.size}get bottomFrozenRowCount(){if(!this._table.isPivotChart())return this._table.internalProps.bottomFrozenRowCount?this.rowCount-this.headerLevelCount>=this._table.internalProps.bottomFrozenRowCount?this._table.internalProps.bottomFrozenRowCount:this.rowCount-this.headerLevelCount:0;if(this.indicatorKeys.length>=1&&(0,a.eW)(this.indicatorsDefine)){const t=this._table.pivotChartAxes.find((t=>"bottom"===t.orient));return!1===(null==t?void 0:t.visible)?0:(this.indicatorsAsCol,1)}return 0}get rightFrozenColCount(){if(!this._table.isPivotChart())return this._table.internalProps.rightFrozenColCount?this.colCount-this.rowHeaderLevelCount>=this._table.internalProps.rightFrozenColCount?this._table.internalProps.rightFrozenColCount:this.colCount-this.rowHeaderLevelCount:0;const t=this._table.pivotChartAxes.find((t=>"right"===t.orient));return!1===(null==t?void 0:t.visible)||this.indicatorsAsCol?0:this.hasTwoIndicatorAxes?1:0}get bodyRowCount(){return this.rowCount-this.bottomFrozenRowCount-this.headerLevelCount}get bodyColCount(){return this.colCount-this.rightFrozenColCount-this.rowHeaderLevelCount}get headerObjects(){return this._headerObjects}get columnObjects(){return this._indicators}getCellId(t,e){var n,i,r,o,a;if(e>=0&&t>=0){if(this.isSeriesNumber(t,e))return"";if(this.isCornerHeader(t,e))return null===(n=this._cornerHeaderCellIds[e])||void 0===n?void 0:n[t-this.leftRowSeriesNumberColumnCount];if(this.isColumnHeader(t,e))return null===(i=this._columnHeaderCellIds[e])||void 0===i?void 0:i[t-this.rowHeaderLevelCount-this.leftRowSeriesNumberColumnCount];if(this.isRowHeader(t,e))return null===(r=this._rowHeaderCellIds[e-this.columnHeaderLevelCount])||void 0===r?void 0:r[t-this.leftRowSeriesNumberColumnCount];if(this.isRightFrozenColumn(t,e))return null===(o=this._rowHeaderCellIds[e-this.columnHeaderLevelCount])||void 0===o?void 0:o[this.rowHeaderLevelCount-1];if(this.isBottomFrozenRow(t,e))return null===(a=this._columnHeaderCellIds[this.columnHeaderLevelCount-1])||void 0===a?void 0:a[t-this.rowHeaderLevelCount-this.leftRowSeriesNumberColumnCount]}}getHeader(t,e){var n;if(this.isSeriesNumberInHeader(t,e))return this.getSeriesNumberHeader(t,e);const i=this.getCellId(t,e);return null!==(n=this._headerObjectMap[i])&&void 0!==n?n:{id:void 0,field:"",headerType:"text",define:void 0}}getHeaderField(t,e){var n,i;const r=this.getCellId(t,e);return(null===(n=this._headerObjectMap[r])||void 0===n?void 0:n.field)||(null===(i=this.getBody(t,e))||void 0===i?void 0:i.field)}getHeaderCellAdressById(t){for(let e=0;e<this._columnHeaderCellIds.length;e++){const n=this._columnHeaderCellIds[e];for(let i=0;i<n.length;i++)if(n[i]===t)return{col:i+this._table.frozenColCount,row:e}}for(let e=0;e<this._rowHeaderCellIds.length;e++){const n=this._rowHeaderCellIds[e];for(let i=0;i<n.length;i++)if(n[i]===t)return{col:i,row:e+this._table.frozenRowCount}}for(let e=0;e<this._cornerHeaderCellIds.length;e++){const n=this._cornerHeaderCellIds[e];for(let i=0;i<n.length;i++)if(n[i]===t)return{col:i,row:e}}}getHeaderCellAddressByField(t){const e=this.headerObjects.find((e=>e&&e.field===t));return e&&this.getHeaderCellAdressById(e.id)}getBody(t,e){var n,i,r,o,a,s,l,u,c,d;const f=this.getBodyWidthCache(t,e);if(f)return f;if(this.isSeriesNumber(t,e)){const n=this.getSeriesNumberBody(t,e);return this.setBodyWidthCache(t,e,n),n}const p=this.getCellHeaderPaths(t,e);if(this.indicatorsAsCol){const s=null===(i=null===(n=p.colHeaderPaths)||void 0===n?void 0:n.find((t=>t.indicatorKey)))||void 0===i?void 0:i.indicatorKey,l=(0,h.Z)(s)&&null!==(a=null!==(o=null===(r=this._indicators)||void 0===r?void 0:r.find((t=>t.indicatorKey===s)))&&void 0!==o?o:this._indicators[0])&&void 0!==a?a:{id:"",field:void 0,indicatorKey:void 0,cellType:"text",define:void 0};return this.setBodyWidthCache(t,e,l),l}const g=null===(l=null===(s=p.rowHeaderPaths)||void 0===s?void 0:s.find((t=>t.indicatorKey)))||void 0===l?void 0:l.indicatorKey,m=(0,h.Z)(g)&&null!==(d=null!==(c=null===(u=this._indicators)||void 0===u?void 0:u.find((t=>t.indicatorKey===g)))&&void 0!==c?c:this._indicators[0])&&void 0!==d?d:{id:"",field:void 0,indicatorKey:void 0,cellType:"text",define:void 0};return this.setBodyWidthCache(t,e,m),m}getCellRange(t,e){var n,i;const r={start:{col:t,row:e},end:{col:t,row:e}};if(!this.isHeader(t,e)||-1===t||-1===e)return r;if(this.isRightFrozenColumn(t,e)||this.isBottomFrozenRow(t,e))return r;if(this._table.isPivotChart()){if(this.isLeftBottomCorner(t,e))return{start:{col:0,row:this.rowCount-this.bottomFrozenRowCount},end:{col:this.frozenColCount-1,row:this.rowCount-1}};if(this.isRightTopCorner(t,e))return{start:{col:this.colCount-this.rightFrozenColCount,row:0},end:{col:this.colCount-1,row:this.frozenRowCount-1}};if(this.isRightBottomCorner(t,e))return{start:{col:this.colCount-this.rightFrozenColCount,row:this.rowCount-this.bottomFrozenRowCount},end:{col:this.colCount-1,row:this.rowCount-1}}}for(let n=0;n<this._largeCellRangeCache.length;n++){const i=this._largeCellRangeCache[n];if(t>=i.start.col&&t<=i.end.col&&e>=i.start.row&&e<=i.end.row)return i}if(this.isHeader(t,e)&&-1!==t&&-1!==e){const o=this.getCellId(t,e);for(let n=t-1;n>=0&&o===this.getCellId(n,e);n--)r.start.col=n;for(let i=t+1;i<(null!==(n=this.colCount)&&void 0!==n?n:0)&&o===this.getCellId(i,e);i++)r.end.col=i;for(let n=e-1;n>=0&&o===this.getCellId(t,n);n--)r.start.row=n;for(let n=e+1;n<(null!==(i=this.rowCount)&&void 0!==i?i:0)&&!(o!==this.getCellId(t,n)||this.isSeriesNumberInHeader(t,e)&&n>=this.columnHeaderLevelCount);n++)r.end.row=n}return(r.end.col-r.start.col>100||r.end.row-r.start.row>100)&&this._largeCellRangeCache.push(r),r}isCellRangeEqual(t,e,n,i){const r=this.getCellRange(t,e),o=this.getCellRange(n,i);return r.start.col===o.start.col&&r.end.col===o.end.col&&r.start.row===o.start.row&&r.end.row===o.end.row}getBodyIndexByRow(t){return t<this.columnHeaderLevelCount||t>=this.rowCount-this.bottomHeaderRowCount?-1:t-this.columnHeaderLevelCount}get bottomHeaderRowCount(){return this._table.isPivotChart()?this.bottomFrozenRowCount:0}get rightHeaderColCount(){return this._table.isPivotChart()?this.rightFrozenColCount:0}getBodyIndexByCol(t){return t<this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount||t>=this.colCount-this.rightHeaderColCount?-1:t-this.rowHeaderLevelCount-this.leftRowSeriesNumberColumnCount}getRecordStartRowByRecordIndex(t){return this.columnHeaderLevelCount+t}getRecordShowIndexByCell(t,e){}getCellHeaderPathsWithTreeNode(t,e){let n=-1;for(let i=0;i<this._largeCellRangeCache.length;i++){const r=this._largeCellRangeCache[i];if(t>=r.start.col&&t<=r.end.col&&e>=r.start.row&&e<=r.end.row){n=i;break}}let i=this.getColHeaderPathCache(t,e),r=this.getRowHeaderPathCache(t,e);const o=this.getBodyIndexByCol(t),a=this.getBodyIndexByRow(e)+this.currentPageStartIndex;if(!i&&e>=0&&o>=0&&(i=this.columnDimensionTree.getTreePath(o,this.showHeader&&this.showColumnHeader?e-(this.columnHeaderTitle?1:0):this.columnDimensionTree.totalLevel),this.setColHeaderPathCache(t,e,i)),!r&&t>=0&&a>=0){if(r=[],"tree"===this.rowHierarchyType){const t=this._rowHeaderCellFullPathIds[a];let e=this.rowDimensionTree,n=0;for(;e;){const i=[];let o=t[n];for(i.push(o);;){const t=this._headerObjectMap[o];if(!(null==t?void 0:t.parentCellId))break;i.unshift(t.parentCellId),o=t.parentCellId}const a=e.getTreePathByCellIds(i);r.push(...a),e=this._rowHeaderExtensionTree[t[n]],n++}}else r=this.rowDimensionTree.getTreePath(a,this.showHeader&&this.showRowHeader?t-(this.rowHeaderTitle?1:0)-this.leftRowSeriesNumberColumnCount:this.rowDimensionTree.totalLevel);this.setRowHeaderPathCache(t,e,r)}return{colHeaderPaths:i,rowHeaderPaths:r,cellLocation:this.getCellLocation(t,e)}}getCellHeaderPaths(t,e){var n,i;const r=this.getCellHeaderPathsWithTreeNode(t,e),o={colHeaderPaths:[],rowHeaderPaths:[],cellLocation:r.cellLocation};return null===(n=r.colHeaderPaths)||void 0===n||n.forEach((t=>{var e,n,i;const r={};r.dimensionKey=t.dimensionKey,r.indicatorKey=t.indicatorKey,r.value=null!==(i=null!==(e=t.value)&&void 0!==e?e:null===(n=this.getIndicatorInfoByIndicatorKey(t.indicatorKey))||void 0===n?void 0:n.title)&&void 0!==i?i:"",r.virtual=t.virtual,o.colHeaderPaths.push(r)})),null===(i=r.rowHeaderPaths)||void 0===i||i.forEach((t=>{var e,n,i;if("axis"!==t.dimensionKey){const r={};r.dimensionKey=t.dimensionKey,r.indicatorKey=t.indicatorKey,r.value=null!==(i=null!==(e=t.value)&&void 0!==e?e:null===(n=this.getIndicatorInfoByIndicatorKey(t.indicatorKey))||void 0===n?void 0:n.title)&&void 0!==i?i:"",r.virtual=t.virtual,o.rowHeaderPaths.push(r)}})),o}getIndicatorInfoByIndicatorKey(t){var e;return null===(e=this.indicatorsDefine)||void 0===e?void 0:e.find((e=>"string"!=typeof e&&!!t&&e.indicatorKey===t))}findFullCellIds(t){const e=[];for(let n=0;n<t.length;n++){let i=t[n];for(e.push(i);;){const t=this._headerObjectMap[i];if(!(null==t?void 0:t.parentCellId))break;e.unshift(t.parentCellId),i=t.parentCellId}}return e}getHeaderDimension(t,e){var n,i,r;if(this.isHeader(t,e)){const o=this.getHeader(t,e);return null!==(i=null===(n=this.rowsDefine)||void 0===n?void 0:n.find((t=>"string"!=typeof t&&t.dimensionKey===o.field)))&&void 0!==i?i:null===(r=this.columnsDefine)||void 0===r?void 0:r.find((t=>"string"!=typeof t&&t.dimensionKey===o.field))}}isColumnIndicatorHeader(t,e){return"column"===this._indicatorShowType&&e===this.columnHeaderLevelCount-1&&t>=this.rowHeaderLevelCount}isRowIndicatorHeader(t,e){return"row"===this._indicatorShowType&&t===this.rowHeaderLevelCount-1&&e>=this.columnHeaderLevelCount}isIndicatorHeader(t,e){return this.isColumnIndicatorHeader(t,e)||this.isRowIndicatorHeader(t,e)}toggleHierarchyState(t,e){var n,o,a,s,l,u;this.colIndex=0;const h=this._rowHeaderCellFullPathIds_FULL.slice(0),c=h.map(((e,n)=>({col:t,row:n+this.columnHeaderLevelCount}))),d=this.getHeader(t,e);if(d.define.hierarchyState=d.define.hierarchyState===r.g.collapse?r.g.expand:r.g.collapse,this.rowDimensionTree.reset(this.rowDimensionTree.tree.children),this._rowHeaderCellFullPathIds_FULL=[],this.rowDimensionKeys=this.rowDimensionTree.dimensionKeysIncludeVirtual.valueArr(),this.fullRowDimensionKeys=[],this.fullRowDimensionKeys=this.fullRowDimensionKeys.concat(this.rowDimensionKeys),this._addHeadersForTreeMode(this._rowHeaderCellFullPathIds_FULL,0,this.rowDimensionTree.tree.children,[],this.rowDimensionTree.totalLevel,!0,this.rowsDefine,this.rowHeaderObjs),this.rowHeaderTitle){const t=++this.sharedVar.seqId,e=Array(this.rowCount-this.columnHeaderLevelCount).fill(t);this._rowHeaderCellFullPathIds_FULL.unshift(e);const i={id:t,title:"string"==typeof this.rowHeaderTitle.title?this.rowHeaderTitle.title:this.rowsDefine.reduce(((t,e)=>"string"==typeof e?t:t+(t?`/${e.title}`:`${e.title}`)),""),field:void 0,headerType:null!==(o=null===(n=this.rowHeaderTitle)||void 0===n?void 0:n.headerType)&&void 0!==o?o:"text",style:null===(a=this.rowHeaderTitle)||void 0===a?void 0:a.headerStyle,define:{field:"",headerType:"text",cellType:"text",disableHeaderHover:!!(null===(s=this.rowHeaderTitle)||void 0===s?void 0:s.disableHeaderHover),disableHeaderSelect:!!(null===(l=this.rowHeaderTitle)||void 0===l?void 0:l.disableHeaderSelect)}};this.rowHeaderObjs.push(i),this._headerObjects[t]=i}this._rowHeaderCellFullPathIds_FULL=(0,i.p4)(this._rowHeaderCellFullPathIds_FULL),"tree"===this.rowHierarchyType&&(null===(u=this.extensionRows)||void 0===u?void 0:u.length)>=1&&this.generateExtensionRowTree(),this.colIndex=0,this._headerObjectMap=this._headerObjects.reduce(((t,e)=>(t[e.id]=e,t)),{}),this._CellHeaderPathMap=new Map,this._largeCellRangeCache.length=0;const f=function(t,e,n,i,r,o){const a=o.columnHeaderLevelCount,s=[],l=[];for(let t=0;t<n.length;t++)i.includes(n[t])||l.push(r[t]);for(let e=0;e<i.length;e++)if(!n.includes(i[e])){const n={col:t,row:a+e};s.push(n)}let u=o.getParentCellId(t,e),h=o.getRowHeaderCellAddressByCellId(u);const c=[];for(h&&c.push(h);u;)u=o.getParentCellId(h.col,h.row),u&&(h=o.getRowHeaderCellAddressByCellId(u),c.push(h));return{addCellPositions:s,removeCellPositions:l,updateCellPositions:c}}(t,e,h.map((e=>e[t-this.leftRowSeriesNumberColumnCount])),this._rowHeaderCellFullPathIds_FULL.map((e=>e[t-this.leftRowSeriesNumberColumnCount])),c,this);return this.generateCellIdsConsiderHideHeader(),this.setPagination(this.pagination),f}isHeaderForColWidth(t,e){return this.isHeader(t,e)}getHeaderForColWidth(t,e){return this.getHeader(t,e)}getPivotCellAdress(t){var e;if(!Array.isArray(t))return;let n,i,r=this.rowTree,o=this.columnTree;for(let a=0;a<t.length;a++){const s=t[a];if((s.isPivotCorner||!(0,h.Z)(s.value))&&a===t.length-1){if("row"===(null===(e=null==this?void 0:this.cornerSetting)||void 0===e?void 0:e.titleOnDimension)){let t=0;return"grid"===this.rowHierarchyType&&(t=this.rowDimensionKeys.indexOf(s.dimensionKey)),-1===t?void 0:{col:(this.rowHeaderTitle?t+1:t)+this.leftRowSeriesNumberColumnCount,row:0}}const t=this.colDimensionKeys.indexOf(s.dimensionKey);return-1===t?void 0:{col:0+this.leftRowSeriesNumberColumnCount,row:this.columnHeaderTitle?t+1:t}}let l=!1;for(let t=0;t<o.length;t++){const e=o[t];if(((0,h.Z)(s.dimensionKey)&&e.dimensionKey===s.dimensionKey||(0,h.Z)(s.indicatorKey)&&e.indicatorKey===s.indicatorKey)&&e.value===s.value){o=e.children,i=e,l=!0;break}}if(!l)for(let t=0;t<r.length;t++){const e=r[t];if(((0,h.Z)(s.dimensionKey)&&e.dimensionKey===s.dimensionKey||(0,h.Z)(s.indicatorKey)&&e.indicatorKey===s.indicatorKey)&&e.value===s.value){r=e.children,n=e;break}}}let a=0,s=0;if(n){s=this.columnHeaderLevelCount;const{startInTotal:t,level:e}=n;return s+=t,a="grid"===this.rowHierarchyType?(this.rowHeaderTitle?e+1:e)+this.leftRowSeriesNumberColumnCount:0+this.leftRowSeriesNumberColumnCount,{col:a,row:s}}if(i){a=this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount;const{startInTotal:t,level:e}=i;return a+=t,s=this.columnHeaderTitle?e+1:e,{col:a,row:s}}}getPivotDimensionInfo(t,e){var n;const{colHeaderPaths:i,rowHeaderPaths:r}=this.getCellHeaderPaths(t,e),o=[];return i.length?i.forEach(((t,e)=>{o.push({dimensionKey:t.dimensionKey,value:t.value,isPivotCorner:!1,indicatorKey:t.indicatorKey})})):r.length?r.forEach(((t,e)=>{o.push({dimensionKey:t.dimensionKey,value:t.value,isPivotCorner:!1,indicatorKey:t.indicatorKey})})):this.isCornerHeader(t,e)&&("row"===(null===(n=null==this?void 0:this.cornerSetting)||void 0===n?void 0:n.titleOnDimension)?o.push({dimensionKey:this.rowDimensionKeys[(this.rowHeaderTitle?t-1:t)-this.leftRowSeriesNumberColumnCount],isPivotCorner:!0}):o.push({dimensionKey:this.colDimensionKeys[this.columnHeaderTitle?e-1:e],isPivotCorner:!0})),o}getIndicatorKey(t,e){var n;return null===(n=this.getBody(t,e))||void 0===n?void 0:n.indicatorKey}getParentCellId(t,e){if(0!==e)return this.isColumnHeader(t,e)?this.getCellId(t,e-1):this.isRowHeader(t,e)?this.getCellId(t-1,e):void 0}getRowHeaderCellAddressByCellId(t){let e,n;if(this._rowHeaderCellIds.find(((i,r)=>!!i.find(((n,i)=>n===t&&(e=i,!0)))&&(n=r,!0))),(0,h.Z)(e)&&(0,h.Z)(n))return{col:e,row:n+this.columnHeaderLevelCount}}canMoveHeaderPosition(t,e){if(this.isSeriesNumberInHeader(e.col,e.row)||this.isSeriesNumberInHeader(t.col,t.row))return!1;if(this.isCornerHeader(e.col,e.row))return!1;if(t.col<0||t.row<0||e.col<0||e.row<0)return!1;this.isSeriesNumberInBody(e.col,e.row)&&this.isSeriesNumberInBody(t.col,t.row)&&(t.col=t.col+this.leftRowSeriesNumberColumnCount+this.rowHeaderLevelCount-1,e.col=e.col+this.leftRowSeriesNumberColumnCount+this.rowHeaderLevelCount-1);const n=this.getCellRange(t.col,t.row);if(this.isColumnHeader(t.col,t.row))return this.getParentCellId(t.col,n.start.row)===this.getParentCellId(e.col,n.start.row);if(this.isRowHeader(t.col,t.row)){if("tree"!==this.rowHierarchyType)return this.getParentCellId(n.start.col,t.row)===this.getParentCellId(n.start.col,e.row);{const n=(0,u.Z)(this.getCellHeaderPathsWithTreeNode(t.col,t.row).rowHeaderPaths),i=(0,u.Z)(this.getCellHeaderPathsWithTreeNode(e.col,e.row).rowHeaderPaths);if(n.pop(),i.pop(),n.length<=i.length){if(n.length===i.length)return!n.find(((t,e)=>t.dimensionKey!==i[e].dimensionKey||t.value!==i[e].value));if(n.length>0)for(let t=0;t<n.length;t++)if(n[t].startInTotal!==i[t].startInTotal)return!1;return!0}}}return!1}moveHeaderPosition(t,e){if(this.canMoveHeaderPosition(t,e)&&!this.isCellRangeEqual(t.col,t.row,e.col,e.row)){const n=this.getCellRange(t.col,t.row);if(this.isColumnHeader(t.col,t.row)){const i=n.end.col-n.start.col+1;let r;const o=this.getCellRange(e.col,n.start.row);if(r=e.col>=t.col?o.end.col-i+1:o.start.col,r===n.start.col)return null;for(let t=0;t<this._columnHeaderCellFullPathIds.length;t++){const e=this._columnHeaderCellFullPathIds[t].splice(n.start.col-this.rowHeaderLevelCount-this.leftRowSeriesNumberColumnCount,i);e.unshift(r-this.rowHeaderLevelCount-this.leftRowSeriesNumberColumnCount,0),Array.prototype.splice.apply(this._columnHeaderCellFullPathIds[t],e)}const a=this._columnWidths.splice(n.start.col-this.leftRowSeriesNumberColumnCount,i);return a.unshift(r-this.leftRowSeriesNumberColumnCount,0),Array.prototype.splice.apply(this._columnWidths,a),this.columnDimensionTree.movePosition(this.getCellHeaderPathsWithTreeNode(t.col,t.row).colHeaderPaths.length-1,n.start.col-this.rowHeaderLevelCount-this.leftRowSeriesNumberColumnCount,o.start.col-this.rowHeaderLevelCount-this.leftRowSeriesNumberColumnCount),this.columnDimensionTree.reset(this.columnDimensionTree.tree.children),this._CellHeaderPathMap=new Map,this._largeCellRangeCache.length=0,{sourceIndex:n.start.col,targetIndex:r,sourceSize:i,targetSize:o.end.col-o.start.col+1,moveType:"column"}}if(this.isRowHeader(t.col,t.row)){let i;const r=this.getCellHeaderPathsWithTreeNode(t.col,t.row).rowHeaderPaths,o=this.getCellHeaderPathsWithTreeNode(e.col,e.row).rowHeaderPaths,a=r[r.length-1],s=o[r.length-1],l=a.size;if(i=e.row>=t.row?s.startInTotal+s.size-l:s.startInTotal,i===n.start.row-this.columnHeaderLevelCount)return null;const u=this._rowHeaderCellIds.splice(n.start.row-this.columnHeaderLevelCount,l);u.unshift(i-this.currentPageStartIndex,0),Array.prototype.splice.apply(this._rowHeaderCellIds,u);const h=this._rowHeaderCellFullPathIds.splice(n.start.row-this.columnHeaderLevelCount,l);h.unshift(i-this.currentPageStartIndex,0),Array.prototype.splice.apply(this._rowHeaderCellFullPathIds,h);const c=this._rowHeaderCellIds_FULL.splice(n.start.row-this.columnHeaderLevelCount+this.currentPageStartIndex,l);c.unshift(i,0),Array.prototype.splice.apply(this._rowHeaderCellIds_FULL,c);const d=this._rowHeaderCellFullPathIds_FULL.splice(n.start.row-this.columnHeaderLevelCount+this.currentPageStartIndex,l);return d.unshift(i,0),Array.prototype.splice.apply(this._rowHeaderCellFullPathIds_FULL,d),this.rowDimensionTree.movePosition(r.length-1,n.start.row-this.columnHeaderLevelCount,i+(e.row>t.row?a.size-1:0)),this.rowDimensionTree.reset(this.rowDimensionTree.tree.children),this._CellHeaderPathMap=new Map,this._largeCellRangeCache.length=0,{sourceIndex:n.start.row,targetIndex:i+this.columnHeaderLevelCount,sourceSize:l,targetSize:s.size,moveType:"row"}}}return null}getCellAdressByHeaderPath(t){var e,n,i,r,o,a;let s,l,u=!1,c=!1;if(Array.isArray(t)){if(t.length>this.rowDimensionKeys.length+this.colDimensionKeys.length)return;s=t.filter((t=>this.colDimensionKeys.indexOf(t.dimensionKey)>=0||this.colDimensionKeys.indexOf(this.indicatorDimensionKey)>=0&&t.indicatorKey)),l=t.filter((t=>this.rowDimensionKeys.indexOf(t.dimensionKey)>=0||this.rowDimensionKeys.indexOf(this.indicatorDimensionKey)>=0&&t.indicatorKey))}else s=t.colHeaderPaths,l=t.rowHeaderPaths,"body"===(null==t?void 0:t.cellLocation)&&this._table.isPivotTable()&&(c=!0);if(!Array.isArray(s)&&!Array.isArray(l))return;if(null==s||s.sort(((t,e)=>{var n,i;return this.colDimensionKeys.indexOf(null!==(n=t.dimensionKey)&&void 0!==n?n:this.indicatorDimensionKey)-this.colDimensionKeys.indexOf(null!==(i=e.dimensionKey)&&void 0!==i?i:this.indicatorDimensionKey)})),null==l||l.sort(((t,e)=>{var n,i;return this.fullRowDimensionKeys.indexOf(null!==(n=t.dimensionKey)&&void 0!==n?n:this.indicatorDimensionKey)-this.fullRowDimensionKeys.indexOf(null!==(i=e.dimensionKey)&&void 0!==i?i:this.indicatorDimensionKey)})),null==s||s.forEach((t=>{t.isPivotCorner&&(u=!0)})),null==l||l.forEach((t=>{t.isPivotCorner&&(u=!0)})),u)if("all"===this.cornerSetting.titleOnDimension&&this.indicatorsAsCol&&0===s.length){for(let t=0;t<this.rowDimensionKeys.length;t++)if((null===(e=l[0])||void 0===e?void 0:e.dimensionKey)===this.rowDimensionKeys[t])return{col:t+this.leftRowSeriesNumberColumnCount,row:this.columnHeaderLevelCount-1}}else if("all"!==this.cornerSetting.titleOnDimension||this.indicatorsAsCol||0!==l.length){if("row"===this.cornerSetting.titleOnDimension||"all"===this.cornerSetting.titleOnDimension&&!this.indicatorsAsCol){for(let t=0;t<this.rowDimensionKeys.length;t++)if((null===(i=l[0])||void 0===i?void 0:i.dimensionKey)===this.rowDimensionKeys[t])return{col:t+this.leftRowSeriesNumberColumnCount,row:0}}else for(let t=0;t<this.colDimensionKeys.length;t++)if((null===(r=s[0])||void 0===r?void 0:r.dimensionKey)===this.colDimensionKeys[t])return{col:0,row:t}}else for(let t=0;t<this.colDimensionKeys.length;t++)if((null===(n=s[0])||void 0===n?void 0:n.dimensionKey)===this.colDimensionKeys[t])return{col:this.rowHeaderLevelCount-1,row:t};let d,p,g,m,v=!1;(null==s?void 0:s.length)>=1&&(null==l?void 0:l.length)>=1&&(v=!0);let y,b,w=this.rowTree,x=this.columnTree;if(s)for(let t=0;t<s.length;t++){const e=s[t];for(let t=0;t<x.length;t++){const n=x[t];if(!(0,h.Z)(e.indicatorKey)&&n.dimensionKey===e.dimensionKey&&n.value===e.value||(0,h.Z)(e.indicatorKey)&&n.indicatorKey===e.indicatorKey&&((0,h.Z)(n.value)&&(0,h.Z)(e.value)&&e.value===n.value||!(0,h.Z)(n.value)||!(0,h.Z)(e.value))){x=n.children,v&&!x?b=n:v||(b=n);break}}}if((null==l?void 0:l.length)>=1)if("tree"===this.rowHierarchyType){const t=l[l.length-1],e=this.headerObjects.filter((e=>((null==e?void 0:e.field)===t.dimensionKey||(null==e?void 0:e.field)===t.indicatorKey)&&(null==e?void 0:e.title)===t.value)).map((t=>t.id)),n=this._rowHeaderCellIds.filter((t=>e.indexOf(t[t.length-1])>=0)).find((t=>{const e=this.findFullCellIds(t);return e.length===l.length&&e.every((t=>{const e=this._headerObjectMap[t];return l.find((t=>t.dimensionKey===e.field&&t.value===e.title))}))}));p=this._rowHeaderCellIds.indexOf(n)+this.columnHeaderLevelCount}else for(let t=0;t<l.length;t++){const e=l[t];for(let t=0;t<w.length;t++){const n=w[t];if(!(0,h.Z)(e.indicatorKey)&&n.dimensionKey===e.dimensionKey&&n.value===e.value||(0,h.Z)(e.indicatorKey)&&n.indicatorKey===e.indicatorKey&&(!(0,h.Z)(e.value)||n.value===e.value)){w=n.children,(!v||w&&!w.some((t=>"axis"===t.dimensionKey)))&&v||(y=n);break}}}if(c||!v||(y||(0,h.Z)(p))&&b){if(y||c){p=this.columnHeaderLevelCount;const{startInTotal:t,level:e}=null!==(o=y)&&void 0!==o?o:f;p+=null!=t?t:0,g="grid"===this.rowHierarchyType?(this.rowHeaderTitle?e+1:e)+this.leftRowSeriesNumberColumnCount:0}if(b||c){d=this.rowHeaderLevelCount+this.leftRowSeriesNumberColumnCount;const{startInTotal:t,level:e}=null!==(a=b)&&void 0!==a?a:f;d+=null!=t?t:0,m=this.columnHeaderTitle?e+1:e}return(0,h.Z)(d)||(0,h.Z)(p)?{col:null!=d?d:g,row:null!=p?p:m}:void 0}}setChartInstance(t,e,n){var i,r,o,a;const s=this.getCellHeaderPaths(t,e);let l;if(this.indicatorsAsCol){const t=null===(i=s.colHeaderPaths.find((t=>t.indicatorKey)))||void 0===i?void 0:i.indicatorKey;l=null===(r=this._indicators)||void 0===r?void 0:r.find((e=>e.indicatorKey===t))}else{const t=null===(o=s.rowHeaderPaths.find((t=>t.indicatorKey)))||void 0===o?void 0:o.indicatorKey;l=null===(a=this._indicators)||void 0===a?void 0:a.find((e=>e.indicatorKey===t))}"function"!=typeof(null==l?void 0:l.chartSpec)&&l&&(l.chartInstance=n)}getChartInstance(t,e){var n,i,r,o;const a=this.getCellHeaderPaths(t,e);let s;if(this.indicatorsAsCol){const t=null===(n=a.colHeaderPaths.find((t=>t.indicatorKey)))||void 0===n?void 0:n.indicatorKey;s=null===(i=this._indicators)||void 0===i?void 0:i.find((e=>e.indicatorKey===t))}else{const t=null===(r=a.rowHeaderPaths.find((t=>t.indicatorKey)))||void 0===r?void 0:r.indicatorKey;s=null===(o=this._indicators)||void 0===o?void 0:o.find((e=>e.indicatorKey===t))}return null==s?void 0:s.chartInstance}checkHasChart(){return(0,a.YL)(this)}getDimension(t,e){var n,i;return"column"===e?null===(n=this.columnsDefine)||void 0===n?void 0:n.find((e=>"string"!=typeof e&&e.dimensionKey===t)):"row"===e?null===(i=this.rowsDefine)||void 0===i?void 0:i.find((e=>"string"!=typeof e&&e.dimensionKey===t)):void 0}getAxisConfigInPivotChart(t,e){if((this.isFrozenColumn(t,e)||this.isRightFrozenColumn(t,e))&&(0,a.aw)(t,e,"row",this)||(this.isFrozenRow(t,e)||this.isBottomFrozenRow(t,e))&&(0,a.aw)(t,e,"col",this)){const n=d.F.getFunction("getAxisConfigInPivotChart")(t,e,this);if(!1===(null==n?void 0:n.visible))return;return n}}isEmpty(t,e){return!(!this._table.isPivotChart()||!this.isLeftBottomCorner(t,e)&&!this.isRightBottomCorner(t,e)&&!this.isRightTopCorner(t,e))}isAxisCell(t,e){if(!this._table.isPivotChart())return!1;if(this.indicatorKeys.length>=1&&(0,a.eW)(this.indicatorsDefine)){if(this.isBottomFrozenRow(t,e)&&(0,a.aw)(t,e,"col",this)||this.isRightFrozenColumn(t,e)&&(0,a.aw)(t,e,"row",this))return!0;if(this.isRowHeader(t,e)&&t===this.rowHeaderLevelCount-1&&(0,a.aw)(t,e,"row",this))return!0;if(this.hasTwoIndicatorAxes&&this.indicatorsAsCol&&e===this.columnHeaderLevelCount-1&&(0,a.aw)(t,e,"col",this))return!0}return!1}getChartAxes(t,e){if((0,a.VR)(t,e,this)||this.isAxisCell(t,e))return(0,a.TQ)(t,e,this)}getRawChartSpec(t,e){return(0,a.ed)(t,e,this)}getChartSpec(t,e){return(0,a.K0)(t,e,this)}isShareChartSpec(t,e){return(0,a.TF)(t,e,this)}getChartDataId(t,e){return(0,a.py)(t,e,this)}isNoChartDataRenderNothing(t,e){return(0,a.f_)(t,e,this)}setPagination(t){var e,n,i,r,o,a,s;if(this.clearCellRangeMap(),this._table.internalProps.useOneRowHeightFillAll=!1,this.pagination=t,"grid"===this.rowHierarchyType&&(0,h.Z)(null===(e=this.pagination)||void 0===e?void 0:e.perPageCount)&&(0,h.Z)(null===(n=this.pagination)||void 0===n?void 0:n.currentPage)){!1===this.indicatorsAsCol&&(this.pagination.perPageCount=Math.ceil(this.pagination.perPageCount/this.indicatorKeys.length)*this.indicatorKeys.length);const{perPageCount:t,currentPage:e}=this.pagination;this.currentPageStartIndex=t*(e||0),this.currentPageEndIndex=this.currentPageStartIndex+t,this._rowHeaderCellIds=null===(i=this._rowHeaderCellIds_FULL)||void 0===i?void 0:i.slice(this.currentPageStartIndex,this.currentPageEndIndex),this._rowHeaderCellFullPathIds=null===(r=this._rowHeaderCellFullPathIds_FULL)||void 0===r?void 0:r.slice(this.currentPageStartIndex,this.currentPageEndIndex)}else this.currentPageStartIndex=0,this.currentPageEndIndex=this._rowHeaderCellIds_FULL.length,this._rowHeaderCellIds=null===(o=this._rowHeaderCellIds_FULL)||void 0===o?void 0:o.slice(this.currentPageStartIndex,this.currentPageEndIndex),this._rowHeaderCellFullPathIds=null===(a=this._rowHeaderCellFullPathIds_FULL)||void 0===a?void 0:a.slice(this.currentPageStartIndex,this.currentPageEndIndex);this.pagination&&(this.pagination.totalCount=null===(s=this._rowHeaderCellIds_FULL)||void 0===s?void 0:s.length)}release(){var t;const e=this._table._getActiveChartInstance();null==e||e.release(),null===(t=this._indicators)||void 0===t||t.forEach((t=>{var e;null===(e=t.chartInstance)||void 0===e||e.release()}))}getHeadNode(t,e){var n,i,r;let o;const a=this.getCellHeaderPaths(t,e);return a.rowHeaderPaths&&(null!==(i=null===(n=a.rowHeaderPaths)||void 0===n?void 0:n.length)&&void 0!==i?i:0)>0?o=null===(r=a.rowHeaderPaths)||void 0===r?void 0:r.slice(0,a.rowHeaderPaths.length):a.colHeaderPaths&&a.colHeaderPaths.length>0&&(o=a.colHeaderPaths.slice(0,a.colHeaderPaths.length)),this.getHeadNodeByRowOrColDimensions(o,t,e)}getHeadNodeByRowOrColDimensions(t,e,n){var i;if(!Array.isArray(t))return;let r,o,a=this.rowTree,s=this.columnTree;if((0,h.Z)(n)&&(0,h.Z)(e)&&"tree"===this.rowHierarchyType&&this.extensionRows&&e>=1+this.leftRowSeriesNumberColumnCount){const t=this.getCellId(e-1,n);a=this._rowHeaderExtensionTree[t].tree.children}for(let e=0;e<t.length;e++){const n=t[e];if((n.isPivotCorner||!(0,h.Z)(n.value))&&e===t.length-1)return;let l=!1;for(let t=0;t<s.length;t++){const e=s[t];if((0,h.Z)(n.dimensionKey)&&e.dimensionKey===n.dimensionKey&&e.value===n.value||(0,h.Z)(n.indicatorKey)&&e.indicatorKey===n.indicatorKey&&(e.value===n.value||!(0,h.Z)(n.value)||!(0,h.Z)(e.value))){s=e.children,o=e,l=!0;break}}if(!l)for(let t=0;null!==(i=t<(null==a?void 0:a.length))&&void 0!==i&&i;t++){const e=a[t];if((0,h.Z)(n.dimensionKey)&&e.dimensionKey===n.dimensionKey&&e.value===n.value||(0,h.Z)(n.indicatorKey)&&e.indicatorKey===n.indicatorKey&&(e.value===n.value||!(0,h.Z)(n.value)||!(0,h.Z)(e.value))){a=e.children,r=e;break}}}return r||o||void 0}clearCellRangeMap(){this._largeCellRangeCache.length=0,this._CellHeaderPathMap=new Map}getDimensionKeyInChartSpec(t,e){var n,i,r,o,a,s;let l;if(!1===this.indicatorsAsCol)for(let t=0;t<this.indicatorsDefine.length;t++){const e=this.indicatorsDefine[t].chartSpec;if(e&&(l=null!==(n=e.xField)&&void 0!==n?n:null===(r=null===(i=null==e?void 0:e.series)||void 0===i?void 0:i[0])||void 0===r?void 0:r.xField,l))return l}else for(let t=0;t<this.indicatorsDefine.length;t++){const e=this.indicatorsDefine[t].chartSpec;if(e&&(l=null!==(o=e.yField)&&void 0!==o?o:null===(s=null===(a=null==e?void 0:e.series)||void 0===a?void 0:a[0])||void 0===s?void 0:s.yField,l))return l}return null}_generateChartState(){return{vtable_selected:{filter:t=>{var e;return this._table._selectedDataItemsInChart.length>=1?!!this._table._selectedDataItemsInChart.find((e=>{for(const n in e)if("object"!=typeof e[n]&&e[n]!==t[n])return!1;return!0})):!!(null===(e=this._table._selectedDimensionInChart)||void 0===e?void 0:e.length)&&!!this._table._selectedDimensionInChart.every((e=>"object"==typeof e.value||t[e.key]===e.value))}},vtable_selected_reverse:{filter:t=>{var e;return this._table._selectedDataItemsInChart.length>=1?!this._table._selectedDataItemsInChart.find((e=>{for(const n in e)if("object"!=typeof e[n]&&e[n]!==t[n])return!1;return!0})):!!(null===(e=this._table._selectedDimensionInChart)||void 0===e?void 0:e.length)&&!this._table._selectedDimensionInChart.every((e=>"object"==typeof e.value||t[e.key]===e.value))}}}}updateDataStateToChartInstance(t){var e;if(!1!==(null===(e=null==t?void 0:t.getSpec().select)||void 0===e?void 0:e.enable)){t||(t=this._table._getActiveChartInstance());const e=this._generateChartState();this._indicators.forEach((t=>{var n;const i=t.chartInstance;!1!==(null===(n=t.chartSpec.select)||void 0===n?void 0:n.enable)&&i.updateState(e)})),null==t||t.updateState(e)}}updateDataStateToActiveChartInstance(t){var e;if(!1!==(null===(e=null==t?void 0:t.getSpec().select)||void 0===e?void 0:e.enable)){t||(t=this._table._getActiveChartInstance());const e=this._generateChartState();null==t||t.updateState(e)}}getIndicatorKeyInChartSpec(t,e){const n=this.getRawChartSpec(t,e),i=[];if(n){if(n.series||n.xField||n.yField)return!1===this.indicatorsAsCol?n.series?n.series.forEach((t=>{const e=t.yField;i.push(e)})):i.push(n.yField):n.series?n.series.forEach((t=>{const e=t.xField;i.push(e)})):i.push(n.xField),i;if(n.valueField&&i.push(n.valueField),i.length>=1)return i}return null}getOptimunHeightForChart(t){var e,n,i,r,o;const a=this.getCellHeaderPaths(this.rowHeaderLevelCount,t).rowHeaderPaths;let s,l;for(const t in this.dataset.collectValuesBy)if("yField"===this.dataset.collectValuesBy[t].type&&!this.dataset.collectValuesBy[t].range){s=null===(e=this.dataset.collectedValues[t])||void 0===e?void 0:e[a.map((t=>t.value)).join(this.dataset.stringJoinChar)];break}if(this._chartItemBandSize)l=g(null!==(n=null==s?void 0:s.length)&&void 0!==n?n:0,this._chartItemBandSize,this._chartPaddingInner,this._chartPaddingOuter);else{const t=this._chartItemSpanSize||25;l=(null!==(i=null==s?void 0:s.length)&&void 0!==i?i:0)*(t+t/3)}const u=(0,c.u)(null!==(o=null!==(r=this._chartPadding)&&void 0!==r?r:this._table.theme.bodyStyle.padding)&&void 0!==o?o:0);return l+u[0]+u[2]}getOptimunWidthForChart(t){var e,n,i,r,o;const a=this.getCellHeaderPaths(t,this.columnHeaderLevelCount).colHeaderPaths;let s,l;for(const t in this.dataset.collectValuesBy)if("xField"===this.dataset.collectValuesBy[t].type&&!this.dataset.collectValuesBy[t].range){s=null===(e=this.dataset.collectedValues[t])||void 0===e?void 0:e[a.map((t=>t.value)).join(this.dataset.stringJoinChar)];break}if(this._chartItemBandSize)l=g(null!==(n=null==s?void 0:s.length)&&void 0!==n?n:0,this._chartItemBandSize,this._chartPaddingInner,this._chartPaddingOuter);else{const t=this._chartItemSpanSize||25;l=(null!==(i=null==s?void 0:s.length)&&void 0!==i?i:0)*(t+t/3)}const u=(0,c.u)(null!==(o=null!==(r=this._chartPadding)&&void 0!==r?r:this._table.theme.bodyStyle.padding)&&void 0!==o?o:0);return l+u[1]+u[3]}get leftAxesCount(){if(!this._table.isPivotChart())return 0;const t=this._table.pivotChartAxes.find((t=>"left"===t.orient));return!1===(null==t?void 0:t.visible)?0:(this.indicatorsAsCol,1)}get topAxesCount(){if(!this._table.isPivotChart())return 0;const t=this._table.pivotChartAxes.find((t=>"top"===t.orient));return!1===(null==t?void 0:t.visible)?0:this.indicatorsAsCol&&this.hasTwoIndicatorAxes?1:0}get rightAxesCount(){return this.rightFrozenColCount}get bottomAxesCount(){return this.bottomFrozenRowCount}getColKeysPath(t,e){const n=this.getCellHeaderPaths(t,e),i=[];return n.colHeaderPaths.length&&n.colHeaderPaths.forEach((t=>{t.dimensionKey&&i.push(t.value)})),null==i?void 0:i.join(this.dataset.stringJoinChar)}getRowKeysPath(t,e){const n=this.getCellHeaderPaths(t,e),i=[];return n.rowHeaderPaths.length&&n.rowHeaderPaths.forEach((t=>{t.dimensionKey&&i.push(t.value)})),null==i?void 0:i.join(this.dataset.stringJoinChar)}getIndicatorInfo(t,e=""){var n;return null===(n=this.indicatorsDefine)||void 0===n?void 0:n.find((n=>"string"!=typeof n&&(t?n.indicatorKey===t:!!e&&n.title===e)))}getLayoutColumnTree(){const t=[],e=this.columnDimensionTree.tree.children;return(0,s.LC)(t,e),t}getLayoutRowTree(){const t=[],e=this.rowDimensionTree.tree.children;return(0,s.LC)(t,e),t}getLayoutColumnTreeCount(){const t=this.columnDimensionTree.tree.children;return(0,s.p$)(t,"tree"===this.rowHierarchyType)}getLayoutRowTreeCount(){var t;const e=this.rowDimensionTree.tree.children;let n=(0,s.p$)(e,"tree"===this.rowHierarchyType);return null===(t=this.extensionRows)||void 0===t||t.forEach((t=>{if("function"!=typeof t.rowTree){const e=(0,s.p$)(t.rowTree,!0);n*=e}})),n}resetHeaderTree(){var t,e,n;this.colIndex=0,this._rowHeaderCellFullPathIds_FULL=[],this._columnHeaderCellFullPathIds=[],this._columnHeaderCellIds=[];const r=this.dataset;this.rowTree=r.rowHeaderTree,this.columnTree=r.colHeaderTree;const o=this.rowDimensionTree.tree.children;null===(t=this.rowTree)||void 0===t||t.forEach(((t,e)=>{const n=o.find((e=>e.dimensionKey===t.dimensionKey&&e.value===t.value));n&&this._table._syncHierarchyState(n,t)})),this.columnDimensionTree=new s.KO(null!==(e=this.columnTree)&&void 0!==e?e:[],this.sharedVar),this.rowDimensionTree=new s.KO(null!==(n=this.rowTree)&&void 0!==n?n:[],this.sharedVar,this.rowHierarchyType,"tree"===this.rowHierarchyType?this.rowExpandLevel:void 0),this.resetColumnHeaderLevelCount(),this._generateColHeaderIds(),this.colIndex=0,this._generateRowHeaderIds(),this._rowHeaderCellFullPathIds_FULL=(0,i.p4)(this._rowHeaderCellFullPathIds_FULL),this._headerObjectMap=this._headerObjects.reduce(((t,e)=>(t[e.id]=e,t)),{}),this._CellHeaderPathMap=new Map,this._largeCellRangeCache.length=0,this.generateCellIdsConsiderHideHeader(),this.setPagination(this.pagination)}isSeriesNumberInHeader(t,e){return this.leftRowSeriesNumberColumnCount>0&&t>=0&&e>=0&&t<this.leftRowSeriesNumberColumnCount&&e<this.headerLevelCount||this.rightRowSeriesNumberColumnCount>0&&e>=0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount&&e<this.headerLevelCount}isSeriesNumberInBody(t,e){return this.leftRowSeriesNumberColumnCount>0&&t>=0&&t<this.leftRowSeriesNumberColumnCount&&e>=this.headerLevelCount||this.rightRowSeriesNumberColumnCount>0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount&&e>=this.headerLevelCount}isSeriesNumber(t,e){if((0,h.Z)(t)&&(0,h.Z)(e)){if(this.leftRowSeriesNumberColumnCount>0&&t>=0&&e>=0&&t<this.leftRowSeriesNumberColumnCount)return!0;if(this.rightRowSeriesNumberColumnCount>0&&e>=0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount)return!0}return!1}getSeriesNumberHeader(t,e){return this.leftRowSeriesNumberColumnCount>0&&t>=0&&t<this.leftRowSeriesNumberColumnCount&&e<this.headerLevelCount?Object.assign({},this.leftRowSeriesNumberColumn[t],{style:this._table.internalProps.rowSeriesNumber.headerStyle}):this.rightRowSeriesNumberColumnCount>0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount&&e<this.headerLevelCount&&e<this.headerLevelCount?this.rightRowSeriesNumberColumn[t-(this.colCount-this.rightRowSeriesNumberColumnCount)]:void 0}getSeriesNumberBody(t,e){return this.leftRowSeriesNumberColumnCount>0&&t>=0&&t<this.leftRowSeriesNumberColumnCount&&e>=this.headerLevelCount?this.leftRowSeriesNumberColumn[t]:this.rightRowSeriesNumberColumnCount>0&&t>=this.colCount-this.rightRowSeriesNumberColumnCount&&e>=this.headerLevelCount?this.rightRowSeriesNumberColumn[t-(this.colCount-this.rightRowSeriesNumberColumnCount)]:void 0}changeTreeNodeTitle(t,e,n){this.getHeadNode(t,e).value=n;const i=this.getCellId(t,e);this._headerObjectMap[i].title=n}changeCornerTitle(t,e,n){if(this.isCornerHeader(t,e)){const i=this.getCellId(t,e);this._headerObjectMap[i].title=n}}generateCellIdsConsiderHideHeader(){if(this._columnHeaderCellIds=this._columnHeaderCellFullPathIds.slice(),!this.showColumnHeader)if(this.indicatorsAsCol&&!this.hideIndicatorName){const t=this.colDimensionKeys.indexOf(o.ek),e=this._columnHeaderCellIds.splice(t,1);this._columnHeaderCellIds.splice(0,this._columnHeaderCellIds.length),this._columnHeaderCellIds.push(e[0])}else this._columnHeaderCellIds.splice(0,this._columnHeaderCellIds.length);if(this._rowHeaderCellIds_FULL=this._rowHeaderCellFullPathIds_FULL.slice(),!this.showRowHeader)if(this.indicatorsAsCol||this.hideIndicatorName)this._rowHeaderCellIds_FULL.forEach(((t,e)=>{const n=t.slice();n.splice(0,n.length),this._rowHeaderCellIds_FULL[e]=n}));else{const t=this.rowDimensionKeys.indexOf(o.ek);this._rowHeaderCellIds_FULL.forEach(((e,n)=>{const i=e.slice(),r=i.splice(t,1);i.splice(0,i.length),i.push(r[0]),this._rowHeaderCellIds_FULL[n]=i}))}if(this._rowHeaderCellIds=this._rowHeaderCellIds_FULL.slice(),this._cornerHeaderCellIds=this._cornerHeaderCellFullPathIds.slice(),0===this.rowHeaderLevelCount||0===this.columnHeaderLevelCount)this._cornerHeaderCellIds=[];else if("row"!==this.cornerSetting.titleOnDimension||this.showRowHeader){if("column"===this.cornerSetting.titleOnDimension&&!this.showColumnHeader)if(this.indicatorsAsCol&&!this.hideIndicatorName){const t=this.colDimensionKeys.indexOf(o.ek),e=this._cornerHeaderCellIds.splice(t,1);this._cornerHeaderCellIds.splice(0,this._cornerHeaderCellIds.length),this._cornerHeaderCellIds.push(e[0])}else this._cornerHeaderCellIds.splice(0,this._cornerHeaderCellIds.length)}else if(this.indicatorsAsCol||this.hideIndicatorName)this._cornerHeaderCellIds.forEach(((t,e)=>{const n=t.slice();n.splice(0,n.length),this._cornerHeaderCellIds[e]=n}));else{const t=this.rowDimensionKeys.indexOf(o.ek);this._cornerHeaderCellIds.forEach(((e,n)=>{const i=e.slice(),r=i.splice(t,1);i.splice(0,i.length),i.push(r[0]),this._cornerHeaderCellIds[n]=i}))}}enableUseGetBodyCache(){this._useGetBodyCache=!0,this._getBodyCache.clear()}disableUseGetBodyCache(){this._useGetBodyCache=!1,this._getBodyCache.clear()}enableUseHeaderPathCache(){this._useHeaderPathCache=!0,this._colHeaderPathCache.clear(),this._rowHeaderPathCache.clear()}disableUseHeaderPathCache(){this._useHeaderPathCache=!1,this._colHeaderPathCache.clear(),this._rowHeaderPathCache.clear()}getBodyWidthCache(t,e){if(this._useGetBodyCache&&!this.isHeader(t,e)&&!this.isSeriesNumber(t,e))return this.indicatorsAsCol&&this._getBodyCache.has(t)?this._getBodyCache.get(t):!this.indicatorsAsCol&&this._getBodyCache.has(e)?this._getBodyCache.get(e):void 0}setBodyWidthCache(t,e,n){!this._useGetBodyCache||this.isHeader(t,e)||this.isSeriesNumber(t,e)||(this.indicatorsAsCol?this._getBodyCache.set(t,n):this._getBodyCache.set(e,n))}getColHeaderPathCache(t,e){if(this._useHeaderPathCache&&!this.isHeader(t,e)&&!this.isSeriesNumber(t,e)&&this._colHeaderPathCache.has(t))return this._colHeaderPathCache.get(t)}setColHeaderPathCache(t,e,n){!this._useHeaderPathCache||this.isHeader(t,e)||this.isSeriesNumber(t,e)||this._colHeaderPathCache.set(t,n)}getRowHeaderPathCache(t,e){if(this._useHeaderPathCache&&!this.isHeader(t,e)&&!this.isSeriesNumber(t,e)&&this._rowHeaderPathCache.has(e))return this._rowHeaderPathCache.get(e)}setRowHeaderPathCache(t,e,n){!this._useHeaderPathCache||this.isHeader(t,e)||this.isSeriesNumber(t,e)||this._rowHeaderPathCache.set(e,n)}}function g(t,e,n,i){1===n&&(n=0);const r=function(t,e,n){let i;return i=1===t?t+2*n:t-e+2*n,t?i>0?i:1:0}(t,n,i),o=e/(1-n);return Math.ceil(r*o)}},36657:function(t,e,n){"use strict";n.d(e,{KO:function(){return l},LC:function(){return u},g3:function(){return c},gD:function(){return p},p$:function(){return h},py:function(){return d}});var i=n(86801),r=n(70375),o=n(71433),a=n(97176),s=n(86036);class l{constructor(t,e,n="grid",i){this.hasHideNode=!1,this.sizeIncludeParent=!1,this.tree={id:0,dimensionKey:"",value:"",children:[],level:-1,levelSpan:1,startIndex:0,size:0,startInTotal:0,hierarchyState:void 0},this.totalLevel=0,this.dimensionKeys=new o.B,this.dimensionKeysIncludeVirtual=new o.B,this.cache=new Map,this.sizeIncludeParent=null!=i,this.rowExpandLevel=i,this.hierarchyType=n,this.sharedVar=e,this.reset(t)}reset(t){this.hasHideNode=!1,this.cache.clear(),this.dimensionKeys=new o.B,this.dimensionKeysIncludeVirtual=new o.B,this.tree.children=t,this.setTreeNode(this.tree,0,this.tree)}setTreeNode(t,e,n){var i,r;t.startIndex=e,t.startInTotal=(null!==(i=n.startInTotal)&&void 0!==i?i:0)+t.startIndex,t.hide&&(this.hasHideNode=!0),(null!==(r=t.dimensionKey)&&void 0!==r?r:t.indicatorKey)&&(t.virtual||this.dimensionKeys.contain(t.indicatorKey?a.ek:t.dimensionKey)||this.dimensionKeys.put(t.level,t.indicatorKey?a.ek:t.dimensionKey),this.dimensionKeysIncludeVirtual.contain(t.indicatorKey?a.ek:t.dimensionKey)||this.dimensionKeysIncludeVirtual.put(t.level,t.indicatorKey?a.ek:t.dimensionKey),t.id||(t.id=++this.sharedVar.seqId));let o=t.dimensionKey&&this.sizeIncludeParent?1:0;const l=t.children||t.columns;return"grid"===this.hierarchyType?(null==l?void 0:l.length)>=1?l.forEach((e=>{var n;e.level=(null!==(n=t.level)&&void 0!==n?n:0)+1,this.totalLevel=Math.max(this.totalLevel,e.level+1),o+=this.setTreeNode(e,o,t)})):o=1:t.hierarchyState===s.g.expand&&(null==l?void 0:l.length)>=1?l.forEach((e=>{var n;e.level=(null!==(n=t.level)&&void 0!==n?n:0)+1,this.totalLevel=Math.max(this.totalLevel,e.level+1),o+=this.setTreeNode(e,o,t)})):t.hierarchyState===s.g.collapse&&(null==l?void 0:l.length)>=1?l.forEach((e=>{var n;e.level=(null!==(n=t.level)&&void 0!==n?n:0)+1,this.totalLevel=Math.max(this.totalLevel,e.level+1),this.setTreeNode(e,o,t)})):!t.hierarchyState&&t.level+1<this.rowExpandLevel&&((null==l?void 0:l.length)>=1||!0===l)?(t.hierarchyState=s.g.expand,(null==l?void 0:l.length)>=1&&l.forEach((e=>{var n;e.level=(null!==(n=t.level)&&void 0!==n?n:0)+1,this.totalLevel=Math.max(this.totalLevel,e.level+1),o+=this.setTreeNode(e,o,t)}))):(null==l?void 0:l.length)>=1||!0===l?(t.hierarchyState=s.g.collapse,(null==l?void 0:l.length)>=1&&l.forEach((e=>{var n;e.level=(null!==(n=t.level)&&void 0!==n?n:0)+1,this.totalLevel=Math.max(this.totalLevel,e.level+1),this.setTreeNode(e,o,t)}))):(t.hierarchyState=s.g.none,o=1),t.size=o,o}getTreePath(t,e=30){const n=[];return this.searchPath(t,this.tree,n,e),n.shift(),n}getTreePathByCellIds(t){const e=[];let n=this.tree.children;for(let i=0;i<t.length;i++){const r=t[i],o=this.findNodeById(n,r);if(!o)break;e.push(o),n=o.children}return e}findNodeById(t,e){return t.find((t=>t.id===e))}searchPath(t,e,n,i){if(!e)return;if(t<e.startIndex||t>=e.startIndex+e.size)return;if(n.push(e),!e.children||0===e.children.length||e.level>=i)return;const r=t-e.startIndex;if(this.cache.has(e.level+1)){const t=this.cache.get(e.level+1);if(r>=t.startIndex&&r<t.startIndex+t.size)return void this.searchPath(r,t,n,i)}let o=0,a=e.children.length-1;for(;o<=a;){const t=Math.floor((o+a)/2),s=e.children[t];if(r>=s.startIndex&&r<s.startIndex+s.size){this.cache.set(s.level,s);const t=[];this.cache.forEach(((e,n)=>{n>s.level&&t.push(n)})),t.forEach((t=>{this.cache.delete(t)})),this.searchPath(r,s,n,i);break}r<s.startIndex?a=t-1:o=t+1}}movePosition(t,e,n){let i,r,o;const a=(s,l)=>{if(void 0!==r&&void 0!==o)return;s.level===t&&(s.startInTotal===e&&(r=l),s.startInTotal<=n&&n<=s.startInTotal+s.size-1&&(o=l));const u=s.children||s.columns;if(u&&s.level<t){i=s;for(let t=0;t<u.length;t++)(e>=u[t].startInTotal&&e<=u[t].startInTotal+u[t].size||n>=u[t].startInTotal&&n<=u[t].startInTotal+u[t].size)&&a(u[t],t)}};a(this.tree,0);const s=i.children||i.columns,l=s.splice(r,1);l.unshift(o,0),Array.prototype.splice.apply(s,l)}getCopiedTree(){const t=(0,i.Z)(this.tree.children);return f(t),t}}function u(t,e){null==e||e.forEach((e=>{var n,i;const r={dimensionKey:e.dimensionKey,indicatorKey:e.indicatorKey,value:e.value,hierarchyState:e.hierarchyState,children:void 0,virtual:null!==(n=e.virtual)&&void 0!==n&&n,levelSpan:null!==(i=e.levelSpan)&&void 0!==i?i:1};t.push(r),e.children&&(r.children=[],u(r.children,e.children))}))}function h(t,e){let n=0;return null==t||t.forEach((t=>{e?n++:t.children&&0!==t.children.length||n++,t.children&&(n+=h(t.children,e))})),n}function c(t,e,n,i,o,a){var s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I;const P=t.id,E=null!==(l=null===(s=a.rowsDefine)||void 0===s?void 0:s.find((e=>"string"!=typeof e&&e.dimensionKey===t.dimensionKey)))&&void 0!==l?l:null===(u=a.columnsDefine)||void 0===u?void 0:u.find((e=>"string"!=typeof e&&e.dimensionKey===t.dimensionKey)),B=null===(h=a.indicatorsDefine)||void 0===h?void 0:h.find((e=>"string"!=typeof e&&(t.indicatorKey?e.indicatorKey===t.indicatorKey:e.title===t.value&&!t.dimensionKey))),L={id:P,title:null!==(c=t.value)&&void 0!==c?c:null==B?void 0:B.title,field:t.dimensionKey,style:"function"==typeof(null===(d=null!=B?B:E)||void 0===d?void 0:d.headerStyle)?null===(f=null!=B?B:E)||void 0===f?void 0:f.headerStyle:Object.assign({},null===(p=null!=B?B:E)||void 0===p?void 0:p.headerStyle),headerType:null!==(m=null!==(g=null==B?void 0:B.headerType)&&void 0!==g?g:null==E?void 0:E.headerType)&&void 0!==m?m:"text",headerIcon:null!==(v=null==B?void 0:B.headerIcon)&&void 0!==v?v:null==E?void 0:E.headerIcon,define:Object.assign({},t,null!=B?B:Object.assign({},E,{sort:void 0})),fieldFormat:null!==(y=null==B?void 0:B.headerFormat)&&void 0!==y?y:null==E?void 0:E.headerFormat,dropDownMenu:null!==(b=null==B?void 0:B.dropDownMenu)&&void 0!==b?b:null==E?void 0:E.dropDownMenu,pivotInfo:{value:t.value,dimensionKey:t.dimensionKey,isPivotCorner:!1},width:null==E?void 0:E.width,minWidth:null==E?void 0:E.minWidth,maxWidth:null==E?void 0:E.maxWidth,showSort:null!==(w=null==B?void 0:B.showSort)&&void 0!==w?w:null==E?void 0:E.showSort,sort:null==B?void 0:B.sort,description:null==E?void 0:E.description};B?(B.customRender&&(t.customRender=B.customRender),(0,r.Z)(null===(x=a._indicators)||void 0===x?void 0:x.find((t=>t.indicatorKey===B.indicatorKey)))||null===(_=a._indicators)||void 0===_||_.push({id:++a.sharedVar.seqId,indicatorKey:B.indicatorKey,field:B.indicatorKey,fieldFormat:null==B?void 0:B.format,cellType:null!==(S=null!==(C=null==B?void 0:B.cellType)&&void 0!==C?C:null==B?void 0:B.columnType)&&void 0!==S?S:"text",chartModule:"chartModule"in B?B.chartModule:null,chartSpec:"chartSpec"in B?B.chartSpec:null,noDataRenderNothing:"noDataRenderNothing"in B&&B.noDataRenderNothing,sparklineSpec:"sparklineSpec"in B?B.sparklineSpec:null,style:null==B?void 0:B.style,icon:null==B?void 0:B.icon,define:Object.assign({},t,B,{dragHeader:null==E?void 0:E.dragHeader}),width:null==B?void 0:B.width,minWidth:null==B?void 0:B.minWidth,maxWidth:null==B?void 0:B.maxWidth,disableColumnResize:null==B?void 0:B.disableColumnResize})):t.indicatorKey&&((0,r.Z)(null===(M=a._indicators)||void 0===M?void 0:M.find((e=>e.indicatorKey===t.indicatorKey)))||null===(A=a._indicators)||void 0===A||A.push({id:++a.sharedVar.seqId,indicatorKey:t.indicatorKey,field:t.indicatorKey,cellType:"text",define:Object.assign({},t)})),n[P]=L,a._headerObjects[P]=L;for(let t=o-1;t>=0;t--)e[t][a.colIndex]=i[t];if(e[o][a.colIndex]=P,t.levelSpan>1)for(let n=1;n<t.levelSpan;n++){if(!e[o+n]){e[o+n]=[];for(let t=0;t<a.colIndex;t++)e[o+n][t]=e[o][t]}e[o+n][a.colIndex]=P}if((null===(T=t.children)||void 0===T?void 0:T.length)>=1)a._addHeaders(e,o+(null!==(k=t.levelSpan)&&void 0!==k?k:1),null!==(R=t.children)&&void 0!==R?R:[],[...i,...Array(null!==(I=t.levelSpan)&&void 0!==I?I:1).fill(P)],n);else{for(let t=o+1;t<e.length;t++)e[t][a.colIndex]=P;a.colIndex++}}function d(t,e,n,i,o,a,l,u,h){var c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E,B,L,D,O,F,H,N;const z=t.id,W=u.find((e=>"string"!=typeof e&&e.dimensionKey===t.dimensionKey)),j=null===(c=h.indicatorsDefine)||void 0===c?void 0:c.find((e=>"string"!=typeof e&&(t.indicatorKey?e.indicatorKey===t.indicatorKey:e.title===t.value))),V={id:z,title:null!==(d=t.value)&&void 0!==d?d:j.title,field:t.dimensionKey,style:t.level+1===a||"function"==typeof(null===(f=null!=j?j:W)||void 0===f?void 0:f.headerStyle)?null===(p=null!=j?j:W)||void 0===p?void 0:p.headerStyle:Object.assign({},null===(g=null!=j?j:W)||void 0===g?void 0:g.headerStyle,{textAlign:"left"}),headerType:null!==(v=null!==(m=null==j?void 0:j.headerType)&&void 0!==m?m:null==W?void 0:W.headerType)&&void 0!==v?v:"text",headerIcon:null!==(y=null==j?void 0:j.headerIcon)&&void 0!==y?y:null==W?void 0:W.headerIcon,define:Object.assign(t,{linkJump:null===(b=null!=j?j:W)||void 0===b?void 0:b.linkJump,linkDetect:null===(w=null!=j?j:W)||void 0===w?void 0:w.linkDetect,templateLink:null===(x=null!=j?j:W)||void 0===x?void 0:x.templateLink,keepAspectRatio:null!==(C=null===(_=null!=j?j:W)||void 0===_?void 0:_.keepAspectRatio)&&void 0!==C&&C,imageAutoSizing:null===(S=null!=j?j:W)||void 0===S?void 0:S.imageAutoSizing,headerCustomRender:null===(M=null!=j?j:W)||void 0===M?void 0:M.headerCustomRender,headerCustomLayout:null===(A=null!=j?j:W)||void 0===A?void 0:A.headerCustomLayout,dragHeader:null==W?void 0:W.dragHeader,disableHeaderHover:!!(null===(T=null!=j?j:W)||void 0===T?void 0:T.disableHeaderHover),disableHeaderSelect:!!(null===(k=null!=j?j:W)||void 0===k?void 0:k.disableHeaderSelect),showSort:null!==(R=null==j?void 0:j.showSort)&&void 0!==R?R:null==W?void 0:W.showSort,hide:null==j?void 0:j.hide}),fieldFormat:null!==(I=null==j?void 0:j.headerFormat)&&void 0!==I?I:null==W?void 0:W.headerFormat,dropDownMenu:null!==(P=null==j?void 0:j.dropDownMenu)&&void 0!==P?P:null==W?void 0:W.dropDownMenu,pivotInfo:{value:t.value,dimensionKey:t.dimensionKey,isPivotCorner:!1},hierarchyLevel:t.level,dimensionTotalLevel:a,hierarchyState:t.hierarchyState,width:null==W?void 0:W.width,minWidth:null==W?void 0:W.minWidth,maxWidth:null==W?void 0:W.maxWidth,parentCellId:i[i.length-1]};j?(j.customRender&&(t.customRender=j.customRender),(0,r.Z)(null===(E=h._indicators)||void 0===E?void 0:E.find((t=>t.indicatorKey===j.indicatorKey)))||null===(B=h._indicators)||void 0===B||B.push({id:++h.sharedVar.seqId,indicatorKey:j.indicatorKey,field:j.indicatorKey,fieldFormat:null==j?void 0:j.format,cellType:null!==(D=null!==(L=null==j?void 0:j.cellType)&&void 0!==L?L:null==j?void 0:j.columnType)&&void 0!==D?D:"text",chartModule:"chartModule"in j?j.chartModule:null,chartSpec:"chartSpec"in j?j.chartSpec:null,noDataRenderNothing:"noDataRenderNothing"in j&&j.noDataRenderNothing,sparklineSpec:"sparklineSpec"in j?j.sparklineSpec:null,style:null==j?void 0:j.style,icon:null==j?void 0:j.icon,define:Object.assign({},t,j,{dragHeader:null==W?void 0:W.dragHeader}),width:null==j?void 0:j.width,minWidth:null==j?void 0:j.minWidth,maxWidth:null==j?void 0:j.maxWidth,disableColumnResize:null==j?void 0:j.disableColumnResize})):t.indicatorKey&&((0,r.Z)(null===(O=h._indicators)||void 0===O?void 0:O.find((e=>e.indicatorKey===t.indicatorKey)))||null===(F=h._indicators)||void 0===F||F.push({id:++h.sharedVar.seqId,indicatorKey:t.indicatorKey,field:t.indicatorKey,cellType:"text",define:Object.assign({},t)})),n[z]=V,h._headerObjects[z]=V,e[o][h.colIndex]=z;for(let t=o-1;t>=0;t--)e[t][h.colIndex]=i[t];if(t.hierarchyState===s.g.expand&&(null===(H=t.children)||void 0===H?void 0:H.length)>=1)l&&h.colIndex++,h._addHeadersForTreeMode(e,o,null!==(N=t.children)&&void 0!==N?N:[],[...i,z],a,l&&t.hierarchyState===s.g.expand,u,n);else{l&&h.colIndex++;for(let t=o+1;t<e.length;t++)e[t][h.colIndex]=z}}function f(t){for(let e=0;e<t.length;e++){const n=t[e];delete n.level,delete n.startIndex,delete n.id,delete n.levelSpan,delete n.size,delete n.startInTotal;const i=n.children||n.columns;i&&f(i)}}function p(t,e,n,i,r){var o;for(let a=t.length-1;a>=0;a--){const s=t[a];if(e.push(s),i&&s.hide)t.splice(a,1);else if(s.indicatorKey){const i=null===(o=null==n?void 0:n.find((t=>t.indicatorKey===s.indicatorKey)))||void 0===o?void 0:o.hide;"function"==typeof i?i({dimensionPaths:e,table:r})&&t.splice(a,1):i&&t.splice(a,1)}else s.children&&s.children.length>0&&p(s.children,e,n,i,r);e.pop()}}},52432:function(t,e,n){"use strict";n.d(e,{f:function(){return i}});const i={}},9576:function(t,e,n){"use strict";n.d(e,{wh:function(){return l},zf:function(){return u}});var i=n(22304),r=n(70375),o=n(93375),a=n(95433);class s{constructor(t,e,n){this.table=t,this.customCellStyle=e,this.customCellStyleArrangement=n}getCustomCellStyle(t,e){const n=this.getCustomCellStyleIds(t,e);if(n.length){const t=[];return n.forEach((e=>{const n=this.getCustomCellStyleOption(e);(null==n?void 0:n.style)&&t.push(n.style)})),(0,i.Z)({},...t)}}getCustomCellStyleIds(t,e){const n=[],i=this.table.getCellRange(t,e);for(let t=i.start.col;t<=i.end.col;t++)for(let e=i.start.row;e<=i.end.row;e++)this.customCellStyleArrangement.forEach((i=>{i.cellPosition.range?i.cellPosition.range.start.col<=t&&i.cellPosition.range.end.col>=t&&i.cellPosition.range.start.row<=e&&i.cellPosition.range.end.row>=e&&n.push(i.customStyleId):i.cellPosition.col===t&&i.cellPosition.row===e&&n.push(i.customStyleId)}));return n}getCustomCellStyleOption(t){return this.customCellStyle.find((e=>e.id===t))}registerCustomCellStyle(t,e){const n=this.customCellStyle.findIndex((e=>e.id===t));-1===n?this.customCellStyle.push({id:t,style:e}):this.customCellStyle[n]={id:t,style:e},this.customCellStyleArrangement.forEach((e=>{const n=e.cellPosition;if(e.customStyleId===t)if(n.range)for(let t=Math.max(0,n.range.start.col);t<=Math.min(this.table.colCount-1,n.range.end.col);t++)for(let e=Math.max(0,n.range.start.row);e<=Math.min(this.table.rowCount-1,n.range.end.row);e++)this.table.scenegraph.updateCellContent(t,e);else this.table.scenegraph.updateCellContent(n.col,n.row)})),this.table.scenegraph.updateNextFrame()}arrangeCustomCellStyle(t,e,n){var i;const r=this.customCellStyleArrangement.findIndex((e=>e.cellPosition.range&&t.range?e.cellPosition.range.start.col===t.range.start.col&&e.cellPosition.range.start.row===t.range.start.row&&e.cellPosition.range.end.col===t.range.end.col&&e.cellPosition.range.end.row===t.range.end.row:e.cellPosition.col===t.col&&e.cellPosition.row===t.row));if(-1===r&&!e)return;if(-1===r&&e)this.customCellStyleArrangement.push({cellPosition:{col:t.col,row:t.row,range:t.range},customStyleId:e});else{if(this.customCellStyleArrangement[r].customStyleId===e)return;e?this.customCellStyleArrangement[r].customStyleId=e:this.customCellStyleArrangement.splice(r,1)}const a=null===(i=this.getCustomCellStyleOption(e))||void 0===i?void 0:i.style;if(a){n=!0;for(const t in a)if(-1===o.n.indexOf(t)){n=!1;break}}if(t.range)for(let e=Math.max(0,t.range.start.col);e<=Math.min(this.table.colCount-1,t.range.end.col);e++)for(let i=Math.max(0,t.range.start.row);i<=Math.min(this.table.rowCount-1,t.range.end.row);i++){const t=this.table.getCellRange(e,i);for(let e=t.start.col;e<=t.end.col;e++)for(let i=t.start.row;i<=t.end.row;i++)this.table.scenegraph.updateCellContent(e,i,n)}else this.table.scenegraph.updateCellContent(t.col,t.row,n);this.table.scenegraph.updateNextFrame()}updateCustomCell(t,e){this.customCellStyle.length=0,this.customCellStyleArrangement.length=0,t.forEach((t=>{this.registerCustomCellStyle(t.id,t.style)})),e.forEach((t=>{this.arrangeCustomCellStyle(t.cellPosition,t.customStyleId)}))}hasCustomCellStyle(t){return this.customCellStyle.some((e=>e.id===t))}}function l(t,e){t=t.clone();for(const n in e){const i=e[n];(0,r.Z)(i)&&(t[`_${n}`]=i)}return t}const u=()=>{a.F.registerComponent("customCellStylePlugin",s)}},16079:function(t,e,n){"use strict";n.d(e,{c:function(){return i},d:function(){return r}});const i={};class r{static setIcon(t,e){this.cache.set(t,e)}static getIcon(t){return this.cache.has(t)?this.cache.get(t):null}static hasIcon(t){return this.cache.has(t)}static clear(t){return this.cache.delete(t)}static clearAll(){this.cache=new Map}}r.cache=new Map},39664:function(t,e,n){"use strict";n.d(e,{n:function(){return i}});const i={}},21969:function(t,e,n){"use strict";n.d(e,{FH:function(){return b},Jp:function(){return C},cd:function(){return w},nH:function(){return S},ws:function(){return x}});var i=n(92096),r=n(67604),o=n(95063),a=n(85830),s=n(41152),l=n(64877),u=n(46307),h=n(31479),c=n(70375),d=n(44409),f=n(47505),p=n(68725),g=n(18593),m=n(43259),v=n(97925);const y="_custom_",b="custom-container",w=y+"_0";function x(t,e,n,u,f,p,v,y,w,x,A){var T,k,R;let I,P,E,B,L=!0,D=!1;if("react-custom-layout"===t&&(t=(null===(T=A.reactCustomLayout)||void 0===T?void 0:T.getCustomLayoutFunc(n,u))||m.D),"function"==typeof t){const e=t({col:null!==(k=null==x?void 0:x.start.col)&&void 0!==k?k:n,row:null!==(R=null==x?void 0:x.start.row)&&void 0!==R?R:u,dataValue:A.getCellOriginValue(n,u),value:A.getCellValue(n,u)||"",rect:{left:0,top:0,right:f,bottom:p,width:f,height:p},table:A,originCol:n,originRow:u});if(!e)return{renderDefault:!0};e.rootContainer&&(e.rootContainer=S(e.rootContainer,A.animationManager.timeline)),e.rootContainer instanceof i.ZA&&(B=e.rootContainer,B.name=b,B.col=n,B.row=u),L=e.renderDefault,D=e.enableCellPadding}else if("function"==typeof e){const t=e({col:n,row:u,dataValue:A.getCellOriginValue(n,u),value:A.getCellValue(n,u)||"",rect:{left:0,top:0,right:f,bottom:p,width:f,height:p},table:A});t&&(E=t.elements,L=t.renderDefault,I=t.expectedWidth,P=t.expectedHeight)}else e&&(I=e.expectedWidth,P=e.expectedHeight,E=e.elements,L=e.renderDefault);return E&&(B=function(t,e,n,u){const f=new i.ZA({x:0,y:0,width:e,height:n,fill:!1,stroke:!1,pickable:!1});return f.name=b,function(t,e,n,i){const r=[],o=[0,0,0,0];for(let a=0;a<t.length;a++){const s=t[a],l=Object.assign({},s);for(const t in l)l.hasOwnProperty(t)&&(0,h.Z)(l[t])&&(l[t]=l[t](i));const u=l;(0,c.Z)(u.x)&&(u.x=(0,d.Z)(u.x)?_(u.x,e-o[1]):Number(u.x)),(0,c.Z)(u.y)&&(u.y=(0,d.Z)(u.y)?_(u.y,n-o[2]):Number(u.y)),"width"in l&&(l.width=(0,d.Z)(l.width)?_(l.width,e-o[1]):Number(l.width)),"height"in l&&(l.height=(0,d.Z)(l.height)?_(l.height,n-o[2]):Number(l.height)),"radius"in l&&(l.radius=(0,d.Z)(l.radius)?_(l.radius,Math.min(e-o[1],n-o[2])):Number(l.radius)),"hover"in l&&(l.hover.x=(0,d.Z)(l.hover.x)?_(l.hover.x,e-o[1]):Number(l.hover.x),l.hover.y=(0,d.Z)(l.hover.y)?_(l.hover.y,n-o[2]):Number(l.hover.y),l.hover.width=(0,d.Z)(l.hover.width)?_(l.hover.width,e-o[1]):Number(l.hover.width),l.hover.height=(0,d.Z)(l.hover.height)?_(l.hover.height,n-o[2]):Number(l.hover.height),l.hover.x+=0,l.hover.y+=0),u.x=u.x+0,u.y=u.y+0,r.push(l)}return r}(t,e,n,u).forEach((t=>{var e,n,i,u,h,c,d,p,m,v,y,b,w,x,_,C,S,M,A,T,k,R,I,P,E,B,L,D;switch(t.clickable&&(t.pickable=t.clickable),t.type){case"arc":const O=(0,r.Q)({x:t.x,y:t.y,dx:null!==(e=t.dx)&&void 0!==e?e:0,dy:null!==(n=t.dy)&&void 0!==n?n:0,fill:t.fill,stroke:t.stroke,outerRadius:t.radius,startAngle:t.startAngle,endAngle:t.endAngle,pickable:!!t.pickable,cursor:t.cursor});O.name=t.name,f.appendChild(O);break;case"text":if(t.background){const e=null!==(u=null===(i=t.background)||void 0===i?void 0:i.expandX)&&void 0!==u?u:0,n=null!==(c=null===(h=t.background)||void 0===h?void 0:h.expandY)&&void 0!==c?c:0,r=(0,o.f)({x:t.x-e,y:t.y-n,dx:null!==(d=t.dx)&&void 0!==d?d:0,dy:null!==(p=t.dy)&&void 0!==p?p:0,width:t.width+2*e,height:t.height+2*n,cornerRadius:null!==(v=null===(m=t.background)||void 0===m?void 0:m.cornerRadius)&&void 0!==v?v:0,fill:null!==(b=null===(y=t.background)||void 0===y?void 0:y.fill)&&void 0!==b?b:"#888"});f.appendChild(r)}const F=new a.x(Object.assign({pickable:!!t.pickable,fill:null!==(w=t.color)&&void 0!==w?w:t.fill},t));F.name=t.name,f.appendChild(F);break;case"rect":const H=(0,o.f)({x:t.x,y:t.y,dx:null!==(x=t.dx)&&void 0!==x?x:0,dy:null!==(_=t.dy)&&void 0!==_?_:0,width:t.width,height:t.height,cornerRadius:t.radius,fill:t.fill,stroke:t.stroke,pickable:!!t.pickable,cursor:t.cursor});H.name=t.name,f.appendChild(H);break;case"circle":const N=(0,s.y)({x:t.x,y:t.y,dx:null!==(C=t.dx)&&void 0!==C?C:0,dy:null!==(S=t.dy)&&void 0!==S?S:0,radius:t.radius,fill:t.fill,stroke:t.stroke,pickable:!!t.pickable,cursor:t.cursor});N.name=t.name,f.appendChild(N);break;case"icon":const z=new g.J({x:t.x,y:t.y,dx:null!==(M=t.dx)&&void 0!==M?M:0,dy:null!==(A=t.dy)&&void 0!==A?A:0,width:t.width,height:t.height,image:t.svg,backgroundWidth:t.hover?null!==(T=t.hover.width)&&void 0!==T?T:t.width:void 0,backgroundHeight:t.hover?null!==(k=t.hover.width)&&void 0!==k?k:t.width:void 0,backgroundColor:t.hover?null!==(R=t.hover.bgColor)&&void 0!==R?R:"rgba(22,44,66,0.2)":void 0,pickable:!!t.pickable,cursor:t.cursor});z.name=t.name,z.role="icon-custom",f.appendChild(z);break;case"image":const W=new g.J({x:t.x,y:t.y,dx:null!==(I=t.dx)&&void 0!==I?I:0,dy:null!==(P=t.dy)&&void 0!==P?P:0,width:t.width,height:t.height,image:t.src,backgroundWidth:t.hover?null!==(E=t.hover.width)&&void 0!==E?E:t.width:void 0,backgroundHeight:t.hover?null!==(B=t.hover.width)&&void 0!==B?B:t.width:void 0,backgroundColor:t.hover?null!==(L=t.hover.bgColor)&&void 0!==L?L:"rgba(22,44,66,0.2)":void 0,pickable:!!t.pickable,cursor:t.cursor,shape:t.shape});W.name=t.name,W.role="image-custom",f.appendChild(W);break;case"line":const j=(0,l.W)({points:t.points,lineWidth:null!==(D=t.lineWidth)&&void 0!==D?D:1,stroke:t.stroke,pickable:!!t.pickable,cursor:t.cursor});j.name=t.name,f.appendChild(j)}})),f}(E,v?I:f,y?P:p,A.getCellValue(n,u))),D&&B.setAttributes({x:w[3],y:w[0],width:f-w[1]-w[3],height:p-w[0]-w[2]}),C(B,f,p),!x||x.start.col===x.end.col&&x.start.row===x.end.row||M(B,n,u,0),{elementsGroup:B,renderDefault:L}}function _(t,e){return t.endsWith("px")?parseInt(t,10):t.endsWith("%")&&e?parseInt(t,10)/100*e:parseInt(t,10)}function C(t,e,n){t&&t.forEachChildren((t=>{var i,r;t&&((0,f.Z)(t.attribute.width)&&t.attribute.width.percent&&t.setAttribute("width",Math.max(0,t.attribute.width.percent/100*e+(null!==(i=t.attribute.width.delta)&&void 0!==i?i:0))),t.attribute.width<0&&t.setAttribute("width",0),(0,f.Z)(t.attribute.height)&&t.attribute.height.percent&&t.setAttribute("height",Math.max(0,t.attribute.height.percent/100*n+(null!==(r=t.attribute.height.delta)&&void 0!==r?r:0))),t.attribute.height<0&&t.setAttribute("height",0),"group"===t.type&&C(t,t.attribute.width,t.attribute.height))}))}function S(t,e){if(!t||!(0,c.Z)(t.$$typeof)&&!(0,c.Z)(t.vtype))return t;const n=t.type,{attribute:i,children:r,stateProxy:o,animation:a}=t.props,s=n({attribute:i});if(function(t,e){let n=!1;switch(t.type){case"richtext":case"rich/image":break;default:n=!0}n&&Object.keys(e).forEach((n=>{const i=u.Nv[n];i&&t.on(i,e[n])}))}(s,t.props),o&&(s.stateProxy=o),s.id=i.id,s.name=i.name,(0,p.Z)(r)?r.forEach((t=>{const n=S(t,e);n&&n.type&&s.add(n)})):r&&s.add(S(r,e)),(0,p.Z)(a)&&e){const t=s.animate();t.setTimeline(e),a.forEach((e=>{t[e[0]](...e.slice(1))}))}return s}function M(t,e,n,i,r){t&&(t.name=`${y}${null!=r?r:""}_${i}`,t.onBeforeAttributeUpdate=A,"group"===t.type&&t.childrenCount&&t.forEachChildren(((t,o)=>{M(t,e,n,o,(null!=r?r:"")+"_"+i)})))}function A(t,e){const n=this;if(n.skipMergeUpdate)return;const i=(0,v.J$)(n);if(!i||!i.stage)return;const r=i.stage.table;n.skipAttributeUpdate=!0;const{mergeStartCol:o,mergeEndCol:a,mergeStartRow:s,mergeEndRow:l}=i;if((0,c.Z)(o)&&(0,c.Z)(a)&&(0,c.Z)(s)&&(0,c.Z)(l)&&(o!==a||s!==l)){for(let e=o;e<=a;e++)for(let o=s;o<=l;o++){if(e===i.col&&o===i.row)continue;const a=r.scenegraph.highPerformanceGetCell(e,o);if("cell"===a.role){const e=a.getChildByName(n.name,!0);if(!e||e.skipAttributeUpdate)continue;for(const n in t)t[n]!==e.attribute[n]&&"dx"!==n&&"dy"!==n&&e.setAttribute(n,t[n])}}n.skipAttributeUpdate=void 0}}},33932:function(t,e,n){"use strict";n.d(e,{e:function(){return s},k:function(){return l}});var i=n(84306),r=n(92096),o=n(22304),a=n(94378);const s=(0,i.Gg)();class l extends r.ZA{constructor(t,e){if(super(e),this.type="chart",this.numberType=s,this.isShareChartSpec=t,e.chartInstance)this.chartInstance=e.chartInstance;else{const t=this.chartInstance=new e.ClassType(e.spec,(0,o.Z)({},this.attribute.tableChartOption,{renderCanvas:e.canvas,mode:"node"===this.attribute.mode?"node":"desktop-browser",modeParams:this.attribute.modeParams,canvasControled:!1,viewBox:{x1:0,x2:0,y1:0,y2:0},dpr:e.dpr,interactive:!1,animation:!1,autoFit:!1}));t.renderSync(),t.getStage().enableDirtyBounds(),e.chartInstance=this.chartInstance=t}}activate(t){var e,n,i,r;this.active=!0;const{col:s,row:u}=this.parent,{x1:h,y1:c,x2:d,y2:f}=this.getViewBox(),p=function(t,e,n){var i,r,o,s,l,u,h,c;const{layoutMap:d}=n.internalProps,f=new a.YZ,p=n.scenegraph.tableGroup.globalAABBBounds;return f.x1=p.x1,f.x2=p.x2,f.y1=p.y1,f.y2=p.y2,d.isLeftBottomCorner(t,e)||d.isRightTopCorner(t,e)||d.isLeftTopCorner(t,e)||d.isRightBottomCorner(t,e)||(d.isFrozenColumn(t,e)?(f.y1=p.y1+n.getFrozenRowsHeight(),f.y2=p.y2-n.getBottomFrozenRowsHeight()):d.isFrozenRow(t,e)?(f.x1=p.x1+n.getFrozenColsWidth(),f.x2=p.x2-n.getRightFrozenColsWidth()):d.isRightFrozenColumn(t,e)?(f.y1=p.y1+n.getFrozenRowsHeight(),f.y2=p.y2-n.getBottomFrozenRowsHeight()):d.isBottomFrozenRow(t,e)?(f.x1=p.x1+n.getFrozenColsWidth(),f.x2=p.x2-n.getRightFrozenColsWidth()):d.isFrozenColumn(t,e)||d.isRightFrozenColumn(t,e)||(f.x1=p.x1+n.getFrozenColsWidth(),f.x2=p.x2-n.getRightFrozenColsWidth(),f.y1=p.y1+n.getFrozenRowsHeight(),f.y2=p.y2-n.getBottomFrozenRowsHeight())),f.x1=f.x1+(null!==(r=null===(i=n.options.viewBox)||void 0===i?void 0:i.x1)&&void 0!==r?r:0),f.x2=f.x2+(null!==(s=null===(o=n.options.viewBox)||void 0===o?void 0:o.x1)&&void 0!==s?s:0),f.y1=f.y1+(null!==(u=null===(l=n.options.viewBox)||void 0===l?void 0:l.y1)&&void 0!==u?u:0),f.y2=f.y2+(null!==(c=null===(h=n.options.viewBox)||void 0===h?void 0:h.y1)&&void 0!==c?c:0),f}(s,u,t).intersect({x1:h-t.scrollLeft,x2:d-t.scrollLeft,y1:c-t.scrollTop,y2:f-t.scrollTop});this.activeChartInstance=new this.attribute.ClassType(this.attribute.spec,(0,o.Z)({},this.attribute.tableChartOption,{renderCanvas:this.attribute.canvas,mode:"desktop-browser",canvasControled:!1,viewBox:{x1:0,x2:d-h,y1:0,y2:f-c},dpr:t.internalProps.pixelRatio,animation:!1,interactive:!0,autoFit:!1,beforeRender:e=>{const n=this.stage,i=e.window.getContext(),r=n.window.getViewBoxTransform(),o=n.window.getViewBox();i.inuse=!0,i.clearMatrix(),i.setTransform(r.a,r.b,r.c,r.d,r.e,r.f,!0),i.translate(o.x1,o.y1),i.setTransformForCurrent(!0),i.beginPath(),i.rect(p.x1,p.y1,p.x2-p.x1,p.y2-p.y1),i.clip(),i.clearMatrix(),t.options.canvas&&!e.needRender&&(e.pauseRender(),t.scenegraph.stage.dirtyBounds.union(this.globalAABBBounds),t.scenegraph.updateNextFrame())},afterRender(t){t.window.getContext().inuse=!1,t.needRender=!1,g.resumeRender()}}));const g=this.activeChartInstance.getStage(),m=this.globalTransMatrix.clone(),v=this.stage.window.getViewBoxTransform();m.multiply(v.a,v.b,v.c,v.d,v.e,v.f),g.window.setViewBoxTransform&&g.window.setViewBoxTransform(m.a,m.b,m.c,m.d,m.e,m.f),this.activeChartInstance.renderSync(),null===(n=null===(e=t.internalProps.layoutMap)||void 0===e?void 0:e.updateDataStateToActiveChartInstance)||void 0===n||n.call(e,this.activeChartInstance),this.activeChartInstance.on("click",(e=>{var n;!1===(null===(n=this.attribute.spec.select)||void 0===n?void 0:n.enable)?t.scenegraph.updateChartState(null):l.temp&&t.scenegraph.updateChartState(null==e?void 0:e.datum)})),this.activeChartInstance.on("brushEnd",(e=>{var n;t.scenegraph.updateChartState(null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.inBrushData),l.temp=0,setTimeout((()=>{l.temp=1}),0)})),null===(r=(i=t)._bindChartEvent)||void 0===r||r.call(i,this.activeChartInstance)}deactivate(){var t,e;this.active=!1,null===(t=this.activeChartInstance)||void 0===t||t.updateViewBox({x1:-1e3,x2:-800,y1:-1e3,y2:-800},!1,!1),null===(e=this.activeChartInstance)||void 0===e||e.release(),this.activeChartInstance=null}updateData(t){this.attribute.data=t}getViewBox(){var t,e,n,i,r,o,a,s;const l=this.parent,u=this.attribute.cellPadding,h=this.stage.table,{x1:c,y1:d,x2:f,y2:p}=l.globalAABBBounds;return{x1:Math.ceil(c+u[3]+h.scrollLeft+(null!==(e=null===(t=h.options.viewBox)||void 0===t?void 0:t.x1)&&void 0!==e?e:0)),x2:Math.ceil(c+l.attribute.width-u[1]+h.scrollLeft+(null!==(i=null===(n=h.options.viewBox)||void 0===n?void 0:n.x1)&&void 0!==i?i:0)),y1:Math.ceil(d+u[0]+h.scrollTop+(null!==(o=null===(r=h.options.viewBox)||void 0===r?void 0:r.y1)&&void 0!==o?o:0)),y2:Math.ceil(d+l.attribute.height-u[2]+h.scrollTop+(null!==(s=null===(a=h.options.viewBox)||void 0===a?void 0:a.y1)&&void 0!==s?s:0))}}}l.temp=1},25946:function(t,e,n){"use strict";n.d(e,{A8:function(){return s},LO:function(){return l},Ry:function(){return c},a5:function(){return d},eO:function(){return p},pF:function(){return f}});var i=n(90154),r=n(80331),o=n(70375),a=n(94378);const s=[],l=[];let u=5,h=!1;function c(t){(0,o.Z)(t)&&(u=t)}function d(){return h}function f(t){var e,n,i,r,o,s;const{axes:l,dataId:u,data:h,spec:c,ClassType:d,canvas:f,mode:p,modeParams:v,dpr:y}=t.attribute;let{chartInstance:b}=t;b||(b=new d(c,{renderCanvas:f,mode:"node"===p?"node":"desktop-browser",modeParams:v,canvasControled:!1,viewBox:{x1:0,x2:0,y1:0,y2:0},dpr:y,interactive:!1,animation:!1,autoFit:!1}),b.renderSync(),t.chartInstance=b);const w=t.getViewBox();w.x2<=w.x1&&(w.x2=w.x1+1),w.y2<=w.y1&&(w.y2=w.y1+1),b.updateViewBox({x1:0,x2:w.x2-w.x1,y1:0,y2:w.y2-w.y1},!1,!1);const x=b.getStage(),_=t.globalTransMatrix.clone(),C=t.stage.window.getViewBoxTransform();_.multiply(C.a,C.b,C.c,C.d,C.e,C.f),x.window.setViewBoxTransform&&x.window.setViewBoxTransform(_.a,_.b,_.c,_.d,_.e,_.f);const{table:S}=t.getRootNode();let M=!1;if(S.options.specFormat){const e=S.options.specFormat(t.attribute.spec);if(e.needFormatSpec&&e.spec){const t=e.spec;b.updateSpecSync(t),M=!0}}if(!M)if(null==l||l.forEach(((t,e)=>{var n,i,r,o,a;"band"===t.type?b.updateModelSpec({type:"axes",index:e},{domain:t.domain.slice(0)},!0):b.updateModelSpecSync({type:"axes",index:e},{min:null!==(i=null===(n=t.range)||void 0===n?void 0:n.min)&&void 0!==i?i:0,max:null!==(o=null===(r=t.range)||void 0===r?void 0:r.max)&&void 0!==o?o:0,tick:{tickMode:null===(a=t.tick)||void 0===a?void 0:a.tickMode}},!0)})),null===(n=null===(e=S.internalProps.layoutMap)||void 0===e?void 0:e.updateDataStateToActiveChartInstance)||void 0===n||n.call(e,b),"string"==typeof u)b.updateDataSync(u,null!=h?h:[]);else{const t=[];for(const e in u){const n=u[e],a=c.series.find((t=>{var n;return(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.id)===e}));t.push({id:e,values:n?null!==(i=null==h?void 0:h.filter((t=>t.hasOwnProperty(n))))&&void 0!==i?i:[]:null!=h?h:[],fields:null===(r=null==a?void 0:a.data)||void 0===r?void 0:r.fields}),b.updateFullDataSync||b.updateDataSync(e,n?null!==(o=null==h?void 0:h.filter((t=>t.hasOwnProperty(n))))&&void 0!==o?o:[]:null!=h?h:[])}null===(s=b.updateFullDataSync)||void 0===s||s.call(b,t)}!function(t,e){var n;const{viewWidth:i,viewHeight:r}=t;if(i<g&&r<g)return e.cacheCanvas=m(t),void(e.isShareChartSpec||(null===(n=e.chartInstance)||void 0===n||n.release(),e.chartInstance=null,e.setAttribute("chartInstance",null)));const o=Math.ceil(r/g),s=Math.ceil(i/g),l=[];for(let e=0;e<o;e++)for(let n=0;n<s;n++){const o=n*g,s=e*g,u=o+g>i?i:o+g,h=s+g>r?r:s+g,c=u-o,d=h-s,f=new a.YZ;f.setValue(o,s,u,h);const p=m(t,!1,f);l.push({canvas:p,x:o,y:s,width:c,height:d})}e.cacheCanvas=l}(b.getStage(),t)}function p(t){h=!0,l.length>0?requestAnimationFrame((()=>{const e=l.splice(0,u);s.splice(0,u),e.forEach((t=>{f(t),t.addUpdateBoundTag()})),t.render(),p(t)})):h=!1}const g=2e3;function m(t,e=!0,n){if("released"===t.releaseStatus)return null;const o=t.window.getViewBoxTransform(),a=function(t,e=!0,n){const o=t.window.getViewBoxTransform(),a=i.n.get(r.Oo),s=n?-n.x1:0,l=n?-n.y1:0,u=n?n.x2:t.viewWidth,h=n?n.y2:t.viewHeight,c=n?n.width():t.viewWidth,d=n?n.height():t.viewHeight;return a.create({viewBox:{x1:s,y1:l,x2:u,y2:h},width:c*o.a,height:d*o.d,dpr:t.window.dpr,canvasControled:!0,offscreen:!0,title:""}),t.renderTo(a),a}(t,e,n);a.setViewBoxTransform(o.a,o.b,o.c,o.d,0,0),t.renderTo(a);const s=a.getNativeHandler();return s.nativeCanvas?s.nativeCanvas:null}},58788:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(92096);class r extends i.ZA{clear(){this.removeAllChild()}getChildByName(t,e){let n=null;return this.forEachChildren((e=>e.name===t&&(n=e,!0))),e&&this.forEachChildren((e=>{if(e.getChildByName){const i=e.getChildByName(t,!0);if(i)return n=i,!0}return!1})),n}get width(){var t;let e=this.AABBBounds.width();return e!==1/0&&e!==-1/0||(e=0),Math.max(e,null!==(t=this.attribute.width)&&void 0!==t?t:0)}get height(){var t;let e=this.AABBBounds.height();return e!==1/0&&e!==-1/0||(e=0),Math.max(e,null!==(t=this.attribute.height)&&void 0!==t?t:0)}setDeltaWidth(t){var e;0!==t&&(this.setAttribute("width",(null!==(e=this.attribute.width)&&void 0!==e?e:0)+t),this.border&&(this.border.setAttribute("width",this.border.attribute.width+t),"group"===this.border.type&&this.border.firstChild.setAttribute("width",this.border.firstChild.attribute.width+t)))}setDeltaHeight(t){var e;0!==t&&(this.setAttribute("height",(null!==(e=this.attribute.height)&&void 0!==e?e:0)+t),this.border&&(this.border.setAttribute("height",this.border.attribute.height+t),"group"===this.border.type&&this.border.firstChild.setAttribute("width",this.border.firstChild.attribute.height+t)))}setDeltaX(t){0!==t&&this.setAttribute("x",this.attribute.x+t)}setDeltaY(t){0!==t&&this.setAttribute("y",this.attribute.y+t)}forEachChildrenSkipChild(t,e="border-rect",n=!1){if(n){let n=this._lastChild,i=0;for(;n;){if(n.name!==e&&t(n,i++))return;n=n._prev}}else{let n=this._firstChild,i=0;for(;n;){if(n.name!==e&&t(n,i++))return;n=n._next}}}getColGroup(t){let e=this._firstChild;if(!e)return null;for(let n=0;n<this.childrenCount;n++){if(e.col===t)return e;e=e._next}return null}getRowGroup(t){let e=this._firstChild;if(!e)return null;for(let n=0;n<this.childrenCount;n++){if(e.row===t)return e;e=e._next}return null}addCellGroup(t){if(0===this.childrenCount||this.lastChild.row===t.row-1)this.addChild(t);else{let e=this._firstChild;for(let n=0;n<this.childrenCount;n++){if(e.row===t.row-1)return void this.insertAfter(t,e);e=e._next}this.addChild(t)}}getChildAt(t){const e=super.getChildAt(t);return e&&"border-rect"===e.name?e._next:e}tryUpdateAABBBounds(){if("cell"===this.role){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;const t=this.shouldSelfChangeUpdateAABBBounds(),e=this.doUpdateAABBBounds();return this.addUpdateLayoutTag(),function(t,e){t.stage&&t.stage.dirtyBounds&&t.stage.renderCount&&(t.isContainer&&!e||t.stage.dirty(t.globalAABBBounds))}(this,t),e}return super.tryUpdateAABBBounds()}doUpdateAABBBounds(){if("cell"===this.role){const t=this.attribute,{x:e,y:n,width:i,height:r}=t;return this._AABBBounds.setValue(e,n,e+i,n+r),this.parent&&this.parent.addChildUpdateBoundTag(),this.clearUpdateBoundTag(),this.shadowRoot&&this.shadowRoot.tryUpdateAABBBounds(),this._AABBBounds}return"body"===this.role||"row-header"===this.role||"col-header"===this.role||"right-frozen"===this.role||"bottom-frozen"===this.role||"corner-header"===this.role||"corner-right-top-header"===this.role||"corner-right-bottom-header"===this.role||"corner-left-bottom-header"===this.role?(this._AABBBounds.setValue(-1/0,-1/0,1/0,1/0),this.parent&&this.parent.addChildUpdateBoundTag(),this.clearUpdateBoundTag(),this.shadowRoot&&this.shadowRoot.tryUpdateAABBBounds(),this._AABBBounds):super.doUpdateAABBBounds()}updateColumnRowNumber(t){this.rowNumber?this.rowNumber=Math.max(this.rowNumber,t):this.rowNumber=t}updateColumnHeight(t){this.colHeight?this.colHeight+=t:this.colHeight=t}}},18593:function(t,e,n){"use strict";n.d(e,{J:function(){return a}});var i=n(44474),r=n(5198),o=n(31331);class a extends i.E{constructor(t){super(t),"mouseenter_cell"!==this.attribute.visibleTime&&"click_cell"!==this.attribute.visibleTime||(this.attribute.opacity=0),this.attribute.hoverImage&&(this.attribute.originImage=this.attribute.image),this.attribute.isGif&&this.attribute.gif&&this.loadGif()}loadGif(){this.playing=!1,r.h.GetFile(this.attribute.gif+"?role=gif"+`&radom=${Math.random()}`,"arrayBuffer").then((t=>{const e=(0,o.vq)(t),n=(0,o.zw)(e,!0);this.renderGIF(n),this.resources.set(this.attribute.image,{state:"success",data:this.gifCanvas})})).catch((t=>{}))}get backgroundWidth(){var t,e;return null!==(e=null!==(t=this.attribute.backgroundWidth)&&void 0!==t?t:this.attribute.width)&&void 0!==e?e:0}get backgroundHeight(){var t,e;return null!==(e=null!==(t=this.attribute.backgroundHeight)&&void 0!==t?t:this.attribute.height)&&void 0!==e?e:0}renderGIF(t){this.loadedFrames=t,this.frameIndex=0,this.tempCanvas||(this.tempCanvas=document.createElement("canvas"),this.tempCtx=this.tempCanvas.getContext("2d")),this.gifCanvas||(this.gifCanvas=document.createElement("canvas"),this.gifCtx=this.gifCanvas.getContext("2d")),this.gifCanvas.width=t[0].dims.width,this.gifCanvas.height=t[0].dims.height,this.playing=!0,this.lastTime=(new Date).getTime(),this.animate().to({},1e3,"linear").loop(1/0)}renderFrame(t,e,n){const i=this.loadedFrames[this.frameIndex||0];2===i.disposalType&&this.gifCtx.clearRect(0,0,this.gifCanvas.width,this.gifCanvas.height),this.drawPatch(i),this.manipulate(t,e,n);const r=(new Date).getTime()-this.lastTime;i.delay<r&&(this.frameIndex++,this.lastTime=(new Date).getTime()),this.frameIndex>=this.loadedFrames.length&&(this.frameIndex=0)}drawPatch(t){const e=t.dims;this.frameImageData&&e.width===this.frameImageData.width&&e.height===this.frameImageData.height||(this.tempCanvas.width=e.width,this.tempCanvas.height=e.height,this.frameImageData=this.tempCtx.createImageData(e.width,e.height)),this.frameImageData.data.set(t.patch),this.tempCtx.putImageData(this.frameImageData,0,0),this.gifCtx.drawImage(this.tempCanvas,e.left,e.top)}manipulate(t,e,n){t.drawImage(this.gifCanvas,0,0,this.gifCanvas.width,this.gifCanvas.height,e,n,this.attribute.width,this.attribute.height)}setAttribute(t,e,n,i){super.setAttribute(t,e,n,i),"gif"===t&&this.loadGif()}setAttributes(t,e,n){super.setAttributes(t,e,n),t.gif&&this.loadGif()}}},65833:function(t,e,n){"use strict";n.d(e,{kE:function(){return b},pZ:function(){return C},l7:function(){return M},NQ:function(){return S},wW:function(){return w}});var i=n(97176),r=n(21969),o=n(87689),a=n(99766),s=n(95170),l=n(28348),u=n(95433),h=n(7666),c=n(85650),d=n(91192),f=n(66990),p=n(68725),g=n(35510),m=n(70375);function v(t,e){var n,i;const r=this;if(r.shadowRoot&&r.shadowRoot.childrenCount&&((0,m.Z)(t.width)||(0,m.Z)(t.height))){const e=r.shadowRoot.findChildrenByName("shadow-rect")[0];e&&e.setAttributes({width:null!==(n=t.width)&&void 0!==n?n:e.attribute.width,height:null!==(i=t.height)&&void 0!==i?i:e.attribute.height})}}var y=n(85142);function b(t,e,n,a,l,h,c,d,f,p,g,m,y,b,w,x,_,C){var S,M;let A,T=!1;if((0,s.tI)(e)){if("cell"!==a.scenegraph.highPerformanceGetCell(l,h).role)return A;e=a.getCellValue(l,h),T=!0}if("text"===t||"link"===t||C){if("link"===t){const r=e,s=a._getCellStyle(l,h);"link"===t&&("templateLink"in n&&n.templateLink||!("linkDetect"in n)||!n.linkDetect||i.tP.test(r))&&(x?(x.text.fill=(0,o.WJ)("linkColor",s,l,h,a),x.group.cursor="pointer"):x={text:{fill:(0,o.WJ)("linkColor",s,l,h,a)},group:{cursor:"pointer"}})}let s,v=!0;if(C)s=C.elementsGroup,v=C.renderDefault;else{let t,e;if("body"!==a.getCellLocation(l,h)?(t=null==n?void 0:n.headerCustomRender,e=null==n?void 0:n.headerCustomLayout):(t=(null==n?void 0:n.customRender)||a.customRender,e=null==n?void 0:n.customLayout),e||t){const n=(0,r.ws)(e,t,l,h,d,f,!1,a.isAutoRowHeight(h),m,_,a);s=n.elementsGroup,v=n.renderDefault}}A=u.F.getFunction("createTextCellGroup")(a,e,p,0,g,l,h,c,d,f,m,y,b,w,s,v,x,_,T);const M=a.internalProps.layoutMap.getAxisConfigInPivotChart(l,h);if(M){const t=new(u.F.getComponent("axis"))(M,A.attribute.width,A.attribute.height,null!==(S=M.__vtablePadding)&&void 0!==S?S:m,a);A.clear(),A.appendChild(t.component),t.overlap()}else a.internalProps.layoutMap.isEmpty(l,h)?(A.setAttributes({fill:!1,stroke:!1}),A.clear()):a.internalProps.layoutMap.isAxisCell(l,h)&&A.clear()}else if("image"===t)A=u.F.getFunction("createImageCellGroup")(p,0,g,l,h,d,f,n.keepAspectRatio,n.imageAutoSizing,m,y,b,w,a,x,_,T);else if("video"===t)A=u.F.getFunction("createVideoCellGroup")(p,0,g,l,h,d,f,n.keepAspectRatio,n.imageAutoSizing,m,y,b,w,a,x,_,T);else if("chart"===t){const t=a.internalProps.layoutMap.getChartInstance(l,h);A=u.F.getFunction("createChartCellGroup")(null,p,0,g,l,h,d,f,m,e,n.chartModule,a.internalProps.layoutMap.getChartSpec(l,h),t,null!==(M=a.internalProps.layoutMap.getChartDataId(l,h))&&void 0!==M?M:"data",a,x,a.internalProps.layoutMap.isShareChartSpec(l,h),T,a.internalProps.layoutMap.isNoChartDataRenderNothing(l,h))}else if("progressbar"===t){const t=a._getCellStyle(l,h),i=a.getCellOriginValue(l,h);A=u.F.getFunction("createTextCellGroup")(a,e,p,0,g,l,h,c,d,f,m,y,b,!1,null,!0,x,_,T);const r=u.F.getFunction("createProgressBarCell")(n,t,c,e,i,l,h,m,a,_);A.firstChild?A.insertBefore(r,A.firstChild):A.appendChild(r)}else"sparkline"===t?A=u.F.getFunction("createSparkLineCellGroup")(null,p,0,g,l,h,d,f,m,a,x,T):"checkbox"===t?A=u.F.getFunction("createCheckboxCellGroup")(null,p,0,g,l,h,c,d,f,m,y,b,w,a,x,n,_,T):"radio"===t&&(A=u.F.getFunction("createRadioCellGroup")(null,p,0,g,l,h,c,d,f,m,y,b,a,x,n,_));return A.onBeforeAttributeUpdate=v,A}function w(t,e,n,i,u,f){var p,m,v,b,w,M,A,T,k,R,I,P,E,B,L,D,O,F;const H=n.scenegraph.highPerformanceGetCell(t,e,!0),N=n.getCellLocation(t,e);let z,W,j,V,G=n.getCellValue(t,e),Z=!1;if(n.internalProps.customMergeCell){const i=n.getCustomMerge(t,e);if(i){const{range:t,text:o,style:a,customLayout:s,customRender:l}=i;W=t,z=W.start.col!==W.end.col||W.start.row!==W.end.row,G=o,j=a,(s||l)&&(V=(0,r.ws)(s,l,t.start.col,t.start.row,n.getColsWidth(t.start.col,t.end.col),n.getRowsHeight(t.start.row,t.end.row),!1,n.isAutoRowHeight(e),[0,0,0,0],W,n)),Z=!0}}let U=t,K=e;W&&(U=W.start.col,K=W.start.row);const $="body"!==N?n.getHeaderDefine(U,K):n.getBodyColumnDefine(U,K);let X="body"!==N||(null==$?void 0:$.dragOrder)||!!(null==$?void 0:$.icon)||!!(null==$?void 0:$.tree);W||!n.internalProps.enableTreeNodeMerge&&"body"===N&&!(null==$?void 0:$.mergeCell)||(W=n.getCellRange(t,e),z=W.start.col!==W.end.col||W.start.row!==W.end.row);let Y=!1;if(n.internalProps.enableTreeNodeMerge&&z){const i=n.getCellRawRecord(W.start.col,W.start.row),{vtableMergeName:o,vtableMerge:a}=null!=i?i:{};Y=a,a&&(X=!0,n.options.groupTitleCustomLayout&&(V=(0,r.ws)(n.options.groupTitleCustomLayout,void 0,W.start.col,W.start.row,n.getColsWidth(W.start.col,W.end.col),n.getRowsHeight(W.start.row,W.end.row),!1,n.isAutoRowHeight(e),[0,0,0,0],W,n)),n.options.groupTitleFieldFormat?G=n.options.groupTitleFieldFormat(i,t,e,n):o&&(G=o))}const q=j||n._getCellStyle(W?W.start.col:t,W?W.start.row:e),J=null!==(p=q.autoWrapText)&&void 0!==p?p:n.internalProps.autoWrapText,Q=(0,a.RT)(q,n,z?W.start.col:t,z?W.start.row:e,o.WJ).theme;if(Q.group.cornerRadius=(0,a.xv)(t,e,n),!i&&!z&&!((null==$?void 0:$.customLayout)||(null==$?void 0:$.customRender)||(null==$?void 0:$.headerCustomLayout)||(null==$?void 0:$.headerCustomRender))&&(f||function(t,e,n,i,r,o){var a;const l=o.getBodyColumnType(t,e),u=o.isAutoRowHeight(e),h=o.getCellValue(t,e);return!(o.isHeader(t,e)||"cell"!==n.role||"text"!==l||i||u||r||"text"!==(null===(a=n.firstChild)||void 0===a?void 0:a.type)||(0,s.tI)(h))}(t,e,H,J,X,n))){const i=n.getColWidth(t),r=n.getRowHeight(e),a=(0,y.d)(t,e,Q,n);H.setAttributes({width:i,height:r,lineWidth:null!==(v=null===(m=null==Q?void 0:Q.group)||void 0===m?void 0:m.lineWidth)&&void 0!==v?v:void 0,fill:null!==(w=null===(b=null==Q?void 0:Q.group)||void 0===b?void 0:b.fill)&&void 0!==w?w:void 0,stroke:null!==(A=null===(M=null==Q?void 0:Q.group)||void 0===M?void 0:M.stroke)&&void 0!==A?A:void 0,strokeArrayWidth:null!=a?a:void 0,strokeArrayColor:null!==(k=null===(T=null==Q?void 0:Q.group)||void 0===T?void 0:T.strokeArrayColor)&&void 0!==k?k:void 0,cursor:null!==(I=null===(R=null==Q?void 0:Q.group)||void 0===R?void 0:R.cursor)&&void 0!==I?I:void 0,cornerRadius:null!==(E=null===(P=null==Q?void 0:Q.group)||void 0===P?void 0:P.cornerRadius)&&void 0!==E?E:0,lineDash:null!==(L=null===(B=null==Q?void 0:Q.group)||void 0===B?void 0:B.lineDash)&&void 0!==L?L:void 0,y:n.scenegraph.getCellGroupY(e)}),H.forEachChildren((t=>{t.setAttributes({dx:0,dy:0})}));const s=H.getChildByName("text");if(f&&s){const t={textBaseline:"top"};s.setAttributes(Q.text?Object.assign({},Q.text,t):t)}else if(s){const a=n.getCellValue(t,e),{text:l,moreThanMaxCharacters:u}=(0,g.$)(a,n),d=(0,h.L)(t,e,n),f=q.lineClamp,p=null!==(D=(0,c.u)((0,o.WJ)("padding",q,t,e,n)))&&void 0!==D?D:[0,0,0,0],m=Q.text.textAlign;let v=0;v="center"===m?p[3]+(i-(p[1]+p[3]))/2:"right"===m?p[3]+i-(p[1]+p[3]):p[3];const y={text:1!==l.length||J?l:l[0],moreThanMaxCharacters:u,maxLineWidth:i-(p[1]+p[3]+d),textBaseline:"top",autoWrapText:J,lineClamp:f,wordBreak:"break-word",heightLimit:r-Math.floor(p[0]+p[2]),pickable:!1,dx:"left"===m?d:0,x:v};if(s.setAttributes(Q.text?Object.assign({},Q.text,y):y),s.attribute.text){const t=Q.text.textBaseline,e=r-(p[0]+p[2]);let n=0;n="middle"===t?p[0]+(e-s.AABBBounds.height())/2:"bottom"===t?p[0]+e-s.AABBBounds.height():p[0],s.setAttributes({y:n})}}return H}if(!i&&"empty"===H.role)return;const tt=Y||Z?"text":n.isHeader(t,e)?null!==(O=n._getHeaderLayoutMap(t,e).headerType)&&void 0!==O?O:"text":null!==(F=n.getBodyColumnType(t,e))&&void 0!==F?F:"text",et=Q._vtable.padding,nt=Q.text.textAlign,it=Q.text.textBaseline;let rt,ot,at;if(W?(ot=n.getColsWidth(W.start.col,W.end.col),at=n.getRowsHeight(W.start.row,W.end.row)):(ot=n.getColWidth(t),at=n.getRowHeight(e)),(0,s.tI)(G)?(H.removeAllChild(),(0,l.K)(G,n,_.bind(null,{type:tt,value:G,define:$,table:n,col:t,row:e,cellWidth:ot,cellHeight:at,oldCellGroup:H,padding:et,textAlign:nt,textBaseline:it,mayHaveIcon:X,addNew:i,range:W,customResult:V,customStyle:j}))):rt=x(tt,G,$,n,t,e,ot,at,H,et,nt,it,X,i,Q,W,V),z){const{width:t}=rt.attribute,{height:e}=rt.attribute;rt.contentWidth=t,rt.contentHeight=e,u?function(t,e,n,i,r,o,a,s){const{col:l,row:u}=s;t.start.row!==t.end.row&&s.contentHeight!==n&&(0,d.Zl)(s,n,n,a.isAutoRowHeight(u),i,r,o,a),t.start.col!==t.end.col&&s.contentWidth!==e&&(0,d.qs)(s,e,n,0,a.isAutoRowHeight(u),i,r,o,a.scenegraph),s.contentWidth=e,s.contentHeight=n;const h=a.getRowHeight(u);S(s,a.getColWidth(l),h,t,a)}(W,ot,at,et,nt,it,n,rt):C(W,ot,at,et,nt,it,n)}return rt}function x(t,e,n,i,r,o,a,l,u,h,c,d,p,g,m,v,y){var w,x;if((0,s.tI)(e)&&(e=i.getCellValue(r,o)),!g&&(u.row!==o||u.col!==r))return null;if(!g&&u.parent&&i.reactCustomLayout){const t=u.getChildByName("custom-container");if(t){const{col:e,row:n}=t;(0,f.Z)(e)&&(0,f.Z)(n)&&i.reactCustomLayout.removeCustomCell(e,n)}}const _=b(t,e,n,i,r,o,i.getColWidth(r),a,l,g?i.scenegraph.getColGroup(r):u.parent,g?0:i.scenegraph.getCellGroupY(o),h,c,d,p,m,v,y);return!g&&u.parent&&(u.parent.insertAfter(_,u),u.parent.removeChild(u),(null===(w=i.scenegraph)||void 0===w?void 0:w.proxy.cellCache.get(r))&&(null===(x=i.scenegraph)||void 0===x||x.proxy.cellCache.set(r,_))),_}function _(t){const{type:e,value:n,define:i,table:r,col:s,row:l,cellWidth:u,cellHeight:h,oldCellGroup:c,padding:d,textAlign:f,textBaseline:p,mayHaveIcon:g,addNew:m,range:v,customResult:y,customStyle:b}=t,w=b||r._getCellStyle(v?v.start.col:s,v?v.start.row:l),_=(0,a.RT)(w,r,v?v.start.col:s,v?v.start.row:l,o.WJ).theme;_.group.cornerRadius=(0,a.xv)(s,l,r),x(e,n,i,r,s,l,u,h,c,d,f,p,g,m,_,v,y)}function C(t,e,n,i,r,o,a){for(let s=t.start.col;s<=t.end.col;s++)for(let l=t.start.row;l<=t.end.row;l++){const u=a.scenegraph.highPerformanceGetCell(s,l,!0);if("cell"!==u.role)continue;t.start.row!==t.end.row&&u.contentHeight!==n&&(0,d.Zl)(u,n,n,a.isAutoRowHeight(l),i,r,o,a),t.start.col!==t.end.col&&u.contentWidth!==e&&(0,d.qs)(u,e,n,0,a.isAutoRowHeight(l),i,r,o,a.scenegraph),u.contentWidth=e,u.contentHeight=n;const h=a.getRowHeight(l);S(u,a.getColWidth(s),h,t,a)}}function S(t,e,n,i,r){var o,a;const{col:s,row:l}=t,u=-r.getColsWidth(i.start.col,s-1);let h=0;if(null===(o=r.options.customConfig)||void 0===o?void 0:o._disableColumnAndRowSizeRound)for(let t=i.start.row;t<=l-1;t++)h-=r.getRowHeight(t);else h=-r.getRowsHeight(i.start.row,l-1);t.forEachChildren((t=>{var e,n,i,r,o,a;"number"==typeof t._dx?(t.skipMergeUpdate=!0,t.setAttributes({dx:(null!==(e=t._dx)&&void 0!==e?e:0)+u}),t.skipMergeUpdate=!1):(t.skipMergeUpdate=!0,t._dx=null!==(n=t.attribute.dx)&&void 0!==n?n:0,t.setAttributes({dx:(null!==(i=t.attribute.dx)&&void 0!==i?i:0)+u}),t.skipMergeUpdate=!1),"number"==typeof t._dy?(t.skipMergeUpdate=!0,t.setAttributes({dy:(null!==(r=t._dy)&&void 0!==r?r:0)+h}),t.skipMergeUpdate=!1):(t._dy=null!==(o=t.attribute.dy)&&void 0!==o?o:0,t.skipMergeUpdate=!0,t.setAttributes({dy:(null!==(a=t.attribute.dy)&&void 0!==a?a:0)+h}),t.skipMergeUpdate=!1)}));const c=null!==(a=t.attribute.strokeArrayWidth)&&void 0!==a?a:t.attribute.lineWidth,d=(0,p.Z)(c),f=[0,0,0,0];s===i.start.col&&(f[3]=d?c[3]:c),l===i.start.row&&(f[0]=d?c[0]:c),s===i.end.col&&(f[1]=d?c[1]:c),l===i.end.row&&(f[2]=d?c[2]:c);const g=e!==t.attribute.width,m=n!==t.attribute.height;return t.skipMergeUpdate=!0,t.setAttributes({width:e,height:n,strokeArrayWidth:f}),t.skipMergeUpdate=!1,t.mergeStartCol=i.start.col,t.mergeStartRow=i.start.row,t.mergeEndCol=i.end.col,t.mergeEndRow=i.end.row,{widthChange:g,heightChange:m}}function M(t,e,n,i){if(i.internalProps.customMergeCell){const o=i.getCustomMerge(t,e);if(o){const{range:a,text:s,style:l,customLayout:u,customRender:h}=o;if(u||h){const o=(0,r.ws)(u,h,a.start.col,a.start.row,i.getColsWidth(a.start.col,a.end.col),i.getRowsHeight(a.start.row,a.end.row),!1,i.isAutoRowHeight(e),[0,0,0,0],a,i).elementsGroup;n.childrenCount>0&&o?n.insertBefore(o,n.firstChild):o&&n.appendChild(o);const s=i.getRowHeight(e),l=i.getColWidth(t),{width:c}=n.attribute,{height:d}=n.attribute;return n.contentWidth=c,n.contentHeight=d,S(n,l,s,a,i),a}}}}},94303:function(t,e,n){"use strict";n.d(e,{Gb:function(){return v},LP:function(){return p},SI:function(){return m},Ui:function(){return f},km:function(){return g}});var i=n(44474),r=n(45588),o=n(58788),a=n(41574),s=n(13303),l=n(87689),u=n(70375),h=n(85650),c=n(85142),d=n(91192);function f(t,e,n,a,s,f,p,m,v,b,w,x,_,C,S,M,A){var T,k,R,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$,X,Y,q,J,Q,tt,et,nt;const it=C._getCellStyle(a,s),rt=(0,l.vp)("padding",it,a,s,C);(null===(T=C.options.customConfig)||void 0===T?void 0:T.imageMargin)?b=(0,h.u)(null===(k=C.options.customConfig)||void 0===k?void 0:k.imageMargin):(0,u.Z)(rt)&&(b=rt),(null===(R=null==S?void 0:S.text)||void 0===R?void 0:R.textAlign)&&(w=null===(I=null==S?void 0:S.text)||void 0===I?void 0:I.textAlign),(null===(P=null==S?void 0:S.text)||void 0===P?void 0:P.textBaseline)&&(x=null===(E=null==S?void 0:S.text)||void 0===E?void 0:E.textBaseline);const ot=(0,c.d)(a,s,S,C);let at,st;if(A&&(at=C.scenegraph.highPerformanceGetCell(a,s,!0),at&&"cell"===at.role&&at.setAttributes({x:e,y:n,width:f,height:p,lineWidth:null!==(L=null===(B=null==S?void 0:S.group)||void 0===B?void 0:B.lineWidth)&&void 0!==L?L:void 0,fill:null!==(O=null===(D=null==S?void 0:S.group)||void 0===D?void 0:D.fill)&&void 0!==O?O:void 0,stroke:null!==(H=null===(F=null==S?void 0:S.group)||void 0===F?void 0:F.stroke)&&void 0!==H?H:void 0,strokeArrayWidth:null!=ot?ot:void 0,strokeArrayColor:null!==(z=null===(N=null==S?void 0:S.group)||void 0===N?void 0:N.strokeArrayColor)&&void 0!==z?z:void 0,cursor:null!==(j=null===(W=null==S?void 0:S.group)||void 0===W?void 0:W.cursor)&&void 0!==j?j:void 0,lineDash:null!==(G=null===(V=null==S?void 0:S.group)||void 0===V?void 0:V.lineDash)&&void 0!==G?G:void 0,lineCap:"butt",clip:!0,cornerRadius:S.group.cornerRadius})),at&&"cell"===at.role||(at=new o.Z({x:e,y:n,width:f,height:p,lineWidth:null!==(U=null===(Z=null==S?void 0:S.group)||void 0===Z?void 0:Z.lineWidth)&&void 0!==U?U:void 0,fill:null!==($=null===(K=null==S?void 0:S.group)||void 0===K?void 0:K.fill)&&void 0!==$?$:void 0,stroke:null!==(Y=null===(X=null==S?void 0:S.group)||void 0===X?void 0:X.stroke)&&void 0!==Y?Y:void 0,strokeArrayWidth:null!=ot?ot:void 0,strokeArrayColor:null!==(J=null===(q=null==S?void 0:S.group)||void 0===q?void 0:q.strokeArrayColor)&&void 0!==J?J:void 0,cursor:null!==(tt=null===(Q=null==S?void 0:S.group)||void 0===Q?void 0:Q.cursor)&&void 0!==tt?tt:void 0,lineDash:null!==(nt=null===(et=null==S?void 0:S.group)||void 0===et?void 0:et.lineDash)&&void 0!==nt?nt:void 0,lineCap:"butt",clip:!0,cornerRadius:S.group.cornerRadius}),at.role="cell",at.col=a,at.row=s,null==t||t.addCellGroup(at)),_){let t=a,e=s;M&&(t=M.start.col,e=M.start.row),st=C.getCellIcons(t,e)}let lt=0,ut=0,ht=0;if(Array.isArray(st)&&0!==st.length){const{leftIconWidth:t,rightIconWidth:e,absoluteLeftIconWidth:n,absoluteRightIconWidth:i}=(0,d.M4)(st,at,M,C);lt=t+e,ut=t,ht=e,at.forEachChildren((t=>{"icon-left"===t.role?t.setAttribute("x",t.attribute.x+b[3]):"icon-right"===t.role?t.setAttribute("x",t.attribute.x+f-e-b[1]):"icon-absolute-right"===t.role&&t.setAttribute("x",t.attribute.x+f-i-b[1])})),at.forEachChildren((t=>{"middle"===x?t.setAttribute("y",(p-t.AABBBounds.height())/2):"bottom"===x?t.setAttribute("y",p-t.AABBBounds.height()-b[2]):t.setAttribute("y",b[0])})),at._cellLeftIconWidth=ut,at._cellRightIconWidth=ht}const ct=C.getCellValue(a,s),dt=(0,i.B)({x:b[3],y:b[0],width:f-b[1]-b[3]-lt,height:p-b[0]-b[2],image:ct,cursor:"pointer"});return dt.name="image",dt.keepAspectRatio=m,dt.textAlign=w,dt.textBaseline=x,m||v?dt.resources&&dt.resources.has(dt.attribute.image)&&"success"===dt.resources.get(dt.attribute.image).state?setTimeout((()=>{y(v,m,b,w,x,dt,at,C)}),0):dt.successCallback=()=>{y(v,m,b,w,x,dt,at,C),C.scenegraph.updateNextFrame()}:dt.resources&&dt.resources.has(dt.attribute.image)&&"success"===dt.resources.get(dt.attribute.image).state?g(at,a,s,0,0,C):dt.successCallback=()=>{g(at,a,s,0,0,C)},dt.failCallback=()=>{const t=r.U();dt.image=t.damage_pic.svg},at.appendChild(dt),at}function p(t,e,n,i,r,o,a){let s=!1,l=null,u=null;const{width:h,height:c,isMerge:d}=m(a,r.table);if(h<n+o[1]+o[3]&&(l=n+o[1]+o[3],s=!0),c<i+o[2]+o[0]&&(u=i+o[2]+o[0],s=!0),s){if("number"==typeof l)if(d)for(let t=a.mergeStartCol;t<=a.mergeEndCol;t++)r.setColWidth(t,l/(a.mergeEndCol-a.mergeStartCol+1));else r.setColWidth(t,l);if("number"==typeof u)if(d)for(let t=a.mergeStartRow;t<=a.mergeEndRow;t++)r.setRowHeight(t,u/(a.mergeEndRow-a.mergeStartRow+1));else r.setRowHeight(e,u);return r.component.updateScrollBar(),!0}return!1}function g(t,e,n,i,r,o){var u,c,d,f,p,g,y,b,w,x,_,C;const S=t.getChildByName("image");if(!S)return;const M="string"!=typeof S.attribute.image&&S.attribute.image||(null===(u=S.resources)||void 0===u?void 0:u.get(S.attribute.image).data);if(!M)return;const A=o._getCellStyle(e,n),T=null!==(c=(0,l.WJ)("textAlign",A,e,n,o))&&void 0!==c?c:"left",k=null!==(d=(0,l.WJ)("textBaseline",A,e,n,o))&&void 0!==d?d:"middle";let R;R=(null===(f=o.options.customConfig)||void 0===f?void 0:f.imageMargin)?(0,h.u)(null===(p=o.options.customConfig)||void 0===p?void 0:p.imageMargin):null!==(g=(0,h.u)((0,l.WJ)("padding",A,e,n,o)))&&void 0!==g?g:[0,0,0,0];const{width:I,height:P,isMerge:E}=m(t,o),B=null!==(y=t.mergeStartCol)&&void 0!==y?y:t.col,L=null!==(b=t.mergeStartRow)&&void 0!==b?b:t.row,D=null!==(w=t.mergeEndCol)&&void 0!==w?w:t.col,O=null!==(x=t.mergeEndCol)&&void 0!==x?x:t.row,F=null!==(_=t._cellLeftIconWidth)&&void 0!==_?_:0,H=null!==(C=t._cellRightIconWidth)&&void 0!==C?C:0;if(S.keepAspectRatio){const{width:t,height:e}=(0,a.f)(M.width||M.videoWidth,M.height||M.videoHeight,I-(R[1]+R[3]),P-(R[0]+R[2])),n=(0,s.W)(0,0,I,P,t,e,T,k,R);for(let i=B;i<=D;i++)for(let r=L;r<=O;r++){const a=o.scenegraph.getCell(i,r).getChildByName("image");null==a||a.setAttributes({x:n.x,y:n.y,width:t,height:e})}}else for(let t=B;t<=D;t++)for(let e=L;e<=O;e++){const n=o.scenegraph.getCell(t,e).getChildByName("image");null==n||n.setAttributes({x:F+R[3],y:R[0],width:I-R[1]-R[3]-H-F,height:P-R[0]-R[2]})}if(t.getChildByName("play-icon")){const e=0,n=0,{width:i,height:r}=m(t,o),a=Math.floor(Math.min(i-R[1]-R[3],r-R[2]-R[0])/2),s=e+(i>S.attribute.width?S.attribute.x-e+S.attribute.width/2:i/2),l=n+(r>S.attribute.height?S.attribute.y-n+S.attribute.height/2:r/2);for(let t=B;t<=D;t++)for(let e=L;e<=O;e++)o.scenegraph.getCell(t,e).getChildByName("play-icon").setAttributes({x:s-a/2,y:l-a/2,width:a,height:a})}t.forEachChildren((t=>{"icon-left"===t.role||("icon-right"===t.role||"icon-absolute-right"===t.role)&&t.setAttribute("x",t.attribute.x+i)})),t.forEachChildren((t=>{("rect"===t.type||t.role&&t.role.startsWith("icon"))&&("middle"===k?t.setAttribute("y",R[0]+(P-R[0]-R[2]-t.AABBBounds.height())/2):"bottom"===k?t.setAttribute("y",R[0]+P-R[0]-R[2]-t.AABBBounds.height()):t.setAttribute("y",R[0]))})),E&&v(t.mergeStartCol,t.mergeEndCol,t.mergeStartRow,t.mergeEndRow,o)}function m(t,e){return"cell"===t.role&&(0,u.Z)(t.mergeStartCol)&&(0,u.Z)(t.mergeEndCol)&&(0,u.Z)(t.mergeStartRow)&&(0,u.Z)(t.mergeEndRow)?{width:e.getColsWidth(t.mergeStartCol,t.mergeEndCol),height:e.getRowsHeight(t.mergeStartRow,t.mergeEndRow),isMerge:!0}:{width:t.attribute.width,height:t.attribute.height,isMerge:!1}}function v(t,e,n,i,r){for(let o=t;o<=e;o++)for(let t=n;t<=i;t++){const e=r.scenegraph.getCell(o,t);if(e){const n=e.getChildByName("image");n&&n.setAttributes({dx:-r.getColsWidth(e.mergeStartCol,o-1),dy:-r.getRowsHeight(e.mergeStartRow,t-1)});const i=e.getChildByName("play-icon");i&&i.setAttributes({dx:-r.getColsWidth(e.mergeStartCol,o-1),dy:-r.getRowsHeight(e.mergeStartRow,t-1)})}}}function y(t,e,n,i,r,o,l,u){const h=o.resources.get(o.attribute.image).data,{col:c,row:d}=l;if(t&&!b(o)&&p(c,d,h.width,h.height,u.scenegraph,n,l),e||b(o)){const{width:t,height:e,isMerge:c}=m(l,u),{width:d,height:f}=(0,a.f)(h.width,h.height,t-n[1]-n[3],e-n[0]-n[2]),p=(0,s.W)(0,0,t,e,d,f,i,r,n);o.setAttributes({x:p.x,y:p.y,width:d,height:f}),c&&v(l.mergeStartCol,l.mergeEndCol,l.mergeStartRow,l.mergeEndRow,u)}}function b(t){const e=r.U();return t.attribute.image===e.damage_pic.svg}},52672:function(t,e,n){"use strict";n.d(e,{LQ:function(){return et},yR:function(){return nt},pk:function(){return it},m4:function(){return rt},Jy:function(){return ot},dB:function(){return at},ge:function(){return st},au:function(){return lt}});var i=n(95433),r=n(58788),o=n(33932),a=n(95170),s=n(52432);const l={};var u=n(87689),h=n(70375),c=n(85142);function d(t,e,n,i,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A){var T,k,R,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$,X,Y,q;const J=(0,a.l7)(l,s.f)[y],Q=_._getCellStyle(d,f),tt=(0,u.vp)("padding",Q,d,f,_);if((0,h.Z)(tt)&&(m=tt),!t){const o=(0,c.d)(d,f,C,_);M&&(t=_.scenegraph.highPerformanceGetCell(d,f,!0))&&"cell"===t.role&&t.setAttributes({x:n,y:i,width:p,height:g,lineWidth:null!==(k=null===(T=null==C?void 0:C.group)||void 0===T?void 0:T.lineWidth)&&void 0!==k?k:void 0,fill:null!==(I=null===(R=null==C?void 0:C.group)||void 0===R?void 0:R.fill)&&void 0!==I?I:void 0,stroke:null!==(E=null===(P=null==C?void 0:C.group)||void 0===P?void 0:P.stroke)&&void 0!==E?E:void 0,strokeArrayWidth:o,strokeArrayColor:null!==(L=null===(B=null==C?void 0:C.group)||void 0===B?void 0:B.strokeArrayColor)&&void 0!==L?L:void 0,cursor:null!==(O=null===(D=null==C?void 0:C.group)||void 0===D?void 0:D.cursor)&&void 0!==O?O:void 0,lineDash:null!==(H=null===(F=null==C?void 0:C.group)||void 0===F?void 0:F.lineDash)&&void 0!==H?H:void 0,lineCap:"butt",clip:!0,cornerRadius:C.group.cornerRadius}),t&&"cell"===t.role||((t=new r.Z({x:n,y:i,width:p,height:g,lineWidth:null!==(z=null===(N=null==C?void 0:C.group)||void 0===N?void 0:N.lineWidth)&&void 0!==z?z:void 0,fill:null!==(j=null===(W=null==C?void 0:C.group)||void 0===W?void 0:W.fill)&&void 0!==j?j:void 0,stroke:null!==(G=null===(V=null==C?void 0:C.group)||void 0===V?void 0:V.stroke)&&void 0!==G?G:void 0,strokeArrayWidth:o,strokeArrayColor:null!==(U=null===(Z=null==C?void 0:C.group)||void 0===Z?void 0:Z.strokeArrayColor)&&void 0!==U?U:void 0,cursor:null!==($=null===(K=null==C?void 0:C.group)||void 0===K?void 0:K.cursor)&&void 0!==$?$:void 0,lineDash:null!==(Y=null===(X=null==C?void 0:C.group)||void 0===X?void 0:X.lineDash)&&void 0!==Y?Y:void 0,lineCap:"butt",clip:!0,cornerRadius:C.group.cornerRadius})).role="cell",t.col=d,t.row=f,null==e||e.addCellGroup(t))}if(t.AABBBounds.width(),A&&Array.isArray(_.getCellValue(d,f))||!A){const e=new o.k(S,{stroke:!1,x:m[3],y:m[0],canvas:null!==(q=_.canvas)&&void 0!==q?q:_.scenegraph.stage.window.getContext().canvas,mode:_.options.mode,modeParams:_.options.modeParams,spec:b,ClassType:J,width:p-m[3]-m[1],height:g-m[2]-m[0],chartInstance:w,dataId:x,data:_.getCellValue(d,f)||[],cellPadding:m,dpr:_.internalProps.pixelRatio,axes:_.isPivotChart()?_.internalProps.layoutMap.getChartAxes(d,f):[],tableChartOption:_.options.chartOption});t.appendChild(e),_.internalProps.layoutMap.setChartInstance(d,f,e.chartInstance)}return t}var f=n(47505),p=n(69723),g=n(7666),m=n(91192);function v(t,e,n,i,o,s,l,h,d,v,y,b,w,x,_,C,S,M){var A,T,k,R,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,Z,U,K,$,X;if(!t){const a=(0,c.d)(o,s,_,x);M&&(t=x.scenegraph.highPerformanceGetCell(o,s,!0))&&"cell"===t.role&&t.setAttributes({x:n,y:i,width:h,height:d,lineWidth:null!==(T=null===(A=null==_?void 0:_.group)||void 0===A?void 0:A.lineWidth)&&void 0!==T?T:void 0,fill:null!==(R=null===(k=null==_?void 0:_.group)||void 0===k?void 0:k.fill)&&void 0!==R?R:void 0,stroke:null!==(P=null===(I=null==_?void 0:_.group)||void 0===I?void 0:I.stroke)&&void 0!==P?P:void 0,strokeArrayWidth:a,strokeArrayColor:null!==(B=null===(E=null==_?void 0:_.group)||void 0===E?void 0:E.strokeArrayColor)&&void 0!==B?B:void 0,cursor:null!==(D=null===(L=null==_?void 0:_.group)||void 0===L?void 0:L.cursor)&&void 0!==D?D:void 0,lineDash:null!==(F=null===(O=null==_?void 0:_.group)||void 0===O?void 0:O.lineDash)&&void 0!==F?F:void 0,lineCap:"butt",clip:!0,cornerRadius:_.group.cornerRadius}),t&&"cell"===t.role||((t=new r.Z({x:n,y:i,width:h,height:d,lineWidth:null!==(N=null===(H=null==_?void 0:_.group)||void 0===H?void 0:H.lineWidth)&&void 0!==N?N:void 0,fill:null!==(W=null===(z=null==_?void 0:_.group)||void 0===z?void 0:z.fill)&&void 0!==W?W:void 0,stroke:null!==(V=null===(j=null==_?void 0:_.group)||void 0===j?void 0:j.stroke)&&void 0!==V?V:void 0,strokeArrayWidth:a,strokeArrayColor:null!==(Z=null===(G=null==_?void 0:_.group)||void 0===G?void 0:G.strokeArrayColor)&&void 0!==Z?Z:void 0,cursor:null!==(K=null===(U=null==_?void 0:_.group)||void 0===U?void 0:U.cursor)&&void 0!==K?K:void 0,lineDash:null!==(X=null===($=null==_?void 0:_.group)||void 0===$?void 0:$.lineDash)&&void 0!==X?X:void 0,lineCap:"butt",clip:!0,cornerRadius:_.group.cornerRadius})).role="cell",t.col=o,t.row=s,null==e||e.addCellGroup(t))}let Y;if(w){let t=o,e=s;S&&(t=S.start.col,e=S.start.row),Y=x.getCellIcons(t,e)}let q=0,J=0,Q=0;if(Array.isArray(Y)&&0!==Y.length){const{leftIconWidth:e,rightIconWidth:n,absoluteLeftIconWidth:i,absoluteRightIconWidth:r}=(0,m.M4)(Y,t,S,x);q=e+n,J=e,Q=n,t.forEachChildren((t=>{"icon-left"===t.role?t.setAttribute("x",t.attribute.x+v[3]):"icon-right"===t.role?t.setAttribute("x",t.attribute.x+h-n-v[1]):"icon-absolute-right"===t.role&&t.setAttribute("x",t.attribute.x+h-r-v[1])})),t.forEachChildren((t=>{"middle"===b?t.setAttribute("y",(d-t.AABBBounds.height())/2):"bottom"===b?t.setAttribute("y",d-t.AABBBounds.height()-v[2]):t.setAttribute("y",v[0])}))}const tt=function(t,e,n,i,r,o,s,l,h){var c,d,m,v;const y=h._getCellStyle(t,e),b=(0,u.WJ)("size",y,t,e,h),w=(0,u.WJ)("spaceBetweenTextAndIcon",y,t,e,h),x=(0,u.WJ)("defaultFill",y,t,e,h),_=(0,u.WJ)("defaultStroke",y,t,e,h),C=(0,u.WJ)("disableFill",y,t,e,h),S=(0,u.WJ)("checkedFill",y,t,e,h),M=(0,u.WJ)("checkedStroke",y,t,e,h),A=(0,u.WJ)("disableCheckedFill",y,t,e,h),T=(0,u.WJ)("disableCheckedStroke",y,t,e,h),k=(0,u.WJ)("checkIconImage",y,t,e,h),R=(0,u.WJ)("indeterminateIconImage",y,t,e,h),I=h.getCellValue(t,e),P=h.getCellOriginValue(t,e);let E,B,L=null!==(c=I)&&void 0!==c?c:"";(0,f.Z)(I)?(E=I.checked,B=I.disable,L=null!==(d=I.text)&&void 0!==d?d:""):"boolean"==typeof I&&(E=I,L=""),E=h.stateManager.syncCheckedState(t,e,l.field,E);const D=(0,g.L)(t,e,h),O=h._getCellStyle(t,e),F=null!==(m=O.autoWrapText)&&void 0!==m?m:h.internalProps.autoWrapText,{lineClamp:H}=O,{checked:N,disable:z}=l;if(null==E||"function"==typeof E){const n=(0,a.vi)(N,{col:t,row:e,table:h,context:null,value:I,dataValue:P});E=h.stateManager.syncCheckedState(t,e,l.field,n)}const W=(0,a.vi)(z,{col:t,row:e,table:h,context:null,value:I,dataValue:P}),j="auto"===n,V=h.isAutoRowHeight(e),G={text:1===L.length?L[0]:L,maxLineWidth:j?1/0:i-(o[1]+o[3]+D)-b-w,textAlign:"left",textBaseline:"top",autoWrapText:F,lineClamp:H,wordBreak:"break-word",heightLimit:V?-1:r-Math.floor(o[0]+o[2]),pickable:!1,dx:D,whiteSpace:1!==L.length||F?"normal":"no-wrap"},Z={x:0,y:0,text:s.text?Object.assign({},s.text,G):G,icon:{width:Math.floor(b/1.4),height:Math.floor(b/1.4)},box:{width:b,height:b},spaceBetweenTextAndIcon:w,disabled:null!==(v=null!=B?B:W)&&void 0!==v&&v};"indeterminate"===E?(Z.checked=void 0,Z.indeterminate=!0):(Z.checked=E,Z.indeterminate=void 0),x&&(Z.box.fill=x),_&&(Z.box.stroke=_),C&&(Z.box.disableFill=C),S&&(Z.box.checkedFill=S),M&&(Z.box.checkedStroke=M),A&&(Z.box.disableCheckedFill=A),T&&(Z.box.disableCheckedStroke=T),k&&(Z.icon.checkIconImage=k),R&&(Z.icon.indeterminateIconImage=R);const U=new p.J(Z);return U.name="checkbox",U}(o,s,l-q,h,d,v,_,C,x);return tt&&t.appendChild(tt),tt.render(),h-=v[1]+v[3]+q,d-=v[0]+v[2],"center"===y?tt.setAttribute("x",v[3]+J+(h-tt.AABBBounds.width())/2):"right"===y?tt.setAttribute("x",v[3]+J+h-tt.AABBBounds.width()):tt.setAttribute("x",v[3]+J),"middle"===b?tt.setAttribute("y",v[0]+(d-tt.AABBBounds.height())/2):"bottom"===b?tt.setAttribute("y",v[0]+d-tt.AABBBounds.height()):tt.setAttribute("y",v[0]),t}var y=n(94303),b=n(66990),w=n(68725),x=n(2465),_=n(22304),C=n(15772);function S(t,e,n,i,o,a,s,l,h,d,f,p,m,v,y,x){var _,C,S,A,T,k,R,I,P,E,B,L;if(!t){const s=(0,c.d)(o,a,v,m);(t=new r.Z({x:n,y:i,width:l,height:h,lineWidth:null!==(C=null===(_=null==v?void 0:v.group)||void 0===_?void 0:_.lineWidth)&&void 0!==C?C:void 0,fill:null!==(A=null===(S=null==v?void 0:v.group)||void 0===S?void 0:S.fill)&&void 0!==A?A:void 0,stroke:null!==(k=null===(T=null==v?void 0:v.group)||void 0===T?void 0:T.stroke)&&void 0!==k?k:void 0,strokeArrayWidth:s,strokeArrayColor:null!==(I=null===(R=null==v?void 0:v.group)||void 0===R?void 0:R.strokeArrayColor)&&void 0!==I?I:void 0,cursor:null!==(E=null===(P=null==v?void 0:v.group)||void 0===P?void 0:P.cursor)&&void 0!==E?E:void 0,lineDash:null!==(L=null===(B=null==v?void 0:v.group)||void 0===B?void 0:B.lineDash)&&void 0!==L?L:void 0,lineCap:"butt",clip:!0,cornerRadius:v.group.cornerRadius})).role="cell",t.col=o,t.row=a,null==e||e.addCellGroup(t)}const{width:D,height:O}=function(t,e,n,i,r,o,a,s,l,h,c){var d,f,p,m;const v=c._getCellStyle(t,e);let y=(0,u.WJ)("size",v,t,e,c),x=(0,u.WJ)("innerRadius",v,t,e,c),_=(0,u.WJ)("outerRadius",v,t,e,c);const C=(0,u.WJ)("spaceBetweenTextAndIcon",v,t,e,c),S=(0,u.WJ)("spaceBetweenRadio",v,t,e,c),A=(0,u.WJ)("defaultFill",v,t,e,c),T=(0,u.WJ)("defaultStroke",v,t,e,c),k=(0,u.WJ)("disableFill",v,t,e,c),R=(0,u.WJ)("checkedFill",v,t,e,c),I=(0,u.WJ)("checkedStroke",v,t,e,c),P=(0,u.WJ)("disableCheckedFill",v,t,e,c),E=(0,u.WJ)("disableCheckedStroke",v,t,e,c);(0,b.Z)(_)?y=2*_:_=Math.round(y/2),(!(0,b.Z)(x)||x<0)&&(x=Math.round(_/7*3));const B=c.getCellValue(t,e),L=c.getCellOriginValue(t,e),D=(0,g.L)(t,e,c),O=c._getCellStyle(t,e),F=null!==(d=O.autoWrapText)&&void 0!==d?d:c.internalProps.autoWrapText,{lineClamp:H}=O,N="auto"===n,z=c.isAutoRowHeight(),W={maxLineWidth:N?1/0:i-(o[1]+o[3]+D)-y-C,textAlign:"left",textBaseline:"top",autoWrapText:F,lineClamp:H,wordBreak:"break-word",heightLimit:z?-1:r-Math.floor(o[0]+o[2]),pickable:!1,dx:D},j={x:0,y:0,text:a.text?Object.assign({},a.text,W):W,circle:{innerRadius:x,outerRadius:_},spaceBetweenTextAndIcon:C};A&&(j.circle.fill=A),T&&(j.circle.stroke=T),k&&(j.circle.disableFill=k),R&&(j.circle.checkedFill=R),I&&(j.circle.checkedStroke=I),P&&(j.circle.disableCheckedFill=P),E&&(j.circle.disableCheckedStroke=E);let V=0,G=0;const Z=null!==(f=s.radioDirectionInCell)&&void 0!==f?f:"vertical";if((0,w.Z)(B))B.forEach(((n,i)=>{var r,o;const a=M(n,L,i,t,e,s,F,j,c);a&&l.appendChild(a),a.id=`radio-${null!==(r=null==h?void 0:h.start.col)&&void 0!==r?r:t}-${null!==(o=null==h?void 0:h.start.row)&&void 0!==o?o:e}-${i}`,a.render();const u=a.AABBBounds;"vertical"===Z?(a.setAttribute("y",G),G+=u.height()+(i!==B.length-1?S:0),V=Math.max(V,u.width())):"horizontal"===Z&&(a.setAttribute("x",V),V+=u.width()+(i!==B.length-1?S:0),G=Math.max(G,u.height()))}));else{const n=M(B,L,void 0,t,e,s,F,j,c);n&&l.appendChild(n),n.id=`radio-${null!==(p=null==h?void 0:h.start.col)&&void 0!==p?p:t}-${null!==(m=null==h?void 0:h.start.row)&&void 0!==m?m:e}`,n.render();const i=n.AABBBounds;V=i.width(),G=i.height()}return{width:V,height:G}}(o,a,s,l,h,d,v,y,t,x,m);return l-=d[1]+d[3],h-=d[0]+d[2],t.forEachChildren((t=>{"center"===f?t.setAttribute("x",d[3]+t.attribute.x+(l-D)/2):"right"===f?t.setAttribute("x",d[3]+t.attribute.x+l-D):t.setAttribute("x",d[3]+t.attribute.x),"middle"===p?t.setAttribute("y",d[0]+t.attribute.y+(h-O)/2):"bottom"===p?t.setAttribute("y",d[0]+t.attribute.y+h-O):t.setAttribute("y",d[0]+t.attribute.y)})),t}function M(t,e,n,i,r,o,s,l,u){const h=function(t,e,n,i,r,o,s){var l,u;const h=null!==(l=o.radioCheckType)&&void 0!==l?l:"column";let c,d;return(0,f.Z)(t)?c=t.checked:"boolean"==typeof t&&(c=t),c=s.stateManager.syncRadioState(i,r,o.field,h,n,c),null!=c&&"function"!=typeof c||(d=(0,a.vi)(o.checked,{col:i,row:r,table:s,context:null,value:t,dataValue:e}),c=s.stateManager.syncRadioState(i,r,o.field,h,n,d)),null!==(u=null!=c?c:d)&&void 0!==u&&u}(t,e,n,i,r,o,u),c=function(t,e,n,i,r,o){var s;let l;(0,f.Z)(t)&&(l=t.disable);const u=(0,a.vi)(r.disable,{col:n,row:i,table:o,context:null,value:t,dataValue:e});return null!==(s=null!=l?l:u)&&void 0!==s&&s}(t,e,i,r,o,u),d=(0,f.Z)(t)?t.text:(0,x.Z)(t)?"":null!=t?t:"",p=(0,_.Z)({},l,{checked:h,disabled:c,text:{text:1===d.length?d[0]:d,whiteSpace:1!==d.length||s?"normal":"no-wrap"},boundsPadding:0}),g=new C.Y(p);return g.name="radio",g}var A=n(36337),T=n(64877),k=n(19855),R=n(67877);class I extends R.j{constructor(t){super(!1),this.type=k._f.Point,this._padding=0,this.paddingInner(1,t),this.padding=this.paddingOuter,this.paddingInner=void 0,this.paddingOuter=void 0}}var P=n(18416);const E=new I,B=new P.f;function L(t,e,n,i,o,a,s,l,u,d,f,p){var g,m,v,y,b,w,x,_,C,S,M,T,k,R,I,P,L,F,H,N,z,W,j,V;if(!t){const u=(0,c.d)(o,a,f,d);p&&(t=d.scenegraph.highPerformanceGetCell(o,a,!0))&&"cell"===t.role&&t.setAttributes({x:n,y:i,width:s,height:l,lineWidth:null!==(m=null===(g=null==f?void 0:f.group)||void 0===g?void 0:g.lineWidth)&&void 0!==m?m:void 0,fill:null!==(y=null===(v=null==f?void 0:f.group)||void 0===v?void 0:v.fill)&&void 0!==y?y:void 0,stroke:null!==(w=null===(b=null==f?void 0:f.group)||void 0===b?void 0:b.stroke)&&void 0!==w?w:void 0,strokeArrayWidth:u,strokeArrayColor:null!==(_=null===(x=null==f?void 0:f.group)||void 0===x?void 0:x.strokeArrayColor)&&void 0!==_?_:void 0,cursor:null!==(S=null===(C=null==f?void 0:f.group)||void 0===C?void 0:C.cursor)&&void 0!==S?S:void 0,lineDash:null!==(T=null===(M=null==f?void 0:f.group)||void 0===M?void 0:M.lineDash)&&void 0!==T?T:void 0,lineCap:"butt",clip:!0,cornerRadius:f.group.cornerRadius}),t&&"cell"===t.role||((t=new r.Z({x:n,y:i,width:s,height:l,lineWidth:null!==(R=null===(k=null==f?void 0:f.group)||void 0===k?void 0:k.lineWidth)&&void 0!==R?R:void 0,fill:null!==(P=null===(I=null==f?void 0:f.group)||void 0===I?void 0:I.fill)&&void 0!==P?P:void 0,stroke:null!==(F=null===(L=null==f?void 0:f.group)||void 0===L?void 0:L.stroke)&&void 0!==F?F:void 0,strokeArrayWidth:u,strokeArrayColor:null!==(N=null===(H=null==f?void 0:f.group)||void 0===H?void 0:H.strokeArrayColor)&&void 0!==N?N:void 0,cursor:null!==(W=null===(z=null==f?void 0:f.group)||void 0===z?void 0:z.cursor)&&void 0!==W?W:void 0,lineDash:null!==(V=null===(j=null==f?void 0:f.group)||void 0===j?void 0:j.lineDash)&&void 0!==V?V:void 0,lineCap:"butt",clip:!0,cornerRadius:f.group.cornerRadius})).role="cell",t.col=o,t.row=a,null==e||e.addCellGroup(t))}const G=function(t,e,n,i,r,o){let a,s;const l=o.internalProps.layoutMap.getBody(t,e).sparklineSpec,u=o.getCellValue(t,e);if(!Array.isArray(u))return;const c=r[3],d=r[0];n-=r[1]+r[3];const f=i-=r[0]+r[2];if("function"==typeof l){const r={col:t,row:e,dataValue:o.getCellOriginValue(t,e)||"",value:o.getCellValue(t,e)||"",rect:o.getCellRangeRelativeRect(o.getCellRange(t,e)),table:o};a=l(r),s=D(a,c,d,n,i)}else a=l,s=D(l,c,d,n,i);const p=[],g=[];let m,v;if("object"==typeof a.xField)E.domain(a.xField.domain),m=a.xField.field;else if("string"==typeof a.xField){const t=u.map((t=>t[a.xField]));E.domain(t),m=a.xField}else Array.isArray(u)&&(E.domain(Array.from({length:u.length},((t,e)=>e))),m=a.xField);if(E.range([0,n]),"object"==typeof a.yField)B.domain(a.yField.domain),v=a.yField.field;else if("string"==typeof a.yField){const t=O(u,a.yField);B.domain([Math.min(...t),Math.max(...t)]),v=a.yField}else if(Array.isArray(u)){const t=O(u);B.domain([Math.min(...t),Math.max(...t)]),v=a.yField}if(B.range([0,i]),"object"==typeof a.xField&&Array.isArray(a.xField.domain)){const t=u.map((t=>t[a.xField.field])),e=a.xField.domain;for(let n=0;n<e.length;n++){let i=!1;for(let r=0;r<t.length;r++)if(e[n]===t[r]){const t=u[r];if(!(0,h.Z)(t[m])||!(0,h.Z)(t[v]))break;p.push({x:0+E.scale(t[m]),y:f-B.scale(t[v]),defined:(0,h.Z)(t[v])}),g.push(t),i=!0;break}i||(p.push({x:0+E.scale(e[n]),y:0,defined:!1}),g.push({[m]:e[n],[v]:null}))}}else for(let t=0;t<u.length;t++){const e=u[t];p.push({x:0+E.scale(m?e[m]:t),y:f-B.scale(v?e[v]:e),defined:(0,h.Z)(v?e[v]:e),rawData:e}),g.push(e)}const y=s.getChildByName("sparkline-line");y&&y.setAttribute("points",p),y.bandwidth=E.step(),y.min=B.range()[0],y.max=B.range()[1];const b=s.getChildByName("sparkline-symbol-group");if(b){const t="isolatedPoint"===a.pointShowRule;if("all"===a.pointShowRule)for(let t=0;t<p.length;t++){const{x:e,y:n,defined:i}=p[t];if(i){const t=(0,A.t)({x:e,y:n});b.appendChild(t)}}else if(t)for(let t=0;t<p.length;t++){const{x:e,y:n,defined:i}=p[t];if(i&&(!p[t-1]||!p[t-1].defined)&&(!p[t+1]||!p[t+1].defined)){const t=(0,A.t)({x:e,y:n});b.appendChild(t)}}}return s}(o,a,s,l,u,d);return G&&t.appendChild(G),t}function D(t,e,n,i,o){var a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_,C,S,M,A,k;let R;R="function"==typeof t?t(null):t;const I=new r.Z({x:e,y:n,width:i,height:o,stroke:!1,fill:!1});if(I.name="sparkline","line"===R.type){const t=(0,T.W)({x:0,y:0,curveType:R.smooth?"monotoneX":"linear",stroke:null!==(l=null===(s=null===(a=R.line)||void 0===a?void 0:a.style)||void 0===s?void 0:s.stroke)&&void 0!==l?l:"blue",lineWidth:null!==(c=null===(h=null===(u=R.line)||void 0===u?void 0:u.style)||void 0===h?void 0:h.strokeWidth)&&void 0!==c?c:2});t.name="sparkline-line",I.addChild(t),R.crosshair&&(t.hover=null!==(f=null===(d=R.crosshair)||void 0===d?void 0:d.style)&&void 0!==f?f:{stroke:"#000",interpolate:"linear"});const e=new r.Z({x:0,y:0,width:i,height:o,stroke:!1,fill:!1});e.name="sparkline-symbol-group",e.setTheme({symbol:{stroke:null!==(m=null===(g=null===(p=R.point)||void 0===p?void 0:p.style)||void 0===g?void 0:g.stroke)&&void 0!==m?m:"#000",lineWidth:null!==(b=null===(y=null===(v=R.point)||void 0===v?void 0:v.style)||void 0===y?void 0:y.strokeWidth)&&void 0!==b?b:1,fill:null!==(_=null===(x=null===(w=R.point)||void 0===w?void 0:w.style)||void 0===x?void 0:x.fill)&&void 0!==_?_:"#000",size:2*(null!==(M=null===(S=null===(C=R.point)||void 0===C?void 0:C.style)||void 0===S?void 0:S.size)&&void 0!==M?M:3),symbolType:"circle"}}),I.addChild(e),e.hover=null!==(k=null===(A=R.point)||void 0===A?void 0:A.hover)&&void 0!==k&&k}return I}function O(t,e){const n=[];for(let i=0;i<t.length;i++){const r=t[i];(0,h.Z)(e)&&(0,h.Z)(r[e])?n.push(r[e]):!(0,h.Z)(e)&&(0,h.Z)(r)&&n.push(r)}return n}var F=n(44474),H=n(45588),N=n(41574),z=n(18593),W=n(13303),j=n(85650);const V=H.U();function G(t,e,n,i,o,a,s,l,d,f,p,g,v,b,w,x,_){var C,S,M,A,T,k,R,I,P,E,B,L,D,O,H,G,Z,U,K,$,X,Y,q,J,Q,tt,et,nt,it,rt;const ot=b._getCellStyle(i,o),at=(0,u.vp)("padding",ot,i,o,b);(null===(C=b.options.customConfig)||void 0===C?void 0:C.imageMargin)?f=(0,j.u)(null===(S=b.options.customConfig)||void 0===S?void 0:S.imageMargin):(0,h.Z)(at)&&(f=at),(null===(M=null==w?void 0:w.text)||void 0===M?void 0:M.textAlign)&&(p=null===(A=null==w?void 0:w.text)||void 0===A?void 0:A.textAlign),(null===(T=null==w?void 0:w.text)||void 0===T?void 0:T.textBaseline)&&(g=null===(k=null==w?void 0:w.text)||void 0===k?void 0:k.textBaseline);const st=(0,c.d)(i,o,w,b);let lt,ut;if(_&&(lt=b.scenegraph.highPerformanceGetCell(i,o,!0),lt&&"cell"===lt.role&&lt.setAttributes({x:e,y:n,width:a,height:s,lineWidth:null!==(I=null===(R=null==w?void 0:w.group)||void 0===R?void 0:R.lineWidth)&&void 0!==I?I:void 0,fill:null!==(E=null===(P=null==w?void 0:w.group)||void 0===P?void 0:P.fill)&&void 0!==E?E:void 0,stroke:null!==(L=null===(B=null==w?void 0:w.group)||void 0===B?void 0:B.stroke)&&void 0!==L?L:void 0,strokeArrayWidth:st,strokeArrayColor:null!==(O=null===(D=null==w?void 0:w.group)||void 0===D?void 0:D.strokeArrayColor)&&void 0!==O?O:void 0,cursor:null!==(G=null===(H=null==w?void 0:w.group)||void 0===H?void 0:H.cursor)&&void 0!==G?G:void 0,lineDash:null!==(U=null===(Z=null==w?void 0:w.group)||void 0===Z?void 0:Z.lineDash)&&void 0!==U?U:void 0,lineCap:"butt",clip:!0,cornerRadius:w.group.cornerRadius})),lt&&"cell"===lt.role||(lt=new r.Z({x:e,y:n,width:a,height:s,lineWidth:null!==($=null===(K=null==w?void 0:w.group)||void 0===K?void 0:K.lineWidth)&&void 0!==$?$:void 0,fill:null!==(Y=null===(X=null==w?void 0:w.group)||void 0===X?void 0:X.fill)&&void 0!==Y?Y:void 0,stroke:null!==(J=null===(q=null==w?void 0:w.group)||void 0===q?void 0:q.stroke)&&void 0!==J?J:void 0,strokeArrayWidth:st,strokeArrayColor:null!==(tt=null===(Q=null==w?void 0:w.group)||void 0===Q?void 0:Q.strokeArrayColor)&&void 0!==tt?tt:void 0,cursor:null!==(nt=null===(et=null==w?void 0:w.group)||void 0===et?void 0:et.cursor)&&void 0!==nt?nt:void 0,lineDash:null!==(rt=null===(it=null==w?void 0:w.group)||void 0===it?void 0:it.lineDash)&&void 0!==rt?rt:void 0,lineCap:"butt",clip:!0,cornerRadius:w.group.cornerRadius}),lt.role="cell",lt.col=i,lt.row=o,null==t||t.addCellGroup(lt)),v){let t=i,e=o;x&&(t=x.start.col,e=x.start.row),ut=b.getCellIcons(t,e)}let ht=0,ct=0,dt=0;if(Array.isArray(ut)&&0!==ut.length){const{leftIconWidth:t,rightIconWidth:e,absoluteLeftIconWidth:n,absoluteRightIconWidth:i}=(0,m.M4)(ut,lt,x,b);ht=t+e,ct=t,dt=e,lt.forEachChildren((t=>{"icon-left"===t.role?t.setAttribute("x",t.attribute.x+f[3]):"icon-right"===t.role?t.setAttribute("x",t.attribute.x+a-e-f[1]):"icon-absolute-right"===t.role&&t.setAttribute("x",t.attribute.x+a-i-f[1])})),lt.forEachChildren((t=>{"middle"===g?t.setAttribute("y",(s-t.AABBBounds.height())/2):"bottom"===g?t.setAttribute("y",s-t.AABBBounds.height()-f[2]):t.setAttribute("y",f[0])})),lt._cellLeftIconWidth=ct,lt._cellRightIconWidth=dt}const ft=b.getCellValue(i,o),pt=document.createElement("video");pt.addEventListener("loadeddata",(()=>{d&&(0,y.LP)(i,o,pt.videoWidth,pt.videoHeight,b.scenegraph,f,lt);const{width:t,height:e,isMerge:n}=(0,y.SI)(lt,b);if(l){const{width:n,height:i}=(0,N.f)(pt.videoWidth,pt.videoHeight,t-f[1]-f[3],e-f[0]-f[2]),r=(0,W.W)(0,0,t,e,n,i,p,g,f);gt.setAttributes({width:n,height:i,x:r.x,y:r.y,dx:0})}else gt.setAttributes({x:f[3],y:f[0],width:t-f[1]-f[3],height:e-f[2]-f[0],dy:0});n&&(0,y.Gb)(lt.mergeStartCol,lt.mergeEndCol,lt.mergeStartRow,lt.mergeEndRow,b);const{width:r,height:a}=(0,y.SI)(lt,b),s=Math.floor(Math.min(r-f[1]-f[3],a-f[2]-f[0])/2),u=0+(r>gt.attribute.width?gt.attribute.x-0+gt.attribute.width/2:r/2),h=0+(a>gt.attribute.height?gt.attribute.y-0+gt.attribute.height/2:a/2),c=new z.J({x:u-s/2,y:h-s/2,width:s,height:s,image:V.play.svg,cursor:V.play.cursor});c.name="play-icon",lt.appendChild(c),b.scenegraph.updateNextFrame()})),pt.onerror=()=>{gt.image=V.damage_pic.svg},pt.src=ft,pt.setAttribute("preload","auto");const gt=(0,F.B)({x:f[3],y:f[0],width:a-f[1]-f[3],height:s-f[2]-f[0],image:pt,cursor:"pointer"});return gt.name="image",gt.keepAspectRatio=l,gt.textAlign=p,gt.textBaseline=g,lt.appendChild(gt),lt}var Z=n(67604);function U(t,e,n,i,o,a,s,l,d,f,p,g,v,y,b,w,x,_,C){var S,M,A,T,k,R,I,P,E,B,L,D,O,F,H,N,z,W,j,V,G,U,K,$,X,Y,q,J,Q,tt,et,nt;const it=t._getCellStyle(a,s),rt=(0,u.vp)("padding",it,a,s,t);(0,h.Z)(rt)&&(p=rt),(null===(S=null==x?void 0:x.text)||void 0===S?void 0:S.textAlign)&&(g=null===(M=null==x?void 0:x.text)||void 0===M?void 0:M.textAlign),(null===(A=null==x?void 0:x.text)||void 0===A?void 0:A.textBaseline)&&(v=null===(T=null==x?void 0:x.text)||void 0===T?void 0:T.textBaseline);const ot=t.isAutoRowHeight(s),at="auto"===l,st=null!==(k=it.autoWrapText)&&void 0!==k?k:t.internalProps.autoWrapText,lt=it.lineClamp,ut=(0,c.d)(a,s,x,t);let ht;if(C&&(ht=t.scenegraph.getCell(a,s,!0),ht&&"cell"===ht.role&&ht.setAttributes({x:i,y:o,width:d,height:f,lineWidth:null!==(I=null===(R=null==x?void 0:x.group)||void 0===R?void 0:R.lineWidth)&&void 0!==I?I:void 0,fill:null!==(E=null===(P=null==x?void 0:x.group)||void 0===P?void 0:P.fill)&&void 0!==E?E:void 0,stroke:null!==(L=null===(B=null==x?void 0:x.group)||void 0===B?void 0:B.stroke)&&void 0!==L?L:void 0,strokeArrayWidth:null!=ut?ut:void 0,strokeArrayColor:null!==(O=null===(D=null==x?void 0:x.group)||void 0===D?void 0:D.strokeArrayColor)&&void 0!==O?O:void 0,cursor:null!==(H=null===(F=null==x?void 0:x.group)||void 0===F?void 0:F.cursor)&&void 0!==H?H:void 0,lineDash:null!==(z=null===(N=null==x?void 0:x.group)||void 0===N?void 0:N.lineDash)&&void 0!==z?z:void 0,lineCap:"butt",clip:!0,cornerRadius:x.group.cornerRadius})),ht&&"cell"===ht.role||(ht=new r.Z({x:i,y:o,width:d,height:f,lineWidth:null!==(j=null===(W=null==x?void 0:x.group)||void 0===W?void 0:W.lineWidth)&&void 0!==j?j:void 0,fill:null!==(G=null===(V=null==x?void 0:x.group)||void 0===V?void 0:V.fill)&&void 0!==G?G:void 0,stroke:null!==(K=null===(U=null==x?void 0:x.group)||void 0===U?void 0:U.stroke)&&void 0!==K?K:void 0,strokeArrayWidth:null!=ut?ut:void 0,strokeArrayColor:null!==(X=null===($=null==x?void 0:x.group)||void 0===$?void 0:$.strokeArrayColor)&&void 0!==X?X:void 0,cursor:null!==(q=null===(Y=null==x?void 0:x.group)||void 0===Y?void 0:Y.cursor)&&void 0!==q?q:void 0,lineDash:null!==(Q=null===(J=null==x?void 0:x.group)||void 0===J?void 0:J.lineDash)&&void 0!==Q?Q:void 0,lineCap:"butt",clip:!0,cornerRadius:x.group.cornerRadius}),ht.role="cell",ht.col=a,ht.row=s,null==n||n.addCellGroup(ht)),b&&ht.appendChild(b),w){const n=e;let i;if(y){let e=a,n=s;_&&(e=_.start.col,n=_.start.row),i=t.getCellIcons(e,n)}if((0,m.Rd)(ht,i,n,p,at,ot,st,"number"==typeof lt?lt:void 0,ht.attribute.width,ht.attribute.height,g,v,t,x,_),null===(tt=null==x?void 0:x._vtable)||void 0===tt?void 0:tt.marked){const t=(0,Z.Q)({x:ht.attribute.width,y:0,startAngle:Math.PI/2,endAngle:Math.PI,outerRadius:6,fill:"#3073F2",pickable:!1});t.name="mark",ht.appendChild(t)}}return b&&ht.setAttributes({width:Math.max(ht.attribute.width,null!==(et=b.attribute.width)&&void 0!==et?et:0),height:Math.max(ht.attribute.height,null!==(nt=b.attribute.height)&&void 0!==nt?nt:0)}),ht}var K=n(95063);function $(t,e,n,i,o,s,l,h,c,d){var f,p,g,m,v,y;t.dependField&&(o=null!==(p=null===(f=c.getCellOriginRecord(s,l))||void 0===f?void 0:f[t.dependField])&&void 0!==p?p:o),t.barType=null!==(g=t.barType)&&void 0!==g?g:"default",t.min=null!==(m=(0,a.vi)(t.min,{col:s,row:l,table:c,value:i,dataValue:o,cellHeaderPaths:void 0}))&&void 0!==m?m:0,t.max=null!==(v=(0,a.vi)(t.max,{col:s,row:l,table:c,value:i,dataValue:o,cellHeaderPaths:void 0}))&&void 0!==v?v:t.min+100;let w=0;w=d?c.getRowsHeight(d.start.row,d.end.row):c.getRowHeight(l);let x=n,_=w,C=0;(0,b.Z)(c.theme._contentOffset)&&(C=c.theme._contentOffset);const S=new r.Z({x:-C,y:-C,width:x,height:_});S.name="progress-bar";const{showBar:M,barColor:A,barBgColor:k,barPositiveColor:R,barNegativeColor:I,barAxisColor:P,barRightToLeft:E,showBarMark:B,barMarkPositiveColor:L,barMarkNegativeColor:D,barMarkWidth:O,barMarkPosition:F}=e;let{barHeight:H,barBottom:N,barPadding:z}=e;1===z.length?z=[z[0],z[0],z[0],z[0]]:2===z.length?z=[z[0],z[1],z[0],z[1]]:3===z.length&&(z=[z[0],z[1],z[2],z[1]]),z=z.map(((t,e)=>{if("string"==typeof t&&a.Bd.endsWith(t,"%")){const i=Number(t.substr(0,t.length-1));return 0===e||2===e?w*i/100:n*i/100}return Number(t)}));const W=(0,j.u)((0,u.WJ)("borderLineWidth",e,s,l,c)),V=Math.max(z[0],Math.ceil(W[0]/2)),G=Math.max(z[1],Math.floor(W[1]/2)),Z=Math.max(z[2],Math.floor(W[2]/2)),U=Math.max(z[3],Math.ceil(W[3]/2));x-=G+U,_-=Z+V,l===c.rowCount-1&&[0,"0"].includes(N)&&(_-=1);const $=V,X=U,Y=x;if("string"==typeof H&&a.Bd.endsWith(H,"%")?(H=Number(H.substr(0,H.length-1)),H=_*H/100):H=Number(H),"string"==typeof N&&a.Bd.endsWith(N,"%")?(N=Number(N.substr(0,N.length-1)),N=_*N/100):N=Number(N),(0,a.vi)(M,{col:s,row:l,table:c,context:null,value:i,dataValue:o})){let e=`${o}`;a.Bd.endsWith(e,"%")&&(e=e.substr(0,e.length-1));const n=Number(e);if(isNaN(n))return S;if("default"===(null!==(y=t.barType)&&void 0!==y?y:"default")){const e=n<t.min?0:n>t.max?1:(n-t.min)/(t.max-t.min),r=x,u=$+_-H-N;let h=Math.min(r*e,r);const d=E?X+Y-h:X;s!==c.colCount-1||1!==e||E||(h-=1);const f=(0,a.vi)(k,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:e});if(f){const t=(0,K.f)({x:d,y:u,width:r,height:H,fill:f});S.addChild(t)}const p=(0,a.vi)(A,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:e})||"#20a8d8",g=(0,K.f)({x:d,y:u,width:h,height:H,fill:p});S.addChild(g)}else if("negative"===t.barType){const e=t.min<0?-t.min:0,r=t.max>0?t.max:0,u=e/(e+r),h=1-u,d=n>0?n/r:0,f=n<0?-n/e:0,p=x,g=$+_-H-N,m=X,v=(0,a.vi)(k,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:d});if(v){const t=(0,K.f)({x:m,y:g,width:p,height:H,fill:v});S.addChild(t)}const y=E?h*p:u*p,b=Math.min(p*u*f,p),C=E?{left:m+y,top:g,width:b,height:H}:{left:m+y-b,top:g,width:b,height:H},M=(0,a.vi)(I,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:f})||"#20a8d8",A=(0,K.f)({x:C.left,y:C.top,width:C.width,height:C.height,fill:M});S.addChild(A);let z=Math.min(p*h*d,p);s!==c.colCount-1||1!==d||E||(z-=1);const W=E?{left:m+y-z,top:g,width:z,height:H}:{left:m+y,top:g,width:z,height:H},j=(0,a.vi)(R,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:d})||"#20a8d8",V=(0,K.f)({x:W.left,y:W.top,width:W.width,height:W.height,fill:j});S.addChild(V);const G=E?C.left:W.left,Z=(0,a.vi)(P,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:d}),U=(0,T.W)({x:0,y:0,stroke:Z,lineWidth:1,lineDash:[2,2],points:[{x:G,y:0},{x:G,y:w}]});if(S.addChild(U),B&&(d||f)){const t=O,e=[];let n;if(d>0)if(n=(0,a.vi)(L,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:d})||"#20a8d8","right"===F){const t=E?W.left+O/2:W.left+W.width-O/2;e.push({x:t,y:W.top}),e.push({x:t,y:W.top+W.height})}else"bottom"===F&&(e.push({x:W.left,y:W.top+W.height-O/2}),e.push({x:W.left+W.width,y:W.top+W.height-O/2}));else if(f>0)if(n=(0,a.vi)(D,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:f})||"#20a8d8","right"===F){const t=E?C.left+C.width-O/2:C.left+O/2;e.push({x:t,y:C.top}),e.push({x:t,y:C.top+C.height})}else"bottom"===F&&(e.push({x:C.left,y:C.top+C.height-O/2}),e.push({x:C.left+C.width,y:C.top+C.height-O/2}));const r=(0,T.W)({x:0,y:0,stroke:n,lineWidth:t,points:e});S.addChild(r)}}else if("negative_no_axis"===t.barType){const e=t.min<0?-t.min:0,r=t.max>0?t.max:0,u=Math.max(e,r),h=0===u?0:Math.abs(n)/u,d=x;let f=Math.min(d*h,d);s!==c.colCount-1||1!==h||E||(f-=1);const p=$+_-H-N,g=E?X+Y-f:X,m=(0,a.vi)(k,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:h});if(m){const t=(0,K.f)({x:g,y:p,width:d,height:H,fill:m});S.addChild(t)}const v={left:g,top:p,width:f,height:H};let y;y=n>=0?(0,a.vi)(R,{col:s,row:l,table:c,context:null,value:i,percentile:h,dataValue:o})||"#20a8d8":(0,a.vi)(I,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:h})||"#20a8d8";const b=(0,K.f)({x:v.left,y:v.top,width:v.width,height:v.height,fill:y});if(S.addChild(b),B&&n){const t=O,e=[];let r;if(r=n>=0?(0,a.vi)(L,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:h})||"#20a8d8":(0,a.vi)(D,{col:s,row:l,table:c,context:null,value:i,dataValue:o,percentile:h})||"#20a8d8","right"===F){const t=E?v.left+O/2:v.left+v.width-O/2;e.push({x:t,y:v.top}),e.push({x:t,y:v.top+v.height})}else"bottom"===F&&(e.push({x:v.left,y:v.top+v.height-O/2}),e.push({x:v.left+v.width,y:v.top+v.height-O/2}));const u=(0,T.W)({x:0,y:0,stroke:r,lineWidth:t,points:e});S.addChild(u)}}}return S}var X=n(99856),Y=n(25880),q=n(31479),J=n(45644),Q=n(27939);function tt(t,e,n,i,r,o){var a,s,l,u,c,d,f,p,g,m,v,y,w,x,_,C;if((null==n?void 0:n.zero)&&(t=Math.min(t,0),e=Math.max(e,0)),null==n?void 0:n.expand){const i=t,r=e;(0,h.Z)(n.expand.min)&&(t=i-(r-i)*n.expand.min),(0,h.Z)(n.expand.max)&&(e=r+(r-i)*n.expand.max)}let S,M;if((0,b.Z)(null==n?void 0:n.min)&&(t=n.min),(0,b.Z)(null==n?void 0:n.max)&&(e=n.max),"log"===(null==n?void 0:n.type)?(S=new X.Y,S.base(null!==(a=null==n?void 0:n.base)&&void 0!==a?a:10)):"symlog"===(null==n?void 0:n.type)?(S=new Y.g,S.constant(null!==(s=null==n?void 0:n.constant)&&void 0!==s?s:10)):S=new P.f,S.domain([t,e],!!(null==n?void 0:n.nice)),o)!function(t,e){t.niceMax(e.targetTicks.length)}(S,o);else if(null==n?void 0:n.nice){let t=null!==(d=null!==(u=null===(l=n.tick)||void 0===l?void 0:l.forceTickCount)&&void 0!==u?u:null===(c=n.tick)||void 0===c?void 0:c.tickCount)&&void 0!==d?d:10;(0,q.Z)(t)&&(t=t({axisLength:r,labelStyle:null!==(p=null===(f=null==n?void 0:n.label)||void 0===f?void 0:f.style)&&void 0!==p?p:{fontSize:Q.Zu.LABEL_FONT_SIZE}})),"accurateFirst"===n.niceType&&(t=Math.max(10,t)),(0,J.Z)(n.min)&&(0,J.Z)(n.max)?S.nice(t):(0,h.Z)(n.min)&&(0,J.Z)(n.max)?S.niceMax(t):(0,J.Z)(n.min)&&(0,h.Z)(n.max)&&S.niceMin(t)}return delete S._niceType,M=(null!==(m=null===(g=null==o?void 0:o.targetTicks)||void 0===g?void 0:g.length)&&void 0!==m?m:null===(v=null==n?void 0:n.tick)||void 0===v?void 0:v.forceTickCount)?S.forceTicks(null!==(w=null===(y=null==o?void 0:o.targetTicks)||void 0===y?void 0:y.length)&&void 0!==w?w:null===(x=null==n?void 0:n.tick)||void 0===x?void 0:x.forceTickCount):S.ticks((0,b.Z)(null===(_=null==n?void 0:n.tick)||void 0===_?void 0:_.tickCount)?n.tick.tickCount:5,{noDecimals:null===(C=null==n?void 0:n.tick)||void 0===C?void 0:C.noDecimals}),{range:S.domain(),ticks:M}}const et=()=>{i.F.registerFunction("createChartCellGroup",d),i.F.registerFunction("getAxisDomainRangeAndLabels",tt)},nt=()=>{i.F.registerFunction("createCheckboxCellGroup",v)},it=()=>{i.F.registerFunction("createImageCellGroup",y.Ui)},rt=()=>{i.F.registerFunction("createProgressBarCell",$)},ot=()=>{i.F.registerFunction("createRadioCellGroup",S)},at=()=>{i.F.registerFunction("createSparkLineCellGroup",L)},st=()=>{i.F.registerFunction("createTextCellGroup",U)},lt=()=>{i.F.registerFunction("createVideoCellGroup",G)}},21582:function(t,e,n){"use strict";n.d(e,{al:function(){return v},j8:function(){return _},rj:function(){return m}});var i=n(86036),r=n(23186),o=n(85650),a=n(87689),s=n(95433),l=n(70375),u=n(31479),h=n(47505),c=n(68725),d=n(66990),f=n(21969),p=n(35510),g=n(43259);function m(t,e,n,i){var r,o,a,s,l,u,h,c;t.internalProps.columnWidthConfig&&t._parseColumnWidthConfig(t.internalProps.columnWidthConfig),t.isPivotTable()&&t.internalProps.columnWidthConfigForRowHeader&&t._parseColumnWidthConfigForRowHeader(t.internalProps.columnWidthConfigForRowHeader),e=null!=e?e:0,n=null!=n?n:t.colCount-1,0===e&&n===t.colCount-1&&t._clearColRangeWidthsMap();const d=t.internalProps.layoutMap;t.isPivotTable()&&(d.enableUseGetBodyCache(),d.enableUseHeaderPathCache());const f=[],p=[];if(i)for(let e=0;e<t.colCount;e++)f[e]=t.getColWidth(e);for(let l=e;l<=n;l++){let e;if(t.internalProps.transpose||"only-header"!==(null===(o=null===(r=t.internalProps.layoutMap.columnObjects)||void 0===r?void 0:r[l])||void 0===o?void 0:o.columnWidthComputeMode)&&"only-header"!==t.columnWidthComputeMode||!("showHeader"in t.internalProps.layoutMap))e=t.internalProps.transpose||"only-body"!==(null===(s=null===(a=t.internalProps.layoutMap.columnObjects)||void 0===a?void 0:a[l])||void 0===s?void 0:s.columnWidthComputeMode)&&"only-body"!==t.columnWidthComputeMode?v(l,0,t.rowCount-1,t):v(l,t.internalProps.layoutMap.getBodyRange().start.row,t.internalProps.layoutMap.getBodyRange().end.row,t);else{const n=t.internalProps.layoutMap.showHeader;t.internalProps.layoutMap.showHeader=!0,e=v(l,0,t.internalProps.layoutMap.headerLevelCount-1,t),t.internalProps.layoutMap.showHeader=n}t._setColContentWidth(l,e),t.getColWidth(l)!==e&&t._clearColRangeWidthsMap(l),i?p[l]=Math.round(t._adjustColWidth(l,e)):t._setColWidth(l,t._adjustColWidth(l,e),!1,!0)}if("adaptive"===t.widthMode){t._clearColRangeWidthsMap();const e=t.tableNoFrameWidth;let n=0,r=0,o=t.colCount;if("only-body"===t.widthAdaptiveMode){for(let e=0;e<t.colCount;e++){const r=i&&null!==(l=p[e])&&void 0!==l?l:t.getColWidth(e);(e<t.rowHeaderLevelCount||t.isPivotChart()&&e>=t.colCount-t.rightFrozenColCount)&&(n+=r)}r=t.rowHeaderLevelCount,o=t.isPivotChart()?t.colCount-t.rightFrozenColCount:t.colCount}_(e-n,r,o,i,p,t)}else if(t.autoFillWidth){t._clearColRangeWidthsMap();const e=t.tableNoFrameWidth;let n=0,r=0;for(let e=0;e<t.colCount;e++){const o=i&&null!==(u=p[e])&&void 0!==u?u:t.getColWidth(e);(e<t.rowHeaderLevelCount||t.isPivotChart()&&e>=t.colCount-t.rightFrozenColCount)&&(n+=o),r+=o}r<e&&r>n&&_(e-n,t.rowHeaderLevelCount,t.isPivotChart()?t.colCount-t.rightFrozenColCount:t.colCount,i,p,t)}if(i){for(let e=0;e<t.colCount;e++){const n=null!==(c=null!==(h=p[e])&&void 0!==h?h:t.getColWidth(e))&&void 0!==c?c:t.getColWidth(e);n!==f[e]&&t._setColWidth(e,n,!1,!0)}t.stateManager.checkFrozen();for(let e=0;e<t.colCount;e++){const n=t.getColWidth(e);n!==f[e]&&t.scenegraph.updateColWidth(e,n-f[e],!0,!0)}t.scenegraph.updateContainer(!0)}t.isPivotTable()&&(d.disableUseGetBodyCache(),d.disableUseHeaderPathCache())}function v(t,e,n,i,r=!1){let o=function(t,e){const n=e.getColWidthDefined(t);return e.internalProps._widthResizedColMap.has(t)?e.getColWidth(t):n}(t,i);return i.internalProps.transpose&&"auto"===o&&("only-header"===i.columnWidthComputeMode&&t>=i.rowHeaderLevelCount||"only-body"===i.columnWidthComputeMode&&t<i.rowHeaderLevelCount)&&(o=i.getDefaultColumnWidth(t)),r&&!i.internalProps.transpose?y(o,t,e,n,r,i):"number"==typeof o?o:"auto"!==o&&"string"==typeof o?i._adjustColWidth(t,i._colWidthDefineToPxWidth(o)):y(o,t,e,n,r,i)}function y(t,e,n,r,o,a){var u,h,c,d,f;let p=0,g=1,m=1;if(r-n>5e3&&(m=Math.ceil((r-n)/5e3)),a.isPivotChart()&&e>=a.rowHeaderLevelCount&&e<a.colCount-a.rightFrozenColCount){if(a.internalProps.layoutMap.indicatorsAsCol)return a.defaultColWidth;{const t=a.internalProps.layoutMap.getOptimunWidthForChart(e);if(t>0)return t}}for(let v=n;v<=r;v+=g){if(a.isPivotChart()){const t=a.internalProps.layoutMap,n=t.getAxisConfigInPivotChart(e,v);if(n){const t=s.F.getFunction("computeAxisComponentWidth")(n,a);if("number"==typeof t){p=Math.max(t,p);continue}}else if(t.isLeftBottomCorner(e,v)||t.isRightTopCorner(e,v)||t.isRightBottomCorner(e,v))continue}const n=b(e,v,a);if(n&&(p=Math.max(n.width,p),!n.renderDefault))continue;const r=t;if("number"==typeof r&&"standard"===a.widthMode&&!o){p=Math.max(r,p);continue}const y=a.isHeader(e,v)?null===(u=a._getHeaderLayoutMap(e,v))||void 0===u?void 0:u.headerType:a.getBodyColumnType(e,v);if((0,l.Z)(y)&&"text"!==y&&"link"!==y&&"progressbar"!==y&&"checkbox"!==y&&"radio"!==y){p=Math.max(p,a.getColWidthDefinedNumber(e)||0);continue}let x=0;const _=a.internalProps.layoutMap;if(_.isHeader(e,v)){const t=_.getHeader(e,v);if("only-body"===(null===(h=null==t?void 0:t.define)||void 0===h?void 0:h.columnWidthComputeMode))continue;(0,l.Z)(null==t?void 0:t.hierarchyLevel)&&(x=(null!==(c=t.hierarchyLevel)&&void 0!==c?c:0)*(null!==(d=_.rowHierarchyIndent)&&void 0!==d?d:0),_.rowHierarchyTextStartAlignment&&!a.internalProps.headerHelper.getHierarchyIcon(e,v)&&(x+=a.internalProps.headerHelper.getHierarchyIconWidth()))}else if(a.isListTable()){g=m;const t=a.getBodyColumnDefine(e,v);if(null==t?void 0:t.tree){const t=a.dataSource.getIndexKey(a.getRecordShowIndexByCell(e,v));x=Array.isArray(t)&&a.getHierarchyState(e,v)!==i.g.none?(t.length-1)*(null!==(f=_.hierarchyIndent)&&void 0!==f?f:0):0,_.hierarchyTextStartAlignment&&!a.internalProps.bodyHelper.getHierarchyIcon(e,v)&&(x+=a.internalProps.headerHelper.getHierarchyIconWidth())}}const C=w(e,v,y,a);p=Math.max(C+x,p),g>1&&a.bottomFrozenRowCount>0&&v<a.rowCount-a.bottomFrozenRowCount&&v+g>=a.rowCount-a.bottomFrozenRowCount&&(v=a.rowCount-a.bottomFrozenRowCount-g,g=1,m=1)}const v=a.getMinColWidth(e),y=a.getMaxColWidth(e);return p<v?v:p>y?y:(p<=0&&(p=a.defaultColWidth),p)}function b(t,e,n){var i,r,s,l,h,c,d;const p=n.getCustomRender(t,e);let m=n.getCustomLayout(t,e);if(p||m){let v,y=1,b=0,w=!1,_=!1;(n.isHeader(t,e)||(null===(i=n.getBodyColumnDefine(t,e))||void 0===i?void 0:i.mergeCell)||n.hasCustomMerge())&&(v=n.getCellRange(t,e),y=v.end.col-v.start.col+1);const C={col:null!==(r=null==v?void 0:v.start.col)&&void 0!==r?r:t,row:null!==(s=null==v?void 0:v.start.row)&&void 0!==s?s:e,dataValue:n.getCellOriginValue(t,e),value:n.getCellValue(t,e)||"",rect:x(t,e,n),table:n,originCol:t,originRow:e};if("react-custom-layout"===m&&(m=(null===(l=n.reactCustomLayout)||void 0===l?void 0:l.getCustomLayoutFunc(t,e))||g.D),(0,u.Z)(m)){const t=m(C);if(t.rootContainer){t.rootContainer=(0,f.nH)(t.rootContainer),(0,f.Jp)(t.rootContainer,0,n.getRowHeight(e));const i=t.rootContainer.attribute.width;t.rootContainer.setStage(n.scenegraph.stage),b=i>0?i:null!==(h=t.rootContainer.AABBBounds.width())&&void 0!==h?h:0,w=t.renderDefault,_=t.enableCellPadding}else b=0,w=t.renderDefault,_=t.enableCellPadding}else if("function"==typeof p){const t=p(C);b=null!==(c=null==t?void 0:t.expectedWidth)&&void 0!==c?c:0,w=null==t?void 0:t.renderDefault}else b=null!==(d=null==p?void 0:p.expectedWidth)&&void 0!==d?d:0,w=null==p?void 0:p.renderDefault;if(b=Math.ceil(b),_){const i=n._getCellStyle(t,e),r=(0,o.u)((0,a.WJ)("padding",i,t,e,n));b+=r[1]+r[3]}return{width:b/y,renderDefault:w}}}function w(t,e,n,i){var s,l,u;let f=0;const g=i.getCellValue(t,e),m=i._getCellStyle(t,e);let v=0,y=!1;if("body"!==i.getCellLocation(t,e))y=!0;else{const n=i.getBodyColumnDefine(t,e);y=!!(null==n?void 0:n.icon)||!!(null==n?void 0:n.tree)||(null==n?void 0:n.dragOrder)}if(y){const n=i.getCellIcons(t,e);null==n||n.forEach((t=>{var e,n,i;t.positionType!==r.q0.absoluteRight&&(v+=(null!==(e=t.width)&&void 0!==e?e:0)+(null!==(n=t.marginLeft)&&void 0!==n?n:0)+(null!==(i=t.marginRight)&&void 0!==i?i:0))}))}let b=1;if(i.isHeader(t,e)||(null===(s=i.getBodyColumnDefine(t,e))||void 0===s?void 0:s.mergeCell)||i.hasCustomMerge()){const n=i.getCellRange(t,e);b=n.end.col-n.start.col+1}const w=(0,o.u)((0,a.WJ)("padding",m,t,e,i)),x=w[1]+w[3],_=(0,a.WJ)("fontSize",m,t,e,i),C=(0,a.WJ)("fontFamily",m,t,e,i),S=(0,a.WJ)("fontWeight",m,t,e,i);let M;if("checkbox"===n)M=(0,h.Z)(g)?g.text:g;else if("radio"===n)if((0,c.Z)(g)){M="";const n=i.getBodyColumnDefine(t,e),r=null!==(l=null==n?void 0:n.radioDirectionInCell)&&void 0!==l?l:"vertical";"vertical"===r?g.forEach((t=>{M+=((0,h.Z)(t)?t.text:t).toString()+"\n"})):"horizontal"===r&&g.forEach((t=>{M+=((0,h.Z)(t)?t.text:t).toString()}))}else M=(0,h.Z)(g)?g.text:g;else M=g;const A=(0,p.$)(M,i).text;if(A.length>=1&&(1!==A.length||""!==A[0])?A.forEach((t=>{const e=i.measureText(t,{fontSize:_,fontFamily:C,fontWeight:S}).width;f=Math.max((e+x+4+v)/b,f)})):f=Math.max((x+4+v)/b,f),!1!==i.internalProps.limitMaxAutoWidth&&(f=Math.min("number"==typeof i.internalProps.limitMaxAutoWidth?i.internalProps.limitMaxAutoWidth:450,f)),"checkbox"===n){const n=(0,a.WJ)("size",m,t,e,i);if(f+=n,M){const n=(0,a.WJ)("spaceBetweenTextAndIcon",m,t,e,i);f+=n}}else if("radio"===n){const n=(0,a.WJ)("size",m,t,e,i),r=(0,a.WJ)("outerRadius",m,t,e,i),o=(0,d.Z)(r)?2*r:n,s=(0,a.WJ)("spaceBetweenTextAndIcon",m,t,e,i);if((0,c.Z)(g)){const n=i.getBodyColumnDefine(t,e),r=(0,a.WJ)("spaceBetweenRadio",m,t,e,i),l=null!==(u=null==n?void 0:n.radioDirectionInCell)&&void 0!==u?u:"vertical";"vertical"===l?(f+=o,f+=s):"horizontal"===l&&(f+=(o+s)*g.length,f+=r*(g.length-1))}else f+=o,M&&(f+=s)}return f}function x(t,e,n){return{left:0,top:0,right:n.getColWidth(t),bottom:n.getRowHeight(e),width:null,height:null}}function _(t,e,n,i,r,o,a){var s,l,u,h;let c=0;const d=[],f=[];let p=0;for(let a=e;a<n;a++){const e=i&&null!==(s=r[a])&&void 0!==s?s:o.getColWidth(a),n=o.getMaxColWidth(a),u=o.getMinColWidth(a);e!==n&&e!==u?(c+=e,d.push(a)):t-=e,(null===(l=o.options.customConfig)||void 0===l?void 0:l.shrinkSparklineFirst)&&"sparkline"===o.getBodyColumnType(a,0)&&(f.push({col:a,width:e}),p+=e-o.defaultColWidth)}const g=t/c;if((null===(u=o.options.customConfig)||void 0===u?void 0:u.shrinkSparklineFirst)&&g<1&&c-t<p)for(let e=0;e<f.length;e++){const{col:n,width:s}=f[e],l=(c-t)/f.length,u=Math.floor(s-l);i?r[n]=o._adjustColWidth(n,u):a?o.scenegraph.setColWidth(n,o._adjustColWidth(n,u)):o._setColWidth(n,o._adjustColWidth(n,u),!1,!0)}else for(let e=0;e<d.length;e++){const n=d[e];let s;s=e===d.length-1?t-d.reduce(((t,e,a)=>{var s;return e!==n?t+(i?null!==(s=r[e])&&void 0!==s?s:o.getColWidth(n):o.getColWidth(e)):t}),0):Math.round((i&&null!==(h=r[n])&&void 0!==h?h:o.getColWidth(n))*g),i?r[n]=o._adjustColWidth(n,s):a?o.scenegraph.setColWidth(n,o._adjustColWidth(n,s)):o._setColWidth(n,o._adjustColWidth(n,s),!1,!0)}}},53036:function(t,e,n){"use strict";n.d(e,{P:function(){return k},Y:function(){return T}});var i=n(12255),r=n(23186),o=n(87689),a=n(85650),s=n(91192),l=n(95433),u=n(68725),h=n(70375),c=n(66990),d=n(31479),f=n(21969),p=n(37740),g=n(7666),m=n(47505),v=n(51917),y=n(69723),b=n(15772);const w=new y.J({}),x=new b.Y({});function _(t,e,n,i,r,a,s,l,u,h,d,f,p,g,y){const b=(0,m.Z)(t)?t.text:t,w=(0,v.cw)(b).split("\n")||[],_=y.getColsWidth(e,i),C=(0,o.WJ)("size",r,e,n,y);let S=(0,o.WJ)("outerRadius",r,e,n,y);const M=(0,c.Z)(S)?2*S:C;let A=0;if(a){const t=(0,o.WJ)("spaceBetweenTextAndIcon",r,e,n,y),i=_-(g[1]+g[3])-s-M-t;(0,c.Z)(S)||(S=Math.round(C/2)),x.setAttributes({text:{maxLineWidth:i,text:w,fontSize:l,fontStyle:u,fontWeight:h,fontFamily:d,lineHeight:f,wordBreak:"break-word",lineClamp:p},circle:{outerRadius:S},spaceBetweenTextAndIcon:t}),x.render(),A=x.AABBBounds.height()}else A=Math.max(C,w.length*f);return A}var C=n(22450),S=n(35510),M=n(43259);const A=new i.H({width:0,height:0,textConfig:[]});function T(t,e,n,i=!0,r){var o,a,s,l,c,d,f,g,m,v,y;"undefined"!=typeof window&&window.performance.now();const b=[],w=[];if(r)for(let i=e;i<=n;i++)b[i]=t.getRowHeight(i);const x=t.internalProps.layoutMap;t.isPivotTable()&&(x.enableUseGetBodyCache(),x.enableUseHeaderPathCache()),t.defaultHeaderRowHeight,t.defaultHeaderColWidth;const _="auto"===t.defaultHeaderRowHeight||(0,u.Z)(t.defaultHeaderRowHeight)&&t.defaultHeaderRowHeight.some((t=>"auto"===t)),C=t.isAutoRowHeight()||"adaptive"===t.heightMode&&!1!==t.options.autoHeightInAdaptiveMode,S="auto"===t.options.defaultRowHeight;if(C||_||S){e=null!=e?e:0,n=null!=n?n:t.rowCount-1,(0===e&&n===t.rowCount-1||i)&&t._clearRowRangeHeightsMap();for(let n=e;n<t.columnHeaderLevelCount;n++){let e=0,i=t.colCount-1;if((t.isPivotTable()&&!t.isPivotChart()||t.isPivotChart()&&!t.internalProps.layoutMap.indicatorsAsCol)&&I(t,n)&&!(0,p.Z)(t,t.rowHeaderLevelCount,n)&&(e=0,i=t.rowHeaderLevelCount),C||"auto"===t.getDefaultRowHeight(n)){const o=k(n,e,i,t);w[n]=Math.round(o),"only-body"!==t.heightAdaptiveMode&&r||t._setRowHeight(n,o)}}for(let e=t.rowCount-t.bottomFrozenRowCount;e<=n;e++)if(C||"auto"===t.getDefaultRowHeight(e)){const n=k(e,0,t.colCount-1,t);r?w[e]=Math.round(n):t._setRowHeight(e,n)}if(n<t.columnHeaderLevelCount||!C&&!S);else if(t.internalProps.transpose||t.isPivotTable()&&!t.internalProps.layoutMap.indicatorsAsCol||t.options.customComputeRowHeight||!function(t){var e,n,i;const{layoutMap:r}=t.internalProps,o=t.columnHeaderLevelCount;if((t.internalProps.autoWrapText||t.internalProps.enableLineBreak||t.isPivotChart())&&(t.isAutoRowHeight()||"adaptive"===t.options.heightMode))return!1;for(let a=0;a<t.colCount;a++){const s=r.getBody(a,o);if("radio"===s.cellType)return!1;if("function"==typeof s.style||"function"==typeof s.icon||(null===(e=s.define)||void 0===e?void 0:e.customRender)||(null===(n=s.define)||void 0===n?void 0:n.customLayout)||"function"==typeof(null===(i=s.define)||void 0===i?void 0:i.icon))return!1;const l=t._getCellStyle(a,o);if("function"==typeof l.padding||"function"==typeof l.fontSize||"function"==typeof l.lineHeight||!0===l.autoWrapText)return!1}return!0}(t))if(t.internalProps.transpose||t.isPivotTable()&&!t.internalProps.layoutMap.indicatorsAsCol)for(let i=Math.max(e,t.columnHeaderLevelCount);i<=n;i++){let e;e=R(t,i)?k(i,0,t.rowHeaderLevelCount,t):k(i,0,t.colCount-1,t),r?w[i]=Math.round(e):t._setRowHeight(i,e)}else for(let i=Math.max(e,t.columnHeaderLevelCount);i<=n;i++){const e=k(i,0,t.colCount-1,t);r?w[i]=Math.round(e):t._setRowHeight(i,e)}else{!function(t,e,n,i,r){if(!i.internalProps.useOneRowHeightFillAll){for(let o=e;o<=n;o++)r?r[o]=t:i._setRowHeight(o,t);i.internalProps.useOneRowHeightFillAll=!0}}(k(t.columnHeaderLevelCount,0,t.colCount-1,t),t.columnHeaderLevelCount,t.rowCount-1-t.bottomFrozenRowCount,t,r?w:void 0);for(let e=t.rowCount-t.bottomFrozenRowCount;e<=n;e++){const n=k(e,0,t.colCount-1,t);r?w[e]=Math.round(n):t._setRowHeight(e,n)}}}else if(("adaptive"===t.heightMode||t.autoFillHeight)&&t.clearRowHeightCache(),r)for(let i=e;i<=n;i++)w[i]=t.getRowHeight(i);if((0===e&&n===t.rowCount-1||i)&&t._clearRowRangeHeightsMap(),"adaptive"===t.heightMode){t._clearRowRangeHeightsMap();let e=t.tableNoFrameHeight,n=0,i=t.rowCount;if("only-body"===t.heightAdaptiveMode){const r=t.getRowsHeight(0,t.columnHeaderLevelCount-1),o=t.isPivotChart()?t.getBottomFrozenRowsHeight():0;e=t.tableNoFrameHeight-r-o,n=t.columnHeaderLevelCount,i=t.isPivotChart()?t.rowCount-t.bottomFrozenRowCount:t.rowCount}let s=0;for(let e=n;e<i;e++)s+=r&&null!==(o=w[e])&&void 0!==o?o:t.getRowHeight(e);const l=e/s;for(let o=n;o<i;o++){let s;s=o===i-1?e-(r?w.reduce(((t,e,r)=>r>=n&&r<=i-2?t+e:t),0):t.getRowsHeight(n,i-2)):Math.round((r&&null!==(a=w[o])&&void 0!==a?a:t.getRowHeight(o))*l),r?w[o]=s:t._setRowHeight(o,s,!1)}}else if(t.autoFillHeight){t._clearRowRangeHeightsMap();const e=t.tableNoFrameHeight;let n=0,i=0;for(let e=0;e<t.rowCount;e++){const o=r&&null!==(s=w[e])&&void 0!==s?s:t.getRowHeight(e);(e<t.columnHeaderLevelCount||t.isPivotChart()&&e>=t.rowCount-t.bottomFrozenRowCount)&&(i+=o),n+=o}if(t.scenegraph._dealAutoFillHeightOriginRowsHeight=n,n<e&&n-i>0){const o=t.columnHeaderLevelCount,a=t.isPivotChart()?t.rowCount-t.bottomFrozenRowCount:t.rowCount,s=(e-i)/(n-i);for(let n=o;n<a;n++){let u;u=n===a-1?e-i-(r?w.reduce(((t,e,n)=>n>=o&&n<=a-2?t+e:t),0):t.getRowsHeight(o,a-2)):Math.round((r&&null!==(l=w[n])&&void 0!==l?l:t.getRowHeight(n))*s),r?w[n]=u:t._setRowHeight(n,u,!1)}}}if(r){for(let i=e;i<=n;i++){const e=null!==(c=w[i])&&void 0!==c?c:t.getRowHeight(i);(0,h.Z)(e)&&t._setRowHeight(i,e)}for(let e=0;e<=t.frozenRowCount-1;e++){const n=t.getRowHeight(e);n!==(null!==(d=b[e])&&void 0!==d?d:t.getRowHeight(e))&&t.scenegraph.updateRowHeight(e,n-(null!==(f=b[e])&&void 0!==f?f:t.getRowHeight(e)),!0)}for(let e=t.rowCount-t.bottomFrozenRowCount;e<=t.rowCount-1;e++){const n=t.getRowHeight(e);n!==(null!==(g=b[e])&&void 0!==g?g:t.getRowHeight(e))&&t.scenegraph.updateRowHeight(e,n-(null!==(m=b[e])&&void 0!==m?m:t.getRowHeight(e)),!0)}for(let e=t.scenegraph.proxy.rowStart;e<=t.scenegraph.proxy.rowEnd;e++){const n=t.getRowHeight(e);n!==(null!==(v=b[e])&&void 0!==v?v:t.getRowHeight(e))&&t.scenegraph.updateRowHeight(e,n-(null!==(y=b[e])&&void 0!==y?y:t.getRowHeight(e)),!0)}}t.isPivotTable()&&(x.disableUseGetBodyCache(),x.disableUseHeaderPathCache())}function k(t,e,n,i){var r;if(!(i.isAutoRowHeight()||"adaptive"===i.heightMode&&!1!==i.options.autoHeightInAdaptiveMode)&&"auto"!==i.getDefaultRowHeight(t))return i.getDefaultRowHeight(t);let o;if(i.options.customComputeRowHeight){const e=i.options.customComputeRowHeight({row:t,table:i});if("number"==typeof e)return e;if("auto"!==e)return i.getDefaultRowHeight(t)}if(i.isPivotChart()&&t>=i.columnHeaderLevelCount&&t<i.rowCount-i.bottomFrozenRowCount)if(i.internalProps.layoutMap.indicatorsAsCol){const e=i.internalProps.layoutMap.getOptimunHeightForChart(t);if(e>0)return e}else{const e=i.getDefaultRowHeight(t);if((0,c.Z)(e))return e}for(let a=e;a<=n;a++){const e=P(a,t,i);if(e&&(o=(0,h.Z)(o)?Math.max(e.height,o):e.height,!e.renderDefault))continue;if(i.isPivotChart()){const e=i.internalProps.layoutMap.getAxisConfigInPivotChart(a,t);if(e){const t=l.F.getFunction("computeAxisComponentHeight")(e,i);if("number"==typeof t){o=(0,h.Z)(o)?Math.max(t,o):t;continue}}}if(i.isPivotChart()&&(i.isLeftFrozenColumn(a)&&i.isBottomFrozenRow(t)||i.isRightFrozenColumn(a)&&i.isBottomFrozenRow(t)))continue;const n=E(a,t,i.isHeader(a,t)?null===(r=i._getHeaderLayoutMap(a,t))||void 0===r?void 0:r.headerType:i.getBodyColumnType(a,t),i);o=(0,h.Z)(o)?Math.max(n,o):n}if((0,h.Z)(o))return o;const a=i.getDefaultRowHeight(t);return(0,c.Z)(a)?a:i.defaultRowHeight}function R(t,e){var n,i,r;const{layoutMap:o}=t.internalProps;if((t.internalProps.autoWrapText||t.internalProps.enableLineBreak)&&(t.isAutoRowHeight()||"adaptive"===t.options.heightMode))return!1;const a=o.getBody(t.rowHeaderLevelCount,e);if("function"==typeof a.style||"function"==typeof a.icon||(null===(n=a.define)||void 0===n?void 0:n.customRender)||(null===(i=a.define)||void 0===i?void 0:i.customLayout)||"function"==typeof(null===(r=a.define)||void 0===r?void 0:r.icon))return!1;const s=t._getCellStyle(t.rowHeaderLevelCount,e);return"function"!=typeof s.padding&&"function"!=typeof s.fontSize&&"function"!=typeof s.lineHeight&&!0!==s.autoWrapText}function I(t,e){var n,i,r;const{layoutMap:o}=t.internalProps;if(t.internalProps.autoWrapText&&(t.isAutoRowHeight()||"adaptive"===t.options.heightMode))return!1;const a=o.getHeader(t.rowHeaderLevelCount,e);if("function"==typeof a.style||"function"==typeof a.icons||(null===(n=a.define)||void 0===n?void 0:n.headerCustomRender)||(null===(i=a.define)||void 0===i?void 0:i.headerCustomLayout)||"function"==typeof(null===(r=a.define)||void 0===r?void 0:r.icon))return!1;const s=t._getCellStyle(t.rowHeaderLevelCount,e);return"function"!=typeof s.padding&&"function"!=typeof s.fontSize&&"function"!=typeof s.lineHeight&&!0!==s.autoWrapText}function P(t,e,n){var i,r,s,l,u,h,c;const p=n.getCustomRender(t,e);let g=n.getCustomLayout(t,e);if(p||g){let m,v=1,y=0,b=!1,w=!1;(n.isHeader(t,e)||(null===(i=n.getBodyColumnDefine(t,e))||void 0===i?void 0:i.mergeCell)||n.hasCustomMerge())&&(m=n.getCellRange(t,e),v=m.end.row-m.start.row+1);const x={col:null!==(r=null==m?void 0:m.start.col)&&void 0!==r?r:t,row:null!==(s=null==m?void 0:m.start.row)&&void 0!==s?s:e,dataValue:n.getCellOriginValue(t,e),value:n.getCellValue(t,e)||"",rect:B(t,e,n),table:n,originCol:t,originRow:e};if("react-custom-layout"===g&&(g=(null===(l=n.reactCustomLayout)||void 0===l?void 0:l.getCustomLayoutFunc(t,e))||M.D),(0,d.Z)(g)){const e=g(x);e.rootContainer?(e.rootContainer=(0,f.nH)(e.rootContainer),(0,f.Jp)(e.rootContainer,n.getColWidth(t),0),e.rootContainer.setStage(n.scenegraph.stage),y=null!==(u=e.rootContainer.AABBBounds.height())&&void 0!==u?u:0,b=e.renderDefault,w=e.enableCellPadding):(y=0,b=e.renderDefault,w=e.enableCellPadding)}else if("function"==typeof p){const t=p(x);y=null!==(h=null==t?void 0:t.expectedHeight)&&void 0!==h?h:0,b=null==t?void 0:t.renderDefault}else y=null!==(c=null==p?void 0:p.expectedHeight)&&void 0!==c?c:0,b=null==p?void 0:p.renderDefault;if(w){const i=n._getCellStyle(t,e),r=(0,a.u)((0,o.WJ)("padding",i,t,e,n));y+=r[0]+r[2]}return{height:y/v,renderDefault:b}}}function E(t,e,n,i){var l,h,c,d;let f=0;const p=i.getCellValue(t,e),y=i._getCellStyle(t,e);let b=0,x=0;const M=[];let T=0;const k=[];let R=0,I=!1;if("body"!==i.getCellLocation(t,e))I=!0;else{const n=i.getBodyColumnDefine(t,e);I=!!(null==n?void 0:n.icon)||!!(null==n?void 0:n.tree)||(null==n?void 0:n.dragOrder)}if(I){const n=i.getCellIcons(t,e);null==n||n.forEach((t=>{var e,n,i,o,a,s,l,u,h,c;t.positionType!==r.q0.absoluteRight&&t.positionType!==r.q0.inlineFront&&t.positionType!==r.q0.inlineEnd?(x+=(null!==(e=t.width)&&void 0!==e?e:0)+(null!==(n=t.marginLeft)&&void 0!==n?n:0)+(null!==(i=t.marginRight)&&void 0!==i?i:0),b=Math.max(b,null!==(o=t.height)&&void 0!==o?o:0)):t.positionType===r.q0.inlineFront?(M.push(t),T=Math.max(T,(null!==(a=t.height)&&void 0!==a?a:0)+(null!==(s=t.marginLeft)&&void 0!==s?s:0)+(null!==(l=t.marginRight)&&void 0!==l?l:0))):t.positionType===r.q0.inlineEnd&&(k.push(t),R=Math.max(R,(null!==(u=t.height)&&void 0!==u?u:0)+(null!==(h=t.marginLeft)&&void 0!==h?h:0)+(null!==(c=t.marginRight)&&void 0!==c?c:0)))}))}let P=1,E=t;if(i.isHeader(t,e)||(null===(l=i.getBodyColumnDefine(t,e))||void 0===l?void 0:l.mergeCell)||i.hasCustomMerge()){const n=i.getCellRange(t,e);P=n.end.row-n.start.row+1,t=n.start.col,E=n.end.col}const B=(0,a.u)((0,o.WJ)("padding",y,t,e,i)),L=(0,o.WJ)("fontSize",y,t,e,i),D=(0,o.WJ)("fontStyle",y,t,e,i),O=(0,o.WJ)("fontWeight",y,t,e,i),F=null!==(h=(0,o.WJ)("lineHeight",y,t,e,i))&&void 0!==h?h:L,H=(0,o.WJ)("fontFamily",y,t,e,i),N=(0,o.WJ)("autoWrapText",y,t,e,i),z=(0,o.WJ)("lineClamp",y,t,e,i),W=(0,o.WJ)("underline",y,t,e,i),j=null!==(c=(0,o.WJ)("underlineOffset",y,t,e,i))&&void 0!==c?c:0;let V;if("text"!==n&&"link"!==n&&"progressbar"!==n&&"checkbox"!==n&&"radio"!==n)f=F;else if("checkbox"===n)f=function(t,e,n,i,r,a,s,l,u,h,c,d,f,p,g){const y=(0,m.Z)(t)?t.text:t,b=(0,v.cw)(y).split("\n")||[],x=g.getColsWidth(e,i),_=(0,o.WJ)("size",r,e,n,g);let C=0;if(a){const t=(0,o.WJ)("spaceBetweenTextAndIcon",r,e,n,g),i=x-(p[1]+p[3])-s-_-t;w.setAttributes({text:{maxLineWidth:i,text:b,fontSize:l,fontStyle:u,fontWeight:h,fontFamily:c,lineHeight:d,wordBreak:"break-word",lineClamp:f},icon:{width:Math.floor(_/1.4),height:Math.floor(_/1.4)},box:{width:_,height:_},spaceBetweenTextAndIcon:t}),w.render(),C=w.AABBBounds.height()}else C=Math.max(_,b.length*d);return C}(p,t,e,E,y,N,x,L,D,O,H,F,z,B,i);else if("radio"===n)f=function(t,e,n,i,r,a,s,l,h,c,d,f,p,g,m){var v;if((0,u.Z)(t)){let u=0;const y=m.getBodyColumnDefine(e,n),b=(0,o.WJ)("spaceBetweenRadio",r,e,n,m),w=null!==(v=null==y?void 0:y.radioDirectionInCell)&&void 0!==v?v:"vertical";return"vertical"===w?t.forEach(((o,v)=>{const y=_(o,e,n,i,r,a,s,l,h,c,d,f,p,g,m);u+=y,v!==t.length-1&&(u+=b)})):"horizontal"===w&&t.forEach((t=>{const o=_(t,e,n,i,r,a,s,l,h,c,d,f,p,g,m);u=Math.max(o,u)})),u}return _(t,e,n,i,r,a,s,l,h,c,d,f,p,g,m)}(p,t,e,E,y,N,x,L,D,O,H,F,z,B,i);else{V=p;const n=(0,S.$)(V,i).text,r=i.getColsWidth(t,E);if(M.length||k.length)if(N){const t=Object.assign({text:null==p?void 0:p.toString(),fontFamily:H,fontSize:L,fontStyle:D,fontWeight:O,lineHeight:F});t.textBaseline="middle";const e=[...M.map((t=>(0,s.vQ)(t))),t,...k.map((t=>(0,s.vQ)(t)))];A.setAttributes({width:r-(B[1]+B[3])-x,height:0,textConfig:e}),f=A.AABBBounds.height()}else f=0,n.forEach(((t,e)=>{var r;(null===(r=i.options.customConfig)||void 0===r?void 0:r.multilinesForXTable)&&0!==e||(0===e&&M.length?f+=Math.max(F,T):e===n.length-1&&k.length?f+=Math.max(F,R):f+=F)}));else if(N){const o=(0,g.L)(t,e,i),a=r-(B[1]+B[3])-x-o,s=(0,C.Rc)({maxLineWidth:a,text:n,fontSize:L,fontStyle:D,fontWeight:O,fontFamily:H,lineHeight:F,wordBreak:"break-word",whiteSpace:1!==n.length||N?"normal":"no-wrap",lineClamp:z});f=(s.height()||("number"==typeof F?F:L))+(W?j:0)}else f=(null===(d=i.options.customConfig)||void 0===d?void 0:d.multilinesForXTable)?F:n.length*F}return(Math.max(f,b)+B[0]+B[2])/P}function B(t,e,n){return{left:0,top:0,right:n.getColWidth(t),bottom:n.getRowHeight(e),width:n.getColWidth(t),height:0}}},71766:function(t,e,n){"use strict";n.d(e,{KP:function(){return h},RW:function(){return u},kl:function(){return l},s8:function(){return d},s9:function(){return s},zO:function(){return c}});var i=n(21103),r=n(95433),o=n(85650),a=n(87689);function s(t,e){const{table:n}=t,i=n.internalProps.layoutMap,r=-1===e?"all":n.internalProps.columnResizeType;if("column"===r){const i=t.getColGroup(e),r=t.getColGroup(e,!0),o=t.getColGroupInBottom(e,!0);if(null==i||i.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))})),null==r||r.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))})),null==o||o.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))})),"adaptive"===n.widthMode&&e<n.colCount-1){const i=t.getColGroup(e+1),r=t.getColGroup(e+1,!0),o=t.getColGroupInBottom(e+1,!0);null==i||i.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))})),null==r||r.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))})),null==o||o.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))}))}}else{let o,a,s,l=n.rowHeaderLevelCount,u=n.colCount-1;if("indicator"===r)if(i.indicatorsAsCol)o=i.getIndicatorKey(e,n.columnHeaderLevelCount);else{const t=i.getCellHeaderPaths(e,n.columnHeaderLevelCount-1),r=t.colHeaderPaths[t.colHeaderPaths.length-1];a=r.dimensionKey,s=r.value}else if("indicatorGroup"===r){const t=n.internalProps.layoutMap,e=t.getCellHeaderPaths(n.stateManager.columnResize.col,n.columnHeaderLevelCount),i=t.getHeadNodeByRowOrColDimensions(e.colHeaderPaths.slice(0,e.colHeaderPaths.length-1));l=i.startInTotal+n.frozenColCount,u=i.startInTotal+n.frozenColCount+i.size-1}for(let e=l;e<=u;e++){const l=t.getColGroup(e),u=t.getColGroup(e,!0),h=t.getColGroupInBottom(e,!0);if(l){if("indicator"===r){const t=i.getIndicatorKey(e,n.columnHeaderLevelCount);if(i.indicatorsAsCol&&t!==o)continue;if(!i.indicatorsAsCol){const t=i.getCellHeaderPaths(e,n.columnHeaderLevelCount-1),r=null==t?void 0:t.colHeaderPaths[t.colHeaderPaths.length-1];if(!r||a!==r.dimensionKey||s!==r.value)continue}}l.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))})),null==u||u.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))})),null==h||h.forEachChildren((t=>{p(t,n.getColWidth(t.col),n.getRowHeight(t.row))}))}}}}function l(t,e){var n;const{table:i}=t,r=i.internalProps.layoutMap,o=i.stateManager,a=-1===e?"all":i.internalProps.rowResizeType;let s,l,u,h=i.columnHeaderLevelCount,c=i.rowCount-1;if("indicator"===a)if(r.indicatorsAsCol){const t=r.getCellHeaderPaths(i.rowHeaderLevelCount-1,e),o=null===(n=t.rowHeaderPaths)||void 0===n?void 0:n[t.rowHeaderPaths.length-1];l=null==o?void 0:o.dimensionKey,u=null==o?void 0:o.value}else s=r.getIndicatorKey(i.rowHeaderLevelCount,e);else if("indicatorGroup"===a){const t=i.internalProps.layoutMap,n=t.getCellHeaderPaths(i.rowHeaderLevelCount,e),r=t.getHeadNodeByRowOrColDimensions(n.rowHeaderPaths.slice(0,n.rowHeaderPaths.length-1));h=r.startInTotal+i.frozenRowCount,c=r.startInTotal+i.frozenRowCount+r.size-1}const d=[{startCol:t.proxy.colStart,endCol:t.proxy.colEnd}];i.frozenColCount&&d.push({startCol:0,endCol:i.frozenColCount-1}),i.rightFrozenColCount&&d.push({startCol:i.colCount-i.rightFrozenColCount,endCol:i.colCount-1}),d.forEach((({startCol:n,endCol:d})=>{for(let f=n;f<=d;f++)if("row"===a){const n=t.highPerformanceGetCell(f,e);if("cell"!==n.role)continue;if(p(n,i.getColWidth(n.col),i.getRowHeight(n.row)),"adaptive"===i.heightMode&&e<i.rowCount-1){const n=t.highPerformanceGetCell(f,e+1);p(n,i.getColWidth(n.col),i.getRowHeight(n.row))}}else for(let e=h;e<=c;e++){if("indicator"===a){const t=r.getIndicatorKey(o.table.rowHeaderLevelCount,e);if(!r.indicatorsAsCol&&t!==s)continue;if(r.indicatorsAsCol){const t=r.getCellHeaderPaths(o.table.rowHeaderLevelCount-1,e),n=null==t?void 0:t.rowHeaderPaths[t.rowHeaderPaths.length-1];if(!n||l!==n.dimensionKey||u!==n.value)continue}}const n=t.highPerformanceGetCell(f,e);"cell"===n.role&&p(n,i.getColWidth(n.col),i.getRowHeight(n.row))}}))}function u(t){var e;for(let n=t.proxy.colStart;n<=t.proxy.colEnd;n++){const i=t.getColGroup(n);null===(e=null==i?void 0:i.getChildren())||void 0===e||e.forEach((t=>{t.children.forEach((t=>{"chart"===t.type&&(t.cacheCanvas=null,t.addUpdateBoundTag())}))}))}}function h(t,e,n){n.getCell(t,e).children.forEach((t=>{"chart"===t.type&&(t.cacheCanvas=null,t.addUpdateBoundTag())}))}function c(t){var e;const n=t.table;for(let i=t.proxy.colStart;i<=t.proxy.colEnd;i++){const r=t.getColGroup(i);null===(e=null==r?void 0:r.getChildren())||void 0===e||e.forEach((t=>{const e=t.col,i=t.row;t.children.forEach((t=>{if("chart"===t.type){t.updateData(n.getCellValue(e,i));const r=t.attribute.spec,o=r.type;if("gauge"!==o&&"rose"!==o&&"radar"!==o){const o=n.internalProps.layoutMap.getChartAxes(e,i);t.setAttribute("axes",o),r.axes=o}t.setAttribute("spec",r)}}))}))}f(t.rowHeaderGroup,t.table),f(t.colHeaderGroup,t.table),f(t.rightFrozenGroup,t.table),f(t.bottomFrozenGroup,t.table)}function d(t,e){const n=t.table;if(n.isPivotChart()){const r=n._selectedDataItemsInChart.length;if((null===e||0===(null==e?void 0:e.length)||0===Object.keys(e).length)&&0===r)return;const o=[];if(Array.isArray(e))e.forEach((t=>{if(t&&0!==t.key&&Object.keys(t).length>0){const e={};for(const n in t)n.startsWith("VGRAMMAR_")||n.startsWith("__VCHART")||(e[n]=t[n]);o.push(e)}}));else if(e&&0!==e.key&&Object.keys(e).length>0){const t={};for(const n in e)n.startsWith("VGRAMMAR_")||n.startsWith("__VCHART")||(t[n]=e[n]);o.push(t)}(0,i.X)(n._selectedDataItemsInChart,o)||(n._selectedDataItemsInChart=o,n.internalProps.layoutMap.updateDataStateToChartInstance(),u(t),n.scenegraph.updateNextFrame())}}function f(t,e){t.forEachChildren((t=>{"column"===t.role&&t.forEachChildren((t=>{var n;if("cell"===t.role){let i=!1;if(t.forEachChildren((t=>"axis"===t.name&&(i=!0,!0))),i){const i=e.internalProps.layoutMap.getAxisConfigInPivotChart(t.col,t.row),s=e._getCellStyle(t.col,t.row),l=(0,o.u)((0,a.WJ)("padding",s,t.col,t.row,e)),u=new(r.F.getComponent("axis"))(i,t.attribute.width,t.attribute.height,null!==(n=i.__vtablePadding)&&void 0!==n?n:l,e);t.clear(),t.appendChild(u.component),u.overlap()}}}))}))}function p(t,e,n){t.forEachChildren((t=>{"chart"===t.type&&(t.cacheCanvas=null,t.setAttributes({width:Math.ceil(e-t.attribute.cellPadding[3]-t.attribute.cellPadding[1]),height:Math.ceil(n-t.attribute.cellPadding[0]-t.attribute.cellPadding[2])}))}))}},35510:function(t,e,n){"use strict";n.d(e,{$:function(){return o}});var i=n(44409),r=n(51917);function o(t,e){var n,o;let a,s=!1;for((0,i.Z)(t)&&t.length>(e.options.maxCharactersNumber||200)&&(t=t.slice(0,e.options.maxCharactersNumber||200),t+="",s=!0),a=e.internalProps.enableLineBreak||(null===(n=e.options.customConfig)||void 0===n?void 0:n.multilinesForXTable)?(0,r.m7)(t).replace(/\r?\n/g,"\n").replace(/\r/g,"\n").split("\n")||[]:[(0,r.m7)(t)];a.length&&a.length>1&&!a[a.length-1];)a.pop();if((null===(o=e.options.customConfig)||void 0===o?void 0:o.multilinesForXTable)&&!e.internalProps.autoWrapText)for(;a.length&&a.length>1&&!a[0];)a.shift();return{text:a,moreThanMaxCharacters:s}}},85142:function(t,e,n){"use strict";n.d(e,{d:function(){return r}});var i=n(37211);function r(t,e,n,r){var o,a,s,l,u,h,c,d,f,p,g,m,v,y,b,w,x,_;let C=null!==(a=null===(o=null==n?void 0:n.group)||void 0===o?void 0:o.strokeArrayWidth)&&void 0!==a?a:void 0;return r.theme.cellInnerBorder||!(0,i.z5)(r.theme.frameStyle.borderLineWidth)||(0,i.KV)(r.theme.frameStyle.borderLineWidth)||(0===t&&(C=null!=C?C:[null===(s=null==n?void 0:n.group)||void 0===s?void 0:s.lineWidth,null===(l=null==n?void 0:n.group)||void 0===l?void 0:l.lineWidth,null===(u=null==n?void 0:n.group)||void 0===u?void 0:u.lineWidth,null===(h=null==n?void 0:n.group)||void 0===h?void 0:h.lineWidth],C[3]=0),t===r.colCount-1&&(C=null!=C?C:[null===(c=null==n?void 0:n.group)||void 0===c?void 0:c.lineWidth,null===(d=null==n?void 0:n.group)||void 0===d?void 0:d.lineWidth,null===(f=null==n?void 0:n.group)||void 0===f?void 0:f.lineWidth,null===(p=null==n?void 0:n.group)||void 0===p?void 0:p.lineWidth],C[1]=0),0===e&&(C=null!=C?C:[null===(g=null==n?void 0:n.group)||void 0===g?void 0:g.lineWidth,null===(m=null==n?void 0:n.group)||void 0===m?void 0:m.lineWidth,null===(v=null==n?void 0:n.group)||void 0===v?void 0:v.lineWidth,null===(y=null==n?void 0:n.group)||void 0===y?void 0:y.lineWidth],C[0]=0),e===r.rowCount-1&&(C=null!=C?C:[null===(b=null==n?void 0:n.group)||void 0===b?void 0:b.lineWidth,null===(w=null==n?void 0:n.group)||void 0===w?void 0:w.lineWidth,null===(x=null==n?void 0:n.group)||void 0===x?void 0:x.lineWidth,null===(_=null==n?void 0:n.group)||void 0===_?void 0:_.lineWidth],C[2]=0)),C}},13303:function(t,e,n){"use strict";function i(t,e,n,i,r,o,a="left",s="middle",l=[0,0,0,0],u=0,h=0,c=0,d=0){const f=t+n,p=e+i;let g=t+l[3]+u;"right"===a||"end"===a?g=f-r-l[1]-h:"center"===a&&(g=t+(n-r+u-h)/2);let m=e+l[0]+c;return"bottom"===s||"alphabetic"===s||"ideographic"===s?m=p-o-l[2]-d:"middle"===s&&(m=e+(i-o+c-d)/2),{x:g,y:m}}n.d(e,{W:function(){return i}})},28348:function(t,e,n){"use strict";function i(t,e,n){t.then((()=>{n(),e.scenegraph.updateNextFrame()})).catch((t=>{}))}n.d(e,{K:function(){return i}})},37740:function(t,e,n){"use strict";function i(t,e,n){var i;if(t.internalProps.customMergeCell){const i=t.getCustomMerge(e,n);if(i)return i.range}if(!t.internalProps.enableTreeNodeMerge&&!t.isHeader(e,n)&&!(null===(i=t.getBodyColumnDefine(e,n))||void 0===i?void 0:i.mergeCell))return!1;const r=t.getCellRange(e,n);return!(r.start.col===r.end.col&&r.start.row===r.end.row)&&r}n.d(e,{Z:function(){return i}})},7666:function(t,e,n){"use strict";n.d(e,{L:function(){return a}});var i=n(70375),r=n(68725),o=n(86036);function a(t,e,n){var a,s,l,u,h;let c=0;const d=n.internalProps.layoutMap;if(d.isHeader(t,e)){const r=d.getHeader(t,e);(0,i.Z)(null==r?void 0:r.hierarchyLevel)&&(c=(null!==(a=r.hierarchyLevel)&&void 0!==a?a:0)*(null!==(s=d.rowHierarchyIndent)&&void 0!==s?s:0),d.rowHierarchyTextStartAlignment&&!n.internalProps.headerHelper.getHierarchyIcon(t,e)&&(c+=n.internalProps.headerHelper.getHierarchyIconWidth()))}else if(n.options.groupBy||(null===(l=n.getBodyColumnDefine(t,e))||void 0===l?void 0:l.tree)){const i=n.dataSource.getIndexKey(n.getRecordShowIndexByCell(t,e)),a=null!==(u=n.dataSource.getGroupLength())&&void 0!==u?u:0;let s=(0,r.Z)(i)?i.length-1:0;a>0&&s===a&&(s=0),c=Array.isArray(i)&&n.getHierarchyState(t,e)!==o.g.none?s*(null!==(h=d.hierarchyIndent)&&void 0!==h?h:0):0,d.hierarchyTextStartAlignment&&!n.internalProps.bodyHelper.getHierarchyIcon(t,e)&&(c+=n.internalProps.bodyHelper.getHierarchyIconWidth())}return c}},87689:function(t,e,n){"use strict";n.d(e,{WJ:function(){return r},vp:function(){return o}});var i=n(70375);function r(t,e,n,r,o){const a=e&&(0,i.Z)(e[t])?e[t]:void 0;return"function"==typeof a?a({col:n,row:r,table:o,value:o.getCellValue(n,r),dataValue:o.getCellOriginValue(n,r),cellHeaderPaths:o.getCellHeaderPaths(n,r)}):a}function o(t,e,n,r,o){const a=e&&(0,i.Z)(e[t])?e[t]:void 0;if("function"==typeof a)return a({col:n,row:r,table:o,value:o.getCellValue(n,r),dataValue:o.getCellOriginValue(n,r),cellHeaderPaths:o.getCellHeaderPaths(n,r)})}},41574:function(t,e,n){"use strict";function i(t,e,n,i){const r=t/e;let o,a,s,l;return r>n/i?(o=n,a=o/r,s=0,l=(i-a)/2):(a=i,o=a*r,l=0,s=(n-o)/2),{width:o,height:a}}n.d(e,{f:function(){return i}})},85650:function(t,e,n){"use strict";n.d(e,{u:function(){return s}});var i=n(58488),r=n(66990),o=n(44409),a=n(68725);function s(t){var e,n,s,l;if((0,r.Z)(t)||(0,o.Z)(t)||(0,a.Z)(t)){let e=(0,i.dj)(t);return"number"==typeof e||"string"==typeof e?e=[e,e,e,e]:Array.isArray(e)&&(e=e.slice(0)),e}return t&&(isFinite(t.bottom)||isFinite(t.left)||isFinite(t.right)||isFinite(t.top))?[null!==(e=t.top)&&void 0!==e?e:0,null!==(n=t.right)&&void 0!==n?n:0,null!==(s=t.bottom)&&void 0!==s?s:0,null!==(l=t.left)&&void 0!==l?l:0]:[0,0,0,0]}},91192:function(t,e,n){"use strict";n.d(e,{Rd:function(){return v},Bg:function(){return y},M4:function(){return _},vQ:function(){return b},Zl:function(){return x},qs:function(){return w}});var i=n(85830),r=n(12255),o=n(23186),a=n(58788),s=n(18593);class l extends a.Z{constructor(t){super(t),this._autoWidth=!1,this._autoHeight=!1,this._leftGroup=new a.Z({pickable:!1,fill:!1,stroke:!1}),this._leftGroup.role="content-left",this._rightGroup=new a.Z({pickable:!1,fill:!1,stroke:!1}),this._rightGroup.role="content-right",this._centerGroup=new a.Z({pickable:!1,fill:!1,stroke:!1}),this._centerGroup.role="content-center",this.appendChild(this._leftGroup),this.appendChild(this._rightGroup),this.appendChild(this._centerGroup)}setCellContentOption(t){this._autoWidth=t.autoWidth,this._autoHeight=t.autoHeight,this._cellWidth=t.cellWidth,this._originCellWidth=t.cellWidth,this._cellHeight=t.cellHeight,this._align=t.align,this._baseline=t.baseline}addLeftOccupyingIcon(t){var e,n,i;t.setAttribute("x",this._leftGroup.width+(null!==(e=t.attribute.marginLeft)&&void 0!==e?e:0)),this._leftGroup.appendChild(t),this._leftGroup.setDeltaWidth((null!==(n=t.attribute.marginLeft)&&void 0!==n?n:0)+(null!==(i=t.attribute.marginRight)&&void 0!==i?i:0)+t.attribute.width)}addRightOccupyingIcon(t){var e,n,i;t.setAttribute("x",this._rightGroup.width+(null!==(e=t.attribute.marginLeft)&&void 0!==e?e:0)),this._rightGroup.appendChild(t),this._rightGroup.setDeltaWidth((null!==(n=t.attribute.marginLeft)&&void 0!==n?n:0)+(null!==(i=t.attribute.marginRight)&&void 0!==i?i:0)+t.attribute.width)}addContent(t){const e=this._centerGroup.lastChild;e&&t.setAttributes({x:e.attribute.x+e.AABBBounds.width()}),this._centerGroup.appendChild(t),t instanceof i.x&&(this._centerGroup.setAttribute("pickable",!1),t.setAttribute("textAlign","left"))}layout(){let t=this._leftGroup.width;t===1/0&&(t=0);let e=this._rightGroup.width;if(e===-1/0&&(e=0),this._autoWidth){const n=this._centerGroup.width;this._cellWidth=t+e+n,this.setAttribute("width",this._cellWidth)}else{const n=this._cellWidth-t-e;this.updateCenterLayout(n);const i=this._centerGroup.width;this._cellWidth=t+e+i,this.setAttribute("width",this._cellWidth)}this.updateHorizontalPos();const n=this._leftGroup.height,i=this._rightGroup.height,r=this._centerGroup.height;this._cellHeight=Math.max(n,i,r),this.setAttribute("height",this._cellHeight),this.updateVerticalPos()}updateCenterLayout(t){let e=t;this._centerGroup.forEachChildren((t=>{t instanceof s.J&&(e-=t.AABBBounds.width())}));const n=this._centerGroup.getChildByName("text");n instanceof r.H?n.setAttribute("width",e):n instanceof i.x&&n.setAttribute("maxLineWidth",e);let o=0;this._centerGroup.forEachChildren((t=>{t.setAttribute("x",o),o+=t.AABBBounds.width()}))}updateHorizontalPos(){this._leftGroup.setAttribute("x",0),this._rightGroup.setAttribute("x",this._cellWidth-this._rightGroup.width),this._centerGroup.setAttribute("x",this._leftGroup.width),"left"===this._align||"start"===this._align?this.setAttribute("dx",0):"center"===this._align?this.setAttribute("dx",-this.attribute.width/2):"right"!==this._align&&"end"!==this._align||this.setAttribute("dx",-this.attribute.width)}updateVerticalPos(){"top"===this._baseline?(this._leftGroup.setAttribute("y",0),this._rightGroup.setAttribute("y",0),this._centerGroup.setAttribute("y",0)):"middle"===this._baseline?(this._leftGroup.forEachChildren((t=>{t.setAttribute("y",(this._leftGroup.height-t.AABBBounds.height())/2)})),this._rightGroup.forEachChildren((t=>{t.setAttribute("y",(this._rightGroup.height-t.AABBBounds.height())/2)})),this._leftGroup.setAttribute("y",this._cellHeight/2-this._leftGroup.height/2),this._rightGroup.setAttribute("y",this._cellHeight/2-this._rightGroup.height/2),this._centerGroup.setAttribute("y",this._cellHeight/2-this._centerGroup.height/2)):"bottom"===this._baseline&&(this._leftGroup.forEachChildren((t=>{t.setAttribute("y",this._leftGroup.height-t.AABBBounds.height())})),this._rightGroup.forEachChildren((t=>{t.setAttribute("y",this._rightGroup.height-t.AABBBounds.height())})),this._leftGroup.setAttribute("y",this._cellHeight-this._leftGroup.height),this._rightGroup.setAttribute("y",this._cellHeight-this._rightGroup.height),this._centerGroup.setAttribute("y",this._cellHeight-this._centerGroup.height))}updateWidth(t){this._cellWidth=t,this._originCellWidth=t,this.layout()}updateHeight(t){this._cellHeight=t,this._cellWidth=this._originCellWidth;const e=this.getChildByName("text",!0);e&&e.setAttribute("heightLimit",t),this.layout()}}var u=n(37740),h=n(7666),c=n(66990),d=n(70375),f=n(89393),p=n(35510),g=n(21969),m=n(97925);function v(t,e,n,o,a,s,u,f,m,v,w,x,S,M,A){var T,k,R,I,P,E,B,L,D;let O,F,H=0,N=0,z=0;if(Array.isArray(e)&&0!==e.length){const{inlineFrontIcons:d,inlineEndIcons:g,contentLeftIcons:T,contentRightIcons:k,leftIconWidth:R,rightIconWidth:W,absoluteRightIconWidth:j}=_(e,t,A,S);let V;if(H=R,N=W,z=j,0===d.length&&0===g.length){let e=0;(0,c.Z)(S.theme._contentOffset)&&("left"===w?e=S.theme._contentOffset:"right"===w&&(e=-S.theme._contentOffset));const r=A?(0,h.L)(A.start.col,A.start.row,S):(0,h.L)(t.col,t.row,S),{text:l,moreThanMaxCharacters:d}=(0,p.$)(n,S),g={text:1===l.length?l[0]:l,moreThanMaxCharacters:d,maxLineWidth:a?1/0:m-(o[1]+o[3])-H-N-r,textBaseline:"top",heightLimit:!1===(null===(I=S.options.customConfig)||void 0===I?void 0:I.limitContentHeight)||s&&!(null===(P=S.options.customConfig)||void 0===P?void 0:P.multilinesForXTable)?-1:v-Math.floor(o[0]+o[2]),pickable:!1,autoWrapText:u,lineClamp:f,wordBreak:"break-word",whiteSpace:!1===(null===(E=S.options.customConfig)||void 0===E?void 0:E.limitContentHeight)||1!==l.length||u?"normal":"no-wrap",dx:("left"===w?T.length?0:r:0)+e,keepCenterInLine:!0},y=new i.x(M.text?Object.assign({},M.text,g):g);y.name="text",V=y}else{const e=Object.assign({text:null==n?void 0:n.toString()},(null===(D=null===(L=null===(B=t.parent)||void 0===B?void 0:B.theme)||void 0===L?void 0:L.userTheme)||void 0===D?void 0:D.text)||{});M.text&&Object.assign(e,M.text),e.textBaseline="middle";const i=[...d.map((t=>b(t))),e,...g.map((t=>b(t)))];i[0].textAlign=w;const l=new r.H({width:a?0:m-(o[1]+o[3])-H-N,height:s&&u?0:Math.ceil(v-(o[0]+o[2])),textConfig:i,verticalDirection:s&&u?"top":x,ellipsis:e.ellipsis});l.name="text",V=l,l.bindIconEvent(),!A||A.start.col===A.end.col&&A.start.row===A.end.row||(l.onBeforeAttributeUpdate=C)}if(0!==T.length||0!==k.length){const e=new l({x:0,y:0,fill:!1,stroke:!1,pickable:!1});e.name="content",e.setCellContentOption({autoWidth:a,autoHeight:s,cellWidth:m-(o[1]+o[3])-H-N,cellHeight:v-(o[0]+o[2]),align:w,baseline:x});const n={addedHierarchyOffset:0};T.forEach((i=>{const r=y(i,void 0,t.col,t.row,A,S,n);r.role="icon-content-left",r.name=i.name,e.addLeftOccupyingIcon(r)})),k.forEach((i=>{const r=y(i,void 0,t.col,t.row,A,S,n);r.role="icon-content-right",r.name=i.name,e.addRightOccupyingIcon(r)})),e.addContent(V),t.appendChild(e),e.layout(),O=e.AABBBounds.width(),F=e.AABBBounds.height()}else t.firstChild?t.insertBefore(V,t.firstChild):t.appendChild(V),O=V.AABBBounds.width(),F=V.AABBBounds.height()}else if((0,d.Z)(n)){const{text:e,moreThanMaxCharacters:r}=(0,p.$)(n,S),l=A?(0,h.L)(A.start.col,A.start.row,S):(0,h.L)(t.col,t.row,S);let d=0;(0,c.Z)(S.theme._contentOffset)&&("left"===w?d=S.theme._contentOffset:"right"===w&&(d=-S.theme._contentOffset));const g={text:1===e.length?e[0]:e,moreThanMaxCharacters:r,maxLineWidth:a?1/0:m-(o[1]+o[3]+l),textBaseline:"top",autoWrapText:u,lineClamp:f,wordBreak:"break-word",heightLimit:!1===(null===(T=S.options.customConfig)||void 0===T?void 0:T.limitContentHeight)||s&&!(null===(k=S.options.customConfig)||void 0===k?void 0:k.multilinesForXTable)?-1:v-Math.floor(o[0]+o[2]),dx:("left"===w?l:0)+d,whiteSpace:!1===(null===(R=S.options.customConfig)||void 0===R?void 0:R.limitContentHeight)||1!==e.length||u?"normal":"no-wrap",keepCenterInLine:!0},y=new i.x(M.text?Object.assign({},M.text,g):g);y.name="text",y.textBaseline=x,t.appendChild(y),O=y.AABBBounds.width(),F=y.AABBBounds.height()}const W=a?H+O+N:m-(o[1]+o[3]),j=v-(o[0]+o[2]);t.forEachChildren((t=>{"icon-left"===t.role?t.setAttribute("x",t.attribute.x+o[3]):"icon-right"===t.role?t.setAttribute("x",t.attribute.x+W-N+o[3]):"icon-absolute-right"===t.role?t.setAttribute("x",t.attribute.x+W-z+o[3]+o[1]):"content"!==t.name&&"text"!==t.name||("center"===w&&"richtext"!==t.type?t.setAttribute("x",o[3]+H+(W-H-N)/2):"right"===w&&"richtext"!==t.type?t.setAttribute("x",o[3]+W-N):t.setAttribute("x",o[3]+H))})),t.forEachChildren((t=>{t.name!==g.FH&&("middle"===x?t.setAttribute("y",o[0]+(j-t.AABBBounds.height())/2):"bottom"===x?t.setAttribute("y",o[0]+j-t.AABBBounds.height()):t.setAttribute("y",o[0]))})),t.setAttributes({width:W+o[1]+o[3],height:j+o[0]+o[2]})}function y(t,e,n,i,r,a,l){var u,d,f,p,g,m;const v={};"image"===t.type?t.isGif?(v.gif=t.src,v.image=t.src):v.image=t.src:("svg"===t.type||"svg"in t)&&(v.image=t.svg),v.width=t.width,v.height=t.height,v.visibleTime=null!==(u=t.visibleTime)&&void 0!==u?u:"always",v.funcType=t.funcType,v.interactive=t.interactive,v.isGif=t.isGif;let y=0;if(l&&0!==(null==l?void 0:l.addedHierarchyOffset)||!(0,c.Z)(n)||!(0,c.Z)(i)||!a||t.funcType!==o.cI.collapse&&t.funcType!==o.cI.expand&&t.positionType!==o.q0.contentLeft&&t.positionType!==o.q0.contentRight||(y=r?(0,h.L)(r.start.col,r.start.row,a):(0,h.L)(n,i,a),l&&(l.addedHierarchyOffset=1)),v.marginLeft=(null!==(d=t.marginLeft)&&void 0!==d?d:0)+y,v.marginRight=null!==(f=t.marginRight)&&void 0!==f?f:0,!1===t.interactive&&(v.pickable=!1),t.hover&&(v.backgroundWidth=null!==(p=t.hover.width)&&void 0!==p?p:t.width,v.backgroundHeight=null!==(g=t.hover.width)&&void 0!==g?g:t.width,v.backgroundColor=null!==(m=t.hover.bgColor)&&void 0!==m?m:"rgba(22,44,66,0.2)",v.hoverImage=t.hover.image),t.cursor&&(v.cursor=t.cursor),"shape"in t&&"circle"===t.shape&&(v.shape=t.shape),e)return e.setAttributes(v),e.loadImage(v.image),e.tooltip=t.tooltip,e.name=t.name,e;const b=new s.J(v);return b.tooltip=t.tooltip,b.name=t.name,b}function b(t){var e,n,i,r,o,a;const s={};return"image"===t.type?s.image=t.src:("svg"===t.type||"svg"in t)&&(s.image=t.svg),s.visibleTime=null!==(e=t.visibleTime)&&void 0!==e?e:"always",s.funcType=t.funcType,s.id=t.name,s.width=t.width,s.height=t.height,(t.marginRight||t.marginLeft)&&(s.margin=[0,null!==(n=t.marginRight)&&void 0!==n?n:0,0,null!==(i=t.marginLeft)&&void 0!==i?i:0]),t.hover&&(s.backgroundWidth=null!==(r=t.hover.width)&&void 0!==r?r:t.width,s.backgroundHeight=null!==(o=t.hover.height)&&void 0!==o?o:t.height,s.backgroundShowMode="hover",s.hoverImage=t.hover.image,s.backgroundStroke=!1,s.backgroundFill=null!==(a=t.hover.bgColor)&&void 0!==a?a:"rgba(22,44,66,0.2)"),t.cursor&&(s.cursor=t.cursor),s.tooltip=t.tooltip,s}function w(t,e,n,o,a,s,l,h,c){var d,p,m,v;(0,f.Z)(t.contentWidth)&&(o=e-(null!==(d=t.contentWidth)&&void 0!==d?d:t.attribute.width));let y,b=0,w=0,x=0,_=0;t.forEachChildren((t=>{var e,n,i,r;"icon-left"===t.role?(b+=t.AABBBounds.width()+(null!==(e=t.attribute.marginLeft)&&void 0!==e?e:0)+(null!==(n=t.attribute.marginRight)&&void 0!==n?n:0),w=Math.max(w,t.AABBBounds.height())):"icon-right"===t.role&&(x+=t.AABBBounds.width()+(null!==(i=t.attribute.marginLeft)&&void 0!==i?i:0)+(null!==(r=t.attribute.marginRight)&&void 0!==r?r:0),_=Math.max(_,t.AABBBounds.height()))}));const C=t.getChildByName("text"),S=t.getChildByName("content");let M;C instanceof i.x?(y=C.AABBBounds.height(),C.setAttribute("maxLineWidth",e-b-x-(s[1]+s[3])-(null!==(p=C.attribute.dx)&&void 0!==p?p:0)-(null!==(m=c.table.theme._contentOffset)&&void 0!==m?m:0)),M=C.AABBBounds.height()):C instanceof r.H?(y=C.AABBBounds.height(),C.setAttribute("width",e-b-x-(s[1]+s[3])),M=C.AABBBounds.height()):S&&(y=S.AABBBounds.height(),S.updateWidth(e-b-x-(s[1]+s[3])),M=S.AABBBounds.height());const A=Math.round(Math.max(w,_,y)+s[0]+s[2]);if(t.forEachChildren((n=>{var i;if("icon-left"===n.role);else if("icon-right"===n.role)n.setAttribute("x",n.attribute.x+o);else if("icon-absolute-right"===n.role)n.setAttribute("x",n.attribute.x+o);else if("content"===n.name||"text"===n.name&&"richtext"!==n.type){const t=null!==(i=n.attribute.textAlign)&&void 0!==i?i:l;"center"===t?n.setAttribute("x",s[3]+b+(e-(s[1]+s[3])-b-x)/2):"right"===t&&n.setAttribute("x",s[3]+e-(s[1]+s[3])-x)}else"mark"===n.name&&n.setAttribute("x",t.attribute.width)})),a){let e=Math.max(w,M,_);if(function(t,e,n,i){const r=t.table,o=(0,u.Z)(r,e.col,e.row);if(o&&o.end.row-o.start.row){i/=o.end.row-o.start.row+1,n/=o.end.row-o.start.row+1;for(let t=o.start.row;t<=o.end.row;t++){const e=r.getRowHeight(t);if(e===i&&n!==e)return!0;if(n>e)return!0}}else{const t=r.getRowHeight(e.row);if(t===i&&n!==t)return!0;if(n>t)return!0}return!1}(c,t,Math.round(e+s[0]+s[2]),A))return!0;e=(null!==(v=t.contentHeight)&&void 0!==v?v:n)-(s[0]+s[2]),t.forEachChildren((t=>{"rect"!==t.type&&"chart"!==t.type&&t.name!==g.FH&&("mark"===t.name?t.setAttribute("y",0):"middle"===h?t.setAttribute("y",s[0]+(e-t.AABBBounds.height())/2):"bottom"===h?t.setAttribute("y",s[0]+e-t.AABBBounds.height()):t.setAttribute("y",s[0]))}))}else"middle"!==h&&"bottom"!==h||t.forEachChildren((t=>{"rect"!==t.type&&"chart"!==t.type&&t.name!==g.FH&&("mark"===t.name?t.setAttribute("y",0):"middle"===h?t.setAttribute("y",(n-s[2]+s[0]-t.AABBBounds.height())/2):"bottom"===h?t.setAttribute("y",n-t.AABBBounds.height()-s[2]):t.setAttribute("y",s[0]))}));return!1}function x(t,e,n,o,a,s,l,u){var h;const c=e-Math.floor(a[0]+a[2]),d=t.getChildByName("text");d instanceof i.x&&!o?d.setAttributes({heightLimit:!1===(null===(h=u.options.customConfig)||void 0===h?void 0:h.limitContentHeight)?-1:c}):d instanceof r.H&&!o?d.setAttributes({height:c}):t.getChildByName("content")&&t.getChildByName("content").updateHeight(c),t.forEachChildren((t=>{t.setAttribute("dy",0),"rect"===t.type||"chart"===t.type||t.name===g.FH||("mark"===t.name?t.setAttribute("y",0):"middle"===l?t.setAttribute("y",a[0]+(c-t.AABBBounds.height())/2):"bottom"===l?t.setAttribute("y",a[0]+c-t.AABBBounds.height()):t.setAttribute("y",a[0]))}))}function _(t,e,n,i){const r=[],a=[],s=[],l=[],u=[],h=[],c=[],d=[];let f=0,p=0,g=0,m=0,v=0,b=0;return t.forEach((t=>{switch(t.positionType){case o.q0.left:r.push(t);break;case o.q0.right:a.push(t);break;case o.q0.contentLeft:s.push(t);break;case o.q0.contentRight:l.push(t);break;case o.q0.absoluteRight:d.push(t);break;case o.q0.inlineFront:u.push(t);break;case o.q0.inlineEnd:h.push(t)}})),r.forEach((t=>{var r,o,a;const s=y(t,void 0,e.col,e.row,n,i);s.role="icon-left",s.name=t.name,s.setAttribute("x",f+(null!==(r=s.attribute.marginLeft)&&void 0!==r?r:0)),f+=s.AABBBounds.width()+(null!==(o=s.attribute.marginLeft)&&void 0!==o?o:0)+(null!==(a=s.attribute.marginRight)&&void 0!==a?a:0),p=Math.max(p,s.AABBBounds.height()),e.appendChild(s)})),a.forEach((t=>{var r,o,a;const s=y(t,void 0,e.col,e.row,n,i);s.role="icon-right",s.name=t.name,s.setAttribute("x",g+(null!==(r=s.attribute.marginLeft)&&void 0!==r?r:0)),g+=s.AABBBounds.width()+(null!==(o=s.attribute.marginLeft)&&void 0!==o?o:0)+(null!==(a=s.attribute.marginRight)&&void 0!==a?a:0),m=Math.max(m,s.AABBBounds.height()),e.appendChild(s)})),c.forEach((t=>{var r,o,a;const s=y(t,void 0,e.col,e.row,n,i);s.role="icon-absolute-left",s.name=t.name,s.setAttribute("x",v+(null!==(r=s.attribute.marginLeft)&&void 0!==r?r:0)),v+=s.AABBBounds.width()+(null!==(o=s.attribute.marginLeft)&&void 0!==o?o:0)+(null!==(a=s.attribute.marginRight)&&void 0!==a?a:0),e.appendChild(s)})),d.forEach((t=>{var r,o,a;const s=y(t,void 0,e.col,e.row,n,i);s.role="icon-absolute-right",s.name=t.name,s.setAttribute("x",b+(null!==(r=s.attribute.marginLeft)&&void 0!==r?r:0)),b+=s.AABBBounds.width()+(null!==(o=s.attribute.marginLeft)&&void 0!==o?o:0)+(null!==(a=s.attribute.marginRight)&&void 0!==a?a:0),e.appendChild(s)})),{leftIcons:r,rightIcons:a,contentLeftIcons:s,contentRightIcons:l,inlineFrontIcons:u,inlineEndIcons:h,absoluteLeftIcons:c,absoluteRightIcons:d,leftIconWidth:f,leftIconHeight:p,rightIconWidth:g,rightIconHeight:m,absoluteLeftIconWidth:v,absoluteRightIconWidth:b}}function C(t,e){if(t.hasOwnProperty("hoverIconId")){const e=this;if(e.skipMergeUpdate)return;const n=(0,m.J$)(e);if(!n||!n.stage)return;const i=n.stage.table;e.skipAttributeUpdate=!0;const{mergeStartCol:r,mergeEndCol:o,mergeStartRow:a,mergeEndRow:s}=n;if((0,d.Z)(r)&&(0,d.Z)(o)&&(0,d.Z)(a)&&(0,d.Z)(s)&&(r!==o||a!==s)){for(let l=r;l<=o;l++)for(let r=a;r<=s;r++){if(l===n.col&&r===n.row){if(t.hoverIconId!==e.attribute.hoverIconId){const n=e._frameCache.icons.get(t.hoverIconId);e.updateHoverIconState(n)}continue}const o=i.scenegraph.highPerformanceGetCell(l,r);if("cell"===o.role){const n=o.getChildByName(e.name,!0);if(!n||n.skipAttributeUpdate)continue;t.hoverIconId!==n.attribute.hoverIconId&&(n.setAttribute("hoverIconId",t.hoverIconId),o.addUpdateBoundTag())}}e.skipAttributeUpdate=void 0}}}},22450:function(t,e,n){"use strict";n.d(e,{QC:function(){return v},Rc:function(){return x},fg:function(){return y},sb:function(){return b}});var i=n(64008),r=n(51854),o=n(77887),a=n(69543),s=n(90154),l=n(85830),u=n(58697);let h="",c="quick";const d=new i.n(((t,e,n,i)=>{n(r.j)?i(r.j).to(m).inSingletonScope():t(r.j).to(m).inSingletonScope()})),f=new i.n(((t,e,n,i)=>{n(r.j)?i(r.j).to(r.f).inSingletonScope():t(r.j).to(r.f).inSingletonScope()}));e.ZP=d;const p=new Map;function g(t,e,n,i="normal"){const r=`${t}-${e}-${n}-${i}`,s=p.get(r);if(s)return s;const l=(c={fontSize:t,fontFamily:n,fontWeight:e,fontStyle:i},new u.e(Object.assign({defaultFontParams:{fontFamily:o.q9.fontFamily,fontSize:o.q9.fontSize},getTextBounds:a.o,specialCharSet:`{}()//&-/: .,@%'"~=${u.e.ALPHABET_CHAR_SET}${u.e.ALPHABET_CHAR_SET.toUpperCase()}0123456789${h}`},{}),c));var c;return p.set(r,l),l}class m extends r.f{_fastMeasure(t,e){const{fontSize:n,fontFamily:i="Arial,sans-serif",fontWeight:r="normal",fontStyle:o="normal"}=e;return g(n,r,i,o).measure(t,c)}measureTextWidth(t,e){return this._fastMeasure(t,e).width}measureText(t,e){return this._fastMeasure(t,e)}_measureTextWithoutAlignBaseline(t,e,n){return this._fastMeasure(t,e)}_measureTextWithAlignBaseline(t,e,n){return this._fastMeasure(t,e)}}const v=new class{measureText(t,e){const{fontSize:n,fontFamily:i="Arial,sans-serif",fontWeight:r="normal",fontStyle:o="normal"}=e;return g(n,r,i,o).measure(t,c)}measureTextWidth(t,e){const{fontSize:n,fontFamily:i="Arial,sans-serif",fontWeight:r="normal",fontStyle:o="normal"}=e;return g(n,r,i,o).measure(t,c).width}clipText(t,e,n){if(0===t.length)return{str:"",width:0};let i=this.measureTextWidth(t,e);return i<=n?{str:t,width:i}:(i=this.measureTextWidth(t[0],e),i>n?{str:"",width:0}:this._clipText(t,e,n,0,t.length-1))}_clipText(t,e,n,i,r){const o=Math.floor((i+r)/2),a=t.substring(0,o+1),s=this.measureTextWidth(a,e);let l;if(s>n){if(a.length<=1)return{str:"",width:0};const r=t.substring(0,o);return l=this.measureTextWidth(r,e),l<=n?{str:r,width:l}:this._clipText(t,e,n,i,o)}if(s<n){if(o>=t.length-1)return{str:t,width:this.measureTextWidth(t,e)};const i=t.substring(0,o+2);return l=this.measureTextWidth(i,e),l>=n?{str:a,width:s}:this._clipText(t,e,n,o,r)}return{str:a,width:s}}clipTextWithSuffix(t,e,n,i){if(""===i)return this.clipText(t,e,n);if(0===t.length)return{str:"",width:0};const r=this.measureTextWidth(t,e);if(r<=n)return{str:t,width:r};const o=this.measureTextWidth(i,e);if(o>n)return{str:"",width:0};n-=o;const a=this._clipText(t,e,n,0,t.length-1);return a.str+=i,a.width+=o,a}};function y(t){h=t,p.clear()}function b(){c="canvas",s.n.load(f)}const w=new l.x({ignoreBuf:!0});function x(t){return w.initAttributes(Object.assign(Object.assign({},t),{ignoreBuf:!0})),w.AABBBounds}},48328:function(t,e,n){"use strict";n.d(e,{Bd:function(){return f},GW:function(){return h},Jd:function(){return p},Pi:function(){return d},Vz:function(){return u},Y:function(){return l},aC:function(){return v},gs:function(){return c},hR:function(){return m},r5:function(){return g}});var i=n(70375),r=n(47505),o=n(66990),a=n(68725),s=n(95170);function l(t,e,n,i,r){const o=r.table.getRecordShowIndexByCell(t,e);if(o>=0){const t=r.table.dataSource.getIndexKey(o).toString();r.checkedState.has(t)?r.checkedState.get(t)[n]=i:r.checkedState.set(t,{[n]:i})}}function u(t,e,n){var i;n.headerCheckedState[t]=e,null===(i=n.checkedState)||void 0===i||i.forEach((n=>{n[t]=e}))}function h(t,e,n,r,o){var a,s;if(o.table.isHeader(t,e)){if((0,i.Z)(o.headerCheckedState[n]))return o.headerCheckedState[n];if("function"==typeof r)return;if((0,i.Z)(r))o.headerCheckedState[n]=r;else if((null===(a=o.checkedState)||void 0===a?void 0:a.size)>0)return o.updateHeaderCheckedState(n,t,e);return o.headerCheckedState[n]}const l=o.table.getRecordShowIndexByCell(t,e);if(l>=0){const t=o.table.dataSource.getIndexKey(l).toString();if((0,i.Z)(null===(s=o.checkedState.get(t))||void 0===s?void 0:s[n]))return o.checkedState.get(t)[n];o.checkedState.has(t)?o.checkedState.get(t)[n]=r:o.checkedState.set(t,{[n]:r})}return r}function c(t,e){e.checkedState.clear(),e.headerCheckedState={},e.radioState={};let n=!1;if(e._checkboxCellTypeFields=[],e._headerCheckFuncs={},e.table.internalProps.layoutMap.headerObjects.forEach(((t,i)=>{if("checkbox"===t.headerType){const i=t.define.checked;null==i||"function"==typeof i?(n=!0,"function"==typeof i&&(e._headerCheckFuncs[t.field]=i)):e.headerCheckedState[t.field]=i,"checkbox"!==t.define.cellType||t.fieldFormat||e._checkboxCellTypeFields.push(t.field)}})),1===e.table.leftRowSeriesNumberCount)e.headerCheckedState._vtable_rowSeries_number=!1,e._checkboxCellTypeFields.push("_vtable_rowSeries_number"),n=!0;else if(e.table.leftRowSeriesNumberCount>1){for(let t=0;t<e.table.leftRowSeriesNumberCount;t++)e.headerCheckedState[`_vtable_rowSeries_number_${t}`]=!1,e._checkboxCellTypeFields.push(`_vtable_rowSeries_number_${t}`);n=!0}n&&function(t,e){const n=e.table,i=n.isPivotTable()?0:n.internalProps.transpose?n.rowHeaderLevelCount:n.columnHeaderLevelCount,o=n.isPivotTable()?(0,a.Z)(t)?t.length:0:n.internalProps.transpose?n.colCount:n.rowCount;for(let a=0;a+i<o;a++){const i=n.isPivotTable()?t[a]:n.dataSource.get(a);e._checkboxCellTypeFields.forEach((t=>{const o=i&&i[t];let l;if((0,r.Z)(o)?l=o.checked:"boolean"==typeof o&&(l=o),null==l){const n=e._headerCheckFuncs[t];if(n){const i=e.table.getCellAddrByFieldRecord(t,a);l=(0,s.vi)(n,{col:i.col,row:i.row,table:e.table,context:null,value:o})}}const u=n.isPivotTable()?a.toString():e.table.dataSource.getIndexKey(a).toString();e.checkedState.get(u)||e.checkedState.set(u,{}),e.checkedState.get(u)[t]=l}))}}(t,e)}function d(t,e,n,i){let r=!0,o=!0,a=!1;return e.checkedState.forEach(((s,l)=>{var u,h;l=l.includes(",")?l.split(",").map((t=>Number(t))):Number(l);const c=e.table.getTableIndexByRecordIndex(l),d=e.table.transpose?e.table.getCustomMerge(c,i):e.table.getCustomMerge(n,c),f=null===(u=e.table.dataSource)||void 0===u?void 0:u.get(l);d||!(null===(h=e.table.internalProps.rowSeriesNumber)||void 0===h?void 0:h.enableTreeCheckbox)&&(null==f?void 0:f.vtableMerge)||(!0!==(null==s?void 0:s[t])?r=!1:(o=!1,a=!0))})),r?(e.headerCheckedState[t]=!0,r):o?(e.headerCheckedState[t]=!1,!1):!!a&&(e.headerCheckedState[t]="indeterminate","indeterminate")}function f(t,e){for(let n=e.checkedState.size;n<t.length;n++){const i=t[n];e._checkboxCellTypeFields.forEach((t=>{const o=i[t];let a;(0,r.Z)(o)?a=o.checked:"boolean"==typeof o&&(a=o);const s=n.toString();e.checkedState.get(s)||e.checkedState.set(s,{}),e.checkedState.get(s)[t]=a}))}}function p(t,e,n,i){const r=i.scenegraph.getCell(t,e),o=null==r?void 0:r.getChildByName("checkbox");if(!o){const r=i.getHeaderField(t,e);if(i.isHeader(t,e))i.stateManager.setHeaderCheckedState(r,n),"checkbox"===i.getCellType(t,e)&&i.scenegraph.updateCheckboxCellState(t,e,n);else if(i.stateManager.setCheckedState(t,e,r,n),"checkbox"===i.getCellType(t,e)){const n=i.stateManager.headerCheckedState[r],o=i.stateManager.updateHeaderCheckedState(r,t,e);n!==o&&i.scenegraph.updateHeaderCheckboxCellState(t,e,o)}return}const{checked:a,indeterminate:s}=o.attribute;s?(n||o._handlePointerUp(),o._handlePointerUp()):a?n||o._handlePointerUp():n&&o._handlePointerUp()}function g(t,e,n,i){const r=i.scenegraph.getCell(t,e),o=null==r?void 0:r.getChildByName("checkbox");o&&("indeterminate"===n?(o.setAttribute("indeterminate",!0),o.setAttribute("checked",void 0)):(o.setAttribute("indeterminate",void 0),o.setAttribute("checked",n)))}function m(t,e,n){const{checkedState:i,table:r}=n;let s,l;if(r.internalProps.transpose?(t=r.getRecordShowIndexByCell(t,0),e=r.getRecordShowIndexByCell(e,0)):(s=r.isPivotTable()?void 0:r.getRecordIndexByCell(0,t),l=r.isPivotTable()?void 0:r.getRecordIndexByCell(0,e)),(0,o.Z)(s)&&(0,o.Z)(l)){if(t>e){const n=i.get(t.toString());for(let n=t;n>e;n--)i.set(n.toString(),i.get((n-1).toString()));i.set(e.toString(),n)}else if(t<e){const n=i.get(t.toString());for(let n=t;n<e;n++)i.set(n.toString(),i.get((n+1).toString()));i.set(e.toString(),n)}}else if((0,a.Z)(s)&&(0,a.Z)(l))if((t=s[s.length-1])>(e=l[l.length-1])){const n=i.get(s.toString());for(let n=t;n>e;n--){const t=[...s];t[t.length-1]=n;const e=[...s];e[e.length-1]=n-1,i.set(t.toString(),i.get(e.toString()))}i.set(l.toString(),n)}else if(t<e){const n=i.get(s.toString());for(let n=t;n<e;n++){const t=[...s];t[t.length-1]=n;const e=[...s];e[e.length-1]=n+1,i.set(t.toString(),i.get(e.toString()))}i.set(l.toString(),n)}}function v(t){const e=[],n=t.dataSource,i=n.dataConfig.groupByRules.length+1;return n.currentIndexedData.forEach(((r,o)=>{if((0,a.Z)(r)&&r.length===i){const i=n.getOriginRecordIndexForGroup(r);e[i]=t.stateManager.checkedState.get(r.toString())}})),e}},66430:function(t,e,n){"use strict";n.d(e,{Oq:function(){return s},Wg:function(){return l},fM:function(){return u},tO:function(){return c},vj:function(){return h}});var i=n(66990),r=n(70375),o=n(47505),a=n(2465);function s(t,e,n,r,o,a){const s=a.table.getRecordShowIndexByCell(t,e);if(s>=0){const t=a.table.dataSource.getIndexKey(s);"column"===r?(0,i.Z)(o)?(a.radioState[n]={},a.radioState[n][t]=o):a.radioState[n]=t:(a.radioState[n]||(a.radioState[n]={}),(0,i.Z)(o)?a.radioState[n][t]=o:a.radioState[n][t]=!0)}}function l(t,e,n){var a;const s=n.getBodyColumnDefine(t,e),l=null==s?void 0:s.field,u=n.getCellType(t,e);if((0,r.Z)(l)&&"checkbox"===u){const r=n.dataSource.getIndexKey(n.getRecordShowIndexByCell(t,e)),s=null===(a=n.stateManager.radioState)||void 0===a?void 0:a[l];if((0,i.Z)(s)){if(s===r)return!0}else if((0,o.Z)(s)){const t=s[r];if((0,i.Z)(t))return t}}return!1}function u(t,e,n,s,l,u,h){var c,d,f,p,g;const m=h.table.getRecordShowIndexByCell(t,e);if(m>=0){const t=h.table.dataSource.getIndexKey(m);if("column"===s){if(!(0,r.Z)(h.radioState[n])&&u)return(0,i.Z)(l)?(h.radioState[n]={},h.radioState[n][t]=l):h.radioState[n]=t,!0;if((0,i.Z)(h.radioState[n])&&!(0,i.Z)(l))return h.radioState[n]===t;if((0,i.Z)(h.radioState[n])&&(0,i.Z)(l))return!1;if((0,o.Z)(h.radioState[n])&&!(0,i.Z)(l))return!1;if((0,o.Z)(h.radioState[n])&&(0,i.Z)(l))return h.radioState[n][t]===l}else if("cell"===s){if(!(0,r.Z)(h.radioState[n])&&u)return h.radioState[n]={},(0,i.Z)(l)?h.radioState[n][t]=l:h.radioState[n][t]=!0,!0;if(!(0,r.Z)(null===(c=h.radioState[n])||void 0===c?void 0:c[t])&&u)return(0,i.Z)(l)?h.radioState[n][t]=l:h.radioState[n][t]=!0,!0;if((0,a.Z)(null===(d=h.radioState[n])||void 0===d?void 0:d[t])&&!(0,i.Z)(l))return h.radioState[n][t];if((0,a.Z)(null===(f=h.radioState[n])||void 0===f?void 0:f[t])&&(0,i.Z)(l))return!1;if((0,i.Z)(null===(p=h.radioState[n])||void 0===p?void 0:p[t])&&!(0,i.Z)(l))return!1;if((0,i.Z)(null===(g=h.radioState[n])||void 0===g?void 0:g[t])&&(0,i.Z)(l))return h.radioState[n][t]===l}}return u}function h(t,e,n,r){const o=r.scenegraph.getCell(t,e);if(o)if((0,i.Z)(n)){const t=o.getChildAt(n);null==t||t._handlePointerUp()}else{const t=o.getChildByName("radio");null==t||t._handlePointerUp()}}function c(t,e,n){const{radioState:i,table:r}=n;if(r.internalProps.transpose?(t=r.getRecordShowIndexByCell(t,0),e=r.getRecordShowIndexByCell(e,0)):(t=r.getRecordShowIndexByCell(0,t),e=r.getRecordShowIndexByCell(0,e)),t>e){const n=i[t];for(let n=t;n>e;n--)i[n]=i[n-1];i[e]=n}else if(t<e){const n=i[t];for(let n=t;n<e;n++)i[n]=i[n+1];i[e]=n}}},70647:function(t,e,n){"use strict";n.r(e),n.d(e,{ARCO:function(){return b},BRIGHT:function(){return y},DARK:function(){return v},DEFAULT:function(){return w},SIMPLIFY:function(){return x},TableTheme:function(){return g},default:function(){return A},get:function(){return M},of:function(){return S},theme:function(){return C}});var i=n(95170);var r={name:"DARK",underlayBackgroundColor:"transparent",defaultStyle:{color:"#D3D5DA",bgColor:"#373b45",fontSize:12,fontFamily:"PingFang SC",fontWeight:500,lineHeight:12,borderColor:"#444A54",padding:[8,12,8,12],hover:{cellBgColor:"#2F4774"}},headerStyle:{color:"#D3D5DA",bgColor:"#373b45",fontSize:12,fontFamily:"PingFang SC",fontWeight:500,lineHeight:12,borderColor:"#444A54",padding:[8,12,8,12],hover:{cellBgColor:"#2F4774"}},rowHeaderStyle:{},cornerHeaderStyle:{},bodyStyle:{color:"#e5e7ea",bgColor:function(t){const{row:e,table:n}=t;return 1&e-n.frozenRowCount?"#282a2e":"#2d3137"},fontSize:12,fontFamily:"PingFang SC",fontWeight:500,lineHeight:12,borderColor:"#444A54",padding:[8,12,8,12],hover:{cellBgColor:"#29364D"}},frameStyle:{borderColor:"#d1d5da",borderLineWidth:1,borderLineDash:[],cornerRadius:10,shadowBlur:6,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(00, 24, 47, 0.06)"},columnResize:{lineWidth:1,lineColor:"#416EFF",bgColor:"#D9E2FF",width:3},frozenColumnLine:{shadow:{width:4,startColor:"rgba(00, 24, 47, 0.05)",endColor:"rgba(00, 24, 47, 0)"}},selectionStyle:{cellBgColor:"rgba(255, 255, 255, 0.1)",cellBorderColor:"#4284FF",cellBorderLineWidth:2},tooltipStyle:{bgColor:"#FFF",color:"#000",fontSize:12,fontFamily:"Arial,sans-serif"},functionalIconsStyle:{sort_color:"#FFFFFF",sort_color_opacity:"0.75",sort_color_2:"#416EFF",sort_color_opacity_2:"1",frozen_color:"#FFFFFF",frozen_color_opacity:"0.75",collapse_color:"#FFF",collapse_color_opacity:"0.75",expand_color:"#FFF",expand_color_opacity:"0.75",dragReorder_color:"#FFF",dragReorder_color_opacity:"0.75"}};var o={name:"BRIGHT",underlayBackgroundColor:"#FFF",defaultStyle:{color:"#FFF",bgColor:"#5389FF",borderColor:"#5286FA",hover:{cellBgColor:"#2E67E3"}},headerStyle:{color:"#FFF",bgColor:"#5389FF",borderColor:"#A1C1FF",hover:{cellBgColor:"#2E67E3"}},bodyStyle:{color:"#000",bgColor:function(t){const{row:e,table:n}=t;return 1&e-n.frozenRowCount?"#FFF":"#F4F8FF"},borderColor:"#E0EAFE",hover:{cellBgColor:"#E9EFFD"}},frameStyle:{borderColor:"#E1E4E8",borderLineWidth:1,borderLineDash:[],cornerRadius:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"black"},columnResize:{lineWidth:1,lineColor:"#416EFF",bgColor:"#D9E2FF",width:3},frozenColumnLine:{shadow:{width:3,startColor:"#CBDCFE",endColor:"#CBDCFE"}},selectionStyle:{cellBgColor:"rgba(0, 0, 255,0.1)"},tooltipStyle:{bgColor:"#FFF",color:"#000",fontSize:12,fontFamily:"Arial,sans-serif"}};var a={name:"ARCO",underlayBackgroundColor:"#FFF",defaultStyle:{color:"#1B1F23",bgColor:"#EEF1F5",fontSize:14,fontFamily:"Arial,sans-serif",fontWeight:600,lineHeight:14,borderColor:"#e1e4e8",padding:[8,12,8,12]},headerStyle:{color:"#1B1F23",bgColor:"#EEF1F5",fontSize:14,fontFamily:"Arial,sans-serif",fontWeight:600,lineHeight:14,borderColor:"#e1e4e8",padding:[8,12,8,12],hover:{cellBgColor:"#c8daf6"}},rowHeaderStyle:{color:"#1B1F23",bgColor:"#EEF1F5",fontSize:12,fontFamily:"PingFang SC",fontWeight:500,lineHeight:12,borderColor:"#e1e4e8",padding:[8,12,8,12],hover:{cellBgColor:"#c8daf6"}},cornerHeaderStyle:{color:"#1B1F23",bgColor:"#EEF1F5",fontSize:12,fontFamily:"PingFang SC",fontWeight:500,lineHeight:12,borderColor:"#e1e4e8",padding:[8,12,8,12],hover:{cellBgColor:"#c8daf6"}},bodyStyle:{padding:[8,12,8,12],color:"#141414",fontSize:14,fontFamily:"Arial,sans-serif",fontWeight:400,textAlign:"left",bgColor:function(t){const{row:e,table:n}=t;return 1&e-n.frozenRowCount?"#fbfbfc":"#FFF"},borderColor:"#e1e4e8",lineHeight:14,hover:{cellBgColor:"#F7F8FA",inlineRowBgColor:"#F3F8FF",inlineColumnBgColor:"#F3F8FF"}},frameStyle:{borderColor:"#d1d5da",borderLineWidth:1,borderLineDash:[],cornerRadius:4,shadowBlur:6,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(00, 24, 47, 0.06)"},columnResize:{lineWidth:1,lineColor:"#416EFF",bgColor:"#D9E2FF",width:3},frozenColumnLine:{shadow:{width:4,startColor:"rgba(00, 24, 47, 0.05)",endColor:"rgba(00, 24, 47, 0)"}},selectionStyle:{cellBgColor:"rgba(0, 0, 255,0.1)",cellBorderLineWidth:2,cellBorderColor:"#3073f2"},tooltipStyle:{bgColor:"#FFF",color:"#000",fontSize:12,fontFamily:"Arial,sans-serif"}};var s={name:"DEFAULT",underlayBackgroundColor:"#FFF",defaultStyle:{borderColor:"#E1E4E8",color:"#000",bgColor:"#ECF1F5"},headerStyle:{fontSize:16,fontWeight:"bold",bgColor:"#ECF1F5",hover:{cellBgColor:"#CCE0FF",inlineRowBgColor:"#F3F8FF",inlineColumnBgColor:"#F3F8FF"}},rowHeaderStyle:{fontSize:16,fontWeight:"bold",bgColor:"#ECF1F5",hover:{cellBgColor:"#CCE0FF",inlineRowBgColor:"#F3F8FF",inlineColumnBgColor:"#F3F8FF"}},cornerHeaderStyle:{fontSize:16,fontWeight:"bold"},bodyStyle:{fontSize:14,bgColor:function(t){const{row:e,table:n}=t;return 1&e-n.frozenRowCount?"#FDFDFD":"#FAF9FB"},hover:{cellBgColor:"#CCE0FF",inlineRowBgColor:"#F3F8FF",inlineColumnBgColor:"#F3F8FF"}},frameStyle:{borderColor:"#E1E4E8",borderLineWidth:1,borderLineDash:[],cornerRadius:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"black"},columnResize:{lineWidth:1,lineColor:"#416EFF",bgColor:"#D9E2FF",width:3},frozenColumnLine:{shadow:{width:3,startColor:"rgba(225, 228, 232, 0.6)",endColor:"rgba(225, 228, 232, 0.6)"}},selectionStyle:{cellBgColor:"rgba(0, 0, 255,0.1)",cellBorderLineWidth:2,cellBorderColor:"#0000ff"},tooltipStyle:{bgColor:"#FFF",color:"#000",fontSize:12,fontFamily:"Arial,sans-serif"}};var l={name:"SIMPLIFY",underlayBackgroundColor:"#FFF",defaultStyle:{borderColor:function(t){const{col:e,table:n}=t,{colCount:i,frozenColCount:r}=n,o="#ccc7c7";return r-1===e||i-1===e?[o,"#f2f2f2","#ccc7c7",null]:[o,null,"#ccc7c7",null]},hover:{cellBorderColor:"#0000FF",cellBgColor:"#D0E0E3"},bgColor:"#FFF"},headerStyle:{color:"rgba(0, 0, 0, 0.87)",borderColor:function(t){const{row:e,table:{frozenRowCount:n}}=t;return n-1===e?["#f2f2f2","#f2f2f2","#ccc7c7","#f2f2f2"]:["#f2f2f2"]}},bodyStyle:{color:"rgba(0, 0, 0, 0.87)"},frameStyle:{borderColor:"#f2f2f2",borderLineWidth:1},columnResize:{lineWidth:1,lineColor:"#416EFF",bgColor:"#D9E2FF"},selectionStyle:{cellBorderColor:"#FD5",cellBgColor:"rgba(111, 168, 220, 0.1)"},tooltipStyle:{bgColor:"#FFF",color:"#000",fontSize:12,fontFamily:"Arial,sans-serif"}},u=n(39664),h=n(51917),c=n(97176);function d(t){return t||{}}const f={visible:!0,position:"auto",padding:8,titleStyle:{fontSize:12,fontWeight:"bold",fill:"#4E5969"},contentStyle:{fontSize:12,fill:"#4E5969"},panel:{visible:!0,fill:"#fff",stroke:"#ffffff",lineWidth:0,cornerRadius:3,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:"rgba(0, 0, 0, 0.1)",size:0,space:12}};function p(t,e,n,r){var o,a,s;return null!==(s=null!==(a=null!==(o=(0,i.TS)(t,...n))&&void 0!==o?o:(0,i.TS)(e,...n))&&void 0!==a?a:r&&(0,i.TS)(t,...r))&&void 0!==s?s:r&&(0,i.TS)(e,...r)}class g{constructor(t,e){this._defaultStyle=null,this._header=null,this._cornerHeader=null,this._cornerRightTopCell=null,this._cornerLeftBottomCell=null,this._cornerRightBottomCell=null,this._rightFrozen=null,this._bottomFrozen=null,this._rowHeader=null,this._body=null,this._groupTitle=null,this._scroll=null,this._tooltip=null,this._frameStyle=null,this._columnResize=null,this._dragHeaderSplitLine=null,this._frozenColumnLine=null,this._selectionStyle=null,this._axisStyle=null,this._checkboxStyle=null,this._radioStyle=null,this._textPopTipStyle=null,this._internalIconsStyle=null,this.isPivot=!1,this.name="",this.internalTheme={obj:t,superTheme:e},this.name=p(t,e,["name"])}getExtendTheme(){return this.internalTheme.obj}clearBodyStyleCache(){this._body=null}get font(){const{obj:t,superTheme:e}=this.internalTheme;return p(t,e,["font"],["bodyStyle","font"])}get underlayBackgroundColor(){const{obj:t,superTheme:e}=this.internalTheme;return p(t,e,["underlayBackgroundColor"])}get cellInnerBorder(){var t;const{obj:e,superTheme:n}=this.internalTheme;return null===(t=p(e,n,["cellInnerBorder"]))||void 0===t||t}get cellBorderClipDirection(){var t;const{obj:e,superTheme:n}=this.internalTheme;return null!==(t=p(e,n,["cellBorderClipDirection"]))&&void 0!==t?t:"top-left"}get _contentOffset(){var t;const{obj:e,superTheme:n}=this.internalTheme;return null!==(t=p(e,n,["_contentOffset"]))&&void 0!==t?t:0}get defaultStyle(){const t=this;if(!this._defaultStyle){const{obj:e,superTheme:n}=this.internalTheme,i=(0,h.je)({},n.defaultStyle,e.defaultStyle);this._defaultStyle={get fontSize(){var t;return null!==(t=i.fontSize)&&void 0!==t?t:c.ho},get fontFamily(){var t;return null!==(t=i.fontFamily)&&void 0!==t?t:c.Rk},get fontWeight(){return i.fontWeight},get fontVariant(){return i.fontVariant},get fontStyle(){return i.fontStyle},get bgColor(){var t;return null!==(t=i.bgColor)&&void 0!==t?t:c.aE},get color(){var t;return null!==(t=i.color)&&void 0!==t?t:c.yZ},get borderColor(){var t;return null!==(t=i.borderColor)&&void 0!==t?t:c.cT},get borderLineWidth(){var t;return null!==(t=i.borderLineWidth)&&void 0!==t?t:c.zY},get borderLineDash(){var t;return null!==(t=i.borderLineDash)&&void 0!==t?t:c.z8},get hover(){if(i.hover)return{get cellBgColor(){var t,e;return null!==(e=null===(t=i.hover)||void 0===t?void 0:t.cellBgColor)&&void 0!==e?e:void 0},get inlineColumnBgColor(){var t,e,n,r,o,a;return null!==(a=null!==(e=null===(t=i.hover)||void 0===t?void 0:t.inlineColumnBgColor)&&void 0!==e?e:(null===(n=i.hover)||void 0===n?void 0:n.cellBgColor)&&"string"==typeof(null===(r=i.hover)||void 0===r?void 0:r.cellBgColor)?(0,h.zX)(null===(o=i.hover)||void 0===o?void 0:o.cellBgColor,.1,!1):void 0)&&void 0!==a?a:void 0},get inlineRowBgColor(){var t,e,n,r,o,a;return null!==(a=null!==(e=null===(t=i.hover)||void 0===t?void 0:t.inlineRowBgColor)&&void 0!==e?e:(null===(n=i.hover)||void 0===n?void 0:n.cellBgColor)&&"string"==typeof(null===(r=i.hover)||void 0===r?void 0:r.cellBgColor)?(0,h.zX)(null===(o=i.hover)||void 0===o?void 0:o.cellBgColor,.1,!1):void 0)&&void 0!==a?a:void 0}}},get select(){if(i.select)return{get inlineColumnBgColor(){var e,n,r,o,a,s;return null!==(s=null!==(o=null!==(n=null===(e=i.select)||void 0===e?void 0:e.inlineColumnBgColor)&&void 0!==n?n:null===(r=t.selectionStyle)||void 0===r?void 0:r.inlineColumnBgColor)&&void 0!==o?o:(null===(a=t.selectionStyle)||void 0===a?void 0:a.cellBgColor)&&"string"==typeof t.selectionStyle.cellBgColor?(0,h.zX)(t.selectionStyle.cellBgColor,.1,!1):void 0)&&void 0!==s?s:void 0},get inlineRowBgColor(){var e,n,r,o,a;return null!==(a=null!==(r=null!==(n=null===(e=i.select)||void 0===e?void 0:e.inlineRowBgColor)&&void 0!==n?n:t.selectionStyle.inlineRowBgColor)&&void 0!==r?r:(null===(o=t.selectionStyle)||void 0===o?void 0:o.cellBgColor)&&"string"==typeof t.selectionStyle.cellBgColor?(0,h.zX)(t.selectionStyle.cellBgColor,.1,!1):void 0)&&void 0!==a?a:void 0}}},get padding(){var t;return null!==(t=i.padding)&&void 0!==t?t:[10,16,10,16]},get textAlign(){var t;return null!==(t=i.textAlign)&&void 0!==t?t:"left"},get textBaseline(){var t;return null!==(t=i.textBaseline)&&void 0!==t?t:"middle"},get textOverflow(){var t;return null!==(t=i.textOverflow)&&void 0!==t?t:"ellipsis"},get lineHeight(){return i.lineHeight},get autoWrapText(){var t;return null!==(t=i.autoWrapText)&&void 0!==t&&t},get lineClamp(){var t;return null!==(t=i.lineClamp)&&void 0!==t?t:"auto"},get linkColor(){var t;return null!==(t=i.linkColor)&&void 0!==t?t:"#3772ff"},get cursor(){var t;return null!==(t=i.cursor)&&void 0!==t?t:"auto"},get marked(){var t;return null!==(t=i.marked)&&void 0!==t&&t},get underline(){var t;return null!==(t=i.underline)&&void 0!==t&&t},get underlineColor(){return i.underlineColor},get underlineDash(){return i.underlineDash},get underlineOffset(){return i.underlineOffset},get lineThrough(){var t;return null!==(t=i.lineThrough)&&void 0!==t&&t},get lineThroughColor(){return i.lineThroughColor},get lineThroughDash(){return i.lineThroughDash}}}return this._defaultStyle}get cornerHeaderStyle(){if(!this._cornerHeader){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},this.defaultStyle,e.cornerHeaderStyle,t.cornerHeaderStyle);this._cornerHeader=this.getStyle(n)}return this._cornerHeader}get cornerRightTopCellStyle(){if(!this._cornerRightTopCell){const{obj:t,superTheme:e}=this.internalTheme;if(!e.cornerRightTopCellStyle&&!t.cornerRightTopCellStyle)return this._cornerRightTopCell;const n=(0,h.je)({},this.defaultStyle,e.cornerRightTopCellStyle,t.cornerRightTopCellStyle);this._cornerRightTopCell=this.getStyle(n)}return this._cornerRightTopCell}get cornerLeftBottomCellStyle(){if(!this._cornerLeftBottomCell){const{obj:t,superTheme:e}=this.internalTheme;if(!e.cornerLeftBottomCellStyle&&!t.cornerLeftBottomCellStyle)return this._cornerLeftBottomCell;const n=(0,h.je)({},this.defaultStyle,e.cornerLeftBottomCellStyle,t.cornerLeftBottomCellStyle);this._cornerLeftBottomCell=this.getStyle(n)}return this._cornerLeftBottomCell}get cornerRightBottomCellStyle(){if(!this._cornerRightBottomCell){const{obj:t,superTheme:e}=this.internalTheme;if(!e.cornerRightBottomCellStyle&&!t.cornerRightBottomCellStyle)return this._cornerRightBottomCell;const n=(0,h.je)({},this.defaultStyle,e.cornerRightBottomCellStyle,t.cornerRightBottomCellStyle);this._cornerRightBottomCell=this.getStyle(n)}return this._cornerRightBottomCell}get rightFrozenStyle(){if(!this._rightFrozen){const{obj:t,superTheme:e}=this.internalTheme;if(!e.rightFrozenStyle&&!t.rightFrozenStyle)return this._rightFrozen;const n=(0,h.je)({},this.defaultStyle,this.rowHeaderStyle,e.rightFrozenStyle,t.rightFrozenStyle);this._rightFrozen=this.getStyle(n)}return this._rightFrozen}get bottomFrozenStyle(){if(!this._bottomFrozen){const{obj:t,superTheme:e}=this.internalTheme;if(!e.bottomFrozenStyle&&!t.bottomFrozenStyle)return this._bottomFrozen;const n=(0,h.je)({},this.defaultStyle,this.headerStyle,e.bottomFrozenStyle,t.bottomFrozenStyle);this._bottomFrozen=this.getStyle(n)}return this._bottomFrozen}get rowHeaderStyle(){var t;if(!this._rowHeader){const{obj:e,superTheme:n}=this.internalTheme,i=(0,h.je)({},this.defaultStyle,n.rowHeaderStyle,null!==(t=e.rowHeaderStyle)&&void 0!==t?t:this.isPivot?null:e.headerStyle);this._rowHeader=this.getStyle(i)}return this._rowHeader}get headerStyle(){if(!this._header){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},this.defaultStyle,e.headerStyle,t.headerStyle);this._header=this.getStyle(n)}return this._header}get bodyStyle(){if(!this._body){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},this.defaultStyle,e.bodyStyle,t.bodyStyle);this._body=this.getStyle(n)}return this._body}get groupTitleStyle(){if(!this._groupTitle){const{obj:t,superTheme:e}=this.internalTheme;if(!e.groupTitleStyle&&!t.groupTitleStyle)return this._groupTitle;const n=(0,h.je)({},this.defaultStyle,e.groupTitleStyle,t.groupTitleStyle);this._groupTitle=this.getStyle(n)}return this._groupTitle}get frameStyle(){if(!this._frameStyle){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.frameStyle,t.frameStyle);this._frameStyle={get borderColor(){return n.borderColor},get borderLineWidth(){return n.borderLineWidth},get borderLineDash(){return n.borderLineDash},get innerBorder(){return n.innerBorder},get shadowBlur(){return n.shadowBlur},get shadowColor(){return n.shadowColor},get shadowOffsetX(){return n.shadowOffsetX},get shadowOffsetY(){return n.shadowOffsetY},get cornerRadius(){return n.cornerRadius}}}return this._frameStyle}get scrollStyle(){if(!this._scroll){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.scrollStyle,t.scrollStyle);this._scroll={get scrollSliderColor(){var t;return null!==(t=n.scrollSliderColor)&&void 0!==t?t:"#C0C0C0"},get scrollSliderCornerRadius(){return n.scrollSliderCornerRadius},get scrollRailColor(){return n.scrollRailColor},get visible(){var t;return null!==(t=n.visible)&&void 0!==t?t:"scrolling"},get verticalVisible(){return n.verticalVisible},get horizontalVisible(){return n.horizontalVisible},get width(){var t;return null!==(t=n.width)&&void 0!==t?t:7},get hoverOn(){var t;return null===(t=n.hoverOn)||void 0===t||t},get barToSide(){var t;return null!==(t=n.barToSide)&&void 0!==t&&t},get horizontalPadding(){var t;return null!==(t=n.horizontalPadding)&&void 0!==t?t:0},get verticalPadding(){var t;return null!==(t=n.verticalPadding)&&void 0!==t?t:0}}}return this._scroll}get tooltipStyle(){if(!this._tooltip){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.tooltipStyle,t.tooltipStyle);this._tooltip={get fontFamily(){var t;return null!==(t=n.fontFamily)&&void 0!==t?t:c.Rk},get fontSize(){var t;return null!==(t=n.fontSize)&&void 0!==t?t:c.ho},get bgColor(){var t;return null!==(t=n.bgColor)&&void 0!==t?t:"#000"},get padding(){var t;return null!==(t=n.padding)&&void 0!==t?t:[6,8]},get color(){var t;return null!==(t=n.color)&&void 0!==t?t:"#FFF"},get maxWidth(){return n.maxWidth},get maxHeight(){return n.maxHeight}}}return this._tooltip}get columnResize(){if(!this._columnResize){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.columnResize,t.columnResize);this._columnResize={get lineColor(){var t;return null!==(t=n.lineColor)&&void 0!==t?t:"#416EFF"},get bgColor(){var t;return null!==(t=n.bgColor)&&void 0!==t?t:"#D9E2FF"},get lineWidth(){var t;return null!==(t=n.lineWidth)&&void 0!==t?t:1},get width(){var t;return null!==(t=n.width)&&void 0!==t?t:n.lineWidth+2},get resizeHotSpotSize(){var t;return null!==(t=n.resizeHotSpotSize)&&void 0!==t?t:16},get labelColor(){var t;return null!==(t=n.labelColor)&&void 0!==t?t:"#FFF"},get labelFontSize(){var t;return null!==(t=n.labelFontSize)&&void 0!==t?t:10},get labelFontFamily(){var t;return null!==(t=n.labelFontFamily)&&void 0!==t?t:"sans-serif"},get labelBackgroundFill(){var t;return null!==(t=n.labelBackgroundFill)&&void 0!==t?t:"#3073F2"},get labelBackgroundCornerRadius(){var t;return null!==(t=n.labelBackgroundCornerRadius)&&void 0!==t?t:5},get labelVisible(){var t;return null===(t=n.labelVisible)||void 0===t||t}}}return this._columnResize}get dragHeaderSplitLine(){if(!this._dragHeaderSplitLine){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.dragHeaderSplitLine,t.dragHeaderSplitLine);this._dragHeaderSplitLine={get lineColor(){var t;return null!==(t=n.lineColor)&&void 0!==t?t:"blue"},get lineWidth(){var t;return null!==(t=n.lineWidth)&&void 0!==t?t:2},get shadowBlockColor(){var t;return null!==(t=n.shadowBlockColor)&&void 0!==t?t:"rgba(204,204,204,0.3)"}}}return this._dragHeaderSplitLine}get frozenColumnLine(){if(!this._frozenColumnLine){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.frozenColumnLine,t.frozenColumnLine);this._frozenColumnLine={get shadow(){if(n.shadow)return{get width(){var t,e;return null!==(e=null===(t=n.shadow)||void 0===t?void 0:t.width)&&void 0!==e?e:24},get startColor(){var t,e;return null!==(e=null===(t=n.shadow)||void 0===t?void 0:t.startColor)&&void 0!==e?e:"rgba(00, 24, 47, 0.06)"},get endColor(){var t,e;return null!==(e=null===(t=n.shadow)||void 0===t?void 0:t.endColor)&&void 0!==e?e:"rgba(00, 24, 47, 0)"}}},get border(){if(n.border)return{get lineColor(){var t,e;return null!==(e=null===(t=n.border)||void 0===t?void 0:t.lineColor)&&void 0!==e?e:"rgba(00, 24, 47, 0.06)"},get bgColor(){var t,e,i,r;return null!==(r=null!==(e=null===(t=n.border)||void 0===t?void 0:t.bgColor)&&void 0!==e?e:null===(i=n.border)||void 0===i?void 0:i.lineColor)&&void 0!==r?r:"rgba(00, 24, 47, 0.06)"},get lineWidth(){var t,e;return null!==(e=null===(t=n.border)||void 0===t?void 0:t.lineWidth)&&void 0!==e?e:4},get width(){var t,e,i,r;return null!==(r=null!==(e=null===(t=n.border)||void 0===t?void 0:t.width)&&void 0!==e?e:null===(i=n.border)||void 0===i?void 0:i.lineWidth)&&void 0!==r?r:4}}}}}return this._frozenColumnLine}get selectionStyle(){if(!this._selectionStyle){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.selectionStyle,t.selectionStyle);this._selectionStyle={get cellBgColor(){var t;return null!==(t=null==n?void 0:n.cellBgColor)&&void 0!==t?t:"rgba(0, 0, 255,0.1)"},get cellBorderColor(){var t;return null!==(t=null==n?void 0:n.cellBorderColor)&&void 0!==t?t:"#3073f2"},get cellBorderLineWidth(){var t;return null!==(t=null==n?void 0:n.cellBorderLineWidth)&&void 0!==t?t:2},get inlineColumnBgColor(){return null==n?void 0:n.inlineColumnBgColor},get inlineRowBgColor(){return null==n?void 0:n.inlineRowBgColor},get selectionFillMode(){var t;return null!==(t=null==n?void 0:n.selectionFillMode)&&void 0!==t?t:"overlay"}}}return this._selectionStyle}get axisStyle(){if(!this._axisStyle){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.axisStyle,t.axisStyle);this._axisStyle=function(t){return{defaultAxisStyle:d(t.defaultAxisStyle),leftAxisStyle:d(t.leftAxisStyle),rightAxisStyle:d(t.rightAxisStyle),topAxisStyle:d(t.topAxisStyle),bottomAxisStyle:d(t.bottomAxisStyle)}}(n)}return this._axisStyle}get checkboxStyle(){if(!this._checkboxStyle){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.checkboxStyle,t.checkboxStyle);this._checkboxStyle=n}return this._checkboxStyle}get radioStyle(){if(!this._radioStyle){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.radioStyle,t.radioStyle);this._radioStyle=n}return this._radioStyle}get textPopTipStyle(){if(!this._textPopTipStyle){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},f,e.textPopTipStyle,t.textPopTipStyle);this._textPopTipStyle=n}return this._textPopTipStyle}get functionalIconsStyle(){if(!this._internalIconsStyle){const{obj:t,superTheme:e}=this.internalTheme,n=(0,h.je)({},e.functionalIconsStyle,t.functionalIconsStyle);this._internalIconsStyle=n}return this._internalIconsStyle}hasProperty(t){const{obj:e,superTheme:n}=this.internalTheme;return m(e,t)||m(n,t)}extends(t){return new g((0,h.je)({},t),(0,h.je)(this.internalTheme.superTheme,this.internalTheme.obj))}getStyle(t){const e=this;return{get fontSize(){return t.fontSize},get fontFamily(){return t.fontFamily},get fontWeight(){return t.fontWeight},get fontVariant(){return t.fontVariant},get fontStyle(){return t.fontStyle},get bgColor(){return t.bgColor},get color(){return t.color},get strokeColor(){return t.strokeColor},get borderColor(){return t.borderColor},get borderLineWidth(){return t.borderLineWidth},get borderLineDash(){return t.borderLineDash},get hover(){if(t.hover)return{get cellBgColor(){var e,n;return null!==(n=null===(e=t.hover)||void 0===e?void 0:e.cellBgColor)&&void 0!==n?n:void 0},get inlineColumnBgColor(){var e,n,i,r,o,a;return null!==(a=null!==(n=null===(e=t.hover)||void 0===e?void 0:e.inlineColumnBgColor)&&void 0!==n?n:(null===(i=t.hover)||void 0===i?void 0:i.cellBgColor)&&"string"==typeof(null===(r=t.hover)||void 0===r?void 0:r.cellBgColor)?(0,h.zX)(null===(o=t.hover)||void 0===o?void 0:o.cellBgColor,.1,!1):void 0)&&void 0!==a?a:void 0},get inlineRowBgColor(){var e,n,i,r,o,a;return null!==(a=null!==(n=null===(e=t.hover)||void 0===e?void 0:e.inlineRowBgColor)&&void 0!==n?n:(null===(i=t.hover)||void 0===i?void 0:i.cellBgColor)&&"string"==typeof(null===(r=t.hover)||void 0===r?void 0:r.cellBgColor)?(0,h.zX)(null===(o=t.hover)||void 0===o?void 0:o.cellBgColor,.1,!1):void 0)&&void 0!==a?a:void 0}}},get select(){return{get inlineColumnBgColor(){var n,i,r,o,a,s;return null!==(s=null!==(o=null!==(i=null===(n=t.select)||void 0===n?void 0:n.inlineColumnBgColor)&&void 0!==i?i:null===(r=e.selectionStyle)||void 0===r?void 0:r.inlineColumnBgColor)&&void 0!==o?o:(null===(a=e.selectionStyle)||void 0===a?void 0:a.cellBgColor)&&"string"==typeof e.selectionStyle.cellBgColor?(0,h.zX)(e.selectionStyle.cellBgColor,.1,!1):void 0)&&void 0!==s?s:void 0},get inlineRowBgColor(){var n,i,r,o,a;return null!==(a=null!==(r=null!==(i=null===(n=t.select)||void 0===n?void 0:n.inlineRowBgColor)&&void 0!==i?i:e.selectionStyle.inlineRowBgColor)&&void 0!==r?r:(null===(o=e.selectionStyle)||void 0===o?void 0:o.cellBgColor)&&"string"==typeof e.selectionStyle.cellBgColor?(0,h.zX)(e.selectionStyle.cellBgColor,.1,!1):void 0)&&void 0!==a?a:void 0},get cellBgColor(){var n,i,r;if("replace"===e.selectionStyle.selectionFillMode)return null!==(r=null!==(i=null===(n=t.select)||void 0===n?void 0:n.cellBgColor)&&void 0!==i?i:e.selectionStyle.cellBgColor)&&void 0!==r?r:void 0}}},get frameStyle(){if(t.frameStyle)return{get borderColor(){var e,n;return null!==(n=null===(e=t.frameStyle)||void 0===e?void 0:e.borderColor)&&void 0!==n?n:void 0},get borderLineWidth(){var e,n;return null!==(n=null===(e=t.frameStyle)||void 0===e?void 0:e.borderLineWidth)&&void 0!==n?n:void 0},get borderLineDash(){var e,n;return null!==(n=null===(e=t.frameStyle)||void 0===e?void 0:e.borderLineDash)&&void 0!==n?n:void 0}}},get padding(){return t.padding},get textAlign(){return t.textAlign},get textBaseline(){return t.textBaseline},get textOverflow(){return t.textOverflow},get lineHeight(){return t.lineHeight},get autoWrapText(){return t.autoWrapText},get lineClamp(){return t.lineClamp},get linkColor(){return t.linkColor},get cursor(){return t.cursor},get textStick(){return t.textStick},get marked(){return t.marked},get underline(){var e;return null!==(e=t.underline)&&void 0!==e&&e},get underlineColor(){return t.underlineColor},get underlineDash(){return t.underlineDash},get underlineOffset(){return t.underlineOffset},get lineThrough(){var e;return null!==(e=t.lineThrough)&&void 0!==e&&e},get lineThroughColor(){return t.lineThroughColor},get lineThroughDash(){return t.lineThroughDash}}}}function m(t,e){if(t instanceof g)return t.hasProperty(e);let n=t;if(!n)return!1;for(let t=0;t<e.length;t++)if(n=n[e[t]],!n)return!1;return!!n}const v=new g(r,r),y=new g(o,o),b=new g(a,a),w=new g(s,s),x=new g(l,l),_={DEFAULT:w,SIMPLIFY:x,ARCO:b,DARK:v,BRIGHT:y},C={TableTheme:g};function S(t){if(!t)return null;if("string"==typeof t){const e=(0,i.I0)(M(),t);return e?e instanceof g?e:new g(e,e):null}return t instanceof g?t:new g(t,t)}function M(){return(0,i.l7)(_,u.n)}var A={DARK:v,BRIGHT:y,ARCO:b,DEFAULT:w,SIMPLIFY:x,theme:C,of:S,get:M}},71433:function(t,e,n){"use strict";n.d(e,{B:function(){return o}});var i=n(70375);const r=(t,e)=>{let n=0,i=t.length-1;for(;n<=i;){const r=Math.floor((n+i)/2);if(t[r]===e)return r;t[r]>e?i=r-1:n=r+1}return i<0?0:i};class o{constructor(){this._keys=[],this._vals={},this._sorted=!1}count(){return this._keys.length}values(){return this._vals}valueArr(){return Object.values(this._vals)}adjustOrder(t,e,n){const{_keys:i}=this;if(this._sorted||(i.sort(((t,e)=>t<e?-1:t>e?1:0)),this._sorted=!0),t>e){const o=[];for(let a=r(i,t+n-1);a>=0;a--){const r=i[a];if(r>=t)o.push(this.get(r));else if(e<=r&&r<t)this.put(r+n,this.get(r));else if(r<e)break}for(let t=0;t<n;t++)this.put(e+t,o[n-1-t])}const{length:o}=i;if(t<e){const a=[];for(let s=r(i,t);s<o;s++){const r=i[s];if(r>=t&&r<t+n)a.push(this.get(r));else if(t+n<=r&&r<=e)this.put(r-n,this.get(r));else if(r>e)break}for(let t=0;t<n;t++)this.put(e+t,a[t])}}exchangeOrder(t,e,n,i,o){const{_keys:a}=this;if(this._sorted||(a.sort(((t,e)=>t<e?-1:t>e?1:0)),this._sorted=!0),t>n){const i=[],s=[];for(let o=r(a,n);o<r(a,t)+e;o++){const n=a[o];n>=t&&n<t+e?s.push(this.get(n)):i.push(this.get(n))}for(let t=0;t<e;t++)this.put(o+t,s[t]);for(let t=0;t<i.length;t++)this.put(o+e+t,i[t])}else{const s=[],l=[];for(let o=r(a,t);o<r(a,n)+i;o++){const n=a[o];n>=t&&n<t+e?l.push(this.get(n)):s.push(this.get(n))}for(let t=0;t<e;t++)this.put(o+t,l[t]);for(let e=0;e<s.length;e++)this.put(t+e,s[e])}}del(t){delete this._vals[t];const e=this._keys.indexOf(t);-1!==e&&this._keys.splice(e,1)}put(t,e){t in this._vals||(this._keys.push(t),this._sorted=!1),this._vals[t]=e}get(t){return this._vals[t]}has(t){return(0,i.Z)(this._vals[t])}contain(t){return Object.values(this._vals).indexOf(t)>=0}each(t,e,n){const{_keys:i}=this,{length:o}=i;this._sorted||(i.sort(((t,e)=>t<e?-1:t>e?1:0)),this._sorted=!0);for(let a=r(i,t);a<o;a++){const r=i[a];if(t<=r&&r<=e){if(!1===n(this.get(r),r))break}else if(e<r)return}}clear(){this._keys.length=0,this._vals={},this._sorted=!1}getLastIndex(){return this._keys[this._keys.length-1]}delLast(){const t=this.getLastIndex();this.del(t)}delAndReorder(t){if(!this.has(t))return;const e=this.getLastIndex();this.adjustOrder(t+1,t,e-t),this.delLast()}addAndReorder(t,e){const n=this.getLastIndex();this.adjustOrder(t,t+1,n-t),(0,i.Z)(e)&&this.put(t,e)}}},25:function(t,e,n){"use strict";n.d(e,{U:function(){return r}});var i=n(94378);class r{constructor(t,e,n,r){this.bounds=new i.YZ,this.bounds.set(t,e,t+n,e+r)}static bounds(t,e,n,i){return new r(t,e,Math.round(n-t),Math.round(i-e))}get left(){return this.bounds.x1}set left(t){this.bounds.x1=t}get top(){return this.bounds.y1}set top(t){this.bounds.y1=t}get right(){return this.bounds.x2}set right(t){this.bounds.x2=t}get bottom(){return this.bounds.y2}set bottom(t){this.bounds.y2=t}get width(){return this.bounds.width()}set width(t){this.bounds.x2=this.bounds.x1+t}get height(){return this.bounds.height()}set height(t){this.bounds.y2=this.bounds.y1+t}offsetLeft(t){this.bounds.translate(t,0)}offsetTop(t){this.bounds.translate(0,t)}copy(){return new r(this.left,this.top,this.width,this.height)}contains(t){return this.bounds.encloses(t.bounds)}inPoint(t,e){return this.bounds.contains(t,e)}}},4928:function(t,e,n){"use strict";n.d(e,{aR:function(){return v},hU:function(){return y}});var i=n(45644),r=n(66990),o=n(44409),a=n(95170);function s(t){return 9===t||10===t||12===t||13===t||32===t}function l(t){return t>=48&&t<=57}function u(t){return 46===t}function h(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||37===t}function c(t){return new Error(`calc parse error: ${t}`)}const d={"*":3,"/":3,"+":2,"-":2};function f(t,e){function n(t){const n=t.pop(),i=t.pop(),r=t.pop();if(!(r&&r.nodeType&&i&&2===i.type&&n&&n.nodeType))throw c(e);return{nodeType:11,left:r,op:i,right:n}}const i=[];for(;t.length;){const r=t.shift();if(0===r.type&&"("===r.value){let n=0;const r=a.IX.findIndex(t,(t=>{if(0===t.type&&"("===t.value)n++;else if(0===t.type&&")"===t.value){if(!n)return!0;n--}return!1}));if(-1===r)throw c(e);i.push(f(t.splice(0,r),e)),t.shift()}else if(2===r.type){if(i.length>=3){const t=i[i.length-2].value;d[r.value]<=d[t]&&i.push(n(i))}i.push(r)}else if(1===r.type){const{value:t,unit:e}=r;i.push({nodeType:10,value:t,unit:e})}else 3===r.type&&i.push({nodeType:12,value:r.value})}for(;i.length>1;)i.push(n(i));return i[0]}function p(t){return f(function(t){const e=t.replace(/calc\(/g,"(").trim(),n=[],i=e.length;for(let a=0;a<i;a++){const i=e[a],h=i.charCodeAt(0);if("("===i||")"===i)n.push({value:i,type:0});else if("*"===i||"/"===i)n.push({value:i,type:2});else if("+"===i||"-"===i)a=r(i,a+1)-1;else if(l(h)||u(h))a=o(i,a+1)-1;else if(!s(h))throw c(t)}function r(t,r){if(r<i){const n=e[r],i=n.charCodeAt(0);if(l(i)||u(i))return o(t+n,r+1)}return n.push({value:t,type:2}),r}function o(r,o){let s=o;for(;s<i;s++){const n=e[s],i=n.charCodeAt(0);if(l(i))r+=n;else{if("."!==n){if(h(i))return a(r,n,s+1);break}if(r.indexOf(".")>=0)throw c(t);r+=n}}if("."===r)throw c(t);return n.push({value:parseFloat(r),type:3}),s}function a(t,r,o){let a=o;for(;a<i;a++){const t=e[a];if(!h(t.charCodeAt(0)))break;r+=t}return n.push({value:parseFloat(t),unit:r,type:1}),a}return n}(t),t)}function g(t,e){if(11===t.nodeType){const n=g(t.left,e),i=g(t.right,e);switch(t.op.value){case"+":return n+i;case"-":return n-i;case"*":return n*i;case"/":return n/i;default:throw new Error(`calc error. unknown operator: ${t.op.value}`)}}else if(10===t.nodeType)switch(t.unit){case"%":return t.value*e.full/100;case"px":return t.value;default:throw new Error(`calc error. unknown unit: ${t.unit}`)}else if(12===t.nodeType)return t.value;throw new Error("calc error.")}function m(t,e){return g(p(t),e)}function v(t,e){return"string"==typeof t?m(t.trim(),e):t-0}function y(t){return!!(0,o.Z)(t)&&!!t.endsWith("%")&&function(t){return!((0,i.Z)(t)||!(0,r.Z)(t)&&+t!=+t)}(t.substring(0,t.length-1))}},42073:function(t,e,n){"use strict";n.d(e,{D:function(){return r}});const i=(t,e)=>(t=>{switch(Object.prototype.toString.call(t)){case"[object Object]":return"object";case"[object Function]":return"function";case"[object Array]":return"array";case"[object String]":return"string";case"[object Number]":return"number";case"[object RegExp]":return"regExp";case"[object Boolean]":return"boolean";case"[object Symbol]":return"symbol";case"[object Date]":return"date";case"[object Undefined]":return"undefined";case"[object Null]":return"null";case"[object Error]":return"error";case"[object HTMLDocument]":return"document";case"[object global]":return"global";default:return null}})(t)===e;function r(t,e,n){let r,o,a,s,l,u,h=0,c=!1,d=!1,f=!0;const p=!e&&0!==e&&"function"==typeof requestAnimationFrame;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){const n=r,i=o;return o=void 0,r=void 0,h=e,s=t.apply(i,n),s}function m(t,e){return p?requestAnimationFrame(t):setTimeout(t,e)}function v(t){const n=t-u;return void 0===u||n>=e||n<0||c&&t-h>=a}function y(){const t=Date.now();if(v(t))return function(t){return l=void 0,f&&r?g(t):(o=void 0,r=void 0,s)}(t);l=m(y,function(t){const n=t-h,i=e&&-(t-u);return c?Math.min(i,a-n):i}(t))}return e=+e||0,i(n,"object")&&(d=!!n.leading,c="maxWait"in n,c&&(a=Math.max(+n.maxWait||0,e)),f="trailing"in n?!!n.trailing:f),function(...t){const n=Date.now(),i=v(n);if(r=t,o=this,u=n,i){if(void 0===l)return function(t){return h=t,l=m(y,e),d?g(t):s}(u);if(c)return l=m(y,e),g(u)}return void 0===l&&(l=m(y,e)),s}}},89666:function(t,e,n){"use strict";function i(t,e){const n=document.createElement(t);return e&&n.classList.add(...e),n}n.d(e,{a:function(){return i}})},74910:function(t,e,n){"use strict";n.d(e,{X:function(){return i}});class i{static get mode(){return i._mode||(i._mode=function(){let t="browser";try{"node"===window.type?t="node":"undefined"==typeof window||window.performance?"undefined"==typeof window&&(t="node"):t="miniApp"}catch(e){t="node"}return t}()),i._mode}static set mode(t){i._mode=t}static RegisterCreateCanvas(t){i.CreateCanvas=t}static RegisterLoadImage(t){i.LoadImage=t}static GetCreateCanvasFunc(){return i.CreateCanvas?i.CreateCanvas:"worker"===i.mode?(t=200,e=200)=>new OffscreenCanvas(t,e):void 0}static RegisterRequestAnimationFrame(t){i.RequestAnimationFrame=t()}static GetRequestAnimationFrame(){if(i.RequestAnimationFrame)return i.RequestAnimationFrame}static RegisterCancelAnimationFrame(t){i.CancelAnimationFrame=t()}static GetCancelAnimationFrame(){if(i.CancelAnimationFrame)return i.CancelAnimationFrame}}i.dpr=0},97176:function(t,e,n){"use strict";n.d(e,{Rk:function(){return r},Zj:function(){return f},aE:function(){return o},cT:function(){return a},ek:function(){return c},gm:function(){return d},hW:function(){return p},ho:function(){return i},tP:function(){return h},yZ:function(){return u},z8:function(){return l},zY:function(){return s}});const i=16,r="Arial,sans-serif",o="#FFF",a="#000",s=1,l=[],u="#000",h=/^(https?|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/,c="$$indicator$$",d='<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><rect x="0" y="0" width="1024" height="1024" rx="20%" ry="20%" fill="#ffffff" /><path  d="M810.666667 85.333333c70.688 0 128 57.312 128 128v597.333334c0 70.688-57.312 128-128 128H213.333333c-70.688 0-128-57.312-128-128V213.333333c0-70.688 57.312-128 128-128h597.333334z m0 85.333334H213.333333a42.666667 42.666667 0 0 0-42.613333 40.533333L170.666667 213.333333v597.333334a42.666667 42.666667 0 0 0 40.533333 42.613333L213.333333 853.333333h597.333334a42.666667 42.666667 0 0 0 42.613333-40.533333L853.333333 810.666667V213.333333a42.666667 42.666667 0 0 0-40.533333-42.613333L810.666667 170.666667zM549.333333 288a5.333333 5.333333 0 0 1 5.333334 5.333333V469.333333h176a5.333333 5.333333 0 0 1 5.333333 5.333334v74.666666a5.333333 5.333333 0 0 1-5.333333 5.333334H554.666667v176a5.333333 5.333333 0 0 1-5.333334 5.333333h-74.666666a5.333333 5.333333 0 0 1-5.333334-5.333333V554.666667H293.333333a5.333333 5.333333 0 0 1-5.333333-5.333334v-74.666666a5.333333 5.333333 0 0 1 5.333333-5.333334H469.333333V293.333333a5.333333 5.333333 0 0 1 5.333334-5.333333h74.666666z"></path></svg>',f='<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><rect x="0" y="0" width="1024" height="1024" rx="20%" ry="20%" fill="#ffffff" /><path d="M810.666667 85.333333c70.688 0 128 57.312 128 128v597.333334c0 70.688-57.312 128-128 128H213.333333c-70.688 0-128-57.312-128-128V213.333333c0-70.688 57.312-128 128-128h597.333334z m0 85.333334H213.333333a42.666667 42.666667 0 0 0-42.613333 40.533333L170.666667 213.333333v597.333334a42.666667 42.666667 0 0 0 40.533333 42.613333L213.333333 853.333333h597.333334a42.666667 42.666667 0 0 0 42.613333-40.533333L853.333333 810.666667V213.333333a42.666667 42.666667 0 0 0-40.533333-42.613333L810.666667 170.666667zM693.333333 469.333333a42.666667 42.666667 0 1 1 0 85.333334H330.666667a42.666667 42.666667 0 1 1 0-85.333334h362.666666z"></path></svg>',p={type:"line"}},95170:function(t,e,n){"use strict";n.d(e,{Bd:function(){return T},I0:function(){return b},IX:function(){return s},JO:function(){return w},NC:function(){return y},TS:function(){return g},UG:function(){return r},Xh:function(){return M},_Z:function(){return x},event:function(){return k},ib:function(){return S},j6:function(){return A},l7:function(){return f},nO:function(){return I},style:function(){return R},tI:function(){return v},vi:function(){return m},vl:function(){return p},yD:function(){return _}});var i=n(51917);const r="undefined"==typeof window||void 0===window.window;let o,a;const s={get find(){return o||(o=Array.prototype.find?(t,e)=>Array.prototype.find.call(t,e):(t,e)=>{const n=s.findIndex(t,e);return n>=0?t[n]:void 0},o)},get findIndex(){return a||(a=Array.prototype.findIndex?(t,e)=>Array.prototype.findIndex.call(t,e):(t,e)=>{const{length:n}=t;for(let i=0;i<n;i++)if(e(t[i],i,t))return i;return-1},a)}};const{IE:l,Chrome:u,Firefox:h,Edge:c,Safari:d}=function(){if(r)return{IE:!1,Edge:!1,Chrome:!1,Firefox:!1,Safari:!1};const t=window.navigator.userAgent.toLowerCase();return{IE:!!/(msie|trident)/.exec(t),Edge:t.indexOf("edge")>-1,Chrome:t.indexOf("chrome")>-1&&-1===t.indexOf("edge"),Firefox:t.indexOf("firefox")>-1,Safari:t.indexOf("safari")>-1&&-1===t.indexOf("edge")}}();function f(...t){const e={};return t.forEach((t=>{for(const n in t)Object.defineProperty(e,n,{get:()=>t[n],set(e){t[n]=e},configurable:!0,enumerable:!0})})),e}function p(t,e,...n){let i=t;for(let t=0;t<n.length&&null!=i;t++)i=e(i,n[t]);return i}function g(t,...e){return p(t,((t,e)=>t[e]),...e)}function m(t,...e){return"function"==typeof t?t(...e):t}function v(t){return Boolean(t&&"function"==typeof t.then)}function y(t,e){v(t)?t.then((t=>{e(t)})).catch((t=>{})):e(t)}function b(t,e){if(t[e])return t[e];const n=e.toLowerCase();if(t[n])return t[n];const i=e.toLowerCase();if(t[i])return t[i];for(const e in t)if(e.toLowerCase()===n)return t[e]}function w(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],t[1]]:2===t.length?[t[0],t[1],t[0],t[1]]:1===t.length?[t[0],t[0],t[0],t[0]]:[t[0],t[1],t[2],t[3]]:[t,t,t,t]}function x(t,e,n){return t.start.col<=e&&e<=t.end.col&&t.start.row<=n&&n<=t.end.row||t.end.col<=e&&e<=t.start.col&&t.end.row<=n&&n<=t.start.row||t.end.col<=e&&e<=t.start.col&&t.start.row<=n&&n<=t.end.row||t.start.col<=e&&e<=t.end.col&&t.end.row<=n&&n<=t.start.row}function _(t,e,n){for(let i=0;i<t.length;i++){const r=t[i],o=Math.min(r.start.col,r.end.col),a=Math.max(r.start.col,r.end.col),s=Math.min(r.start.row,r.end.row),l=Math.max(r.start.row,r.end.row);if(o<=e&&e<=a&&s<=n&&n<=l||a<=e&&e<=o&&l<=n&&n<=s)return!0}return!1}function C(t){return{start:{col:Math.min(t.start.col,t.end.col),row:Math.min(t.start.row,t.end.row)},end:{col:Math.max(t.start.col,t.end.col),row:Math.max(t.start.row,t.end.row)}}}function S(t,e){const n=C(t),i=C(e);return Math.max(n.start.col,i.start.col)<=Math.min(n.end.col,i.end.col)&&Math.max(n.start.row,i.start.row)<=Math.min(n.end.row,i.end.row)}const M={IE:l,Edge:c,Chrome:u,Firefox:h,Safari:d,heightLimit:u?33554431:h?17895588:10737433},A={isObject:function(t){return t===Object(t)}},T={endsWith:function(t,e,n){const r=(0,i.cw)(t);("number"!=typeof n||!isFinite(n)||Math.floor(n)!==n||n>r.length)&&(n=r.length),n-=e.length;const o=r.lastIndexOf(e,n);return-1!==o&&o===n}},k={isTouchEvent:function(t){return!!t.changedTouches}},R={toBoxArray:w},I=Function.prototype},37211:function(t,e,n){"use strict";n.d(e,{Iv:function(){return a},KV:function(){return l},vP:function(){return o},z5:function(){return s}});var i=n(70375),r=n(68725);function o(t){var e;return(null==t?void 0:t.hoverOn)||(null==t?void 0:t.horizontalVisible)&&"none"===(null==t?void 0:t.horizontalVisible)||!(null==t?void 0:t.horizontalVisible)&&"none"===(null==t?void 0:t.visible)?0:null!==(e=null==t?void 0:t.width)&&void 0!==e?e:7}function a(t){var e;return(null==t?void 0:t.hoverOn)||(null==t?void 0:t.verticalVisible)&&"none"===(null==t?void 0:t.verticalVisible)||!(null==t?void 0:t.verticalVisible)&&"none"===(null==t?void 0:t.visible)?0:null!==(e=null==t?void 0:t.width)&&void 0!==e?e:7}function s(t){return!!(0,i.Z)(t)&&(!(0,r.Z)(t)||t.some((t=>(0,i.Z)(t))))}function l(t){return 0===t||(0,r.Z)(t)&&t.every((t=>0===t))}},51917:function(t,e,n){"use strict";n.d(e,{E5:function(){return h},Ed:function(){return b},K$:function(){return g},MU:function(){return m},P2:function(){return u},Zf:function(){return v},cw:function(){return f},je:function(){return a},m7:function(){return s},oM:function(){return y},p4:function(){return l},tq:function(){return p},yW:function(){return w},zX:function(){return d}});var i=n(70375);const r=(t,e)=>(t=>{switch(Object.prototype.toString.call(t)){case"[object Object]":return"object";case"[object Function]":return"function";case"[object Array]":return"array";case"[object String]":return"string";case"[object Number]":return"number";case"[object RegExp]":return"regExp";case"[object Boolean]":return"boolean";case"[object Symbol]":return"symbol";case"[object Date]":return"date";case"[object Undefined]":return"undefined";case"[object Null]":return"null";case"[object Error]":return"error";case"[object HTMLDocument]":return"document";case"[object global]":return"global";default:return null}})(t)===e,o=t=>r(t,"object");function a(t,...e){if(!e.length)return t||{};const n=e.shift();if(o(t)&&o(n))for(const e in n)o(n[e])?(t[e]||Object.assign(t,{[e]:{}}),o(t[e])||Object.assign(t,{[e]:n[e]}),a(t[e],n[e])):null!==n[e]&&void 0!==n[e]&&Object.assign(t,{[e]:n[e]});return a(t,...e)}function s(t){return"function"==typeof t&&(t=t()),(0,i.Z)(t)?`${t}`:""}function l(t){if((null==t?void 0:t.length)<=0)return t;const e=t.length,n=t[0].length,i=new Array(n);for(let r=0;r<e;r++)for(let o=0;o<n;o++)i[o]||(i[o]=new Array(e)),i[o][r]=t[r][o];return i}function u(t,e){let n=null;return function(...i){n||(t.apply(this,i),n=setTimeout((()=>{n=null}),e))}}function h(t,e){let n=null;return function(...i){n||(n=setTimeout((()=>{t.apply(this,i),n=null}),e))}}function c(t,e){for(t=`${t}`;t.length<e;)t="0"+t;return t}function d(t,e,n){t=(t=t.replace(/^\s*|\s*$/,"")).replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");const r=Math.round(256*e)*(n?-1:1),o=t.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),a=o&&(0,i.Z)(o[4])?o[4]:null,s=o?[o[1],o[2],o[3]]:t.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,(function(){return`${parseInt(arguments[1],16)},${parseInt(arguments[2],16)},${parseInt(arguments[3],16)}`})).split(/,/);return o?`rgb${null!==a?"a":""}(${Math[n?"max":"min"](parseInt(s[0],10)+r,n?0:255)}, ${Math[n?"max":"min"](parseInt(s[1],10)+r,n?0:255)}, ${Math[n?"max":"min"](parseInt(s[2],10)+r,n?0:255)}${null!==a?`, ${a}`:""})`:["#",c(Math[n?"max":"min"](parseInt(s[0],10)+r,n?0:255).toString(16),2),c(Math[n?"max":"min"](parseInt(s[1],10)+r,n?0:255).toString(16),2),c(Math[n?"max":"min"](parseInt(s[2],10)+r,n?0:255).toString(16),2)].join("")}function f(t){return(t=>r(t,"string"))(t)||(t=>r(t,"number"))(t)||(t=>r(t,"boolean"))(t)?t.toString():""}function p(){return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function g(t,e,n){return"desc"!==n?t===e?0:t>e?1:-1:t===e?0:t<e?1:-1}function m(t,e){let n,i=t;for(;(n=e.shift())&&(i=i[n],i););return i}function v(t){return/^-?\d+(\.\d+)?$/.test(t)}function y(t){const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function b(t){const e=window.getSelection();if(e.rangeCount){const n=e.getRangeAt(0);return n.endOffset>n.startOffset&&t.contains(n.commonAncestorContainer)}return!1}function w(t,e,n){n(t),(null==t?void 0:t[e])&&Array.isArray(null==t?void 0:t[e])&&t[e].forEach((t=>w(t,e,n)))}},93375:function(t,e,n){"use strict";n.d(e,{n:function(){return i}});const i=["bgColor","color","strokeColor","borderColor","linkColor"]},52408:function(t,e,n){"use strict";var i,r;n.d(e,{F:function(){return i},p:function(){return r}}),function(t){t.default="default",t.grabing="grabing",t.scrolling="scrolling"}(i||(i={})),function(t){t.single="single",t.column="column",t.row="row",t.cross="cross",t.none="none"}(r||(r={}))},99655:function(t,e,n){"use strict";n.d(e,{Fn:function(){return p},Js:function(){return u},MR:function(){return b},NF:function(){return g},SL:function(){return y},U4:function(){return h},YJ:function(){return o},ZP:function(){return d},__:function(){return c},hT:function(){return s},jk:function(){return a},ky:function(){return f},ld:function(){return l},vg:function(){return m},y4:function(){return v}});var i=n(70375),r=n(19401);const o={};class a{constructor(t){var e;this.isAggregator=!0,this.isRecord=!0,this.records=[],this.key=t.key,this.field=t.field,this.formatFun=t.formatFun,this.isRecord=null!==(e=t.isRecord)&&void 0!==e?e:this.isRecord}clearCacheValue(){this._formatedValue=void 0}formatValue(t,e,n){return this._formatedValue||(this.formatFun?this._formatedValue=this.formatFun(this.value(),t,e,n):this._formatedValue=this.value()),this._formatedValue}reset(){this.records=[],this.clearCacheValue()}}class s extends a{constructor(){super(...arguments),this.type=r.E.RECORD,this.isRecord=!0}push(t){t&&this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),this.clearCacheValue()}deleteRecord(t){t&&this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),this.clearCacheValue()}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),this.clearCacheValue())}value(){return this.records}reset(){this.records=[]}recalculate(){}}class l extends a{constructor(){super(...arguments),this.type=r.E.NONE,this.isRecord=!0}push(t){t&&(this.isRecord&&(this.records=[t]),this.field&&(this.fieldValue=t[this.field])),this.clearCacheValue()}deleteRecord(t){t&&(this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),this.field&&this.records.length&&(this.fieldValue=this.records[this.records.length-1][this.field])),this.clearCacheValue()}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),this.field&&this.records.length&&(this.fieldValue=this.records[this.records.length-1][this.field]),this.clearCacheValue())}value(){return this.fieldValue}reset(){this.records=[],this.fieldValue=void 0}recalculate(){}}class u extends a{constructor(t){super(t),this.type=r.E.CUSTOM,this.isRecord=!0,this.values=[],this.aggregationFun=t.aggregationFun}push(t){t&&(this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),this.field&&this.values.push(t[this.field])),this.clearCacheValue()}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),this.field&&this.records.length&&(this.values=this.records.map((t=>t[this.field]))),this.clearCacheValue())}deleteRecord(t){t&&(this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),this.field&&this.records.length&&(this.values=this.records.map((t=>t[this.field])))),this.clearCacheValue()}value(){var t;return this.fieldValue||(this.fieldValue=null===(t=this.aggregationFun)||void 0===t?void 0:t.call(this,this.values,this.records,this.field)),this.fieldValue}reset(){this.records=[],this.fieldValue=void 0}recalculate(){}}class h extends a{constructor(t){super(t),this.type=r.E.RECALCULATE,this.isRecord=!0,this.calculateFun=t.calculateFun,this.dependAggregators=t.dependAggregators,this.dependIndicatorKeys=t.dependIndicatorKeys}push(t){t&&this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),this.clearCacheValue()}deleteRecord(t){t&&this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),this.clearCacheValue()}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),this.clearCacheValue())}value(){var t;if(!this.fieldValue){const e=function(t,e){const n={};for(let i=0;i<(null==e?void 0:e.length);i++){const r=t.find((t=>(null==t?void 0:t.key)===e[i]));r&&(n[r.key]=null==r?void 0:r.value())}return n}(this.dependAggregators,this.dependIndicatorKeys);this.fieldValue=null===(t=this.calculateFun)||void 0===t?void 0:t.call(this,e,this.records,this.field)}return this.fieldValue}reset(){this.records=[],this.fieldValue=void 0}recalculate(){}}class c extends a{constructor(t){var e;super(t),this.type=r.E.SUM,this.sum=0,this.positiveSum=0,this.nagetiveSum=0,this.needSplitPositiveAndNegativeForSum=!1,this.needSplitPositiveAndNegativeForSum=null!==(e=t.needSplitPositiveAndNegative)&&void 0!==e&&e}push(t){if(t)if(this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),t.isAggregator){const e=t.value();this.sum+=null!=e?e:0,this.needSplitPositiveAndNegativeForSum&&(e>0?this.positiveSum+=e:e<0&&(this.nagetiveSum+=e))}else if(this.field&&!isNaN(parseFloat(t[this.field]))){const e=parseFloat(t[this.field]);this.sum+=e,this.needSplitPositiveAndNegativeForSum&&(e>0?this.positiveSum+=e:e<0&&(this.nagetiveSum+=e))}this.clearCacheValue()}deleteRecord(t){if(t)if(this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),t.isAggregator){const e=t.value();this.sum-=null!=e?e:0,this.needSplitPositiveAndNegativeForSum&&(e>0?this.positiveSum-=e:e<0&&(this.nagetiveSum-=e))}else if(this.field&&!isNaN(parseFloat(t[this.field]))){const e=parseFloat(t[this.field]);this.sum-=e,this.needSplitPositiveAndNegativeForSum&&(e>0?this.positiveSum-=e:e<0&&(this.nagetiveSum-=e))}this.clearCacheValue()}updateRecord(t,e){if(t&&e){if(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),t.isAggregator){const n=t.value(),i=e.value();this.sum+=i-n,this.needSplitPositiveAndNegativeForSum&&(n>0?this.positiveSum-=n:n<0&&(this.nagetiveSum-=n),i>0?this.positiveSum+=i:i<0&&(this.nagetiveSum+=i))}else if(this.field&&!isNaN(parseFloat(t[this.field]))){const n=parseFloat(t[this.field]),i=parseFloat(e[this.field]);this.sum+=i-n,this.needSplitPositiveAndNegativeForSum&&(n>0?this.positiveSum-=n:n<0&&(this.nagetiveSum-=n),i>0?this.positiveSum+=i:i<0&&(this.nagetiveSum+=i))}this.clearCacheValue()}}value(){var t;return(null===(t=this.records)||void 0===t?void 0:t.length)>=1?this.sum:void 0}positiveValue(){return this.positiveSum}negativeValue(){return this.nagetiveSum}reset(){super.reset(),this.records=[],this.sum=0}recalculate(){if(this.sum=0,this._formatedValue=void 0,this.records)for(let t=0;t<this.records.length;t++){const e=this.records[t];if(e.isAggregator){const t=e.value();this.sum+=null!=t?t:0,this.needSplitPositiveAndNegativeForSum&&(t>0?this.positiveSum+=t:t<0&&(this.nagetiveSum+=t))}else if(this.field&&!isNaN(parseFloat(e[this.field]))){const t=parseFloat(e[this.field]);this.sum+=t,this.needSplitPositiveAndNegativeForSum&&(t>0?this.positiveSum+=t:t<0&&(this.nagetiveSum+=t))}}}}class d extends a{constructor(){super(...arguments),this.type=r.E.COUNT,this.count=0}push(t){t&&(this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),t.isAggregator?this.count+=t.value():this.count++),this.clearCacheValue()}deleteRecord(t){t&&(this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),t.isAggregator?this.count-=t.value():this.count--),this.clearCacheValue()}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),t.isAggregator&&(this.count+=e.value()-t.value()))}value(){return this.count}reset(){this.records=[],this.count=0}recalculate(){if(this.count=0,this._formatedValue=void 0,this.records)for(let t=0;t<this.records.length;t++){const e=this.records[t];e.isAggregator?this.count+=e.value():this.count++}}}class f extends a{constructor(){super(...arguments),this.type=r.E.AVG,this.sum=0,this.count=0}push(t){t&&(this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),t.isAggregator&&t.type===r.E.AVG?(this.sum+=t.sum,this.count+=t.count):this.field&&!isNaN(parseFloat(t[this.field]))&&(this.sum+=parseFloat(t[this.field]),this.count++)),this.clearCacheValue()}deleteRecord(t){t&&(this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),t.isAggregator&&t.type===r.E.AVG?(this.sum-=t.sum,this.count-=t.count):this.field&&!isNaN(parseFloat(t[this.field]))&&(this.sum-=parseFloat(t[this.field]),this.count--)),this.clearCacheValue()}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),t.isAggregator&&t.type===r.E.AVG?(this.sum+=e.sum-t.sum,this.count+=e.count-t.count):this.field&&!isNaN(parseFloat(t[this.field]))&&(this.sum+=parseFloat(e[this.field])-parseFloat(t[this.field])),this.clearCacheValue())}value(){var t;return(null===(t=this.records)||void 0===t?void 0:t.length)>=1?this.sum/this.count:void 0}reset(){this.records=[],this.sum=0,this.count=0}recalculate(){if(this.sum=0,this.count=0,this._formatedValue=void 0,this.records)for(let t=0;t<this.records.length;t++){const e=this.records[t];e.isAggregator&&e.type===r.E.AVG?(this.sum+=e.sum,this.count+=e.count):this.field&&!isNaN(parseFloat(e[this.field]))&&(this.sum+=parseFloat(e[this.field]),this.count++)}}}class p extends a{constructor(){super(...arguments),this.type=r.E.MAX,this.max=Number.MIN_SAFE_INTEGER}push(t){t&&(this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),t.isAggregator?this.max=t.max>this.max?t.max:this.max:"number"==typeof t?this.max=t>this.max?t:this.max:this.field&&"number"==typeof t[this.field]?this.max=t[this.field]>this.max?t[this.field]:this.max:this.field&&!isNaN(t[this.field])&&(this.max=parseFloat(t[this.field])>this.max?parseFloat(t[this.field]):this.max)),this.clearCacheValue()}deleteRecord(t){t&&(this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),this.recalculate())}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),this.recalculate())}value(){var t;return(null===(t=this.records)||void 0===t?void 0:t.length)>=1?this.max:void 0}reset(){this.records=[],this.max=Number.MIN_SAFE_INTEGER}recalculate(){if(this.max=Number.MIN_SAFE_INTEGER,this._formatedValue=void 0,this.records)for(let t=0;t<this.records.length;t++){const e=this.records[t];e.isAggregator?this.max=e.max>this.max?e.max:this.max:"number"==typeof e?this.max=e>this.max?e:this.max:this.field&&"number"==typeof e[this.field]?this.max=e[this.field]>this.max?e[this.field]:this.max:this.field&&!isNaN(e[this.field])&&(this.max=parseFloat(e[this.field])>this.max?parseFloat(e[this.field]):this.max)}}}class g extends a{constructor(){super(...arguments),this.type=r.E.MIN,this.min=Number.MAX_SAFE_INTEGER}push(t){t&&(this.isRecord&&this.records&&(t.isAggregator?this.records.push(...t.records):this.records.push(t)),t.isAggregator?this.min=t.min<this.min?t.min:this.min:"number"==typeof t?this.min=t<this.min?t:this.min:this.field&&"number"==typeof t[this.field]?this.min=t[this.field]<this.min?t[this.field]:this.min:this.field&&!isNaN(t[this.field])&&(this.min=parseFloat(t[this.field])<this.min?parseFloat(t[this.field]):this.min)),this.clearCacheValue()}deleteRecord(t){t&&(this.isRecord&&this.records&&(this.records=this.records.filter((e=>e!==t))),this.recalculate())}updateRecord(t,e){t&&e&&(this.isRecord&&this.records&&(this.records=this.records.map((n=>n===t?e:n))),this.recalculate())}value(){var t;return(null===(t=this.records)||void 0===t?void 0:t.length)>=1?this.min:void 0}reset(){this.records=[],this.min=Number.MAX_SAFE_INTEGER}recalculate(){if(this.min=Number.MAX_SAFE_INTEGER,this._formatedValue=void 0,this.records)for(let t=0;t<this.records.length;t++){const e=this.records[t];e.isAggregator?this.min=e.min<this.min?e.min:this.min:"number"==typeof e?this.min=e<this.min?e:this.min:this.field&&"number"==typeof e[this.field]?this.min=e[this.field]<this.min?e[this.field]:this.min:this.field&&!isNaN(e[this.field])&&(this.min=parseFloat(e[this.field])<this.min?parseFloat(e[this.field]):this.min)}}}function m(t,e){return t&&e?t.toString().localeCompare(e.toString(),"zh"):t?1:-1}function v(t,e,n){if(n===r.F.NORMAL||n===r.F.normal)return 0;const i=n===r.F.DESC||n===r.F.desc?-1:1;return t&&e?t.toString().localeCompare(e.toString(),"zh")*i:t?1*i:-1*i}function y(t,e,n){if(n===r.F.NORMAL||n===r.F.normal)return 0;const i=/(\d+)|(\D+)/g,o=/\d/,a=/^0/;let s,l,u,h,c=0,d=0;const f=n===r.F.DESC||n===r.F.desc?-1:1;if(null!==e&&null===t)return-1*f;if(null!==t&&null===e)return 1*f;if("number"==typeof t&&isNaN(t))return-1*f;if("number"==typeof e&&isNaN(e))return 1*f;if(c=+t,d=+e,c<d)return-1*f;if(c>d)return 1*f;if("number"==typeof t&&"number"!=typeof e)return-1*f;if("number"==typeof e&&"number"!=typeof t)return 1*f;if("number"==typeof t&&"number"==typeof e)return 0;if(isNaN(d)&&!isNaN(c))return-1*f;if(isNaN(c)&&!isNaN(d))return 1*f;if(s=String(t),u=String(e),s===u)return 0;if(!o.test(s)||!o.test(u))return(s>u?1:-1)*f;for(s=s.match(i),u=u.match(i);s.length&&u.length;)if(l=s.shift(),h=u.shift(),l!==h)return o.test(l)&&o.test(h)?(l.replace(a,".0")-h.replace(a,".0"))*f:(l>h?1:-1)*f;return(s.length-u.length)*f}function b(t){let e;const n={},o={};for(let i=0;i<t.length;i++)e=t[i],n[e]=i,"string"==typeof e&&(o[e.toLowerCase()]=i);return function(t,e,a){if(a===r.F.NORMAL||a===r.F.normal)return 0;const s=a===r.F.DESC||a===r.F.desc?-1:1;let l;return null!==n[t]&&void 0!==n[t]&&null!==n[e]&&void 0!==n[e]?l=n[t]-n[e]:null!==n[t]&&void 0!==n[t]?l=-1:null!==n[e]&&void 0!==n[e]?l=1:null!==o[t]&&void 0!==n[t]&&null!==o[e]&&void 0!==n[e]?l=o[t]-o[e]:null===o[t]||void 0===n[t]||null===o[e]||void 0===n[e]?l=0:null!==o[t]&&void 0!==n[t]?l=-1:null!==o[e]&&void 0!==n[e]&&(l=1),(0,i.Z)(l)?l*s:y(t,e,a)}}},23186:function(t,e,n){"use strict";var i,r,o;n.d(e,{cI:function(){return r},q0:function(){return i},up:function(){return o}}),function(t){t.inlineFront="inlineFront",t.inlineEnd="inlineEnd",t.left="left",t.right="right",t.absoluteRight="absoluteRight",t.contentLeft="contentLeft",t.contentRight="contentRight",t.absolute="absolute"}(i||(i={})),function(t){t.frozen="frozen",t.sort="sort",t.dropDown="dropDown",t.dropDownState="dropDownState",t.play="play",t.damagePic="damagePic",t.expand="expand",t.collapse="collapse",t.drillDown="drillDown",t.drillUp="drillUp",t.dragReorder="dragReorder"}(r||(r={})),function(t){t.upwardIconName="sort_upward",t.downwardIconName="sort_downward",t.normalIconName="sort_normal",t.freezeIconName="freeze",t.frozenIconName="frozen",t.frozenCurrentIconName="frozenCurrent",t.dropdownIconName="dropdownIcon",t.expandIconName="expand",t.collapseIconName="collapse",t.dragReorderIconName="dragReorder",t.loadingIconName="loading"}(o||(o={}))},19401:function(t,e,n){"use strict";var i,r;n.d(e,{E:function(){return i},F:function(){return r}}),function(t){t.RECORD="RECORD",t.NONE="NONE",t.SUM="SUM",t.MIN="MIN",t.MAX="MAX",t.AVG="AVG",t.COUNT="COUNT",t.CUSTOM="CUSTOM",t.RECALCULATE="RECALCULATE"}(i||(i={})),function(t){t.ASC="ASC",t.DESC="DESC",t.NORMAL="NORMAL",t.desc="desc",t.asc="asc",t.normal="normal"}(r||(r={}))},57922:function(t,e,n){"use strict";n.d(e,{Z:function(){return a},z:function(){return o}});var i=n(6577),r=n(95170);const o=(0,r.l7)(i.B,{PIVOT_SORT_CLICK:"pivot_sort_click",DRILLMENU_CLICK:"drillmenu_click"}),a=(0,r.l7)(i.B,{VCHART_EVENT_TYPE:"vchart_event_type"})},86036:function(t,e,n){"use strict";var i,r;n.d(e,{g:function(){return r},u:function(){return i}}),function(t){t.top="top",t.bottom="bottom",t.left="left",t.right="right"}(i||(i={})),function(t){t.expand="expand",t.collapse="collapse",t.none="none",t.loading="loading"}(r||(r={}))},5260:function(t,e,n){"use strict";n.d(e,{sTO:function(){return On}});var i=n(64008),r=n(46195),o=n(21817),a=n(90154),s=n(35223),l=n(94378),u=n(22304),h=n(95344),c=n(70375),d=n(68725),f=n(19387),p=n(57343),g=n(2465),m=n(73500),v=n(99350),y=n(69083),b=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const w=new l.FB;(0,y.q)();class x extends v.k{constructor(t,e){super((null==e?void 0:e.skipDefault)?t:(0,u.Z)({},x.defaultAttributes,t)),this.name="poptip",this.positionList=["top","tl","tr","bottom","bl","br","left","lt","lb","right","rt","rb"]}render(){var t,e,n,i,r,o,a,s;const{titleStyle:u={},position:v,contentStyle:y={},panel:x={},space:_=4,minWidth:C=0,maxWidth:S=1/0,padding:M=4,maxWidthPercent:A,visible:T,state:k,dx:R=0,dy:I=0}=this.attribute;let{title:P="",content:E=""}=this.attribute;P=this.attribute.titleFormatMethod?this.attribute.titleFormatMethod(P):P,E=this.attribute.contentFormatMethod?this.attribute.contentFormatMethod(E):E;const B=(0,h.o)(M),L=this.createOrUpdateChild("poptip-content",{x:0,y:0,zIndex:1},"group"),D=S-B[1]-B[3],O=(0,c.Z)(P)&&!1!==T,F=Object.assign(Object.assign({text:(0,d.Z)(P)?P:[P],visible:O,wrap:!0},u),{x:B[3],y:B[0],maxLineWidth:D,textAlign:"left",textBaseline:"top"}),H=L.createOrUpdateChild("poptip-title",F,"text");(0,f.Z)(null==k?void 0:k.title)||(H.states=k.title);const N=H.AABBBounds,z=N.height(),W=N.width();let j=z+_;O||(j=0);const V=(0,c.Z)(E)&&!1!==T,G=Object.assign(Object.assign({text:(0,d.Z)(E)?E:[E],visible:V,wrap:!0},y),{x:B[3],y:B[0]+j,maxLineWidth:D,textAlign:"left",textBaseline:"top"}),Z=L.createOrUpdateChild("poptip-content",G,"text");(0,f.Z)(null==k?void 0:k.content)||(Z.states=k.content);const U=Z.AABBBounds,K=U.height(),$=U.width();V&&(j+=K);let X=(0,p.Fp)(W+B[1]+B[3],$+B[1]+B[3]);X>S?X=S:X<C&&(X=C);let Y=B[0]+B[2]+j;const{visible:q}=x,J=b(x,["visible"]),Q=null!==(t=J.size)&&void 0!==t?t:12,tt=(0,d.Z)(Q)?[Q[0]+(null!==(e=J.space)&&void 0!==e?e:0),Q[1]+(null!==(n=J.space)&&void 0!==n?n:0)]:Q+(null!==(i=J.space)&&void 0!==i?i:0),et=null!==(r=J.lineWidth)&&void 0!==r?r:1,nt=this.stage?[null!==(o=this.stage.viewWidth)&&void 0!==o?o:this.stage.width,null!==(a=this.stage.viewHeight)&&void 0!==a?a:this.stage.height]:void 0;if(nt){const t=this.AABBBounds,e=null!==(s=this.attribute.x)&&void 0!==s?s:t.x1,n=nt[0]-t.x1;let i=Math.max(e,n);const r=((0,d.Z)(Q)?Q[0]:12)+3;if(i=Math.min(i-r,i*A),i<X){X=i;const t=B[1]+B[3];H.setAttribute("maxLineWidth",i-t),Z.setAttribute("maxLineWidth",i-t),Y=B[0]+B[2],O&&(Y+=H.AABBBounds.height()+_),Y+=Z.AABBBounds.height()}}const it="auto"===v;let rt,ot=-1/0;for(let t=0;t<this.positionList.length+1;t++){const e=it?this.positionList[t===this.positionList.length?rt:t]:v,{angle:n,offset:i,rectOffset:r}=this.getAngleAndOffset(e,X,Y,(0,d.Z)(tt)?tt:[tt,tt-et]);if((0,g.Z)(q)){const t=((0,d.Z)(Q)?Q[0]:Q)/4,e=L.createOrUpdateChild("poptip-symbol-panel",Object.assign(Object.assign({},J),{visible:q&&(V||O),x:t,y:0,strokeBoundsBuffer:-1,boundsPadding:-2,anchor:[0,0],symbolType:"arrow2Left",angle:n,dx:i[0],dy:i[1],size:Q,zIndex:-9}),"symbol");(0,f.Z)(null==k?void 0:k.panel)||(e.states=k.panel);const r=L.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},J),{visible:q&&(V||O),x:0,y:0,width:X,height:Y,zIndex:-8}),"rect");(0,f.Z)(null==k?void 0:k.panel)||(r.states=k.panel)}if(L.setAttributes({x:-i[0]+R,y:-i[1]+I}),!it||!nt)break;{w.setValue(0,0,X,Y).transformWithMatrix(L.globalTransMatrix);const e=w,n=(new l.YZ).setValue(0,0,nt[0],nt[1]);if((0,m.RA)(e,n,!1))break;{const i=(0,m.di)(e,n,!1),r=(i.x2-i.x1)*(i.y2-i.y1);r>ot&&(ot=r,rt=t)}}}}getAngleAndOffset(t,e,n,i){const r=i[1]/2;switch(t){case"tl":return{angle:p.pi/2*3,offset:[e/4,n+r],rectOffset:[-e/4,-n-i[1]]};case"top":return{angle:p.pi/2*3,offset:[e/2,n+r],rectOffset:[0,-n-i[1]]};case"tr":return{angle:p.pi/2*3,offset:[e/4*3,n+r],rectOffset:[e/4*3,-n-i[1]]};case"rt":return{angle:0,offset:[-r,n/5],rectOffset:[e/4*3,-n-i[1]]};case"right":return{angle:0,offset:[-r,n/2],rectOffset:[e/4*3,-n-i[1]]};case"rb":return{angle:0,offset:[-r,n/5*4],rectOffset:[e/4*3,-n-i[1]]};case"bl":return{angle:p.pi/2,offset:[e/4,-r],rectOffset:[-e/4,-n-i[1]]};case"bottom":return{angle:p.pi/2,offset:[e/2,-r],rectOffset:[0,-n-i[1]]};case"br":return{angle:p.pi/2,offset:[e/4*3,-r],rectOffset:[e/4*3,-n-i[1]]};case"lt":return{angle:p.pi,offset:[e+r,n/5],rectOffset:[-e/4,-n-i[1]]};case"left":return{angle:p.pi,offset:[e+r,n/2],rectOffset:[0,-n-i[1]]};case"lb":return{angle:p.pi,offset:[e+r,n/5*4],rectOffset:[e/4*3,-n-i[1]]}}}}x.defaultAttributes={position:"rt",visible:!0,title:null,content:null,titleStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},contentStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},maxWidthPercent:.8,space:8,padding:10};var _=n(53967),C=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let S=class{render(t,e,n,i,r,o,a,s,l,h,c,d,f){var p,g,m,v;if(1===t._showPoptip){const{visible:e,visibleCb:n}=t.attribute.poptip||{};if(!1===e||n&&!1===n(t))return;const i={};(0,u.Z)(i,x.defaultAttributes,t.attribute.poptip?t.attribute.poptip:{}),this.poptipComponent?this.poptipComponent.initAttributes(i):this.poptipComponent=new x(i);let r=t.attribute.poptip||{};if("text"===t.type&&null==r.title&&null==r.content){const e={};m=e,v=r,(0,u.Z)(m,_.r.poptip,v),r=e,r.content=null!==(p=r.content)&&void 0!==p?p:t.attribute.text}const o=t.globalTransMatrix;this.poptipComponent.setAttributes(Object.assign(Object.assign({visibleAll:!0,pickable:!1,childrenPickable:!1},r),{x:o.e,y:o.f})),h.stage.tryInitInteractiveLayer();const a=h.stage.getLayer("_builtin_interactive");a&&a.add(this.poptipComponent)}else 2===t._showPoptip&&(t._showPoptip=0,this.poptipComponent&&(this.poptipComponent.setAttributes({visibleAll:!1}),null===(g=this.poptipComponent.parent)||void 0===g||g.removeChild(this.poptipComponent),this.poptipComponent=null))}};S=C([(0,s.b)()],S);var M=n(19122),A=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class T{constructor(){this.activeEvent="onRegister",this._uid=M.R.GenAutoIncrementId(),this.poptip=t=>{const e=t.target;this.needHide(e)?this.unpoptip(t):e!==this.activeGraphic&&(this.needShow(e)&&(e.setAttributes({}),e._showPoptip=1),this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2),this.setActiveGraphic(e,!0))},this.unpoptip=t=>{this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2,this.setActiveGraphic(null,!0))}}activate(t){this.pluginService=t;const{stage:e}=this.pluginService;e.addEventListener("pointerover",this.poptip)}needHide(t){return t.isContainer||!t.attribute}needShow(t){return!!t.attribute.poptip}setActiveGraphic(t,e){this.activeGraphic=t,this.pluginService.stage.renderNextFrame()}deactivate(t){const{stage:e}=this.pluginService;e.removeEventListener("pointerover",this.poptip)}}let k=class extends T{constructor(){super(...arguments),this.name="poptip",this.key=this.name+this._uid}};k=A([(0,s.b)()],k);let R=class extends T{constructor(){super(...arguments),this.name="poptipForText",this.key=this.name+this._uid,this.pointerlave=t=>{const{stage:e}=this.pluginService;t.target===e&&this.unpoptip(t)}}activate(t){super.activate(t);const{stage:e}=this.pluginService;e.addEventListener("pointerleave",this.pointerlave)}needHide(t){return"text"!==t.type||!t.cliped||t.isContainer||!t.attribute||t.attribute.disableAutoClipedPoptip}needShow(t){return!0}deactivate(t){const{stage:e}=this.pluginService;super.deactivate(t),e.removeEventListener("pointerleave",this.pointerlave)}};R=A([(0,s.b)()],R);const I=new i.n(((t,e,n,i)=>{n(S)||(t(S).toSelf().inSingletonScope(),t(r.tg).toService(S)),n(k)||(t(k).toSelf(),t(o.X).toService(k)),n(R)||(t(R).toSelf(),t(o.X).toService(R))}));var P=n(36656),E=n(93669),B=n(9353),L=n(92908),D=n(51948);const O=new l.FB;class F{constructor(){this.name="FlexLayoutPlugin",this.activeEvent="onRegister",this.id=M.R.GenAutoIncrementId(),this.key=this.name+this.id,this.tempBounds=new l.FB}pauseLayout(t){this.pause=t}tryLayoutChildren(t){t.firstChild&&this.tryLayout(t.firstChild)}tryLayout(t,e=!0){if(this.pause)return;const n=t.parent;if(!(e||n&&t.needUpdateLayout()))return;const i=(0,B.gh)(n).group,{display:r=i.display}=n.attribute;if("flex"!==r)return;const{flexDirection:o=i.flexDirection,flexWrap:a=i.flexWrap,alignItems:s=i.alignItems,clip:l=i.clip}=n.attribute,{alignContent:u=(null!=s?s:i.alignContent)}=n.attribute;let{width:h,height:c,justifyContent:d=i.justifyContent}=n.attribute;const f=n.getChildren();if(null==h||null==c){let t=0,e=0,n=0;if(f.forEach((i=>{const r=this.getAABBBounds(i);r.empty()||("column"===o||"column-reverse"===o?(e+=r.height(),t=Math.max(t,r.width())):(t+=r.width(),e=Math.max(e,r.height())),n+=r.x1,n+=r.y1,n+=r.x2,n+=r.y2)})),!isFinite(n))return;h=t,c=e}null==n.attribute.width?n.attribute.width=h:h=n.attribute.width,null==n.attribute.height?n.attribute.height=c:c=n.attribute.height,this.tempBounds.copy(n._AABBBounds);const p={main:{len:h,field:"x"},cross:{len:c,field:"y"}},g=p.main,m=p.cross;"column"!==o&&"column-reverse"!==o||(g.len=c,m.len=h,g.field="y",m.field="x"),"row-reverse"!==o&&"column-reverse"!==o||("flex-start"===d?d="flex-end":"flex-end"===d?d="flex-start":f.reverse());let v=0,y=0;const b=[];f.forEach((t=>{const e=this.getAABBBounds(t);if(e.empty())return;const n="x"===g.field?e.width():e.height(),i="x"===m.field?e.width():e.height();b.push({mainLen:n,crossLen:i}),v+=n,y=Math.max(y,i)}));const w=[];if(v>g.len&&"wrap"===a){let t=0,e=0;b.forEach((({mainLen:n,crossLen:i},r)=>{t+n>g.len?0===t?(w.push({idx:r,mainLen:t+n,crossLen:i}),t=0,e=0):(w.push({idx:r-1,mainLen:t,crossLen:e}),t=n,e=i):(t+=n,e=Math.max(e,i))})),w.push({idx:b.length-1,mainLen:t,crossLen:e})}else w.push({idx:b.length-1,mainLen:v,crossLen:y});let x=0;if(w.forEach((t=>{this.layoutMain(n,f,d,g,b,x,t),x=t.idx+1})),y=w.reduce(((t,e)=>t+e.crossLen),0),1===w.length){const t={"flex-start":0,"flex-end":m.len,center:m.len/2};this.layoutCross(f,s,m,t,b,w[0],0)}else if("flex-start"===u){x=0;let t=0;w.forEach(((e,n)=>{const i={"flex-start":t,"flex-end":t+e.crossLen,center:t+e.crossLen/2};this.layoutCross(f,"flex-start",m,i,b,w[n],x),x=e.idx+1,t+=e.crossLen}))}else if("center"===u){x=0;let t=Math.max(0,(m.len-y)/2);w.forEach(((e,n)=>{const i={"flex-start":t,"flex-end":t+e.crossLen,center:t+e.crossLen/2};this.layoutCross(f,"center",m,i,b,w[n],x),x=e.idx+1,t+=e.crossLen}))}else if("space-around"===u){x=0;const t=Math.max(0,(m.len-y)/w.length/2);let e=t;w.forEach(((n,i)=>{const r={"flex-start":e,"flex-end":e+n.crossLen,center:e+n.crossLen/2};this.layoutCross(f,"flex-start",m,r,b,w[i],x),x=n.idx+1,e+=n.crossLen+2*t}))}else if("space-between"===u){x=0;const t=Math.max(0,(m.len-y)/(2*w.length-2));let e=0;w.forEach(((n,i)=>{const r={"flex-start":e,"flex-end":e+n.crossLen,center:e+n.crossLen/2};this.layoutCross(f,"flex-start",m,r,b,w[i],x),x=n.idx+1,e+=n.crossLen+2*t}))}f.forEach(((t,e)=>{t.addUpdateBoundTag(),t.addUpdatePositionTag(),t.clearUpdateLayoutTag()})),n.addUpdateLayoutTag();const _=this.getAABBBounds(n);l||this.tempBounds.equals(_)||this.tryLayout(n,!1)}getAABBBounds(t){this.skipBoundsTrigger=!0;const e=t.AABBBounds;return this.skipBoundsTrigger=!1,e}updateChildPos(t,e,n){return t+(null!=e?e:0)-n}layoutMain(t,e,n,i,r,o,a){if("flex-start"===n){let t=0;for(let n=o;n<=a.idx;n++){const o=t+(e[n],i.field,0),a=this.getAABBBounds(e[n]);!a.empty()&&(e[n].attribute[i.field]=this.updateChildPos(o,e[n].attribute[i.field],a[`${i.field}1`])),t+=r[n].mainLen}}else if("flex-end"===n){let t=i.len;for(let n=a.idx;n>=o;n--){t-=r[n].mainLen;const o=t+(e[n],i.field,0),a=this.getAABBBounds(e[n]);!a.empty()&&(e[n].attribute[i.field]=this.updateChildPos(o,e[n].attribute[i.field],a[`${i.field}1`]))}}else if("space-around"===n)if(a.mainLen>=i.len){let t=0;for(let n=o;n<=a.idx;n++){const o=t+(e[n],i.field,0),a=this.getAABBBounds(e[n]);!a.empty()&&(e[n].attribute[i.field]=this.updateChildPos(o,e[n].attribute[i.field],a[`${i.field}1`])),t+=r[n].mainLen}}else{const t=a.idx-o+1,n=(i.len-a.mainLen)/t/2;let s=n;for(let t=o;t<=a.idx;t++){const o=s+(e[t],i.field,0),a=this.getAABBBounds(e[t]);!a.empty()&&(e[t].attribute[i.field]=this.updateChildPos(o,e[t].attribute[i.field],a[`${i.field}1`])),s+=r[t].mainLen+2*n}}else if("space-between"===n)if(a.mainLen>=i.len){let t=0;for(let n=o;n<=a.idx;n++){const o=t+(e[n],i.field,0),a=this.getAABBBounds(e[n]);!a.empty()&&(e[n].attribute[i.field]=this.updateChildPos(o,e[n].attribute[i.field],a[`${i.field}1`])),t+=r[n].mainLen}}else{const t=a.idx-o+1,n=(i.len-a.mainLen)/(2*t-2);let s=0;for(let t=o;t<=a.idx;t++){const o=s+(e[t],i.field,0),a=this.getAABBBounds(e[t]);!a.empty()&&(e[t].attribute[i.field]=this.updateChildPos(o,e[t].attribute[i.field],a[`${i.field}1`])),s+=r[t].mainLen+2*n}}else if("center"===n){let t=(i.len-a.mainLen)/2;for(let n=o;n<=a.idx;n++){const o=t+(e[n],i.field,0),a=this.getAABBBounds(e[n]);!a.empty()&&(e[n].attribute[i.field]=this.updateChildPos(o,e[n].attribute[i.field],a[`${i.field}1`])),t+=r[n].mainLen}}}layoutCross(t,e,n,i,r,o,a){var s;for(let l=a;l<=o.idx;l++){const o=t[l];let{alignSelf:a}=o.attribute;a&&"auto"!==a||(a=e);const u=this.getAABBBounds(o),h=null!==(s=i[a])&&void 0!==s?s:i["flex-start"];"flex-end"===a?!u.empty()&&(o.attribute[n.field]=this.updateChildPos(h-r[l].crossLen+(n.field,0),o.attribute[n.field],u[`${n.field}1`])):"center"===a?!u.empty()&&(o.attribute[n.field]=this.updateChildPos(h-r[l].crossLen/2+(n.field,0),o.attribute[n.field],u[`${n.field}1`])):!u.empty()&&(o.attribute[n.field]=this.updateChildPos(h+(n.field,0),o.attribute[n.field],u[`${n.field}1`]))}}activate(t){this.pluginService=t,L.w.graphicService.hooks.onAttributeUpdate.tap(this.key,(t=>{t.glyphHost&&(t=t.glyphHost),t.stage&&t.stage===this.pluginService.stage&&this.tryLayout(t,!1)})),L.w.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,((t,e,n,i)=>{t.glyphHost&&(t=t.glyphHost),e&&e===this.pluginService.stage&&t.isContainer&&!this.skipBoundsTrigger&&O.copy(i)})),L.w.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,((t,e,n,i,r)=>{e&&e===this.pluginService.stage&&t.isContainer&&!this.skipBoundsTrigger&&(O.equals(n)||this.tryLayout(t,!1))})),L.w.graphicService.hooks.onSetStage.tap(this.key,(t=>{t.glyphHost&&(t=t.glyphHost),this.tryLayout(t,!1)}))}deactivate(t){L.w.graphicService.hooks.onAttributeUpdate.taps=L.w.graphicService.hooks.onAttributeUpdate.taps.filter((t=>t.name!==this.key)),L.w.graphicService.hooks.beforeUpdateAABBBounds.taps=L.w.graphicService.hooks.beforeUpdateAABBBounds.taps.filter((t=>t.name!==this.key)),L.w.graphicService.hooks.afterUpdateAABBBounds.taps=L.w.graphicService.hooks.afterUpdateAABBBounds.taps.filter((t=>t.name!==this.key)),L.w.graphicService.hooks.onSetStage.taps=L.w.graphicService.hooks.onSetStage.taps.filter((t=>t.name!==this.key))}}const H=()=>{D.F.registerPlugin("FlexLayoutPlugin",F)};var N=n(50747);const z={WIDTH:500,HEIGHT:500,DPR:1};class W{get displayWidth(){return this._pixelWidth/this._dpr}get displayHeight(){return this._pixelHeight/this._dpr}get id(){return this._id}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get nativeCanvas(){return this._nativeCanvas}get width(){return this._pixelWidth}set width(t){this._pixelWidth=t,this._displayWidth=t/(this._dpr||1)}get height(){return this._pixelHeight}set height(t){this._pixelHeight=t,this._displayHeight=t/(this._dpr||1)}getContext(t){return this._context}get visiable(){return this._visiable}set visiable(t){this._visiable=t,t?this.show():this.hide()}get dpr(){return this._dpr}set dpr(t){this._dpr=t,this.resize(this._displayWidth,this._displayHeight)}constructor(t){var e;const{nativeCanvas:n,width:i=z.WIDTH,height:r=z.HEIGHT,dpr:o=z.DPR,x:a,y:s,id:l,canvasControled:u=!0}=t;this._x=null!=a?a:0,this._y=null!=s?s:0,this._pixelWidth=i*o,this._pixelHeight=r*o,this._visiable=!1!==t.visiable,this.controled=u,this._displayWidth=i,this._displayHeight=r,this._dpr=o,this._nativeCanvas=n,this._id=null!==(e=n.id)&&void 0!==e?e:l,l&&(n.id=l),this.init(t)}getNativeCanvas(){return this._nativeCanvas}hide(){}show(){}applyPosition(){}resetStyle(t){}resize(t,e){}toDataURL(t,e){return""}readPixels(t,e,n,i){return this._context.getImageData(t,e,n,i)}convertToBlob(t){throw new Error("")}transferToImageBitmap(){throw new Error("")}release(...t){this.controled&&this._nativeCanvas.parentElement&&this._nativeCanvas.parentElement.removeChild(this._nativeCanvas)}}W.env="browser";var j=n(65087),V=n(81813),G=n(45677),Z=n(77887),U=n(63076),K=n(67161);class ${constructor(){this.CLEAN_THRESHOLD=1e3,this.L_TIME=1e3,this.R_COUNT=1,this.R_TIMESTAMP_MAX_SIZE=20}clearCache(t,e){const{CLEAN_THRESHOLD:n=this.CLEAN_THRESHOLD,L_TIME:i=this.L_TIME,R_COUNT:r=this.R_COUNT}=e;if(t.size<n)return 0;let o=0;const a=e=>{o++,t.delete(e)},s=Date.now();return t.forEach(((t,e)=>{if(t.timestamp.length<r)return a(e);let n=0;for(;s-t.timestamp[t.timestamp.length-1-n]<i&&(n++,!(n>=r)););if(n<r)return a(e);for(;s-t.timestamp[0]>i;)t.timestamp.shift()})),o}addLimitedTimestamp(t,e,n){const{R_TIMESTAMP_MAX_SIZE:i=this.R_TIMESTAMP_MAX_SIZE}=n;t.timestamp.length>i&&t.timestamp.shift(),t.timestamp.push(e)}clearTimeStamp(t,e){const{L_TIME:n=this.L_TIME}=e,i=Date.now();t.forEach((t=>{for(;i-t.timestamp[0]>n;)t.timestamp.shift()}))}clearItemTimestamp(t,e){const{L_TIME:n=this.L_TIME}=e,i=Date.now();for(;i-t.timestamp[0]>n;)t.timestamp.shift()}}var X=n(32449);class Y{static GetCanvas(){try{return Y.canvas||(Y.canvas=L.w.global.createCanvas({})),Y.canvas}catch(t){return null}}static GetCtx(){if(!Y.ctx){const t=Y.GetCanvas();Y.ctx=t.getContext("2d")}return Y.ctx}}class q extends ${static getInstance(){return q._instance||(q._instance=new q),q._instance}constructor(t=[],e=100){super(),this.cacheParams={CLEAN_THRESHOLD:100,L_TIME:1e3},this.dataMap=new Map;const n=Y.GetCanvas(),i=Y.GetCtx();if(n.width=e,n.height=1,!i)return;if(i.translate(0,0),!i)throw new Error("ctx");const r=i.createLinearGradient(0,0,e,0);t.forEach((t=>{r.addColorStop(t[0],t[1])})),i.fillStyle=r,i.fillRect(0,0,e,1),this.rgbaSet=i.getImageData(0,0,e,1).data}getColor(t){const e=this.rgbaSet.slice(4*t,4*t+4);return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]/255})`}GetOrCreate(t,e,n,i,r=[],o=100){let a=`${t}${e}${n}${i}`;r.forEach((t=>a+=t.join())),a+=o;let s=this.dataMap.get(a);return s||(s={data:new q(r,o),timestamp:[]},this.addLimitedTimestamp(s,Date.now(),{}),this.dataMap.set(a,s)),this.clearCache(this.dataMap,this.cacheParams),s.data}}class J{static GetSize(t){for(let e=0;e<J.ImageSize.length;e++)if(J.ImageSize[e]>=t)return J.ImageSize[e];return t}static Get(t,e,n,i,r,o,a){const s=J.GenKey(t,e,n,i,r),l=J.cache[s];if(!l||0===l.length)return null;for(let t=0;t<l.length;t++)if(l[t].width>=o&&l[t].height>=a)return l[t].pattern;return null}static Set(t,e,n,i,r,o,a,s){const l=J.GenKey(t,e,n,i,r);J.cache[l]?J.cache[l].push({width:a,height:s,pattern:o}):J.cache[l]=[{width:a,height:s,pattern:o}]}static GenKey(t,e,n,i,r){return`${e},${n},${i},${r},${t.join()}`}}J.cache={},J.ImageSize=[20,40,80,160,320,640,1280,2560];var Q=n(36531),tt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},et=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const nt=[0,0,0];let it=class{set fillStyle(t){this.nativeContext.fillStyle=t}get fillStyle(){return this.nativeContext.fillStyle}set font(t){this.nativeContext.font=t}get font(){return this.nativeContext.font}set globalAlpha(t){this.nativeContext.globalAlpha=t*this.baseGlobalAlpha}get globalAlpha(){return this.nativeContext.globalAlpha}set lineCap(t){this.nativeContext.lineCap=t}get lineCap(){return this.nativeContext.lineCap}set lineDashOffset(t){this.nativeContext.lineDashOffset=t}get lineDashOffset(){return this.nativeContext.lineDashOffset}set lineJoin(t){this.nativeContext.lineJoin=t}get lineJoin(){return this.nativeContext.lineJoin}set lineWidth(t){this.nativeContext.lineWidth=t}get lineWidth(){return this.nativeContext.lineWidth}set miterLimit(t){this.nativeContext.miterLimit=t}get miterLimit(){return this.nativeContext.miterLimit}set shadowBlur(t){this.nativeContext.shadowBlur=t}get shadowBlur(){return this.nativeContext.shadowBlur}set shadowColor(t){this.nativeContext.shadowColor=t}get shadowColor(){return this.nativeContext.shadowColor}set shadowOffsetX(t){this.nativeContext.shadowOffsetX=t}get shadowOffsetX(){return this.nativeContext.shadowOffsetX}set shadowOffsetY(t){this.nativeContext.shadowOffsetY=t}get shadowOffsetY(){return this.nativeContext.shadowOffsetY}set strokeStyle(t){this.nativeContext.strokeStyle=t}get strokeStyle(){return this.nativeContext.strokeStyle}set textAlign(t){this.nativeContext.textAlign=t}get textAlign(){return this.nativeContext.textAlign}set textBaseline(t){this.nativeContext.textBaseline=t}get textBaseline(){return this.nativeContext.textBaseline}get inuse(){return!!this._inuse}set inuse(t){t!==!!this._inuse&&(this._inuse=t,t?(this.nativeContext.save(),this.reset()):this.nativeContext.restore())}constructor(t,e){this.fillAttributes=Object.assign(Object.assign({},Z.pp),{opacity:1}),this.strokeAttributes=Object.assign(Object.assign({},Z.WC),{opacity:1}),this.textAttributes=Object.assign(Object.assign({},Z.q9),{opacity:1}),this._clearShadowStyle=!1,this._clearFilterStyle=!1,this._clearGlobalCompositeOperationStyle=!1;const n=t.nativeCanvas.getContext("2d");if(!n)throw new Error("2d");this.nativeContext=n,this.canvas=t,this.matrix=new j.y(1,0,0,1,0,0),this.stack=[],this.dpr=e,this.applyedMatrix=new j.y(1,0,0,1,0,0),this._clearMatrix=new j.y(1,0,0,1,0,0),this.baseGlobalAlpha=1}reset(){this.stack.length&&V.Y.getInstance().warn("bugmatrix"),this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new j.y(1,0,0,1,0,0),this.stack.length=0,this.nativeContext.setTransform(1,0,0,1,0,0)}getCanvas(){return this.canvas}getContext(){return this.nativeContext}setTransformForCurrent(t=!1){!t&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix.setValue(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f),this.nativeContext.setTransform(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f))}get currentMatrix(){return this.matrix}cloneMatrix(t){return U.QE.allocateByObj(t)}clear(){this.save(),this.resetTransform(),this.nativeContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.restore()}restore(){this.nativeContext.restore(),this.stack.length>0&&(U.QE.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent(!0))}highPerformanceRestore(){this.stack.length>0&&(U.QE.free(this.matrix),this.matrix=this.stack.pop())}rotate(t,e=!0){this.matrix.rotate(t),e&&this.setTransformForCurrent()}save(){const t=this.cloneMatrix(this.matrix);this.stack.push(t),this.nativeContext.save()}highPerformanceSave(){const t=this.cloneMatrix(this.matrix);this.stack.push(t)}scale(t,e,n=!0){this.matrix.scale(t,e),n&&this.setTransformForCurrent()}setScale(t,e,n=!0){this.matrix.setScale(t,e),n&&this.setTransformForCurrent()}scalePoint(t,e,n,i,r=!0){this.translate(n,i,!1),this.scale(t,e,!1),this.translate(-n,-i,!1),r&&this.setTransformForCurrent()}setTransform(t,e,n,i,r,o,a=!0,s=this.dpr){this.matrix.setValue(s*t,s*e,s*n,s*i,s*r,s*o),a&&this.setTransformForCurrent()}setTransformFromMatrix(t,e=!0,n=this.dpr){this.matrix.setValue(t.a*n,t.b*n,t.c*n,t.d*n,t.e*n,t.f*n),e&&this.setTransformForCurrent()}resetTransform(t=!0,e=this.dpr){this.setTransform(e,0,0,e,0,0),t&&this.setTransformForCurrent()}transform(t,e,n,i,r,o,a=!0){this.matrix.multiply(t,e,n,i,r,o),a&&this.setTransformForCurrent()}transformFromMatrix(t,e){this.matrix.multiply(t.a,t.b,t.c,t.d,t.e,t.f),e&&this.setTransformForCurrent()}translate(t,e,n=!0){this.matrix.translate(t,e),n&&this.setTransformForCurrent()}rotateDegrees(t,e=!0){const n=t*Math.PI/180;this.rotate(n,e)}rotateAbout(t,e,n,i=!0){this.translate(e,n,!1),this.rotate(t,!1),this.translate(-e,-n,!1),i&&this.setTransformForCurrent()}rotateDegreesAbout(t,e,n,i=!0){this.translate(e,n,!1),this.rotateDegrees(t,!1),this.translate(-e,-n,!1),i&&this.setTransformForCurrent()}beginPath(){this.disableBeginPath||this.nativeContext.beginPath()}clip(t,e){t?"string"==typeof t?this.nativeContext.clip(t):this.nativeContext.clip(t,e):this.nativeContext.clip()}arc(t,e,n,i,r,o,a){if(a=a||0,this.camera){const s=[];((t,e,n,i,r,o,a,s)=>{if(s)for(;n>e;)n-=p.f7;else for(;n<e;)n+=p.f7;const l=p.pi/3*(n>e?1:-1);let u=e,h=u;for(;h!==n;){h=l>0?Math.min(h+l,n):Math.max(h+l,n);const e=Math.abs(h-u),s=4*Math.tan(e/4)/3,c=h<u?-1:1,d=Math.cos(u),f=Math.sin(u),p=Math.cos(h),g=Math.sin(h),m=d*o+i,v=f*a+r,y=p*o+i,b=g*a+r,w=o*s*c,x=a*s*c;t.push([m-w*f,v+x*d,y+w*g,b-x*p,y,b]),u=h}})(s,i,r,t,e,n,n,o);for(let t=0;t<s.length;++t){const e=s[t];this.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5],a)}}else this.nativeContext.arc(t,e,Math.max(0,n),i,r,o)}arcTo(t,e,n,i,r){this.nativeContext.arcTo(t,e,n,i,r)}bezierCurveTo(t,e,n,i,r,o,a){if(a=a||0,this.camera){let s=a,l=a;this.modelMatrix&&((0,K.fF)(nt,[t,e,a],this.modelMatrix),t=nt[0],e=nt[1],s=nt[2],(0,K.fF)(nt,[n,i,a],this.modelMatrix),n=nt[0],i=nt[1],l=nt[2],(0,K.fF)(nt,[r,o,a],this.modelMatrix),r=nt[0],o=nt[1],a=nt[2]);let u=this.camera.vp(r,o,a);r=u.x,o=u.y,u=this.camera.vp(t,e,s),t=u.x,e=u.y,u=this.camera.vp(n,i,l),n=u.x,i=u.y}this.nativeContext.bezierCurveTo(t,e,n,i,r,o)}closePath(){this.nativeContext.closePath()}ellipse(t,e,n,i,r,o,a,s){null==s?this.nativeContext.ellipse(t,e,n,i,r,o,a):this.nativeContext.ellipse(t,e,n,i,r,o,a,s)}lineTo(t,e,n){if(n=n||0,this.camera){this.modelMatrix&&((0,K.fF)(nt,[t,e,n],this.modelMatrix),t=nt[0],e=nt[1],n=nt[2]);const i=this.camera.vp(t,e,n);t=i.x,e=i.y}this.nativeContext.lineTo(t,e)}moveTo(t,e,n){if(n=n||0,this.camera){this.modelMatrix&&((0,K.fF)(nt,[t,e,n],this.modelMatrix),t=nt[0],e=nt[1],n=nt[2]);const i=this.camera.vp(t,e,n);t=i.x,e=i.y}this.nativeContext.moveTo(t,e)}quadraticCurveTo(t,e,n,i,r){if(r=r||0,this.camera){let o=r;this.modelMatrix&&((0,K.fF)(nt,[t,e,r],this.modelMatrix),t=nt[0],e=nt[1],o=nt[2],(0,K.fF)(nt,[n,i,r],this.modelMatrix),n=nt[0],i=nt[1],r=nt[2]);let a=this.camera.vp(n,i,r);n=a.x,i=a.y,a=this.camera.vp(t,e,o),t=a.x,e=a.y}this.nativeContext.quadraticCurveTo(t,e,n,i)}rect(t,e,n,i,r){r=r||0,this.camera?(this.moveTo(t,e,r),this.lineTo(t+n,e,r),this.lineTo(t+n,e+i,r),this.lineTo(t,e+i,r),this.closePath()):this.nativeContext.rect(t,e,n,i)}createImageData(){const t=arguments;return 2===t.length?this.nativeContext.createImageData(t[0],t[1]):1===t.length?this.nativeContext.createImageData(t[0]):null}createLinearGradient(t,e,n,i){return isFinite(t+e+n+i)||(t=0,e=0,n=0,i=0),this.nativeContext.createLinearGradient(t,e,n,i)}createPattern(t,e){return 0===t.width||0===t.height?null:this.nativeContext.createPattern(t,e)}createRadialGradient(t,e,n,i,r,o){return this.nativeContext.createRadialGradient(t,e,n,i,r,o)}createConicGradient(t,e,n,i){let r,o=!1;const a=this;return{stops:[],addColorStop(t,e){this.stops.push([t,e]),o=!0},GetPattern(s,l,u){return o&&(u||(u=i-n),r=function(t,e,n,i,r,o,a,s,l){const u=Math.floor(180*r/Math.PI),h=Y.GetCanvas(),c=Y.GetCtx();if(!c)return null;const d=J.GetSize(s),f=J.GetSize(l);let p=J.Get(e,n,i,o,a,d,f);if(p)return p;const g=Math.sqrt(Math.max(Math.max(Math.pow(n,2)+Math.pow(i,2),Math.pow(d-n,2)+Math.pow(i,2)),Math.max(Math.pow(d-n,2)+Math.pow(f-i,2),Math.pow(n,2)+Math.pow(f-i,2)))),m=u+1,v=r/Math.max(1,m-1),y=q.getInstance().GetOrCreate(n,i,d,f,e,m),b=2*Math.PI*g/360;h.width=d,h.height=f,c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,d,f),c.translate(n,i),c.rotate(o);for(let t=0,e=m-1;t<e&&!(o+t*v>a);t++){const e=y.getColor(t);c.beginPath(),c.rotate(v),c.moveTo(0,0),c.lineTo(g,-2*b),c.lineTo(g,0),c.fillStyle=e,c.closePath(),c.fill()}const w=c.getImageData(0,0,d,f);return h.width=w.width,h.height=w.height,c.putImageData(w,0,0),p=t.createPattern(h,"no-repeat"),p&&J.Set(e,n,i,o,a,p,d,f),p}(a,this.stops,t,e,u,n,i,s,l),o=!1),r}}}fill(t,e){this.disableFill||(t?this.nativeContext.fill(t):this.nativeContext.fill())}fillRect(t,e,n,i){this.nativeContext.fillRect(t,e,n,i)}clearRect(t,e,n,i){this.nativeContext.clearRect(t,e,n,i)}project(t,e,n){if(n=n||0,this.camera){this.modelMatrix&&((0,K.fF)(nt,[t,e,n],this.modelMatrix),t=nt[0],e=nt[1],n=nt[2]);const i=this.camera.vp(t,e,n);t=i.x,e=i.y}return{x:t,y:e}}view(t,e,n){return n=n||0,this.camera?(this.modelMatrix&&((0,K.fF)(nt,[t,e,n],this.modelMatrix),t=nt[0],e=nt[1],n=nt[2]),this.camera.view(t,e,n)):[t,e,n]}fillText(t,e,n,i){if(i=i||0,this.camera){this.modelMatrix&&((0,K.fF)(nt,[e,n,i],this.modelMatrix),e=nt[0],n=nt[1],i=nt[2]);const t=this.camera.vp(e,n,i);e=t.x,n=t.y}this.nativeContext.fillText(t,e,n)}getImageData(t,e,n,i){return this.nativeContext.getImageData(t,e,n,i)}getLineDash(){return this.nativeContext.getLineDash()}isPointInPath(t,e){return this.nativeContext.isPointInPath(t,e)}isPointInStroke(t,e){return this.nativeContext.isPointInStroke(t,e)}measureText(t,e=L.w.global.measureTextMethod){var n,i;if(!e||"native"===e)return this.nativeContext.measureText(t);this.mathTextMeasure||(this.mathTextMeasure=L.w.graphicUtil.createTextMeasureInstance({},{},(()=>this.canvas.nativeCanvas)));const r=null!==(n=this.fontFamily)&&void 0!==n?n:Z.q9.fontFamily,o=null!==(i=this.fontSize)&&void 0!==i?i:Z.q9.fontSize;return this.mathTextMeasure.textSpec.fontFamily===r&&this.mathTextMeasure.textSpec.fontSize===o||(this.mathTextMeasure.textSpec.fontFamily=r,this.mathTextMeasure.textSpec.fontSize=o,this.mathTextMeasure._numberCharSize=null,this.mathTextMeasure._fullCharSize=null,this.mathTextMeasure._letterCharSize=null,this.mathTextMeasure._specialCharSizeMap={}),this.mathTextMeasure.measure(t,e)}putImageData(t,e,n){this.nativeContext.putImageData(t,e,n)}setLineDash(t){const e=arguments,n=this.nativeContext;this.nativeContext.setLineDash?e[0]&&n.setLineDash(e[0]):"mozDash"in n?n.mozDash=e[0]:"webkitLineDash"in n&&(n.webkitLineDash=e[0])}stroke(t){this.disableStroke||(t?this.nativeContext.stroke(t):this.nativeContext.stroke())}strokeRect(t,e,n,i){this.nativeContext.strokeRect(t,e,n,i)}strokeText(t,e,n,i){if(i=i||0,this.camera){this.modelMatrix&&((0,K.fF)(nt,[e,n,i],this.modelMatrix),e=nt[0],n=nt[1],i=nt[2]);const t=this.camera.vp(e,n,i);e=t.x,n=t.y}this.nativeContext.strokeText(t,e,n)}drawImage(){const t=this.nativeContext,e=arguments;3===e.length?t.drawImage(e[0],e[1],e[2]):5===e.length?t.drawImage(e[0],e[1],e[2],e[3],e[4]):9===e.length&&t.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}setCommonStyle(t,e,n,i,r){if(Array.isArray(r)){if(r.length<=1)return this._setCommonStyle(t,e,n,i,r[0]);const o=Object.create(r[0]);return r.forEach(((t,e)=>{0!==e&&Object.assign(o,t)})),this._setCommonStyle(t,e,n,i,o)}return this._setCommonStyle(t,e,n,i,r)}_setCommonStyle(t,e,n,i,r){const o=this.nativeContext;r||(r=this.fillAttributes);const{fillOpacity:a=r.fillOpacity,opacity:s=r.opacity,fill:l=r.fill}=e;o.globalAlpha=a*s*this.baseGlobalAlpha,a>1e-12&&s>1e-12&&(o.fillStyle=(0,Q.L)(this,l,t,n,i))}setShadowBlendStyle(t,e,n){if(Array.isArray(n)){if(n.length<=1)return this._setShadowBlendStyle(t,n[0]);const i=Object.create(n[0]);return n.forEach(((t,e)=>{0!==e&&Object.assign(i,t)})),this._setShadowBlendStyle(t,e,i)}return this._setShadowBlendStyle(t,e,n)}_setShadowBlendStyle(t,e,n){const i=this.nativeContext;n||(n=this.fillAttributes);const{opacity:r=n.opacity,shadowBlur:o=n.shadowBlur,shadowColor:a=n.shadowColor,shadowOffsetX:s=n.shadowOffsetX,shadowOffsetY:l=n.shadowOffsetY,blur:u=n.blur,globalCompositeOperation:h=n.globalCompositeOperation}=e;r<=1e-12||(o||s||l?(i.shadowBlur=o*this.dpr,i.shadowColor=a,i.shadowOffsetX=s*this.dpr,i.shadowOffsetY=l*this.dpr,this._clearShadowStyle=!0):this._clearShadowStyle&&(i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),u?(i.filter=`blur(${u}px)`,this._clearFilterStyle=!0):this._clearFilterStyle&&(i.filter="blur(0px)",this._clearFilterStyle=!1),h?(i.globalCompositeOperation=h,this._clearGlobalCompositeOperationStyle=!0):this._clearGlobalCompositeOperationStyle&&(i.globalCompositeOperation="source-over",this._clearGlobalCompositeOperationStyle=!1))}setStrokeStyle(t,e,n,i,r){if(Array.isArray(r)){if(r.length<=1)return this._setStrokeStyle(t,e,n,i,r[0]);const o=Object.create(r[0]);return r.forEach(((t,e)=>{0!==e&&Object.assign(o,t)})),this._setStrokeStyle(t,e,n,i,o)}return this._setStrokeStyle(t,e,n,i,r)}_setStrokeStyle(t,e,n,i,r){const o=this.nativeContext;r||(r=this.strokeAttributes);const{strokeOpacity:a=r.strokeOpacity,opacity:s=r.opacity}=e;if(o.globalAlpha=a*s*this.baseGlobalAlpha,a>1e-12&&s>1e-12){const{lineWidth:a=r.lineWidth,stroke:s=r.stroke,lineJoin:l=r.lineJoin,lineDash:u=r.lineDash,lineCap:h=r.lineCap,miterLimit:c=r.miterLimit,keepStrokeScale:d=r.keepStrokeScale}=e;o.lineWidth=d?a:(0,Q.D)(this,a,this.dpr),o.strokeStyle=(0,Q.L)(this,s,t,n,i),o.lineJoin=l,u&&o.setLineDash(u),o.lineCap=h,o.miterLimit=c}}setTextStyleWithoutAlignBaseline(t,e,n){const i=this.nativeContext;e||(e=this.textAttributes);const{scaleIn3d:r=e.scaleIn3d}=t;t.font?i.font=t.font:i.font=(0,G.U)(t,e,r&&this.camera&&this.camera.getProjectionScale(n));const{fontFamily:o=e.fontFamily,fontSize:a=e.fontSize}=t;this.fontFamily=o,this.fontSize=a,i.textAlign="left",i.textBaseline="alphabetic"}setTextStyle(t,e,n){var i,r;const o=this.nativeContext;e||(e=this.textAttributes),t.font?o.font=t.font:o.font=(0,G.U)(t,e,this.camera&&this.camera.getProjectionScale(n));const{fontFamily:a=e.fontFamily,fontSize:s=e.fontSize}=t;this.fontFamily=a,this.fontSize=s,o.textAlign=null!==(i=t.textAlign)&&void 0!==i?i:e.textAlign,o.textBaseline=null!==(r=t.textBaseline)&&void 0!==r?r:e.textBaseline}draw(){}clearMatrix(t=!0,e=this.dpr){this.setTransformFromMatrix(this._clearMatrix,t,e)}setClearMatrix(t,e,n,i,r,o){this._clearMatrix.setValue(t,e,n,i,r,o)}onlyTranslate(t=this.dpr){return this.matrix.a===t&&0===this.matrix.b&&0===this.matrix.c&&this.matrix.d===t}release(...t){this.stack.forEach((t=>U.QE.free(t))),this.stack.length=0}};it.env="browser",it=tt([(0,s.b)(),et("design:paramtypes",[Object,Number])],it);var rt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ot=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let at=class extends W{constructor(t){super(t)}init(t){const{container:e}=t;if("string"==typeof e){const t=L.w.global.getElementById(e);t&&(this._container=t)}else this._container=e;this._context=new it(this,this._dpr),this.initStyle()}initStyle(){if(!this.controled)return;const{nativeCanvas:t}=this;t.width=this._pixelWidth,t.height=this._pixelHeight,!t.style||this.setCanvasStyle(t,this._x,this._y,this._displayWidth,this._displayHeight),this._container&&this._container.appendChild(t),this.visiable||this.hide()}hide(){this._nativeCanvas&&(this._nativeCanvas.style.display="none")}show(){this._nativeCanvas&&(this._nativeCanvas.style.display="block")}applyPosition(){const t=this._nativeCanvas;t.style.position="absolute",t.style.top=`${this._y}px`,t.style.left=`${this._x}px`}resetStyle(t){if(!this.controled)return;const{width:e=this._displayWidth,height:n=this._displayHeight,dpr:i=this._dpr,x:r=this._x,y:o=this._y}=t,{nativeCanvas:a}=this;a.width=e*i,a.height=n*i,!a.style||this.setCanvasStyle(a,r,o,e,n),t.id&&(a.id=t.id),this.visiable||this.hide()}setCanvasStyle(t,e,n,i,r){this.controled&&(t.style.width=`${i}px`,t.style.height=`${r}px`)}toDataURL(t,e){return"image/jpeg"===t?this._nativeCanvas.toDataURL(t,e):"image/png"===t?this._nativeCanvas.toDataURL(t):this._nativeCanvas.toDataURL(t,e)}resize(t,e){this.controled&&(this._pixelWidth=t*this._dpr,this._pixelHeight=e*this._dpr,this._displayWidth=t,this._displayHeight=e,this._nativeCanvas.style&&(this._nativeCanvas.style.width=`${t}px`,this._nativeCanvas.style.height=`${e}px`),this._nativeCanvas.width=this._pixelWidth,this._nativeCanvas.height=this._pixelHeight,this._context.dpr=this._dpr)}};at.env="browser",at=rt([(0,s.b)(),ot("design:paramtypes",[Object])],at);var st=n(48510);function lt(t,e){return new i.n((n=>{n(st.r).toDynamicValue((()=>e=>new t(e))).whenTargetNamed(t.env),n(st.A).toDynamicValue((()=>(t,n)=>new e(t,n))).whenTargetNamed(e.env)}))}const ut=lt(at,it);var ht=n(40139),ct=n(945),dt=n(39225),ft=n(91112),pt=n(27079),gt=n(27836),mt=n(33692),vt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},yt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bt=function(t,e){return function(n,i){e(n,i,t)}};let wt=class{constructor(t){this.pickItemInterceptorContributions=t,this.type="default",this.global=L.w.global}_init(){this.InterceptorContributions=this.pickItemInterceptorContributions.getContributions().sort(((t,e)=>t.order-e.order))}pick(t,e,n){let i={graphic:null,group:null};n.pickerService=this;const r=n.bounds.width(),o=n.bounds.height();if(!(new l.FB).setValue(0,0,r,o).containsPoint(e))return i;this.pickContext&&(this.pickContext.inuse=!0),n.pickContext=this.pickContext,this.pickContext&&this.pickContext.clearMatrix(!0,1);const a=new j.y(1,0,0,1,0,0);let s;for(let r=t.length-1;r>=0&&(i=t[r].isContainer?this.pickGroup(t[r],e,a,n):this.pickItem(t[r],e,a,n),!i.graphic);r--)s||(s=i.group);if(i.graphic||(i.group=s),this.pickContext&&(this.pickContext.inuse=!1),i.graphic){let t=i.graphic;for(;t.parent;)t=t.parent;t.shadowHost&&(i.params={shadowTarget:i.graphic},i.graphic=t.shadowHost)}return i}containsPoint(t,e,n){var i;return!!(null===(i=this.pickItem(t,e,null,null!=n?n:{pickContext:this.pickContext,pickerService:this}))||void 0===i?void 0:i.graphic)}pickGroup(t,e,n,i){let r={group:null,graphic:null};if(!1===t.attribute.visibleAll)return r;const o=i.pickContext,a=o.modelMatrix;if(o.camera){const e=t.transMatrix,n=U.yp.allocate();if((0,K.B$)(n,e),a){if(n){const t=U.yp.allocate();o.modelMatrix=(0,K.G9)(t,a,n),U.yp.free(n)}}else(0,K.B$)(n,t.globalTransMatrix),o.modelMatrix=n}if(this.InterceptorContributions.length)for(let r=0;r<this.InterceptorContributions.length;r++){const s=this.InterceptorContributions[r];if(s.beforePickItem){const r=s.beforePickItem(t,this,e,i,{parentMatrix:n});if(r)return o.modelMatrix!==a&&U.yp.free(o.modelMatrix),o.modelMatrix=a,r}}const s=t.transMatrix,l=U.QE.allocateByObj(n),u=new ct.E9(e.x,e.y);l.transformPoint(u,u);const h=t.AABBBounds.containsPoint(u);if(!h&&!t.stage.camera)return r;const c=this.pickItem(t,u.clone(),n,i);c&&c.graphic&&(r.graphic=c.graphic,r.params=c.params);const d=!1!==t.attribute.pickable&&h;return l.multiply(s.a,s.b,s.c,s.d,s.e,s.f),!1===t.attribute.childrenPickable||c&&c.graphic||(0,pt.kD)(t,Z.xF.zIndex,(o=>{if(o.isContainer){const n=new ct.E9(e.x,e.y),a=(0,B.gh)(t).group,{scrollX:s=a.scrollX,scrollY:u=a.scrollY}=t.attribute;n.x-=s,n.y-=u,r=this.pickGroup(o,n,l,i)}else{const a=new ct.E9(e.x,e.y);l.transformPoint(a,a);const s=(0,B.gh)(t).group,{scrollX:u=s.scrollX,scrollY:h=s.scrollY}=t.attribute;a.x-=u,a.y-=h;const c=this.pickItem(o,a,n,i);c&&c.graphic&&(r.graphic=c.graphic,r.params=c.params)}return!!r.graphic||!!r.group}),!0,!!o.camera),o.modelMatrix!==a&&U.yp.free(o.modelMatrix),o.modelMatrix=a,r.graphic||r.group||!d||t.stage.camera||(r.group=t),U.QE.free(l),r}selectPicker(t){return this.pickerMap.get(t.numberType)||null}};wt=vt([(0,s.b)(),bt(0,(0,dt.f)(gt.Qc)),bt(0,(0,ft.t)(mt.uH)),yt("design:paramtypes",[Object])],wt);var xt=n(79018),_t=n(21196),Ct=n(35821),St=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Mt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},At=function(t,e){return function(n,i){e(n,i,t)}};let Tt=class extends wt{constructor(t,e,n){super(n),this.contributions=t,this.drawContribution=e,this.pickItemInterceptorContributions=n,this.global.hooks.onSetEnv.tap("canvas-picker-service",((t,e,n)=>{this.configure(n,e)})),this.configure(this.global,this.global.env),this.pickerMap=new Map,this.init()}init(){this.contributions.getContributions().forEach((t=>{this.pickerMap.set(t.numberType,t)})),super._init()}configure(t,e){this.pickCanvas=xt.A.shareCanvas(),this.pickContext=this.pickCanvas.getContext("2d")}pickItem(t,e,n,i){if(!1===t.attribute.pickable)return null;if(this.InterceptorContributions.length)for(let r=0;r<this.InterceptorContributions.length;r++){const o=this.InterceptorContributions[r];if(o.beforePickItem){const r=o.beforePickItem(t,this,e,i,{parentMatrix:n});if(r)return r}}const r=this.pickerMap.get(t.numberType);if(!r)return null;const o=r.contains(t,e,i),a=o?t:null,s={graphic:a,params:o};if(a)return s;if(this.InterceptorContributions.length)for(let r=0;r<this.InterceptorContributions.length;r++){const o=this.InterceptorContributions[r];if(o.afterPickItem){const r=o.afterPickItem(t,this,e,i,{parentMatrix:n});if(r)return r}}return s}};Tt=St([(0,s.b)(),At(0,(0,dt.f)(gt.Qc)),At(0,(0,ft.t)(Ct.EL)),At(1,(0,dt.f)(_t.Iv)),At(2,(0,dt.f)(gt.Qc)),At(2,(0,ft.t)(mt.uH)),Mt("design:paramtypes",[Object,Object,Object])],Tt);var kt=n(88890),Rt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let It=class{constructor(){this.type="group",this.numberType=kt.I_}contains(t,e,n){return!1}};It=Rt([(0,s.b)()],It);const Pt=new i.n(((t,e,n,i)=>{Pt.__vloaded||(Pt.__vloaded=!0,t(Ct.pE).to(It).inSingletonScope(),t(Ct.EL).toService(Ct.pE),(0,gt.yb)(t,Ct.EL))}));Pt.__vloaded=!1;var Et=Pt;const Bt=new i.n(((t,e,n,i)=>{n(Tt)||t(Tt).toSelf().inSingletonScope(),n(ht.hH)?i(ht.hH).toService(Tt):t(ht.hH).toService(Tt)}));var Lt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Dt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Ot=class{constructor(){this._uid=M.R.GenAutoIncrementId(),this.viewBox=new l.FB,this.modelMatrix=new j.y(1,0,0,1,0,0)}onChange(t){this._onChangeCb=t}configure(t,e){e.env===this.type&&t.setWindowHandler(this)}release(...t){this.releaseWindow()}isVisible(t){return!0}onVisibleChange(t){}getTopLeft(t){return{top:0,left:0}}setViewBox(t){this.viewBox.setValue(t.x1,t.y1,t.x2,t.y2)}getViewBox(){return this.viewBox}setViewBoxTransform(t,e,n,i,r,o){this.modelMatrix.setValue(t,e,n,i,r,o)}getViewBoxTransform(){return this.modelMatrix}};Ot=Lt([(0,s.b)(),Dt("design:paramtypes",[])],Ot);var Ft,Ht=n(80331),Nt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},zt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Wt=Ft=class extends Ot{get container(){return this.canvas.nativeCanvas.parentElement}static GenerateCanvasId(){return`${Ft.idprefix}_${Ft.prefix_count++}`}constructor(){super(),this.type="browser",this._canvasIsIntersecting=!0,this.global=L.w.global,this.viewBox=new l.FB,this.modelMatrix=new j.y(1,0,0,1,0,0)}getTitle(){return this.canvas.id&&this.canvas.id.toString()}getWH(){return{width:this.canvas.width/(this.canvas.dpr||1),height:this.canvas.height/(this.canvas.dpr||1)}}getXY(){return this.canvas.nativeCanvas.getBoundingClientRect()}createWindow(t){t.canvas?this.createWindowByCanvas(t):this.createWindowByConfig(t),this.postInit()}postInit(){if(this.global.optimizeVisible)try{this.observerCanvas()}catch(t){console.error("IntersectionObserver")}}isElementVisible(t){const e=t.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return!(e.right<0||e.bottom<0||e.left>n||e.top>i)}observerCanvas(){this._canvasIsIntersecting=this.isElementVisible(this.canvas.nativeCanvas);const t=new IntersectionObserver(((t,e)=>{t.forEach((t=>{this._canvasIsIntersecting!==t.isIntersecting?(this._canvasIsIntersecting=t.isIntersecting,this._onVisibleChangeCb&&this._onVisibleChangeCb(t.isIntersecting)):this._canvasIsIntersecting=t.isIntersecting}))}));t&&t.observe(this.canvas.nativeCanvas)}createWindowByConfig(t){const e=this.global.createCanvas({width:t.width,height:t.height});let n;if(n="string"==typeof t.container?this.global.getElementById(t.container):t.container?t.container:this.global.getRootElement(),!n)throw new Error("containerId");t.offscreen?n=null:n.appendChild(e);const i={width:t.width,height:t.height,dpr:t.dpr,nativeCanvas:e,container:n,id:Ft.GenerateCanvasId(),canvasControled:!0};this.canvas=new at(i)}createWindowByCanvas(t){var e;let n;if("string"==typeof t.canvas){if(n=this.global.getElementById(t.canvas),!n)throw new Error("canvasId canvasdom")}else n=t.canvas;if(!n)throw new Error("canvas");let i=t.width,r=t.height;if(null==i||null==r||!t.canvasControled){const t=n.getBoundingClientRect();i=t.width,r=t.height}let o=t.dpr;null==o&&(o=null!==(e=n.getContext("2d").pixelRatio)&&void 0!==e?e:n.width/i),this.canvas=new at({width:i,height:r,dpr:o,nativeCanvas:n,canvasControled:t.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(t,e){this.canvas.resize(t,e)}setDpr(t){this.canvas.dpr=t}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}addEventListener(t,e,n){return this.canvas.nativeCanvas.addEventListener(t,e,n)}removeEventListener(t,e,n){return this.canvas.nativeCanvas.removeEventListener(t,e,n)}dispatchEvent(t){return this.canvas.nativeCanvas.dispatchEvent(t)}getStyle(){var t;return null!==(t=this.canvas.nativeCanvas.style)&&void 0!==t?t:{}}setStyle(t){this.canvas.nativeCanvas.style=t}getBoundingClientRect(){const t=this.canvas.nativeCanvas,e=this.getWH();return t.parentElement?this.canvas.nativeCanvas.getBoundingClientRect():{x:0,y:0,width:e.width,height:e.height,left:0,top:0,right:0,bottom:0}}clearViewBox(t){const e=this.viewBox,n=this.getContext(),i=this.getDpr();n.nativeContext.save(),n.nativeContext.setTransform(i,0,0,i,0,0),n.clearRect(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1),t&&(n.fillStyle=t,n.fillRect(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1)),n.nativeContext.restore()}isVisible(t){return this._canvasIsIntersecting}onVisibleChange(t){this._onVisibleChangeCb=t}getTopLeft(t){return this.global.getElementTopLeft(this.canvas.nativeCanvas,t)}};Wt.env="browser",Wt.idprefix="visactor_window",Wt.prefix_count=0,Wt=Ft=Nt([(0,s.b)(),zt("design:paramtypes",[])],Wt);const jt=new i.n((t=>{t(Wt).toSelf(),t(Ht.zd).toDynamicValue((t=>t.container.get(Wt))).whenTargetNamed(Wt.env)}));var Vt=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Gt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};let Zt=class{configure(t,...e){t.env===this.type&&t.setActiveEnvContribution(this)}getNativeAABBBounds(t){return new l.FB}removeDom(t){return!1}createDom(t){return null}updateDom(t,e){return!1}getDynamicCanvasCount(){return 999}getStaticCanvasCount(){return 999}getElementById(t){return document.getElementById(t)}getRootElement(){return document.body}loadJson(t){const e=fetch(t).then((t=>t.json()));return e.then((t=>({data:t,state:"success"}))).catch((()=>({data:null,state:"fail"}))),e}loadArrayBuffer(t){return fetch(t).then((t=>t.arrayBuffer())).then((t=>({data:t,loadState:"success"}))).catch((()=>({data:null,loadState:"fail"})))}loadBlob(t){return fetch(t).then((t=>t.blob())).then((t=>({data:t,loadState:"success"}))).catch((()=>({data:null,loadState:"fail"})))}getElementTop(t,e){return 0}getElementLeft(t,e){return 0}getElementTopLeft(t,e){return{top:0,left:0}}loadFont(t,e,n){return Gt(this,void 0,void 0,(function*(){return{loadState:"fail"}}))}};Zt=Vt([(0,s.b)()],Zt);var Ut=n(89393),Kt=n(44409),$t=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Xt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yt=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))};class qt{get x1(){return this.dom.getBoundingClientRect().left}get x2(){return this.dom.getBoundingClientRect().right}get y1(){return this.dom.getBoundingClientRect().top}get y2(){return this.dom.getBoundingClientRect().bottom}get width(){return this.dom.getBoundingClientRect().width}get height(){return this.dom.getBoundingClientRect().height}constructor(t){this.dom=t}}function Jt(t,e=!1){const n=document.createElement("img");if(L.w.global.isImageAnonymous&&(n.crossOrigin="anonymous"),e){const e=new Blob([t],{type:"image/svg+xml"});t=window.URL.createObjectURL(e)}return n.src=t,n.complete?Promise.resolve(n):new Promise(((t,e)=>{n.onload=()=>{t(n)},n.onerror=()=>{e(new Error(""))}}))}let Qt=class extends Zt{constructor(){super(),this.type="browser",this.supportEvent=!0;try{this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.supportsMouseEvents=!!globalThis.MouseEvent}catch(t){this.supportsTouchEvents=!1,this.supportsPointerEvents=!1,this.supportsPointerEvents=!1}this.applyStyles=!0}mapToCanvasPoint(t,e){var n,i;let r=0,o=0,a=0,s=0;if(t.changedTouches){const e=null!==(n=t.changedTouches[0])&&void 0!==n?n:{};r=e.clientX||0,o=e.clientY||0,a=r,s=o}else r=t.clientX||0,o=t.clientY||0,a=t.offsetX||0,s=t.offsetY||0;if(e){const t=r,n=o,a=e.getBoundingClientRect(),s=null===(i=e.getNativeHandler)||void 0===i?void 0:i.call(e).nativeCanvas;let l,u;return s&&(l=a.width/s.offsetWidth,u=a.height/s.offsetHeight),{x:(t-a.left)/((0,Ut.Z)(l)?l:1),y:(n-a.top)/((0,Ut.Z)(u)?u:1)}}return{x:a,y:s}}getNativeAABBBounds(t){let e=t;if("string"==typeof t&&(e=(new DOMParser).parseFromString(t,"text/html").firstChild,e.lastChild&&(e=e.lastChild.firstChild)),e.getBoundingClientRect){const t=e.getBoundingClientRect();return new qt(t)}return new l.FB}removeDom(t){return t.parentElement.removeChild(t),!0}updateDom(t,e){const{width:n,height:i,style:r}=e;return r&&((0,Kt.Z)(r)?t.setAttribute("style",r):Object.keys(r).forEach((e=>{t.style[e]=r[e]}))),null!=n&&(t.style.width=`${n}px`),null!=i&&(t.style.height=`${i}px`),!0}createDom(t){const{tagName:e="div",parent:n}=t,i=document.createElement(e);if(this.updateDom(i,t),n){const t=(0,Kt.Z)(n)?this.getElementById(n):n;t&&t.appendChild&&t.appendChild(i)}return i}loadImage(t){return Jt(t,!1).then((t=>({data:t,loadState:"success"}))).catch((()=>({data:null,loadState:"fail"})))}loadSvg(t){return Jt(t,!0).then((t=>({data:t,loadState:"success"}))).catch((()=>({data:null,loadState:"fail"})))}createCanvas(t){var e,n;const i=document.createElement("canvas");t.id&&(i.id=null!==(e=t.id)&&void 0!==e?e:M.R.GenAutoIncrementId().toString());const r=null!==(n=t.dpr)&&void 0!==n?n:window.devicePixelRatio;return t.width&&t.height&&(i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.width=t.width*r,i.height=t.height*r),i}createOffscreenCanvas(t){var e;const n=null!==(e=t.dpr)&&void 0!==e?e:window.devicePixelRatio;return new OffscreenCanvas(t.width*n,t.height*n)}releaseCanvas(t){let e;e="string"==typeof t?document.getElementById(t):t,e&&e.parentElement&&e.parentElement.removeChild(e)}getDevicePixelRatio(){return window.devicePixelRatio}getRequestAnimationFrame(){return window.requestAnimationFrame}getCancelAnimationFrame(){return window.cancelAnimationFrame}addEventListener(t,e,n){return document.addEventListener(t,e,n)}removeEventListener(t,e,n){return document.removeEventListener(t,e,n)}dispatchEvent(t){return document.dispatchEvent(t)}getElementById(t){return document.getElementById(t)}getRootElement(){return document.body}getDocument(){return document}release(...t){}getElementTop(t,e){let n=t.offsetTop,i=t.offsetParent;for(;null!==i;)n+=i.offsetTop,i=i.offsetParent;return n}getElementLeft(t,e){let n=t.offsetLeft,i=t.offsetParent;for(;null!==i;)n+=i.offsetLeft,i=i.offsetParent;return n}getElementTopLeft(t,e){let n=t.offsetTop,i=t.offsetLeft,r=t.offsetParent;for(;null!==r;)n+=r.offsetTop,i+=r.offsetLeft,r=r.offsetParent;return{top:n,left:i}}loadFont(t,e,n){return Yt(this,void 0,void 0,(function*(){return new FontFace(t,(0,Kt.Z)(e)?`url(${e})`:e,n).load().then((function(t){return document.fonts.add(t),{loadState:"success"}})).catch((function(t){return console.error("Failed to load font:",t),{loadState:"fail"}}))}))}};Qt=$t([(0,s.b)(),Xt("design:paramtypes",[])],Qt);const te=new i.n((t=>{te.isBrowserBound||(te.isBrowserBound=!0,t(Qt).toSelf().inSingletonScope(),t(N.D0).toService(Qt))}));function ee(t,e=!0){var n;ee.__loaded||(ee.__loaded=!0,t.load(te),t.load(ut),t.load(jt),e&&((n=t).load(Et),n.load(Bt)))}te.isBrowserBound=!1,ee.__loaded=!1;var ne=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ie=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let re=class extends it{constructor(t,e){super(t,e);const n=t.nativeCanvas.getContext("2d");if(!n)throw new Error("2d");this.nativeContext=n,this.canvas=t,this.matrix=new j.y(1,0,0,1,0,0),this.stack=[],this.dpr=null!=e?e:1}release(...t){}};re.env="node",re=ne([(0,s.b)(),ie("design:paramtypes",[Object,Number])],re);var oe=n(31479),ae=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},se=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let le=class extends W{constructor(t){super(t)}init(){this._context=new re(this,this._dpr),this.nativeCanvas.width=this._pixelWidth,this.nativeCanvas.height=this._pixelHeight}release(...t){this._nativeCanvas.release&&(0,oe.Z)(this._nativeCanvas.release)&&this._nativeCanvas.release()}};le.env="node",le=ae([(0,s.b)(),se("design:paramtypes",[Object])],le);const ue=lt(le,re);var he=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ce=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},de=function(t,e){return function(n,i){e(n,i,t)}};let fe=class extends Ot{get container(){return null}constructor(t){super(),this.global=t,this.type="node"}getTitle(){return""}getWH(){return{width:this.canvas.displayWidth,height:this.canvas.displayHeight}}getXY(){return{x:0,y:0}}createWindow(t){t.canvas?this.createWindowByCanvas(t):this.createWindowByConfig(t)}createWindowByConfig(t){const e=this.global.createCanvas({width:t.width,height:t.height}),n={width:t.width,height:t.height,dpr:t.dpr,nativeCanvas:e,id:M.R.GenAutoIncrementId().toString(),canvasControled:!0};this.canvas=new le(n)}createWindowByCanvas(t){const e=t.canvas;let n=t.width,i=t.height;null!=n&&null!=i&&t.canvasControled||(n=e.width,i=e.height),this.canvas=new le({width:n,height:i,dpr:1,nativeCanvas:e,canvasControled:t.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(t,e){this.canvas.resize(t,e)}setDpr(t){this.canvas.dpr=t}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}getImageBuffer(t="image/png"){return this.canvas.nativeCanvas.toBuffer(t)}addEventListener(t,e,n){}dispatchEvent(t){return!0}removeEventListener(t,e,n){}getStyle(){}setStyle(t){}getBoundingClientRect(){return null}clearViewBox(t){}};fe.env="node",fe=he([(0,s.b)(),de(0,(0,dt.f)(N.y2)),ce("design:paramtypes",[Object])],fe);const pe=new i.n((t=>{t(fe).toSelf(),t(Ht.zd).toDynamicValue((t=>t.container.get(fe))).whenTargetNamed(fe.env)}));var ge=n(58488),me=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let ve=class extends Zt{constructor(){super(...arguments),this.type="node",this._lastTime=0,this.supportEvent=!1}configure(t,e){t.env===this.type&&(t.setActiveEnvContribution(this),this.pkg=e)}getDynamicCanvasCount(){return 0}getStaticCanvasCount(){return 999}loadJson(t){const e=fetch(t).then((t=>t.json()));return e.then((t=>({data:t,state:"success"}))).catch((()=>({data:null,state:"fail"}))),e}loadArrayBuffer(t){return fetch(t).then((t=>t.arrayBuffer())).then((t=>({data:t,loadState:"success"}))).catch((()=>({data:null,loadState:"fail"})))}loadImage(t){const{loadImage:e}=this.pkg;return e?e(t).then((t=>({loadState:t?"success":"fail",data:t}))).catch((()=>({loadState:"fail",data:null}))):Promise.reject(new Error("node-canvas loadImage could not be found!"))}loadSvg(t){const e=this.pkg.Resvg;if(!e)return Promise.reject(new Error("@resvg/resvg-js svgParser could not be found!"));const n=new e(t).render().asPng();return this.loadImage(n)}createCanvas(t){return this.pkg.createCanvas(t.width,t.height)}releaseCanvas(t){}getDevicePixelRatio(){return 1}getRequestAnimationFrame(){return function(t){return ge.dZ.call(t)}}getCancelAnimationFrame(){return t=>{ge.dZ.clear(t)}}addEventListener(t,e,n){}removeEventListener(t,e,n){}getElementById(t){return null}getRootElement(){return null}dispatchEvent(t){}release(...t){}createOffscreenCanvas(t){}};ve=me([(0,s.b)()],ve);const ye=new i.n((t=>{ye.isNodeBound||(ye.isNodeBound=!0,t(ve).toSelf().inSingletonScope(),t(N.D0).toService(ve))}));function be(t,e=!0){be.__loaded||(be.__loaded=!0,t.load(ye),t.load(ue),t.load(pe))}ye.isNodeBound=!1,be.__loaded=!1;var we=n(67604),xe=n(62071);var _e=n(91711),Ce=n(32091),Se=n(22466),Me=n(21448),Ae=n(27963);const Te=new class{constructor(){this.time=Me.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){const{outerBorder:d,innerBorder:f}=t.attribute,p=d&&!1!==d.visible,g=f&&!1!==f.visible;if(!p&&!g)return;const{innerPadding:m=l.innerPadding,outerPadding:v=l.outerPadding,startAngle:y=l.startAngle,endAngle:b=l.endAngle,opacity:w=l.opacity,x:x=l.x,y:_=l.y,scaleX:C=l.scaleX,scaleY:S=l.scaleY,keepStrokeScale:M=l.keepStrokeScale}=t.attribute;let{innerRadius:A=l.innerRadius,outerRadius:T=l.outerRadius}=t.attribute;T+=v,A-=m;const k=(r,o)=>{const a=!(!r||!r.stroke),{distance:s=l[o].distance}=r,u=M?s:(0,Q.D)(e,s,e.dpr),h=s/T,d="outerBorder"===o?1:-1;if(t.setAttributes({outerRadius:T+d*u,innerRadius:A-d*u,startAngle:y-d*h,endAngle:b+d*h}),e.beginPath(),(0,_e.Eg)(t,e,n,i,T+d*u,A-d*u),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),c)c(e,r,l[o]);else if(a){const a=l[o].opacity;l[o].opacity=w,e.setStrokeStyle(t,r,(x-n)/C,(_-i)/S,l[o]),l[o].opacity=a,e.stroke()}};p&&k(d,"outerBorder"),g&&k(f,"innerBorder"),t.setAttributes({outerRadius:T,innerRadius:A,startAngle:y,endAngle:b})}},ke=Ae.H,Re=Se.R6;var Ie=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Pe=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ee=function(t,e){return function(n,i){e(n,i,t)}};let Be=class extends Ce.Y{constructor(t){super(),this.arcRenderContribitions=t,this.numberType=kt.r_,this.builtinContributions=[Te,Re,ke],this.init(t)}drawArcTailCapPath(t,e,n,i,r,o,a,s){const l=s-a,u=t.getParsedAngle(),h=u.startAngle;let c=u.endAngle;c=s,(0,p.Wn)(c-h);const d=c>h;let f=!1;if(r<o){const t=r;r=o,o=t}const{outerDeltaAngle:g,xors:m,yors:v,xirs:y,yirs:b,limitedOcr:w,outerCornerRadiusStart:x,outerCornerRadiusEnd:_,maxOuterCornerRadius:C,xore:S,yore:M,xire:A,yire:T,limitedIcr:k,innerDeltaAngle:R,innerStartAngle:I,innerCornerRadiusStart:P,innerCornerRadiusEnd:E,maxInnerCornerRadius:B}=(0,_e.ZN)(t,h,c,o,r);if(w>p.Ho){const t=(0,p.VV)(x,w),o=(0,p.VV)(_,w),a=(0,_e.gI)(y,b,m,v,r,t,Number(d)),s=(0,_e.gI)(S,M,A,T,r,o,Number(d));if(w<C&&t===o)e.moveTo(n+a.cx+a.x01,i+a.cy+a.y01),e.arc(n+a.cx,i+a.cy,w,(0,p.fv)(a.y01,a.x01),(0,p.fv)(s.y01,s.x01),!d);else{const t=c-l-.03,a=(0,p.fv)(s.y11,s.x11);e.arc(n,i,r,t,a,!d),o>0&&e.arc(n+s.cx,i+s.cy,o,(0,p.fv)(s.y11,s.x11),(0,p.fv)(s.y01,s.x01),!d)}}else e.moveTo(n+m,i+v);if(!(o>p.Ho)||R<.001)e.lineTo(n+A,i+T),f=!0;else if(k>p.Ho){const t=(0,p.VV)(P,k),r=(0,p.VV)(E,k),a=(0,_e.gI)(A,T,S,M,o,-r,Number(d)),s=(0,_e.gI)(m,v,y,b,o,-t,Number(d));if(e.lineTo(n+a.cx+a.x01,i+a.cy+a.y01),k<B&&t===r){const t=(0,p.fv)(s.y01,s.x01);e.arc(n+a.cx,i+a.cy,k,(0,p.fv)(a.y01,a.x01),t,!d)}else{r>0&&e.arc(n+a.cx,i+a.cy,r,(0,p.fv)(a.y01,a.x01),(0,p.fv)(a.y11,a.x11),!d);const t=(0,p.fv)(a.cy+a.y11,a.cx+a.x11),s=c-l-.03;e.arc(n,i,o,t,s,d)}}else e.lineTo(n+o*(0,p.mC)(I),i+o*(0,p.O$)(I));return f}drawShape(t,e,n,i,r,o,a,s){const l=(0,B.gh)(t,null==o?void 0:o.theme).arc,{fill:u=l.fill,stroke:h=l.stroke,x:c=l.x,y:d=l.y,fillStrokeOrder:f=l.fillStrokeOrder}=t.attribute,m=this.valid(t,l,a,s);if(!m)return;const{fVisible:v,sVisible:y,doFill:b,doStroke:w}=m,{outerPadding:x=l.outerPadding,innerPadding:_=l.innerPadding,cap:C=l.cap,forceShowCap:S=l.forceShowCap}=t.attribute;let{outerRadius:M=l.outerRadius,innerRadius:A=l.innerRadius}=t.attribute;M+=x,A-=_;let T=0;const k=((0,g.Z)(C)&&C||C[0])&&"conical"===u.gradient;if(k){const{sc:e,startAngle:n,endAngle:i}=t.getParsedAngle();(0,p.Wn)(i-n)<p.f7-p.Ho&&(T=e||0,u.startAngle-=T,u.endAngle-=T)}let R=!1;const{isFullStroke:I,stroke:P}=(0,ge.Dn)(h);if(b||I){e.beginPath(),(0,_e.Eg)(t,e,n,i,M,A),R=!0,e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),this.beforeRenderStep(t,e,n,i,b,w,v,y,l,r,a,s);const o=()=>{b&&(a?a(e,t.attribute,l):v&&(e.setCommonStyle(t,t.attribute,c-n,d-i,l),e.fill()))},u=()=>{w&&I&&(s?s(e,t.attribute,l):y&&(e.setStrokeStyle(t,t.attribute,c-n,d-i,l),e.stroke()))};f?(u(),o()):(o(),u())}if(!I&&w&&(e.beginPath(),(0,_e.Eg)(t,e,n,i,M,A,P),R||this.beforeRenderStep(t,e,n,i,b,w,v,y,l,r,a,s),s?s(e,t.attribute,l):y&&(e.setStrokeStyle(t,t.attribute,n,i,l),e.stroke())),((0,g.Z)(C)&&C||C[1])&&S){const{startAngle:o,endAngle:u}=t.getParsedAngle();if((0,p.Wn)(u-o)>=p.f7-p.Ho){e.beginPath();const o=Math.abs(M-A)/2/M,{endAngle:u=l.endAngle,fill:h=l.fill}=t.attribute,c=u;this.drawArcTailCapPath(t,e,n,i,M,A,c,c+o),R||this.beforeRenderStep(t,e,n,i,b,w,v,y,l,r,a,s);const d=()=>{if(b){const r=h;if("conical"===r.gradient){const o=function(t,e,n,i){const{stops:r,startAngle:o,endAngle:a}=i;for(;n<0;)n+=p.f7;for(;n>p.f7;)n-=p.f7;if(n<o)return r[0].color;if(n>a)return r[0].color;let s,l,u=(n-o)/(a-o);for(let t=0;t<r.length;t++)if(r[t].offset>=u){s=r[t-1],l=r[t];break}return u=(u-s.offset)/(l.offset-s.offset),(0,X.BM)(s.color,l.color,u,!1)}(0,0,u,r);a||_e.Bv&&(e.setCommonStyle(t,t.attribute,n,i,l),e.fillStyle=o,e.fill())}}},f=()=>{w&&(s||y&&(e.setStrokeStyle(t,t.attribute,n,i,l),e.stroke()))};d(),f()}}this.afterRenderStep(t,e,n,i,b,w,v,y,l,r,a,s),k&&(u.startAngle+=T,u.endAngle+=T)}draw(t,e,n,i){const r=(0,B.gh)(t,null==i?void 0:i.theme).arc;this._draw(t,r,!1,n,i)}};Be=Ie([(0,s.b)(),Ee(0,(0,dt.f)(gt.Qc)),Ee(0,(0,ft.t)(r.OL)),Pe("design:paramtypes",[Object])],Be);let Le=!1;const De=new i.n((t=>{Le||(Le=!0,t(Be).toSelf().inSingletonScope(),t(_t.Xe).to(Be).inSingletonScope(),t(_t.uz).toService(_t.Xe),t(r.OL).toService(Se.Sg),(0,gt.yb)(t,r.OL))}));var Oe=n(45584),Fe=n(1434),He=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ne=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ze=function(t,e){return function(n,i){e(n,i,t)}};let We=class extends Fe.o{constructor(t){super(),this.canvasRenderer=t,this.type="arc",this.numberType=kt.r_}};We=He([(0,s.b)(),ze(0,(0,dt.f)(_t.Xe)),Ne("design:paramtypes",[Object])],We);let je=!1;const Ve=new i.n(((t,e,n,i)=>{je||(je=!0,t(Ct.e_).to(We).inSingletonScope(),t(Ct.EL).toService(Ct.e_))}));var Ge=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Ze=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ue=function(t,e){return function(n,i){e(n,i,t)}};let Ke=class extends Fe.o{constructor(t){super(),this.canvasRenderer=t,this.type="arc",this.numberType=kt.r_}};Ke=Ge([(0,s.b)(),Ue(0,(0,dt.f)(_t.Xe)),Ze("design:paramtypes",[Object])],Ke);let $e=!1;const Xe=new i.n(((t,e,n,i)=>{$e||($e=!0,t(Ct.t3).to(Ke).inSingletonScope(),t(Ct.XN).toService(Ct.t3))}));function Ye(){Ye.__loaded||(Ye.__loaded=!0,xe.i.RegisterGraphicCreator("arc",we.Q),a.n.load(De),a.n.load(Oe.X?Ve:Xe))}Ye.__loaded=!1;const qe=Ye;var Je=n(41152);const Qe=new class{constructor(){this.time=Me.Oh.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(t,e,n,i,r,o,a,s,l,u,h,c){const{outerBorder:d,innerBorder:f}=t.attribute,p=d&&!1!==d.visible,g=f&&!1!==f.visible;if(!p&&!g)return;const{radius:m=l.radius,startAngle:v=l.startAngle,endAngle:y=l.endAngle,opacity:b=l.opacity,x:w=l.x,y:x=l.y,scaleX:_=l.scaleX,scaleY:C=l.scaleY,keepStrokeScale:S=l.keepStrokeScale}=t.attribute,M=(r,o)=>{const a=!(!r||!r.stroke),{distance:s=l[o].distance}=r,u=S?s:(0,Q.D)(e,s,e.dpr),h="outerBorder"===o?1:-1;if(e.beginPath(),e.arc(n,i,m+h*u,v,y),e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),c)c(e,r,l[o]);else if(a){const a=l[o].opacity;l[o].opacity=b,e.setStrokeStyle(t,r,(w-n)/_,(x-i)/C,l[o]),l[o].opacity=a,e.stroke()}};p&&M(d,"outerBorder"),g&&M(f,"innerBorder")}},tn=Ae.H,en=Se.R6;var nn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},rn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},on=function(t,e){return function(n,i){e(n,i,t)}};let an=class extends Ce.Y{constructor(t){super(),this.circleRenderContribitions=t,this.numberType=kt.Aw,this.builtinContributions=[Qe,en,tn],this.init(t)}drawShape(t,e,n,i,r,o,a,s){const l=(0,B.gh)(t,null==o?void 0:o.theme).circle,{radius:u=l.radius,startAngle:h=l.startAngle,endAngle:c=l.endAngle,x:d=l.x,y:f=l.y,fillStrokeOrder:p=l.fillStrokeOrder}=t.attribute,g=this.valid(t,l,a,s);if(!g)return;const{fVisible:m,sVisible:v,doFill:y,doStroke:b}=g;e.beginPath(),e.arc(n,i,u,h,c),e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(t,t.attribute,l),this.beforeRenderStep(t,e,n,i,y,b,m,v,l,r,a,s);const w=()=>{y&&(a?a(e,t.attribute,l):m&&(e.setCommonStyle(t,t.attribute,d-n,f-i,l),e.fill()))},x=()=>{b&&(s?s(e,t.attribute,l):v&&(e.setStrokeStyle(t,t.attribute,d-n,f-i,l),e.stroke()))};p?(x(),w()):(w(),x()),this.afterRenderStep(t,e,n,i,y,b,m,v,l,r,a,s)}draw(t,e,n,i){const r=(0,B.gh)(t,null==i?void 0:i.theme).circle;this._draw(t,r,!1,n,i)}};an=nn([(0,s.b)(),on(0,(0,dt.f)(gt.Qc)),on(0,(0,ft.t)(r.Cs)),rn("design:paramtypes",[Object])],an);let sn=!1;const ln=new i.n((t=>{sn||(sn=!0,t(an).toSelf().inSingletonScope(),t(_t.aP).to(an).inSingletonScope(),t(_t.uz).toService(_t.aP),t(r.Cs).toService(Se.Sg),(0,gt.yb)(t,r.Cs))}));var un=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},hn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},cn=function(t,e){return function(n,i){e(n,i,t)}};let dn=class extends Fe.o{constructor(t){super(),this.canvasRenderer=t,this.type="circle",this.numberType=kt.Aw}};dn=un([(0,s.b)(),cn(0,(0,dt.f)(_t.aP)),hn("design:paramtypes",[Object])],dn);let fn=!1;const pn=new i.n(((t,e,n,i)=>{fn||(fn=!0,t(Ct.zT).to(dn).inSingletonScope(),t(Ct.EL).toService(Ct.zT))}));var gn=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},mn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vn=function(t,e){return function(n,i){e(n,i,t)}};let yn=class extends Fe.o{constructor(t){super(),this.canvasRenderer=t,this.type="circle",this.numberType=kt.Aw}};yn=gn([(0,s.b)(),vn(0,(0,dt.f)(_t.aP)),mn("design:paramtypes",[Object])],yn);let bn=!1;const wn=new i.n(((t,e,n,i)=>{bn||(bn=!0,t(Ct.xp).to(yn).inSingletonScope(),t(Ct.XN).toService(Ct.xp))}));function xn(){xn.__loaded||(xn.__loaded=!0,xe.i.RegisterGraphicCreator("circle",Je.y),a.n.load(ln),a.n.load(Oe.X?pn:wn))}xn.__loaded=!1;const _n=xn;var Cn=n(37646),Sn=n(27272),Mn=n(23274),An=n(73283),Tn=n(41650),kn=n(92096);class Rn extends kn.ZA{constructor(t){super({x:0,y:0}),this.type="shadowroot",this.shadowHost=t}clearUpdateBoundTag(){super.clearUpdateBoundTag(),this.shadowHost&&this.shadowHost.clearUpdateBoundTag()}addUpdateBoundTag(){super.addUpdateBoundTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}addUpdateShapeAndBoundsTag(){super.addUpdateShapeAndBoundsTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}tryUpdateGlobalTransMatrix(t=!0){if(this.shouldUpdateGlobalMatrix()){const e=this.transMatrix;this._globalTransMatrix?this._globalTransMatrix.setValue(e.a,e.b,e.c,e.d,e.e,e.f):this._globalTransMatrix=e.clone(),this.doUpdateGlobalMatrix(),t&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}doUpdateGlobalMatrix(){if(this.shadowHost){const t=this.shadowHost.globalTransMatrix;this._globalTransMatrix.multiply(t.a,t.b,t.c,t.d,t.e,t.f)}}tryUpdateGlobalAABBBounds(){return this._globalAABBBounds?this._globalAABBBounds.setValue(this._AABBBounds.x1,this._AABBBounds.y1,this._AABBBounds.x2,this._AABBBounds.y2):this._globalAABBBounds=this._AABBBounds.clone(),this.shadowHost&&this._globalAABBBounds.transformWithMatrix(this.shadowHost.globalTransMatrix),this._globalAABBBounds}}function In(t){return new Rn(t)}function Pn(){Pn.__loaded||(Pn.__loaded=!0,xe.i.RegisterGraphicCreator("shadowRoot",In))}Pn.__loaded=!1;const En=Pn;var Bn=n(58639),Ln=n(66060);let Dn=!1;function On(){Dn||(Dn=!0,(0,P.VJ)(),(0,E.kP)()?ee(a.n):(0,E.KV)()&&be(a.n),qe(),_n(),(0,Cn.M)(),(0,Sn.i)(),(0,Mn.N)(),(0,An.k)(),(0,Tn.v)(),En(),(0,Bn.k)(),(0,Ln.g)(),H(),a.n.load(I),H())}},35517:function(t,e,n){"use strict";n.d(e,{u:function(){return h}});var i=n(53227);var r=n(9982),o=n(28012),a=n(86235),s=n(59190),l=n(86243),u=n(55056);function h(t,e=["data"]){const n=t;let c;if(!(0,i.Z)(n)||"object"!=typeof n)return n;if((0,u.vI)(n)||function(t){try{return t instanceof Element}catch(e){const n=["children","innerHTML","classList","setAttribute","tagName","getBoundingClientRect"],i=Object.keys(t);return n.every((t=>i.includes(t)))}}(n))return n;const d=(0,r.Z)(n),f=n.length;c=d?new Array(f):"object"==typeof n?{}:(0,o.Z)(n)||(0,a.Z)(n)||(0,s.Z)(n)?n:(0,l.Z)(n)?new Date(+n):void 0;const p=d?void 0:Object.keys(Object(n));let g=-1;if(c)for(;++g<(p||n).length;){const t=p?p[g]:g,i=n[t];(null==e?void 0:e.includes(t.toString()))?c[t]=i:c[t]=h(i,e)}return c}},32370:function(t,e){"use strict";e.Z=function(t,e,n){return t<e?e:t>n?n:t}},49725:function(t,e,n){"use strict";function i(t,e){let n;return t>e&&(n=t,t=e,e=n),n=>Math.max(t,Math.min(e,n))}n.d(e,{i:function(){return i}})},9982:function(t,e,n){"use strict";var i=n(6274);e.Z=t=>Array.isArray?Array.isArray(t):(0,i.Z)(t,"Array")},28012:function(t,e,n){"use strict";var i=n(6274);e.Z=(t,e=!1)=>e?"boolean"==typeof t:!0===t||!1===t||(0,i.Z)(t,"Boolean")},86243:function(t,e,n){"use strict";var i=n(6274);e.Z=t=>(0,i.Z)(t,"Date")},94742:function(t,e){"use strict";e.Z=t=>null==t},86235:function(t,e,n){"use strict";var i=n(6274);e.Z=(t,e=!1)=>{const n=typeof t;return e?"number"===n:"number"===n||(0,i.Z)(t,"Number")}},59190:function(t,e,n){"use strict";var i=n(6274);e.Z=(t,e=!1)=>{const n=typeof t;return e?"string"===n:"string"===n||(0,i.Z)(t,"String")}},6274:function(t,e){"use strict";e.Z=(t,e)=>Object.prototype.toString.call(t)===`[object ${e}]`},53227:function(t,e){"use strict";e.Z=t=>null!=t},43697:function(t,e,n){"use strict";function i(t,e,n){const i=function(t){if(!t)return[];if(Object.keys)return Object.keys(t);const e=[];for(const n in t)t.hasOwnProperty(n)&&e.push(n);return e}(e);for(let r=0;r<i.length;r++){const o=i[r];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}function r(t,e,n=!0){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames){const i=Object.getOwnPropertyNames(e);for(let r=0;r<i.length;r++){const o=i[r];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}}else i(t,e,n)}n.d(e,{jB:function(){return r}})},51807:function(t,e,n){"use strict";function i(t){return Number(t)}n.d(e,{H:function(){return i}})},74096:function(t,e,n){"use strict";n.d(e,{Dt:function(){return o},LW:function(){return l},M4:function(){return r},gt:function(){return a},op:function(){return s}});var i=n(57343);function r(t){return t*(Math.PI/180)}function o(t){return 180*t/Math.PI}const a=(t=0)=>{if(t<0)for(;t<-i.BZ;)t+=i.BZ;else if(t>0)for(;t>i.BZ;)t-=i.BZ;return t};function s(t,e,n){return e?{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}:{x:t.x,y:t.y}}function l(t){for(;t<0;)t+=2*Math.PI;for(;t>=2*Math.PI;)t-=2*Math.PI;return t}},8646:function(t,e,n){"use strict";n.d(e,{Il:function(){return y},eX:function(){return b}});var i=n(66990),r=n(68725),o=n(70375),a=n(45644),s=n(59636);function l(t,e,n){e/=100,n/=100;const i=(1-Math.abs(2*n-1))*e,r=i*(1-Math.abs(t/60%2-1)),o=n-i/2;let a=0,s=0,l=0;return 0<=t&&t<60?(a=i,s=r,l=0):60<=t&&t<120?(a=r,s=i,l=0):120<=t&&t<180?(a=0,s=i,l=r):180<=t&&t<240?(a=0,s=r,l=i):240<=t&&t<300?(a=r,s=0,l=i):300<=t&&t<360&&(a=i,s=0,l=r),a=Math.round(255*(a+o)),s=Math.round(255*(s+o)),l=Math.round(255*(l+o)),{r:a,g:s,b:l}}function u(t,e,n){t/=255,e/=255,n/=255;const i=Math.min(t,e,n),r=Math.max(t,e,n),o=r-i;let a=0,s=0,l=0;return a=0===o?0:r===t?(e-n)/o%6:r===e?(n-t)/o+2:(t-e)/o+4,a=Math.round(60*a),a<0&&(a+=360),l=(r+i)/2,s=0===o?0:o/(1-Math.abs(2*l-1)),s=+(100*s).toFixed(1),l=+(100*l).toFixed(1),{h:a,s:s,l:l}}const h=/^#([0-9a-f]{3,8})$/,c={transparent:4294967040},d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function f(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function p(t){return(0,i.Z)(t)?new b(t>>16,t>>8&255,255&t,1):(0,r.Z)(t)?new b(t[0],t[1],t[2]):new b(255,255,255)}function g(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function m(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}const v=(t,e)=>{const n=h.exec(t);if(e||n){const t=parseInt(n[1],16),e=n[1].length;return 3===e?new b((t>>8&15)+((t>>8&15)<<4),(t>>4&15)+((t>>4&15)<<4),(15&t)+((15&t)<<4),1):6===e?p(t):8===e?new b(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):null}};class y{static Brighter(t,e=1){return 1===e?t:new y(t).brighter(e).toRGBA()}static SetOpacity(t,e=1){return 1===e?t:new y(t).setOpacity(e).toRGBA()}static getColorBrightness(t,e="hsl"){const n=t instanceof y?t:new y(t);switch(e){case"hsv":default:return n.getHSVBrightness();case"hsl":return n.getHSLBrightness();case"lum":return n.getLuminance();case"lum2":return n.getLuminance2();case"lum3":return n.getLuminance3()}}static parseColorString(t){if((0,o.Z)(c[t]))return function(t){return(0,i.Z)(t)?new b(t>>>24,t>>>16&255,t>>>8&255,255&t):(0,r.Z)(t)?new b(t[0],t[1],t[2],t[3]):new b(255,255,255,1)}(c[t]);if((0,o.Z)(d[t]))return p(d[t]);const e=`${t}`.trim().toLowerCase(),n=v(e);if(void 0!==n)return n;if(/^(rgb|RGB|rgba|RGBA)/.test(e)){const t=e.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new b(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),parseFloat(t[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(e)){const t=e.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),n=l(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10));return new b(n.r,n.g,n.b,parseFloat(t[3]))}}constructor(t){const e=y.parseColorString(t);e?this.color=e:(console.warn(`Warn: ${t}Color`),this.color=new b(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(t){const{r:e,g:n,b:i}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(e*t))),this.color.g=Math.max(0,Math.min(255,Math.floor(n*t))),this.color.b=Math.max(0,Math.min(255,Math.floor(i*t))),this}add(t){const{r:e,g:n,b:i}=this.color;return this.color.r+=Math.min(255,e+t.color.r),this.color.g+=Math.min(255,n+t.color.g),this.color.b+=Math.min(255,i+t.color.b),this}sub(t){return this.color.r=Math.max(0,this.color.r-t.color.r),this.color.g=Math.max(0,this.color.g-t.color.g),this.color.b=Math.max(0,this.color.b-t.color.b),this}multiply(t){const{r:e,g:n,b:i}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(e*t.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(n*t.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(i*t.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return.5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(t,e,n){const i=this.color.opacity,r=u(this.color.r,this.color.g,this.color.b),o=l((0,a.Z)(t)?r.h:(0,s.Z)(t,0,360),(0,a.Z)(e)?r.s:e>=0&&e<=1?100*e:e,(0,a.Z)(n)?r.l:n<=1&&n>=0?100*n:n);return this.color=new b(o.r,o.g,o.b,i),this}setRGB(t,e,n){return!(0,a.Z)(t)&&(this.color.r=t),!(0,a.Z)(e)&&(this.color.g=e),!(0,a.Z)(n)&&(this.color.b=n),this}setHex(t){const e=`${t}`.trim().toLowerCase(),n=v(e,!0);return null!=n?n:this}setColorName(t){const e=d[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}setScalar(t){return this.color.r=t,this.color.g=t,this.color.b=t,this}setOpacity(t=1){return this.color.opacity=t,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}clone(){return new y(this.color.toString())}copyGammaToLinear(t,e=2){return this.color.r=Math.pow(t.color.r,e),this.color.g=Math.pow(t.color.g,e),this.color.b=Math.pow(t.color.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.color.r=Math.pow(t.color.r,n),this.color.g=Math.pow(t.color.g,n),this.color.b=Math.pow(t.color.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.color.r=g(t.color.r),this.color.g=g(t.color.g),this.color.b=g(t.color.b),this}copyLinearToSRGB(t){return this.color.r=m(t.color.r),this.color.g=m(t.color.g),this.color.b=m(t.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class b{constructor(t,e,n,i){this.r=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.g=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.b=isNaN(+n)?255:Math.max(0,Math.min(255,+n)),(0,o.Z)(i)?this.opacity=isNaN(+i)?1:Math.max(0,Math.min(1,+i)):this.opacity=1}formatHex(){return`#${f(this.r)+f(this.g)+f(this.b)+(1===this.opacity?"":f(255*this.opacity))}`}formatRgb(){const t=this.opacity;return`${1===t?"rgb(":"rgba("}${this.r},${this.g},${this.b}${1===t?")":`,${t})`}`}formatHsl(){const t=this.opacity,{h:e,s:n,l:i}=u(this.r,this.g,this.b);return`${1===t?"hsl(":"hsla("}${e},${n}%,${i}%${1===t?")":`,${t})`}`}toString(){return this.formatHex()}}},42921:function(t,e,n){"use strict";n.d(e,{CE:function(){return l},IX:function(){return a},VF:function(){return c},Z$:function(){return s},h6:function(){return h},iH:function(){return u}});var i=n(68725),r=n(21877),o=n(70375);function a(t){return(0,o.Z)(t)?(0,i.Z)(t)?t:[t]:[]}function s(t){if((0,r.Z)(t))return t[t.length-1]}const l=(t,e)=>{var n;if(0===t.length)return;let i=t[0];for(let r=1;r<t.length;r++){const o=t[r];(null!==(n=null==e?void 0:e(o,i))&&void 0!==n?n:o-i)>0&&(i=o)}return i},u=(t,e)=>{var n;if(0===t.length)return;let i=t[0];for(let r=1;r<t.length;r++){const o=t[r];(null!==(n=null==e?void 0:e(o,i))&&void 0!==n?n:o-i)<0&&(i=o)}return i};function h(t,e){if(!(0,i.Z)(t)||!(0,i.Z)(e))return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function c(t){if(!(0,i.Z)(t))return[t];const e=[];for(const n of t)e.push(...c(n));return e}},59636:function(t,e){"use strict";e.Z=function(t,e,n){return t<e?e:t>n?n:t}},24930:function(t,e){"use strict";e.Z=(t,e,n)=>{let[i,r]=t;r<i&&(i=t[1],r=t[0]);const o=r-i;return o>=n-e?[e,n]:(i=Math.min(Math.max(i,e),n-o),[i,i+o])}},86801:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=n(68725),r=n(2465),o=n(51880);var a=t=>(0,o.Z)(t,"Date"),s=n(66990),l=n(44409),u=n(70375);function h(t,e,n){let o;if(!(0,u.Z)(t)||"object"!=typeof t||e&&e(t))return t;const c=(0,i.Z)(t),d=t.length;o=c?new Array(d):"object"==typeof t?{}:(0,r.Z)(t)||(0,s.Z)(t)||(0,l.Z)(t)?t:a(t)?new Date(+t):void 0;const f=c?void 0:Object.keys(Object(t));let p=-1;if(o)for(;++p<(f||t).length;){const i=f?f[p]:p,r=t[i];n&&n.includes(i.toString())?o[i]=r:o[i]=h(r,e,n)}return o}},75467:function(t,e,n){"use strict";var i=n(47505),r=n(89393);let o=!1;try{o="function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame}catch(t){o=!1}o=!1,e.Z=function(t,e,n){let a,s,l,u,h,c,d=0,f=!1,p=!1,g=!0;const m=!e&&0!==e&&o;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){const n=a,i=s;return a=s=void 0,d=e,u=t.apply(i,n),u}function y(t,e){return m?(cancelAnimationFrame(h),requestAnimationFrame(t)):setTimeout(t,e)}function b(t){const n=t-c;return void 0===c||n>=e||n<0||p&&t-d>=l}function w(){const t=Date.now();if(b(t))return x(t);h=y(w,function(t){const n=t-d,i=e-(t-c);return p?Math.min(i,l-n):i}(t))}function x(t){return h=void 0,g&&a?v(t):(a=s=void 0,u)}function _(...t){const n=Date.now(),i=b(n);if(a=t,s=this,c=n,i){if(void 0===h)return function(t){return d=t,h=y(w,e),f?v(t):u}(c);if(p)return h=y(w,e),v(c)}return void 0===h&&(h=y(w,e)),u}return e=+e||0,(0,i.Z)(n)&&(f=!!n.leading,p="maxWait"in n,p&&(l=Math.max((0,r.Z)(n.maxWait)?n.maxWait:0,e)),g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==h&&function(t){if(m)return cancelAnimationFrame(t);clearTimeout(t)}(h),d=0,a=c=s=h=void 0},_.flush=function(){return void 0===h?u:x(Date.now())},_.pending=function(){return void 0!==h},_}},69600:function(t,e){"use strict";const n=Object.prototype.hasOwnProperty;e.Z=(t,e)=>null!=t&&n.call(t,e)},68725:function(t,e,n){"use strict";var i=n(51880);e.Z=t=>Array.isArray?Array.isArray(t):(0,i.Z)(t,"Array")},21877:function(t,e){"use strict";e.Z=function(t){return null!==t&&"function"!=typeof t&&Number.isFinite(t.length)}},2465:function(t,e,n){"use strict";var i=n(51880);e.Z=(t,e=!1)=>e?"boolean"==typeof t:!0===t||!1===t||(0,i.Z)(t,"Boolean")},19387:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=n(45644),r=n(21877);var o=t=>({}.toString.call(t).replace(/^\[object /,"").replace(/]$/,""));const a=Object.prototype;var s=function(t){const e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||a)};const l=Object.prototype.hasOwnProperty;var u=function(t){if((0,i.Z)(t))return!0;if((0,r.Z)(t))return!t.length;const e=o(t);if("Map"===e||"Set"===e)return!t.size;if(s(t))return!Object.keys(t).length;for(const e in t)if(l.call(t,e))return!1;return!0}},21103:function(t,e,n){"use strict";n.d(e,{X:function(){return l}});var i=n(68725),r=n(31479),o=n(12190);function a(t){return Object.prototype.toString.call(t)}function s(t){return Object.keys(t)}function l(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(Number.isNaN(t)&&Number.isNaN(e))return!0;if(a(t)!==a(e))return!1;if((0,r.Z)(t))return!!(null==n?void 0:n.skipFunction);if("object"!=typeof t)return!1;if((0,i.Z)(t)){if(t.length!==e.length)return!1;for(let i=t.length-1;i>=0;i--)if(!l(t[i],e[i],n))return!1;return!0}if(!(0,o.Z)(t))return!1;const u=s(t),h=s(e);if(u.length!==h.length)return!1;u.sort(),h.sort();for(let t=u.length-1;t>=0;t--)if(u[t]!=h[t])return!1;for(let i=u.length-1;i>=0;i--){const r=u[i];if(!l(t[r],e[r],n))return!1}return!0}},31479:function(t,e){"use strict";e.Z=t=>"function"==typeof t},45644:function(t,e){"use strict";e.Z=t=>null==t},66990:function(t,e,n){"use strict";var i=n(51880);e.Z=(t,e=!1)=>{const n=typeof t;return e?"number"===n:"number"===n||(0,i.Z)(t,"Number")}},47505:function(t,e){"use strict";e.Z=t=>{const e=typeof t;return null!==t&&"object"===e||"function"===e}},12190:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=t=>"object"==typeof t&&null!==t,r=n(51880);var o=function(t){if(!i(t)||!(0,r.Z)(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},44409:function(t,e,n){"use strict";var i=n(51880);e.Z=(t,e=!1)=>{const n=typeof t;return e?"string"===n:"string"===n||(0,i.Z)(t,"String")}},51880:function(t,e){"use strict";e.Z=(t,e)=>Object.prototype.toString.call(t)===`[object ${e}]`},70375:function(t,e){"use strict";e.Z=t=>null!=t},89393:function(t,e,n){"use strict";var i=n(66990);e.Z=t=>(0,i.Z)(t)&&Number.isFinite(t)},22304:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=n(68725),r=n(21877),o=n(12190),a=n(70375);function s(t,e,n=!1,r=!1){if(e){if(t===e)return;if((0,a.Z)(e)&&"object"==typeof e){const o=Object(e),s=[];for(const t in o)s.push(t);let{length:h}=s,c=-1;for(;h--;){const h=s[++c];!(0,a.Z)(o[h])||"object"!=typeof o[h]||r&&(0,i.Z)(t[h])?u(t,h,o[h]):l(t,e,h,n,r)}}}}function l(t,e,n,a=!1,l=!1){const h=t[n],c=e[n];let d=e[n],f=!0;if((0,i.Z)(c)){if(a)d=[];else if((0,i.Z)(h))d=h;else if((0,r.Z)(h)){d=new Array(h.length);let t=-1;const e=h.length;for(;++t<e;)d[t]=h[t]}}else(0,o.Z)(c)?(d=null!=h?h:{},"function"!=typeof h&&"object"==typeof h||(d={})):f=!1;f&&s(d,c,a,l),u(t,n,d)}function u(t,e,n){(void 0!==n&&!function(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}(t[e],n)||void 0===n&&!(e in t))&&(t[e]=n)}function h(t,...e){let n=-1;const i=e.length;for(;++n<i;)s(t,e[n],!0);return t}},88575:function(t,e,n){"use strict";n.d(e,{Yt:function(){return i}});function i(t,e,n=1e-10,i=1e-10){const r=i,o=n*Math.max(t,e);return Math.abs(t-e)<=Math.max(r,o)}},21020:function(t,e,n){"use strict";var i=n(75467),r=n(47505);e.Z=function(t,e,n){let o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,r.Z)(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),(0,i.Z)(t,e,{leading:o,trailing:a,maxWait:e})}},94378:function(t,e,n){"use strict";n.d(e,{FB:function(){return s},YZ:function(){return a},a5:function(){return l},n2:function(){return o}});var i=n(68725),r=n(73500);function o(t,e,n){const{x1:i,y1:r,x2:o,y2:a}=e;return n.onlyTranslate()?(t!==e&&t.setValue(e.x1,e.y1,e.x2,e.y2),t.translate(n.e,n.f),e):(t.clear(),t.add(n.a*i+n.c*r+n.e,n.b*i+n.d*r+n.f),t.add(n.a*o+n.c*r+n.e,n.b*o+n.d*r+n.f),t.add(n.a*o+n.c*a+n.e,n.b*o+n.d*a+n.f),t.add(n.a*i+n.c*a+n.e,n.b*i+n.d*a+n.f),e)}class a{constructor(t){t?this.setValue(t.x1,t.y1,t.x2,t.y2):this.clear()}clone(){return new a(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}setValue(t=0,e=0,n=0,i=0){return this.x1=t,this.y1=e,this.x2=n,this.y2=i,this}set(t=0,e=0,n=0,i=0){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),i<e?(this.y2=e,this.y1=i):(this.y1=e,this.y2=i),this}add(t=0,e=0){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this}expand(t=0){return(0,i.Z)(t)?(this.y1-=t[0],this.x2+=t[1],this.y2+=t[2],this.x1-=t[3]):(this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(t=0,e=0){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this}rotate(t=0,e=0,n=0){const i=this.rotatedPoints(t,e,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])}scale(t=0,e=0,n=0,i=0){const r=this.scalePoints(t,e,n,i);return this.clear().add(r[0],r[1]).add(r[2],r[3])}union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this}intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this}encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2}alignsWith(t){return t&&(this.x1===t.x1||this.x2===t.x2||this.y1===t.y1||this.y2===t.y2)}intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)}contains(t=0,e=0){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)}containsPoint(t){return!(t.x<this.x1||t.x>this.x2||t.y<this.y1||t.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(t=0){return this.x1*=t,this.x2*=t,this}scaleY(t=0){return this.y1*=t,this.y2*=t,this}transformWithMatrix(t){return o(this,this,t),this}copy(t){return this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2,this}rotatedPoints(t,e,n){const{x1:i,y1:r,x2:o,y2:a}=this,s=Math.cos(t),l=Math.sin(t),u=e-e*s+n*l,h=n-e*l-n*s;return[s*i-l*r+u,l*i+s*r+h,s*i-l*a+u,l*i+s*a+h,s*o-l*r+u,l*o+s*r+h,s*o-l*a+u,l*o+s*a+h]}scalePoints(t,e,n,i){const{x1:r,y1:o,x2:a,y2:s}=this;return[t*r+(1-t)*n,e*o+(1-e)*i,t*a+(1-t)*n,e*s+(1-e)*i]}}class s extends a{}class l extends a{constructor(t,e=0){var n;super(t),t&&(this.angle=null!==(n=t.angle)&&void 0!==n?n:e)}intersects(t){return(0,r.nn)(this,t)}setValue(t=0,e=0,n=0,i=0,r=0){return super.setValue(t,e,n,i),this.angle=r,this}clone(){return new l(this)}}},65087:function(t,e,n){"use strict";n.d(e,{X:function(){return a},y:function(){return o}});var i=n(74096),r=n(57343);class o{constructor(t=1,e=0,n=0,i=1,r=0,o=0){this.a=t,this.b=e,this.c=n,this.d=i,this.e=r,this.f=o}equalToMatrix(t){return!(this.e!==t.e||this.f!==t.f||this.a!==t.a||this.d!==t.d||this.b!==t.b||this.c!==t.c)}equalTo(t,e,n,i,r,o){return!(this.e!==r||this.f!==o||this.a!==t||this.d!==i||this.b!==e||this.c!==n)}setValue(t,e,n,i,r,o){return this.a=t,this.b=e,this.c=n,this.d=i,this.e=r,this.f=o,this}reset(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}getInverse(){const t=this.a,e=this.b,n=this.c,i=this.d,r=this.e,a=this.f,s=new o,l=t*i-e*n;return s.a=i/l,s.b=-e/l,s.c=-n/l,s.d=t/l,s.e=(n*a-i*r)/l,s.f=-(t*a-e*r)/l,s}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.a*e+this.c*n,r=this.b*e+this.d*n,o=this.a*-n+this.c*e,a=this.b*-n+this.d*e;return this.a=i,this.b=r,this.c=o,this.d=a,this}rotateByCenter(t,e,n){const i=Math.cos(t),r=Math.sin(t),o=(1-i)*e+r*n,a=(1-i)*n-r*e,s=i*this.a-r*this.b,l=r*this.a+i*this.b,u=i*this.c-r*this.d,h=r*this.c+i*this.d,c=i*this.e-r*this.f+o,d=r*this.e+i*this.f+a;return this.a=s,this.b=l,this.c=u,this.d=h,this.e=c,this.f=d,this}scale(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this}setScale(t,e){return this.b=this.b/this.a*t,this.c=this.c/this.d*e,this.a=t,this.d=e,this}transform(t,e,n,i,r,o){return this.multiply(t,e,n,i,r,o),this}translate(t,e){return this.e+=this.a*t+this.c*e,this.f+=this.b*t+this.d*e,this}transpose(){const{a:t,b:e,c:n,d:i,e:r,f:o}=this;return this.a=e,this.b=t,this.c=i,this.d=n,this.e=o,this.f=r,this}multiply(t,e,n,i,r,o){const a=this.a,s=this.b,l=this.c,u=this.d,h=a*t+l*e,c=s*t+u*e,d=a*n+l*i,f=s*n+u*i,p=a*r+l*o+this.e,g=s*r+u*o+this.f;return this.a=h,this.b=c,this.c=d,this.d=f,this.e=p,this.f=g,this}interpolate(t,e){const n=new o;return n.a=this.a+(t.a-this.a)*e,n.b=this.b+(t.b-this.b)*e,n.c=this.c+(t.c-this.c)*e,n.d=this.d+(t.d-this.d)*e,n.e=this.e+(t.e-this.e)*e,n.f=this.f+(t.f-this.f)*e,n}transformPoint(t,e){const{a:n,b:i,c:r,d:o,e:a,f:s}=this,l=n*o-i*r,u=o/l,h=-i/l,c=-r/l,d=n/l,f=(r*s-o*a)/l,p=-(n*s-i*a)/l,{x:g,y:m}=t;e.x=g*u+m*c+f,e.y=g*h+m*d+p}onlyTranslate(t=1){return this.a===t&&0===this.b&&0===this.c&&this.d===t}clone(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)}toTransformAttrs(){const t=this.a,e=this.b,n=this.c,r=this.d,o=t*r-e*n,a={x:this.e,y:this.f,rotateDeg:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!==t||0!==e){const i=Math.sqrt(t*t+e*e);a.rotateDeg=e>0?Math.acos(t/i):-Math.acos(t/i),a.scaleX=i,a.scaleY=o/i,a.skewX=(t*n+e*r)/o,a.skewY=0}else if(0!==n||0!==r){const i=Math.sqrt(n*n+r*r);a.rotateDeg=Math.PI/2-(r>0?Math.acos(-n/i):-Math.acos(n/i)),a.scaleX=o/i,a.scaleY=i,a.skewX=0,a.skewY=(t*n+e*r)/o}return a.rotateDeg=(0,i.Dt)(a.rotateDeg),a}}function a(t,e,n,i,o,a,s,l){const u=e.a,h=e.b,c=e.c,d=e.d,f=e.e,p=e.f,g=(0,r.mC)(s),m=(0,r.O$)(s);let v,y;l?(v=l[0],y=l[1]):(v=n,y=i);const b=v-n,w=y-i,x=u*g+c*m,_=h*g+d*m,C=c*g-u*m,S=d*g-h*m;t.a=o*x,t.b=o*_,t.c=a*C,t.d=a*S,t.e=f+u*v+c*y-x*b-C*w,t.f=p+h*v+d*y-_*b-S*w}},945:function(t,e,n){"use strict";n.d(e,{E9:function(){return o},HL:function(){return a}});var i=n(66990),r=n(57343);class o{constructor(t=0,e=0,n,i){this.x=0,this.y=0,this.x=t,this.y=e,this.x1=n,this.y1=i}clone(){return new o(this.x,this.y)}copyFrom(t){return this.x=t.x,this.y=t.y,this.x1=t.x1,this.y1=t.y1,this.defined=t.defined,this.context=t.context,this}set(t,e){return this.x=t,this.y=e,this}add(t){return(0,i.Z)(t)?(this.x+=t,void(this.y+=t)):(this.x+=t.x,this.y+=t.y,this)}sub(t){return(0,i.Z)(t)?(this.x-=t,void(this.y-=t)):(this.x-=t.x,this.y-=t.y,this)}multi(t){throw new Error("")}div(t){throw new Error("")}}class a{static distancePP(t,e){return(0,r._b)((0,r.sQ)(t.x-e.x,2)+(0,r.sQ)(t.y-e.y,2))}static distanceNN(t,e,n,i){return(0,r._b)((0,r.sQ)(t-n,2)+(0,r.sQ)(e-i,2))}static distancePN(t,e,n){return(0,r._b)((0,r.sQ)(e-t.x,2)+(0,r.sQ)(n-t.y,2))}static pointAtPP(t,e,n){return new o((e.x-t.x)*n+t.x,(e.y-t.y)*n+t.y)}}},73500:function(t,e,n){"use strict";n.d(e,{RA:function(){return l},SX:function(){return u},di:function(){return a},nn:function(){return p},xj:function(){return c}});var i,r=n(74096),o=n(57343);function a(t,e,n){if(null===t)return e;if(null===e)return t;const{x11:i,x12:r,y11:o,y12:a,x21:l,x22:u,y21:h,y22:c}=s(t,e,n);return i>=u||r<=l||o>=c||a<=h?{x1:0,y1:0,x2:0,y2:0}:{x1:Math.max(i,l),y1:Math.max(o,h),x2:Math.min(r,u),y2:Math.min(a,c)}}!function(t){t[t.NONE=0]="NONE",t[t.BBOX1=1]="BBOX1",t[t.BBOX2=2]="BBOX2"}(i||(i={}));const s=(t,e,n)=>{let i=t.x1,r=t.x2,o=t.y1,a=t.y2,s=e.x1,l=e.x2,u=e.y1,h=e.y2;return n&&(i>r&&([i,r]=[r,i]),o>a&&([o,a]=[a,o]),s>l&&([s,l]=[l,s]),u>h&&([u,h]=[h,u])),{x11:i,x12:r,y11:o,y12:a,x21:s,x22:l,y21:u,y22:h}};function l(t,e,n){if(!t||!e)return i.NONE;const{x11:r,x12:o,y11:a,y12:l,x21:u,x22:h,y21:c,y22:d}=s(t,e,n);return r>u&&o<h&&a>c&&l<d?i.BBOX1:u>r&&h<o&&c>a&&d<l?i.BBOX2:i.NONE}function u(t,e,n){if(t&&e){if(!n)return!(t.x1>e.x2||t.x2<e.x1||t.y1>e.y2||t.y2<e.y1);const{x11:i,x12:r,y11:o,y12:a,x21:l,x22:u,y21:h,y22:c}=s(t,e,!0);return!(i>u||r<l||o>c||a<h)}return!0}function h(t,e){return Math.abs(e[0]*t[0]+e[1]*t[1])}function c({x:t,y:e},n,i={x:0,y:0}){return{x:(t-i.x)*Math.cos(n)-(e-i.y)*Math.sin(n)+i.x,y:(t-i.x)*Math.sin(n)+(e-i.y)*Math.cos(n)+i.y}}function d(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function f(t,e){const n=e?(0,r.M4)(t.angle):t.angle,i=d(t);return[c({x:t.x1,y:t.y1},n,i),c({x:t.x2,y:t.y1},n,i),c({x:t.x2,y:t.y2},n,i),c({x:t.x1,y:t.y2},n,i)]}function p(t,e,n=!1){const i=f(t,n),a=f(e,n),s=(t,e)=>[e.x-t.x,e.y-t.y],l=s(d(t),d(e)),u=s(i[0],i[1]),c=s(i[1],i[2]),p=s(a[0],a[1]),g=s(a[1],a[2]),m=n?(0,r.M4)(t.angle):t.angle;let v=n?(0,r.M4)(90-t.angle):t.angle+o.ou;const y=n?(0,r.M4)(e.angle):e.angle;let b=n?(0,r.M4)(90-e.angle):e.angle+o.ou;v>o.f7&&(v-=o.f7),b>o.f7&&(b-=o.f7);const w=(t,e,n,i)=>{const r=[Math.cos(e),Math.sin(e)];return t+(h(r,n)+h(r,i))/2>h(r,l)};return w((t.x2-t.x1)/2,m,p,g)&&w((t.y2-t.y1)/2,v,p,g)&&w((e.x2-e.x1)/2,y,u,c)&&w((e.y2-e.y1)/2,b,u,c)}},58697:function(t,e,n){"use strict";n.d(e,{e:function(){return u}});var i=n(70375),r=n(45644),o=n(44409),a=n(68725);const s=t=>{let e=t.charCodeAt(0),n=2===t.length?t.charCodeAt(1):0,i=e;return 55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e&=1023,n&=1023,i=e<<10|n,i+=65536),12288===i||65281<=i&&i<=65376||65504<=i&&i<=65510?"F":8361===i||65377<=i&&i<=65470||65474<=i&&i<=65479||65482<=i&&i<=65487||65490<=i&&i<=65495||65498<=i&&i<=65500||65512<=i&&i<=65518?"H":4352<=i&&i<=4447||4515<=i&&i<=4519||4602<=i&&i<=4607||9001<=i&&i<=9002||11904<=i&&i<=11929||11931<=i&&i<=12019||12032<=i&&i<=12245||12272<=i&&i<=12283||12289<=i&&i<=12350||12353<=i&&i<=12438||12441<=i&&i<=12543||12549<=i&&i<=12589||12593<=i&&i<=12686||12688<=i&&i<=12730||12736<=i&&i<=12771||12784<=i&&i<=12830||12832<=i&&i<=12871||12880<=i&&i<=13054||13056<=i&&i<=19903||19968<=i&&i<=42124||42128<=i&&i<=42182||43360<=i&&i<=43388||44032<=i&&i<=55203||55216<=i&&i<=55238||55243<=i&&i<=55291||63744<=i&&i<=64255||65040<=i&&i<=65049||65072<=i&&i<=65106||65108<=i&&i<=65126||65128<=i&&i<=65131||110592<=i&&i<=110593||127488<=i&&i<=127490||127504<=i&&i<=127546||127552<=i&&i<=127560||127568<=i&&i<=127569||131072<=i&&i<=194367||177984<=i&&i<=196605||196608<=i&&i<=262141?"W":32<=i&&i<=126||162<=i&&i<=163||165<=i&&i<=166||172===i||175===i||10214<=i&&i<=10221||10629<=i&&i<=10630?"Na":161===i||164===i||167<=i&&i<=168||170===i||173<=i&&i<=174||176<=i&&i<=180||182<=i&&i<=186||188<=i&&i<=191||198===i||208===i||215<=i&&i<=216||222<=i&&i<=225||230===i||232<=i&&i<=234||236<=i&&i<=237||240===i||242<=i&&i<=243||247<=i&&i<=250||252===i||254===i||257===i||273===i||275===i||283===i||294<=i&&i<=295||299===i||305<=i&&i<=307||312===i||319<=i&&i<=322||324===i||328<=i&&i<=331||333===i||338<=i&&i<=339||358<=i&&i<=359||363===i||462===i||464===i||466===i||468===i||470===i||472===i||474===i||476===i||593===i||609===i||708===i||711===i||713<=i&&i<=715||717===i||720===i||728<=i&&i<=731||733===i||735===i||768<=i&&i<=879||913<=i&&i<=929||931<=i&&i<=937||945<=i&&i<=961||963<=i&&i<=969||1025===i||1040<=i&&i<=1103||1105===i||8208===i||8211<=i&&i<=8214||8216<=i&&i<=8217||8220<=i&&i<=8221||8224<=i&&i<=8226||8228<=i&&i<=8231||8240===i||8242<=i&&i<=8243||8245===i||8251===i||8254===i||8308===i||8319===i||8321<=i&&i<=8324||8364===i||8451===i||8453===i||8457===i||8467===i||8470===i||8481<=i&&i<=8482||8486===i||8491===i||8531<=i&&i<=8532||8539<=i&&i<=8542||8544<=i&&i<=8555||8560<=i&&i<=8569||8585===i||8592<=i&&i<=8601||8632<=i&&i<=8633||8658===i||8660===i||8679===i||8704===i||8706<=i&&i<=8707||8711<=i&&i<=8712||8715===i||8719===i||8721===i||8725===i||8730===i||8733<=i&&i<=8736||8739===i||8741===i||8743<=i&&i<=8748||8750===i||8756<=i&&i<=8759||8764<=i&&i<=8765||8776===i||8780===i||8786===i||8800<=i&&i<=8801||8804<=i&&i<=8807||8810<=i&&i<=8811||8814<=i&&i<=8815||8834<=i&&i<=8835||8838<=i&&i<=8839||8853===i||8857===i||8869===i||8895===i||8978===i||9312<=i&&i<=9449||9451<=i&&i<=9547||9552<=i&&i<=9587||9600<=i&&i<=9615||9618<=i&&i<=9621||9632<=i&&i<=9633||9635<=i&&i<=9641||9650<=i&&i<=9651||9654<=i&&i<=9655||9660<=i&&i<=9661||9664<=i&&i<=9665||9670<=i&&i<=9672||9675===i||9678<=i&&i<=9681||9698<=i&&i<=9701||9711===i||9733<=i&&i<=9734||9737===i||9742<=i&&i<=9743||9748<=i&&i<=9749||9756===i||9758===i||9792===i||9794===i||9824<=i&&i<=9825||9827<=i&&i<=9829||9831<=i&&i<=9834||9836<=i&&i<=9837||9839===i||9886<=i&&i<=9887||9918<=i&&i<=9919||9924<=i&&i<=9933||9935<=i&&i<=9953||9955===i||9960<=i&&i<=9983||10045===i||10071===i||10102<=i&&i<=10111||11093<=i&&i<=11097||12872<=i&&i<=12879||57344<=i&&i<=63743||65024<=i&&i<=65039||65533===i||127232<=i&&i<=127242||127248<=i&&i<=127277||127280<=i&&i<=127337||127344<=i&&i<=127386||917760<=i&&i<=917999||983040<=i&&i<=1048573||1048576<=i&&i<=1114109?"A":"N"};var l=n(45677);class u{constructor(t,e){this._numberCharSize=null,this._fullCharSize=null,this._letterCharSize=null,this._specialCharSizeMap={},this._canvas=null,this._context=null,this._contextSaved=!1,this._notSupportCanvas=!1,this._notSupportVRender=!1,this._userSpec={},this.specialCharSet="-/: .,@%'\"~",this._option=t,this._userSpec=null!=e?e:{},this.textSpec=this._initSpec(),(0,i.Z)(t.specialCharSet)&&(this.specialCharSet=t.specialCharSet),this._standardMethod=(0,i.Z)(t.getTextBounds)?this.fullMeasure.bind(this):this.measureWithNaiveCanvas.bind(this)}initContext(){if(this._notSupportCanvas)return!1;if((0,r.Z)(this._canvas)&&((0,i.Z)(this._option.getCanvasForMeasure)&&(this._canvas=this._option.getCanvasForMeasure()),(0,r.Z)(this._canvas)&&"undefined"!=typeof window&&void 0!==window.document&&globalThis&&(0,i.Z)(globalThis.document)&&(this._canvas=globalThis.document.createElement("canvas"))),(0,r.Z)(this._context)&&(0,i.Z)(this._canvas)){const t=this._canvas.getContext("2d");(0,i.Z)(t)&&(t.save(),t.font=(0,l.U)(this.textSpec),this._contextSaved=!0,this._context=t)}return!(0,r.Z)(this._context)||(this._notSupportCanvas=!0,!1)}_initSpec(){var t,e,n;const{defaultFontParams:i={}}=this._option,{fontStyle:r=i.fontStyle,fontVariant:a=i.fontVariant,fontWeight:s=(null!==(t=i.fontWeight)&&void 0!==t?t:"normal"),fontSize:l=(null!==(e=i.fontSize)&&void 0!==e?e:12),fontFamily:u=(null!==(n=i.fontFamily)&&void 0!==n?n:"sans-serif"),align:h,textAlign:c=(null!=h?h:"center"),baseline:d,textBaseline:f=(null!=d?d:"middle"),ellipsis:p,limit:g}=this._userSpec;let{lineHeight:m=l}=this._userSpec;if((0,o.Z)(m)&&"%"===m[m.length-1]){const t=Number.parseFloat(m.substring(0,m.length-1))/100;m=l*t}return{fontStyle:r,fontVariant:a,fontFamily:u,fontSize:l,fontWeight:s,textAlign:c,textBaseline:f,ellipsis:p,limit:g,lineHeight:m}}measure(t,e){switch(e){case"vrender":case"canopus":return this.fullMeasure(t);case"canvas":return this.measureWithNaiveCanvas(t);case"simple":return this.quickMeasureWithoutCanvas(t);default:return this.quickMeasure(t)}}fullMeasure(t){if((0,r.Z)(t))return{width:0,height:0};if((0,r.Z)(this._option.getTextBounds)||!this._notSupportVRender)return this.measureWithNaiveCanvas(t);const{fontFamily:e,fontSize:n,fontWeight:i,textAlign:o,textBaseline:a,ellipsis:s,limit:l,lineHeight:u}=this.textSpec;let h;try{const r=this._option.getTextBounds({text:t,fontFamily:e,fontSize:n,fontWeight:i,textAlign:o,textBaseline:a,ellipsis:!!s,maxLineWidth:l||1/0,lineHeight:u});h={width:r.width(),height:r.height()}}catch(e){this._notSupportVRender=!0,h=this.measureWithNaiveCanvas(t)}return h}measureWithNaiveCanvas(t){return this._measureReduce(t,this._measureWithNaiveCanvas.bind(this))}_measureWithNaiveCanvas(t){var e;if(!this.initContext())return this._quickMeasureWithoutCanvas(t);const n=this._context.measureText(t),{fontSize:i,lineHeight:r}=this.textSpec;return{width:n.width,height:null!==(e=r)&&void 0!==e?e:i,fontBoundingBoxAscent:n.fontBoundingBoxAscent,fontBoundingBoxDescent:n.fontBoundingBoxDescent}}quickMeasure(t){return this._measureReduce(t,this._quickMeasure.bind(this))}_quickMeasure(t){const e={width:0,height:0};for(let n=0;n<t.length;n++){const i=t[n];let o=this._measureSpecialChar(i);(0,r.Z)(o)&&u.NUMBERS_CHAR_SET.includes(i)&&(o=this._measureNumberChar()),(0,r.Z)(o)&&["F","W"].includes(s(i))&&(o=this._measureFullSizeChar()),(0,r.Z)(o)&&(o=this._measureLetterChar()),e.width+=o.width,e.height=Math.max(e.height,o.height),!(0,r.Z)(o.fontBoundingBoxAscent)&&(e.fontBoundingBoxAscent=o.fontBoundingBoxAscent),!(0,r.Z)(o.fontBoundingBoxDescent)&&(e.fontBoundingBoxDescent=o.fontBoundingBoxDescent)}return e}quickMeasureWithoutCanvas(t){return this._measureReduce(t,this._quickMeasureWithoutCanvas.bind(this))}_quickMeasureWithoutCanvas(t){var e;const n={width:0,height:0},{fontSize:i,lineHeight:r}=this.textSpec;for(let e=0;e<t.length;e++){const r=t[e],o=["F","W"].includes(s(r))?1:.53;n.width+=o*i}return n.height=null!==(e=r)&&void 0!==e?e:i,n}_measureReduce(t,e){var n;const{fontSize:o,lineHeight:s}=this.textSpec,l={width:0,height:0};if((0,r.Z)(t))return l;if((0,a.Z)(t)){const r=t.filter(i.Z).map((t=>t.toString()));return 0===r.length?l:1===r.length?e(r[0]):{width:r.reduce(((t,n)=>Math.max(t,e(n).width)),0),height:r.length*((null!==(n=s)&&void 0!==n?n:o)+1)+1}}return e(t.toString())}_measureNumberChar(){if((0,r.Z)(this._numberCharSize)){const t=this._standardMethod(u.NUMBERS_CHAR_SET);this._numberCharSize={width:t.width/u.NUMBERS_CHAR_SET.length,height:t.height,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent}}return this._numberCharSize}_measureFullSizeChar(){return(0,r.Z)(this._fullCharSize)&&(this._fullCharSize=this._standardMethod(u.FULL_SIZE_CHAR)),this._fullCharSize}_measureLetterChar(){if((0,r.Z)(this._letterCharSize)){const t=this._standardMethod(u.ALPHABET_CHAR_SET);this._letterCharSize={width:t.width/u.ALPHABET_CHAR_SET.length,height:t.height,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent}}return this._letterCharSize}_measureSpecialChar(t){return(0,i.Z)(this._specialCharSizeMap[t])?this._specialCharSizeMap[t]:this.specialCharSet.includes(t)?(this._specialCharSizeMap[t]=this._standardMethod(t),this._specialCharSizeMap[t]):null}release(){(0,i.Z)(this._canvas)&&(this._canvas=null),(0,i.Z)(this._context)&&(this._contextSaved&&(this._context.restore(),this._contextSaved=!1),this._context=null)}}u.ALPHABET_CHAR_SET="abcdefghijklmnopqrstuvwxyz",u.NUMBERS_CHAR_SET="0123456789",u.FULL_SIZE_CHAR=""},45677:function(t,e,n){"use strict";function i(t,e={},n){n||(n=1);const{fontStyle:i=e.fontStyle,fontVariant:r=e.fontVariant,fontWeight:o=e.fontWeight,fontSize:a=e.fontSize,fontFamily:s=e.fontFamily}=t;return(i?i+" ":"")+(r?r+" ":"")+(o?o+" ":"")+a*n+"px "+(s||"sans-serif")}n.d(e,{U:function(){return i}})},81813:function(t,e,n){"use strict";n.d(e,{Y:function(){return s}});var i=n(66990);const r="undefined"!=typeof console;function o(t,e,n){const i=[e].concat([].slice.call(n));r&&console[t].apply(console,i)}var a;!function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug"}(a||(a={}));class s{static getInstance(t,e){return s._instance&&(0,i.Z)(t)?s._instance.level(t):s._instance||(s._instance=new s(t,e)),s._instance}static setInstance(t){return s._instance=t}static setInstanceLevel(t){s._instance?s._instance.level(t):s._instance=new s(t)}static clearInstance(){s._instance=null}constructor(t=a.None,e){this._onErrorHandler=[],this._level=t,this._method=e}addErrorHandler(t){this._onErrorHandler.find((e=>e===t))||this._onErrorHandler.push(t)}removeErrorHandler(t){const e=this._onErrorHandler.findIndex((e=>e===t));e<0||this._onErrorHandler.splice(e,1)}callErrorHandler(...t){this._onErrorHandler.forEach((e=>e(...t)))}canLogInfo(){return this._level>=a.Info}canLogDebug(){return this._level>=a.Debug}canLogError(){return this._level>=a.Error}canLogWarn(){return this._level>=a.Warn}level(t){return arguments.length?(this._level=+t,this):this._level}error(...t){var e;return this._level>=a.Error&&(this._onErrorHandler.length?this.callErrorHandler(...t):o(null!==(e=this._method)&&void 0!==e?e:"error","ERROR",t)),this}warn(...t){return this._level>=a.Warn&&o(this._method||"warn","WARN",t),this}info(...t){return this._level>=a.Info&&o(this._method||"log","INFO",t),this}debug(...t){return this._level>=a.Debug&&o(this._method||"log","DEBUG",t),this}}s._instance=null},57343:function(t,e,n){"use strict";n.d(e,{BZ:function(){return a},Fp:function(){return c},Ho:function(){return i},KU:function(){return y},Kh:function(){return m},O$:function(){return f},VV:function(){return d},Wn:function(){return l},ZR:function(){return v},_b:function(){return p},f7:function(){return s},fv:function(){return u},ir:function(){return b},mC:function(){return h},ou:function(){return o},pi:function(){return r},sQ:function(){return g}});const i=1e-12,r=Math.PI,o=r/2,a=2*r,s=2*Math.PI,l=Math.abs,u=Math.atan2,h=Math.cos,c=Math.max,d=Math.min,f=Math.sin,p=Math.sqrt,g=Math.pow;function m(t){return t>1?0:t<-1?r:Math.acos(t)}function v(t){return t>=1?o:t<=-1?-o:Math.asin(t)}function y(t,e,n,i,r){let o=n,a=i;return"number"==typeof t&&"number"==typeof n&&(o=(1-r)*t+r*n),"number"==typeof e&&"number"==typeof i&&(a=(1-r)*e+r*i),{x:o,y:a}}function b(t,e){return t[0]*e[1]-t[1]*e[0]}},95344:function(t,e,n){"use strict";n.d(e,{o:function(){return a}});var i=n(89393),r=n(68725),o=n(47505);function a(t){if((0,i.Z)(t))return[t,t,t,t];if((0,r.Z)(t)){const e=t.length;if(1===e){const e=t[0];return[e,e,e,e]}if(2===e){const[e,n]=t;return[e,n,e,n]}if(3===e){const[e,n,i]=t;return[e,n,i,n]}if(4===e)return t}if((0,o.Z)(t)){const{top:e=0,right:n=0,bottom:i=0,left:r=0}=t;return[e,n,i,r]}return[0,0,0,0]}},36966:function(t){var e={},n=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),i=["style","variant","weight","size","lineHeight","family"],r=/([\.0-9]+)(.*)/,o=function(t,e,n){var i=t.match(r);if(i){t=parseFloat(i[1]);var o=i[2].toLowerCase().trim(),a=Math.round(t);switch(a===t&&(t=a),o){case"em":if(null===e)return;return t*e;case"px":return t;case"pt":return t/(72/n);case"pc":return t/(6/n);case"mm":return t*(n/25.4);case"cm":return t*(n/2.54);case"in":return t*n;case"%":if(null===e)return;return e*(t/100)}}},a={size:o,lineHeight:o},s={serif:1,"sans-serif":1,cursive:1,fantasy:1,monospace:1},l=t.exports=function(t,r,o){var u=t+"-"+(r||"null")+"@"+o;if(o=o||96,void 0!==e[u])return e[u];if(r&&(r=l(r,null,o)),"inherit"===t)return r;var h=n.exec(t);if(h){h.shift();for(var c={},d=0;d<h.length;d++){var f=i[d],p=h[d];if(a[f]&&p){var g=r&&r[f]||null,m=a[f](p,g,o);p=void 0===m&&"lineHeight"===f&&p?c.size*parseFloat(p):m}if(p&&"normal"!==p){if("inherit"===p){if(!r)return;p=r[f]}p.trim&&(p=p.trim()),c[f]=p}}Object.keys(c).length||(c=null),e[u]=c;var v=[];c.style&&v.push(c.style),c.variant&&v.push(c.variant),c.weight&&"400"!==c.weight&&"normal"!==c.weight&&v.push(c.weight),v.push(c.size+"px"),c.lineHeight&&(v[v.length-1]+="/"+c.lineHeight+"px");var y=c.family.split(",");return c.family=y.map((function(t){return t=t.trim(),s[t.toLowerCase()]&&(t=t.toLowerCase()),t})),v.push(c.family),Object.defineProperty(c,"toString",{value:function(){return v.map((function(t){return Array.isArray(t)?t.map((function(t){return t.indexOf(" ")>-1?'"'+t.replace(/["']/g,"")+'"':t})).join(", "):t})).join(" ")}}),c}e[u]=null};t.exports.generics=s},72436:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var i=n(17254),r=n(52960),o=n(50959),a=n(7864);function s(t,e){var n={};return e.forEach((function(e){n[e]=t[e]})),n}function l(t){return"function"==typeof t}var u=n(18071),h=n.n(u),c=function(t){function e(e){var n=t.call(this,e)||this;return n.echarts=r,n}return(0,i.ZT)(e,t),e}(function(t){function e(e){var n=t.call(this,e)||this;return n.echarts=e.echarts,n.ele=null,n.isInitialResize=!0,n}return(0,i.ZT)(e,t),e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var e=this.props.shouldSetOption;if(!l(e)||e(t,this.props)){if(!h()(t.theme,this.props.theme)||!h()(t.opts,this.props.opts)||!h()(t.onEvents,this.props.onEvents))return this.dispose(),void this.renderNewEcharts();var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];h()(s(this.props,n),s(t,n))||this.updateEChartsOption(),h()(t.style,this.props.style)&&h()(t.className,this.props.className)||this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},e.prototype.dispose=function(){if(this.ele){try{(0,a.ZH)(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){var t=this,e=this.props,n=e.onEvents,i=e.onChartReady,r=this.updateEChartsOption();this.bindEvents(r,n||{}),l(i)&&i(r),this.ele&&(0,a.ak)(this.ele,(function(){t.resize()}))},e.prototype.bindEvents=function(t,e){function n(e,n){"string"==typeof e&&l(n)&&t.on(e,(function(e){n(e,t)}))}for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n(i,e[i])},e.prototype.updateEChartsOption=function(){var t=this.props,e=t.option,n=t.notMerge,i=void 0!==n&&n,r=t.lazyUpdate,o=void 0!==r&&r,a=t.showLoading,s=t.loadingOption,l=void 0===s?null:s,u=this.getEchartsInstance();return u.setOption(e,i,o),a?u.showLoading(l):u.hideLoading(),u},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize()}catch(t){console.warn(t)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,e=this.props,n=e.style,r=e.className,a=void 0===r?"":r,s=(0,i.pi)({height:300},n);return o.createElement("div",{ref:function(e){t.ele=e},style:s,className:"echarts-for-react "+a})},e}(o.PureComponent))},94611:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},s.prototype.emit=function(t,e,i,r,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,u,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,r),!0;case 5:return h.fn.call(h.context,e,i,r,o),!0;case 6:return h.fn.call(h.context,e,i,r,o,a),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var d,f=h.length;for(u=0;u<f;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),c){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,i);break;case 4:h[u].fn.call(h[u].context,e,i,r);break;default:if(!l)for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];h[u].fn.apply(h[u].context,l)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,i,r){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var l=0,u=[],h=s.length;l<h;l++)(s[l].fn!==e||r&&!s[l].once||i&&s[l].context!==i)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},18071:function(t){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(e)){if((i=e.length)!=n.length)return!1;for(r=i;0!=r--;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((i=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},60991:function(t,e,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){l(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,n){var s=a.URL||a.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):r(l.href)?i(t,e,n):o(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),n);else if(r(t))i(t,n,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){o(s)}))}}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,n);var o="application/octet-stream"===t.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l||s)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},h.readAsDataURL(t)}else{var c=a.URL||a.webkitURL,d=c.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});a.saveAs=l.saveAs=l,t.exports=l})?i.apply(e,r):i)||(t.exports=o)},52627:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deinterlace=void 0;e.deinterlace=function(t,e){for(var n=new Array(t.length),i=t.length/e,r=function(i,r){var o=t.slice(r*e,(r+1)*e);n.splice.apply(n,[i*e,e].concat(o))},o=[0,4,2,1],a=[8,8,4,2],s=0,l=0;l<4;l++)for(var u=o[l];u<i;u+=a[l])r(u,s),s++;return n}},31331:function(t,e,n){"use strict";e.zw=e.vq=void 0;var i,r=(i=n(81570))&&i.__esModule?i:{default:i},o=n(37253),a=n(45961),s=n(52627),l=n(28844);e.vq=function(t){var e=new Uint8Array(t);return(0,o.parse)((0,a.buildStream)(e),r.default)};var u=function(t,e,n){if(t.image){var i=t.image,r=i.descriptor.width*i.descriptor.height,o=(0,l.lzw)(i.data.minCodeSize,i.data.blocks,r);i.descriptor.lct.interlaced&&(o=(0,s.deinterlace)(o,i.descriptor.width));var a={pixels:o,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return i.descriptor.lct&&i.descriptor.lct.exists?a.colorTable=i.lct:a.colorTable=e,t.gce&&(a.delay=10*(t.gce.delay||10),a.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(a.transparentIndex=t.gce.transparentColorIndex)),n&&(a.patch=function(t){for(var e=t.pixels.length,n=new Uint8ClampedArray(4*e),i=0;i<e;i++){var r=4*i,o=t.pixels[i],a=t.colorTable[o]||[0,0,0];n[r]=a[0],n[r+1]=a[1],n[r+2]=a[2],n[r+3]=o!==t.transparentIndex?255:0}return n}(a)),a}console.warn("gif frame does not have associated image.")};e.zw=function(t,e){return t.frames.filter((function(t){return t.image})).map((function(n){return u(n,t.gct,e)}))}},28844:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lzw=void 0;e.lzw=function(t,e,n){var i,r,o,a,s,l,u,h,c,d,f,p,g,m,v,y,b=4096,w=n,x=new Array(n),_=new Array(b),C=new Array(b),S=new Array(4097);for(s=(r=1<<(d=t))+1,i=r+2,u=-1,o=(1<<(a=d+1))-1,h=0;h<r;h++)_[h]=0,C[h]=h;for(f=p=g=m=v=y=0,c=0;c<w;){if(0===m){if(p<a){f+=e[y]<<p,p+=8,y++;continue}if(h=f&o,f>>=a,p-=a,h>i||h==s)break;if(h==r){o=(1<<(a=d+1))-1,i=r+2,u=-1;continue}if(-1==u){S[m++]=C[h],u=h,g=h;continue}for(l=h,h==i&&(S[m++]=g,h=u);h>r;)S[m++]=C[h],h=_[h];g=255&C[h],S[m++]=g,i<b&&(_[i]=u,C[i]=g,0==(++i&o)&&i<b&&(a++,o+=i)),u=l}m--,x[v++]=S[m],c++}for(c=v;c<w;c++)x[c]=0;return x}},37253:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loop=e.conditional=e.parse=void 0;e.parse=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;if(Array.isArray(n))n.forEach((function(n){return t(e,n,i,r)}));else if("function"==typeof n)n(e,i,r,t);else{var o=Object.keys(n)[0];Array.isArray(n[o])?(r[o]={},t(e,n[o],i,r[o])):r[o]=n[o](e,i,r,t)}return i};e.conditional=function(t,e){return function(n,i,r,o){e(n,i,r)&&o(n,t,i,r)}};e.loop=function(t,e){return function(n,i,r,o){for(var a=[],s=n.pos;e(n,i,r);){var l={};if(o(n,t,i,l),n.pos===s)break;s=n.pos,a.push(l)}return a}}},45961:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readBits=e.readArray=e.readUnsigned=e.readString=e.peekBytes=e.readBytes=e.peekByte=e.readByte=e.buildStream=void 0;e.buildStream=function(t){return{data:t,pos:0}};var n=function(){return function(t){return t.data[t.pos++]}};e.readByte=n;e.peekByte=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var i=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};e.readBytes=i;e.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}};e.readString=function(t){return function(e){return Array.from(i(t)(e)).map((function(t){return String.fromCharCode(t)})).join("")}};e.readUnsigned=function(t){return function(e){var n=i(2)(e);return t?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}};e.readArray=function(t,e){return function(n,r,o){for(var a="function"==typeof e?e(n,r,o):e,s=i(t),l=new Array(a),u=0;u<a;u++)l[u]=s(n);return l}};e.readBits=function(t){return function(e){for(var n=function(t){return t.data[t.pos++]}(e),i=new Array(8),r=0;r<8;r++)i[7-r]=!!(n&1<<r);return Object.keys(t).reduce((function(e,n){var r=t[n];return r.length?e[n]=function(t,e,n){for(var i=0,r=0;r<n;r++)i+=t[e+r]&&Math.pow(2,n-r-1);return i}(i,r.index,r.length):e[n]=i[r.index],e}),{})}}},81570:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(37253),r=n(45961),o={blocks:function(t){for(var e=[],n=t.data.length,i=0,o=(0,r.readByte)()(t);0!==o&&o;o=(0,r.readByte)()(t)){if(t.pos+o>=n){var a=n-t.pos;e.push((0,r.readBytes)(a)(t)),i+=a;break}e.push((0,r.readBytes)(o)(t)),i+=o}for(var s=new Uint8Array(i),l=0,u=0;u<e.length;u++)s.set(e[u],l),l+=e[u].length;return s}},a=(0,i.conditional)({gce:[{codes:(0,r.readBytes)(2)},{byteSize:(0,r.readByte)()},{extras:(0,r.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,r.readUnsigned)(!0)},{transparentColorIndex:(0,r.readByte)()},{terminator:(0,r.readByte)()}]},(function(t){var e=(0,r.peekBytes)(2)(t);return 33===e[0]&&249===e[1]})),s=(0,i.conditional)({image:[{code:(0,r.readByte)()},{descriptor:[{left:(0,r.readUnsigned)(!0)},{top:(0,r.readUnsigned)(!0)},{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{lct:(0,r.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,i.conditional)({lct:(0,r.readArray)(3,(function(t,e,n){return Math.pow(2,n.descriptor.lct.size+1)}))},(function(t,e,n){return n.descriptor.lct.exists})),{data:[{minCodeSize:(0,r.readByte)()},o]}]},(function(t){return 44===(0,r.peekByte)()(t)})),l=(0,i.conditional)({text:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{preData:function(t,e,n){return(0,r.readBytes)(n.text.blockSize)(t)}},o]},(function(t){var e=(0,r.peekBytes)(2)(t);return 33===e[0]&&1===e[1]})),u=(0,i.conditional)({application:[{codes:(0,r.readBytes)(2)},{blockSize:(0,r.readByte)()},{id:function(t,e,n){return(0,r.readString)(n.blockSize)(t)}},o]},(function(t){var e=(0,r.peekBytes)(2)(t);return 33===e[0]&&255===e[1]})),h=(0,i.conditional)({comment:[{codes:(0,r.readBytes)(2)},o]},(function(t){var e=(0,r.peekBytes)(2)(t);return 33===e[0]&&254===e[1]})),c=[{header:[{signature:(0,r.readString)(3)},{version:(0,r.readString)(3)}]},{lsd:[{width:(0,r.readUnsigned)(!0)},{height:(0,r.readUnsigned)(!0)},{gct:(0,r.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,r.readByte)()},{pixelAspectRatio:(0,r.readByte)()}]},(0,i.conditional)({gct:(0,r.readArray)(3,(function(t,e){return Math.pow(2,e.lsd.gct.size+1)}))},(function(t,e){return e.lsd.gct.exists})),{frames:(0,i.loop)([a,u,h,s,l],(function(t){var e=(0,r.peekByte)()(t);return 33===e||44===e}))}];e.default=c},31912:function(t,e,n){var i=n(42786),r=n(4291),o=n(21292),a=n(11144),s=n(41375);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},58552:function(t,e,n){var i=n(92389),r=n(27487),o=n(617),a=n(31943),s=n(58712);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},64408:function(t,e,n){var i=n(23859)(n(41411),"Map");t.exports=i},75828:function(t,e,n){var i=n(98356),r=n(24952),o=n(50846),a=n(6394),s=n(56318);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},84994:function(t,e,n){var i=n(41411).Symbol;t.exports=i},75628:function(t){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},55282:function(t,e,n){var i=n(77118);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},80930:function(t,e,n){var i=n(59523),r=n(84137);t.exports=function(t,e){for(var n=0,o=(e=i(e,t)).length;null!=t&&n<o;)t=t[r(e[n++])];return n&&n==o?t:void 0}},53758:function(t,e,n){var i=n(84994),r=n(10788),o=n(55483),a=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?r(t):o(t)}},60143:function(t,e,n){var i=n(29545),r=n(42234),o=n(82782),a=n(54494),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,h=l.toString,c=u.hasOwnProperty,d=RegExp("^"+h.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?d:s).test(a(t))}},92421:function(t,e,n){var i=n(84994),r=n(75628),o=n(29430),a=n(68067),s=i?i.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},59523:function(t,e,n){var i=n(29430),r=n(22213),o=n(93941),a=n(75864);t.exports=function(t,e){return i(t)?t:r(t,e)?[t]:o(a(t))}},67587:function(t,e,n){var i=n(41411)["__core-js_shared__"];t.exports=i},37261:function(t,e,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},92324:function(t,e,n){var i=n(1685);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},23859:function(t,e,n){var i=n(60143),r=n(11916);t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},10788:function(t,e,n){var i=n(84994),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r}},11916:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},42786:function(t,e,n){var i=n(48759);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},4291:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},21292:function(t,e,n){var i=n(48759),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},11144:function(t,e,n){var i=n(48759),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},41375:function(t,e,n){var i=n(48759);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},22213:function(t,e,n){var i=n(29430),r=n(68067),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},1685:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},42234:function(t,e,n){var i,r=n(67587),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},92389:function(t){t.exports=function(){this.__data__=[],this.size=0}},27487:function(t,e,n){var i=n(55282),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():r.call(e,n,1),--this.size,!0)}},617:function(t,e,n){var i=n(55282);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},31943:function(t,e,n){var i=n(55282);t.exports=function(t){return i(this.__data__,t)>-1}},58712:function(t,e,n){var i=n(55282);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},98356:function(t,e,n){var i=n(31912),r=n(58552),o=n(64408);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},24952:function(t,e,n){var i=n(92324);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},50846:function(t,e,n){var i=n(92324);t.exports=function(t){return i(this,t).get(t)}},6394:function(t,e,n){var i=n(92324);t.exports=function(t){return i(this,t).has(t)}},56318:function(t,e,n){var i=n(92324);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},31563:function(t,e,n){var i=n(98952);t.exports=function(t){var e=i(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},48759:function(t,e,n){var i=n(23859)(Object,"create");t.exports=i},55483:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},41411:function(t,e,n){var i=n(37261),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},93941:function(t,e,n){var i=n(31563),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,i,r){e.push(i?r.replace(o,"$1"):n||t)})),e}));t.exports=a},84137:function(t,e,n){var i=n(68067);t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},54494:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},77118:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},3709:function(t,e,n){var i=n(80930);t.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},29430:function(t){var e=Array.isArray;t.exports=e},29545:function(t,e,n){var i=n(53758),r=n(82782);t.exports=function(t){if(!r(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},82782:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},43630:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},68067:function(t,e,n){var i=n(53758),r=n(43630);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}},98952:function(t,e,n){var i=n(75828);function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,t.exports=r},75864:function(t,e,n){var i=n(92421);t.exports=function(t){return null==t?"":i(t)}},5616:function(t,e,n){"use strict";n.r(e),n.d(e,{DragDropContext:function(){return Nr},Draggable:function(){return _o},Droppable:function(){return Ao},resetServerContext:function(){return Hr},useKeyboardSensor:function(){return yr},useMouseSensor:function(){return pr},useTouchSensor:function(){return wr}});var i=n(50959);function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}var a=n(55660);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}function u(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var f="function"==typeof Symbol&&Symbol.observable||"@@observable",p=function(){return Math.random().toString(36).substring(7).split("").join(".")},g={INIT:"@@redux/INIT"+p(),REPLACE:"@@redux/REPLACE"+p(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+p()}};function m(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function v(t,e,n){var i;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(d(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(d(1));return n(v)(t,e)}if("function"!=typeof t)throw new Error(d(2));var r=t,o=e,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function h(){if(l)throw new Error(d(3));return o}function c(t){if("function"!=typeof t)throw new Error(d(4));if(l)throw new Error(d(5));var e=!0;return u(),s.push(t),function(){if(e){if(l)throw new Error(d(6));e=!1,u();var n=s.indexOf(t);s.splice(n,1),a=null}}}function p(t){if(!m(t))throw new Error(d(7));if(void 0===t.type)throw new Error(d(8));if(l)throw new Error(d(9));try{l=!0,o=r(o,t)}finally{l=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}function y(t){if("function"!=typeof t)throw new Error(d(10));r=t,p({type:g.REPLACE})}function b(){var t,e=c;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(d(11));function n(){t.next&&t.next(h())}return n(),{unsubscribe:e(n)}}})[f]=function(){return this},t}return p({type:g.INIT}),(i={dispatch:p,subscribe:c,getState:h,replaceReducer:y})[f]=b,i}function y(t,e){return function(){return e(t.apply(this,arguments))}}function b(t,e){if("function"==typeof t)return y(t,e);if("object"!=typeof t||null===t)throw new Error(d(16));var n={};for(var i in t){var r=t[i];"function"==typeof r&&(n[i]=y(r,e))}return n}function w(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var x=i.createContext(null);var _=function(t){t()},C=function(){return _};var S={notify:function(){},get:function(){return[]}};function M(t,e){var n,i=S;function r(){a.onStateChange&&a.onStateChange()}function o(){n||(n=e?e.addNestedSub(r):t.subscribe(r),i=function(){var t=C(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var i=!0,r=n={callback:t,next:null,prev:n};return r.prev?r.prev.next=r:e=r,function(){i&&null!==e&&(i=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}var a={addNestedSub:function(t){return o(),i.subscribe(t)},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,i.clear(),i=S)},getListeners:function(){return i}};return a}var A="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;var T=function(t){var e=t.store,n=t.context,r=t.children,o=(0,i.useMemo)((function(){var t=M(e);return{store:e,subscription:t}}),[e]),a=(0,i.useMemo)((function(){return e.getState()}),[e]);A((function(){var t=o.subscription;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[o,a]);var s=n||x;return i.createElement(s.Provider,{value:o},r)};function k(t,e){if(null==t)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}var R=n(97175),I=n.n(R),P=n(17659),E=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],B=["reactReduxForwardedRef"],L=[],D=[null,null];function O(t,e){var n=t[1];return[e.payload,n+1]}function F(t,e,n){A((function(){return t.apply(void 0,e)}),n)}function H(t,e,n,i,r,o,a){t.current=i,e.current=r,n.current=!1,o.current&&(o.current=null,a())}function N(t,e,n,i,r,o,a,s,l,u){if(t){var h=!1,c=null,d=function(){if(!h){var t,n,d=e.getState();try{t=i(d,r.current)}catch(t){n=t,c=t}n||(c=null),t===o.current?a.current||l():(o.current=t,s.current=t,a.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,c)throw c}}}var z=function(){return[null,0]};function W(t,e){void 0===e&&(e={});var n=e,r=n.getDisplayName,o=void 0===r?function(t){return"ConnectAdvanced("+t+")"}:r,s=n.methodName,l=void 0===s?"connectAdvanced":s,u=n.renderCountProp,h=void 0===u?void 0:u,c=n.shouldHandleStateChanges,d=void 0===c||c,f=n.storeKey,p=void 0===f?"store":f,g=(n.withRef,n.forwardRef),m=void 0!==g&&g,v=n.context,y=void 0===v?x:v,b=k(n,E),w=y;return function(e){var n=e.displayName||e.name||"Component",r=o(n),s=(0,a.Z)({},b,{getDisplayName:o,methodName:l,renderCountProp:h,shouldHandleStateChanges:d,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:e}),u=b.pure;var c=u?i.useMemo:function(t){return t()};function f(n){var r=(0,i.useMemo)((function(){var t=n.reactReduxForwardedRef,e=k(n,B);return[n.context,t,e]}),[n]),o=r[0],l=r[1],u=r[2],h=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,P.isContextConsumer)(i.createElement(o.Consumer,null))?o:w}),[o,w]),f=(0,i.useContext)(h),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var g=p?n.store:f.store,m=(0,i.useMemo)((function(){return function(e){return t(e.dispatch,s)}(g)}),[g]),v=(0,i.useMemo)((function(){if(!d)return D;var t=M(g,p?null:f.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]}),[g,p,f]),y=v[0],b=v[1],x=(0,i.useMemo)((function(){return p?f:(0,a.Z)({},f,{subscription:y})}),[p,f,y]),_=(0,i.useReducer)(O,L,z),C=_[0][0],S=_[1];if(C&&C.error)throw C.error;var A=(0,i.useRef)(),T=(0,i.useRef)(u),R=(0,i.useRef)(),I=(0,i.useRef)(!1),E=c((function(){return R.current&&u===T.current?R.current:m(g.getState(),u)}),[g,C,u]);F(H,[T,A,I,u,E,R,b]),F(N,[d,g,y,m,T,A,I,R,b,S],[g,y,m]);var W=(0,i.useMemo)((function(){return i.createElement(e,(0,a.Z)({},E,{ref:l}))}),[l,e,E]);return(0,i.useMemo)((function(){return d?i.createElement(h.Provider,{value:x},W):W}),[h,W,x])}var g=u?i.memo(f):f;if(g.WrappedComponent=e,g.displayName=f.displayName=r,m){var v=i.forwardRef((function(t,e){return i.createElement(g,(0,a.Z)({},t,{reactReduxForwardedRef:e}))}));return v.displayName=r,v.WrappedComponent=e,I()(v,e)}return I()(g,e)}}function j(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function V(t,e){if(j(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!j(t[n[r]],e[n[r]]))return!1;return!0}function G(t){return function(e,n){var i=t(e,n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function Z(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function U(t,e){return function(e,n){n.displayName;var i=function(t,e){return i.dependsOnOwnProps?i.mapToProps(t,e):i.mapToProps(t)};return i.dependsOnOwnProps=!0,i.mapToProps=function(e,n){i.mapToProps=t,i.dependsOnOwnProps=Z(t);var r=i(e,n);return"function"==typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=Z(r),r=i(e,n)),r},i}}var K=[function(t){return"function"==typeof t?U(t):void 0},function(t){return t?void 0:G((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?G((function(e){return function(t,e){var n={},i=function(i){var r=t[i];"function"==typeof r&&(n[i]=function(){return e(r.apply(void 0,arguments))})};for(var r in t)i(r);return n}(t,e)})):void 0}];var $=[function(t){return"function"==typeof t?U(t):void 0},function(t){return t?void 0:G((function(){return{}}))}];function X(t,e,n){return(0,a.Z)({},n,t,e)}var Y=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var i,r=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var l=t(e,n,s);return a?r&&o(l,i)||(i=l):(a=!0,i=l),i}}}(t):void 0},function(t){return t?void 0:function(){return X}}],q=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function J(t,e,n,i){return function(r,o){return n(t(r,o),e(i,o),o)}}function Q(t,e,n,i,r){var o,a,s,l,u,h=r.areStatesEqual,c=r.areOwnPropsEqual,d=r.areStatePropsEqual,f=!1;function p(r,f){var p,g,m=!c(f,a),v=!h(r,o,f,a);return o=r,a=f,m&&v?(s=t(o,a),e.dependsOnOwnProps&&(l=e(i,a)),u=n(s,l,a)):m?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(l=e(i,a)),u=n(s,l,a)):v?(p=t(o,a),g=!d(p,s),s=p,g&&(u=n(s,l,a)),u):u}return function(r,h){return f?p(r,h):(s=t(o=r,a=h),l=e(i,a),u=n(s,l,a),f=!0,u)}}function tt(t,e){var n=e.initMapStateToProps,i=e.initMapDispatchToProps,r=e.initMergeProps,o=k(e,q),a=n(t,o),s=i(t,o),l=r(t,o);return(o.pure?Q:J)(a,s,l,t,o)}var et=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function nt(t,e,n){for(var i=e.length-1;i>=0;i--){var r=e[i](t);if(r)return r}return function(e,i){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function it(t,e){return t===e}function rt(t){var e=void 0===t?{}:t,n=e.connectHOC,i=void 0===n?W:n,r=e.mapStateToPropsFactories,o=void 0===r?$:r,s=e.mapDispatchToPropsFactories,l=void 0===s?K:s,u=e.mergePropsFactories,h=void 0===u?Y:u,c=e.selectorFactory,d=void 0===c?tt:c;return function(t,e,n,r){void 0===r&&(r={});var s=r,u=s.pure,c=void 0===u||u,f=s.areStatesEqual,p=void 0===f?it:f,g=s.areOwnPropsEqual,m=void 0===g?V:g,v=s.areStatePropsEqual,y=void 0===v?V:v,b=s.areMergedPropsEqual,w=void 0===b?V:b,x=k(s,et),_=nt(t,o,"mapStateToProps"),C=nt(e,l,"mapDispatchToProps"),S=nt(n,h,"mergeProps");return i(d,(0,a.Z)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:_,initMapDispatchToProps:C,initMergeProps:S,pure:c,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:w},x))}}var ot=rt();var at,st=n(10422);function lt(t,e){var n=(0,i.useState)((function(){return{inputs:e,result:t()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(e&&o.current.inputs&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(e,o.current.inputs))?o.current:{inputs:e,result:t()};return(0,i.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}at=st.unstable_batchedUpdates,_=at;var ut=lt,ht=function(t,e){return lt((function(){return t}),e)},ct="Invariant failed";var dt=function(t){var e=t.top,n=t.right,i=t.bottom,r=t.left;return{top:e,right:n,bottom:i,left:r,width:n-r,height:i-e,x:r,y:e,center:{x:(n+r)/2,y:(i+e)/2}}},ft=function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom+e.bottom,right:t.right+e.right}},pt=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},gt={top:0,right:0,bottom:0,left:0},mt=function(t){var e=t.borderBox,n=t.margin,i=void 0===n?gt:n,r=t.border,o=void 0===r?gt:r,a=t.padding,s=void 0===a?gt:a,l=dt(ft(e,i)),u=dt(pt(e,o)),h=dt(pt(u,s));return{marginBox:l,borderBox:dt(e),paddingBox:u,contentBox:h,margin:i,border:o,padding:s}},vt=function(t){var e=t.slice(0,-2);if("px"!==t.slice(-2))return 0;var n=Number(e);return isNaN(n)&&function(t,e){if(!t)throw new Error(ct)}(!1),n},yt=function(t,e){var n,i,r=t.borderBox,o=t.border,a=t.margin,s=t.padding,l=(i=e,{top:(n=r).top+i.y,left:n.left+i.x,bottom:n.bottom+i.y,right:n.right+i.x});return mt({borderBox:l,border:o,margin:a,padding:s})},bt=function(t,e){return void 0===e&&(e={x:window.pageXOffset,y:window.pageYOffset}),yt(t,e)},wt=function(t,e){var n={top:vt(e.marginTop),right:vt(e.marginRight),bottom:vt(e.marginBottom),left:vt(e.marginLeft)},i={top:vt(e.paddingTop),right:vt(e.paddingRight),bottom:vt(e.paddingBottom),left:vt(e.paddingLeft)},r={top:vt(e.borderTopWidth),right:vt(e.borderRightWidth),bottom:vt(e.borderBottomWidth),left:vt(e.borderLeftWidth)};return mt({borderBox:t,margin:n,padding:i,border:r})},xt=function(t){var e=t.getBoundingClientRect(),n=window.getComputedStyle(t);return wt(e,n)},_t=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function Ct(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(i=t[n],r=e[n],!(i===r||_t(i)&&_t(r)))return!1;var i,r;return!0}var St=function(t,e){var n;void 0===e&&(e=Ct);var i,r=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}},Mt=function(t){var e=[],n=null,i=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];e=r,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function At(t,e){}At.bind(null,"warn"),At.bind(null,"error");function Tt(){}function kt(t,e,n){var i=e.map((function(e){var i=function(t,e){return(0,a.Z)({},t,{},e)}(n,e.options);return t.addEventListener(e.eventName,e.fn,i),function(){t.removeEventListener(e.eventName,e.fn,i)}}));return function(){i.forEach((function(t){t()}))}}var Rt="Invariant failed";function It(t){this.message=t}function Pt(t,e){if(!t)throw new It(Rt)}It.prototype.toString=function(){return this.message};var Et=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).callbacks=null,e.unbind=Tt,e.onWindowError=function(t){var n=e.getCallbacks();n.isDragging()&&n.tryAbort(),t.error instanceof It&&t.preventDefault()},e.getCallbacks=function(){if(!e.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return e.callbacks},e.setCallbacks=function(t){e.callbacks=t},e}o(e,t);var n=e.prototype;return n.componentDidMount=function(){this.unbind=kt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(t){if(!(t instanceof It))throw t;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(i.Component),Bt=function(t){return t+1},Lt=function(t,e){var n=t.droppableId===e.droppableId,i=Bt(t.index),r=Bt(e.index);return n?"\n      You have moved the item from position "+i+"\n      to position "+r+"\n    ":"\n    You have moved the item from position "+i+"\n    in list "+t.droppableId+"\n    to list "+e.droppableId+"\n    in position "+r+"\n  "},Dt=function(t,e,n){return e.droppableId===n.droppableId?"\n      The item "+t+"\n      has been combined with "+n.draggableId:"\n      The item "+t+"\n      in list "+e.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Ot=function(t){return"\n  The item has returned to its starting position\n  of "+Bt(t.index)+"\n"},Ft="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Ht=function(t){return"\n  You have lifted an item in position "+Bt(t.source.index)+"\n"},Nt=function(t){var e=t.destination;if(e)return Lt(t.source,e);var n=t.combine;return n?Dt(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},zt=function(t){if("CANCEL"===t.reason)return"\n      Movement cancelled.\n      "+Ot(t.source)+"\n    ";var e=t.destination,n=t.combine;return e?"\n      You have dropped the item.\n      "+Lt(t.source,e)+"\n    ":n?"\n      You have dropped the item.\n      "+Dt(t.draggableId,t.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Ot(t.source)+"\n  "},Wt={x:0,y:0},jt=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},Vt=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},Gt=function(t,e){return t.x===e.x&&t.y===e.y},Zt=function(t){return{x:0!==t.x?-t.x:0,y:0!==t.y?-t.y:0}},Ut=function(t,e,n){var i;return void 0===n&&(n=0),(i={})[t]=e,i["x"===t?"y":"x"]=n,i},Kt=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},$t=function(t,e){return Math.min.apply(Math,e.map((function(e){return Kt(t,e)})))},Xt=function(t){return function(e){return{x:t(e.x),y:t(e.y)}}},Yt=function(t,e){return{top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}},qt=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Jt=function(t,e){return e&&e.shouldClipSubject?function(t,e){var n=dt({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n}(e.pageMarginBox,t):dt(t)},Qt=function(t){var e=t.page,n=t.withPlaceholder,i=t.axis,r=t.frame,o=function(t,e){return e?Yt(t,e.scroll.diff.displacement):t}(e.marginBox,r),s=function(t,e,n){var i;return n&&n.increasedBy?(0,a.Z)({},t,((i={})[e.end]=t[e.end]+n.increasedBy[e.line],i)):t}(o,i,n);return{page:e,withPlaceholder:n,active:Jt(s,r)}},te=function(t,e){t.frame||Pt(!1);var n=t.frame,i=Vt(e,n.scroll.initial),r=Zt(i),o=(0,a.Z)({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:i,displacement:r},max:n.scroll.max}}),s=Qt({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return(0,a.Z)({},t,{frame:o,subject:s})};function ee(t){return Object.values?Object.values(t):Object.keys(t).map((function(e){return t[e]}))}function ne(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function ie(t,e){if(t.find)return t.find(e);var n=ne(t,e);return-1!==n?t[n]:void 0}function re(t){return Array.prototype.slice.call(t)}var oe=St((function(t){return t.reduce((function(t,e){return t[e.descriptor.id]=e,t}),{})})),ae=St((function(t){return t.reduce((function(t,e){return t[e.descriptor.id]=e,t}),{})})),se=St((function(t){return ee(t)})),le=St((function(t){return ee(t)})),ue=St((function(t,e){var n=le(e).filter((function(e){return t===e.descriptor.droppableId})).sort((function(t,e){return t.descriptor.index-e.descriptor.index}));return n}));function he(t){return t.at&&"REORDER"===t.at.type?t.at.destination:null}function ce(t){return t.at&&"COMBINE"===t.at.type?t.at.combine:null}var de=St((function(t,e){return e.filter((function(e){return e.descriptor.id!==t.descriptor.id}))})),fe=function(t,e){return t.descriptor.droppableId===e.descriptor.id},pe={point:Wt,value:0},ge={invisible:{},visible:{},all:[]},me={displaced:ge,displacedBy:pe,at:null},ve=function(t,e){return function(n){return t<=n&&n<=e}},ye=function(t){var e=ve(t.top,t.bottom),n=ve(t.left,t.right);return function(i){if(e(i.top)&&e(i.bottom)&&n(i.left)&&n(i.right))return!0;var r=e(i.top)||e(i.bottom),o=n(i.left)||n(i.right);if(r&&o)return!0;var a=i.top<t.top&&i.bottom>t.bottom,s=i.left<t.left&&i.right>t.right;return!(!a||!s)||(a&&o||s&&r)}},be=function(t){var e=ve(t.top,t.bottom),n=ve(t.left,t.right);return function(t){return e(t.top)&&e(t.bottom)&&n(t.left)&&n(t.right)}},we={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xe={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},_e=function(t){var e=t.target,n=t.destination,i=t.viewport,r=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,a=r?function(t,e){var n=e.frame?e.frame.scroll.diff.displacement:Wt;return Yt(t,n)}(e,n):e;return function(t,e,n){return!!e.subject.active&&n(e.subject.active)(t)}(a,n,o)&&function(t,e,n){return n(e)(t)}(a,i,o)},Ce=function(t){return _e((0,a.Z)({},t,{isVisibleThroughFrameFn:ye}))},Se=function(t){return _e((0,a.Z)({},t,{isVisibleThroughFrameFn:be}))};function Me(t){var e=t.afterDragging,n=t.destination,i=t.displacedBy,r=t.viewport,o=t.forceShouldAnimate,a=t.last;return e.reduce((function(t,e){var s=function(t,e){var n=t.page.marginBox,i={top:e.point.y,right:0,bottom:0,left:e.point.x};return dt(ft(n,i))}(e,i),l=e.descriptor.id;if(t.all.push(l),!Ce({target:s,destination:n,viewport:r,withDroppableDisplacement:!0}))return t.invisible[e.descriptor.id]=!0,t;var u=function(t,e,n){if("boolean"==typeof n)return n;if(!e)return!0;var i=e.invisible,r=e.visible;if(i[t])return!1;var o=r[t];return!o||o.shouldAnimate}(l,a,o),h={draggableId:l,shouldAnimate:u};return t.visible[l]=h,t}),{all:[],visible:{},invisible:{}})}function Ae(t){var e=t.insideDestination,n=t.inHomeList,i=t.displacedBy,r=t.destination,o=function(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}(e,{inHomeList:n});return{displaced:ge,displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Te(t){var e=t.draggable,n=t.insideDestination,i=t.destination,r=t.viewport,o=t.displacedBy,a=t.last,s=t.index,l=t.forceShouldAnimate,u=fe(e,i);if(null==s)return Ae({insideDestination:n,inHomeList:u,displacedBy:o,destination:i});var h=ie(n,(function(t){return t.descriptor.index===s}));if(!h)return Ae({insideDestination:n,inHomeList:u,displacedBy:o,destination:i});var c=de(e,n),d=n.indexOf(h);return{displaced:Me({afterDragging:c.slice(d),destination:i,displacedBy:o,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function ke(t,e){return Boolean(e.effected[t])}var Re=function(t){var e=t.isMovingForward,n=t.isInHomeList,i=t.draggable,r=t.draggables,o=t.destination,a=t.insideDestination,s=t.previousImpact,l=t.viewport,u=t.afterCritical,h=s.at;if(h||Pt(!1),"REORDER"===h.type){var c=function(t){var e=t.isMovingForward,n=t.isInHomeList,i=t.insideDestination,r=t.location;if(!i.length)return null;var o=r.index,a=e?o+1:o-1,s=i[0].descriptor.index,l=i[i.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:e,isInHomeList:n,location:h.destination,insideDestination:a});return null==c?null:Te({draggable:i,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:c})}var d=function(t){var e=t.isMovingForward,n=t.destination,i=t.draggables,r=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var a=r.draggableId,s=i[a].descriptor.index;return ke(a,o)?e?s:s-1:e?s+1:s}({isMovingForward:e,destination:o,displaced:s.displaced,draggables:r,combine:h.combine,afterCritical:u});return null==d?null:Te({draggable:i,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},Ie=function(t){var e=t.afterCritical,n=t.impact,i=t.draggables,r=ce(n);r||Pt(!1);var o=r.draggableId,a=i[o].page.borderBox.center,s=function(t){var e=t.displaced,n=t.afterCritical,i=t.combineWith,r=t.displacedBy,o=Boolean(e.visible[i]||e.invisible[i]);return ke(i,n)?o?Wt:Zt(r.point):o?r.point:Wt}({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return jt(a,s)},Pe=function(t,e){return e.margin[t.start]+e.borderBox[t.size]/2},Ee=function(t,e,n){return e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Be=function(t){var e=t.axis,n=t.moveRelativeTo,i=t.isMoving;return Ut(e.line,n.marginBox[e.end]+Pe(e,i),Ee(e,n.marginBox,i))},Le=function(t){var e=t.axis,n=t.moveRelativeTo,i=t.isMoving;return Ut(e.line,n.marginBox[e.start]-function(t,e){return e.margin[t.end]+e.borderBox[t.size]/2}(e,i),Ee(e,n.marginBox,i))},De=function(t){var e=t.impact,n=t.draggable,i=t.draggables,r=t.droppable,o=t.afterCritical,a=ue(r.descriptor.id,i),s=n.page,l=r.axis;if(!a.length)return function(t){var e=t.axis,n=t.moveInto,i=t.isMoving;return Ut(e.line,n.contentBox[e.start]+Pe(e,i),Ee(e,n.contentBox,i))}({axis:l,moveInto:r.page,isMoving:s});var u=e.displaced,h=e.displacedBy,c=u.all[0];if(c){var d=i[c];if(ke(c,o))return Le({axis:l,moveRelativeTo:d.page,isMoving:s});var f=yt(d.page,h.point);return Le({axis:l,moveRelativeTo:f,isMoving:s})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return s.borderBox.center;if(ke(p.descriptor.id,o)){var g=yt(p.page,Zt(o.displacedBy.point));return Be({axis:l,moveRelativeTo:g,isMoving:s})}return Be({axis:l,moveRelativeTo:p.page,isMoving:s})},Oe=function(t,e){var n=t.frame;return n?jt(e,n.scroll.diff.displacement):e},Fe=function(t){var e=function(t){var e=t.impact,n=t.draggable,i=t.droppable,r=t.draggables,o=t.afterCritical,a=n.page.borderBox.center,s=e.at;return i&&s?"REORDER"===s.type?De({impact:e,draggable:n,draggables:r,droppable:i,afterCritical:o}):Ie({impact:e,draggables:r,afterCritical:o}):a}(t),n=t.droppable;return n?Oe(n,e):e},He=function(t,e){var n=Vt(e,t.scroll.initial),i=Zt(n);return{frame:dt({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:i}}}};function Ne(t,e){return t.map((function(t){return e[t]}))}var ze=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,i=function(t,e){return jt(t.scroll.diff.displacement,e)}(t.viewport,e),r=Vt(i,n.page.borderBox.center);return jt(n.client.borderBox.center,r)},We=function(t){var e=t.draggable,n=t.destination,i=t.newPageBorderBoxCenter,r=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,l=void 0!==s&&s,u=Vt(i,e.page.borderBox.center),h={target:Yt(e.page.borderBox,u),destination:n,withDroppableDisplacement:o,viewport:r};return l?function(t){return _e((0,a.Z)({},t,{isVisibleThroughFrameFn:(e=t.destination.axis,function(t){var n=ve(t.top,t.bottom),i=ve(t.left,t.right);return function(t){return e===we?n(t.top)&&n(t.bottom):i(t.left)&&i(t.right)}})}));var e}(h):Se(h)},je=function(t){var e=t.isMovingForward,n=t.draggable,i=t.destination,r=t.draggables,o=t.previousImpact,s=t.viewport,l=t.previousPageBorderBoxCenter,u=t.previousClientSelection,h=t.afterCritical;if(!i.isEnabled)return null;var c=ue(i.descriptor.id,r),d=fe(n,i),f=function(t){var e=t.isMovingForward,n=t.draggable,i=t.destination,r=t.insideDestination,o=t.previousImpact;if(!i.isCombineEnabled)return null;if(!he(o))return null;function s(t){var e={type:"COMBINE",combine:{draggableId:t,droppableId:i.descriptor.id}};return(0,a.Z)({},o,{at:e})}var l=o.displaced.all,u=l.length?l[0]:null;if(e)return u?s(u):null;var h=de(n,r);if(!u)return h.length?s(h[h.length-1].descriptor.id):null;var c=ne(h,(function(t){return t.descriptor.id===u}));-1===c&&Pt(!1);var d=c-1;return d<0?null:s(h[d].descriptor.id)}({isMovingForward:e,draggable:n,destination:i,insideDestination:c,previousImpact:o})||Re({isMovingForward:e,isInHomeList:d,draggable:n,draggables:r,destination:i,insideDestination:c,previousImpact:o,viewport:s,afterCritical:h});if(!f)return null;var p=Fe({impact:f,draggable:n,droppable:i,draggables:r,afterCritical:h});if(We({draggable:n,destination:i,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ze({pageBorderBoxCenter:p,draggable:n,viewport:s}),impact:f,scrollJumpRequest:null};var g=Vt(p,l),m=function(t){var e=t.impact,n=t.viewport,i=t.destination,r=t.draggables,o=t.maxScrollChange,s=He(n,jt(n.scroll.current,o)),l=i.frame?te(i,jt(i.frame.scroll.current,o)):i,u=e.displaced,h=Me({afterDragging:Ne(u.all,r),destination:i,displacedBy:e.displacedBy,viewport:s.frame,last:u,forceShouldAnimate:!1}),c=Me({afterDragging:Ne(u.all,r),destination:l,displacedBy:e.displacedBy,viewport:n.frame,last:u,forceShouldAnimate:!1}),d={},f={},p=[u,h,c];return u.all.forEach((function(t){var e=function(t,e){for(var n=0;n<e.length;n++){var i=e[n].visible[t];if(i)return i}return null}(t,p);e?f[t]=e:d[t]=!0})),(0,a.Z)({},e,{displaced:{all:u.all,invisible:d,visible:f}})}({impact:f,viewport:s,destination:i,draggables:r,maxScrollChange:g});return{clientSelection:u,impact:m,scrollJumpRequest:g}},Ve=function(t){var e=t.subject.active;return e||Pt(!1),e},Ge=function(t,e){var n=t.page.borderBox.center;return ke(t.descriptor.id,e)?Vt(n,e.displacedBy.point):n},Ze=function(t,e){var n=t.page.borderBox;return ke(t.descriptor.id,e)?Yt(n,Zt(e.displacedBy.point)):n},Ue=St((function(t,e){var n=e[t.line];return{value:n,point:Ut(t.line,n)}})),Ke=function(t,e){return(0,a.Z)({},t,{scroll:(0,a.Z)({},t.scroll,{max:e})})},$e=function(t,e,n){var i=t.frame;fe(e,t)&&Pt(!1),t.subject.withPlaceholder&&Pt(!1);var r=Ue(t.axis,e.displaceBy).point,o=function(t,e,n){var i=t.axis;if("virtual"===t.descriptor.mode)return Ut(i.line,e[i.line]);var r=t.subject.page.contentBox[i.size],o=ue(t.descriptor.id,n).reduce((function(t,e){return t+e.client.marginBox[i.size]}),0)+e[i.line]-r;return o<=0?null:Ut(i.line,o)}(t,r,n),s={placeholderSize:r,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var l=Qt({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return(0,a.Z)({},t,{subject:l})}var u=o?jt(i.scroll.max,o):i.scroll.max,h=Ke(i,u),c=Qt({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:h});return(0,a.Z)({},t,{subject:c,frame:h})},Xe=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,i=t.draggable,r=t.isOver,o=t.draggables,a=t.droppables,s=t.viewport,l=t.afterCritical,u=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,i=t.source,r=t.droppables,o=t.viewport,a=i.subject.active;if(!a)return null;var s=i.axis,l=ve(a[s.start],a[s.end]),u=se(r).filter((function(t){return t!==i})).filter((function(t){return t.isEnabled})).filter((function(t){return Boolean(t.subject.active)})).filter((function(t){return ye(o.frame)(Ve(t))})).filter((function(t){var n=Ve(t);return e?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(t){var e=Ve(t),n=ve(e[s.start],e[s.end]);return l(e[s.start])||l(e[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(t,n){var i=Ve(t)[s.crossAxisStart],r=Ve(n)[s.crossAxisStart];return e?i-r:r-i})).filter((function(t,e,n){return Ve(t)[s.crossAxisStart]===Ve(n[0])[s.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var h=u.filter((function(t){return ve(Ve(t)[s.start],Ve(t)[s.end])(n[s.line])}));return 1===h.length?h[0]:h.length>1?h.sort((function(t,e){return Ve(t)[s.start]-Ve(e)[s.start]}))[0]:u.sort((function(t,e){var i=$t(n,qt(Ve(t))),r=$t(n,qt(Ve(e)));return i!==r?i-r:Ve(t)[s.start]-Ve(e)[s.start]}))[0]}({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:a,viewport:s});if(!u)return null;var h=ue(u.descriptor.id,o),c=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,i=t.destination,r=t.insideDestination,o=t.afterCritical,a=r.filter((function(t){return Se({target:Ze(t,o),destination:i,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(t,n){var r=Kt(e,Oe(i,Ge(t,o))),a=Kt(e,Oe(i,Ge(n,o)));return r<a?-1:a<r?1:t.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:u,insideDestination:h,afterCritical:l}),d=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,i=t.insideDestination,r=t.draggable,o=t.draggables,a=t.destination,s=t.viewport,l=t.afterCritical;if(!n){if(i.length)return null;var u={displaced:ge,displacedBy:pe,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},h=Fe({impact:u,draggable:r,droppable:a,draggables:o,afterCritical:l}),c=fe(r,a)?a:$e(a,r,o);return We({draggable:r,destination:c,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var d,f=Boolean(e[a.axis.line]<=n.page.borderBox.center[a.axis.line]),p=(d=n.descriptor.index,n.descriptor.id===r.descriptor.id||f?d:d+1),g=Ue(a.axis,r.displaceBy);return Te({draggable:r,insideDestination:i,destination:a,viewport:s,displacedBy:g,last:ge,index:p})}({previousPageBorderBoxCenter:n,destination:u,draggable:i,draggables:o,moveRelativeTo:c,insideDestination:h,viewport:s,afterCritical:l});if(!d)return null;var f=Fe({impact:d,draggable:i,droppable:u,draggables:o,afterCritical:l});return{clientSelection:ze({pageBorderBoxCenter:f,draggable:i,viewport:s}),impact:d,scrollJumpRequest:null}},Ye=function(t){var e=t.at;return e?"REORDER"===e.type?e.destination.droppableId:e.combine.droppableId:null},qe=function(t){var e=t.state,n=t.type,i=function(t,e){var n=Ye(t);return n?e[n]:null}(e.impact,e.dimensions.droppables),r=Boolean(i),o=e.dimensions.droppables[e.critical.droppable.id],a=i||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!r)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,h=e.dimensions.draggables[e.critical.draggable.id],c=e.current.page.borderBoxCenter,d=e.dimensions,f=d.draggables,p=d.droppables;return l?je({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:h,destination:a,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Xe({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:h,isOver:a,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Je(t){return"DRAGGING"===t.phase||"COLLECTING"===t.phase}function Qe(t){var e=ve(t.top,t.bottom),n=ve(t.left,t.right);return function(t){return e(t.y)&&n(t.x)}}function tn(t){var e=t.pageBorderBox,n=t.draggable,i=t.droppables,r=se(i).filter((function(t){if(!t.isEnabled)return!1;var n,i,r=t.subject.active;if(!r)return!1;if(i=r,!((n=e).left<i.right&&n.right>i.left&&n.top<i.bottom&&n.bottom>i.top))return!1;if(Qe(r)(e.center))return!0;var o=t.axis,a=r.center[o.crossAxisLine],s=e[o.crossAxisStart],l=e[o.crossAxisEnd],u=ve(r[o.crossAxisStart],r[o.crossAxisEnd]),h=u(s),c=u(l);return!h&&!c||(h?s<a:l>a)}));return r.length?1===r.length?r[0].descriptor.id:function(t){var e=t.pageBorderBox,n=t.draggable,i=t.candidates,r=n.page.borderBox.center,o=i.map((function(t){var n=t.axis,i=Ut(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:Kt(r,i)}})).sort((function(t,e){return e.distance-t.distance}));return o[0]?o[0].id:null}({pageBorderBox:e,draggable:n,candidates:r}):null}var en=function(t,e){return dt(Yt(t,e))};function nn(t){var e=t.displaced,n=t.id;return Boolean(e.visible[n]||e.invisible[n])}var rn=function(t){var e=t.pageOffset,n=t.draggable,i=t.draggables,r=t.droppables,o=t.previousImpact,a=t.viewport,s=t.afterCritical,l=en(n.page.borderBox,e),u=tn({pageBorderBox:l,draggable:n,droppables:r});if(!u)return me;var h=r[u],c=ue(h.descriptor.id,i),d=function(t,e){var n=t.frame;return n?en(e,n.scroll.diff.value):e}(h,l);return function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,i=t.previousImpact,r=t.destination,o=t.insideDestination,a=t.afterCritical;if(!r.isCombineEnabled)return null;var s=r.axis,l=Ue(r.axis,e.displaceBy),u=l.value,h=n[s.start],c=n[s.end],d=ie(de(e,o),(function(t){var e=t.descriptor.id,n=t.page.borderBox,r=n[s.size]/4,o=ke(e,a),l=nn({displaced:i.displaced,id:e});return o?l?c>n[s.start]+r&&c<n[s.end]-r:h>n[s.start]-u+r&&h<n[s.end]-u-r:l?c>n[s.start]+u+r&&c<n[s.end]+u-r:h>n[s.start]+r&&h<n[s.end]-r}));return d?{displacedBy:l,displaced:i.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:o,destination:h,insideDestination:c,afterCritical:s})||function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,i=t.destination,r=t.insideDestination,o=t.last,a=t.viewport,s=t.afterCritical,l=i.axis,u=Ue(i.axis,n.displaceBy),h=u.value,c=e[l.start],d=e[l.end],f=function(t){var e=t.draggable,n=t.closest,i=t.inHomeList;return n?i&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:ie(de(n,r),(function(t){var e=t.descriptor.id,n=t.page.borderBox.center[l.line],i=ke(e,s),r=nn({displaced:o,id:e});return i?r?d<=n:c<n-h:r?d<=n+h:c<n})),inHomeList:fe(n,i)});return Te({draggable:n,insideDestination:r,destination:i,viewport:a,last:o,displacedBy:u,index:f})}({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:h,insideDestination:c,last:o.displaced,viewport:a,afterCritical:s})},on=function(t,e){var n;return(0,a.Z)({},t,((n={})[e.descriptor.id]=e,n))},an=function(t){var e=t.previousImpact,n=t.impact,i=t.droppables,r=Ye(e),o=Ye(n);if(!r)return i;if(r===o)return i;var s=i[r];if(!s.subject.withPlaceholder)return i;var l=function(t){var e=t.subject.withPlaceholder;e||Pt(!1);var n=t.frame;if(!n){var i=Qt({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return(0,a.Z)({},t,{subject:i})}var r=e.oldFrameMaxScroll;r||Pt(!1);var o=Ke(n,r),s=Qt({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return(0,a.Z)({},t,{subject:s,frame:o})}(s);return on(i,l)},sn=function(t){var e=t.state,n=t.clientSelection,i=t.dimensions,r=t.viewport,o=t.impact,s=t.scrollJumpRequest,l=r||e.viewport,u=i||e.dimensions,h=n||e.current.client.selection,c=Vt(h,e.initial.client.selection),d={offset:c,selection:h,borderBoxCenter:jt(e.initial.client.borderBoxCenter,c)},f={selection:jt(d.selection,l.scroll.current),borderBoxCenter:jt(d.borderBoxCenter,l.scroll.current),offset:jt(d.offset,l.scroll.diff.value)},p={client:d,page:f};if("COLLECTING"===e.phase)return(0,a.Z)({phase:"COLLECTING"},e,{dimensions:u,viewport:l,current:p});var g=u.draggables[e.critical.draggable.id],m=o||rn({pageOffset:f.offset,draggable:g,draggables:u.draggables,droppables:u.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),v=function(t){var e=t.draggable,n=t.draggables,i=t.droppables,r=t.previousImpact,o=t.impact,a=an({previousImpact:r,impact:o,droppables:i}),s=Ye(o);if(!s)return a;var l=i[s];if(fe(e,l))return a;if(l.subject.withPlaceholder)return a;var u=$e(l,e,n);return on(a,u)}({draggable:g,impact:m,previousImpact:e.impact,draggables:u.draggables,droppables:u.droppables});return(0,a.Z)({},e,{current:p,dimensions:{draggables:u.draggables,droppables:v},impact:m,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})};var ln=function(t){var e=t.impact,n=t.viewport,i=t.draggables,r=t.destination,o=t.forceShouldAnimate,s=e.displaced,l=function(t,e){return t.map((function(t){return e[t]}))}(s.all,i),u=Me({afterDragging:l,destination:r,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return(0,a.Z)({},e,{displaced:u})},un=function(t){var e=t.impact,n=t.draggable,i=t.droppable,r=t.draggables,o=t.viewport,a=t.afterCritical,s=Fe({impact:e,draggable:n,draggables:r,droppable:i,afterCritical:a});return ze({pageBorderBoxCenter:s,draggable:n,viewport:o})},hn=function(t){var e=t.state,n=t.dimensions,i=t.viewport;"SNAP"!==e.movementMode&&Pt(!1);var r=e.impact,o=i||e.viewport,a=n||e.dimensions,s=a.draggables,l=a.droppables,u=s[e.critical.draggable.id],h=Ye(r);h||Pt(!1);var c=l[h],d=ln({impact:r,viewport:o,destination:c,draggables:s}),f=un({impact:d,draggable:u,droppable:c,draggables:s,viewport:o,afterCritical:e.afterCritical});return sn({impact:d,clientSelection:f,state:e,dimensions:a,viewport:o})},cn=function(t){var e=t.draggable,n=t.home,i=t.draggables,r=t.viewport,o=Ue(n.axis,e.displaceBy),a=ue(n.descriptor.id,i),s=a.indexOf(e);-1===s&&Pt(!1);var l,u=a.slice(s+1),h=u.reduce((function(t,e){return t[e.descriptor.id]=!0,t}),{}),c={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:h};return{impact:{displaced:Me({afterDragging:u,destination:n,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=e.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:c}},dn=function(t){0},fn=function(t){0},pn=function(t){var e=t.additions,n=t.updatedDroppables,i=t.viewport,r=i.scroll.diff.value;return e.map((function(t){var e=t.descriptor.droppableId,o=function(t){var e=t.frame;return e||Pt(!1),e}(n[e]),s=o.scroll.diff.value,l=function(t){var e=t.draggable,n=t.offset,i=t.initialWindowScroll,r=yt(e.client,n),o=bt(r,i);return(0,a.Z)({},e,{placeholder:(0,a.Z)({},e.placeholder,{client:r}),client:r,page:o})}({draggable:t,offset:jt(r,s),initialWindowScroll:i.scroll.initial});return l}))},gn=function(t){return"SNAP"===t.movementMode},mn=function(t,e,n){var i=function(t,e){return{draggables:t.draggables,droppables:on(t.droppables,e)}}(t.dimensions,e);return!gn(t)||n?sn({state:t,dimensions:i}):hn({state:t,dimensions:i})};function vn(t){return t.isDragging&&"SNAP"===t.movementMode?(0,a.Z)({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var yn={phase:"IDLE",completed:null,shouldFlush:!1},bn=function(t,e){if(void 0===t&&(t=yn),"FLUSH"===e.type)return(0,a.Z)({},yn,{shouldFlush:!0});if("INITIAL_PUBLISH"===e.type){"IDLE"!==t.phase&&Pt(!1);var n=e.payload,i=n.critical,r=n.clientSelection,o=n.viewport,s=n.dimensions,l=n.movementMode,u=s.draggables[i.draggable.id],h=s.droppables[i.droppable.id],c={selection:r,borderBoxCenter:u.client.borderBox.center,offset:Wt},d={client:c,page:{selection:jt(c.selection,o.scroll.initial),borderBoxCenter:jt(c.selection,o.scroll.initial),offset:jt(c.selection,o.scroll.diff.value)}},f=se(s.droppables).every((function(t){return!t.isFixedOnPage})),p=cn({draggable:u,home:h,draggables:s.draggables,viewport:o}),g=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:i,movementMode:l,dimensions:s,initial:d,current:d,isWindowScrollAllowed:f,impact:g,afterCritical:p.afterCritical,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===e.type)return"COLLECTING"===t.phase||"DROP_PENDING"===t.phase?t:("DRAGGING"!==t.phase&&Pt(!1),(0,a.Z)({phase:"COLLECTING"},t,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===e.type)return"COLLECTING"!==t.phase&&"DROP_PENDING"!==t.phase&&Pt(!1),function(t){var e=t.state,n=t.published;dn();var i=n.modified.map((function(t){var n=e.dimensions.droppables[t.droppableId];return te(n,t.scroll)})),r=(0,a.Z)({},e.dimensions.droppables,{},oe(i)),o=ae(pn({additions:n.additions,updatedDroppables:r,viewport:e.viewport})),s=(0,a.Z)({},e.dimensions.draggables,{},o);n.removals.forEach((function(t){delete s[t]}));var l={droppables:r,draggables:s},u=Ye(e.impact),h=u?l.droppables[u]:null,c=l.draggables[e.critical.draggable.id],d=l.droppables[e.critical.droppable.id],f=cn({draggable:c,home:d,draggables:s,viewport:e.viewport}),p=f.impact,g=f.afterCritical,m=h&&h.isCombineEnabled?e.impact:p,v=rn({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:m,viewport:e.viewport,afterCritical:g});fn();var y=(0,a.Z)({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:v,onLiftImpact:p,dimensions:l,afterCritical:g,forceShouldAnimate:!1});return"COLLECTING"===e.phase?y:(0,a.Z)({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1})}({state:t,published:e.payload});if("MOVE"===e.type){if("DROP_PENDING"===t.phase)return t;Je(t)||Pt(!1);var m=e.payload.client;return Gt(m,t.current.client.selection)?t:sn({state:t,clientSelection:m,impact:gn(t)?t.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===e.type){if("DROP_PENDING"===t.phase)return vn(t);if("COLLECTING"===t.phase)return vn(t);Je(t)||Pt(!1);var v=e.payload,y=v.id,b=v.newScroll,w=t.dimensions.droppables[y];if(!w)return t;var x=te(w,b);return mn(t,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===e.type){if("DROP_PENDING"===t.phase)return t;Je(t)||Pt(!1);var _=e.payload,C=_.id,S=_.isEnabled,M=t.dimensions.droppables[C];M||Pt(!1),M.isEnabled===S&&Pt(!1);var A=(0,a.Z)({},M,{isEnabled:S});return mn(t,A,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===e.type){if("DROP_PENDING"===t.phase)return t;Je(t)||Pt(!1);var T=e.payload,k=T.id,R=T.isCombineEnabled,I=t.dimensions.droppables[k];I||Pt(!1),I.isCombineEnabled===R&&Pt(!1);var P=(0,a.Z)({},I,{isCombineEnabled:R});return mn(t,P,!0)}if("MOVE_BY_WINDOW_SCROLL"===e.type){if("DROP_PENDING"===t.phase||"DROP_ANIMATING"===t.phase)return t;Je(t)||Pt(!1),t.isWindowScrollAllowed||Pt(!1);var E=e.payload.newScroll;if(Gt(t.viewport.scroll.current,E))return vn(t);var B=He(t.viewport,E);return gn(t)?hn({state:t,viewport:B}):sn({state:t,viewport:B})}if("UPDATE_VIEWPORT_MAX_SCROLL"===e.type){if(!Je(t))return t;var L=e.payload.maxScroll;if(Gt(L,t.viewport.scroll.max))return t;var D=(0,a.Z)({},t.viewport,{scroll:(0,a.Z)({},t.viewport.scroll,{max:L})});return(0,a.Z)({phase:"DRAGGING"},t,{viewport:D})}if("MOVE_UP"===e.type||"MOVE_DOWN"===e.type||"MOVE_LEFT"===e.type||"MOVE_RIGHT"===e.type){if("COLLECTING"===t.phase||"DROP_PENDING"===t.phase)return t;"DRAGGING"!==t.phase&&Pt(!1);var O=qe({state:t,type:e.type});return O?sn({state:t,impact:O.impact,clientSelection:O.clientSelection,scrollJumpRequest:O.scrollJumpRequest}):t}if("DROP_PENDING"===e.type){var F=e.payload.reason;return"COLLECTING"!==t.phase&&Pt(!1),(0,a.Z)({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:F})}if("DROP_ANIMATE"===e.type){var H=e.payload,N=H.completed,z=H.dropDuration,W=H.newHomeClientOffset;return"DRAGGING"!==t.phase&&"DROP_PENDING"!==t.phase&&Pt(!1),{phase:"DROP_ANIMATING",completed:N,dropDuration:z,newHomeClientOffset:W,dimensions:t.dimensions}}return"DROP_COMPLETE"===e.type?{phase:"IDLE",completed:e.payload.completed,shouldFlush:!1}:t},wn=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},xn=function(){return{type:"COLLECTION_STARTING",payload:null}},_n=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Cn=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Sn=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Mn=function(t){return{type:"MOVE",payload:t}},An=function(){return{type:"MOVE_UP",payload:null}},Tn=function(){return{type:"MOVE_DOWN",payload:null}},kn=function(){return{type:"MOVE_RIGHT",payload:null}},Rn=function(){return{type:"MOVE_LEFT",payload:null}},In=function(t){return{type:"DROP_COMPLETE",payload:t}},Pn=function(t){return{type:"DROP",payload:t}},En=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Bn="cubic-bezier(.2,1,.1,1)",Ln={drop:0,combining:.7},Dn={drop:.75},On=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Fn={fluid:"opacity "+On,snap:"transform "+On+", opacity "+On,drop:function(t){var e=t+"s "+Bn;return"transform "+e+", opacity "+e},outOfTheWay:"transform "+On,placeholder:"height "+On+", width "+On+", margin "+On},Hn=function(t){return Gt(t,Wt)?null:"translate("+t.x+"px, "+t.y+"px)"},Nn=Hn,zn=function(t,e){var n=Hn(t);return n?e?n+" scale("+Dn.drop+")":n:null},Wn=.33,jn=.55,Vn=jn-Wn,Gn=function(t){var e=t.getState,n=t.dispatch;return function(t){return function(i){if("DROP"===i.type){var r=e(),o=i.payload.reason;if("COLLECTING"!==r.phase){if("IDLE"!==r.phase){"DROP_PENDING"===r.phase&&r.isWaiting&&Pt(!1),"DRAGGING"!==r.phase&&"DROP_PENDING"!==r.phase&&Pt(!1);var s=r.critical,l=r.dimensions,u=l.draggables[r.critical.draggable.id],h=function(t){var e=t.draggables,n=t.reason,i=t.lastImpact,r=t.home,o=t.viewport,s=t.onLiftImpact;return i.at&&"DROP"===n?"REORDER"===i.at.type?{impact:i,didDropInsideDroppable:!0}:{impact:(0,a.Z)({},i,{displaced:ge}),didDropInsideDroppable:!0}:{impact:ln({draggables:e,impact:s,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),c=h.impact,d=h.didDropInsideDroppable,f=d?he(c):null,p=d?ce(c):null,g={index:s.draggable.index,droppableId:s.droppable.id},m={draggableId:u.descriptor.id,type:u.descriptor.type,source:g,reason:o,mode:r.movementMode,destination:f,combine:p},v=function(t){var e=t.impact,n=t.draggable,i=t.dimensions,r=t.viewport,o=t.afterCritical,a=i.draggables,s=i.droppables,l=Ye(e),u=l?s[l]:null,h=s[n.descriptor.droppableId],c=un({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:u||h,viewport:r});return Vt(c,n.client.borderBox.center)}({impact:c,draggable:u,dimensions:l,viewport:r.viewport,afterCritical:r.afterCritical}),y={critical:r.critical,afterCritical:r.afterCritical,result:m,impact:c};if(!Gt(r.current.client.offset,v)||Boolean(m.combine)){var b=function(t){var e=t.current,n=t.destination,i=t.reason,r=Kt(e,n);if(r<=0)return Wn;if(r>=1500)return jn;var o=Wn+Vn*(r/1500);return Number(("CANCEL"===i?.6*o:o).toFixed(2))}({current:r.current.client.offset,destination:v,reason:o});n(function(t){return{type:"DROP_ANIMATE",payload:t}}({newHomeClientOffset:v,dropDuration:b,completed:y}))}else n(In({completed:y}))}}else n(function(t){return{type:"DROP_PENDING",payload:t}}({reason:o}))}else t(i)}}},Zn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Un(t){var e=t.onWindowScroll;var n=Mt((function(){e(Zn())})),i=function(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||t()}}}(n),r=Tt;function o(){return r!==Tt}return{start:function(){o()&&Pt(!1),r=kt(window,[i])},stop:function(){o()||Pt(!1),n.cancel(),r(),r=Tt},isActive:o}}var Kn=function(t){var e=Un({onWindowScroll:function(e){t.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:e}})}});return function(t){return function(n){e.isActive()||"INITIAL_PUBLISH"!==n.type||e.start(),e.isActive()&&function(t){return"DROP_COMPLETE"===t.type||"DROP_ANIMATE"===t.type||"FLUSH"===t.type}(n)&&e.stop(),t(n)}}},$n=function(){var t=[];return{add:function(e){var n=setTimeout((function(){return function(e){var n=ne(t,(function(t){return t.timerId===e}));-1===n&&Pt(!1),t.splice(n,1)[0].callback()}(n)})),i={timerId:n,callback:e};t.push(i)},flush:function(){if(t.length){var e=[].concat(t);t.length=0,e.forEach((function(t){clearTimeout(t.timerId),t.callback()}))}}}},Xn=function(t,e){dn(),e(),fn()},Yn=function(t,e){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e}},qn=function(t,e,n,i){if(t){var r=function(t){var e=!1,n=!1,i=setTimeout((function(){n=!0})),r=function(r){e||n||(e=!0,t(r),clearTimeout(i))};return r.wasCalled=function(){return e},r}(n);t(e,{announce:r}),r.wasCalled()||n(i(e))}else n(i(e))},Jn=function(t,e){var n=function(t,e){var n=$n(),i=null,r=function(n){i||Pt(!1),i=null,Xn(0,(function(){return qn(t().onDragEnd,n,e,zt)}))};return{beforeCapture:function(e,n){i&&Pt(!1),Xn(0,(function(){var i=t().onBeforeCapture;i&&i({draggableId:e,mode:n})}))},beforeStart:function(e,n){i&&Pt(!1),Xn(0,(function(){var i=t().onBeforeDragStart;i&&i(Yn(e,n))}))},start:function(r,o){i&&Pt(!1);var a=Yn(r,o);i={mode:o,lastCritical:r,lastLocation:a.source,lastCombine:null},n.add((function(){Xn(0,(function(){return qn(t().onDragStart,a,e,Ht)}))}))},update:function(r,o){var s=he(o),l=ce(o);i||Pt(!1);var u=!function(t,e){if(t===e)return!0;var n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,i=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&i}(r,i.lastCritical);u&&(i.lastCritical=r);var h,c,d=(c=s,!(null==(h=i.lastLocation)&&null==c||null!=h&&null!=c&&h.droppableId===c.droppableId&&h.index===c.index));d&&(i.lastLocation=s);var f=!function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.draggableId===e.draggableId&&t.droppableId===e.droppableId}(i.lastCombine,l);if(f&&(i.lastCombine=l),u||d||f){var p=(0,a.Z)({},Yn(r,i.mode),{combine:l,destination:s});n.add((function(){Xn(0,(function(){return qn(t().onDragUpdate,p,e,Nt)}))}))}},flush:function(){i||Pt(!1),n.flush()},drop:r,abort:function(){if(i){var t=(0,a.Z)({},Yn(i.lastCritical,i.mode),{combine:null,destination:null,reason:"CANCEL"});r(t)}}}}(t,e);return function(t){return function(e){return function(i){if("BEFORE_INITIAL_CAPTURE"!==i.type){if("INITIAL_PUBLISH"===i.type){var r=i.payload.critical;return n.beforeStart(r,i.payload.movementMode),e(i),void n.start(r,i.payload.movementMode)}if("DROP_COMPLETE"===i.type){var o=i.payload.completed.result;return n.flush(),e(i),void n.drop(o)}if(e(i),"FLUSH"!==i.type){var a=t.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(i.payload.draggableId,i.payload.movementMode)}}}},Qn=function(t){return function(e){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var i=t.getState();"DROP_ANIMATING"!==i.phase&&Pt(!1),t.dispatch(In({completed:i.completed}))}else e(n)}}},ti=function(t){var e=null,n=null;return function(i){return function(r){if("FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type&&"DROP_ANIMATION_FINISHED"!==r.type||(n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)),i(r),"DROP_ANIMATE"===r.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===t.getState().phase&&t.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,e=kt(window,[o])}))}}}},ei=function(t){return function(e){return function(n){if(e(n),"PUBLISH_WHILE_DRAGGING"===n.type){var i=t.getState();"DROP_PENDING"===i.phase&&(i.isWaiting||t.dispatch(Pn({reason:i.reason})))}}}},ni=w,ii=function(t){var e,n=t.dimensionMarshal,i=t.focusMarshal,r=t.styleMarshal,o=t.getResponders,a=t.announce,s=t.autoScroller;return v(bn,ni(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),i=function(){throw new Error(d(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=e.map((function(t){return t(r)}));return i=w.apply(void 0,o)(n.dispatch),c(c({},n),{},{dispatch:i})}}}((e=r,function(){return function(t){return function(n){"INITIAL_PUBLISH"===n.type&&e.dragging(),"DROP_ANIMATE"===n.type&&e.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||e.resting(),t(n)}}}),function(t){return function(){return function(e){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||t.stopPublishing(),e(n)}}}}(n),function(t){return function(e){var n=e.getState,i=e.dispatch;return function(e){return function(r){if("LIFT"===r.type){var o=r.payload,a=o.id,s=o.clientSelection,l=o.movementMode,u=n();"DROP_ANIMATING"===u.phase&&i(In({completed:u.completed})),"IDLE"!==n().phase&&Pt(!1),i({type:"FLUSH",payload:null}),i({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var h={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},c=t.startPublishing(h),d=c.critical,f=c.dimensions,p=c.viewport;i({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:f,clientSelection:s,movementMode:l,viewport:p}})}else e(r)}}}}(n),Gn,Qn,ti,ei,function(t){return function(e){return function(n){return function(i){if(function(t){return"DROP_COMPLETE"===t.type||"DROP_ANIMATE"===t.type||"FLUSH"===t.type}(i))return t.stop(),void n(i);if("INITIAL_PUBLISH"===i.type){n(i);var r=e.getState();return"DRAGGING"!==r.phase&&Pt(!1),void t.start(r)}n(i),t.scroll(e.getState())}}}}(s),Kn,function(t){var e=!1;return function(){return function(n){return function(i){if("INITIAL_PUBLISH"===i.type)return e=!0,t.tryRecordFocus(i.payload.critical.draggable.id),n(i),void t.tryRestoreFocusRecorded();if(n(i),e){if("FLUSH"===i.type)return e=!1,void t.tryRestoreFocusRecorded();if("DROP_COMPLETE"===i.type){e=!1;var r=i.payload.completed.result;r.combine&&t.tryShiftRecord(r.draggableId,r.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}}(i),Jn(o,a))))};var ri=function(t){var e=t.scrollHeight,n=t.scrollWidth,i=t.height,r=t.width,o=Vt({x:n,y:e},{x:r,y:i});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},oi=function(){var t=document.documentElement;return t||Pt(!1),t},ai=function(){var t=oi();return ri({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},si=function(t){var e=t.critical,n=t.scrollOptions,i=t.registry;dn();var r,o,a,s,l,u,h,c=(r=Zn(),o=ai(),a=r.y,s=r.x,l=oi(),u=l.clientWidth,h=l.clientHeight,{frame:dt({top:a,left:s,right:s+u,bottom:a+h}),scroll:{initial:r,current:r,max:o,diff:{value:Wt,displacement:Wt}}}),d=c.scroll.current,f=e.droppable,p=i.droppable.getAllByType(f.type).map((function(t){return t.callbacks.getDimensionAndWatchScroll(d,n)})),g=i.draggable.getAllByType(e.draggable.type).map((function(t){return t.getDimension(d)})),m={draggables:ae(g),droppables:oe(p)};return fn(),{dimensions:m,critical:e,viewport:c}};function li(t,e,n){return n.descriptor.id!==e.id&&(n.descriptor.type===e.type&&"virtual"===t.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var ui,hi,ci=function(t,e){var n=null,i=function(t){var e=t.registry,n=t.callbacks,i={additions:{},removals:{},modified:{}},r=null,o=function(){r||(n.collectionStarting(),r=requestAnimationFrame((function(){r=null,dn();var t=i,o=t.additions,a=t.removals,s=t.modified,l=Object.keys(o).map((function(t){return e.draggable.getById(t).getDimension(Wt)})).sort((function(t,e){return t.descriptor.index-e.descriptor.index})),u=Object.keys(s).map((function(t){return{droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}})),h={additions:l,removals:Object.keys(a),modified:u};i={additions:{},removals:{},modified:{}},fn(),n.publish(h)})))};return{add:function(t){var e=t.descriptor.id;i.additions[e]=t,i.modified[t.descriptor.droppableId]=!0,i.removals[e]&&delete i.removals[e],o()},remove:function(t){var e=t.descriptor;i.removals[e.id]=!0,i.modified[e.droppableId]=!0,i.additions[e.id]&&delete i.additions[e.id],o()},stop:function(){r&&(cancelAnimationFrame(r),r=null,i={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),r=function(e){n||Pt(!1);var r=n.critical.draggable;"ADDITION"===e.type&&li(t,r,e.value)&&i.add(e.value),"REMOVAL"===e.type&&li(t,r,e.value)&&i.remove(e.value)},o={updateDroppableIsEnabled:function(i,r){t.droppable.exists(i)||Pt(!1),n&&e.updateDroppableIsEnabled({id:i,isEnabled:r})},updateDroppableIsCombineEnabled:function(i,r){n&&(t.droppable.exists(i)||Pt(!1),e.updateDroppableIsCombineEnabled({id:i,isCombineEnabled:r}))},scrollDroppable:function(e,i){n&&t.droppable.getById(e).callbacks.scroll(i)},updateDroppableScroll:function(i,r){n&&(t.droppable.exists(i)||Pt(!1),e.updateDroppableScroll({id:i,newScroll:r}))},startPublishing:function(e){n&&Pt(!1);var i=t.draggable.getById(e.draggableId),o=t.droppable.getById(i.descriptor.droppableId),a={draggable:i.descriptor,droppable:o.descriptor},s=t.subscribe(r);return n={critical:a,unsubscribe:s},si({critical:a,registry:t,scrollOptions:e.scrollOptions})},stopPublishing:function(){if(n){i.stop();var e=n.critical.droppable;t.droppable.getAllByType(e.type).forEach((function(t){return t.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},di=function(t,e){return"IDLE"===t.phase||"DROP_ANIMATING"===t.phase&&(t.completed.result.draggableId!==e&&"DROP"===t.completed.result.reason)},fi=function(t){window.scrollBy(t.x,t.y)},pi=St((function(t){return se(t).filter((function(t){return!!t.isEnabled&&!!t.frame}))})),gi=function(t){var e=t.center,n=t.destination,i=t.droppables;if(n){var r=i[n];return r.frame?r:null}var o=function(t,e){var n=ie(pi(e),(function(e){return e.frame||Pt(!1),Qe(e.frame.pageMarginBox)(t)}));return n}(e,i);return o},mi=.25,vi=.05,yi=28,bi=function(t){return Math.pow(t,2)},wi={stopDampeningAt:1200,accelerateAt:360},xi=function(t){var e=t.startOfRange,n=t.endOfRange,i=t.current,r=n-e;return 0===r?0:(i-e)/r},_i=wi.accelerateAt,Ci=wi.stopDampeningAt,Si=function(t){var e=t.distanceToEdge,n=t.thresholds,i=t.dragStartTime,r=t.shouldUseTimeDampening,o=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return yi;if(t===e.startScrollingFrom)return 1;var n=xi({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),i=yi*bi(1-n);return Math.ceil(i)}(e,n);return 0===o?0:r?Math.max(function(t,e){var n=e,i=Ci,r=Date.now()-n;if(r>=Ci)return t;if(r<_i)return 1;var o=xi({startOfRange:_i,endOfRange:i,current:r}),a=t*bi(o);return Math.ceil(a)}(o,i),1):o},Mi=function(t){var e=t.container,n=t.distanceToEdges,i=t.dragStartTime,r=t.axis,o=t.shouldUseTimeDampening,a=function(t,e){return{startScrollingFrom:t[e.size]*mi,maxScrollValueAt:t[e.size]*vi}}(e,r);return n[r.end]<n[r.start]?Si({distanceToEdge:n[r.end],thresholds:a,dragStartTime:i,shouldUseTimeDampening:o}):-1*Si({distanceToEdge:n[r.start],thresholds:a,dragStartTime:i,shouldUseTimeDampening:o})},Ai=Xt((function(t){return 0===t?0:t})),Ti=function(t){var e=t.dragStartTime,n=t.container,i=t.subject,r=t.center,o=t.shouldUseTimeDampening,a={top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y,left:r.x-n.left},s=Mi({container:n,distanceToEdges:a,dragStartTime:e,axis:we,shouldUseTimeDampening:o}),l=Mi({container:n,distanceToEdges:a,dragStartTime:e,axis:xe,shouldUseTimeDampening:o}),u=Ai({x:l,y:s});if(Gt(u,Wt))return null;var h=function(t){var e=t.container,n=t.subject,i=t.proposedScroll,r=n.height>e.height,o=n.width>e.width;return o||r?o&&r?null:{x:o?0:i.x,y:r?0:i.y}:i}({container:n,subject:i,proposedScroll:u});return h?Gt(h,Wt)?null:h:null},ki=Xt((function(t){return 0===t?0:t>0?1:-1})),Ri=(ui=function(t,e){return t<0?t:t>e?t-e:0},function(t){var e=t.current,n=t.max,i=t.change,r=jt(e,i),o={x:ui(r.x,n.x),y:ui(r.y,n.y)};return Gt(o,Wt)?null:o}),Ii=function(t){var e=t.max,n=t.current,i=t.change,r={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=ki(i),a=Ri({max:r,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},Pi=function(t,e){return Ii({current:t.scroll.current,max:t.scroll.max,change:e})},Ei=function(t,e){var n=t.frame;return!!n&&Ii({current:n.scroll.current,max:n.scroll.max,change:e})},Bi=function(t){var e=t.state,n=t.dragStartTime,i=t.shouldUseTimeDampening,r=t.scrollWindow,o=t.scrollDroppable,a=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){var l=function(t){var e=t.viewport,n=t.subject,i=t.center,r=t.dragStartTime,o=t.shouldUseTimeDampening,a=Ti({dragStartTime:r,container:e.frame,subject:n,center:i,shouldUseTimeDampening:o});return a&&Pi(e,a)?a:null}({dragStartTime:n,viewport:e.viewport,subject:s,center:a,shouldUseTimeDampening:i});if(l)return void r(l)}var u=gi({center:a,destination:Ye(e.impact),droppables:e.dimensions.droppables});if(u){var h=function(t){var e=t.droppable,n=t.subject,i=t.center,r=t.dragStartTime,o=t.shouldUseTimeDampening,a=e.frame;if(!a)return null;var s=Ti({dragStartTime:r,container:a.pageMarginBox,subject:n,center:i,shouldUseTimeDampening:o});return s&&Ei(e,s)?s:null}({dragStartTime:n,droppable:u,subject:s,center:a,shouldUseTimeDampening:i});h&&o(u.descriptor.id,h)}},Li=function(t){var e=t.move,n=t.scrollDroppable,i=t.scrollWindow,r=function(t,e){if(!Ei(t,e))return e;var i=function(t,e){var n=t.frame;return n&&Ei(t,e)?Ri({current:n.scroll.current,max:n.scroll.max,change:e}):null}(t,e);if(!i)return n(t.descriptor.id,e),null;var r=Vt(e,i);return n(t.descriptor.id,r),Vt(e,r)},o=function(t,e,n){if(!t)return n;if(!Pi(e,n))return n;var r=function(t,e){if(!Pi(t,e))return null;var n=t.scroll.max,i=t.scroll.current;return Ri({current:i,max:n,change:e})}(e,n);if(!r)return i(n),null;var o=Vt(n,r);return i(o),Vt(n,o)};return function(t){var n=t.scrollJumpRequest;if(n){var i=Ye(t.impact);i||Pt(!1);var a=r(t.dimensions.droppables[i],n);if(a){var s=t.viewport,l=o(t.isWindowScrollAllowed,s,a);l&&function(t,n){var i=jt(t.current.client.selection,n);e({client:i})}(t,l)}}}},Di=function(t){var e=t.scrollDroppable,n=t.scrollWindow,i=t.move,r=function(t){var e=t.scrollWindow,n=t.scrollDroppable,i=Mt(e),r=Mt(n),o=null,a=function(t){o||Pt(!1);var e=o,n=e.shouldUseTimeDampening,a=e.dragStartTime;Bi({state:t,scrollWindow:i,scrollDroppable:r,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(t){dn(),o&&Pt(!1);var e=Date.now(),n=!1,i=function(){n=!0};Bi({state:t,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:i,scrollDroppable:i}),o={dragStartTime:e,shouldUseTimeDampening:n},fn(),n&&a(t)},stop:function(){o&&(i.cancel(),r.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:e}),o=Li({move:i,scrollWindow:n,scrollDroppable:e});return{scroll:function(t){"DRAGGING"===t.phase&&("FLUID"!==t.movementMode?t.scrollJumpRequest&&o(t):r.scroll(t))},start:r.start,stop:r.stop}},Oi="data-rbd",Fi={base:hi=Oi+"-drag-handle",draggableId:hi+"-draggable-id",contextId:hi+"-context-id"},Hi=function(){var t=Oi+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Ni=function(){var t=Oi+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),zi={contextId:Oi+"-scroll-container-context-id"},Wi=function(t,e){return t.map((function(t){var n=t.styles[e];return n?t.selector+" { "+n+" }":""})).join(" ")},ji="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,Vi=function(){var t=document.querySelector("head");return t||Pt(!1),t},Gi=function(t){var e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function Zi(t,e){var n=ut((function(){return function(t){var e,n,i,r=(e=t,function(t){return"["+t+'="'+e+'"]'}),o=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:r(Fi.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(i="\n      transition: "+Fn.outOfTheWay+";\n    ",{selector:r(Hi.contextId),styles:{dragging:i,dropAnimating:i,userCancel:i}}),o,{selector:r(Ni.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Wi(a,"always"),resting:Wi(a,"resting"),dragging:Wi(a,"dragging"),dropAnimating:Wi(a,"dropAnimating"),userCancel:Wi(a,"userCancel")}}(t)}),[t]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=ht(St((function(t){var e=o.current;e||Pt(!1),e.textContent=t})),[]),s=ht((function(t){var e=r.current;e||Pt(!1),e.textContent=t}),[]);ji((function(){(r.current||o.current)&&Pt(!1);var i=Gi(e),l=Gi(e);return r.current=i,o.current=l,i.setAttribute(Oi+"-always",t),l.setAttribute(Oi+"-dynamic",t),Vi().appendChild(i),Vi().appendChild(l),s(n.always),a(n.resting),function(){var t=function(t){var e=t.current;e||Pt(!1),Vi().removeChild(e),t.current=null};t(r),t(o)}}),[e,s,a,n.always,n.resting,t]);var l=ht((function(){return a(n.dragging)}),[a,n.dragging]),u=ht((function(t){a("DROP"!==t?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),h=ht((function(){o.current&&a(n.resting)}),[a,n.resting]);return ut((function(){return{dragging:l,dropping:u,resting:h}}),[l,u,h])}var Ui=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Ki(t){return t instanceof Ui(t).HTMLElement}function $i(t,e){var n="["+Fi.contextId+'="'+t+'"]',i=re(document.querySelectorAll(n));if(!i.length)return null;var r=ie(i,(function(t){return t.getAttribute(Fi.draggableId)===e}));return r&&Ki(r)?r:null}function Xi(){var t={draggables:{},droppables:{}},e=[];function n(t){e.length&&e.forEach((function(e){return e(t)}))}function i(e){return t.draggables[e]||null}function r(e){return t.droppables[e]||null}return{draggable:{register:function(e){t.draggables[e.descriptor.id]=e,n({type:"ADDITION",value:e})},update:function(e,n){var i=t.draggables[n.descriptor.id];i&&i.uniqueId===e.uniqueId&&(delete t.draggables[n.descriptor.id],t.draggables[e.descriptor.id]=e)},unregister:function(e){var r=e.descriptor.id,o=i(r);o&&e.uniqueId===o.uniqueId&&(delete t.draggables[r],n({type:"REMOVAL",value:e}))},getById:function(t){var e=i(t);return e||Pt(!1),e},findById:i,exists:function(t){return Boolean(i(t))},getAllByType:function(e){return ee(t.draggables).filter((function(t){return t.descriptor.type===e}))}},droppable:{register:function(e){t.droppables[e.descriptor.id]=e},unregister:function(e){var n=r(e.descriptor.id);n&&e.uniqueId===n.uniqueId&&delete t.droppables[e.descriptor.id]},getById:function(t){var e=r(t);return e||Pt(!1),e},findById:r,exists:function(t){return Boolean(r(t))},getAllByType:function(e){return ee(t.droppables).filter((function(t){return t.descriptor.type===e}))}},subscribe:function(t){return e.push(t),function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},clean:function(){t.draggables={},t.droppables={},e.length=0}}}var Yi=i.createContext(null),qi=function(){var t=document.body;return t||Pt(!1),t},Ji={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Qi=0,tr={separator:"::"};function er(t,e){return void 0===e&&(e=tr),ut((function(){return""+t+e.separator+Qi++}),[e.separator,t])}var nr=i.createContext(null);function ir(t){0}function rr(t,e){ir()}function or(){rr()}function ar(t){var e=(0,i.useRef)(t);return(0,i.useEffect)((function(){e.current=t})),e}var sr,lr=((sr={})[13]=!0,sr[9]=!0,sr),ur=function(t){lr[t.keyCode]&&t.preventDefault()},hr=function(){var t="visibilitychange";return"undefined"==typeof document?t:ie([t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],(function(t){return"on"+t in document}))||t}();var cr,dr={type:"IDLE"};function fr(t){var e=t.cancel,n=t.completed,i=t.getPhase,r=t.setPhase;return[{eventName:"mousemove",fn:function(t){var e=t.button,n=t.clientX,o=t.clientY;if(0===e){var a={x:n,y:o},s=i();if("DRAGGING"===s.type)return t.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&Pt(!1);var l=s.point;if(u=l,h=a,Math.abs(h.x-u.x)>=5||Math.abs(h.y-u.y)>=5){var u,h;t.preventDefault();var c=s.actions.fluidLift(a);r({type:"DRAGGING",actions:c})}}}},{eventName:"mouseup",fn:function(t){var r=i();"DRAGGING"===r.type?(t.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),n()):e()}},{eventName:"mousedown",fn:function(t){"DRAGGING"===i().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:function(t){if("PENDING"!==i().type)return 27===t.keyCode?(t.preventDefault(),void e()):void ur(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===i().type&&e()}},{eventName:"webkitmouseforcedown",fn:function(t){var n=i();"IDLE"===n.type&&Pt(!1),n.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:hr,fn:e}]}function pr(t){var e=(0,i.useRef)(dr),n=(0,i.useRef)(Tt),r=ut((function(){return{eventName:"mousedown",fn:function(e){if(!e.defaultPrevented&&0===e.button&&!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var i=t.findClosestDraggableId(e);if(i){var r=t.tryGetLock(i,s,{sourceEvent:e});if(r){e.preventDefault();var o={x:e.clientX,y:e.clientY};n.current(),h(r,o)}}}}}}),[t]),o=ut((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(e){if(!e.defaultPrevented){var n=t.findClosestDraggableId(e);if(n){var i=t.findOptionsForDraggable(n);i&&(i.shouldRespectForcePress||t.canGetLock(n)&&e.preventDefault())}}}}}),[t]),a=ht((function(){n.current=kt(window,[o,r],{passive:!1,capture:!0})}),[o,r]),s=ht((function(){"IDLE"!==e.current.type&&(e.current=dr,n.current(),a())}),[a]),l=ht((function(){var t=e.current;s(),"DRAGGING"===t.type&&t.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===t.type&&t.actions.abort()}),[s]),u=ht((function(){var t=fr({cancel:l,completed:s,getPhase:function(){return e.current},setPhase:function(t){e.current=t}});n.current=kt(window,t,{capture:!0,passive:!1})}),[l,s]),h=ht((function(t,n){"IDLE"!==e.current.type&&Pt(!1),e.current={type:"PENDING",point:n,actions:t},u()}),[u]);ji((function(){return a(),function(){n.current()}}),[a])}function gr(){}var mr=((cr={})[34]=!0,cr[33]=!0,cr[36]=!0,cr[35]=!0,cr);function vr(t,e){function n(){e(),t.cancel()}return[{eventName:"keydown",fn:function(i){return 27===i.keyCode?(i.preventDefault(),void n()):32===i.keyCode?(i.preventDefault(),e(),void t.drop()):40===i.keyCode?(i.preventDefault(),void t.moveDown()):38===i.keyCode?(i.preventDefault(),void t.moveUp()):39===i.keyCode?(i.preventDefault(),void t.moveRight()):37===i.keyCode?(i.preventDefault(),void t.moveLeft()):void(mr[i.keyCode]?i.preventDefault():ur(i))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:hr,fn:n}]}function yr(t){var e=(0,i.useRef)(gr),n=ut((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var i=t.findClosestDraggableId(n);if(i){var o=t.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();e.current(),e.current=kt(window,vr(s,l),{capture:!0,passive:!1})}}}function l(){a||Pt(!1),a=!1,e.current(),r()}}}}),[t]),r=ht((function(){e.current=kt(window,[n],{passive:!1,capture:!0})}),[n]);ji((function(){return r(),function(){e.current()}}),[r])}var br={type:"IDLE"};function wr(t){var e=(0,i.useRef)(br),n=(0,i.useRef)(Tt),r=ht((function(){return e.current}),[]),o=ht((function(t){e.current=t}),[]),a=ut((function(){return{eventName:"touchstart",fn:function(e){if(!e.defaultPrevented){var i=t.findClosestDraggableId(e);if(i){var r=t.tryGetLock(i,l,{sourceEvent:e});if(r){var o=e.touches[0],a={x:o.clientX,y:o.clientY};n.current(),d(r,a)}}}}}}),[t]),s=ht((function(){n.current=kt(window,[a],{capture:!0,passive:!1})}),[a]),l=ht((function(){var t=e.current;"IDLE"!==t.type&&("PENDING"===t.type&&clearTimeout(t.longPressTimerId),o(br),n.current(),s())}),[s,o]),u=ht((function(){var t=e.current;l(),"DRAGGING"===t.type&&t.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===t.type&&t.actions.abort()}),[l]),h=ht((function(){var t={capture:!0,passive:!1},e={cancel:u,completed:l,getPhase:r},i=kt(window,function(t){var e=t.cancel,n=t.completed,i=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(t){var n=i();if("DRAGGING"===n.type){n.hasMoved=!0;var r=t.touches[0],o={x:r.clientX,y:r.clientY};t.preventDefault(),n.actions.move(o)}else e()}},{eventName:"touchend",fn:function(t){var r=i();"DRAGGING"===r.type?(t.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),n()):e()}},{eventName:"touchcancel",fn:function(t){"DRAGGING"===i().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:function(t){var n=i();"IDLE"===n.type&&Pt(!1);var r=t.touches[0];if(r&&r.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void t.preventDefault():void e():void t.preventDefault();o&&e()}}},{eventName:hr,fn:e}]}(e),t),o=kt(window,function(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(t){t.preventDefault()}},{eventName:"keydown",fn:function(t){"DRAGGING"===n().type?(27===t.keyCode&&t.preventDefault(),e()):e()}},{eventName:hr,fn:e}]}(e),t);n.current=function(){i(),o()}}),[u,r,l]),c=ht((function(){var t=r();"PENDING"!==t.type&&Pt(!1);var e=t.actions.fluidLift(t.point);o({type:"DRAGGING",actions:e,hasMoved:!1})}),[r,o]),d=ht((function(t,e){"IDLE"!==r().type&&Pt(!1);var n=setTimeout(c,120);o({type:"PENDING",point:e,actions:t,longPressTimerId:n}),h()}),[h,r,o,c]);ji((function(){return s(),function(){n.current();var t=r();"PENDING"===t.type&&(clearTimeout(t.longPressTimerId),o(br))}}),[r,s,o]),ji((function(){return kt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var xr={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function _r(t,e){if(null==e)return!1;if(Boolean(xr[e.tagName.toLowerCase()]))return!0;var n=e.getAttribute("contenteditable");return"true"===n||""===n||e!==t&&_r(t,e.parentElement)}function Cr(t,e){var n=e.target;return!!Ki(n)&&_r(t,n)}var Sr=function(t){return dt(t.getBoundingClientRect()).center};var Mr=function(){var t="matches";return"undefined"==typeof document?t:ie([t,"msMatchesSelector","webkitMatchesSelector"],(function(t){return t in Element.prototype}))||t}();function Ar(t,e){return null==t?null:t[Mr](e)?t:Ar(t.parentElement,e)}function Tr(t,e){return t.closest?t.closest(e):Ar(t,e)}function kr(t,e){var n,i=e.target;if(!((n=i)instanceof Ui(n).Element))return null;var r=function(t){return"["+Fi.contextId+'="'+t+'"]'}(t),o=Tr(i,r);return o&&Ki(o)?o:null}function Rr(t){t.preventDefault()}function Ir(t){var e=t.expected,n=t.phase,i=t.isLockActive;t.shouldWarn;return!!i()&&e===n}function Pr(t){var e=t.lockAPI,n=t.store,i=t.registry,r=t.draggableId;if(e.isClaimed())return!1;var o=i.draggable.findById(r);return!!o&&(!!o.options.isEnabled&&!!di(n.getState(),r))}function Er(t){var e=t.lockAPI,n=t.contextId,i=t.store,r=t.registry,o=t.draggableId,s=t.forceSensorStop,l=t.sourceEvent;if(!Pr({lockAPI:e,store:i,registry:r,draggableId:o}))return null;var u=r.draggable.getById(o),h=function(t,e){var n="["+Hi.contextId+'="'+t+'"]',i=ie(re(document.querySelectorAll(n)),(function(t){return t.getAttribute(Hi.id)===e}));return i&&Ki(i)?i:null}(n,u.descriptor.id);if(!h)return null;if(l&&!u.options.canDragInteractiveElements&&Cr(h,l))return null;var c=e.claim(s||Tt),d="PRE_DRAG";function f(){return u.options.shouldRespectForcePress}function p(){return e.isActive(c)}var g=function(t,e){Ir({expected:t,phase:d,isLockActive:p,shouldWarn:!0})&&i.dispatch(e())}.bind(null,"DRAGGING");function m(t){function n(){e.release(),d="COMPLETED"}function r(e,r){if(void 0===r&&(r={shouldBlockNextClick:!1}),t.cleanup(),r.shouldBlockNextClick){var o=kt(window,[{eventName:"click",fn:Rr,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),i.dispatch(Pn({reason:e}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Pt(!1)),i.dispatch(function(t){return{type:"LIFT",payload:t}}(t.liftActionArgs)),d="DRAGGING",(0,a.Z)({isActive:function(){return Ir({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(t){return r("DROP",t)},cancel:function(t){return r("CANCEL",t)}},t.actions)}return{isActive:function(){return Ir({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(t){var e=Mt((function(t){g((function(){return Mn({client:t})}))})),n=m({liftActionArgs:{id:o,clientSelection:t,movementMode:"FLUID"},cleanup:function(){return e.cancel()},actions:{move:e}});return(0,a.Z)({},n,{move:e})},snapLift:function(){var t={moveUp:function(){return g(An)},moveRight:function(){return g(kn)},moveDown:function(){return g(Tn)},moveLeft:function(){return g(Rn)}};return m({liftActionArgs:{id:o,clientSelection:Sr(h),movementMode:"SNAP"},cleanup:Tt,actions:t})},abort:function(){Ir({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}}}var Br=[pr,yr,wr];function Lr(t){var e=t.contextId,n=t.store,r=t.registry,o=t.customSensors,a=t.enableDefaultSensors,s=[].concat(a?Br:[],o||[]),l=(0,i.useState)((function(){return function(){var t=null;function e(){t||Pt(!1),t=null}return{isClaimed:function(){return Boolean(t)},isActive:function(e){return e===t},claim:function(e){t&&Pt(!1);var n={abandon:e};return t=n,n},release:e,tryAbandon:function(){t&&(t.abandon(),e())}}}()}))[0],u=ht((function(t,e){t.isDragging&&!e.isDragging&&l.tryAbandon()}),[l]);ji((function(){var t=n.getState();return n.subscribe((function(){var e=n.getState();u(t,e),t=e}))}),[l,n,u]),ji((function(){return l.tryAbandon}),[l.tryAbandon]);var h=ht((function(t){return Pr({lockAPI:l,registry:r,store:n,draggableId:t})}),[l,r,n]),c=ht((function(t,i,o){return Er({lockAPI:l,registry:r,contextId:e,store:n,draggableId:t,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[e,l,r,n]),d=ht((function(t){return function(t,e){var n=kr(t,e);return n?n.getAttribute(Fi.draggableId):null}(e,t)}),[e]),f=ht((function(t){var e=r.draggable.findById(t);return e?e.options:null}),[r.draggable]),p=ht((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=ht(l.isClaimed,[l]),m=ut((function(){return{canGetLock:h,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:g}}),[h,c,d,f,p,g]);ir();for(var v=0;v<s.length;v++)s[v](m)}function Dr(t){return t.current||Pt(!1),t.current}function Or(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,o=t.nonce,s=t.dragHandleUsageInstructions,l=(0,i.useRef)(null);or();var u=ar(t),h=ht((function(){return function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}}(u.current)}),[u]),c=function(t){var e=ut((function(){return function(t){return"rbd-announcement-"+t}(t)}),[t]),n=(0,i.useRef)(null);return(0,i.useEffect)((function(){var t=document.createElement("div");return n.current=t,t.id=e,t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true"),(0,a.Z)(t.style,Ji),qi().appendChild(t),function(){setTimeout((function(){var e=qi();e.contains(t)&&e.removeChild(t),t===n.current&&(n.current=null)}))}}),[e]),ht((function(t){var e=n.current;e&&(e.textContent=t)}),[])}(e),d=function(t){var e=t.contextId,n=t.text,r=er("hidden-text",{separator:"-"}),o=ut((function(){return"rbd-hidden-text-"+(t={contextId:e,uniqueId:r}).contextId+"-"+t.uniqueId;var t}),[r,e]);return(0,i.useEffect)((function(){var t=document.createElement("div");return t.id=o,t.textContent=n,t.style.display="none",qi().appendChild(t),function(){var e=qi();e.contains(t)&&e.removeChild(t)}}),[o,n]),o}({contextId:e,text:s}),f=Zi(e,o),p=ht((function(t){Dr(l).dispatch(t)}),[]),g=ut((function(){return b({publishWhileDragging:wn,updateDroppableScroll:_n,updateDroppableIsEnabled:Cn,updateDroppableIsCombineEnabled:Sn,collectionStarting:xn},p)}),[p]),m=function(){var t=ut(Xi,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(t.clean)}}),[t]),t}(),v=ut((function(){return ci(m,g)}),[m,g]),y=ut((function(){return Di((0,a.Z)({scrollWindow:fi,scrollDroppable:v.scrollDroppable},b({move:Mn},p)))}),[v.scrollDroppable,p]),w=function(t){var e=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=ht((function(t,n){var i={id:t,focus:n};return e.current[t]=i,function(){var n=e.current;n[t]!==i&&delete n[t]}}),[]),s=ht((function(e){var n=$i(t,e);n&&n!==document.activeElement&&n.focus()}),[t]),l=ht((function(t,e){n.current===t&&(n.current=e)}),[]),u=ht((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var t=n.current;t&&s(t)})))}),[s]),h=ht((function(t){n.current=null;var e=document.activeElement;e&&e.getAttribute(Fi.draggableId)===t&&(n.current=t)}),[]);return ji((function(){return o.current=!0,function(){o.current=!1;var t=r.current;t&&cancelAnimationFrame(t)}}),[]),ut((function(){return{register:a,tryRecordFocus:h,tryRestoreFocusRecorded:u,tryShiftRecord:l}}),[a,h,u,l])}(e),x=ut((function(){return ii({announce:c,autoScroller:y,dimensionMarshal:v,focusMarshal:w,getResponders:h,styleMarshal:f})}),[c,y,v,w,h,f]);l.current=x;var _=ht((function(){var t=Dr(l);"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null})}),[]),C=ht((function(){var t=Dr(l).getState();return t.isDragging||"DROP_ANIMATING"===t.phase}),[]);n(ut((function(){return{isDragging:C,tryAbort:_}}),[C,_]));var S=ht((function(t){return di(Dr(l).getState(),t)}),[]),M=ht((function(){return Je(Dr(l).getState())}),[]),A=ut((function(){return{marshal:v,focus:w,contextId:e,canLift:S,isMovementAllowed:M,dragHandleUsageInstructionsId:d,registry:m}}),[e,v,d,w,S,M,m]);return Lr({contextId:e,store:x,registry:m,customSensors:r,enableDefaultSensors:!1!==t.enableDefaultSensors}),(0,i.useEffect)((function(){return _}),[_]),i.createElement(nr.Provider,{value:A},i.createElement(T,{context:Yi,store:x},t.children))}var Fr=0;function Hr(){Fr=0,Qi=0}function Nr(t){var e=ut((function(){return""+Fr++}),[]),n=t.dragHandleUsageInstructions||Ft;return i.createElement(Et,null,(function(r){return i.createElement(Or,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)}))}var zr=function(t){return function(e){return t===e}},Wr=zr("scroll"),jr=zr("auto"),Vr=(zr("visible"),function(t,e){return e(t.overflowX)||e(t.overflowY)}),Gr=function(t){var e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return Vr(n,Wr)||Vr(n,jr)},Zr=function t(e){return null==e||e===document.body||e===document.documentElement?null:Gr(e)?e:t(e.parentElement)},Ur=function(t){return{x:t.scrollLeft,y:t.scrollTop}},Kr=function t(e){return!!e&&("fixed"===window.getComputedStyle(e).position||t(e.parentElement))},$r=function(t){return{closestScrollable:Zr(t),isFixedOnPage:Kr(t)}},Xr=function(t){var e=t.ref,n=t.descriptor,i=t.env,r=t.windowScroll,o=t.direction,a=t.isDropDisabled,s=t.isCombineEnabled,l=t.shouldClipSubject,u=i.closestScrollable,h=function(t,e){var n=xt(t);if(!e)return n;if(t!==e)return n;var i=n.paddingBox.top-e.scrollTop,r=n.paddingBox.left-e.scrollLeft,o=i+e.scrollHeight,a=r+e.scrollWidth,s=ft({top:i,right:a,bottom:o,left:r},n.border);return mt({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(e,u),c=bt(h,r),d=function(){if(!u)return null;var t=xt(u),e={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:t,page:bt(t,r),scroll:Ur(u),scrollSize:e,shouldClipSubject:l}}(),f=function(t){var e=t.descriptor,n=t.isEnabled,i=t.isCombineEnabled,r=t.isFixedOnPage,o=t.direction,a=t.client,s=t.page,l=t.closest,u=function(){if(!l)return null;var t=l.scrollSize,e=l.client,n=ri({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,height:e.paddingBox.height,width:e.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:e,scrollSize:t,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Wt,displacement:Wt}}}}(),h="vertical"===o?we:xe;return{descriptor:e,isCombineEnabled:i,isFixedOnPage:r,axis:h,isEnabled:n,client:a,page:s,frame:u,subject:Qt({page:s,withPlaceholder:null,axis:h,frame:u})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:i.isFixedOnPage,direction:o,client:h,page:c,closest:d});return f},Yr={passive:!1},qr={passive:!0},Jr=function(t){return t.shouldPublishImmediately?Yr:qr};function Qr(t){var e=(0,i.useContext)(t);return e||Pt(!1),e}var to=function(t){return t&&t.env.closestScrollable||null};function eo(){}var no={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},io=function(t){var e=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate,r=function(t){var e=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate;return e||"close"===i?no:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:e,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==i?Fn.placeholder:null}};var ro=i.memo((function(t){var e=(0,i.useRef)(null),n=ht((function(){e.current&&(clearTimeout(e.current),e.current=null)}),[]),r=t.animate,o=t.onTransitionEnd,a=t.onClose,s=t.contextId,l=(0,i.useState)("open"===t.animate),u=l[0],h=l[1];(0,i.useEffect)((function(){return u?"open"!==r?(n(),h(!1),eo):e.current?eo:(e.current=setTimeout((function(){e.current=null,h(!1)})),n):eo}),[r,u,n]);var c=ht((function(t){"height"===t.propertyName&&(o(),"close"===r&&a())}),[r,a,o]),d=io({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return i.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})})),oo=i.createContext(null);var ao=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).state={isVisible:Boolean(e.props.on),data:e.props.on,animate:e.props.shouldAnimate&&e.props.on?"open":"none"},e.onClose=function(){"close"===e.state.animate&&e.setState({isVisible:!1})},e}return o(e,t),e.getDerivedStateFromProps=function(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(t.on),data:t.on,animate:"none"}},e.prototype.render=function(){if(!this.state.isVisible)return null;var t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)},e}(i.PureComponent),so=5e3,lo=4500,uo=function(t,e){return e?Fn.drop(e.duration):t?Fn.snap:Fn.fluid},ho=function(t,e){return t?e?Ln.drop:Ln.combining:null};function co(t){return"DRAGGING"===t.type?function(t){var e=t.dimension.client,n=t.offset,i=t.combineWith,r=t.dropping,o=Boolean(i),a=function(t){return null!=t.forceShouldAnimate?t.forceShouldAnimate:"SNAP"===t.mode}(t),s=Boolean(r),l=s?zn(n,o):Nn(n);return{position:"fixed",top:e.marginBox.top,left:e.marginBox.left,boxSizing:"border-box",width:e.borderBox.width,height:e.borderBox.height,transition:uo(a,r),transform:l,opacity:ho(o,s),zIndex:s?lo:so,pointerEvents:"none"}}(t):{transform:Nn((e=t).offset),transition:e.shouldAnimateDisplacement?null:"none"};var e}function fo(t){var e=er("draggable"),n=t.descriptor,r=t.registry,o=t.getDraggableRef,a=t.canDragInteractiveElements,s=t.shouldRespectForcePress,l=t.isEnabled,u=ut((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),h=ht((function(t){var e=o();return e||Pt(!1),function(t,e,n){void 0===n&&(n=Wt);var i=window.getComputedStyle(e),r=e.getBoundingClientRect(),o=wt(r,i),a=bt(o,n);return{descriptor:t,placeholder:{client:o,tagName:e.tagName.toLowerCase(),display:i.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,e,t)}),[n,o]),c=ut((function(){return{uniqueId:e,descriptor:n,options:u,getDimension:h}}),[n,h,u,e]),d=(0,i.useRef)(c),f=(0,i.useRef)(!0);ji((function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}}),[r.draggable]),ji((function(){if(f.current)f.current=!1;else{var t=d.current;d.current=c,r.draggable.update(c,t)}}),[c,r.draggable])}function po(t,e,n){rr()}function go(t){t.preventDefault()}var mo=function(t,e){return t===e},vo=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null};function yo(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var bo={mapped:{type:"SECONDARY",offset:Wt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:yo(null)}};var wo=ot((function(){var t,e,n,i=(t=St((function(t,e){return{x:t,y:e}})),e=St((function(t,e,n,i,r){return{isDragging:!0,isClone:e,isDropAnimating:Boolean(r),dropAnimation:r,mode:t,draggingOver:n,combineWith:i,combineTargetFor:null}})),n=St((function(t,n,i,r,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:t,dimension:i,forceShouldAnimate:s,snapshot:e(n,r,o,a,null)}}})),function(i,r){if(i.isDragging){if(i.critical.draggable.id!==r.draggableId)return null;var o=i.current.client.offset,a=i.dimensions.draggables[r.draggableId],s=Ye(i.impact),l=(h=i.impact).at&&"COMBINE"===h.at.type?h.at.combine.draggableId:null,u=i.forceShouldAnimate;return n(t(o.x,o.y),i.movementMode,a,r.isClone,s,l,u)}var h;if("DROP_ANIMATING"===i.phase){var c=i.completed;if(c.result.draggableId!==r.draggableId)return null;var d=r.isClone,f=i.dimensions.draggables[r.draggableId],p=c.result,g=p.mode,m=vo(p),v=function(t){return t.combine?t.combine.draggableId:null}(p),y={duration:i.dropDuration,curve:Bn,moveTo:i.newHomeClientOffset,opacity:v?Ln.drop:null,scale:v?Dn.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:f,dropping:y,draggingOver:m,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:e(g,d,m,v,y)}}}return null}),r=function(){var t=St((function(t,e){return{x:t,y:e}})),e=St(yo),n=St((function(t,n,i){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:t,combineTargetFor:n,shouldAnimateDisplacement:i,snapshot:e(n)}}})),i=function(t){return t?n(Wt,t,!0):null},r=function(e,r,o,a){var s=o.displaced.visible[e],l=Boolean(a.inVirtualList&&a.effected[e]),u=ce(o),h=u&&u.draggableId===e?r:null;if(!s){if(!l)return i(h);if(o.displaced.invisible[e])return null;var c=Zt(a.displacedBy.point),d=t(c.x,c.y);return n(d,h,!0)}if(l)return i(h);var f=o.displacedBy.point,p=t(f.x,f.y);return n(p,h,s.shouldAnimate)};return function(t,e){if(t.isDragging)return t.critical.draggable.id===e.draggableId?null:r(e.draggableId,t.critical.draggable.id,t.impact,t.afterCritical);if("DROP_ANIMATING"===t.phase){var n=t.completed;return n.result.draggableId===e.draggableId?null:r(e.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(t,e){return i(t,e)||r(t,e)||bo}}),{dropAnimationFinished:En},null,{context:Yi,pure:!0,areStatePropsEqual:mo})((function(t){var e=(0,i.useRef)(null),n=ht((function(t){e.current=t}),[]),r=ht((function(){return e.current}),[]),o=Qr(nr),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,u=Qr(oo),h=u.type,c=u.droppableId,d=ut((function(){return{id:t.draggableId,index:t.index,type:h,droppableId:c}}),[t.draggableId,t.index,h,c]),f=t.children,p=t.draggableId,g=t.isEnabled,m=t.shouldRespectForcePress,v=t.canDragInteractiveElements,y=t.isClone,b=t.mapped,w=t.dropAnimationFinished;po(),ir(),y||fo(ut((function(){return{descriptor:d,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:g}}),[d,l,r,v,m,g]));var x=ut((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:go}:null}),[a,s,p,g]),_=ht((function(t){"DRAGGING"===b.type&&b.dropping&&"transform"===t.propertyName&&w()}),[w,b]),C=ut((function(){var t=co(b),e="DRAGGING"===b.type&&b.dropping?_:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:t,onTransitionEnd:e},dragHandleProps:x}}),[a,x,p,b,_,n]),S=ut((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return f(C,b.snapshot,S)}));function xo(t){return Qr(oo).isUsingCloneFor!==t.draggableId||t.isClone?i.createElement(wo,t):null}function _o(t){var e="boolean"!=typeof t.isDragDisabled||!t.isDragDisabled,n=Boolean(t.disableInteractiveElementBlocking),r=Boolean(t.shouldRespectForcePress);return i.createElement(xo,(0,a.Z)({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var Co=function(t,e){return t===e.droppable.type},So=function(t,e){return e.draggables[t.draggable.id]};var Mo={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Pt(!1),document.body}},Ao=ot((function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e=(0,a.Z)({},t,{shouldAnimatePlaceholder:!1}),n=St((function(t){return{draggableId:t.id,type:t.type,source:{index:t.index,droppableId:t.droppableId}}})),i=St((function(i,r,o,a,s,l){var u=s.descriptor.id;if(s.descriptor.droppableId===i){var h=l?{render:l,dragging:n(s.descriptor)}:null,c={isDraggingOver:o,draggingOverWith:o?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:c,useClone:h}}if(!r)return e;if(!a)return t;var d={isDraggingOver:o,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(n,r){var o=r.droppableId,a=r.type,s=!r.isDropDisabled,l=r.renderClone;if(n.isDragging){var u=n.critical;if(!Co(a,u))return e;var h=So(u,n.dimensions),c=Ye(n.impact)===o;return i(o,s,c,c,h,l)}if("DROP_ANIMATING"===n.phase){var d=n.completed;if(!Co(a,d.critical))return e;var f=So(d.critical,n.dimensions);return i(o,s,vo(d.result)===o,Ye(d.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!Co(a,p.critical))return e;var g=Ye(p.impact)===o,m=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return g?m?t:e:v?t:e}return e}}),{updateViewportMaxScroll:function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}}},null,{context:Yi,pure:!0,areStatePropsEqual:mo})((function(t){var e=(0,i.useContext)(nr);e||Pt(!1);var n=e.contextId,r=e.isMovementAllowed,o=(0,i.useRef)(null),a=(0,i.useRef)(null),s=t.children,l=t.droppableId,u=t.type,h=t.mode,c=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,p=t.isCombineEnabled,g=t.snapshot,m=t.useClone,v=t.updateViewportMaxScroll,y=t.getContainerForClone,b=ht((function(){return o.current}),[]),w=ht((function(t){o.current=t}),[]),x=(ht((function(){return a.current}),[]),ht((function(t){a.current=t}),[]));rr();var _=ht((function(){r()&&v({maxScroll:ai()})}),[r,v]);!function(t){var e=(0,i.useRef)(null),n=Qr(nr),r=er("droppable"),o=n.registry,a=n.marshal,s=ar(t),l=ut((function(){return{id:t.droppableId,type:t.type,mode:t.mode}}),[t.droppableId,t.mode,t.type]),u=(0,i.useRef)(l),h=ut((function(){return St((function(t,n){e.current||Pt(!1);var i={x:t,y:n};a.updateDroppableScroll(l.id,i)}))}),[l.id,a]),c=ht((function(){var t=e.current;return t&&t.env.closestScrollable?Ur(t.env.closestScrollable):Wt}),[]),d=ht((function(){var t=c();h(t.x,t.y)}),[c,h]),f=ut((function(){return Mt(d)}),[d]),p=ht((function(){var t=e.current,n=to(t);t&&n||Pt(!1),t.scrollOptions.shouldPublishImmediately?d():f()}),[f,d]),g=ht((function(t,i){e.current&&Pt(!1);var r=s.current,o=r.getDroppableRef();o||Pt(!1);var a=$r(o),u={ref:o,descriptor:l,env:a,scrollOptions:i};e.current=u;var h=Xr({ref:o,descriptor:l,env:a,windowScroll:t,direction:r.direction,isDropDisabled:r.isDropDisabled,isCombineEnabled:r.isCombineEnabled,shouldClipSubject:!r.ignoreContainerClipping}),c=a.closestScrollable;return c&&(c.setAttribute(zi.contextId,n.contextId),c.addEventListener("scroll",p,Jr(u.scrollOptions))),h}),[n.contextId,l,p,s]),m=ht((function(){var t=e.current,n=to(t);return t&&n||Pt(!1),Ur(n)}),[]),v=ht((function(){var t=e.current;t||Pt(!1);var n=to(t);e.current=null,n&&(f.cancel(),n.removeAttribute(zi.contextId),n.removeEventListener("scroll",p,Jr(t.scrollOptions)))}),[p,f]),y=ht((function(t){var n=e.current;n||Pt(!1);var i=to(n);i||Pt(!1),i.scrollTop+=t.y,i.scrollLeft+=t.x}),[]),b=ut((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:v,scroll:y}}),[v,g,m,y]),w=ut((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);ji((function(){return u.current=w.descriptor,o.droppable.register(w),function(){e.current&&v(),o.droppable.unregister(w)}}),[b,l,v,w,a,o.droppable]),ji((function(){e.current&&a.updateDroppableIsEnabled(u.current.id,!t.isDropDisabled)}),[t.isDropDisabled,a]),ji((function(){e.current&&a.updateDroppableIsCombineEnabled(u.current.id,t.isCombineEnabled)}),[t.isCombineEnabled,a])}({droppableId:l,type:u,mode:h,direction:c,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:b});var C=i.createElement(ao,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},(function(t){var e=t.onClose,r=t.data,o=t.animate;return i.createElement(ro,{placeholder:r,onClose:e,innerRef:x,animate:o,contextId:n,onTransitionEnd:_})})),S=ut((function(){return{innerRef:w,placeholder:C,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,C,w]),M=m?m.dragging.draggableId:null,A=ut((function(){return{droppableId:l,type:u,isUsingCloneFor:M}}),[l,M,u]);return i.createElement(oo.Provider,{value:A},s(S,g),function(){if(!m)return null;var t=m.dragging,e=m.render,n=i.createElement(xo,{draggableId:t.draggableId,index:t.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,i){return e(n,i,t)}));return st.createPortal(n,y())}())}));Ao.defaultProps=Mo},52693:function(t,e){"use strict";var n=60103,i=60106,r=60107,o=60108,a=60114,s=60109,l=60110,u=60112,h=60113,c=60120,d=60115,f=60116,p=60121,g=60122,m=60117,v=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),i=b("react.portal"),r=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),h=b("react.suspense"),c=b("react.suspense_list"),d=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case r:case a:case o:case h:case c:return t;default:switch(t=t&&t.$$typeof){case l:case u:case f:case d:case s:return t;default:return e}}case i:return e}}}e.isContextConsumer=function(t){return w(t)===l}},17659:function(t,e,n){"use strict";t.exports=n(52693)},67946:function(t,e,n){t.exports=n(44314)},44314:function(t,e,n){"use strict";t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e){t.exports=n(54942)},function(t,e){t.exports=n(50959)},function(t,e){t.exports=n(10422)},function(t,e,n){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i,r,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(l).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=s.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),u=null,h=0,c=[],d=n(7);function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(b(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function g(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(t.insertAt.before,n);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=n.nc;i&&(t.attrs.nonce=i)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=h++;n=u||(u=v(e)),i=_.bind(null,n,a,!1),r=_.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),i=S.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),i=C.bind(null,n),r=function(){m(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}for(t&&f(p(t,e),e),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var w,x=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function _(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function C(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function S(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e,n){var i=n(6);"string"==typeof i&&(i=[[t.i,i,""]]);n(4)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},function(t,e,n){(e=n(3)(!1)).push([t.i,".scale-view-container {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 100vw;\n  height: 100vh;\n}\n\n.scale-view-container__content {\n  position: relative;\n  overflow: hidden;\n  background-size: 100%;\n  transform-origin: 0 0;\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.5);\n  transition: all 0.3s linear;\n}\n",""]),t.exports=e},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,e,n){var i=n(9);"string"==typeof i&&(i=[[t.i,i,""]]);n(4)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},function(t,e,n){(e=n(3)(!1)).push([t.i,".scale-view-item__container {\n  position: absolute;\n}\n\n.scale-view-item__content {\n  position: relative;\n  height: 100%;\n}\n",""]),t.exports=e},function(t,e,n){n.r(e),n.d(e,"ScaleViewContainer",(function(){return I})),n.d(e,"ScaleViewItem",(function(){return ot})),n.d(e,"ScaleViewContext",(function(){return s})),n.d(e,"useSize",(function(){return z})),n.d(e,"withSize",(function(){return W}));var i=n(1),r=n.n(i),o=n(0),a=n.n(o),s=r.a.createContext({size:{}});function l(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){l(o,i,r,a,s,"next",t)}function s(t){l(o,i,r,a,s,"throw",t)}a(void 0)}))}}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const f=t=>t?"number"==typeof t?t+"px":(t.endsWith("%")||t.endsWith("px"),t):0;function p(t,e){let n=t.transformOrigin;if(n)return{transformOrigin:n};if(e&&e.from)switch(e.from){case"top":return{transformOrigin:"0 0"};case"bottom":return{transformOrigin:"0 100%"};case"left":return{transformOrigin:"0 50%"};case"right":return{transformOrigin:"100% 50%"};default:return{transformOrigin:"50% 50%"}}return{transformOrigin:"0% 0%"}}const g=t=>{if(!t)return{};const e=function(t){const e=/scale\((.*)\)/.exec(t);return e?e[1].split(",").map(parseFloat):[1,1]}(t.style.transform),n=t.style.transformOrigin.split(" ");return{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight,scaleX:e[0],scaleY:e[1],parent:t.offsetParent,transformOrigin:n,node:t}},m=function(){var t=u(regeneratorRuntime.mark((function t(e,n){var i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=function(){var t=u(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((t=>{let n=null;const i=(e,r=0)=>{setTimeout((()=>{n=document.getElementById(e),n?t(n):3===r?t(null):i(e,r+1)}),0)};i(e,0)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e!==n){t.next=4;break}return console.error("relationId"),t.abrupt("return",{});case 4:return t.next=6,i(e);case 6:if(r=t.sent){t.next=10;break}return console.error(""),t.abrupt("return",{});case 10:return t.abrupt("return",g(r));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=t=>{const e=t.transformOrigin,n=t.height;return e[1].endsWith("%")?parseFloat(e[1])/100:parseFloat(e[1])/n},y=t=>{const e=t.transformOrigin,n=t.width;return e[0].endsWith("%")?parseFloat(e[0])/100:parseFloat(e[0])/n},b=function(){var t=u(regeneratorRuntime.mark((function t(e){var n,i,r,o,a,s,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.relations,i=void 0===n?{}:n,r=e.id,o=e.scales,a=e.transformOrigin,s=e.size,l=e.el,0!==[...new Set(Object.values(i))].length){t.next=4;break}return t.abrupt("return",{});case 4:return h=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((t=>{const e={},n=Object.entries(i);0===n.length&&t(e);let h=null,c=null,d=null,f=null;n.forEach(function(){var i=u(regeneratorRuntime.mark((function i(u,p){var g,b,w,x,_,C;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,m(u[1],r);case 2:g=i.sent,b=v(g),w=y(g),x=0,_=0,i.t0=u[0],i.next="layoutBelow"===i.t0?10:"layoutAbove"===i.t0?13:"toLeftOf"===i.t0?16:"toRightOf"===i.t0?19:"alignLeft"===i.t0?22:"alignRight"===i.t0?25:"alignTop"===i.t0?28:"alignBottom"===i.t0?31:34;break;case 10:return x=g.height*(1-g.scaleY)*(1-b),d=g.top+g.height-x,i.abrupt("break",35);case 13:return x=g.height*(1-g.scaleY)*b,f=g.parent.offsetHeight-g.top-x,i.abrupt("break",35);case 16:return _=g.width*(1-g.scaleX)*w,c=g.parent.offsetWidth-g.left-_,i.abrupt("break",35);case 19:return _=g.width*(1-g.scaleX)*(1-w),h=g.left+g.width-_,i.abrupt("break",35);case 22:return _=g.width*(1-g.scaleX)*w,h=g.left+_,i.abrupt("break",35);case 25:return _=g.width*(1-g.scaleX)*w,c=g.parent.offsetWidth-g.left-g.width*g.scaleX-_,i.abrupt("break",35);case 28:return x=g.height*(1-g.scaleY)*b,d=g.top+x,i.abrupt("break",35);case 31:return x=g.height*(1-g.scaleY)*b,f=g.parent.offsetHeight-g.top-g.height*g.scaleY-x,i.abrupt("break",35);case 34:return i.abrupt("break",35);case 35:n.length===p+1&&(C=()=>(l.current.style.transformOrigin||a.transformOrigin).split(" "),(()=>{const t=C();let n=0,i=0;const r=s.width,a=s.height,u=o[0],p=o[1],g=l.current.style,m=g.width,v=g.height,y=parseInt(m)||r-h-c,b=parseInt(v)||a-d-f;n=t[0].endsWith("%")?parseFloat(t[0])/100:parseFloat(t[0])/y,i=t[1].endsWith("%")?parseFloat(t[1])/100:parseFloat(t[1])/b,null!=h&&(h-=y*(1-u)*n,e.left=h),null!=c&&(c-=y*(1-u)*(1-n),e.right=c),null!=d&&(d-=b*(1-p)*i,e.top=d),null!=f&&(f-=b*(1-p)*(1-i),e.bottom=f)})(),t(e));case 36:case"end":return i.stop()}}),i)})));return function(t,e){return i.apply(this,arguments)}}())})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",h());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=t=>{const e=t.relateStyle,n=t.el,i=t.transition,r=t.scales,o=t.afterStyle;let a=c(c({},o),e);const s=n.current||{},l=a.transform;return c(c({},a),{},{transform:"scale(".concat(r[0],", ").concat(r[1],") ").concat(l||"")},p(c(c({},s.style),o),i))},x=t=>{const e=t.mode,n=t.size,i=t.transition,r=t.style;let o=[],a=r,s={};switch(e){case"fixed":s=(t=>{const e=t.size,n=t.style,i=e.scaleX,r=e.scaleY;return{scale:[1/i,1/r],style:{width:"calc(".concat(f(n.width)," * ").concat(i,")"),height:"calc(".concat(f(n.height)," * ").concat(r,")")}}})({size:n,style:r}),o=s.scale,a=c(c({},a),s.style);break;case"scaleXFix":o=(t=>{const e=t.size,n=e.scaleX;return[e.scaleY/n,1]})({size:n});break;case"scaleYFix":o=(t=>{const e=t.size;return[1,e.scaleX/e.scaleY]})({size:n});break;case"adaptWidth":s=(t=>{const e=t.size,n=t.style,i=e.scaleX/e.scaleY;return i>=1?{scale:[1/i,1],style:{width:"calc(".concat(f(n.width)," * ").concat(i,")")}}:{scale:[1,i]}})({size:n,style:r}),o=s.scale,a=c(c({},a),s.style);break;case"adaptHeight":s=(t=>{const e=t.size,n=t.style,i=e.scaleX/e.scaleY;return i>=1?{scale:[1/i,1]}:{scale:[1,i],style:{width:"calc(".concat(f(n.height)," * ").concat(i,")")}}})({size:n,style:r}),o=s.scale,a=c(c({},a),s.style);break;default:o=[1,1]}return{scales:o,transformOrigin:p(r,i),afterStyle:a}};function _(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){_(o,i,r,a,s,"next",t)}function s(t){_(o,i,r,a,s,"throw",t)}a(void 0)}))}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(5);const k=t=>{const e=t.config,n=t.el,r=t.container,o=t.content,a=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(i.useState)({width:parseInt(e.width),height:parseInt(e.height),scaleX:1,scaleY:1}),2),s=a[0],l=a[1],u=Object(i.useRef)(0),h=Object(i.useRef)(null);return Object(i.useEffect)((()=>(u.current=1,()=>{u.current=0})),[]),Object(i.useEffect)((()=>{const t=function(){var t=C(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((t=>{const e=()=>{clearTimeout(h.current),n.current?t(n.current):h.current=setTimeout((()=>{e()}),0)};e()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var n=C(regeneratorRuntime.mark((function n(){var i,a,u,h,c,d,f,p,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:i=n.sent,a=i.clientWidth,u=i.clientHeight,h=s.width,c=s.height,d=s.scaleX,f=s.scaleY,p="hidden",g="hidden",n.t0=e.scaleType,n.next="ADAPT_WIDTH"===n.t0?11:"ADAPT_HEIGHT"===n.t0?16:21;break;case 11:return d=a/h,f=a/h,p="auto",g="hidden",n.abrupt("break",24);case 16:return d=u/c,f=u/c,p="auto",g="hidden",n.abrupt("break",24);case 21:return d=a/h,f=u/c,n.abrupt("break",24);case 24:o.setContentConfig({transform:"scale(".concat(d,", ").concat(f,")")}),r.setContainerConfig({overflowX:p,overflowY:g}),l({scaleX:d,scaleY:f,width:h,height:c});case 27:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(t,e){let n=null;return function(...e){clearTimeout(n),n=setTimeout((()=>{t.call(this,...e)}),200)}}(i);return 1===u.current&&window.addEventListener("resize",a),u.current++,i(),()=>{0===u.current&&window.removeEventListener("resize",a),clearTimeout(h.current)}}),[e]),s},R=t=>{const e=t.config,n=t.children,o=t.className,a=t.style,l=t.contentId,u=t.contentClass,h=t.contentStyle,c=Object(i.useRef)(null),d=(t=>{const e=t.config,n=t.el,r=(()=>{const t={overflowX:"hidden",overflowY:"hidden"},e=Object(i.useRef)(t);return{containerConfig:e.current,setContainerConfig:n=>{e.current=A(A({},t),n)}}})(),o=(t=>{const e=t.config,n={width:e.width,height:e.height,transform:"scale(1,1)"},r=Object(i.useRef)(n);return{contentConfig:r.current,setContentConfig:t=>{r.current=A(A({},n),t)}}})({config:e});return{size:k({config:e,container:r,content:o,el:n}),containerConfig:r.containerConfig,contentConfig:o.contentConfig}})({config:e,el:c}),f=d.containerConfig,p=d.contentConfig,g=d.size;return r.a.createElement(s.Provider,{value:{size:g}},r.a.createElement("div",{ref:c,className:["scale-view-container",o].filter(Boolean).join(" "),style:A(A({},f),a)},r.a.createElement("div",{id:l,className:["scale-view-container__content",u].filter(Boolean).join(" "),style:A(A({},p),h)},n)))};R.propTypes={children:a.a.element.isRequired,config:a.a.shape({width:a.a.number.isRequired,height:a.a.number.isRequired,scaleType:a.a.string.isRequired}).isRequired,className:a.a.any,style:a.a.object,contentId:a.a.oneOfType([a.a.string,a.a.number]),contentClass:a.a.any,contentStyle:a.a.object},R.defaultProps={config:{width:1920,height:1080,scaleType:"FULL_SCREEN"}};var I=R,P=n(2),E=n.n(P);function B(){return(B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}const N=t=>{const e=F(Object(i.useReducer)((function(t,e){return D(D({},t),{},e?{show:!0}:{show:!1})}),t),2),n=e[0],r=e[1],o=F(Object(i.useState)((()=>function(t){const e=t.anim,n=void 0===e?"opacity":e,i=t.from,r=(t.delay,t.timeout),o=void 0===r?0:r;let a={};switch(n){case"slide":a=function(t,e,n){let i={},r="";switch(t){case"left":r={transform:"translateX(-100%)",opacity:0},i={entering:{transform:"translateX(0)",opacity:1},entered:{transform:"translateX(0)",opacity:1},exiting:{transform:"translateX(-100%)",opacity:0},exited:{transform:"translateX(-100%)",opacity:0}};break;case"right":r={transform:"translateX(100%)",opacity:0},i={entering:{transform:"translateX(0)",opacity:1},entered:{transform:"translateX(0)",opacity:1},exiting:{transform:"translateX(100%)",opacity:0},exited:{transform:"translateX(100%)",opacity:0}};break;case"top":r={transform:"translateY(-100%)",opacity:0},i={entering:{transform:"translateY(0)",opacity:1},entered:{transform:"translateY(0)",opacity:1},exiting:{transform:"translateY(-100%)",opacity:0},exited:{transform:"translateY(-100%)",opacity:0}};break;case"bottom":r={transform:"translateY(100%)",opacity:0},i={entering:{transform:"translateY(0)",opacity:1},entered:{transform:"translateY(0)",opacity:1},exiting:{transform:"translateY(100%)",opacity:0},exited:{transform:"translateY(100%)",opacity:0}}}return{defaultTransitionStyle:c({transition:"all ".concat(n,"ms ease-in")},r),transitionStyle:i}}(i,0,o);break;case"opacity":a=function(t,e){return{defaultTransitionStyle:c({transition:"opacity ".concat(e,"ms ease-in-out")},{opacity:0}),transitionStyle:{entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}}}}(0,o)}const s=a;return{defaultContentStyle:s.defaultTransitionStyle,transitionContentStyle:s.transitionStyle}}(t))),1)[0],a=Object(i.useRef)(null);return Object(i.useEffect)((()=>()=>{clearTimeout(a.current)}),[]),{transitionProps:n,transitionStyle:o,onEnter:()=>{const t=n.delay;a.current=setTimeout((()=>{r(!0)}),t)}}},z=()=>Object(i.useContext)(s).size,W=t=>e=>{const n=z();return r.a.createElement(t,B({},e,{size:n}))};function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}const U=t=>{const e=Object(i.useRef)(null),n=Object(i.useRef)(null),o=G(Object(i.useState)((()=>t.in?t.appear?(e.current="entering","exited"):"entered":t.unmountOnExit||t.mountOnEnter?"unmounted":"exited")),2),a=o[0],s=o[1];Object(i.useEffect)((()=>(u(!0,e.current),()=>{d()})),[]),Object(i.useEffect)((()=>{let e=null;t.in?"entering"!==a&&"entered"!==a&&(e="entering"):"entering"!==a&&"entered"!==a||(e="exited"),u(!1,e)}),[t]);const l=()=>{const e=t.timeout;let n,i,r;return n=i=r=e,null!=e&&"number"!=typeof e&&(n=e.exit,i=e.enter,r=void 0!==e.appear?e.appear:i),{exit:n,enter:i,appear:r}},u=(e=!1,n)=>{null!==n?(d(),"entering"===n?h(e):c()):t.unmountOnExit&&"exited"===a&&s("unmounted")},h=e=>{const n=t.enter,i=e,r=G(t.nodeRef?[i]:[E.a.findDOMNode(void 0),i],2),o=r[0],a=r[1],s=l(),u=i?s.appear:s.enter;e||n?(t.onEnter(o,a),f("entering",(()=>{t.onEntering(o,a),g(u,(()=>{f("entered",(()=>{t.onEntered(o,a)}))}))}))):f("entered",(()=>{t.onEntered(o)}))},c=()=>{const e=t.exit,n=l(),i=t.nodeRef?void 0:E.a.findDOMNode(void 0);e?(t.onExit(i),f("exiting",(()=>{t.onExiting(i),g(n.exit,(()=>{f("exited",(()=>{t.onExited(i)}))}))}))):f("exited",(()=>{t.onExited(i)}))},d=()=>{null!==n.current&&(n.current.cancel(),n.current=null)},f=(t,e)=>{e=p(e),s(t),e&&e()},p=t=>{let e=!0;return n.current=i=>{e&&(e=!1,n.current=null,t(i))},n.current.cancel=()=>{e=!1},n.current},g=(e,i)=>{p(i);const r=t.nodeRef?t.nodeRef.current:E.a.findDOMNode(void 0),o=null==e&&!t.addEndListener;if(r&&!o){if(t.addEndListener){const e=G(t.nodeRef?[n.current]:[r,n.current],2),i=e[0],o=e[1];t.addEndListener(i,o)}null!=e&&setTimeout(n.current,e)}else setTimeout(n.current,0)},m=t.children,v=(t.in,function(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,["children","in"]));return"unmounted"===a?null:r.a.createElement(r.a.Fragment,null,"function"==typeof m?m(a,v):r.a.cloneElement(r.a.Children.only(m),v))};U.UNMOUNTED="unmounted",U.EXITED="exited",U.ENTERING="entering",U.ENTERED="entered",U.EXITING="exiting";var K=t=>{const e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({in:void 0!==t.in&&t.in,mountOnEnter:void 0!==t.mountOnEnter&&t.mountOnEnter,unmountOnExit:void 0!==t.unmountOnExit&&t.unmountOnExit,appear:void 0!==t.appear&&t.appear,enter:void 0===t.enter||t.enter,exit:void 0===t.exit||t.exit,onEnter:t.onEnter||(()=>{}),onEntering:t.onEntering||(()=>{}),onEntered:t.onEntered||(()=>{}),onExit:t.onExit||(()=>{}),onExiting:t.onExiting||(()=>{}),onExited:t.onExited||(()=>{})},t);return r.a.createElement(U,e)};const $=a.a.shape({anim:a.a.string.isRequired,from:a.a.string,timeout:a.a.number,delay:a.a.number}),X=a.a.shape({layoutBelow:a.a.string,layoutAbove:a.a.string,toLeftOf:a.a.string,toRightOf:a.a.string,alignTop:a.a.string,alignBottom:a.a.string,alignLeft:a.a.string,alignRight:a.a.string});function Y(){return(Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function q(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n(8);const nt=t=>{const e=t.children,n=t.contentClass,i=t.contentStyle,o=t.defaultContentStyle,a=t.transitionContentStyle,s=t.transitionProps;return r.a.createElement(K,{in:s.show,timeout:s.timeout},(t=>r.a.createElement("div",{style:Q(Q(Q({},o),a[t]),i),className:["scale-view-item__content",n].filter(Boolean).join(" ")},e)))},it=t=>{const e=t.config,n=void 0===e?{}:e,o=t.className,a=t.contentClass,s=t.size,l=t.children,u=Q(Q({},t.style),n.style),h=Q(Q({},t.contentStyle),n.contentStyle),c=t.mode||n.mode||"",d=t.id||n.id,f=t.relations||n.relations||{},p=t.getContainer||n.getContainer,g=Object(i.useRef)(null),m=t.transition||n.transition||{};var v;v=g,Object(i.useEffect)((()=>{!function t(e){e!==document.body&&("data-view-item"!==e.dataset.symbol?t(e.parentNode):console.error("ScaleViewItemScaleViewItem"))}(v.current.parentNode)}),[v]);const y=(t=>{const e=t.size,n=t.el,r=t.mode,o=t.transition,a=t.style,s=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(i.useState)({}),2),l=s[0],u=s[1],h=N(Q({anim:"opacity",delay:0,timeout:0,show:!1},o));return Object(i.useMemo)(function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){q(o,i,r,a,s,"next",t)}function s(t){q(o,i,r,a,s,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function i(){var s,l,c,d,f,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=x({mode:r,style:a,transition:o,size:e}),l=s.scales,c=s.transformOrigin,d=s.afterStyle,i.next=3,b(Q({scales:l,transformOrigin:c},t));case 3:f=i.sent,p=w({el:n,afterStyle:d,relateStyle:f,scales:l,transition:o}),u(p),h.onEnter();case 7:case"end":return i.stop()}}),i)}))),[e]),Q({containerStyle:l,transitionProps:h.transitionProps},h.transitionStyle)})({size:s,el:g,mode:c,relations:f,transition:m,style:u}),_=y.containerStyle,C=y.defaultContentStyle,S=y.transitionContentStyle,M=y.transitionProps,A=()=>r.a.createElement("div",{id:d,"data-symbol":"data-view-item",style:Q({},_),ref:g,className:["scale-view-item__container",o].filter(Boolean).join(" ")},r.a.createElement(nt,{contentClass:a,contentStyle:h,defaultContentStyle:C,transitionContentStyle:S,transitionProps:M},l));return p?E.a.createPortal(A(),"function"==typeof p?p():p):A()},rt=t=>r.a.createElement(s.Consumer,null,(({size:e})=>r.a.createElement(it,Y({},t,{size:e}))));rt.propTypes={id:a.a.oneOfType([a.a.number,a.a.string]),mode:a.a.string,transition:$,relations:X,getContainer:a.a.oneOfType([a.a.func,a.a.object]),style:a.a.object,contentStyle:a.a.object,className:a.a.any,contentClass:a.a.any,config:a.a.shape({id:a.a.oneOfType([a.a.number,a.a.string]),mode:a.a.string,transition:$,relations:X,getContainer:a.a.oneOfType([a.a.func,a.a.object]),style:a.a.object,contentStyle:a.a.object})},rt.defaultProps={};var ot=rt;e.default={ScaleViewContainer:I,ScaleViewItem:ot,ScaleViewContext:s,useSize:z,withSize:W}}])},70868:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeSensorId=e.SensorTabIndex=e.SensorClassName=void 0;e.SizeSensorId="size-sensor-id";e.SensorClassName="size-sensor-object";e.SensorTabIndex="-1"},94948:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var i=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(i,o)}),e)}}},43719:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=1;e.default=function(){return"".concat(n++)}},7864:function(t,e,n){"use strict";e.ZH=e.ak=void 0;var i=n(55550);e.ak=function(t,e){var n=(0,i.getSensor)(t);return n.bind(e),function(){n.unbind(e)}};e.ZH=function(t){var e=(0,i.getSensor)(t);(0,i.removeSensor)(e)}},55550:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeSensor=e.getSensor=e.Sensors=void 0;var i,r=(i=n(43719))&&i.__esModule?i:{default:i},o=n(70137),a=n(70868);var s={};function l(t){t&&s[t]&&delete s[t]}e.Sensors=s;e.getSensor=function(t){var e=t.getAttribute(a.SizeSensorId);if(e&&s[e])return s[e];var n=(0,r.default)();t.setAttribute(a.SizeSensorId,n);var i=(0,o.createSensor)(t,(function(){return l(n)}));return s[n]=i,i};e.removeSensor=function(t){var e=t.element.getAttribute(a.SizeSensorId);t.destroy(),l(e)}},70137:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var i=n(70324),r=n(18047),o="undefined"!=typeof ResizeObserver?r.createSensor:i.createSensor;e.createSensor=o},70324:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var i,r=(i=n(94948))&&i.__esModule?i:{default:i},o=n(70868);e.createSensor=function(t,e){var n=void 0,i=[],a=(0,r.default)((function(){i.forEach((function(e){e(t)}))})),s=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",a),n.parentNode.removeChild(n),t.removeAttribute(o.SizeSensorId),n=void 0,i=[],e&&e())};return{element:t,bind:function(e){n||(n=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",a),a()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",o.SensorClassName),e.setAttribute("tabindex",o.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===i.indexOf(e)&&i.push(e)},destroy:s,unbind:function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1),0===i.length&&n&&s()}}}},18047:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var i,r=n(70868),o=(i=n(94948))&&i.__esModule?i:{default:i};e.createSensor=function(t,e){var n=void 0,i=[],a=(0,o.default)((function(){i.forEach((function(e){e(t)}))})),s=function(){n.disconnect(),i=[],n=void 0,t.removeAttribute(r.SizeSensorId),e&&e()};return{element:t,bind:function(e){var r;n||((r=new ResizeObserver(a)).observe(t),a(),n=r),-1===i.indexOf(e)&&i.push(e)},destroy:s,unbind:function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1),0===i.length&&n&&s()}}}},17254:function(t,e,n){"use strict";n.d(e,{ZT:function(){return r},pi:function(){return o}});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};Object.create;Object.create},47386:function(t,e,n){var i=n(47709);function r(t){var e,n;function r(e,n){try{var a=t[e](n),s=a.value,l=s instanceof i;Promise.resolve(l?s.v:s).then((function(n){if(l){var i="return"===e?"return":"next";if(!s.k||n.done)return r(i,n);n=t[i](n).value}o(a.done?"return":"normal",n)}),(function(t){r("throw",t)}))}catch(t){o("throw",t)}}function o(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,i){return new Promise((function(o,a){var s={key:t,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(e=n=s,r(t,i))}))},"function"!=typeof t.return&&(this.return=void 0)}r.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},r.prototype.next=function(t){return this._invoke("next",t)},r.prototype.throw=function(t){return this._invoke("throw",t)},r.prototype.return=function(t){return this._invoke("return",t)},t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},47709:function(t){t.exports=function(t,e){this.v=t,this.k=e},t.exports.__esModule=!0,t.exports.default=t.exports},68057:function(t,e,n){var i=n(82596);t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},53990:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},41418:function(t){function e(t){function n(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return e=function(t){this.s=t,this.n=t.next},e.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(t){var e=this.s.return;return void 0===e?Promise.resolve({value:t,done:!0}):n(e.apply(this.s,arguments))},throw:function(t){var e=this.s.return;return void 0===e?Promise.reject(t):n(e.apply(this.s,arguments))}},new e(t)}t.exports=function(t){var n,i,r,o=2;for("undefined"!=typeof Symbol&&(i=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(i&&null!=(n=t[i]))return n.call(t);if(r&&null!=(n=t[r]))return new e(n.call(t));i="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},70626:function(t,e,n){var i=n(47709);t.exports=function(t){return new i(t,0)},t.exports.__esModule=!0,t.exports.default=t.exports},5599:function(t,e,n){var i=n(30443);t.exports=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}},t.exports.__esModule=!0,t.exports.default=t.exports},6810:function(t,e,n){var i=n(86289),r=n(67955),o=n(67289);t.exports=function(t){var e=r();return function(){var n,r=i(t);if(e){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}},t.exports.__esModule=!0,t.exports.default=t.exports},94710:function(t,e,n){var i=n(10059);function r(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=r=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=r=function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},t.exports.__esModule=!0,t.exports.default=t.exports),r.apply(this,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},86289:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},95178:function(t,e,n){var i=n(69966);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},67955:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},71219:function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},3237:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},42525:function(t,e,n){var i=n(32435);t.exports=function(t,e){if(null==t)return{};var n,r,o=i(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.__esModule=!0,t.exports.default=t.exports},32435:function(t){t.exports=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r},t.exports.__esModule=!0,t.exports.default=t.exports},67289:function(t,e,n){var i=n(8345).default,r=n(53990);t.exports=function(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},69966:function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},10059:function(t,e,n){var i=n(86289);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},63027:function(t){t.exports=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},t.exports.__esModule=!0,t.exports.default=t.exports},2927:function(t,e,n){var i=n(68057),r=n(71219),o=n(30443),a=n(3237);t.exports=function(t){return i(t)||r(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},48482:function(t,e,n){var i=n(47386);t.exports=function(t){return function(){return new i(t.apply(this,arguments))}},t.exports.__esModule=!0,t.exports.default=t.exports},55660:function(t,e,n){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}n.d(e,{Z:function(){return i}})},52960:function(t,e,n){"use strict";n.r(e),n.d(e,{Axis:function(){return H_},ChartView:function(){return Xm},ComponentModel:function(){return Nc},ComponentView:function(){return Np},List:function(){return Fw},Model:function(){return Ah},PRIORITY:function(){return Vy},SeriesModel:function(){return Fp},color:function(){return a},connect:function(){return Db},dataTool:function(){return ow},dependencies:function(){return zy},disConnect:function(){return Fb},disconnect:function(){return Ob},dispose:function(){return Hb},env:function(){return y},extendChartView:function(){return j_},extendComponentModel:function(){return N_},extendComponentView:function(){return z_},extendSeriesModel:function(){return W_},format:function(){return f},getCoordinateSystemDimensions:function(){return Xb},getInstanceByDom:function(){return Nb},getInstanceById:function(){return zb},getMap:function(){return iw},graphic:function(){return d},helper:function(){return u},init:function(){return Lb},innerDrawElementOnCanvas:function(){return Ty},matrix:function(){return o},number:function(){return h},parseGeoJSON:function(){return S_},parseGeoJson:function(){return S_},registerAction:function(){return Kb},registerCoordinateSystem:function(){return $b},registerLayout:function(){return Yb},registerLoading:function(){return tw},registerLocale:function(){return Oh},registerMap:function(){return nw},registerPostInit:function(){return Gb},registerPostUpdate:function(){return Zb},registerPreprocessor:function(){return jb},registerProcessor:function(){return Vb},registerTheme:function(){return Wb},registerTransform:function(){return rw},registerUpdateLifecycle:function(){return Ub},registerVisual:function(){return qb},setCanvasCreator:function(){return ew},setPlatformAPI:function(){return M},throttle:function(){return Qm},time:function(){return c},use:function(){return lw},util:function(){return p},vector:function(){return r},version:function(){return Ny},zrUtil:function(){return i},zrender:function(){return s}});var i={};n.r(i),n.d(i,{HashMap:function(){return Rt},RADIAN_TO_DEGREE:function(){return Ot},assert:function(){return _t},bind:function(){return nt},clone:function(){return z},concatArray:function(){return Pt},createCanvas:function(){return Z},createHashMap:function(){return It},createObject:function(){return Et},curry:function(){return it},defaults:function(){return G},disableUserSelect:function(){return Bt},each:function(){return Y},eqNaN:function(){return mt},extend:function(){return V},filter:function(){return Q},find:function(){return tt},guid:function(){return H},hasOwn:function(){return Lt},indexOf:function(){return U},inherits:function(){return K},isArray:function(){return rt},isArrayLike:function(){return X},isBuiltInObject:function(){return ht},isDom:function(){return dt},isFunction:function(){return ot},isGradientObject:function(){return ft},isImagePatternObject:function(){return pt},isNumber:function(){return lt},isObject:function(){return ut},isPrimitive:function(){return At},isRegExp:function(){return gt},isString:function(){return at},isStringSafe:function(){return st},isTypedArray:function(){return ct},keys:function(){return et},logError:function(){return N},map:function(){return q},merge:function(){return W},mergeAll:function(){return j},mixin:function(){return $},noop:function(){return Dt},normalizeCssArray:function(){return xt},reduce:function(){return J},retrieve:function(){return vt},retrieve2:function(){return yt},retrieve3:function(){return bt},setAsPrimitive:function(){return Mt},slice:function(){return wt},trim:function(){return Ct}});var r={};n.r(r),n.d(r,{add:function(){return Wt},applyTransform:function(){return oe},clone:function(){return Nt},copy:function(){return Ht},create:function(){return Ft},dist:function(){return te},distSquare:function(){return ne},distance:function(){return Qt},distanceSquare:function(){return ee},div:function(){return Xt},dot:function(){return Yt},len:function(){return Gt},lenSquare:function(){return Ut},length:function(){return Zt},lengthSquare:function(){return Kt},lerp:function(){return re},max:function(){return se},min:function(){return ae},mul:function(){return $t},negate:function(){return ie},normalize:function(){return Jt},scale:function(){return qt},scaleAndAdd:function(){return jt},set:function(){return zt},sub:function(){return Vt}});var o={};n.r(o),n.d(o,{clone:function(){return Ge},copy:function(){return He},create:function(){return Oe},identity:function(){return Fe},invert:function(){return Ve},mul:function(){return Ne},rotate:function(){return We},scale:function(){return je},translate:function(){return ze}});var a={};n.r(a),n.d(a,{fastLerp:function(){return _i},fastMapToColor:function(){return Ci},lerp:function(){return Si},lift:function(){return wi},liftColor:function(){return Ei},lum:function(){return Ri},mapToColor:function(){return Mi},modifyAlpha:function(){return Ti},modifyHSL:function(){return Ai},parse:function(){return yi},random:function(){return Ii},stringify:function(){return ki},toHex:function(){return xi}});var s={};n.r(s),n.d(s,{dispose:function(){return _o},disposeAll:function(){return Co},getElementSSRData:function(){return Ao},getInstance:function(){return So},init:function(){return xo},registerPainter:function(){return Mo},registerSSRDataGetter:function(){return To},version:function(){return ko}});var l={};n.r(l),n.d(l,{Arc:function(){return Yg},BezierCurve:function(){return Kg},BoundingRect:function(){return nn},Circle:function(){return ug},CompoundPath:function(){return Jg},Ellipse:function(){return dg},Group:function(){return mo},Image:function(){return yl},IncrementalDisplayable:function(){return hm},Line:function(){return jg},LinearGradient:function(){return tm},OrientedBoundingRect:function(){return sm},Path:function(){return cl},Point:function(){return Ue},Polygon:function(){return Dg},Polyline:function(){return Hg},RadialGradient:function(){return em},Rect:function(){return Al},Ring:function(){return Pg},Sector:function(){return kg},Text:function(){return jl},applyTransform:function(){return km},clipPointsByRect:function(){return Em},clipRectByRect:function(){return Bm},createIcon:function(){return Lm},extendPath:function(){return mm},extendShape:function(){return pm},getShapeClass:function(){return ym},getTransform:function(){return Tm},groupTransition:function(){return Pm},initProps:function(){return Zu},isElementRemoved:function(){return Uu},lineLineIntersect:function(){return Om},linePolygonIntersect:function(){return Dm},makeImage:function(){return wm},makePath:function(){return bm},mergePath:function(){return _m},registerShape:function(){return vm},removeElement:function(){return Ku},removeElementWithFadeOut:function(){return Xu},resizePath:function(){return Cm},setTooltipConfig:function(){return Hm},subPixelOptimize:function(){return Am},subPixelOptimizeLine:function(){return Sm},subPixelOptimizeRect:function(){return Mm},transformDirection:function(){return Rm},traverseElements:function(){return zm},updateProps:function(){return Gu}});var u={};n.r(u),n.d(u,{createDimensions:function(){return Hw},createList:function(){return s_},createScale:function(){return u_},createSymbol:function(){return oy},createTextStyle:function(){return c_},dataStack:function(){return l_},enableHoverEmphasis:function(){return Pu},getECData:function(){return Vl},getLayoutRect:function(){return Pc},mixinAxisModelCommonMethods:function(){return h_}});var h={};n.r(h),n.d(h,{MAX_SAFE_INTEGER:function(){return zo},asc:function(){return Bo},getPercentWithPrecision:function(){return Fo},getPixelPrecision:function(){return Oo},getPrecision:function(){return Lo},getPrecisionSafe:function(){return Do},isNumeric:function(){return qo},isRadianAroundZero:function(){return jo},linearMap:function(){return Io},nice:function(){return Ko},numericToNumber:function(){return Yo},parseDate:function(){return Go},quantile:function(){return $o},quantity:function(){return Zo},quantityExponent:function(){return Uo},reformIntervals:function(){return Xo},remRadian:function(){return Wo},round:function(){return Eo}});var c={};n.r(c),n.d(c,{format:function(){return qh},parse:function(){return Go}});var d={};n.r(d),n.d(d,{Arc:function(){return Yg},BezierCurve:function(){return Kg},BoundingRect:function(){return nn},Circle:function(){return ug},CompoundPath:function(){return Jg},Ellipse:function(){return dg},Group:function(){return mo},Image:function(){return yl},IncrementalDisplayable:function(){return hm},Line:function(){return jg},LinearGradient:function(){return tm},Polygon:function(){return Dg},Polyline:function(){return Hg},RadialGradient:function(){return em},Rect:function(){return Al},Ring:function(){return Pg},Sector:function(){return kg},Text:function(){return jl},clipPointsByRect:function(){return Em},clipRectByRect:function(){return Bm},createIcon:function(){return Lm},extendPath:function(){return mm},extendShape:function(){return pm},getShapeClass:function(){return ym},getTransform:function(){return Tm},initProps:function(){return Zu},makeImage:function(){return wm},makePath:function(){return bm},mergePath:function(){return _m},registerShape:function(){return vm},resizePath:function(){return Cm},updateProps:function(){return Gu}});var f={};n.r(f),n.d(f,{addCommas:function(){return pc},capitalFirst:function(){return Cc},encodeHTML:function(){return _e},formatTime:function(){return _c},formatTpl:function(){return wc},getTextRect:function(){return M_},getTooltipMarker:function(){return xc},normalizeCssArray:function(){return mc},toCamelCase:function(){return gc},truncateText:function(){return Ga}});var p={};n.r(p),n.d(p,{bind:function(){return nt},clone:function(){return z},curry:function(){return it},defaults:function(){return G},each:function(){return Y},extend:function(){return V},filter:function(){return Q},indexOf:function(){return U},inherits:function(){return K},isArray:function(){return rt},isFunction:function(){return ot},isObject:function(){return ut},isString:function(){return at},map:function(){return q},merge:function(){return W},reduce:function(){return J}});var g=n(17254),m=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},v=new function(){this.browser=new m,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(v.wxa=!0,v.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?v.worker=!0:"undefined"==typeof navigator||0===navigator.userAgent.indexOf("Node.js")?(v.node=!0,v.svgSupported=!0):function(t,e){var n=e.browser,i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);i&&(n.firefox=!0,n.version=i[1]);r&&(n.ie=!0,n.version=r[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);a&&(n.weChat=!0);e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,v);var y=v,b="sans-serif",w="12px "+b;var x,_,C=function(t){var e={};if("undefined"==typeof JSON)return e;for(var n=0;n<t.length;n++){var i=String.fromCharCode(n+32),r=(t.charCodeAt(n)-20)/100;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),S={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(t,e){if(!x){var n=S.createCanvas();x=n&&n.getContext("2d")}if(x)return _!==e&&(_=x.font=e||w),x.measureText(t);t=t||"";var i=/(\d+)px/.exec(e=e||w),r=i&&+i[1]||12,o=0;if(e.indexOf("mono")>=0)o=r*t.length;else for(var a=0;a<t.length;a++){var s=C[t[a]];o+=null==s?r:s*r}return{width:o}},loadImage:function(t,e,n){var i=new Image;return i.onload=e,i.onerror=n,i.src=t,i}};function M(t){for(var e in S)t[e]&&(S[e]=t[e])}var A=J(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(t,e){return t["[object "+e+"]"]=!0,t}),{}),T=J(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(t,e){return t["[object "+e+"Array]"]=!0,t}),{}),k=Object.prototype.toString,R=Array.prototype,I=R.forEach,P=R.filter,E=R.slice,B=R.map,L=function(){}.constructor,D=L?L.prototype:null,O="__proto__",F=2311;function H(){return F++}function N(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)}function z(t){if(null==t||"object"!=typeof t)return t;var e=t,n=k.call(t);if("[object Array]"===n){if(!At(t)){e=[];for(var i=0,r=t.length;i<r;i++)e[i]=z(t[i])}}else if(T[n]){if(!At(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(i=0,r=t.length;i<r;i++)e[i]=t[i]}}}else if(!A[n]&&!At(t)&&!dt(t))for(var a in e={},t)t.hasOwnProperty(a)&&a!==O&&(e[a]=z(t[a]));return e}function W(t,e,n){if(!ut(e)||!ut(t))return n?z(e):t;for(var i in e)if(e.hasOwnProperty(i)&&i!==O){var r=t[i],o=e[i];!ut(o)||!ut(r)||rt(o)||rt(r)||dt(o)||dt(r)||ht(o)||ht(r)||At(o)||At(r)?!n&&i in t||(t[i]=z(e[i])):W(r,o,n)}return t}function j(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=W(n,t[i],e);return n}function V(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==O&&(t[n]=e[n]);return t}function G(t,e,n){for(var i=et(e),r=0;r<i.length;r++){var o=i[r];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}var Z=S.createCanvas;function U(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function K(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e}function $(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else G(t,e,n)}function X(t){return!!t&&("string"!=typeof t&&"number"==typeof t.length)}function Y(t,e,n){if(t&&e)if(t.forEach&&t.forEach===I)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function q(t,e,n){if(!t)return[];if(!e)return wt(t);if(t.map&&t.map===B)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}function J(t,e,n,i){if(t&&e){for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function Q(t,e,n){if(!t)return[];if(!e)return wt(t);if(t.filter&&t.filter===P)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}function tt(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]}function et(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}var nt=D&&ot(D.bind)?D.call.bind(D.bind):function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return t.apply(e,n.concat(E.call(arguments)))}};function it(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(E.call(arguments)))}}function rt(t){return Array.isArray?Array.isArray(t):"[object Array]"===k.call(t)}function ot(t){return"function"==typeof t}function at(t){return"string"==typeof t}function st(t){return"[object String]"===k.call(t)}function lt(t){return"number"==typeof t}function ut(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function ht(t){return!!A[k.call(t)]}function ct(t){return!!T[k.call(t)]}function dt(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function ft(t){return null!=t.colorStops}function pt(t){return null!=t.image}function gt(t){return"[object RegExp]"===k.call(t)}function mt(t){return t!=t}function vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t.length;n<i;n++)if(null!=t[n])return t[n]}function yt(t,e){return null!=t?t:e}function bt(t,e,n){return null!=t?t:null!=e?e:n}function wt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return E.apply(t,e)}function xt(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function _t(t,e){if(!t)throw new Error(e)}function Ct(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var St="__ec_primitive__";function Mt(t){t[St]=!0}function At(t){return t[St]}var Tt=function(){function t(){this.data={}}return t.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},t.prototype.has=function(t){return this.data.hasOwnProperty(t)},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){return this.data[t]=e,this},t.prototype.keys=function(){return et(this.data)},t.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},t}(),kt="function"==typeof Map;var Rt=function(){function t(e){var n=rt(e);this.data=kt?new Map:new Tt;var i=this;function r(t,e){n?i.set(t,e):i.set(e,t)}e instanceof t?e.each(r):e&&Y(e,r)}return t.prototype.hasKey=function(t){return this.data.has(t)},t.prototype.get=function(t){return this.data.get(t)},t.prototype.set=function(t,e){return this.data.set(t,e),e},t.prototype.each=function(t,e){this.data.forEach((function(n,i){t.call(e,n,i)}))},t.prototype.keys=function(){var t=this.data.keys();return kt?Array.from(t):t},t.prototype.removeKey=function(t){this.data.delete(t)},t}();function It(t){return new Rt(t)}function Pt(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];var r=t.length;for(i=0;i<e.length;i++)n[i+r]=e[i];return n}function Et(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}return e&&V(n,e),n}function Bt(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Lt(t,e){return t.hasOwnProperty(e)}function Dt(){}var Ot=180/Math.PI;function Ft(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function Ht(t,e){return t[0]=e[0],t[1]=e[1],t}function Nt(t){return[t[0],t[1]]}function zt(t,e,n){return t[0]=e,t[1]=n,t}function Wt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function jt(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function Vt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Gt(t){return Math.sqrt(Ut(t))}var Zt=Gt;function Ut(t){return t[0]*t[0]+t[1]*t[1]}var Kt=Ut;function $t(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function Xt(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Yt(t,e){return t[0]*e[0]+t[1]*e[1]}function qt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Jt(t,e){var n=Gt(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function Qt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var te=Qt;function ee(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var ne=ee;function ie(t,e){return t[0]=-e[0],t[1]=-e[1],t}function re(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function oe(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function ae(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function se(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var le=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},ue=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new le(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(r,o,t),this.handler.dispatchToElement(new le(e,t),"drag",t.event);var a=this.handler.findHover(n,i,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.handler.dispatchToElement(new le(s,t),"dragleave",t.event),a&&a!==s&&this.handler.dispatchToElement(new le(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new le(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new le(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),he=ue,ce=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var a=0;a<r[t].length;a++)if(r[t][a].h===n)return this;var s={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=r[t].length-1,u=r[t][l];return u&&u.callAtLast?r[t].splice(l,0,s):r[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=i.length,s=0;s<a;s++){var l=i[s];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=e[o-1],s=i.length,l=0;l<s;l++){var u=i[l];if(!r||!r.filter||null==u.query||r.filter(t,u.query))switch(o){case 0:u.h.call(a);break;case 1:u.h.call(a,e[0]);break;case 2:u.h.call(a,e[0],e[1]);break;default:u.h.apply(a,e.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t}(),de=ce,fe=Math.log(2);function pe(t,e,n,i,r,o){var a=i+"-"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(1===e){var l=Math.round(Math.log((1<<s)-1&~r)/fe);return t[n][l]}for(var u=i|1<<n,h=n+1;i&1<<h;)h++;for(var c=0,d=0,f=0;d<s;d++){var p=1<<d;p&r||(c+=(f%2?-1:1)*t[n][d]*pe(t,e-1,h,u,r|p,o),f++)}return o[a]=c,c}function ge(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},r=pe(n,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*pe(n,7,0===a?1:0,1<<a,1<<s,i)/r*e[a];return function(t,e,n){var i=e*o[6]+n*o[7]+1;t[0]=(e*o[0]+n*o[1]+o[2])/i,t[1]=(e*o[3]+n*o[4]+o[5])/i}}}var me="___zrEVENTSAVED",ve=[];function ye(t,e,n,i,r){if(e.getBoundingClientRect&&y.domSupported&&!be(e)){var o=e[me]||(e[me]={}),a=function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,l=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[s]+":0",r[l]+":0",i[1-s]+":auto",r[1-l]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,o),s=function(t,e,n){for(var i=n?"invTrans":"trans",r=e[i],o=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,d=h.left,f=h.top;a.push(d,f),l=l&&o&&d===o[c]&&f===o[c+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&r?r:(e.srcCoords=a,e[i]=n?ge(s,a):ge(a,s))}(a,o,r);if(s)return s(t,n,i),!0}return!1}function be(t){return"CANVAS"===t.nodeName.toUpperCase()}var we=/([&<>"'])/g,xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _e(t){return null==t?"":(t+"").replace(we,(function(t,e){return xe[e]}))}var Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=[],Me=y.browser.firefox&&+y.browser.version.split(".")[0]<39;function Ae(t,e,n,i){return n=n||{},i?Te(t,e,n):Me&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Te(t,e,n),n}function Te(t,e,n){if(y.domSupported&&t.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(be(t)){var o=t.getBoundingClientRect();return n.zrX=i-o.left,void(n.zrY=r-o.top)}if(ye(Se,t,i,r))return n.zrX=Se[0],void(n.zrY=Se[1])}n.zrX=n.zrY=0}function ke(t){return t||window.event}function Re(t,e,n){if(null!=(e=ke(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];r&&Ae(t,r,e,n)}else{Ae(t,e,e,n);var o=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,i=t.deltaY;if(null==n||null==i)return e;return 3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i<0?1:n>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return null==e.which&&void 0!==a&&Ce.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e}function Ie(t,e,n,i){t.addEventListener(e,n,i)}var Pe=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function Ee(t){return 2===t.which||3===t.which}var Be=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,a=i.length;o<a;o++){var s=i[o],l=Ae(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in De)if(De.hasOwnProperty(e)){var n=De[e](this._track,t);if(n)return n}},t}();function Le(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var De={pinch:function(t,e){var n=t.length;if(n){var i,r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Le(r)/Le(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}};function Oe(){return[1,0,0,1,0,0]}function Fe(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function He(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ne(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function ze(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function We(t,e,n,i){void 0===i&&(i=[0,0]);var r=e[0],o=e[2],a=e[4],s=e[1],l=e[3],u=e[5],h=Math.sin(n),c=Math.cos(n);return t[0]=r*c+s*h,t[1]=-r*h+s*c,t[2]=o*c+l*h,t[3]=-o*h+c*l,t[4]=c*(a-i[0])+h*(u-i[1])+i[0],t[5]=c*(u-i[1])-h*(a-i[0])+i[1],t}function je(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function Ve(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null}function Ge(t){var e=[1,0,0,1,0,0];return He(e,t),e}var Ze=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},t.lerp=function(t,e,n,i){var r=1-i;t.x=r*e.x+i*n.x,t.y=r*e.y+i*n.y},t}(),Ue=Ze,Ke=Math.min,$e=Math.max,Xe=new Ue,Ye=new Ue,qe=new Ue,Je=new Ue,Qe=new Ue,tn=new Ue,en=function(){function t(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.union=function(t){var e=Ke(t.x,this.x),n=Ke(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=$e(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=$e(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=[1,0,0,1,0,0];return ze(r,r,[-e.x,-e.y]),je(r,r,[n,i]),ze(r,r,[t.x,t.y]),r},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=e.x,u=e.x+e.width,h=e.y,c=e.y+e.height,d=!(o<l||u<r||s<h||c<a);if(n){var f=1/0,p=0,g=Math.abs(o-l),m=Math.abs(u-r),v=Math.abs(s-h),y=Math.abs(c-a),b=Math.min(g,m),w=Math.min(v,y);o<l||u<r?b>p&&(p=b,g<m?Ue.set(tn,-g,0):Ue.set(tn,m,0)):b<f&&(f=b,g<m?Ue.set(Qe,g,0):Ue.set(Qe,-m,0)),s<h||c<a?w>p&&(p=w,v<y?Ue.set(tn,0,-v):Ue.set(tn,0,y)):b<f&&(f=b,v<y?Ue.set(Qe,0,v):Ue.set(Qe,0,-y))}return n&&Ue.copy(n,d?Qe:tn),d},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];return e.x=n.x*r+a,e.y=n.y*o+s,e.width=n.width*r,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Xe.x=qe.x=n.x,Xe.y=Je.y=n.y,Ye.x=Je.x=n.x+n.width,Ye.y=qe.y=n.y+n.height,Xe.transform(i),Je.transform(i),Ye.transform(i),qe.transform(i),e.x=Ke(Xe.x,Ye.x,qe.x,Je.x),e.y=Ke(Xe.y,Ye.y,qe.y,Je.y);var l=$e(Xe.x,Ye.x,qe.x,Je.x),u=$e(Xe.y,Ye.y,qe.y,Je.y);e.width=l-e.x,e.height=u-e.y}else e!==n&&t.copy(e,n)},t}(),nn=en,rn="silent";function on(){Pe(this.event)}var an=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return(0,g.ZT)(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(de),sn=function(t,e){this.x=t,this.y=e},ln=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],un=new nn(0,0,0,0),hn=function(t){function e(e,n,i,r,o){var a=t.call(this)||this;return a._hovered=new sn(0,0),a.storage=e,a.painter=n,a.painterRoot=r,a._pointerSize=o,i=i||new an,a.proxy=null,a.setHandlerProxy(i),a._draggingMgr=new he(a),a}return(0,g.ZT)(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Y(ln,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,i=fn(this,e,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?new sn(e,n):this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new sn(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:on}}(e,t,n);i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(e,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,n){var i=this.storage.getDisplayList(),r=new sn(t,e);if(dn(i,r,t,e,n),this._pointerSize&&!r.target){for(var o=[],a=this._pointerSize,s=a/2,l=new nn(t-s,e-s,a,a),u=i.length-1;u>=0;u--){var h=i[u];h===n||h.ignore||h.ignoreCoarsePointer||h.parent&&h.parent.ignoreCoarsePointer||(un.copy(h.getBoundingRect()),h.transform&&un.applyTransform(h.transform),un.intersect(l)&&o.push(h))}if(o.length)for(var c=Math.PI/12,d=2*Math.PI,f=0;f<s;f+=4)for(var p=0;p<d;p+=c){if(dn(o,r,t+f*Math.cos(p),e+f*Math.sin(p),n),r.target)return r}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new Be);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r;var o=new sn;o.target=i.target,this.dispatchToElement(o,r,i.event)}},e}(de);function cn(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,n))return!1}i.silent&&(r=!0);var s=i.__hostTarget;i=s||i.parent}return!r||rn}return!1}function dn(t,e,n,i,r){for(var o=t.length-1;o>=0;o--){var a=t[o],s=void 0;if(a!==r&&!a.ignore&&(s=cn(a,n,i))&&(!e.topTarget&&(e.topTarget=a),s!==rn)){e.target=a;break}}}function fn(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}Y(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){hn.prototype[t]=function(e){var n,i,r=e.zrX,o=e.zrY,a=fn(this,r,o);if("mouseup"===t&&a||(i=(n=this.findHover(r,o)).target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||te(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}));var pn=hn;function gn(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){n--;for(;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function mn(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function vn(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l<s&&o(t,e[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])>0?a=h+1:l=h}return l}function yn(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(t,e[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])<0?l=h:a=h+1}return l}function bn(t,e){var n,i,r=7,o=0,a=[];function s(s){var l=n[s],u=i[s],h=n[s+1],c=i[s+1];i[s]=u+c,s===o-3&&(n[s+1]=n[s+2],i[s+1]=i[s+2]),o--;var d=yn(t[h],t,l,u,0,e);l+=d,0!==(u-=d)&&0!==(c=vn(t[l+u-1],t,h,c,c-1,e))&&(u<=c?function(n,i,o,s){var l=0;for(l=0;l<i;l++)a[l]=t[n+l];var u=0,h=o,c=n;if(t[c++]=t[h++],0==--s){for(l=0;l<i;l++)t[c+l]=a[u+l];return}if(1===i){for(l=0;l<s;l++)t[c+l]=t[h+l];return void(t[c+s]=a[u])}var d,f,p,g=r;for(;;){d=0,f=0,p=!1;do{if(e(t[h],a[u])<0){if(t[c++]=t[h++],f++,d=0,0==--s){p=!0;break}}else if(t[c++]=a[u++],d++,f=0,1==--i){p=!0;break}}while((d|f)<g);if(p)break;do{if(0!==(d=yn(t[h],a,u,i,0,e))){for(l=0;l<d;l++)t[c+l]=a[u+l];if(c+=d,u+=d,(i-=d)<=1){p=!0;break}}if(t[c++]=t[h++],0==--s){p=!0;break}if(0!==(f=vn(a[u],t,h,s,0,e))){for(l=0;l<f;l++)t[c+l]=t[h+l];if(c+=f,h+=f,0===(s-=f)){p=!0;break}}if(t[c++]=a[u++],1==--i){p=!0;break}g--}while(d>=7||f>=7);if(p)break;g<0&&(g=0),g+=2}if((r=g)<1&&(r=1),1===i){for(l=0;l<s;l++)t[c+l]=t[h+l];t[c+s]=a[u]}else{if(0===i)throw new Error;for(l=0;l<i;l++)t[c+l]=a[u+l]}}(l,u,h,c):function(n,i,o,s){var l=0;for(l=0;l<s;l++)a[l]=t[o+l];var u=n+i-1,h=s-1,c=o+s-1,d=0,f=0;if(t[c--]=t[u--],0==--i){for(d=c-(s-1),l=0;l<s;l++)t[d+l]=a[l];return}if(1===s){for(f=(c-=i)+1,d=(u-=i)+1,l=i-1;l>=0;l--)t[f+l]=t[d+l];return void(t[c]=a[h])}var p=r;for(;;){var g=0,m=0,v=!1;do{if(e(a[h],t[u])<0){if(t[c--]=t[u--],g++,m=0,0==--i){v=!0;break}}else if(t[c--]=a[h--],m++,g=0,1==--s){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!==(g=i-yn(a[h],t,n,i,i-1,e))){for(i-=g,f=(c-=g)+1,d=(u-=g)+1,l=g-1;l>=0;l--)t[f+l]=t[d+l];if(0===i){v=!0;break}}if(t[c--]=a[h--],1==--s){v=!0;break}if(0!==(m=s-vn(t[u],a,0,s,s-1,e))){for(s-=m,f=(c-=m)+1,d=(h-=m)+1,l=0;l<m;l++)t[f+l]=a[d+l];if(s<=1){v=!0;break}}if(t[c--]=t[u--],0==--i){v=!0;break}p--}while(g>=7||m>=7);if(v)break;p<0&&(p=0),p+=2}(r=p)<1&&(r=1);if(1===s){for(f=(c-=i)+1,d=(u-=i)+1,l=i-1;l>=0;l--)t[f+l]=t[d+l];t[c]=a[h]}else{if(0===s)throw new Error;for(d=c-(s-1),l=0;l<s;l++)t[d+l]=a[l]}}(l,u,h,c))}return n=[],i=[],{mergeRuns:function(){for(;o>1;){var t=o-2;if(t>=1&&i[t-1]<=i[t]+i[t+1]||t>=2&&i[t-2]<=i[t]+i[t-1])i[t-1]<i[t+1]&&t--;else if(i[t]>i[t+1])break;s(t)}},forceMergeRuns:function(){for(;o>1;){var t=o-2;t>0&&i[t-1]<i[t+1]&&t--,s(t)}},pushRun:function(t,e){n[o]=t,i[o]=e,o+=1}}}function wn(t,e,n,i){n||(n=0),i||(i=t.length);var r=i-n;if(!(r<2)){var o=0;if(r<32)mn(t,n,i,n+(o=gn(t,n,i,e)),e);else{var a=bn(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(r);do{if((o=gn(t,n,i,e))<s){var l=r;l>s&&(l=s),mn(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}}var xn=!1;function _n(){xn||(xn=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Cn(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Sn=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Cn}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,wn(n,Cn)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=1),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(_n(),u.z=0),isNaN(u.z2)&&(_n(),u.z2=0),isNaN(u.zlevel)&&(_n(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,e,n);var c=t.getTextGuideLine();c&&this._updateAndAddDisplayable(c,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var i=U(this._roots,t);i>=0&&this._roots.splice(i,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Mn=Sn,An=y.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},Tn={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Tn.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Tn.bounceIn(2*t):.5*Tn.bounceOut(2*t-1)+.5}},kn=Tn,Rn=Math.pow,In=Math.sqrt,Pn=1e-8,En=1e-4,Bn=In(3),Ln=1/3,Dn=Ft(),On=Ft(),Fn=Ft();function Hn(t){return t>-1e-8&&t<Pn}function Nn(t){return t>Pn||t<-1e-8}function zn(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function Wn(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function jn(t,e,n,i,r,o){var a=i+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-r,h=s*s-3*a*l,c=s*l-9*a*u,d=l*l-3*s*u,f=0;if(Hn(h)&&Hn(c)){if(Hn(s))o[0]=0;else(S=-l/s)>=0&&S<=1&&(o[f++]=S)}else{var p=c*c-4*h*d;if(Hn(p)){var g=c/h,m=-g/2;(S=-s/a+g)>=0&&S<=1&&(o[f++]=S),m>=0&&m<=1&&(o[f++]=m)}else if(p>0){var v=In(p),y=h*s+1.5*a*(-c+v),b=h*s+1.5*a*(-c-v);(S=(-s-((y=y<0?-Rn(-y,Ln):Rn(y,Ln))+(b=b<0?-Rn(-b,Ln):Rn(b,Ln))))/(3*a))>=0&&S<=1&&(o[f++]=S)}else{var w=(2*h*s-3*a*c)/(2*In(h*h*h)),x=Math.acos(w)/3,_=In(h),C=Math.cos(x),S=(-s-2*_*C)/(3*a),M=(m=(-s+_*(C+Bn*Math.sin(x)))/(3*a),(-s+_*(C-Bn*Math.sin(x)))/(3*a));S>=0&&S<=1&&(o[f++]=S),m>=0&&m<=1&&(o[f++]=m),M>=0&&M<=1&&(o[f++]=M)}}return f}function Vn(t,e,n,i,r){var o=6*n-12*e+6*t,a=9*e+3*i-3*t-9*n,s=3*e-3*t,l=0;if(Hn(a)){if(Nn(o))(h=-s/o)>=0&&h<=1&&(r[l++]=h)}else{var u=o*o-4*a*s;if(Hn(u))r[0]=-o/(2*a);else if(u>0){var h,c=In(u),d=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(r[l++]=h),d>=0&&d<=1&&(r[l++]=d)}}return l}function Gn(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=t,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=i}function Zn(t,e,n,i,r,o,a,s,l,u,h){var c,d,f,p,g,m=.005,v=1/0;Dn[0]=l,Dn[1]=u;for(var y=0;y<1;y+=.05)On[0]=zn(t,n,r,a,y),On[1]=zn(e,i,o,s,y),(p=ne(Dn,On))<v&&(c=y,v=p);v=1/0;for(var b=0;b<32&&!(m<En);b++)d=c-m,f=c+m,On[0]=zn(t,n,r,a,d),On[1]=zn(e,i,o,s,d),p=ne(On,Dn),d>=0&&p<v?(c=d,v=p):(Fn[0]=zn(t,n,r,a,f),Fn[1]=zn(e,i,o,s,f),g=ne(Fn,Dn),f<=1&&g<v?(c=f,v=g):m*=.5);return h&&(h[0]=zn(t,n,r,a,c),h[1]=zn(e,i,o,s,c)),In(v)}function Un(t,e,n,i,r,o,a,s,l){for(var u=t,h=e,c=0,d=1/l,f=1;f<=l;f++){var p=f*d,g=zn(t,n,r,a,p),m=zn(e,i,o,s,p),v=g-u,y=m-h;c+=Math.sqrt(v*v+y*y),u=g,h=m}return c}function Kn(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function $n(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function Xn(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function Yn(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function qn(t,e,n,i,r,o,a,s,l){var u,h=.005,c=1/0;Dn[0]=a,Dn[1]=s;for(var d=0;d<1;d+=.05){On[0]=Kn(t,n,r,d),On[1]=Kn(e,i,o,d),(m=ne(Dn,On))<c&&(u=d,c=m)}c=1/0;for(var f=0;f<32&&!(h<En);f++){var p=u-h,g=u+h;On[0]=Kn(t,n,r,p),On[1]=Kn(e,i,o,p);var m=ne(On,Dn);if(p>=0&&m<c)u=p,c=m;else{Fn[0]=Kn(t,n,r,g),Fn[1]=Kn(e,i,o,g);var v=ne(Fn,Dn);g<=1&&v<c?(u=g,c=v):h*=.5}}return l&&(l[0]=Kn(t,n,r,u),l[1]=Kn(e,i,o,u)),In(c)}function Jn(t,e,n,i,r,o,a){for(var s=t,l=e,u=0,h=1/a,c=1;c<=a;c++){var d=c*h,f=Kn(t,n,r,d),p=Kn(e,i,o,d),g=f-s,m=p-l;u+=Math.sqrt(g*g+m*m),s=f,l=p}return u}var Qn=/cubic-bezier\(([0-9,\.e ]+)\)/;function ti(t){var e=t&&Qn.exec(t);if(e){var n=e[1].split(","),i=+Ct(n[0]),r=+Ct(n[1]),o=+Ct(n[2]),a=+Ct(n[3]);if(isNaN(i+r+o+a))return;var s=[];return function(t){return t<=0?0:t>=1?1:jn(0,i,o,1,t,s)&&zn(0,r,a,1,s[0])}}}var ei=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Dt,this.ondestroy=t.ondestroy||Dt,this.onrestart=t.onrestart||Dt,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,i=t-this._startTime-this._pausedTime,r=i/n;r<0&&(r=0),r=Math.min(r,1);var o=this.easingFunc,a=o?o(r):r;if(this.onframe(a),1===r){if(!this.loop)return!0;var s=i%n;this._startTime=t-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=ot(t)?t:kn[t]||ti(t)},t}(),ni=function(t){this.value=t},ii=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new ni(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),ri=function(){function t(t){this._list=new ii,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,i=this._map,r=null;if(null==i[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new ni(e),a.key=t,n.insertEntry(a),i[t]=a}return r},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),oi=ri,ai={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function si(t){return(t=Math.round(t))<0?0:t>255?255:t}function li(t){return t<0?0:t>1?1:t}function ui(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?si(parseFloat(e)/100*255):si(parseInt(e,10))}function hi(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?li(parseFloat(e)/100):li(parseFloat(e))}function ci(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function di(t,e,n){return t+(e-t)*n}function fi(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function pi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var gi=new oi(20),mi=null;function vi(t,e){mi&&pi(mi,e),mi=gi.put(t,mi||e.slice())}function yi(t,e){if(t){e=e||[];var n=gi.get(t);if(n)return pi(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in ai)return pi(e,ai[i]),vi(t,e),e;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(fi(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),vi(t,e),e):void fi(e,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(fi(e,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),vi(t,e),e):void fi(e,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===o){var l=i.substr(0,a),u=i.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?fi(e,+u[0],+u[1],+u[2],1):fi(e,0,0,0,1);h=hi(u.pop());case"rgb":return u.length>=3?(fi(e,ui(u[0]),ui(u[1]),ui(u[2]),3===u.length?h:hi(u[3])),vi(t,e),e):void fi(e,0,0,0,1);case"hsla":return 4!==u.length?void fi(e,0,0,0,1):(u[3]=hi(u[3]),bi(u,e),vi(t,e),e);case"hsl":return 3!==u.length?void fi(e,0,0,0,1):(bi(u,e),vi(t,e),e);default:return}}fi(e,0,0,0,1)}}function bi(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=hi(t[1]),r=hi(t[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return fi(e=e||[],si(255*ci(a,o,n+1/3)),si(255*ci(a,o,n)),si(255*ci(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function wi(t,e){var n=yi(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return ki(n,4===n.length?"rgba":"rgb")}}function xi(t){var e=yi(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function _i(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=e[r],s=e[o],l=i-r;return n[0]=si(di(a[0],s[0],l)),n[1]=si(di(a[1],s[1],l)),n[2]=si(di(a[2],s[2],l)),n[3]=li(di(a[3],s[3],l)),n}}var Ci=_i;function Si(t,e,n){if(e&&e.length&&t>=0&&t<=1){var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=yi(e[r]),s=yi(e[o]),l=i-r,u=ki([si(di(a[0],s[0],l)),si(di(a[1],s[1],l)),si(di(a[2],s[2],l)),li(di(a[3],s[3],l))],"rgba");return n?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}var Mi=Si;function Ai(t,e,n,i){var r=yi(t);if(t)return r=function(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var h=((s-i)/6+l/2)/l,c=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l;i===s?e=d-c:r===s?e=1/3+h-d:o===s&&(e=2/3+c-h),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,u];return null!=t[3]&&f.push(t[3]),f}}(r),null!=e&&(r[0]=function(t){return(t=Math.round(t))<0?0:t>360?360:t}(e)),null!=n&&(r[1]=hi(n)),null!=i&&(r[2]=hi(i)),ki(bi(r),"rgba")}function Ti(t,e){var n=yi(t);if(n&&null!=e)return n[3]=li(e),ki(n,"rgba")}function ki(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function Ri(t,e){var n=yi(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}function Ii(){return ki([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var Pi=new oi(100);function Ei(t){if(at(t)){var e=Pi.get(t);return e||(e=wi(t,-.1),Pi.put(t,e)),e}if(ft(t)){var n=V({},t);return n.colorStops=q(t.colorStops,(function(t){return{offset:t.offset,color:wi(t.color,-.1)}})),n}return t}var Bi=n(1982).Buffer,Li=Math.round;function Di(t){var e;if(t&&"transparent"!==t){if("string"==typeof t&&t.indexOf("rgba")>-1){var n=yi(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}}else t="none";return{color:t,opacity:null==e?1:e}}var Oi=1e-4;function Fi(t){return t<Oi&&t>-1e-4}function Hi(t){return Li(1e3*t)/1e3}function Ni(t){return Li(1e4*t)/1e4}var zi={left:"start",right:"end",center:"middle",middle:"middle"};function Wi(t){return t&&!!t.image}function ji(t){return Wi(t)||function(t){return t&&!!t.svgElement}(t)}function Vi(t){return"linear"===t.type}function Gi(t){return"radial"===t.type}function Zi(t){return t&&("linear"===t.type||"radial"===t.type)}function Ui(t){return"url(#"+t+")"}function Ki(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function $i(t){var e=t.x||0,n=t.y||0,i=(t.rotation||0)*Ot,r=yt(t.scaleX,1),o=yt(t.scaleY,1),a=t.skewX||0,s=t.skewY||0,l=[];return(e||n)&&l.push("translate("+e+"px,"+n+"px)"),i&&l.push("rotate("+i+")"),1===r&&1===o||l.push("scale("+r+","+o+")"),(a||s)&&l.push("skew("+Li(a*Ot)+"deg, "+Li(s*Ot)+"deg)"),l.join(" ")}var Xi=y.hasGlobalWindow&&ot(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:void 0!==Bi?function(t){return Bi.from(t).toString("base64")}:function(t){return null},Yi=Array.prototype.slice;function qi(t,e,n){return(e-t)*n+t}function Ji(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=qi(e[o],n[o],i);return t}function Qi(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+n[o]*i;return t}function tr(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*i}return t}function er(t,e){for(var n=t.length,i=e.length,r=n>i?e:t,o=Math.min(n,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function nr(t,e,n){var i=t,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===n?r[s]:Yi.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===n)isNaN(i[s])&&(i[s]=r[s]);else for(var u=0;u<l;u++)isNaN(i[s][u])&&(i[s][u]=r[s][u])}}function ir(t){if(X(t)){var e=t.length;if(X(t[0])){for(var n=[],i=0;i<e;i++)n.push(Yi.call(t[i]));return n}return Yi.call(t)}return t}function rr(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}function or(t){return 4===t||5===t}function ar(t){return 1===t||2===t}var sr=[0,0,0,0],lr=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,r=i.length,o=!1,a=6,s=e;if(X(e)){var l=function(t){return X(t&&t[0])?2:1}(e);a=l,(1===l&&!lt(e[0])||2===l&&!lt(e[0][0]))&&(o=!0)}else if(lt(e)&&!mt(e))a=0;else if(at(e))if(isNaN(+e)){var u=yi(e);u&&(s=u,a=3)}else a=0;else if(ft(e)){var h=V({},s);h.colorStops=q(e.colorStops,(function(t){return{offset:t.offset,color:yi(t.color)}})),Vi(e)?a=4:Gi(e)&&(a=5),s=h}0===r?this.valType=a:a===this.valType&&6!==a||(o=!0),this.discrete=this.discrete||o;var c={time:t,value:s,rawValue:e,percent:0};return n&&(c.easing=n,c.easingFunc=ot(n)?n:kn[n]||ti(n)),i.push(c),c},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort((function(t,e){return t.time-e.time}));for(var i=this.valType,r=n.length,o=n[r-1],a=this.discrete,s=ar(i),l=or(i),u=0;u<r;u++){var h=n[u],c=h.value,d=o.value;h.percent=h.time/t,a||(s&&u!==r-1?nr(c,d,i):l&&er(c.colorStops,d.colorStops))}if(!a&&5!==i&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var f=n[0].value;for(u=0;u<r;u++)0===i?n[u].additiveValue=n[u].value-f:3===i?n[u].additiveValue=Qi([],n[u].value,f,-1):ar(i)&&(n[u].additiveValue=1===i?Qi([],n[u].value,f,-1):tr([],n[u].value,f,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,r,o=null!=this._additiveTrack,a=o?"additiveValue":"value",s=this.valType,l=this.keyframes,u=l.length,h=this.propName,c=3===s,d=this._lastFr,f=Math.min;if(1===u)i=r=l[0];else{if(e<0)n=0;else if(e<this._lastFrP){for(n=f(d+1,u-1);n>=0&&!(l[n].percent<=e);n--);n=f(n,u-2)}else{for(n=d;n<u&&!(l[n].percent>e);n++);n=f(n-1,u-2)}r=l[n+1],i=l[n]}if(i&&r){this._lastFr=n,this._lastFrP=e;var p=r.percent-i.percent,g=0===p?1:f((e-i.percent)/p,1);r.easingFunc&&(g=r.easingFunc(g));var m=o?this._additiveValue:c?sr:t[h];if(!ar(s)&&!c||m||(m=this._additiveValue=[]),this.discrete)t[h]=g<1?i.rawValue:r.rawValue;else if(ar(s))1===s?Ji(m,i[a],r[a],g):function(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=qi(e[a][s],n[a][s],i)}}(m,i[a],r[a],g);else if(or(s)){var v=i[a],y=r[a],b=4===s;t[h]={type:b?"linear":"radial",x:qi(v.x,y.x,g),y:qi(v.y,y.y,g),colorStops:q(v.colorStops,(function(t,e){var n=y.colorStops[e];return{offset:qi(t.offset,n.offset,g),color:rr(Ji([],t.color,n.color,g))}})),global:y.global},b?(t[h].x2=qi(v.x2,y.x2,g),t[h].y2=qi(v.y2,y.y2,g)):t[h].r=qi(v.r,y.r,g)}else if(c)Ji(m,i[a],r[a],g),o||(t[h]=rr(m));else{var w=qi(i[a],r[a],g);o?this._additiveValue=w:t[h]=w}o&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;0===e?t[n]=t[n]+i:3===e?(yi(t[n],sr),Qi(sr,sr,i,1),t[n]=rr(sr)):1===e?Qi(t[n],t[n],i,1):2===e&&tr(t[n],t[n],i,1)},t}(),ur=function(){function t(t,e,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?N("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,et(e),n)},t.prototype.whenWithKeys=function(t,e,n,i){for(var r=this._tracks,o=0;o<n.length;o++){var a=n[o],s=r[a];if(!s){s=r[a]=new lr(a);var l=void 0,u=this._getAdditiveTrack(a);if(u){var h=u.keyframes,c=h[h.length-1];l=c&&c.value,3===u.valType&&l&&(l=rr(l))}else l=this._target[a];if(null==l)continue;t>0&&s.addKeyframe(0,ir(l),i),this._trackKeys.push(a)}s.addKeyframe(t,ir(e[a]),i)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var r=n[i].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes,u=l.length;if(a.prepare(i,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var h=l[u-1];h&&(e._target[a.propName]=h.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var c=new ei({life:i,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var i=e._additiveAnimators;if(i){for(var r=!1,o=0;o<i.length;o++)if(i[o]._clip){r=!0;break}r||(e._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(e._target,t);var a=e._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&c.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return q(this._trackKeys,(function(e){return t._tracks[e]}))},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r<t.length;r++){var o=n[t[r]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<i.length;r++)if(!n[i[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(t[r]=ir(s.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||et(t);for(var n=0;n<e.length;n++){var i=e[n],r=this._tracks[i];if(r){var o=r.keyframes;if(o.length>1){var a=o.pop();r.addKeyframe(a.time,t[i]),r.prepare(this._maxTime,r.getAdditiveTrack())}}}},t}(),hr=ur;function cr(){return(new Date).getTime()}var dr,fr,pr=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return(0,g.ZT)(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=cr()-this._pausedTime,n=e-this._time,i=this._head;i;){var r=i.next;i.step(e,n)?(i.ondestroy(),this.removeClip(i),i=r):i=r}this._time=e,t||(this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,An((function e(){t._running&&(An(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=cr(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=cr(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=cr()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new hr(t,e.loop);return this.addAnimator(n),n},e}(de),gr=pr,mr=y.domSupported,vr=(fr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:dr=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:q(dr,(function(t){var e=t.replace("mouse","pointer");return fr.hasOwnProperty(e)?e:t}))}),yr=["mousemove","mouseup"],br=["pointermove","pointerup"],wr=!1;function xr(t){var e=t.pointerType;return"pen"===e||"touch"===e}function _r(t){t&&(t.zrByTouch=!0)}function Cr(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}var Sr=function(t,e){this.stopPropagation=Dt,this.stopImmediatePropagation=Dt,this.preventDefault=Dt,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Mr={mousedown:function(t){t=Re(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Re(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Re(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){Cr(this,(t=Re(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){wr=!0,t=Re(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){wr||(t=Re(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){_r(t=Re(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Mr.mousemove.call(this,t),Mr.mousedown.call(this,t)},touchmove:function(t){_r(t=Re(this.dom,t)),this.handler.processGesture(t,"change"),Mr.mousemove.call(this,t)},touchend:function(t){_r(t=Re(this.dom,t)),this.handler.processGesture(t,"end"),Mr.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&Mr.click.call(this,t)},pointerdown:function(t){Mr.mousedown.call(this,t)},pointermove:function(t){xr(t)||Mr.mousemove.call(this,t)},pointerup:function(t){Mr.mouseup.call(this,t)},pointerout:function(t){xr(t)||Mr.mouseout.call(this,t)}};Y(["click","dblclick","contextmenu"],(function(t){Mr[t]=function(e){e=Re(this.dom,e),this.trigger(t,e)}}));var Ar={pointermove:function(t){xr(t)||Ar.mousemove.call(this,t)},pointerup:function(t){Ar.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Tr(t,e){var n=e.domHandlers;y.pointerEventsSupported?Y(vr.pointer,(function(i){Rr(e,i,(function(e){n[i].call(t,e)}))})):(y.touchEventsSupported&&Y(vr.touch,(function(i){Rr(e,i,(function(r){n[i].call(t,r),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(e)}))})),Y(vr.mouse,(function(i){Rr(e,i,(function(r){r=ke(r),e.touching||n[i].call(t,r)}))})))}function kr(t,e){function n(n){Rr(e,n,(function(i){i=ke(i),Cr(t,i.target)||(i=function(t,e){return Re(t.dom,new Sr(t,e),!0)}(t,i),e.domHandlers[n].call(t,i))}),{capture:!0})}y.pointerEventsSupported?Y(br,n):y.touchEventsSupported||Y(yr,n)}function Rr(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,Ie(t.domTarget,e,n,i)}function Ir(t){var e,n,i,r,o=t.mounted;for(var a in o)o.hasOwnProperty(a)&&(e=t.domTarget,n=a,i=o[a],r=t.listenerOpts[a],e.removeEventListener(n,i,r));t.mounted={}}var Pr=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},Er=function(t){function e(e,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new Pr(e,Mr),mr&&(i._globalHandlerScope=new Pr(document,Ar)),Tr(i,i._localHandlerScope),i}return(0,g.ZT)(e,t),e.prototype.dispose=function(){Ir(this._localHandlerScope),mr&&Ir(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,mr&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?kr(this,e):Ir(e)}},e}(de),Br=1;y.hasGlobalWindow&&(Br=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Lr=Br,Dr="#333",Or="#ccc",Fr=Fe,Hr=5e-5;function Nr(t){return t>Hr||t<-5e-5}var zr=[],Wr=[],jr=[1,0,0,1,0,0],Vr=Math.abs,Gr=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return Nr(this.rotation)||Nr(this.x)||Nr(this.y)||Nr(this.scaleX-1)||Nr(this.scaleY-1)||Nr(this.skewX)||Nr(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||[1,0,0,1,0,0],e?this.getLocalTransform(n):Fr(n),t&&(e?Ne(n,t,n):He(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&(Fr(n),this.invTransform=null)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(zr);var n=zr[0]<0?-1:1,i=zr[1]<0?-1:1,r=((zr[0]-n)*e+n)/zr[0]||0,o=((zr[1]-i)*e+i)/zr[1]||0;t[0]*=r,t[1]*=r,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Ve(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),r=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(r),e=Math.sqrt(e),this.skewX=r,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||[1,0,0,1,0,0],Ne(Wr,t.invTransform,e),e=Wr);var n=this.originX,i=this.originY;(n||i)&&(jr[4]=n,jr[5]=i,Ne(Wr,e,jr),Wr[4]-=n,Wr[5]-=i,e=Wr),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&oe(n,n,i),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&oe(n,n,i),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&Vr(t[0]-1)>1e-10&&Vr(t[3]-1)>1e-10?Math.sqrt(Vr(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){Ur(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,r=t.scaleX,o=t.scaleY,a=t.anchorX,s=t.anchorY,l=t.rotation||0,u=t.x,h=t.y,c=t.skewX?Math.tan(t.skewX):0,d=t.skewY?Math.tan(-t.skewY):0;if(n||i||a||s){var f=n+a,p=i+s;e[4]=-f*r-c*p*o,e[5]=-p*o-d*f*r}else e[4]=e[5]=0;return e[0]=r,e[3]=o,e[1]=d*r,e[2]=c*o,l&&We(e,e,l),e[4]+=n+u,e[5]+=i+h,e},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),Zr=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Ur(t,e){for(var n=0;n<Zr.length;n++){var i=Zr[n];t[i]=e[i]}}var Kr=Gr,$r={};function Xr(t,e){var n=$r[e=e||w];n||(n=$r[e]=new oi(500));var i=n.get(t);return null==i&&(i=S.measureText(t,e).width,n.put(t,i)),i}function Yr(t,e,n,i){var r=Xr(t,e),o=to(e),a=Jr(0,r,n),s=Qr(0,o,i);return new nn(a,s,r,o)}function qr(t,e,n,i){var r=((t||"")+"").split("\n");if(1===r.length)return Yr(r[0],e,n,i);for(var o=new nn(0,0,0,0),a=0;a<r.length;a++){var s=Yr(r[a],e,n,i);0===a?o.copy(s):o.union(s)}return o}function Jr(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Qr(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function to(t){return Xr("",t)}function eo(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function no(t,e,n){var i=e.position||"inside",r=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,h="left",c="top";if(i instanceof Array)l+=eo(i[0],n.width),u+=eo(i[1],n.height),h=null,c=null;else switch(i){case"left":l-=r,u+=s,h="right",c="middle";break;case"right":l+=r+a,u+=s,c="middle";break;case"top":l+=a/2,u-=r,h="center",c="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",c="middle";break;case"insideLeft":l+=r,u+=s,c="middle";break;case"insideRight":l+=a-r,u+=s,h="right",c="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,c="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",c="bottom"}return(t=t||{}).x=l,t.y=u,t.align=h,t.verticalAlign=c,t}var io="__zr_normal__",ro=Zr.concat(["ignore"]),oo=J(Zr,(function(t,e){return t[e]=!0,t}),{ignore:!1}),ao={},so=new nn(0,0,0,0),lo=function(){function t(t){this.id=H(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,r=e.innerTransformable,o=void 0,a=void 0,s=!1;r.parent=i?this:null;var l=!1;if(r.copyTransform(e),null!=n.position){var u=so;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ao,n,u):no(ao,n,u),r.x=ao.x,r.y=ao.y,o=ao.align,a=ao.verticalAlign;var h=n.origin;if(h&&null!=n.rotation){var c=void 0,d=void 0;"center"===h?(c=.5*u.width,d=.5*u.height):(c=eo(h[0],u.width),d=eo(h[1],u.height)),l=!0,r.originX=-r.x+c+(i?0:u.x),r.originY=-r.y+d+(i?0:u.y)}}null!=n.rotation&&(r.rotation=n.rotation);var f=n.offset;f&&(r.x+=f[0],r.y+=f[1],l||(r.originX=-f[0],r.originY=-f[1]));var p=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,v=void 0,y=void 0;p&&this.canBeInsideText()?(m=n.insideFill,v=n.insideStroke,null!=m&&"auto"!==m||(m=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(m),y=!0)):(m=n.outsideFill,v=n.outsideStroke,null!=m&&"auto"!==m||(m=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(m),y=!0)),(m=m||"#000")===g.fill&&v===g.stroke&&y===g.autoStroke&&o===g.align&&a===g.verticalAlign||(s=!0,g.fill=m,g.stroke=v,g.autoStroke=y,g.align=o,g.verticalAlign=a,e.setDefaultTextStyle(g)),e.__dirty|=1,s&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Or:Dr},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&yi(e);n||(n=[255,255,255,1]);for(var i=n[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,ki(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},V(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(ut(t))for(var n=et(t),i=0;i<n.length;i++){var r=n[i];this.attrKV(r,t[r])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;if(!(i.getLoop()||r&&r!==io)){var o=i.targetName,a=o?e[o]:e;i.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,ro)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(io,!1,t)},t.prototype.useState=function(t,e,n,i){var r=t===io;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(U(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||r){r||this.saveCurrentToNormalState(s);var l=!!(s&&s.hoverLayer||i);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a);var u=this._textContent,h=this._textGuide;return u&&u.useState(t,e,n,l),h&&h.useState(t,e,n,l),r?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),s}N("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,n){if(t.length){var i=[],r=this.currentStates,o=t.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(t[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=t[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,t)),u||(u=this.states[l]),u&&i.push(u)}var h=i[o-1],c=!!(h&&h.hoverLayer||n);c&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),f=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&f&&f.duration>0,f);var p=this._textContent,g=this._textGuide;p&&p.useStates(t,e,c),g&&g.useStates(t,e,c),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},t.prototype.isSilent=function(){for(var t=this.silent,e=this.parent;!t&&e;){if(e.silent){t=!0;break}e=e.parent}return t},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=U(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),r=U(i,t),o=U(i,e)>=0;r>=0?o?i.splice(r,1):i[r]=e:n&&!o&&i.push(e),this.useStates(i)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},i=0;i<t.length;i++){var r=t[i];V(n,r),r.textConfig&&V(e=e||{},r.textConfig)}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,i,r,o){var a=!(e&&i);e&&e.textConfig?(this.textConfig=V({},i?this.textConfig:n.textConfig),V(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,u=0;u<ro.length;u++){var h=ro[u],c=r&&oo[h];e&&null!=e[h]?c?(l=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(c?(l=!0,s[h]=n[h]):this[h]=n[h])}if(!r)for(u=0;u<this.animators.length;u++){var d=this.animators[u],f=d.targetName;d.getLoop()||d.__changeFinalValue(f?(e||n)[f]:e||n)}l&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new Kr,this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),V(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var i=t?this[t]:this;var r=new hr(i,e,n);return t&&(r.targetName=t),this.addAnimator(r,t),r},t.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during((function(){i.updateDuringAnimation(e)})).done((function(){var e=i.animators,n=U(e,t);n>=0&&e.splice(n,1)})),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,r=[],o=0;o<i;o++){var a=n[o];t&&t!==a.scope?r.push(a):a.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,n){uo(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){uo(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,i){for(var r=uo(this,e,n,i),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=1;function n(t,n,i,r){function o(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}}),Object.defineProperty(e,1,{get:function(){return t[r]},set:function(e){t[r]=e}})}Object.defineProperty(e,t,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(t){this[i]=t[0],this[r]=t[1],this[n]=t,o(this,t)}})}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();function uo(t,e,n,i,r){var o=[];fo(t,"",t,e,n=n||{},i,o,r);var a=o.length,s=!1,l=n.done,u=n.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&n.during&&o[0].during((function(t,e){n.during(e)}));for(var d=0;d<o.length;d++){var f=o[d];h&&f.done(h),c&&f.aborted(c),n.force&&f.duration(n.duration),f.start(n.easing)}return o}function ho(t,e,n){for(var i=0;i<n;i++)t[i]=e[i]}function co(t,e,n){if(X(e[n]))if(X(t[n])||(t[n]=[]),ct(e[n])){var i=e[n].length;t[n].length!==i&&(t[n]=new e[n].constructor(i),ho(t[n],e[n],i))}else{var r=e[n],o=t[n],a=r.length;if(X(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?ho(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else ho(o,r,a);o.length=r.length}else t[n]=e[n]}function fo(t,e,n,i,r,o,a,s){for(var l=et(i),u=r.duration,h=r.delay,c=r.additive,d=r.setToFinal,f=!ut(o),p=t.animators,g=[],m=0;m<l.length;m++){var v=l[m],y=i[v];if(null!=y&&null!=n[v]&&(f||o[v]))if(!ut(y)||X(y)||ft(y))g.push(v);else{if(e){s||(n[v]=y,t.updateDuringAnimation(e));continue}fo(t,v,n[v],y,r,o&&o[v],a,s)}else s||(n[v]=y,t.updateDuringAnimation(e),g.push(v))}var b=g.length;if(!c&&b)for(var w=0;w<p.length;w++){if((_=p[w]).targetName===e)if(_.stopTracks(g)){var x=U(p,_);p.splice(x,1)}}if(r.force||(g=Q(g,(function(t){return e=i[t],r=n[t],!(e===r||X(e)&&X(r)&&function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}(e,r));var e,r})),b=g.length),b>0||r.force&&!a.length){var _,C=void 0,S=void 0,M=void 0;if(s){S={},d&&(C={});for(w=0;w<b;w++){S[v=g[w]]=n[v],d?C[v]=i[v]:n[v]=i[v]}}else if(d){M={};for(w=0;w<b;w++){M[v=g[w]]=ir(n[v]),co(n,i,v)}}(_=new hr(n,!1,!1,c?Q(p,(function(t){return t.targetName===e})):null)).targetName=e,r.scope&&(_.scope=r.scope),d&&C&&_.whenWithKeys(0,C,g),M&&_.whenWithKeys(0,M,g),_.whenWithKeys(null==u?500:u,s?S:i,g).delay(h||0),t.addAnimator(_,e),a.push(_)}}$(lo,de),$(lo,Kr);var po=lo,go=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return(0,g.ZT)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=U(this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,i=n[e];if(t&&t!==this&&t.parent!==this&&t!==i){n[e]=t,i.parent=null;var r=this.__zr;r&&i.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,i=U(n,t);return i<0||(n.splice(i,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var i=t[n];e&&i.removeSelfFromZr(e),i.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n],r=t.call(e,i);i.isGroup&&!r&&i.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new nn(0,0,0,0),n=t||this._children,i=[],r=null,o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(i);l?(nn.applyTransform(e,s,l),(r=r||e.clone()).union(e)):(r=r||s.clone()).union(s)}}return r||e},e}(po);go.prototype.type="group";var mo=go,vo={},yo={};var bo,wo=function(){function t(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var r=new Mn,o=n.renderer||"canvas";vo[o]||(o=et(vo)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new vo[o](e,r,n,t),s=n.ssr||a.ssrOnly;this.storage=r,this.painter=a;var l,u=y.node||y.worker||s?null:new Er(a.getViewportRoot(),a.root),h=n.useCoarsePointer;(null==h||"auto"===h?y.touchEventsSupported:!!h)&&(l=yt(n.pointerSize,44)),this.handler=new pn(r,a,u,a.root,l),this.animation=new gr({stage:{update:s?null:function(){return i._flush(!0)}}}),s||this.animation.start()}return t.prototype.add=function(t){!this._disposed&&t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){!this._disposed&&t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},t.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return Ri(t,1)<.4;if(t.colorStops){for(var e=t.colorStops,n=0,i=e.length,r=0;r<i;r++)n+=Ri(e[r].color,1);return(n/=i)<.4}return!1}(t))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(t){var e,n=cr();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=cr();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},t.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},t.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},t.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof mo&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){var t;this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,t=this.id,delete yo[t])},t}();function xo(t,e){var n=new wo(H(),t,e);return yo[n.id]=n,n}function _o(t){t.dispose()}function Co(){for(var t in yo)yo.hasOwnProperty(t)&&yo[t].dispose();yo={}}function So(t){return yo[t]}function Mo(t,e){vo[t]=e}function Ao(t){if("function"==typeof bo)return bo(t)}function To(t){bo=t}var ko="5.5.0",Ro=1e-4;function Io(t,e,n,i){var r=e[0],o=e[1],a=n[0],s=n[1],l=o-r,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(i)if(l>0){if(t<=r)return a;if(t>=o)return s}else{if(t>=r)return a;if(t<=o)return s}else{if(t===r)return a;if(t===o)return s}return(t-r)/l*u+a}function Po(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return at(t)?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function Eo(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function Bo(t){return t.sort((function(t,e){return t-e})),t}function Lo(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return Do(t)}function Do(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),i=n>0?+e.slice(n+1):0,r=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}function Oo(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Fo(t,e,n){return t[e]&&Ho(t,n)[e]||0}function Ho(t,e){var n=J(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===n)return[];for(var i=Math.pow(10,e),r=q(t,(function(t){return(isNaN(t)?0:t)/n*i*100})),o=100*i,a=q(r,(function(t){return Math.floor(t)})),s=J(a,(function(t,e){return t+e}),0),l=q(r,(function(t,e){return t-a[e]}));s<o;){for(var u=Number.NEGATIVE_INFINITY,h=null,c=0,d=l.length;c<d;++c)l[c]>u&&(u=l[c],h=c);++a[h],l[h]=0,++s}return q(a,(function(t){return t/i}))}function No(t,e){var n=Math.max(Lo(t),Lo(e)),i=t+e;return n>20?i:Eo(i,n)}var zo=9007199254740991;function Wo(t){var e=2*Math.PI;return(t%e+e)%e}function jo(t){return t>-1e-4&&t<Ro}var Vo=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Go(t){if(t instanceof Date)return t;if(at(t)){var e=Vo.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Zo(t){return Math.pow(10,Uo(t))}function Uo(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Ko(t,e){var n=Uo(t),i=Math.pow(10,n),r=t/i;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+t.toFixed(n<0?-n:0):t}function $o(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r}function Xo(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-n),e=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]==(n?-1:1)||!n&&s(t,e,1))}}function Yo(t){var e=parseFloat(t);return e==t&&(0!==e||!at(t)||t.indexOf("x")<=0)?e:NaN}function qo(t){return!isNaN(Yo(t))}function Jo(){return Math.round(9*Math.random())}function Qo(t,e){return 0===e?t:Qo(e,t%e)}function ta(t,e){return null==t?e:null==e?t:t*e/Qo(t,e)}function ea(t,e,n){return(e-t)*n+t}var na="series\0",ia="\0_ec_\0";function ra(t){return t instanceof Array?t:null==t?[]:[t]}function oa(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var aa=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function sa(t){return!ut(t)||rt(t)||t instanceof Date?t:t.value}function la(t){return ut(t)&&!(t instanceof Array)}function ua(t,e,n){var i="normalMerge"===n,r="replaceMerge"===n,o="replaceAll"===n;t=t||[],e=(e||[]).slice();var a=It();Y(e,(function(t,n){ut(t)||(e[n]=null)}));var s,l,u=function(t,e,n){var i=[];if("replaceAll"===n)return i;for(var r=0;r<t.length;r++){var o=t[r];o&&null!=o.id&&e.set(o.id,r),i.push({existing:"replaceMerge"===n||pa(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(t,a,n);return(i||r)&&function(t,e,n,i){Y(i,(function(r,o){if(r&&null!=r.id){var a=ca(r.id),s=n.get(a);if(null!=s){var l=t[s];_t(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=e[s],i[o]=null}}}))}(u,t,a,e),i&&function(t,e){Y(e,(function(n,i){if(n&&null!=n.name)for(var r=0;r<t.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(null==o.id||null==n.id)&&!pa(n)&&!pa(o)&&ha("name",o,n))return t[r].newOption=n,void(e[i]=null)}}))}(u,e),i||r?function(t,e,n){Y(e,(function(e){if(e){for(var i,r=0;(i=t[r])&&(i.newOption||pa(i.existing)||i.existing&&null!=e.id&&!ha("id",e,i.existing));)r++;i?(i.newOption=e,i.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),r++}}))}(u,e,r):o&&function(t,e){Y(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}(u,e),s=u,l=It(),Y(s,(function(t){var e=t.existing;e&&l.set(e.id,t)})),Y(s,(function(t){var e=t.newOption;_t(!e||null==e.id||!l.get(e.id)||l.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&l.set(e.id,t),!t.keyInfo&&(t.keyInfo={})})),Y(s,(function(t,e){var n=t.existing,i=t.newOption,r=t.keyInfo;if(ut(i)){if(r.name=null!=i.name?ca(i.name):n?n.name:na+e,n)r.id=ca(n.id);else if(null!=i.id)r.id=ca(i.id);else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(l.get(r.id))}l.set(r.id,t)}})),u}function ha(t,e,n){var i=da(e[t],null),r=da(n[t],null);return null!=i&&null!=r&&i===r}function ca(t){return da(t,"")}function da(t,e){return null==t?e:at(t)?t:lt(t)||st(t)?t+"":e}function fa(t){var e=t.name;return!(!e||!e.indexOf(na))}function pa(t){return t&&null!=t.id&&0===ca(t.id).indexOf(ia)}function ga(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?rt(e.dataIndex)?q(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?rt(e.name)?q(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function ma(){var t="__ec_inner_"+va++;return function(e){return e[t]||(e[t]={})}}var va=Jo();function ya(t,e,n){var i=ba(e,n),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=n?n.defaultMainType:null;return!r&&s&&o.set(s,{}),o.each((function(e,i){var r=_a(t,i,e,{useDefault:s===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[i+"Models"]=r.models,a[i+"Model"]=r.models[0]})),a}function ba(t,e){var n;if(at(t)){var i={};i[t+"Index"]=0,n=i}else n=t;var r=It(),o={},a=!1;return Y(n,(function(t,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],s=i[1],l=(i[2]||"").toLowerCase();if(s&&l&&!(e&&e.includeMainTypes&&U(e.includeMainTypes,s)<0))a=a||!!s,(r.get(s)||r.set(s,{}))[l]=t}else o[n]=t})),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var wa={useDefault:!0,enableAll:!1,enableNone:!1},xa={useDefault:!1,enableAll:!0,enableNone:!0};function _a(t,e,n,i){i=i||wa;var r=n.index,o=n.id,a=n.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[],s}return"none"===r||!1===r?(_t(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(_t(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=t.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function Ca(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function Sa(t,e){var n=It(),i=[];return Y(t,(function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)})),{keys:i,buckets:n}}function Ma(t,e,n,i,r){var o=null==e||"auto"===e;if(null==i)return i;if(lt(i))return Eo(p=ea(n||0,i,r),o?Math.max(Lo(n||0),Lo(i)):e);if(at(i))return r<1?n:i;for(var a=[],s=n,l=i,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){var c=t.getDimensionInfo(h);if(c&&"ordinal"===c.type)a[h]=(r<1&&s?s:l)[h];else{var d=s&&s[h]?s[h]:0,f=l[h],p=ea(d,f,r);a[h]=Eo(p,o?Math.max(Lo(d),Lo(f)):e)}}return a}var Aa="___EC__COMPONENT__CONTAINER___",Ta="___EC__EXTENDED_CLASS___";function ka(t){var e={main:"",sub:""};if(t){var n=t.split(".");e.main=n[0]||"",e.sub=n[1]||""}return e}function Ra(t,e){t.$constructor=t,t.extend=function(t){var e,n,i=this;return ot(n=i)&&/^class\s/.test(Function.prototype.toString.call(n))?e=function(t){function e(){return t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e}(i):(e=function(){(t.$constructor||i).apply(this,arguments)},K(e,this)),V(e.prototype,t),e[Ta]=!0,e.extend=this.extend,e.superCall=Ea,e.superApply=Ba,e.superClass=i,e}}function Ia(t,e){t.extend=e.extend}var Pa=Math.round(10*Math.random());function Ea(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function Ba(t,e,n){return this.superClass.prototype[e].apply(t,n)}function La(t){var e={};t.registerClass=function(t){var n,i=t.type||t.prototype.type;if(i){_t(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=i),'componentType "'+n+'" illegal'),t.prototype.type=i;var r=ka(i);if(r.sub){if(r.sub!==Aa){var o=function(t){var n=e[t.main];n&&n[Aa]||((n=e[t.main]={})[Aa]=!0);return n}(r);o[r.sub]=t}}else e[r.main]=t}return t},t.getClass=function(t,n,i){var r=e[t];if(r&&r[Aa]&&(r=n?r[n]:null),i&&!r)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){var n=ka(t),i=[],r=e[n.main];return r&&r[Aa]?Y(r,(function(t,e){e!==Aa&&i.push(t)})):i.push(r),i},t.hasClass=function(t){var n=ka(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return Y(e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){var n=ka(t),i=e[n.main];return i&&i[Aa]}}function Da(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,i,r){for(var o={},a=0;a<t.length;a++){var s=t[a][1];if(!(i&&U(i,s)>=0||r&&U(r,s)<0)){var l=n.getShallow(s,e);null!=l&&(o[t[a][0]]=l)}}return o}}var Oa=Da([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Fa=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return Oa(this,t,e)},t}(),Ha=new oi(50);function Na(t){if("string"==typeof t){var e=Ha.get(t);return e&&e.image}return t}function za(t,e,n,i,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=Ha.get(t),a={hostEl:n,cb:i,cbPayload:r};return o?!ja(e=o.image)&&o.pending.push(a):((e=S.loadImage(t,Wa,Wa)).__zrImageSrc=t,Ha.put(t,e.__cachedImgObj={image:e,pending:[a]})),e}return t}return e}function Wa(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function ja(t){return t&&t.width&&t.height}var Va=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ga(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=Za(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=Ua(o[a],r);return o.join("\n")}function Za(t,e,n,i){var r=V({},i=i||{});r.font=e,n=yt(n,"..."),r.maxIterations=yt(i.maxIterations,2);var o=r.minChar=yt(i.minChar,0);r.cnCharWidth=Xr("",e);var a=r.ascCharWidth=Xr("a",e);r.placeholder=yt(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var u=Xr(n,e);return u>s&&(n="",u=0),s=t-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=t,r}function Ua(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=Xr(t,i);if(o<=n)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?Ka(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=Xr(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function Ka(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}var $a=function(){},Xa=function(t){this.tokens=[],t&&(this.tokens=t)},Ya=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function qa(t,e,n,i,r){var o,a,s=""===e,l=r&&n.rich[r]||{},u=t.lines,h=l.font||n.font,c=!1;if(i){var d=l.padding,f=d?d[1]+d[3]:0;if(null!=l.width&&"auto"!==l.width){var p=eo(l.width,i.width)+f;u.length>0&&p+i.accumWidth>i.width&&(o=e.split("\n"),c=!0),i.accumWidth=p}else{var g=ts(e,h,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+f,a=g.linesWidths,o=g.lines}}else o=e.split("\n");for(var m=0;m<o.length;m++){var v=o[m],y=new $a;if(y.styleName=r,y.text=v,y.isLineHolder=!v&&!s,"number"==typeof l.width?y.width=l.width:y.width=a?a[m]:Xr(v,h),m||c)u.push(new Xa([y]));else{var b=(u[u.length-1]||(u[0]=new Xa)).tokens,w=b.length;1===w&&b[0].isLineHolder?b[0]=y:(v||!w||s)&&b.push(y)}}}var Ja=J(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function Qa(t){return!function(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}(t)||!!Ja[t]}function ts(t,e,n,i,r){for(var o=[],a=[],s="",l="",u=0,h=0,c=0;c<t.length;c++){var d=t.charAt(c);if("\n"!==d){var f=Xr(d,e),p=!i&&!Qa(d);(o.length?h+f>n:r+h+f>n)?h?(s||l)&&(p?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=d,s="",h=u+=f):(l&&(s+=l,l="",u=0),o.push(s),a.push(h),s=d,h=f)):p?(o.push(l),a.push(u),l=d,u=f):(o.push(d),a.push(f)):(h+=f,p?(l+=d,u+=f):(l&&(s+=l,l="",u=0),s+=d))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=t,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var es="__zr_style_"+Math.round(10*Math.random()),ns={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},is={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ns[es]=!0;var rs=["z","z2","invisible"],os=["invisible"],as=function(t){function e(e){return t.call(this,e)||this}var n;return(0,g.ZT)(e,t),e.prototype._init=function(e){for(var n=et(e),i=0;i<n.length;i++){var r=n[i];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,i){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,e,n){ss.copy(t.getBoundingRect()),t.transform&&ss.applyTransform(t.transform);return ls.width=e,ls.height=n,!ss.intersect(ls)}(this,t,e)||r&&!r[0]&&!r[3])return!1;if(n&&this.__clipPaths)for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1;if(i&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),i=this.style,r=i.shadowBlur||0,o=i.shadowOffsetX||0,a=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new nn(0,0,0,0)),e?nn.applyTransform(t,n,e):t.copy(n),(r||o||a)&&(t.width+=2*r+Math.abs(o),t.height+=2*r+Math.abs(a),t.x=Math.min(t.x,t.x+o-r),t.y=Math.min(t.y,t.y+a-r));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new nn(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:V(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return Et(ns,t)},e.prototype.useStyle=function(t){t[es]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[es]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,rs)},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.style?o?r?s=n.style:(s=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),r?this.style:i.style),this._mergeStyle(s,n.style)):l&&(s=i.style),s)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=et(u),c=0;c<h.length;c++){(f=h[c])in s&&(s[f]=s[f],this.style[f]=u[f])}var d=et(s);for(c=0;c<d.length;c++){var f=d[c];this.style[f]=this.style[f]}this._transitionState(e,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var p=this.__inHover?os:rs;for(c=0;c<p.length;c++){f=p[c];n&&null!=n[f]?this[f]=n[f]:l&&null!=i[f]&&(this[f]=i[f])}},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(i.style=n),i},e.prototype._mergeStyle=function(t,e){return V(t,e),t},e.prototype.getAnimationStyleProps=function(){return is},e.initDefaultProps=((n=e.prototype).type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,void(n.__dirty=3)),e}(po),ss=new nn(0,0,0,0),ls=new nn(0,0,0,0);var us=as,hs=Math.min,cs=Math.max,ds=Math.sin,fs=Math.cos,ps=2*Math.PI,gs=Ft(),ms=Ft(),vs=Ft();function ys(t,e,n){if(0!==t.length){for(var i=t[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<t.length;l++)i=t[l],r=hs(r,i[0]),o=cs(o,i[0]),a=hs(a,i[1]),s=cs(s,i[1]);e[0]=r,e[1]=a,n[0]=o,n[1]=s}}function bs(t,e,n,i,r,o){r[0]=hs(t,n),r[1]=hs(e,i),o[0]=cs(t,n),o[1]=cs(e,i)}var ws=[],xs=[];function _s(t,e,n,i,r,o,a,s,l,u){var h=Vn,c=zn,d=h(t,n,r,a,ws);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var f=0;f<d;f++){var p=c(t,n,r,a,ws[f]);l[0]=hs(p,l[0]),u[0]=cs(p,u[0])}d=h(e,i,o,s,xs);for(f=0;f<d;f++){var g=c(e,i,o,s,xs[f]);l[1]=hs(g,l[1]),u[1]=cs(g,u[1])}l[0]=hs(t,l[0]),u[0]=cs(t,u[0]),l[0]=hs(a,l[0]),u[0]=cs(a,u[0]),l[1]=hs(e,l[1]),u[1]=cs(e,u[1]),l[1]=hs(s,l[1]),u[1]=cs(s,u[1])}function Cs(t,e,n,i,r,o,a,s){var l=Xn,u=Kn,h=cs(hs(l(t,n,r),1),0),c=cs(hs(l(e,i,o),1),0),d=u(t,n,r,h),f=u(e,i,o,c);a[0]=hs(t,r,d),a[1]=hs(e,o,f),s[0]=cs(t,r,d),s[1]=cs(e,o,f)}function Ss(t,e,n,i,r,o,a,s,l){var u=ae,h=se,c=Math.abs(r-o);if(c%ps<1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-i,l[0]=t+n,void(l[1]=e+i);if(gs[0]=fs(r)*n+t,gs[1]=ds(r)*i+e,ms[0]=fs(o)*n+t,ms[1]=ds(o)*i+e,u(s,gs,ms),h(l,gs,ms),(r%=ps)<0&&(r+=ps),(o%=ps)<0&&(o+=ps),r>o&&!a?o+=ps:r<o&&a&&(r+=ps),a){var d=o;o=r,r=d}for(var f=0;f<o;f+=Math.PI/2)f>r&&(vs[0]=fs(f)*n+t,vs[1]=ds(f)*i+e,u(s,vs,s),h(l,vs,l))}var Ms={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},As=[],Ts=[],ks=[],Rs=[],Is=[],Ps=[],Es=Math.min,Bs=Math.max,Ls=Math.cos,Ds=Math.sin,Os=Math.abs,Fs=Math.PI,Hs=2*Fs,Ns="undefined"!=typeof Float32Array,zs=[];function Ws(t){return Math.round(t/Fs*1e8)/1e8%2*Fs}function js(t,e){var n=Ws(t[0]);n<0&&(n+=Hs);var i=n-t[0],r=t[1];r+=i,!e&&r-n>=Hs?r=n+Hs:e&&n-r>=Hs?r=n-Hs:!e&&n>r?r=n+(Hs-Ws(n-r)):e&&n<r&&(r=n-(Hs-Ws(r-n))),t[0]=n,t[1]=r}var Vs=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=Os(n/Lr/t)||0,this._uy=Os(n/Lr/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Ms.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=Os(t-this._xi),i=Os(e-this._yi),r=n>this._ux||i>this._uy;if(this.addData(Ms.L,t,e),this._ctx&&r&&this._ctx.lineTo(t,e),r)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){return this._drawPendingPt(),this.addData(Ms.C,t,e,n,i,r,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,r,o),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(Ms.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(t,e,n,i,r,o){this._drawPendingPt(),zs[0]=i,zs[1]=r,js(zs,o),i=zs[0];var a=(r=zs[1])-i;return this.addData(Ms.A,t,e,n,n,i,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=Ls(r)*n+t,this._yi=Ds(r)*n+e,this},t.prototype.arcTo=function(t,e,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},t.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(Ms.R,t,e,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ms.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Ns||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();Ns&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},t.prototype.addData=function(t,e,n,i,r,o,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Ns&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){ks[0]=ks[1]=Is[0]=Is[1]=Number.MAX_VALUE,Rs[0]=Rs[1]=Ps[0]=Ps[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,i=0,r=0,o=0;for(t=0;t<this._len;){var a=e[t++],s=1===t;switch(s&&(r=n=e[t],o=i=e[t+1]),a){case Ms.M:n=r=e[t++],i=o=e[t++],Is[0]=r,Is[1]=o,Ps[0]=r,Ps[1]=o;break;case Ms.L:bs(n,i,e[t],e[t+1],Is,Ps),n=e[t++],i=e[t++];break;case Ms.C:_s(n,i,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Is,Ps),n=e[t++],i=e[t++];break;case Ms.Q:Cs(n,i,e[t++],e[t++],e[t],e[t+1],Is,Ps),n=e[t++],i=e[t++];break;case Ms.A:var l=e[t++],u=e[t++],h=e[t++],c=e[t++],d=e[t++],f=e[t++]+d;t+=1;var p=!e[t++];s&&(r=Ls(d)*h+l,o=Ds(d)*c+u),Ss(l,u,h,c,d,f,p,Is,Ps),n=Ls(f)*h+l,i=Ds(f)*c+u;break;case Ms.R:bs(r=n=e[t++],o=i=e[t++],r+e[t++],o+e[t++],Is,Ps);break;case Ms.Z:n=r,i=o}ae(ks,ks,Is),se(Rs,Rs,Ps)}return 0===t&&(ks[0]=ks[1]=Rs[0]=Rs[1]=0),new nn(ks[0],ks[1],Rs[0]-ks[0],Rs[1]-ks[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,r=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,h=0,c=0;c<e;){var d=t[c++],f=1===c;f&&(a=r=t[c],s=o=t[c+1]);var p=-1;switch(d){case Ms.M:r=a=t[c++],o=s=t[c++];break;case Ms.L:var g=t[c++],m=(b=t[c++])-o;(Os(R=g-r)>n||Os(m)>i||c===e-1)&&(p=Math.sqrt(R*R+m*m),r=g,o=b);break;case Ms.C:var v=t[c++],y=t[c++],b=(g=t[c++],t[c++]),w=t[c++],x=t[c++];p=Un(r,o,v,y,g,b,w,x,10),r=w,o=x;break;case Ms.Q:p=Jn(r,o,v=t[c++],y=t[c++],g=t[c++],b=t[c++],10),r=g,o=b;break;case Ms.A:var _=t[c++],C=t[c++],S=t[c++],M=t[c++],A=t[c++],T=t[c++],k=T+A;c+=1,f&&(a=Ls(A)*S+_,s=Ds(A)*M+C),p=Bs(S,M)*Es(Hs,Math.abs(T)),r=Ls(k)*S+_,o=Ds(k)*M+C;break;case Ms.R:a=r=t[c++],s=o=t[c++],p=2*t[c++]+2*t[c++];break;case Ms.Z:var R=a-r;m=s-o;p=Math.sqrt(R*R+m*m),r=a,o=s}p>=0&&(l[h++]=p,u+=p)}return this._pathLen=u,u},t.prototype.rebuildPath=function(t,e){var n,i,r,o,a,s,l,u,h,c,d=this.data,f=this._ux,p=this._uy,g=this._len,m=e<1,v=0,y=0,b=0;if(!m||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=e*this._pathLen))t:for(var w=0;w<g;){var x=d[w++],_=1===w;switch(_&&(n=r=d[w],i=o=d[w+1]),x!==Ms.L&&b>0&&(t.lineTo(h,c),b=0),x){case Ms.M:n=r=d[w++],i=o=d[w++],t.moveTo(r,o);break;case Ms.L:a=d[w++],s=d[w++];var C=Os(a-r),S=Os(s-o);if(C>f||S>p){if(m){if(v+($=l[y++])>u){var M=(u-v)/$;t.lineTo(r*(1-M)+a*M,o*(1-M)+s*M);break t}v+=$}t.lineTo(a,s),r=a,o=s,b=0}else{var A=C*C+S*S;A>b&&(h=a,c=s,b=A)}break;case Ms.C:var T=d[w++],k=d[w++],R=d[w++],I=d[w++],P=d[w++],E=d[w++];if(m){if(v+($=l[y++])>u){Gn(r,T,R,P,M=(u-v)/$,As),Gn(o,k,I,E,M,Ts),t.bezierCurveTo(As[1],Ts[1],As[2],Ts[2],As[3],Ts[3]);break t}v+=$}t.bezierCurveTo(T,k,R,I,P,E),r=P,o=E;break;case Ms.Q:T=d[w++],k=d[w++],R=d[w++],I=d[w++];if(m){if(v+($=l[y++])>u){Yn(r,T,R,M=(u-v)/$,As),Yn(o,k,I,M,Ts),t.quadraticCurveTo(As[1],Ts[1],As[2],Ts[2]);break t}v+=$}t.quadraticCurveTo(T,k,R,I),r=R,o=I;break;case Ms.A:var B=d[w++],L=d[w++],D=d[w++],O=d[w++],F=d[w++],H=d[w++],N=d[w++],z=!d[w++],W=D>O?D:O,j=Os(D-O)>.001,V=F+H,G=!1;if(m)v+($=l[y++])>u&&(V=F+H*(u-v)/$,G=!0),v+=$;if(j&&t.ellipse?t.ellipse(B,L,D,O,N,F,V,z):t.arc(B,L,W,F,V,z),G)break t;_&&(n=Ls(F)*D+B,i=Ds(F)*O+L),r=Ls(V)*D+B,o=Ds(V)*O+L;break;case Ms.R:n=r=d[w],i=o=d[w+1],a=d[w++],s=d[w++];var Z=d[w++],U=d[w++];if(m){if(v+($=l[y++])>u){var K=u-v;t.moveTo(a,s),t.lineTo(a+Es(K,Z),s),(K-=Z)>0&&t.lineTo(a+Z,s+Es(K,U)),(K-=U)>0&&t.lineTo(a+Bs(Z-K,0),s+U),(K-=Z)>0&&t.lineTo(a,s+Bs(U-K,0));break t}v+=$}t.rect(a,s,Z,U);break;case Ms.Z:if(m){var $;if(v+($=l[y++])>u){M=(u-v)/$;t.lineTo(r*(1-M)+n*M,o*(1-M)+i*M);break t}v+=$}t.closePath(),r=n,o=i}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=Ms,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}(),Gs=Vs;function Zs(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}function Us(t,e,n,i,r,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>i+c&&h>o+c&&h>s+c||h<e-c&&h<i-c&&h<o-c&&h<s-c||u>t+c&&u>n+c&&u>r+c&&u>a+c||u<t-c&&u<n-c&&u<r-c&&u<a-c)&&Zn(t,e,n,i,r,o,a,s,u,h,null)<=c/2}function Ks(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>i+u&&l>o+u||l<e-u&&l<i-u&&l<o-u||s>t+u&&s>n+u&&s>r+u||s<t-u&&s<n-u&&s<r-u)&&qn(t,e,n,i,r,o,s,l,null)<=u/2}var $s=2*Math.PI;function Xs(t){return(t%=$s)<0&&(t+=$s),t}var Ys=2*Math.PI;function qs(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(i-r)%Ys<1e-4)return!0;if(o){var c=i;i=Xs(r),r=Xs(c)}else i=Xs(i),r=Xs(r);i>r&&(r+=Ys);var d=Math.atan2(l,s);return d<0&&(d+=Ys),d>=i&&d<=r||d+Ys>=i&&d+Ys<=r}function Js(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i)return 0;if(i===e)return 0;var a=(o-e)/(i-e),s=i<e?1:-1;1!==a&&0!==a||(s=i<e?.5:-.5);var l=a*(n-t)+t;return l===r?1/0:l>r?s:0}var Qs=Gs.CMD,tl=2*Math.PI;var el=[-1,-1,-1],nl=[-1,-1];function il(t,e,n,i,r,o,a,s,l,u){if(u>e&&u>i&&u>o&&u>s||u<e&&u<i&&u<o&&u<s)return 0;var h,c=jn(e,i,o,s,u,el);if(0===c)return 0;for(var d=0,f=-1,p=void 0,g=void 0,m=0;m<c;m++){var v=el[m],y=0===v||1===v?.5:1;zn(t,n,r,a,v)<l||(f<0&&(f=Vn(e,i,o,s,nl),nl[1]<nl[0]&&f>1&&(h=void 0,h=nl[0],nl[0]=nl[1],nl[1]=h),p=zn(e,i,o,s,nl[0]),f>1&&(g=zn(e,i,o,s,nl[1]))),2===f?v<nl[0]?d+=p<e?y:-y:v<nl[1]?d+=g<p?y:-y:d+=s<g?y:-y:v<nl[0]?d+=p<e?y:-y:d+=s<p?y:-y)}return d}function rl(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=function(t,e,n,i,r){var o=t-2*e+n,a=2*(e-t),s=t-i,l=0;if(Hn(o))Nn(a)&&(h=-s/a)>=0&&h<=1&&(r[l++]=h);else{var u=a*a-4*o*s;if(Hn(u))(h=-a/(2*o))>=0&&h<=1&&(r[l++]=h);else if(u>0){var h,c=In(u),d=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h<=1&&(r[l++]=h),d>=0&&d<=1&&(r[l++]=d)}}return l}(e,i,o,s,el);if(0===l)return 0;var u=Xn(e,i,o);if(u>=0&&u<=1){for(var h=0,c=Kn(e,i,o,u),d=0;d<l;d++){var f=0===el[d]||1===el[d]?.5:1;Kn(t,n,r,el[d])<a||(el[d]<u?h+=c<e?f:-f:h+=o<c?f:-f)}return h}f=0===el[0]||1===el[0]?.5:1;return Kn(t,n,r,el[0])<a?0:o<e?f:-f}function ol(t,e,n,i,r,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);el[0]=-l,el[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=tl-1e-4){i=0,r=tl;var h=o?1:-1;return a>=el[0]+t&&a<=el[1]+t?h:0}if(i>r){var c=i;i=r,r=c}i<0&&(i+=tl,r+=tl);for(var d=0,f=0;f<2;f++){var p=el[f];if(p+t>a){var g=Math.atan2(s,p);h=o?1:-1;g<0&&(g=tl+g),(g>=i&&g<=r||g+tl>=i&&g+tl<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),d+=h)}}return d}function al(t,e,n,i,r){for(var o,a,s,l,u=t.data,h=t.len(),c=0,d=0,f=0,p=0,g=0,m=0;m<h;){var v=u[m++],y=1===m;switch(v===Qs.M&&m>1&&(n||(c+=Js(d,f,p,g,i,r))),y&&(p=d=u[m],g=f=u[m+1]),v){case Qs.M:d=p=u[m++],f=g=u[m++];break;case Qs.L:if(n){if(Zs(d,f,u[m],u[m+1],e,i,r))return!0}else c+=Js(d,f,u[m],u[m+1],i,r)||0;d=u[m++],f=u[m++];break;case Qs.C:if(n){if(Us(d,f,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],e,i,r))return!0}else c+=il(d,f,u[m++],u[m++],u[m++],u[m++],u[m],u[m+1],i,r)||0;d=u[m++],f=u[m++];break;case Qs.Q:if(n){if(Ks(d,f,u[m++],u[m++],u[m],u[m+1],e,i,r))return!0}else c+=rl(d,f,u[m++],u[m++],u[m],u[m+1],i,r)||0;d=u[m++],f=u[m++];break;case Qs.A:var b=u[m++],w=u[m++],x=u[m++],_=u[m++],C=u[m++],S=u[m++];m+=1;var M=!!(1-u[m++]);o=Math.cos(C)*x+b,a=Math.sin(C)*_+w,y?(p=o,g=a):c+=Js(d,f,o,a,i,r);var A=(i-b)*_/x+b;if(n){if(qs(b,w,_,C,C+S,M,e,A,r))return!0}else c+=ol(b,w,_,C,C+S,M,A,r);d=Math.cos(C+S)*x+b,f=Math.sin(C+S)*_+w;break;case Qs.R:if(p=d=u[m++],g=f=u[m++],o=p+u[m++],a=g+u[m++],n){if(Zs(p,g,o,g,e,i,r)||Zs(o,g,o,a,e,i,r)||Zs(o,a,p,a,e,i,r)||Zs(p,a,p,g,e,i,r))return!0}else c+=Js(o,g,o,a,i,r),c+=Js(p,a,p,g,i,r);break;case Qs.Z:if(n){if(Zs(d,f,p,g,e,i,r))return!0}else c+=Js(d,f,p,g,i,r);d=p,f=g}}return n||(s=f,l=g,Math.abs(s-l)<1e-4)||(c+=Js(d,f,p,g,i,r)||0),0!==c}var sl=G({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ns),ll={style:G({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},is.style)},ul=Zr.concat(["invisible","culling","z","z2","zlevel","parent"]),hl=function(t){function e(e){return t.call(this,e)||this}var n;return(0,g.ZT)(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){n.buildPath(t,n.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<ul.length;++s)r[ul[s]]=this[ul[s]];r.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=et(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var r=0;r<n.length;r++){var o=n[r],a=e[o];"style"===o?this.style?V(this.style,a):this.useStyle(a):"shape"===o?V(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(at(t)){var e=Ri(t,0);return e>.5?Dr:e>.2?"#eee":Or}if(t)return Or}return Dr},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(at(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())===Ri(t,0)<.4)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Gs(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var i=!1;this.path||(i=!0,this.createPathProxy());var r=this.path;(i||4&this.__dirty)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),t=r.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,null==l?4:l)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,i){return al(t,e,!0,n,i)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return al(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"==typeof t?n[t]=e:V(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(t){return Et(sl,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=V({},this.shape))},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.shape?o?r?s=n.shape:(s=V({},i.shape),V(s,n.shape)):(s=V({},r?this.shape:i.shape),V(s,n.shape)):l&&(s=i.shape),s)if(o){this.shape=V({},this.shape);for(var u={},h=et(s),c=0;c<h.length;c++){var d=h[c];"object"==typeof s[d]?this.shape[d]=s[d]:u[d]=s[d]}this._transitionState(e,{shape:u},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(i.shape=n),i},e.prototype.getAnimationStyleProps=function(){return ll},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var i=e.call(this,n)||this;return t.init&&t.init.call(i,n),i}return(0,g.ZT)(n,e),n.prototype.getDefaultStyle=function(){return z(t.style)},n.prototype.getDefaultShape=function(){return z(t.shape)},n}(e);for(var i in t)"function"==typeof t[i]&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=((n=e.prototype).type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,void(n.__dirty=7)),e}(us),cl=hl,dl=G({strokeFirst:!0,font:w,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},sl),fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return Et(dl,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=qr(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var i=t.lineWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(us);fl.prototype.type="tspan";var pl=fl,gl=G({x:0,y:0},ns),ml={style:G({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},is.style)};var vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.createStyle=function(t){return Et(gl,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var i,r=(i=e.image)&&"string"!=typeof i&&i.width&&i.height?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?r[t]:r[t]/r[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return ml},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new nn(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(us);vl.prototype.type="image";var yl=vl;var bl=Math.round;function wl(t,e,n){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;t.x1=i,t.x2=r,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s?(bl(2*i)===bl(2*r)&&(t.x1=t.x2=_l(i,s,!0)),bl(2*o)===bl(2*a)&&(t.y1=t.y2=_l(o,s,!0)),t):t}}function xl(t,e,n){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;t.x=i,t.y=r,t.width=o,t.height=a;var s=n&&n.lineWidth;return s?(t.x=_l(i,s,!0),t.y=_l(r,s,!0),t.width=Math.max(_l(i+o,s,!1)-t.x,0===o?0:1),t.height=Math.max(_l(r+a,s,!1)-t.y,0===a?0:1),t):t}}function _l(t,e,n){if(!e)return t;var i=bl(2*t);return(i+bl(e))%2==0?i/2:(i+(n?1:-1))/2}var Cl=function(){this.x=0,this.y=0,this.width=0,this.height=0},Sl={},Ml=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new Cl},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=xl(Sl,e,this.style);n=a.x,i=a.y,r=a.width,o=a.height,a.r=e.r,e=a}else n=e.x,i=e.y,r=e.width,o=e.height;e.r?function(t,e){var n,i,r,o,a,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),"number"==typeof c?n=i=r=o=c:c instanceof Array?1===c.length?n=i=r=o=c[0]:2===c.length?(n=r=c[0],i=o=c[1]):3===c.length?(n=c[0],i=o=c[1],r=c[2]):(n=c[0],i=c[1],r=c[2],o=c[3]):n=i=r=o=0,n+i>u&&(n*=u/(a=n+i),i*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),i+r>h&&(i*=h/(a=i+r),r*=h/a),n+o>h&&(n*=h/(a=n+o),o*=h/a),t.moveTo(s+n,l),t.lineTo(s+u-i,l),0!==i&&t.arc(s+u-i,l+i,i,-Math.PI/2,0),t.lineTo(s+u,l+h-r),0!==r&&t.arc(s+u-r,l+h-r,r,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,i,r,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(cl);Ml.prototype.type="rect";var Al=Ml,Tl={fill:"#000"},kl={style:G({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},is.style)},Rl=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Tl,n.attr(e),n}return(0,g.ZT)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,Ol(t=this.style),Y(t.rich,Ol),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new nn(0,0,0,0),e=this._children,n=[],i=null,r=0;r<e.length;r++){var o=e[r],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(i=i||t.clone()).union(t)):(i=i||a.clone()).union(a)}this._rect=i||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Tl},e.prototype.setTextContent=function(t){0},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,i=t.rich||n&&{};return V(t,e),n&&i?(this._mergeRich(i,n),t.rich=i):i&&(t.rich=i),t},e.prototype._mergeRich=function(t,e){for(var n=et(e),i=0;i<n.length;i++){var r=n[i];t[r]=t[r]||{},V(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return kl},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||w,n=t.padding,i=function(t,e){null!=t&&(t+="");var n,i=e.overflow,r=e.padding,o=e.font,a="truncate"===i,s=to(o),l=yt(e.lineHeight,s),u=!!e.backgroundColor,h="truncate"===e.lineOverflow,c=e.width,d=(n=null==c||"break"!==i&&"breakAll"!==i?t?t.split("\n"):[]:t?ts(t,e.font,c,"breakAll"===i,0).lines:[]).length*l,f=yt(e.height,d);if(d>f&&h){var p=Math.floor(f/l);n=n.slice(0,p)}if(t&&a&&null!=c)for(var g=Za(c,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m=0;m<n.length;m++)n[m]=Ua(n[m],g);var v=f,y=0;for(m=0;m<n.length;m++)y=Math.max(Xr(n[m],o),y);null==c&&(c=y);var b=y;return r&&(v+=r[0]+r[2],b+=r[1]+r[3],c+=r[1]+r[3]),u&&(b=c),{lines:n,height:f,outerWidth:b,outerHeight:v,lineHeight:l,calculatedLineHeight:s,contentWidth:y,contentHeight:d,width:c}}(zl(t),t),r=Wl(t),o=!!t.backgroundColor,a=i.outerHeight,s=i.outerWidth,l=i.contentWidth,u=i.lines,h=i.lineHeight,c=this._defaultStyle,d=t.x||0,f=t.y||0,p=t.align||c.align||"left",g=t.verticalAlign||c.verticalAlign||"top",m=d,v=Qr(f,i.contentHeight,g);if(r||n){var y=Jr(d,s,p),b=Qr(f,a,g);r&&this._renderBackground(t,t,y,b,s,a)}v+=h/2,n&&(m=Nl(d,p,n),"top"===g?v+=n[0]:"bottom"===g&&(v-=n[2]));for(var x=0,_=!1,C=(Hl("fill"in t?t.fill:(_=!0,c.fill))),S=(Fl("stroke"in t?t.stroke:o||c.autoStroke&&!_?null:(x=2,c.stroke))),M=t.textShadowBlur>0,A=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),T=i.calculatedLineHeight,k=0;k<u.length;k++){var R=this._getOrCreateChild(pl),I=R.createStyle();R.useStyle(I),I.text=u[k],I.x=m,I.y=v,p&&(I.textAlign=p),I.textBaseline="middle",I.opacity=t.opacity,I.strokeFirst=!0,M&&(I.shadowBlur=t.textShadowBlur||0,I.shadowColor=t.textShadowColor||"transparent",I.shadowOffsetX=t.textShadowOffsetX||0,I.shadowOffsetY=t.textShadowOffsetY||0),I.stroke=S,I.fill=C,S&&(I.lineWidth=t.lineWidth||x,I.lineDash=t.lineDash,I.lineDashOffset=t.lineDashOffset||0),I.font=e,Ll(I,t),v+=h,A&&R.setBoundingRect(new nn(Jr(I.x,t.width,I.textAlign),Qr(I.y,T,I.textBaseline),l,T))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var n=new Ya;if(null!=t&&(t+=""),!t)return n;for(var i,r=e.width,o=e.height,a=e.overflow,s="break"!==a&&"breakAll"!==a||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===a},l=Va.lastIndex=0;null!=(i=Va.exec(t));){var u=i.index;u>l&&qa(n,t.substring(l,u),e,s),qa(n,i[2],e,s,i[1]),l=Va.lastIndex}l<t.length&&qa(n,t.substring(l,t.length),e,s);var h=[],c=0,d=0,f=e.padding,p="truncate"===a,g="truncate"===e.lineOverflow;function m(t,e,n){t.width=e,t.lineHeight=n,c+=n,d=Math.max(d,e)}t:for(var v=0;v<n.lines.length;v++){for(var y=n.lines[v],b=0,w=0,x=0;x<y.tokens.length;x++){var _=(E=y.tokens[x]).styleName&&e.rich[E.styleName]||{},C=E.textPadding=_.padding,S=C?C[1]+C[3]:0,M=E.font=_.font||e.font;E.contentHeight=to(M);var A=yt(_.height,E.contentHeight);if(E.innerHeight=A,C&&(A+=C[0]+C[2]),E.height=A,E.lineHeight=bt(_.lineHeight,e.lineHeight,A),E.align=_&&_.align||e.align,E.verticalAlign=_&&_.verticalAlign||"middle",g&&null!=o&&c+E.lineHeight>o){x>0?(y.tokens=y.tokens.slice(0,x),m(y,w,b),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break t}var T=_.width,k=null==T||"auto"===T;if("string"==typeof T&&"%"===T.charAt(T.length-1))E.percentWidth=T,h.push(E),E.contentWidth=Xr(E.text,M);else{if(k){var R=_.backgroundColor,I=R&&R.image;I&&ja(I=Na(I))&&(E.width=Math.max(E.width,I.width*A/I.height))}var P=p&&null!=r?r-w:null;null!=P&&P<E.width?!k||P<S?(E.text="",E.width=E.contentWidth=0):(E.text=Ga(E.text,P-S,M,e.ellipsis,{minChar:e.truncateMinChar}),E.width=E.contentWidth=Xr(E.text,M)):E.contentWidth=Xr(E.text,M)}E.width+=S,w+=E.width,_&&(b=Math.max(b,E.lineHeight))}m(y,w,b)}for(n.outerWidth=n.width=yt(r,d),n.outerHeight=n.height=yt(o,c),n.contentHeight=c,n.contentWidth=d,f&&(n.outerWidth+=f[1]+f[3],n.outerHeight+=f[0]+f[2]),v=0;v<h.length;v++){var E,B=(E=h[v]).percentWidth;E.width=parseInt(B,10)/100*n.width}return n}(zl(t),t),n=e.width,i=e.outerWidth,r=e.outerHeight,o=t.padding,a=t.x||0,s=t.y||0,l=this._defaultStyle,u=t.align||l.align,h=t.verticalAlign||l.verticalAlign,c=Jr(a,i,u),d=Qr(s,r,h),f=c,p=d;o&&(f+=o[3],p+=o[0]);var g=f+n;Wl(t)&&this._renderBackground(t,t,c,d,i,r);for(var m=!!t.backgroundColor,v=0;v<e.lines.length;v++){for(var y=e.lines[v],b=y.tokens,w=b.length,x=y.lineHeight,_=y.width,C=0,S=f,M=g,A=w-1,T=void 0;C<w&&(!(T=b[C]).align||"left"===T.align);)this._placeToken(T,t,x,p,S,"left",m),_-=T.width,S+=T.width,C++;for(;A>=0&&"right"===(T=b[A]).align;)this._placeToken(T,t,x,p,M,"right",m),_-=T.width,M-=T.width,A--;for(S+=(n-(S-f)-(g-M)-_)/2;C<=A;)T=b[C],this._placeToken(T,t,x,p,S+T.width/2,"center",m),S+=T.width,C++;p+=x}},e.prototype._placeToken=function(t,e,n,i,r,o,a){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign,u=i+n/2;"top"===l?u=i+t.height/2:"bottom"===l&&(u=i+n-t.height/2),!t.isLineHolder&&Wl(s)&&this._renderBackground(s,e,"right"===o?r-t.width:"center"===o?r-t.width/2:r,u-t.height/2,t.width,t.height);var h=!!s.backgroundColor,c=t.textPadding;c&&(r=Nl(r,o,c),u-=t.height/2-c[0]-t.innerHeight/2);var d=this._getOrCreateChild(pl),f=d.createStyle();d.useStyle(f);var p=this._defaultStyle,g=!1,m=0,v=Hl("fill"in s?s.fill:"fill"in e?e.fill:(g=!0,p.fill)),y=Fl("stroke"in s?s.stroke:"stroke"in e?e.stroke:h||a||p.autoStroke&&!g?null:(m=2,p.stroke)),b=s.textShadowBlur>0||e.textShadowBlur>0;f.text=t.text,f.x=r,f.y=u,b&&(f.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,f.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",f.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,f.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),f.textAlign=o,f.textBaseline="middle",f.font=t.font||w,f.opacity=bt(s.opacity,e.opacity,1),Ll(f,s),y&&(f.lineWidth=bt(s.lineWidth,e.lineWidth,m),f.lineDash=yt(s.lineDash,e.lineDash),f.lineDashOffset=e.lineDashOffset||0,f.stroke=y),v&&(f.fill=v);var x=t.contentWidth,_=t.contentHeight;d.setBoundingRect(new nn(Jr(f.x,x,f.textAlign),Qr(f.y,_,f.textBaseline),x,_))},e.prototype._renderBackground=function(t,e,n,i,r,o){var a,s,l,u=t.backgroundColor,h=t.borderWidth,c=t.borderColor,d=u&&u.image,f=u&&!d,p=t.borderRadius,g=this;if(f||t.lineHeight||h&&c){(a=this._getOrCreateChild(Al)).useStyle(a.createStyle()),a.style.fill=null;var m=a.shape;m.x=n,m.y=i,m.width=r,m.height=o,m.r=p,a.dirtyShape()}if(f)(l=a.style).fill=u||null,l.fillOpacity=yt(t.fillOpacity,1);else if(d){(s=this._getOrCreateChild(yl)).onload=function(){g.dirtyStyle()};var v=s.style;v.image=u.image,v.x=n,v.y=i,v.width=r,v.height=o}h&&c&&((l=a.style).lineWidth=h,l.stroke=c,l.strokeOpacity=yt(t.strokeOpacity,1),l.lineDash=t.borderDash,l.lineDashOffset=t.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var y=(a||s).style;y.shadowBlur=t.shadowBlur||0,y.shadowColor=t.shadowColor||"transparent",y.shadowOffsetX=t.shadowOffsetX||0,y.shadowOffsetY=t.shadowOffsetY||0,y.opacity=bt(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";return Dl(t)&&(e=[t.fontStyle,t.fontWeight,Bl(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),e&&Ct(e)||t.textFont||t.font},e}(us),Il={left:!0,right:1,center:1},Pl={top:1,bottom:1,middle:1},El=["fontStyle","fontWeight","fontSize","fontFamily"];function Bl(t){return"string"!=typeof t||-1===t.indexOf("px")&&-1===t.indexOf("rem")&&-1===t.indexOf("em")?isNaN(+t)?"12px":t+"px":t}function Ll(t,e){for(var n=0;n<El.length;n++){var i=El[n],r=e[i];null!=r&&(t[i]=r)}}function Dl(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function Ol(t){if(t){t.font=Rl.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||Il[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||Pl[n]?n:"top",t.padding&&(t.padding=xt(t.padding))}}function Fl(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Hl(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Nl(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function zl(t){var e=t.text;return null!=e&&(e+=""),e}function Wl(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var jl=Rl,Vl=ma(),Gl=function(t,e,n,i){if(i){var r=Vl(i);r.dataIndex=n,r.dataType=e,r.seriesIndex=t,r.ssrType="chart","group"===i.type&&i.traverse((function(i){var r=Vl(i);r.seriesIndex=t,r.dataIndex=n,r.dataType=e,r.ssrType="chart"}))}},Zl=1,Ul={},Kl=ma(),$l=ma(),Xl=["emphasis","blur","select"],Yl=["normal","emphasis","blur","select"],ql=10,Jl="highlight",Ql="downplay",tu="select",eu="unselect",nu="toggleSelect";function iu(t){return null!=t&&"none"!==t}function ru(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function ou(t){ru(t,"emphasis",2)}function au(t){2===t.hoverState&&ru(t,"normal",0)}function su(t){ru(t,"blur",1)}function lu(t){1===t.hoverState&&ru(t,"normal",0)}function uu(t){t.selected=!0}function hu(t){t.selected=!1}function cu(t,e,n){e(t,n)}function du(t,e,n){cu(t,e,n),t.isGroup&&t.traverse((function(t){cu(t,e,n)}))}function fu(t,e){switch(e){case"emphasis":t.hoverState=2;break;case"normal":t.hoverState=0;break;case"blur":t.hoverState=1;break;case"select":t.selected=!0}}function pu(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return function(t,e,n,i){var r=n&&U(n,"select")>=0,o=!1;if(t instanceof cl){var a=Kl(t),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(iu(s)||iu(l)){var u=(i=i||{}).style||{};"inherit"===u.fill?(o=!0,i=V({},i),(u=V({},u)).fill=s):!iu(u.fill)&&iu(s)?(o=!0,i=V({},i),(u=V({},u)).fill=Ei(s)):!iu(u.stroke)&&iu(l)&&(o||(i=V({},i),u=V({},u)),u.stroke=Ei(l)),i.style=u}}if(i&&null==i.z2){o||(i=V({},i));var h=t.z2EmphasisLift;i.z2=t.z2+(null!=h?h:ql)}return i}(this,0,e,n);if("blur"===t)return function(t,e,n){var i=U(t.currentStates,e)>=0,r=t.style.opacity,o=i?null:function(t,e,n,i){for(var r=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=r[s];o[s]=null==l?i&&i[s]:l}for(a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveTo(o,e)}return o}(t,["opacity"],e,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(n=V({},n),a=V({opacity:i?r:.1*o.opacity},a),n.style=a),n}(this,t,n);if("select"===t)return function(t,e,n){if(n&&null==n.z2){n=V({},n);var i=t.z2SelectLift;n.z2=t.z2+(null!=i?i:9)}return n}(this,0,n)}return n}function gu(t){t.stateProxy=pu;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=pu),n&&(n.stateProxy=pu)}function mu(t,e){!Su(t,e)&&!t.__highByOuter&&du(t,ou)}function vu(t,e){!Su(t,e)&&!t.__highByOuter&&du(t,au)}function yu(t,e){t.__highByOuter|=1<<(e||0),du(t,ou)}function bu(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&du(t,au)}function wu(t){du(t,su)}function xu(t){du(t,lu)}function _u(t){du(t,uu)}function Cu(t){du(t,hu)}function Su(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Mu(t){var e=t.getModel(),n=[],i=[];e.eachComponent((function(e,r){var o=$l(r),a="series"===e,s=a?t.getViewOfSeriesModel(r):t.getViewOfComponentModel(r);!a&&i.push(s),o.isBlured&&(s.group.traverse((function(t){lu(t)})),a&&n.push(r)),o.isBlured=!1})),Y(i,(function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)}))}function Au(t,e,n,i){var r=i.getModel();function o(t,e){for(var n=0;n<e.length;n++){var i=t.getItemGraphicEl(e[n]);i&&xu(i)}}if(n=n||"coordinateSystem",null!=t&&e&&"none"!==e){var a=r.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries((function(t){var r=a===t,u=t.coordinateSystem;if(u&&u.master&&(u=u.master),!("series"===n&&!r||"coordinateSystem"===n&&!(u&&s?u===s:r)||"series"===e&&r)){if(i.getViewOfSeriesModel(t).group.traverse((function(t){t.__highByOuter&&r&&"self"===e||su(t)})),X(e))o(t.getData(),e);else if(ut(e))for(var h=et(e),c=0;c<h.length;c++)o(t.getData(h[c]),e[h[c]]);l.push(t),$l(t).isBlured=!0}})),r.eachComponent((function(t,e){if("series"!==t){var n=i.getViewOfComponentModel(e);n&&n.toggleBlurSeries&&n.toggleBlurSeries(l,!0,r)}}))}}function Tu(t,e,n){if(null!=t&&null!=e){var i=n.getModel().getComponent(t,e);if(i){$l(i).isBlured=!0;var r=n.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse((function(t){su(t)}))}}}function ku(t,e,n,i){var r={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return r;var o=i.getModel().getComponent(t,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(n),u=0;u<l.length;u++)if("self"===Vl(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function Ru(t){Y(t.getAllData(),(function(e){var n=e.data,i=e.type;n.eachItemGraphicEl((function(e,n){t.isSelected(n,i)?_u(e):Cu(e)}))}))}function Iu(t){var e=[];return t.eachSeries((function(t){Y(t.getAllData(),(function(n){n.data;var i=n.type,r=t.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:t.seriesIndex};null!=i&&(o.dataType=i),e.push(o)}}))})),e}function Pu(t,e,n){Fu(t,!0),du(t,gu),Bu(t,e,n)}function Eu(t,e,n,i){i?function(t){Fu(t,!1)}(t):Pu(t,e,n)}function Bu(t,e,n){var i=Vl(t);null!=e?(i.focus=e,i.blurScope=n):i.focus&&(i.focus=null)}var Lu=["emphasis","blur","select"],Du={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Ou(t,e,n,i){n=n||"itemStyle";for(var r=0;r<Lu.length;r++){var o=Lu[r],a=e.getModel([o,n]);t.ensureState(o).style=i?i(a):a[Du[n]]()}}function Fu(t,e){var n=!1===e,i=t;t.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function Hu(t){return!(!t||!t.__highDownDispatcher)}function Nu(t){var e=t.type;return e===tu||e===eu||e===nu}function zu(t){var e=t.type;return e===Jl||e===Ql}var Wu=ma();function ju(t,e,n,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===t;if(e&&e.isAnimationEnabled()){var l=void 0,u=void 0,h=void 0;return i?(l=yt(i.duration,200),u=yt(i.easing,"cubicOut"),h=0):(l=e.getShallow(s?"animationDurationUpdate":"animationDuration"),u=e.getShallow(s?"animationEasingUpdate":"animationEasing"),h=e.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(h=o.delay)),ot(h)&&(h=h(n,r)),ot(l)&&(l=l(n)),{duration:l||0,delay:h,easing:u}}return null}function Vu(t,e,n,i,r,o,a){var s,l=!1;ot(r)?(a=o,o=r,r=null):ut(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u="leave"===t;u||e.stopAnimation("leave");var h=ju(t,i,r,u?s||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(h&&h.duration>0){var c={duration:h.duration,delay:h.delay||0,easing:h.easing,done:o,force:!!o||!!a,setToFinal:!u,scope:t,during:a};l?e.animateFrom(n,c):e.animateTo(n,c)}else e.stopAnimation(),!l&&e.attr(n),a&&a(1),o&&o()}function Gu(t,e,n,i,r,o){Vu("update",t,e,n,i,r,o)}function Zu(t,e,n,i,r,o){Vu("enter",t,e,n,i,r,o)}function Uu(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){if("leave"===t.animators[e].scope)return!0}return!1}function Ku(t,e,n,i,r,o){Uu(t)||Vu("leave",t,e,n,i,r,o)}function $u(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),Ku(t,{style:{opacity:0}},e,n,i)}function Xu(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||$u(t,e,n,i)})):$u(t,e,n,i)}function Yu(t){Wu(t).oldStyle=t.style}var qu={};function Ju(t,e){for(var n=0;n<Xl.length;n++){var i=Xl[n],r=e[i],o=t.ensureState(i);o.style=o.style||{},o.style.text=r}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function Qu(t,e,n){var i,r=t.labelFetcher,o=t.labelDataIndex,a=t.labelDimIndex,s=e.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=ot(t.defaultText)?t.defaultText(o,t,n):t.defaultText);for(var l={normal:i},u=0;u<Xl.length;u++){var h=Xl[u],c=e[h];l[h]=yt(r?r.getFormattedLabel(o,h,null,a,c&&c.get("formatter")):null,i)}return l}function th(t,e,n,i){n=n||qu;for(var r=t instanceof jl,o=!1,a=0;a<Yl.length;a++){if((d=e[Yl[a]])&&d.getShallow("show")){o=!0;break}}var s=r?t:t.getTextContent();if(o){r||(s||(s=new jl,t.setTextContent(s)),t.stateProxy&&(s.stateProxy=t.stateProxy));var l=Qu(n,e),u=e.normal,h=!!u.getShallow("show"),c=nh(u,i&&i.normal,n,!1,!r);c.text=l.normal,r||t.setTextConfig(ih(u,n,!1));for(a=0;a<Xl.length;a++){var d,f=Xl[a];if(d=e[f]){var p=s.ensureState(f),g=!!yt(d.getShallow("show"),h);if(g!==h&&(p.ignore=!g),p.style=nh(d,i&&i[f],n,!0,!r),p.style.text=l[f],!r)t.ensureState(f).textConfig=ih(d,n,!0)}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),n.enableTextSetter&&(uh(s).setLabelText=function(t){var i=Qu(n,e,t);Ju(s,i)})}else s&&(s.ignore=!0);t.dirty()}function eh(t,e){e=e||"label";for(var n={normal:t.getModel(e)},i=0;i<Xl.length;i++){var r=Xl[i];n[r]=t.getModel([r,e])}return n}function nh(t,e,n,i,r){var o={};return function(t,e,n,i,r){n=n||qu;var o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||qu).rich;if(n){e=e||{};for(var i=et(n),r=0;r<i.length;r++){e[i[r]]=1}}t=t.parentModel}return e}(e);if(l)for(var u in o={},l)if(l.hasOwnProperty(u)){var h=e.getModel(["rich",u]);sh(o[u]={},h,s,n,i,r,!1,!0)}o&&(t.rich=o);var c=e.get("overflow");c&&(t.overflow=c);var d=e.get("minMargin");null!=d&&(t.margin=d);sh(t,e,s,n,i,r,!0,!1)}(o,t,n,i,r),e&&V(o,e),o}function ih(t,e,n){e=e||{};var i,r={},o=t.getShallow("rotate"),a=yt(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return"outside"===(i=t.getShallow("position")||(n?null:"inside"))&&(i=e.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",r}var rh=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],oh=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],ah=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function sh(t,e,n,i,r,o,a,s){n=!r&&n||qu;var l=i&&i.inheritColor,u=e.getShallow("color"),h=e.getShallow("textBorderColor"),c=yt(e.getShallow("opacity"),n.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==h&&"auto"!==h||(h=l||null),o||(u=u||n.color,h=h||n.textBorderColor),null!=u&&(t.fill=u),null!=h&&(t.stroke=h);var d=yt(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=d&&(t.lineWidth=d);var f=yt(e.getShallow("textBorderType"),n.textBorderType);null!=f&&(t.lineDash=f);var p=yt(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=p&&(t.lineDashOffset=p),r||null!=c||s||(c=i&&i.defaultOpacity),null!=c&&(t.opacity=c),r||o||null==t.fill&&i.inheritColor&&(t.fill=i.inheritColor);for(var g=0;g<rh.length;g++){var m=rh[g];null!=(y=yt(e.getShallow(m),n[m]))&&(t[m]=y)}for(g=0;g<oh.length;g++){m=oh[g];null!=(y=e.getShallow(m))&&(t[m]=y)}if(null==t.verticalAlign){var v=e.getShallow("baseline");null!=v&&(t.verticalAlign=v)}if(!a||!i.disableBox){for(g=0;g<ah.length;g++){var y;m=ah[g];null!=(y=e.getShallow(m))&&(t[m]=y)}var b=e.getShallow("borderType");null!=b&&(t.borderDash=b),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!l||(t.backgroundColor=l),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!l||(t.borderColor=l)}}function lh(t,e){var n=e&&e.getModel("textStyle");return Ct([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var uh=ma();function hh(t,e,n,i){if(t){var r=uh(t);r.prevValue=r.value,r.value=n;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function ch(t,e,n,i,r){var o=uh(t);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=yt(o.interpolatedValue,o.prevValue),l=o.value;t.percent=0,(null==o.prevValue?Zu:Gu)(t,{percent:1},i,e,null,(function(i){var u=Ma(n,o.precision,s,l,i);o.interpolatedValue=1===i?null:u;var h=Qu({labelDataIndex:e,labelFetcher:r,defaultText:a?a(u):u+""},o.statesModels,u);Ju(t,h)}))}}var dh,fh,ph=["textStyle","color"],gh=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],mh=new jl,vh=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(ph):null)},t.prototype.getFont=function(){return lh({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<gh.length;n++)e[gh[n]]=this.getShallow(gh[n]);return mh.useStyle(e),mh.update(),mh.getBoundingRect()},t}(),yh=vh,bh=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],wh=Da(bh),xh=function(){function t(){}return t.prototype.getLineStyle=function(t){return wh(this,t)},t}(),_h=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Ch=Da(_h),Sh=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return Ch(this,t,e)},t}(),Mh=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r]},t.prototype.mergeOption=function(t,e){W(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,i=null==n?n:n[t];if(null==i&&!e){var r=this.parentModel;r&&(i=r.getShallow(t))}return i},t.prototype.getModel=function(e,n){var i=null!=e,r=i?this.parsePath(e):null;return new t(i?this._doGet(r):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(z(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!y.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&(!t[i]||null!=(n=n&&"object"==typeof n?n[t[i]]:null));i++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();Ra(Mh),dh=Mh,fh=["__\0is_clz",Pa++].join("_"),dh.prototype[fh]=!0,dh.isInstance=function(t){return!(!t||!t[fh])},$(Mh,xh),$(Mh,Sh),$(Mh,Fa),$(Mh,yh);var Ah=Mh,Th=Math.round(10*Math.random());function kh(t){return[t||"",Th++].join("_")}function Rh(t,e){return W(W({},t,!0),e,!0)}var Ih="ZH",Ph="EN",Eh=Ph,Bh={},Lh={},Dh=y.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||Eh).toUpperCase().indexOf(Ih)>-1?Ih:Eh;function Oh(t,e){t=t.toUpperCase(),Lh[t]=new Ah(e),Bh[t]=e}function Fh(t){return Lh[t]}Oh(Ph,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Oh(Ih,{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}});var Hh=1e3,Nh=6e4,zh=36e5,Wh=864e5,jh=31536e6,Vh={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Gh="{yyyy}-{MM}-{dd}",Zh={year:"{yyyy}",month:"{yyyy}-{MM}",day:Gh,hour:Gh+" "+Vh.hour,minute:Gh+" "+Vh.minute,second:Gh+" "+Vh.second,millisecond:Vh.none},Uh=["year","month","day","hour","minute","second","millisecond"],Kh=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function $h(t,e){return"0000".substr(0,e-(t+="").length)+t}function Xh(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Yh(t){return t===Xh(t)}function qh(t,e,n,i){var r=Go(t),o=r[tc(n)](),a=r[ec(n)]()+1,s=Math.floor((a-1)/3)+1,l=r[nc(n)](),u=r["get"+(n?"UTC":"")+"Day"](),h=r[ic(n)](),c=(h-1)%12+1,d=r[rc(n)](),f=r[oc(n)](),p=r[ac(n)](),g=(i instanceof Ah?i:Fh(i||Dh)||Lh[Eh]).getModel("time"),m=g.get("month"),v=g.get("monthAbbr"),y=g.get("dayOfWeek"),b=g.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,$h(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,m[a-1]).replace(/{MMM}/g,v[a-1]).replace(/{MM}/g,$h(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,$h(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,y[u]).replace(/{ee}/g,b[u]).replace(/{e}/g,u+"").replace(/{HH}/g,$h(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,$h(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,$h(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,$h(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,$h(p,3)).replace(/{S}/g,p+"")}function Jh(t,e){var n=Go(t),i=n[ec(e)]()+1,r=n[nc(e)](),o=n[ic(e)](),a=n[rc(e)](),s=n[oc(e)](),l=0===n[ac(e)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,d=c&&1===r;return d&&1===i?"year":d?"month":c?"day":h?"hour":u?"minute":l?"second":"millisecond"}function Qh(t,e,n){var i=lt(t)?Go(t):t;switch(e=e||Jh(t,n)){case"year":return i[tc(n)]();case"half-year":return i[ec(n)]()>=6?1:0;case"quarter":return Math.floor((i[ec(n)]()+1)/4);case"month":return i[ec(n)]();case"day":return i[nc(n)]();case"half-day":return i[ic(n)]()/24;case"hour":return i[ic(n)]();case"minute":return i[rc(n)]();case"second":return i[oc(n)]();case"millisecond":return i[ac(n)]()}}function tc(t){return t?"getUTCFullYear":"getFullYear"}function ec(t){return t?"getUTCMonth":"getMonth"}function nc(t){return t?"getUTCDate":"getDate"}function ic(t){return t?"getUTCHours":"getHours"}function rc(t){return t?"getUTCMinutes":"getMinutes"}function oc(t){return t?"getUTCSeconds":"getSeconds"}function ac(t){return t?"getUTCMilliseconds":"getMilliseconds"}function sc(t){return t?"setUTCFullYear":"setFullYear"}function lc(t){return t?"setUTCMonth":"setMonth"}function uc(t){return t?"setUTCDate":"setDate"}function hc(t){return t?"setUTCHours":"setHours"}function cc(t){return t?"setUTCMinutes":"setMinutes"}function dc(t){return t?"setUTCSeconds":"setSeconds"}function fc(t){return t?"setUTCMilliseconds":"setMilliseconds"}function pc(t){if(!qo(t))return at(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function gc(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var mc=xt;function vc(t,e,n){function i(t){return t&&Ct(t)?t:"-"}function r(t){return!(null==t||isNaN(t)||!isFinite(t))}var o="time"===e,a=t instanceof Date;if(o||a){var s=o?Go(t):t;if(!isNaN(+s))return qh(s,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(a)return"-"}if("ordinal"===e)return st(t)?i(t):lt(t)&&r(t)?t+"":"-";var l=Yo(t);return r(l)?pc(l):st(t)?i(t):"boolean"==typeof t?t+"":"-"}var yc=["a","b","c","d","e","f","g"],bc=function(t,e){return"{"+t+(null==e?"":e)+"}"};function wc(t,e,n){rt(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=yc[o];t=t.replace(bc(a),bc(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(bc(yc[l],s),n?_e(u):u)}return t}function xc(t,e){var n=at(t)?{color:t,extraCssText:e}:t||{},i=n.color,r=n.type;e=n.extraCssText;var o=n.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+_e(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+_e(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function _c(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=Go(e),r=n?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,s=i[r+"Date"](),l=i[r+"Hours"](),u=i[r+"Minutes"](),h=i[r+"Seconds"](),c=i[r+"Milliseconds"]();return t=t.replace("MM",$h(a,2)).replace("M",a).replace("yyyy",o).replace("yy",$h(o%100+"",2)).replace("dd",$h(s,2)).replace("d",s).replace("hh",$h(l,2)).replace("h",l).replace("mm",$h(u,2)).replace("m",u).replace("ss",$h(h,2)).replace("s",h).replace("SSS",$h(c,3))}function Cc(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function Sc(t,e){return e=e||"transparent",at(t)?t:ut(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function Mc(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var Ac=Y,Tc=["left","right","top","bottom","width","height"],kc=[["width","left","right"],["height","top","bottom"]];function Rc(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild((function(l,u){var h,c,d=l.getBoundingRect(),f=e.childAt(u+1),p=f&&f.getBoundingRect();if("horizontal"===t){var g=d.width+(p?-p.x+d.x:0);(h=o+g)>i||l.newline?(o=0,h=g,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(p?-p.y+d.y:0);(c=a+m)>r||l.newline?(o+=s+n,a=0,c=m,s=d.width):s=Math.max(s,d.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===t?o=h+n:a=c+n)}))}var Ic=Rc;it(Rc,"vertical"),it(Rc,"horizontal");function Pc(t,e,n){n=mc(n||0);var i=e.width,r=e.height,o=Po(t.left,i),a=Po(t.top,r),s=Po(t.right,i),l=Po(t.bottom,r),u=Po(t.width,i),h=Po(t.height,r),c=n[2]+n[0],d=n[1]+n[3],f=t.aspect;switch(isNaN(u)&&(u=i-s-d-o),isNaN(h)&&(h=r-l-c-a),null!=f&&(isNaN(u)&&isNaN(h)&&(f>i/r?u=.8*i:h=.8*r),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(o)&&(o=i-s-u-d),isNaN(a)&&(a=r-l-h-c),t.left||t.right){case"center":o=i/2-u/2-n[3];break;case"right":o=i-u-d}switch(t.top||t.bottom){case"middle":case"center":a=r/2-h/2-n[0];break;case"bottom":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=i-d-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var p=new nn(o+n[3],a+n[0],u,h);return p.margin=n,p}function Ec(t,e,n,i,r,o){var a,s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||"all";if((o=o||t).x=t.x,o.y=t.y,!s&&!l)return!1;if("raw"===u)a="group"===t.type?new nn(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(a=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(a=a.clone()).applyTransform(h)}var c=Pc(G({width:a.width,height:a.height},e),n,i),d=s?c.x-a.x:0,f=l?c.y-a.y:0;return"raw"===u?(o.x=d,o.y=f):(o.x+=d,o.y+=f),o===t&&t.markRedraw(),!0}function Bc(t){var e=t.layoutMode||t.constructor.layoutMode;return ut(e)?e:e?{type:e}:null}function Lc(t,e,n){var i=n&&n.ignoreSize;!rt(i)&&(i=[i,i]);var r=a(kc[0],0),o=a(kc[1],1);function a(n,r){var o={},a=0,u={},h=0;if(Ac(n,(function(e){u[e]=t[e]})),Ac(n,(function(t){s(e,t)&&(o[t]=u[t]=e[t]),l(o,t)&&a++,l(u,t)&&h++})),i[r])return l(e,n[1])?u[n[2]]=null:l(e,n[2])&&(u[n[1]]=null),u;if(2!==h&&a){if(a>=2)return o;for(var c=0;c<n.length;c++){var d=n[c];if(!s(o,d)&&s(t,d)){o[d]=t[d];break}}return o}return u}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&"auto"!==t[e]}function u(t,e,n){Ac(t,(function(t){e[t]=n[t]}))}u(kc[0],t,r),u(kc[1],t,o)}function Dc(t){return Oc({},t)}function Oc(t,e){return e&&t&&Ac(Tc,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var Fc=ma(),Hc=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.uid=kh("ec_cpt_model"),r}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=Bc(this),i=n?Dc(t):{};W(t,e.getTheme().get(this.mainType)),W(t,this.getDefaultOption()),n&&Lc(t,i,n)},e.prototype.mergeOption=function(t,e){W(this.option,t,!0);var n=Bc(this);n&&Lc(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t[Ta])}(t))return t.defaultOption;var e=Fc(this);if(!e.defaultOption){for(var n=[],i=t;i;){var r=i.prototype.defaultOption;r&&n.push(r),i=i.superClass}for(var o={},a=n.length-1;a>=0;a--)o=W(o,n[a],!0);e.defaultOption=o}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",i=t+"Id";return _a(this.ecModel,t,{index:this.get(n,!0),id:this.get(i,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Ah);Ia(Hc,Ah),La(Hc),function(t){var e={};t.registerSubTypeDefaulter=function(t,n){var i=ka(t);e[i.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var o=ka(n).main;t.hasSubTypes(n)&&e[o]&&(r=e[o](i))}return r}}(Hc),function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,i,r,o){if(t.length){var a=function(t){var i={},r=[];return Y(t,(function(o){var a=n(i,o),s=function(t,e){var n=[];return Y(t,(function(t){U(e,t)>=0&&n.push(t)})),n}(a.originalDeps=e(o),t);a.entryCount=s.length,0===a.entryCount&&r.push(o),Y(s,(function(t){U(a.predecessor,t)<0&&a.predecessor.push(t);var e=n(i,t);U(e.successor,t)<0&&e.successor.push(o)}))})),{graph:i,noEntryList:r}}(i),s=a.graph,l=a.noEntryList,u={};for(Y(t,(function(t){u[t]=!0}));l.length;){var h=l.pop(),c=s[h],d=!!u[h];d&&(r.call(o,h,c.originalDeps.slice()),delete u[h]),Y(c.successor,d?p:f)}Y(u,(function(){throw new Error("")}))}function f(t){s[t].entryCount--,0===s[t].entryCount&&l.push(t)}function p(t){u[t]=!0,f(t)}}}(Hc,(function(t){var e=[];Y(Hc.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=q(e,(function(t){return ka(t).main})),"dataset"!==t&&U(e,"dataset")<=0&&e.unshift("dataset");return e}));var Nc=Hc,zc="";"undefined"!=typeof navigator&&(zc=navigator.platform||"");var Wc="rgba(0, 0, 0, 0.2)",jc={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Wc,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Wc,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Wc,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Wc,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Wc,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Wc,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:zc.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Vc=It(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Gc="original",Zc="arrayRows",Uc="objectRows",Kc="keyedColumns",$c="typedArray",Xc="unknown",Yc="column",qc="row",Jc=1,Qc=2,td=3,ed=ma();function nd(t,e,n){var i={},r=rd(e);if(!r||!t)return i;var o,a,s=[],l=[],u=e.ecModel,h=ed(u).datasetMap,c=r.uid+"_"+n.seriesLayoutBy;Y(t=t.slice(),(function(e,n){var r=ut(e)?e:t[n]={name:e};"ordinal"===r.type&&null==o&&(o=n,a=p(r)),i[r.name]=[]}));var d=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function f(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function p(t){var e=t.dimsDef;return e?e.length:1}return Y(t,(function(t,e){var n=t.name,r=p(t);if(null==o){var a=d.valueWayDim;f(i[n],a,r),f(l,a,r),d.valueWayDim+=r}else if(o===e)f(i[n],0,r),f(s,0,r);else{a=d.categoryWayDim;f(i[n],a,r),f(l,a,r),d.categoryWayDim+=r}})),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function id(t,e,n){var i={};if(!rd(t))return i;var r,o=e.sourceFormat,a=e.dimensionsDefine;o!==Uc&&o!==Kc||Y(a,(function(t,e){"name"===(ut(t)?t.name:t)&&(r=e)}));var s=function(){for(var t={},i={},s=[],l=0,u=Math.min(5,n);l<u;l++){var h=ad(e.data,o,e.seriesLayoutBy,a,e.startIndex,l);s.push(h);var c=h===td;if(c&&null==t.v&&l!==r&&(t.v=l),(null==t.n||t.n===t.v||!c&&s[t.n]===td)&&(t.n=l),d(t)&&s[t.n]!==td)return t;c||(h===Qc&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function d(t){return null!=t.v&&null!=t.n}return d(t)?t:d(i)?i:null}();if(s){i.value=[s.v];var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i}function rd(t){if(!t.get("data",!0))return _a(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},wa).models[0]}function od(t,e){return ad(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function ad(t,e,n,i,r,o){var a,s,l;if(ct(t))return td;if(i){var u=i[o];ut(u)?(s=u.name,l=u.type):at(u)&&(s=u)}if(null!=l)return"ordinal"===l?Jc:td;if(e===Zc){var h=t;if(n===qc){for(var c=h[o],d=0;d<(c||[]).length&&d<5;d++)if(null!=(a=y(c[r+d])))return a}else for(d=0;d<h.length&&d<5;d++){var f=h[r+d];if(f&&null!=(a=y(f[o])))return a}}else if(e===Uc){var p=t;if(!s)return td;for(d=0;d<p.length&&d<5;d++){if((m=p[d])&&null!=(a=y(m[s])))return a}}else if(e===Kc){if(!s)return td;if(!(c=t[s])||ct(c))return td;for(d=0;d<c.length&&d<5;d++)if(null!=(a=y(c[d])))return a}else if(e===Gc){var g=t;for(d=0;d<g.length&&d<5;d++){var m,v=sa(m=g[d]);if(!rt(v))return td;if(null!=(a=y(v[o])))return a}}function y(t){var e=at(t);return null!=t&&isFinite(t)&&""!==t?e?Qc:td:e&&"-"!==t?Jc:void 0}return td}var sd=It();var ld,ud,hd,cd=ma(),dd=ma(),fd=function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var i=ra(this.get("color",!0)),r=this.get("colorLayer",!0);return gd(this,cd,i,r,t,e,n)},t.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,cd)},t}();function pd(t,e,n,i){var r=ra(t.get(["aria","decal","decals"]));return gd(t,dd,r,null,e,n,i)}function gd(t,e,n,i,r,o,a){var s=e(o=o||t),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&i?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(i,a):n;if((h=h||n)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var md="\0_ec_inner";var vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n,i,r,o){i=i||{},this.option=null,this._theme=new Ah(i),this._locale=new Ah(r),this._optionManager=o},e.prototype.setOption=function(t,e,n){var i=wd(e);this._optionManager.setOption(t,n,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,e){return this._resetOption(t,wd(e))},e.prototype._resetOption=function(t,e){var n=!1,i=this._optionManager;if(!t||"recreate"===t){var r=i.mountOption("recreate"===t);0,this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(r,e)):hd(this,r),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=i.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,e))}if(!t||"recreate"===t||"media"===t){var a=i.getMediaOption(this);a.length&&Y(a,(function(t){n=!0,this._mergeOption(t,e)}),this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,i=this._componentsMap,r=this._componentsCount,o=[],a=It(),s=e&&e.replaceMergeMainTypeMap;ed(this).datasetMap=It(),Y(t,(function(t,e){null!=t&&(Nc.hasClass(e)?e&&(o.push(e),a.set(e,!0)):n[e]=null==n[e]?z(t):W(n[e],t,!0))})),s&&s.each((function(t,e){Nc.hasClass(e)&&!a.get(e)&&(o.push(e),a.set(e,!0))})),Nc.topologicalTravel(o,Nc.getAllClassMainTypes(),(function(e){var o=function(t,e,n){var i=sd.get(e);if(!i)return n;var r=i(t);return r?n.concat(r):n}(this,e,ra(t[e])),a=i.get(e),l=a?s&&s.get(e)?"replaceMerge":"normalMerge":"replaceAll",u=ua(a,o,l);(function(t,e,n){Y(t,(function(t){var i=t.newOption;ut(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,i){return e.type?e.type:n?n.subType:i.determineSubType(t,e)}(e,i,t.existing,n))}))})(u,e,Nc),n[e]=null,i.set(e,null),r.set(e,0);var h,c=[],d=[],f=0;Y(u,(function(t,n){var i=t.existing,r=t.newOption;if(r){var o="series"===e,a=Nc.getClass(e,t.keyInfo.subType,!o);if(!a)return;if("tooltip"===e){if(h)return void 0;h=!0}if(i&&i.constructor===a)i.name=t.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1);else{var s=V({componentIndex:n},t.keyInfo);V(i=new a(r,this,this,s),s),t.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0)}}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(c.push(i.option),d.push(i),f++):(c.push(void 0),d.push(void 0))}),this),n[e]=c,i.set(e,d),r.set(e,f),"series"===e&&ld(this)}),this),this._seriesIndices||ld(this)},e.prototype.getOption=function(){var t=z(this.option);return Y(t,(function(e,n){if(Nc.hasClass(n)){for(var i=ra(e),r=i.length,o=!1,a=r-1;a>=0;a--)i[a]&&!pa(i[a])?o=!0:(i[a]=null,!o&&r--);i.length=r,t[n]=i}})),delete t[md],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var i=n[e||0];if(i)return i;if(null==e)for(var r=0;r<n.length;r++)if(n[r])return n[r]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,r=t.id,o=t.name,a=this._componentsMap.get(e);return a&&a.length?(null!=i?(n=[],Y(ra(i),(function(t){a[t]&&n.push(a[t])}))):n=null!=r?yd("id",r,a):null!=o?yd("name",o,a):Q(a,(function(t){return!!t})),bd(n,t)):[]},e.prototype.findComponents=function(t){var e,n,i,r,o,a=t.query,s=t.mainType,l=(n=s+"Index",i=s+"Id",r=s+"Name",!(e=a)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:s,index:e[n],id:e[i],name:e[r]}),u=l?this.queryComponents(l):Q(this._componentsMap.get(s),(function(t){return!!t}));return o=bd(u,t),t.filter?Q(o,t.filter):o},e.prototype.eachComponent=function(t,e,n){var i=this._componentsMap;if(ot(t)){var r=e,o=t;i.each((function(t,e){for(var n=0;t&&n<t.length;n++){var i=t[n];i&&o.call(r,e,i,i.componentIndex)}}))}else for(var a=at(t)?i.get(t):ut(t)?this.findComponents(t):null,s=0;a&&s<a.length;s++){var l=a[s];l&&e.call(n,l,l.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=da(t,null);return Q(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Q(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return Q(this._componentsMap.get("series"),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){ud(this),Y(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)}),this)},e.prototype.eachRawSeries=function(t,e){Y(this._componentsMap.get("series"),(function(n){n&&t.call(e,n,n.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,n){ud(this),Y(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===t&&e.call(n,r,i)}),this)},e.prototype.eachRawSeriesByType=function(t,e,n){return Y(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return ud(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){ud(this);var n=[];Y(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];t.call(e,r,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=It(n)},e.prototype.restoreData=function(t){ld(this);var e=this._componentsMap,n=[];e.each((function(t,e){Nc.hasClass(e)&&n.push(e)})),Nc.topologicalTravel(n,Nc.getAllClassMainTypes(),(function(n){Y(e.get(n),(function(e){!e||"series"===n&&function(t,e){if(e){var n=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}(e,t)||e.restoreData()}))}))},e.internalField=(ld=function(t){var e=t._seriesIndices=[];Y(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=It(e)},ud=function(t){},void(hd=function(t,e){t.option={},t.option[md]=1,t._componentsMap=It({series:[]}),t._componentsCount=It();var n=e.aria;ut(n)&&null==n.enabled&&(n.enabled=!0),function(t,e){var n=t.color&&!t.colorLayer;Y(e,(function(e,i){"colorLayer"===i&&n||Nc.hasClass(i)||("object"==typeof e?t[i]=t[i]?W(t[i],e,!1):z(e):null==t[i]&&(t[i]=e))}))}(e,t._theme.option),W(e,jc,!1),t._mergeOption(e,null)})),e}(Ah);function yd(t,e,n){if(rt(e)){var i=It();return Y(e,(function(t){null!=t&&(null!=da(t,null)&&i.set(t,!0))})),Q(n,(function(e){return e&&i.get(e[t])}))}var r=da(e,null);return Q(n,(function(e){return e&&null!=r&&e[t]===r}))}function bd(t,e){return e.hasOwnProperty("subType")?Q(t,(function(t){return t&&t.subType===e.subType})):t}function wd(t){var e=It();return t&&Y(ra(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}$(vd,fd);var xd=vd,_d=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Cd=function(t){Y(_d,(function(e){this[e]=nt(t[e],t)}),this)},Sd={},Md=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];Y(Sd,(function(i,r){var o=i.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},t.prototype.update=function(t,e){Y(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){Sd[t]=e},t.get=function(t){return Sd[t]},t}(),Ad=Md,Td=/^(min|max)?(.+)$/,kd=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&(Y(ra(t.series),(function(t){t&&t.data&&ct(t.data)&&Mt(t.data)})),Y(ra(t.dataset),(function(t){t&&t.source&&ct(t.source)&&Mt(t.source)}))),t=z(t);var i=this._optionBackup,r=function(t,e,n){var i,r,o=[],a=t.baseOption,s=t.timeline,l=t.options,u=t.media,h=!!t.media,c=!!(l||s||a&&a.timeline);a?(r=a).timeline||(r.timeline=s):((c||h)&&(t.options=t.media=null),r=t);h&&rt(u)&&Y(u,(function(t){t&&t.option&&(t.query?o.push(t):i||(i=t))}));function d(t){Y(e,(function(e){e(t,n)}))}return d(r),Y(l,(function(t){return d(t)})),Y(o,(function(t){return d(t.option)})),{baseOption:r,timelineOptions:l||[],mediaDefault:i,mediaList:o}}(t,e,!i);this._newBaseOption=r.baseOption,i?(r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],z(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=z(n[i.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,i=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var u=0,h=o.length;u<h;u++)Rd(o[u].query,i,r)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&(e=s,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(l=q(s,(function(t){return z(-1===t?a.option:o[t].option)}))),this._currentMediaIndices=s,l},t}();function Rd(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return Y(t,(function(t,e){var n=e.match(Td);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(i[a],t,o)||(r=!1)}})),r}var Id=kd,Pd=Y,Ed=ut,Bd=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Ld(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=Bd.length;n<i;n++){var r=Bd[n],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?W(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?W(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function Dd(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,r=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,G(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function Od(t){Dd(t,"itemStyle"),Dd(t,"lineStyle"),Dd(t,"areaStyle"),Dd(t,"label"),Dd(t,"labelLine"),Dd(t,"upperLabel"),Dd(t,"edgeLabel")}function Fd(t,e){var n=Ed(t)&&t[e],i=Ed(n)&&n.textStyle;if(i){0;for(var r=0,o=aa.length;r<o;r++){var a=aa[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}}function Hd(t){t&&(Od(t),Fd(t,"label"),t.emphasis&&Fd(t.emphasis,"label"))}function Nd(t){return rt(t)?t:t?[t]:[]}function zd(t){return(rt(t)?t[0]:t)||{}}function Wd(t,e){Pd(Nd(t.series),(function(t){Ed(t)&&function(t){if(Ed(t)){Ld(t),Od(t),Fd(t,"label"),Fd(t,"upperLabel"),Fd(t,"edgeLabel"),t.emphasis&&(Fd(t.emphasis,"label"),Fd(t.emphasis,"upperLabel"),Fd(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Ld(e),Hd(e));var n=t.markLine;n&&(Ld(n),Hd(n));var i=t.markArea;i&&Hd(i);var r=t.data;if("graph"===t.type){r=r||t.nodes;var o=t.links||t.edges;if(o&&!ct(o))for(var a=0;a<o.length;a++)Hd(o[a]);Y(t.categories,(function(t){Od(t)}))}if(r&&!ct(r))for(a=0;a<r.length;a++)Hd(r[a]);if((e=t.markPoint)&&e.data){var s=e.data;for(a=0;a<s.length;a++)Hd(s[a])}if((n=t.markLine)&&n.data){var l=n.data;for(a=0;a<l.length;a++)rt(l[a])?(Hd(l[a][0]),Hd(l[a][1])):Hd(l[a])}"gauge"===t.type?(Fd(t,"axisLabel"),Fd(t,"title"),Fd(t,"detail")):"treemap"===t.type?(Dd(t.breadcrumb,"itemStyle"),Y(t.levels,(function(t){Od(t)}))):"tree"===t.type&&Od(t.leaves)}}(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Pd(n,(function(e){Pd(Nd(t[e]),(function(t){t&&(Fd(t,"axisLabel"),Fd(t.axisPointer,"label"))}))})),Pd(Nd(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;Fd(e,"axisLabel"),Fd(e&&e.axisPointer,"label")})),Pd(Nd(t.calendar),(function(t){Dd(t,"itemStyle"),Fd(t,"dayLabel"),Fd(t,"monthLabel"),Fd(t,"yearLabel")})),Pd(Nd(t.radar),(function(t){Fd(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),Pd(Nd(t.geo),(function(t){Ed(t)&&(Hd(t),Pd(Nd(t.regions),(function(t){Hd(t)})))})),Pd(Nd(t.timeline),(function(t){Hd(t),Dd(t,"label"),Dd(t,"itemStyle"),Dd(t,"controlStyle",!0);var e=t.data;rt(e)&&Y(e,(function(t){ut(t)&&(Dd(t,"label"),Dd(t,"itemStyle"))}))})),Pd(Nd(t.toolbox),(function(t){Dd(t,"iconStyle"),Pd(t.feature,(function(t){Dd(t,"iconStyle")}))})),Fd(zd(t.axisPointer),"label"),Fd(zd(t.tooltip).axisPointer,"label")}function jd(t){t&&Y(Vd,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var Vd=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Gd=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Zd=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Ud(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Zd.length;n++){var i=Zd[n][1],r=Zd[n][0];null!=e[i]&&(e[r]=e[i])}}function Kd(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function $d(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function Xd(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&Xd(t[n].children,e)}function Yd(t,e){Wd(t,e),t.series=ra(t.series),Y(t.series,(function(t){if(ut(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){if(null!=t.clockWise&&(t.clockwise=t.clockWise),Kd(t.label),(r=t.data)&&!ct(r))for(var n=0;n<r.length;n++)Kd(r[n]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var i=function(t,e){for(var n=e.split(","),i=t,r=0;r<n.length&&null!=(i=i&&i[n[r]]);r++);return i}(t,"pointer.color");null!=i&&function(t,e,n,i){for(var r,o=e.split(","),a=t,s=0;s<o.length-1;s++)null==a[r=o[s]]&&(a[r]={}),a=a[r];(i||null==a[o[s]])&&(a[o[s]]=n)}(t,"itemStyle.color",i)}else if("bar"===e){var r;if(Ud(t),Ud(t.backgroundStyle),Ud(t.emphasis),(r=t.data)&&!ct(r))for(n=0;n<r.length;n++)"object"==typeof r[n]&&(Ud(r[n]),Ud(r[n]&&r[n].emphasis))}else if("sunburst"===e){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),$d(t),Xd(t.data,$d)}else"graph"===e||"sankey"===e?function(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&G(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),jd(t)}})),t.dataRange&&(t.visualMap=t.dataRange),Y(Gd,(function(e){var n=t[e];n&&(rt(n)||(n=[n]),Y(n,(function(t){jd(t)})))}))}function qd(t){Y(t,(function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,(function(o,u,h){var c,d,f=a.get(e.stackedDimension,h);if(isNaN(f))return r;s?d=a.getRawIndex(h):c=a.get(e.stackedByDimension,h);for(var p=NaN,g=n-1;g>=0;g--){var m=t[g];if(s||(d=m.data.rawIndexOf(m.stackedByDimension,c)),d>=0){var v=m.data.getByRawIndex(m.stackResultDimension,d);if("all"===l||"positive"===l&&v>0||"negative"===l&&v<0||"samesign"===l&&f>=0&&v>0||"samesign"===l&&f<=0&&v<0){f=No(f,v),p=v;break}}}return i[0]=f,i[1]=p,i}))}))}var Jd,Qd,tf,ef,nf,rf=function(t){this.data=t.data||(t.sourceFormat===Kc?{}:[]),this.sourceFormat=t.sourceFormat||Xc,this.seriesLayoutBy=t.seriesLayoutBy||Yc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];null==i.type&&od(this,n)===Jc&&(i.type="ordinal")}};function of(t){return t instanceof rf}function af(t,e,n){n=n||lf(t);var i=e.seriesLayoutBy,r=function(t,e,n,i,r){var o,a;if(!t)return{dimensionsDefine:uf(r),startIndex:a,dimensionsDetectedCount:o};if(e===Zc){var s=t;"auto"===i||null==i?hf((function(t){null!=t&&"-"!==t&&(at(t)?null==a&&(a=1):a=0)}),n,s,10):a=lt(i)?i:i?1:0,r||1!==a||(r=[],hf((function(t,e){r[e]=null!=t?t+"":""}),n,s,1/0)),o=r?r.length:n===qc?s.length:s[0]?s[0].length:null}else if(e===Uc)r||(r=function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e)return et(e)}(t));else if(e===Kc)r||(r=[],Y(t,(function(t,e){r.push(e)})));else if(e===Gc){var l=sa(t[0]);o=rt(l)&&l.length||1}return{startIndex:a,dimensionsDefine:uf(r),dimensionsDetectedCount:o}}(t,n,i,e.sourceHeader,e.dimensions);return new rf({data:t,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:z(e)})}function sf(t){return new rf({data:t,sourceFormat:ct(t)?$c:Gc})}function lf(t){var e=Xc;if(ct(t))e=$c;else if(rt(t)){0===t.length&&(e=Zc);for(var n=0,i=t.length;n<i;n++){var r=t[n];if(null!=r){if(rt(r)||ct(r)){e=Zc;break}if(ut(r)){e=Uc;break}}}}else if(ut(t))for(var o in t)if(Lt(t,o)&&X(t[o])){e=Kc;break}return e}function uf(t){if(t){var e=It();return q(t,(function(t,n){var i={name:(t=ut(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var r=e.get(i.name);return r?i.name+="-"+r.count++:e.set(i.name,{count:1}),i}))}}function hf(t,e,n,i){if(e===qc)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)t(o[r],r)}}function cf(t){var e=t.sourceFormat;return e===Uc||e===Kc}var df=function(){function t(t,e){var n=of(t)?t:sf(t);this._source=n;var i=this._data=n.data;n.sourceFormat===$c&&(this._offset=0,this._dimSize=e,this._data=i),nf(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;nf=function(t,r,o){var a=o.sourceFormat,s=o.seriesLayoutBy,l=o.startIndex,u=o.dimensionsDefine;if(V(t,ef[_f(a,s)]),a===$c)t.getItem=e,t.count=i,t.fillStorage=n;else{var h=gf(a,s);t.getItem=nt(h,null,r,l,u);var c=yf(a,s);t.count=nt(c,null,r,l,u)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,i=this._dimSize,r=i*t,o=0;o<i;o++)e[o]=n[r+o];return e},n=function(t,e,n,i){for(var r=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],h=e-t,c=n[a],d=0;d<h;d++){var f=r[d*o+a];c[t+d]=f,f<l&&(l=f),f>u&&(u=f)}s[0]=l,s[1]=u}},i=function(){return this._data?this._data.length/this._dimSize:0};function r(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[Zc+"_"+Yc]={pure:!0,appendData:r},t[Zc+"_"+qc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Uc]={pure:!0,appendData:r},t[Kc]={pure:!0,appendData:function(t){var e=this._data;Y(t,(function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r<(t||[]).length;r++)i.push(t[r])}))}},t[Gc]={appendData:r},t[$c]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},ef=t}(),t}(),ff=function(t,e,n,i){return t[i]},pf=((Jd={})[Zc+"_"+Yc]=function(t,e,n,i){return t[i+e]},Jd[Zc+"_"+qc]=function(t,e,n,i,r){i+=e;for(var o=r||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},Jd[Uc]=ff,Jd[Kc]=function(t,e,n,i,r){for(var o=r||[],a=0;a<n.length;a++){0;var s=t[n[a].name];o[a]=s?s[i]:null}return o},Jd[Gc]=ff,Jd);function gf(t,e){return pf[_f(t,e)]}var mf=function(t,e,n){return t.length},vf=((Qd={})[Zc+"_"+Yc]=function(t,e,n){return Math.max(0,t.length-e)},Qd[Zc+"_"+qc]=function(t,e,n){var i=t[0];return i?Math.max(0,i.length-e):0},Qd[Uc]=mf,Qd[Kc]=function(t,e,n){var i=t[n[0].name];return i?i.length:0},Qd[Gc]=mf,Qd);function yf(t,e){return vf[_f(t,e)]}var bf=function(t,e,n){return t[e]},wf=((tf={})[Zc]=bf,tf[Uc]=function(t,e,n){return t[n]},tf[Kc]=bf,tf[Gc]=function(t,e,n){var i=sa(t);return i instanceof Array?i[e]:i},tf[$c]=bf,tf);function xf(t){return wf[t]}function _f(t,e){return t===Zc?t+"_"+e:t}function Cf(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r=t.getStore(),o=r.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=r.getDimensionProperty(a);return xf(o)(i,a,s)}var l=i;return o===Gc&&(l=sa(i)),l}}}var Sf=/\{@(.+?)\}/g,Mf=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),l=s&&s[n.getItemVisual(t,"drawType")||"fill"],u=s&&s.stroke,h=this.mainType,c="series"===h,d=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:i,color:l,borderColor:u,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,i,r,o){e=e||"normal";var a=this.getData(n),s=this.getDataParams(t,n);(o&&(s.value=o.interpolatedValue),null!=i&&rt(s.value)&&(s.value=s.value[i]),r)||(r=a.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"]));return ot(r)?(s.status=e,s.dimensionIndex=i,r(s)):at(r)?wc(r,s).replace(Sf,(function(e,n){var i=n.length,r=n;"["===r.charAt(0)&&"]"===r.charAt(i-1)&&(r=+r.slice(1,i-1));var s=Cf(a,t,r);if(o&&rt(o.interpolatedValue)){var l=a.getDimensionIndex(r);l>=0&&(s=o.interpolatedValue[l])}return null!=s?s+"":""})):void 0},t.prototype.getRawValue=function(t,e){return Cf(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function Af(t){var e,n;return ut(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function Tf(t){return new kf(t)}var kf=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var o,a=h(this._modBy),s=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}a===l&&s===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,o=this._doReset(i)),this._modBy=l,this._modDataCount=u;var c=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!i&&(o||d<f)){var p=this._progress;if(rt(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],d,f,l,u);else this._doProgress(p,d,f,l,u)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;0,this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,i,r){Rf.reset(e,n,i,r),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:Rf.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),rt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),Rf=function(){var t,e,n,i,r,o={reset:function(l,u,h,c){e=l,t=u,n=h,i=c,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%r*n+Math.ceil(e/r),a=e>=t?null:o<i?o:e;return e++,a}}();"undefined"!=typeof console&&console.warn&&console.log;function If(t){0}function Pf(t){throw new Error(t)}function Ef(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||lt(t)||null==t||"-"===t||(t=+Go(t)),null==t||""===t?NaN:+t)}var Bf=It({number:function(t){return parseFloat(t)},time:function(t){return+Go(t)},trim:function(t){return at(t)?Ct(t):t}});function Lf(t){return Bf.get(t)}var Df={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},Of=function(){function t(t,e){if(!lt(e)){0,Pf("")}this._opFn=Df[t],this._rvalFloat=Yo(e)}return t.prototype.evaluate=function(t){return lt(t)?this._opFn(t,this._rvalFloat):this._opFn(Yo(t),this._rvalFloat)},t}(),Ff=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=lt(t)?t:Yo(t),i=lt(e)?e:Yo(e),r=isNaN(n),o=isNaN(i);if(r&&(n=this._incomparable),o&&(i=this._incomparable),r&&o){var a=at(t),s=at(e);a&&(n=s?t:0),s&&(i=a?e:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),Hf=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Yo(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=Yo(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function Nf(t,e){return"eq"===t||"ne"===t?new Hf("eq"===t,e):Lt(Df,t)?new Of(t,e):null}var zf=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return Ef(t,e)},t}();function Wf(t){if(!Kf(t.sourceFormat)){0,Pf("")}return t.data}function jf(t){var e=t.sourceFormat,n=t.data;if(!Kf(e)){0,Pf("")}if(e===Zc){for(var i=[],r=0,o=n.length;r<o;r++)i.push(n[r].slice());return i}if(e===Uc){for(i=[],r=0,o=n.length;r<o;r++)i.push(V({},n[r]));return i}}function Vf(t,e,n){if(null!=n)return lt(n)||!isNaN(n)&&!Lt(e,n)?t[n]:Lt(e,n)?e[n]:void 0}function Gf(t){return z(t)}var Zf=It();function Uf(t,e,n,i){e.length||Pf(""),ut(t)||Pf("");var r=t.type,o=Zf.get(r);o||Pf("");var a=q(e,(function(t){return function(t,e){var n=new zf,i=t.data,r=n.sourceFormat=t.sourceFormat,o=t.startIndex;t.seriesLayoutBy!==Yc&&Pf("");var a=[],s={},l=t.dimensionsDefine;if(l)Y(l,(function(t,e){var n=t.name,i={index:e,name:n,displayName:t.displayName};a.push(i),null!=n&&(Lt(s,n)&&Pf(""),s[n]=i)}));else for(var u=0;u<t.dimensionsDetectedCount;u++)a.push({index:u});var h=gf(r,Yc);e.__isBuiltIn&&(n.getRawDataItem=function(t){return h(i,o,a,t)},n.getRawData=nt(Wf,null,t)),n.cloneRawData=nt(jf,null,t);var c=yf(r,Yc);n.count=nt(c,null,i,o,a);var d=xf(r);n.retrieveValue=function(t,e){var n=h(i,o,a,t);return f(n,e)};var f=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=a[e];return n?d(t,e,n.name):void 0}};return n.getDimensionInfo=nt(Vf,null,a,s),n.cloneAllDimensionInfo=nt(Gf,null,a),n}(t,o)}));return q(ra(o.transform({upstream:a[0],upstreamList:a,config:z(t.config)})),(function(t,n){var i;ut(t)||Pf(""),t.data||Pf(""),Kf(lf(t.data))||Pf("");var r=e[0];if(r&&0===n&&!t.dimensions){var o=r.startIndex;o&&(t.data=r.data.slice(0,o).concat(t.data)),i={seriesLayoutBy:Yc,sourceHeader:o,dimensions:r.metaRawOption.dimensions}}else i={seriesLayoutBy:Yc,sourceHeader:0,dimensions:t.dimensions};return af(t.data,i,null)}))}function Kf(t){return t===Zc||t===Uc}var $f,Xf="undefined",Yf=typeof Uint32Array===Xf?Array:Uint32Array,qf=typeof Uint16Array===Xf?Array:Uint16Array,Jf=typeof Int32Array===Xf?Array:Int32Array,Qf=typeof Float64Array===Xf?Array:Float64Array,tp={float:Qf,int:Jf,ordinal:Array,number:Array,time:Qf};function ep(t){return t>65535?Yf:qf}function np(t,e,n,i,r){var o=tp[n||"float"];if(r){var a=t[e],s=a&&a.length;if(s!==i){for(var l=new o(i),u=0;u<s;u++)l[u]=a[u];t[e]=l}}else t[e]=new o(i)}var ip=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=It()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),r=this.defaultDimValueGetter=$f[i.sourceFormat];this._dimValueGetter=n||r,this._rawExtent=[];cf(i);this._dimensions=q(e,(function(t){return{type:t.type,property:t.property}})),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,r=n.get(t);if(null!=r){if(i[r].type===e)return r}else r=i.length;return i[r]={type:e},n.set(t,r),this._chunks[r]=new tp[e||"float"](this._rawCount),this._rawExtent[r]=[1/0,-1/0],r},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],r=this._rawExtent,o=i.ordinalOffset||0,a=n.length;0===o&&(r[t]=[1/0,-1/0]);for(var s=r[t],l=o;l<a;l++){var u=n[l]=e.parseAndCollect(n[l]);isNaN(u)||(s[0]=Math.min(u,s[0]),s[1]=Math.max(u,s[1]))}i.ordinalMeta=e,i.ordinalOffset=a,i.type="ordinal"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,r=i.length,o=this._rawExtent,a=this.count(),s=a+Math.max(t.length,e||0),l=0;l<r;l++){np(n,l,(f=i[l]).type,s,!0)}for(var u=[],h=a;h<s;h++)for(var c=h-a,d=0;d<r;d++){var f=i[d],p=$f.arrayRows.call(this,t[c]||u,f.property,c,d);n[d][h]=p;var g=o[d];p<g[0]&&(g[0]=p),p>g[1]&&(g[1]=p)}return this._rawCount=this._count=s,{start:a,end:s}},t.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,r=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,l=q(o,(function(t){return t.property})),u=0;u<a;u++){var h=o[u];s[u]||(s[u]=[1/0,-1/0]),np(r,u,h.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,r,s);else for(var c=[],d=t;d<e;d++){c=i.getItem(d,c);for(var f=0;f<a;f++){var p=r[f],g=this._dimValueGetter(c,l[f],d,f);p[d]=g;var m=s[f];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],i=[];if(null==e){e=t,t=[];for(var r=0;r<this._dimensions.length;r++)i.push(r)}else i=t;r=0;for(var o=i.length;r<o;r++)n.push(this.get(i[r],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},t.prototype.getMedian=function(t){var e=[];this.each([t],(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var i=this._chunks[t],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var h=e-i[this.getRawIndex(l)],c=Math.abs(h);c<=n&&((c<o||c===o&&h>=0&&a<0)&&(o=c,a=h,s=0),h===a&&(r[s++]=l))}return r.length=s,r},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var r=0;r<i;r++)t[r]=e[r]}else t=new n(e.buffer,0,i)}else{t=new(n=ep(this._rawCount))(this.count());for(r=0;r<t.length;r++)t[r]=r}return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),r=new(ep(n._rawCount))(i),o=[],a=t.length,s=0,l=t[0],u=n._chunks,h=0;h<i;h++){var c=void 0,d=n.getRawIndex(h);if(0===a)c=e(h);else if(1===a){c=e(u[l][d],h)}else{for(var f=0;f<a;f++)o[f]=u[t[f]][d];o[f]=h,c=e.apply(null,o)}c&&(r[s++]=d)}return s<i&&(n._indices=r),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=et(t),r=i.length;if(!r)return this;var o=e.count(),a=new(ep(e._rawCount))(o),s=0,l=i[0],u=t[l][0],h=t[l][1],c=e._chunks,d=!1;if(!e._indices){var f=0;if(1===r){for(var p=c[i[0]],g=0;g<n;g++){((b=p[g])>=u&&b<=h||isNaN(b))&&(a[s++]=f),f++}d=!0}else if(2===r){p=c[i[0]];var m=c[i[1]],v=t[i[1]][0],y=t[i[1]][1];for(g=0;g<n;g++){var b=p[g],w=m[g];(b>=u&&b<=h||isNaN(b))&&(w>=v&&w<=y||isNaN(w))&&(a[s++]=f),f++}d=!0}}if(!d)if(1===r)for(g=0;g<o;g++){var x=e.getRawIndex(g);((b=c[i[0]][x])>=u&&b<=h||isNaN(b))&&(a[s++]=x)}else for(g=0;g<o;g++){for(var _=!0,C=(x=e.getRawIndex(g),0);C<r;C++){var S=i[C];((b=c[S][x])<t[S][0]||b>t[S][1])&&(_=!1)}_&&(a[s++]=e.getRawIndex(g))}return s<o&&(e._indices=a),e._count=s,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var i=t._chunks,r=[],o=e.length,a=t.count(),s=[],l=t._rawExtent,u=0;u<e.length;u++)l[e[u]]=[1/0,-1/0];for(var h=0;h<a;h++){for(var c=t.getRawIndex(h),d=0;d<o;d++)s[d]=i[e[d]][c];s[o]=h;var f=n&&n.apply(null,s);if(null!=f){"object"!=typeof f&&(r[0]=f,f=r);for(u=0;u<f.length;u++){var p=e[u],g=f[u],m=l[p],v=i[p];v&&(v[c]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},t.prototype.lttbDownSample=function(t,e){var n,i,r,o=this.clone([t],!0),a=o._chunks[t],s=this.count(),l=0,u=Math.floor(1/e),h=this.getRawIndex(0),c=new(ep(this._rawCount))(Math.min(2*(Math.ceil(s/u)+2),s));c[l++]=h;for(var d=1;d<s-1;d+=u){for(var f=Math.min(d+u,s-1),p=Math.min(d+2*u,s),g=(p+f)/2,m=0,v=f;v<p;v++){var y=a[M=this.getRawIndex(v)];isNaN(y)||(m+=y)}m/=p-f;var b=d,w=Math.min(d+u,s),x=d-1,_=a[h];n=-1,r=b;var C=-1,S=0;for(v=b;v<w;v++){var M;y=a[M=this.getRawIndex(v)];isNaN(y)?(S++,C<0&&(C=M)):(i=Math.abs((x-g)*(y-_)-(x-v)*(m-_)))>n&&(n=i,r=M)}S>0&&S<w-b&&(c[l++]=Math.min(C,r),r=Math.max(C,r)),c[l++]=r,h=r}return c[l++]=this.getRawIndex(s-1),o._count=l,o._indices=c,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,i){for(var r=this.clone([t],!0),o=r._chunks,a=[],s=Math.floor(1/e),l=o[t],u=this.count(),h=r._rawExtent[t]=[1/0,-1/0],c=new(ep(this._rawCount))(Math.ceil(u/s)),d=0,f=0;f<u;f+=s){s>u-f&&(s=u-f,a.length=s);for(var p=0;p<s;p++){var g=this.getRawIndex(f+p);a[p]=l[g]}var m=n(a),v=this.getRawIndex(Math.min(f+i(a,m)||0,u-1));l[v]=m,m<h[0]&&(h[0]=m),m>h[1]&&(h[1]=m),c[d++]=v}return r._count=d,r._indices=c,r._updateGetRawIdx(),r},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,r=0,o=this.count();r<o;r++){var a=this.getRawIndex(r);switch(n){case 0:e(r);break;case 1:e(i[t[0]][a],r);break;case 2:e(i[t[0]][a],i[t[1]][a],r);break;default:for(var s=0,l=[];s<n;s++)l[s]=i[t[s]][a];l[s]=r,e.apply(null,l)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s<r;s++){var l=e[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[t]=i,i},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,r=0;r<i.length;r++)n.push(i[r][e]);return n},t.prototype.clone=function(e,n){var i,r,o=new t,a=this._chunks,s=e&&J(e,(function(t,e){return t[e]=!0,t}),{});if(s)for(var l=0;l<a.length;l++)o._chunks[l]=s[l]?(i=a[l],r=void 0,(r=i.constructor)===Array?i.slice():new r(i)):a[l];else o._chunks=a;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=z(this._extent),t._rawExtent=z(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,i){return Ef(t[i],this._dimensions[i])}$f={arrayRows:t,objectRows:function(t,e,n,i){return Ef(t[e],this._dimensions[i])},keyedColumns:t,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return Ef(r instanceof Array?r[i]:r,this._dimensions[i])},typedArray:function(t,e,n,i){return t[i]}}}(),t}(),rp=ip,op=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,i=this._getUpstreamSourceManagers(),r=!!i.length;if(sp(n)){var o=n,a=void 0,s=void 0,l=void 0;if(r){var u=i[0];u.prepareSource(),a=(l=u.getSource()).data,s=l.sourceFormat,e=[u._getVersionSign()]}else s=ct(a=o.get("data",!0))?$c:Gc,e=[];var h=this._getSourceMetaRawOption()||{},c=l&&l.metaRawOption||{},d=yt(h.seriesLayoutBy,c.seriesLayoutBy)||null,f=yt(h.sourceHeader,c.sourceHeader),p=yt(h.dimensions,c.dimensions);t=d!==c.seriesLayoutBy||!!f!=!!c.sourceHeader||p?[af(a,{seriesLayoutBy:d,sourceHeader:f,dimensions:p},s)]:[]}else{var g=n;if(r){var m=this._applyTransform(i);t=m.sourceList,e=m.upstreamSignList}else{t=[af(g.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,i=n.get("transform",!0),r=n.get("fromTransformResult",!0);if(null!=r){1!==t.length&&lp("")}var o,a=[],s=[];return Y(t,(function(t){t.prepareSource();var e=t.getSource(r||0);null==r||e||lp(""),a.push(e),s.push(t._getVersionSign())})),i?e=function(t,e,n){var i=ra(t),r=i.length;r||Pf("");for(var o=0,a=r;o<a;o++)e=Uf(i[o],e),o!==a-1&&(e.length=Math.max(e.length,1));return e}(i,a,n.componentIndex):null!=r&&(e=[(o=a[0],new rf({data:o.data,sourceFormat:o.sourceFormat,seriesLayoutBy:o.seriesLayoutBy,dimensionsDefine:z(o.dimensionsDefine),startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:s}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var i=this._storeList,r=i[0];r||(r=i[0]={});var o=r[n];if(!o){var a=this._getUpstreamSourceManagers()[0];sp(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new rp).initData(new df(e,t.length),t),r[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(sp(t)){var e=rd(t);return e?[e.getSourceManager()]:[]}return q(function(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?_a(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},wa).models:[]}(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,i=this._sourceHost;if(sp(i))t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=i;t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function ap(t){t.option.transform&&Mt(t.option.transform)}function sp(t){return"series"===t.mainType}function lp(t){throw new Error(t)}var up="line-height:1";function hp(t,e){var n=t.color||"#6e7079",i=t.fontSize||12,r=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+_e(i+"")+"px;color:"+_e(n)+";font-weight:"+_e(r+""),valueStyle:"font-size:"+_e(a+"")+"px;color:"+_e(o)+";font-weight:"+_e(s+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var cp=[0,10,20,30],dp=["","\n","\n\n","\n\n\n"];function fp(t,e){return e.type=t,e}function pp(t){return"section"===t.type}function gp(t){return pp(t)?vp:yp}function mp(t){if(pp(t)){var e=0,n=t.blocks.length,i=n>1||n>0&&!t.noHeader;return Y(t.blocks,(function(t){var n=mp(t);n>=e&&(e=n+ +(i&&(!n||pp(t)&&!t.noHeader)))})),e}return 0}function vp(t,e,n,i){var r,o=e.noHeader,a=(r=mp(e),{html:cp[r],richText:dp[r]}),s=[],l=e.blocks||[];_t(!l||rt(l)),l=l||[];var u=t.orderMode;if(e.sortBlocks&&u){l=l.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(Lt(h,u)){var c=new Ff(h[u],null);l.sort((function(t,e){return c.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===u&&l.reverse()}Y(l,(function(n,r){var o=e.valueFormatter,l=gp(n)(o?V(V({},t),{valueFormatter:o}):t,n,r>0?a.html:0,i);null!=l&&s.push(l)}));var d="richText"===t.renderMode?s.join(a.richText):wp(s.join(""),o?n:a.html);if(o)return d;var f=vc(e.header,"ordinal",t.useUTC),p=hp(i,t.renderMode).nameStyle;return"richText"===t.renderMode?xp(t,f,p)+a.richText+d:wp('<div style="'+p+";"+up+';">'+_e(f)+"</div>"+d,n)}function yp(t,e,n,i){var r=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,u=t.useUTC,h=e.valueFormatter||t.valueFormatter||function(t){return q(t=rt(t)?t:[t],(function(t,e){return vc(t,rt(f)?f[e]:f,u)}))};if(!o||!a){var c=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),d=o?"":vc(l,"ordinal",u),f=e.valueType,p=a?[]:h(e.value,e.dataIndex),g=!s||!o,m=!s&&o,v=hp(i,r),y=v.nameStyle,b=v.valueStyle;return"richText"===r?(s?"":c)+(o?"":xp(t,d,y))+(a?"":function(t,e,n,i,r){var o=[r],a=i?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(rt(e)?e.join("  "):e,o)}(t,p,g,m,b)):wp((s?"":c)+(o?"":function(t,e,n){return'<span style="'+n+";"+(e?"margin-left:2px":"")+'">'+_e(t)+"</span>"}(d,!s,y))+(a?"":function(t,e,n,i){var r=n?"10px":"20px",o=e?"float:right;margin-left:"+r:"";return t=rt(t)?t:[t],'<span style="'+o+";"+i+'">'+q(t,(function(t){return _e(t)})).join("&nbsp;&nbsp;")+"</span>"}(p,g,m,b)),n)}}function bp(t,e,n,i,r,o){if(t)return gp(t)({useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter},t,0,o)}function wp(t,e){return'<div style="'+("margin: "+e+"px 0 0")+";"+up+';">'+t+'<div style="clear:both"></div></div>'}function xp(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function _p(t,e){return Sc(t.getData().getItemVisual(e,"style")[t.visualDrawType])}function Cp(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var Sp=function(){function t(){this.richTextStyles={},this._nextStyleNameId=Jo()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var i="richText"===n?this._generateStyleName():null,r=xc({color:e,type:t,renderMode:n,markerId:i});return at(r)?r:(this.richTextStyles[i]=r.style,r.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};rt(e)?Y(e,(function(t){return V(n,t)})):V(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},t}();function Mp(t){var e,n,i,r,o=t.series,a=t.dataIndex,s=t.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,c=o.getRawValue(a),d=rt(c),f=_p(o,a);if(h>1||d&&!h){var p=function(t,e,n,i,r){var o=e.getData(),a=J(t,(function(t,e,n){var i=o.getDimensionInfo(n);return t||i&&!1!==i.tooltip&&null!=i.displayName}),!1),s=[],l=[],u=[];function h(t,e){var n=o.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(a?u.push(fp("nameValue",{markerType:"subItem",markerColor:r,name:n.displayName,value:t,valueType:n.type})):(s.push(t),l.push(n.type)))}return i.length?Y(i,(function(t){h(Cf(o,n,t),t)})):Y(t,h),{inlineValues:s,inlineValueTypes:l,blocks:u}}(c,o,a,u,f);e=p.inlineValues,n=p.inlineValueTypes,i=p.blocks,r=p.inlineValues[0]}else if(h){var g=l.getDimensionInfo(u[0]);r=e=Cf(l,a,u[0]),n=g.type}else r=e=d?c[0]:c;var m=fa(o),v=m&&o.name||"",y=l.getName(a),b=s?v:y;return fp("section",{header:v,noHeader:s||!m,sortParam:r,blocks:[fp("nameValue",{markerType:"item",markerColor:f,name:b,noName:!Ct(b),value:e,valueType:n,dataIndex:a})].concat(i||[])})}var Ap=ma();function Tp(t,e){return t.getName(e)||t.getId(e)}var kp="__universalTransitionEnabled",Rp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=Tf({count:Pp,reset:Ep}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(Ap(this).sourceManager=new op(this)).prepareSource();var i=this.getInitialData(t,n);Lp(i,this),this.dataTask.context.data=i,Ap(this).dataBeforeProcessed=i,Ip(this),this._initSelectedMapFromData(i)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=Bc(this),i=n?Dc(t):{},r=this.subType;Nc.hasClass(r)&&(r+="Series"),W(t,e.getTheme().get(this.subType)),W(t,this.getDefaultOption()),oa(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&Lc(t,i,n)},e.prototype.mergeOption=function(t,e){t=W(this.option,t,!0),this.fillDataTextStyle(t.data);var n=Bc(this);n&&Lc(this.option,t,n);var i=Ap(this).sourceManager;i.dirty(),i.prepareSource();var r=this.getInitialData(t,e);Lp(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,Ap(this).dataBeforeProcessed=r,Ip(this),this._initSelectedMapFromData(r)},e.prototype.fillDataTextStyle=function(t){if(t&&!ct(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&oa(t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=Op(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return Ap(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=Op(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}Ap(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return It(t)},e.prototype.getSourceManager=function(){return Ap(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Ap(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return Mp({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(y.node&&(!t||!t.ssr))return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var i=this.ecModel,r=fd.prototype.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,r=this.getData(e);if("series"===i||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<t.length;o++){var a=Tp(r,t[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],i=0;i<t.length;i++)n[0]=t[i],this.isSelected(t[i],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=et(t),n=[],i=0;i<e.length;i++){var r=t[e[i]];r>=0&&n.push(r)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var i=this.getData(e);return("all"===n||n[Tp(i,t)])&&!i.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[kp])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,i,r=this.option,o=r.selectedMode,a=e.length;if(o&&a)if("series"===o)r.selectedMap="all";else if("multiple"===o){ut(r.selectedMap)||(r.selectedMap={});for(var s=r.selectedMap,l=0;l<a;l++){var u=e[l];s[c=Tp(t,u)]=!0,this._selectedDataIndicesMap[c]=t.getRawIndex(u)}}else if("single"===o||!0===o){var h=e[a-1],c=Tp(t,h);r.selectedMap=((n={})[c]=!0,n),this._selectedDataIndicesMap=((i={})[c]=t.getRawIndex(h),i)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(n){var i=t.getRawDataItem(n);i&&i.selected&&e.push(n)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return Nc.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Nc);function Ip(t){var e=t.name;fa(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),i=[];return Y(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)})),i.join(" ")}(t)||e)}function Pp(t){return t.model.getRawData().count()}function Ep(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),Bp}function Bp(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Lp(t,e){Y(Pt(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,it(Dp,e))}))}function Dp(t,e){var n=Op(t);return n&&n.setOutputEnd((e||this).count()),e}function Op(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}$(Rp,Mf),$(Rp,fd),Ia(Rp,Nc);var Fp=Rp,Hp=function(){function t(){this.group=new mo,this.uid=kh("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){},t.prototype.updateLayout=function(t,e,n,i){},t.prototype.updateVisual=function(t,e,n,i){},t.prototype.toggleBlurSeries=function(t,e,n){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();Ra(Hp),La(Hp);var Np=Hp;function zp(){var t=ma();return function(e){var n=t(e),i=e.pipelineContext,r=!!n.large,o=!!n.progressiveRender,a=n.large=!(!i||!i.large),s=n.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}var Wp=Gs.CMD,jp=[[],[],[]],Vp=Math.sqrt,Gp=Math.atan2;function Zp(t,e){if(e){var n,i,r,o,a,s,l=t.data,u=t.len(),h=Wp.M,c=Wp.C,d=Wp.L,f=Wp.R,p=Wp.A,g=Wp.Q;for(r=0,o=0;r<u;){switch(n=l[r++],o=r,i=0,n){case h:case d:i=1;break;case c:i=3;break;case g:i=2;break;case p:var m=e[4],v=e[5],y=Vp(e[0]*e[0]+e[1]*e[1]),b=Vp(e[2]*e[2]+e[3]*e[3]),w=Gp(-e[1]/b,e[0]/y);l[r]*=y,l[r++]+=m,l[r]*=b,l[r++]+=v,l[r++]*=y,l[r++]*=b,l[r++]+=w,l[r++]+=w,o=r+=2;break;case f:s[0]=l[r++],s[1]=l[r++],oe(s,s,e),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],oe(s,s,e),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++){var x=jp[a];x[0]=l[r++],x[1]=l[r++],oe(x,x,e),l[o++]=x[0],l[o++]=x[1]}}t.increaseVersion()}}var Up=Math.sqrt,Kp=Math.sin,$p=Math.cos,Xp=Math.PI;function Yp(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function qp(t,e){return(t[0]*e[0]+t[1]*e[1])/(Yp(t)*Yp(e))}function Jp(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(qp(t,e))}function Qp(t,e,n,i,r,o,a,s,l,u,h){var c=l*(Xp/180),d=$p(c)*(t-n)/2+Kp(c)*(e-i)/2,f=-1*Kp(c)*(t-n)/2+$p(c)*(e-i)/2,p=d*d/(a*a)+f*f/(s*s);p>1&&(a*=Up(p),s*=Up(p));var g=(r===o?-1:1)*Up((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,m=g*a*f/s,v=g*-s*d/a,y=(t+n)/2+$p(c)*m-Kp(c)*v,b=(e+i)/2+Kp(c)*m+$p(c)*v,w=Jp([1,0],[(d-m)/a,(f-v)/s]),x=[(d-m)/a,(f-v)/s],_=[(-1*d-m)/a,(-1*f-v)/s],C=Jp(x,_);if(qp(x,_)<=-1&&(C=Xp),qp(x,_)>=1&&(C=0),C<0){var S=Math.round(C/Xp*1e6)/1e6;C=2*Xp+S%2*Xp}h.addData(u,y,b,a,s,w,C,c,o)}var tg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,eg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.applyTransform=function(t){},e}(cl);function ig(t){return null!=t.setData}function rg(t,e){var n=function(t){var e=new Gs;if(!t)return e;var n,i=0,r=0,o=i,a=r,s=Gs.CMD,l=t.match(tg);if(!l)return e;for(var u=0;u<l.length;u++){for(var h=l[u],c=h.charAt(0),d=void 0,f=h.match(eg)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v=void 0,y=void 0,b=void 0,w=void 0,x=void 0,_=void 0,C=void 0,S=i,M=r,A=void 0,T=void 0;switch(c){case"l":i+=f[m++],r+=f[m++],d=s.L,e.addData(d,i,r);break;case"L":i=f[m++],r=f[m++],d=s.L,e.addData(d,i,r);break;case"m":i+=f[m++],r+=f[m++],d=s.M,e.addData(d,i,r),o=i,a=r,c="l";break;case"M":i=f[m++],r=f[m++],d=s.M,e.addData(d,i,r),o=i,a=r,c="L";break;case"h":i+=f[m++],d=s.L,e.addData(d,i,r);break;case"H":i=f[m++],d=s.L,e.addData(d,i,r);break;case"v":r+=f[m++],d=s.L,e.addData(d,i,r);break;case"V":r=f[m++],d=s.L,e.addData(d,i,r);break;case"C":d=s.C,e.addData(d,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),i=f[m-2],r=f[m-1];break;case"c":d=s.C,e.addData(d,f[m++]+i,f[m++]+r,f[m++]+i,f[m++]+r,f[m++]+i,f[m++]+r),i+=f[m-2],r+=f[m-1];break;case"S":v=i,y=r,A=e.len(),T=e.data,n===s.C&&(v+=i-T[A-4],y+=r-T[A-3]),d=s.C,S=f[m++],M=f[m++],i=f[m++],r=f[m++],e.addData(d,v,y,S,M,i,r);break;case"s":v=i,y=r,A=e.len(),T=e.data,n===s.C&&(v+=i-T[A-4],y+=r-T[A-3]),d=s.C,S=i+f[m++],M=r+f[m++],i+=f[m++],r+=f[m++],e.addData(d,v,y,S,M,i,r);break;case"Q":S=f[m++],M=f[m++],i=f[m++],r=f[m++],d=s.Q,e.addData(d,S,M,i,r);break;case"q":S=f[m++]+i,M=f[m++]+r,i+=f[m++],r+=f[m++],d=s.Q,e.addData(d,S,M,i,r);break;case"T":v=i,y=r,A=e.len(),T=e.data,n===s.Q&&(v+=i-T[A-4],y+=r-T[A-3]),i=f[m++],r=f[m++],d=s.Q,e.addData(d,v,y,i,r);break;case"t":v=i,y=r,A=e.len(),T=e.data,n===s.Q&&(v+=i-T[A-4],y+=r-T[A-3]),i+=f[m++],r+=f[m++],d=s.Q,e.addData(d,v,y,i,r);break;case"A":b=f[m++],w=f[m++],x=f[m++],_=f[m++],C=f[m++],Qp(S=i,M=r,i=f[m++],r=f[m++],_,C,b,w,x,d=s.A,e);break;case"a":b=f[m++],w=f[m++],x=f[m++],_=f[m++],C=f[m++],Qp(S=i,M=r,i+=f[m++],r+=f[m++],_,C,b,w,x,d=s.A,e)}}"z"!==c&&"Z"!==c||(d=s.Z,e.addData(d),i=o,r=a),n=d}return e.toStatic(),e}(t),i=V({},e);return i.buildPath=function(t){if(ig(t)){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1)}else{var e=t;n.rebuildPath(e,1)}},i.applyTransform=function(t){Zp(n,t),this.dirtyShape()},i}function og(t,e){return new ng(rg(t,e))}function ag(t,e){e=e||{};var n=new cl;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?Zp(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}var sg=function(){this.cx=0,this.cy=0,this.r=0},lg=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new sg},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(cl);lg.prototype.type="circle";var ug=lg,hg=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},cg=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new hg},e.prototype.buildPath=function(t,e){var n=.5522848,i=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(i-o,r),t.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),t.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),t.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),t.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),t.closePath()},e}(cl);cg.prototype.type="ellipse";var dg=cg,fg=Math.PI,pg=2*fg,gg=Math.sin,mg=Math.cos,vg=Math.acos,yg=Math.atan2,bg=Math.abs,wg=Math.sqrt,xg=Math.max,_g=Math.min,Cg=1e-4;function Sg(t,e,n,i,r,o,a){var s=t-n,l=e-i,u=(a?o:-o)/wg(s*s+l*l),h=u*l,c=-u*s,d=t+h,f=e+c,p=n+h,g=i+c,m=(d+p)/2,v=(f+g)/2,y=p-d,b=g-f,w=y*y+b*b,x=r-o,_=d*g-p*f,C=(b<0?-1:1)*wg(xg(0,x*x*w-_*_)),S=(_*b-y*C)/w,M=(-_*y-b*C)/w,A=(_*b+y*C)/w,T=(-_*y+b*C)/w,k=S-m,R=M-v,I=A-m,P=T-v;return k*k+R*R>I*I+P*P&&(S=A,M=T),{cx:S,cy:M,x0:-h,y0:-c,x1:S*(r/x-1),y1:M*(r/x-1)}}function Mg(t,e){var n,i=xg(e.r,0),r=xg(e.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var s=e.startAngle,l=e.endAngle;if(!isNaN(s)&&!isNaN(l)){var u=e.cx,h=e.cy,c=!!e.clockwise,d=bg(l-s),f=d>pg&&d%pg;if(f>Cg&&(d=f),i>Cg)if(d>pg-Cg)t.moveTo(u+i*mg(s),h+i*gg(s)),t.arc(u,h,i,s,l,!c),r>Cg&&(t.moveTo(u+r*mg(l),h+r*gg(l)),t.arc(u,h,r,l,s,c));else{var p=void 0,g=void 0,m=void 0,v=void 0,y=void 0,b=void 0,w=void 0,x=void 0,_=void 0,C=void 0,S=void 0,M=void 0,A=void 0,T=void 0,k=void 0,R=void 0,I=i*mg(s),P=i*gg(s),E=r*mg(l),B=r*gg(l),L=d>Cg;if(L){var D=e.cornerRadius;D&&(n=function(t){var e;if(rt(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}(D),p=n[0],g=n[1],m=n[2],v=n[3]);var O=bg(i-r)/2;if(y=_g(O,m),b=_g(O,v),w=_g(O,p),x=_g(O,g),S=_=xg(y,b),M=C=xg(w,x),(_>Cg||C>Cg)&&(A=i*mg(l),T=i*gg(l),k=r*mg(s),R=r*gg(s),d<fg)){var F=function(t,e,n,i,r,o,a,s){var l=n-t,u=i-e,h=a-r,c=s-o,d=c*l-h*u;if(!(d*d<Cg))return[t+(d=(h*(e-o)-c*(t-r))/d)*l,e+d*u]}(I,P,k,R,A,T,E,B);if(F){var H=I-F[0],N=P-F[1],z=A-F[0],W=T-F[1],j=1/gg(vg((H*z+N*W)/(wg(H*H+N*N)*wg(z*z+W*W)))/2),V=wg(F[0]*F[0]+F[1]*F[1]);S=_g(_,(i-V)/(j+1)),M=_g(C,(r-V)/(j-1))}}}if(L)if(S>Cg){var G=_g(m,S),Z=_g(v,S),U=Sg(k,R,I,P,i,G,c),K=Sg(A,T,E,B,i,Z,c);t.moveTo(u+U.cx+U.x0,h+U.cy+U.y0),S<_&&G===Z?t.arc(u+U.cx,h+U.cy,S,yg(U.y0,U.x0),yg(K.y0,K.x0),!c):(G>0&&t.arc(u+U.cx,h+U.cy,G,yg(U.y0,U.x0),yg(U.y1,U.x1),!c),t.arc(u,h,i,yg(U.cy+U.y1,U.cx+U.x1),yg(K.cy+K.y1,K.cx+K.x1),!c),Z>0&&t.arc(u+K.cx,h+K.cy,Z,yg(K.y1,K.x1),yg(K.y0,K.x0),!c))}else t.moveTo(u+I,h+P),t.arc(u,h,i,s,l,!c);else t.moveTo(u+I,h+P);if(r>Cg&&L)if(M>Cg){G=_g(p,M),U=Sg(E,B,A,T,r,-(Z=_g(g,M)),c),K=Sg(I,P,k,R,r,-G,c);t.lineTo(u+U.cx+U.x0,h+U.cy+U.y0),M<C&&G===Z?t.arc(u+U.cx,h+U.cy,M,yg(U.y0,U.x0),yg(K.y0,K.x0),!c):(Z>0&&t.arc(u+U.cx,h+U.cy,Z,yg(U.y0,U.x0),yg(U.y1,U.x1),!c),t.arc(u,h,r,yg(U.cy+U.y1,U.cx+U.x1),yg(K.cy+K.y1,K.cx+K.x1),c),G>0&&t.arc(u+K.cx,h+K.cy,G,yg(K.y1,K.x1),yg(K.y0,K.x0),!c))}else t.lineTo(u+E,h+B),t.arc(u,h,r,l,s,c);else t.lineTo(u+E,h+B)}else t.moveTo(u,h);t.closePath()}}}var Ag=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Tg=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new Ag},e.prototype.buildPath=function(t,e){Mg(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(cl);Tg.prototype.type="sector";var kg=Tg,Rg=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},Ig=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new Rg},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)},e}(cl);Ig.prototype.type="ring";var Pg=Ig;function Eg(t,e,n){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=function(t,e,n,i){var r,o,a,s,l=[],u=[],h=[],c=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)ae(a,a,t[d]),se(s,s,t[d]);ae(a,a,i[0]),se(s,s,i[1])}for(d=0,f=t.length;d<f;d++){var p=t[d];if(n)r=t[d?d-1:f-1],o=t[(d+1)%f];else{if(0===d||d===f-1){l.push(Nt(t[d]));continue}r=t[d-1],o=t[d+1]}Vt(u,o,r),qt(u,u,e);var g=Qt(p,r),m=Qt(p,o),v=g+m;0!==v&&(g/=v,m/=v),qt(h,u,-g),qt(c,u,m);var y=Wt([],p,h),b=Wt([],p,c);i&&(se(y,y,a),ae(y,y,s),se(b,b,a),ae(b,b,s)),l.push(y),l.push(b)}return n&&l.push(l.shift()),l}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}var Bg=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Lg=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new Bg},e.prototype.buildPath=function(t,e){Eg(t,e,!0)},e}(cl);Lg.prototype.type="polygon";var Dg=Lg,Og=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Fg=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Og},e.prototype.buildPath=function(t,e){Eg(t,e,!1)},e}(cl);Fg.prototype.type="polyline";var Hg=Fg,Ng={},zg=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Wg=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new zg},e.prototype.buildPath=function(t,e){var n,i,r,o;if(this.subPixelOptimize){var a=wl(Ng,e,this.style);n=a.x1,i=a.y1,r=a.x2,o=a.y2}else n=e.x1,i=e.y1,r=e.x2,o=e.y2;var s=e.percent;0!==s&&(t.moveTo(n,i),s<1&&(r=n*(1-s)+r*s,o=i*(1-s)+o*s),t.lineTo(r,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(cl);Wg.prototype.type="line";var jg=Wg,Vg=[],Gg=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Zg(t,e,n){var i=t.cpx2,r=t.cpy2;return null!=i||null!=r?[(n?Wn:zn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Wn:zn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?$n:Kn)(t.x1,t.cpx1,t.x2,e),(n?$n:Kn)(t.y1,t.cpy1,t.y2,e)]}var Ug=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Gg},e.prototype.buildPath=function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,i),null==l||null==u?(h<1&&(Yn(n,a,r,h,Vg),a=Vg[1],r=Vg[2],Yn(i,s,o,h,Vg),s=Vg[1],o=Vg[2]),t.quadraticCurveTo(a,s,r,o)):(h<1&&(Gn(n,a,l,r,h,Vg),a=Vg[1],l=Vg[2],r=Vg[3],Gn(i,s,u,o,h,Vg),s=Vg[1],u=Vg[2],o=Vg[3]),t.bezierCurveTo(a,s,l,u,r,o)))},e.prototype.pointAt=function(t){return Zg(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=Zg(this.shape,t,!0);return Jt(e,e)},e}(cl);Ug.prototype.type="bezier-curve";var Kg=Ug,$g=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Xg=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new $g},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*r+n,u*r+i),t.arc(n,i,r,o,a,!s)},e}(cl);Xg.prototype.type="arc";var Yg=Xg,qg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return(0,g.ZT)(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),cl.prototype.getBoundingRect.call(this)},e}(cl),Jg=qg,Qg=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),tm=function(t){function e(e,n,i,r,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==i?1:i,s.y2=null==r?0:r,s.type="linear",s.global=a||!1,s}return(0,g.ZT)(e,t),e}(Qg),em=function(t){function e(e,n,i,r,o){var a=t.call(this,r)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==i?.5:i,a.type="radial",a.global=o||!1,a}return(0,g.ZT)(e,t),e}(Qg),nm=[0,0],im=[0,0],rm=new Ue,om=new Ue,am=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Ue;for(n=0;n<2;n++)this._axes[n]=new Ue;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,r=t.x,o=t.y,a=r+t.width,s=o+t.height;if(n[0].set(r,o),n[1].set(a,o),n[2].set(a,s),n[3].set(r,s),e)for(var l=0;l<4;l++)n[l].transform(e);Ue.sub(i[0],n[1],n[0]),Ue.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,i=!e;return rm.set(1/0,1/0),om.set(0,0),!this._intersectCheckOneSide(this,t,rm,om,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,rm,om,i,-1)&&(n=!1,i)||i||Ue.copy(e,n?rm:om),n},t.prototype._intersectCheckOneSide=function(t,e,n,i,r,o){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,nm),this._getProjMinMaxOnAxis(s,e._corners,im),nm[1]<im[0]||nm[0]>im[1]){if(a=!1,r)return a;var u=Math.abs(im[0]-nm[1]),h=Math.abs(nm[0]-im[1]);Math.min(u,h)>i.len()&&(u<h?Ue.scale(i,l,-u*o):Ue.scale(i,l,h*o))}else if(n){u=Math.abs(im[0]-nm[1]),h=Math.abs(nm[0]-im[1]);Math.min(u,h)<n.len()&&(u<h?Ue.scale(n,l,u*o):Ue.scale(n,l,-h*o))}}return a},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],r=this._origin,o=e[0].dot(i)+r[t],a=o,s=o,l=1;l<e.length;l++){var u=e[l].dot(i)+r[t];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s},t}(),sm=am,lm=[],um=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return(0,g.ZT)(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new nn(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(lm)),t.union(i)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},e}(us),hm=um,cm=Math.max,dm=Math.min,fm={};function pm(t){return cl.extend(t)}var gm=function(t,e){var n=rg(t,e);return function(t){function e(e){var i=t.call(this,e)||this;return i.applyTransform=n.applyTransform,i.buildPath=n.buildPath,i}return(0,g.ZT)(e,t),e}(ng)};function mm(t,e){return gm(t,e)}function vm(t,e){fm[t]=e}function ym(t){if(fm.hasOwnProperty(t))return fm[t]}function bm(t,e,n,i){var r=og(t,e);return n&&("center"===i&&(n=xm(n,r.getBoundingRect())),Cm(r,n)),r}function wm(t,e,n){var i=new yl({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle(xm(e,r))}}});return i}function xm(t,e){var n,i=e.width/e.height,r=t.height*i;return n=r<=t.width?t.height:(r=t.width)/i,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}var _m=function(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r];n.push(o.getUpdatedPathProxy(!0))}var a=new cl(e);return a.createPathProxy(),a.buildPath=function(t){if(ig(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},a};function Cm(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function Sm(t,e){return wl(t,t,{lineWidth:e}),t}function Mm(t){return xl(t.shape,t.shape,t.style),t}var Am=_l;function Tm(t,e){for(var n=Fe([]);t&&t!==e;)Ne(n,t.getLocalTransform(),n),t=t.parent;return n}function km(t,e,n){return e&&!X(e)&&(e=Kr.getLocalTransform(e)),n&&(e=Ve([],e)),oe([],t,e)}function Rm(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=km(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Im(t){return!t.isGroup}function Pm(t,e,n){if(t&&e){var i,r=(i={},t.traverse((function(t){Im(t)&&t.anid&&(i[t.anid]=t)})),i);e.traverse((function(t){if(Im(t)&&t.anid){var e=r[t.anid];if(e){var i=o(t);t.attr(o(e)),Gu(t,i,n,Vl(t).dataIndex)}}}))}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=V({},t.shape)),e}}function Em(t,e){return q(t,(function(t){var n=t[0];n=cm(n,e.x),n=dm(n,e.x+e.width);var i=t[1];return i=cm(i,e.y),[n,i=dm(i,e.y+e.height)]}))}function Bm(t,e){var n=cm(t.x,e.x),i=dm(t.x+t.width,e.x+e.width),r=cm(t.y,e.y),o=dm(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function Lm(t,e,n){var i=V({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),G(r,n),new yl(i)):bm(t.replace("path://",""),i,n,"center")}function Dm(t,e,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Om(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function Om(t,e,n,i,r,o,a,s){var l,u=n-t,h=i-e,c=a-r,d=s-o,f=Fm(c,d,u,h);if((l=f)<=1e-6&&l>=-1e-6)return!1;var p=t-r,g=e-o,m=Fm(p,g,u,h)/f;if(m<0||m>1)return!1;var v=Fm(p,g,c,d)/f;return!(v<0||v>1)}function Fm(t,e,n,i){return t*i-n*e}function Hm(t){var e=t.itemTooltipOption,n=t.componentModel,i=t.itemName,r=at(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=t.formatterParamsExtra;l&&Y(et(l),(function(t){Lt(s,t)||(s[t]=l[t],s.$vars.push(t))}));var u=Vl(t.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:i,option:G({content:i,formatterParams:s},r)}}function Nm(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function zm(t,e){if(t)if(rt(t))for(var n=0;n<t.length;n++)Nm(t[n],e);else Nm(t,e)}vm("circle",ug),vm("ellipse",dg),vm("sector",kg),vm("ring",Pg),vm("polygon",Dg),vm("polyline",Hg),vm("rect",Al),vm("line",jg),vm("bezierCurve",Kg),vm("arc",Yg);var Wm=ma(),jm=zp(),Vm=function(){function t(){this.group=new mo,this.uid=kh("viewChart"),this.renderTask=Tf({plan:Um,reset:Km}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){0},t.prototype.highlight=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&Zm(r,i,"emphasis")},t.prototype.downplay=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&Zm(r,i,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.eachRendered=function(t){zm(this.group,t)},t.markUpdateMethod=function(t,e){Wm(t).updateMethod=e},t.protoInitialize=void(t.prototype.type="chart"),t}();function Gm(t,e,n){t&&Hu(t)&&("emphasis"===e?yu:bu)(t,n)}function Zm(t,e,n){var i=ga(t,e),r=e&&null!=e.highlightKey?function(t){var e=Ul[t];return null==e&&Zl<=32&&(e=Ul[t]=Zl++),e}(e.highlightKey):null;null!=i?Y(ra(i),(function(e){Gm(t.getItemGraphicEl(e),n,r)})):t.eachItemGraphicEl((function(t){Gm(t,n,r)}))}function Um(t){return jm(t.model)}function Km(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&Wm(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,n,i,r),$m[l]}Ra(Vm),La(Vm);var $m={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Xm=Vm,Ym="\0__throttleOriginMethod",qm="\0__throttleRate",Jm="\0__throttleType";function Qm(t,e,n){var i,r,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,t.apply(o,a||[])}e=e||0;var d=function(){for(var t=[],d=0;d<arguments.length;d++)t[d]=arguments[d];i=(new Date).getTime(),o=this,a=t;var f=s||e,p=s||n;s=null,r=i-(p?l:u)-f,clearTimeout(h),p?h=setTimeout(c,f):r>=0?c():h=setTimeout(c,-r),l=i};return d.clear=function(){h&&(clearTimeout(h),h=null)},d.debounceNextCall=function(t){s=t},d}function tv(t,e,n,i){var r=t[e];if(r){var o=r[Ym]||r,a=r[Jm];if(r[qm]!==n||a!==i){if(null==n||!i)return t[e]=o;(r=t[e]=Qm(o,n,"debounce"===i))[Ym]=o,r[Jm]=i,r[qm]=n}return r}}function ev(t,e){var n=t[e];n&&n[Ym]&&(n.clear&&n.clear(),t[e]=n[Ym])}var nv=ma(),iv={itemStyle:Da(_h,!0),lineStyle:Da(bh,!0)},rv={lineStyle:"stroke",itemStyle:"fill"};function ov(t,e){var n=t.visualStyleMapper||iv[e];return n||(console.warn("Unknown style type '"+e+"'."),iv.itemStyle)}function av(t,e){var n=t.visualDrawType||rv[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var sv={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=t.getModel(i),o=ov(t,i)(r),a=r.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);var s=av(t,i),l=o[s],u=ot(l)?l:null,h="auto"===o.fill||"auto"===o.stroke;if(!o[s]||u||h){var c=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[s]||(o[s]=c,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||ot(o.fill)?c:o.fill,o.stroke="auto"===o.stroke||ot(o.stroke)?c:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",s),!e.isSeriesFiltered(t)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var i=t.getDataParams(n),r=V({},o);r[s]=u(i),e.setItemVisual(n,"style",r)}}}},lv=new Ah,uv={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=ov(t,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[i]){lv.option=n[i];var a=r(lv);V(t.ensureUniqueItemVisual(e,"style"),a),lv.option.decal&&(t.setItemVisual(e,"decal",lv.option.decal),lv.option.decal.dirty=!0),o in a&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},hv={performRawSeries:!0,overallReset:function(t){var e=It();t.eachSeries((function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+n,r=e.get(i);r||(r={},e.set(i,r)),nv(t).scope=r}})),t.eachSeries((function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),i={},r=e.getData(),o=nv(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=av(e,a);r.each((function(t){var e=r.getRawIndex(t);i[e]=t})),n.each((function(t){var a=i[t];if(r.getItemVisual(a,"colorFromPalette")){var l=r.ensureUniqueItemVisual(a,"style"),u=n.getName(t)||t+"",h=n.count();l[s]=e.getColorFromPalette(u,o,h)}}))}}))}},cv=Math.PI;var dv=function(){function t(t,e,n,i){this._stageTaskMap=It(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,o=t.get("large")&&i>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=It();t.eachSeries((function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;Y(this._allHandlers,(function(i){var r=t.get(i.uid)||t.set(i.uid,{});_t(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,r,e,n),i.overallReset&&this._createOverallStageTask(i,r,e,n)}),this)},t.prototype.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,this._pipe(e,r)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,i){i=i||{};var r=!1,o=this;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}Y(t,(function(t,s){if(!i.visualType||i.visualType===t.visualType){var l=o._stageTaskMap.get(t.uid),u=l.seriesTaskMap,h=l.overallTask;if(h){var c,d=h.agentStubMap;d.each((function(t){a(i,t)&&(t.dirty(),c=!0)})),c&&h.dirty(),o.updatePayload(h,n);var f=o.getPerformArgs(h,i.block);d.each((function(t){t.perform(f)})),h.perform(f)&&(r=!0)}else u&&u.each((function(s,l){a(i,s)&&s.dirty();var u=o.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(u)&&(r=!0)}))}})),this.unfinished=r||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,i){var r=this,o=e.seriesTaskMap,a=e.seriesTaskMap=It(),s=t.seriesType,l=t.getTargetSeries;function u(e){var s=e.uid,l=a.set(s,o&&o.get(s)||Tf({plan:vv,reset:yv,count:xv}));l.context={model:e,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:r},r._pipe(e,l)}t.createOnAllSeries?n.eachRawSeries(u):s?n.eachRawSeriesByType(s,u):l&&l(n,i).each(u)},t.prototype._createOverallStageTask=function(t,e,n,i){var r=this,o=e.overallTask=e.overallTask||Tf({reset:fv});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:r};var a=o.agentStubMap,s=o.agentStubMap=It(),l=t.seriesType,u=t.getTargetSeries,h=!0,c=!1;function d(t){var e=t.uid,n=s.set(e,a&&a.get(e)||(c=!0,Tf({reset:pv,onDirty:mv})));n.context={model:t,overallProgress:h},n.agent=o,n.__block=h,r._pipe(t,n)}_t(!t.createOnAllSeries,""),l?n.eachRawSeriesByType(l,d):u?u(n,i).each(d):(h=!1,Y(n.getSeries(),d)),c&&o.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},t.wrapStageHandler=function(t,e){return ot(t)&&(t={overallReset:t,seriesType:_v(t)}),t.uid=kh("stageHandler"),e&&(t.visualType=e),t},t}();function fv(t){t.overallReset(t.ecModel,t.api,t.payload)}function pv(t){return t.overallProgress&&gv}function gv(){this.agent.dirty(),this.getDownstream().dirty()}function mv(){this.agent&&this.agent.dirty()}function vv(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function yv(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=ra(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?q(e,(function(t,e){return wv(e)})):bv}var bv=wv(0);function wv(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function xv(t){return t.data.count()}function _v(t){Cv=null;try{t(Sv,Mv)}catch(t){}return Cv}var Cv,Sv={},Mv={};function Av(t,e){for(var n in e.prototype)t[n]=Dt}Av(Sv,xd),Av(Mv,Cd),Sv.eachSeriesByType=Sv.eachRawSeriesByType=function(t){Cv=t},Sv.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Cv=t.subType)};var Tv=dv,kv=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Rv={color:kv,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],kv]},Iv="#B9B8CE",Pv="#100C2A",Ev=function(){return{axisLine:{lineStyle:{color:Iv}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Bv=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Lv={darkMode:!0,color:Bv,backgroundColor:Pv,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Iv}},textStyle:{color:Iv},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Iv}},dataZoom:{borderColor:"#71708A",textStyle:{color:Iv},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Iv}},timeline:{lineStyle:{color:Iv},label:{color:Iv},controlStyle:{color:Iv,borderColor:Iv}},calendar:{itemStyle:{color:Pv},dayLabel:{color:Iv},monthLabel:{color:Iv},yearLabel:{color:Iv}},timeAxis:Ev(),logAxis:Ev(),valueAxis:Ev(),categoryAxis:Ev(),line:{symbol:"circle"},graph:{color:Bv},gauge:{title:{color:Iv},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Iv},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Lv.categoryAxis.splitLine.show=!1;var Dv=Lv,Ov=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},i={};if(at(t)){var r=ka(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var o=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};Y(t,(function(t,r){for(var s=!1,l=0;l<o.length;l++){var u=o[l],h=r.lastIndexOf(u);if(h>0&&h===r.length-u.length){var c=r.slice(0,h);"data"!==c&&(e.mainType=c,e[u.toLowerCase()]=t,s=!0)}}a.hasOwnProperty(r)&&(n[r]=t,s=!0),s||(i[r]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:i}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,o,"mainType")&&u(s,o,"subType")&&u(s,o,"index","componentIndex")&&u(s,o,"name")&&u(s,o,"id")&&u(l,r,"name")&&u(l,r,"dataIndex")&&u(l,r,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,i,r));function u(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),Fv=["symbol","symbolSize","symbolRotate","symbolOffset"],Hv=Fv.concat(["symbolKeepAspect"]),Nv={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<Fv.length;a++){var s=Fv[a],l=t.get(s);ot(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||t.defaultSymbol,n.setVisual(V({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(t)){var u=et(r);return{dataEach:o?function(e,n){for(var i=t.getRawValue(n),o=t.getDataParams(n),a=0;a<u.length;a++){var s=u[a];e.setItemVisual(n,s,r[s](i,o))}}:null}}}}},zv={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),i=0;i<Hv.length;i++){var r=Hv[i],o=n.getShallow(r,!0);null!=o&&t.setItemVisual(e,r,o)}}:null}}};function Wv(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function jv(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function Vv(t,e,n,i){switch(n){case"color":t.ensureUniqueItemVisual(e,"style")[t.getVisual("drawType")]=i,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,i)}}function Gv(t,e){function n(e,n){var i=[];return e.eachComponent({mainType:"series",subType:t,query:n},(function(t){i.push(t.seriesIndex)})),i}Y([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(t){e(t[0],(function(e,i,r){e=V({},e),r.dispatchAction(V(e,{type:t[1],seriesIndex:n(i,e)}))}))}))}function Zv(t,e,n,i,r){var o=t+e;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,i=t.option.selectedMap,a=r.selected,s=0;s<a.length;s++)if(a[s].seriesIndex===e){var l=t.getData(),u=ga(l,r.fromActionPayload);n.trigger(o,{type:o,seriesId:t.id,name:rt(u)?l.getName(u[0]):l.getName(u),selected:at(i)?i:V({},i)})}}))}function Uv(t,e,n){for(var i;t&&(!e(t)||(i=t,!n));)t=t.__hostTarget||t.parent;return i}var Kv=Math.round(9*Math.random()),$v="function"==typeof Object.defineProperty,Xv=function(){function t(){this._id="__ec_inner_"+Kv++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return $v?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),Yv=Xv,qv=cl.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),Jv=cl.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),Qv=cl.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),d=Math.cos(u),f=.6*a,p=.7*a;t.moveTo(n-h,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+h-c*f,l+s+d*f,n,i-p,n,i),t.bezierCurveTo(n,i-p,n-h+c*f,l+s+d*f,n-h,l+s),t.closePath()}}),ty=cl.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),ey={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},ny={};Y({line:jg,rect:Al,roundRect:Al,square:Al,circle:ug,diamond:Jv,pin:Qv,arrow:ty,triangle:qv},(function(t,e){ny[e]=new t}));var iy=cl.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=no(t,e,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if("none"!==i){var r=ny[i];r||(r=ny[i="rect"]),ey[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function ry(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function oy(t,e,n,i,r,o,a){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?wm(t.slice(8),new nn(e,n,i,r),a?"center":"cover"):0===t.indexOf("path://")?bm(t.slice(7),{},new nn(e,n,i,r),a?"center":"cover"):new iy({shape:{symbolType:t,x:e,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=ry,o&&s.setColor(o),s}function ay(t){return rt(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function sy(t,e){if(null!=t)return rt(t)||(t=[t,t]),[Po(t[0],e[0])||0,Po(yt(t[1],t[0]),e[1])||0]}function ly(t){return isFinite(t)}function uy(t,e,n){for(var i="radial"===e.type?function(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),a=ly(a)?a:.5,s=ly(s)?s:.5,l=l>=0&&ly(l)?l:.5,t.createRadialGradient(a,s,0,a,s,l)}(t,e,n):function(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=ly(i)?i:0,r=ly(r)?r:1,o=ly(o)?o:0,a=ly(a)?a:0,t.createLinearGradient(i,o,r,a)}(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function hy(t){return parseInt(t,10)}function cy(t,e,n){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=n[i]&&"auto"!==n[i])return parseFloat(n[i]);var s=document.defaultView.getComputedStyle(t);return(t[r]||hy(s[i])||hy(t.style[i]))-(hy(s[o])||0)-(hy(s[a])||0)|0}function dy(t){var e,n,i=t.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineDash,n=i.lineWidth,e&&"solid"!==e&&n>0?"dashed"===e?[4*n,2*n]:"dotted"===e?[n]:lt(e)?[e]:rt(e)?e:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&1!==a&&(r=q(r,(function(t){return t/a})),o/=a)}return[r,o]}var fy=new Gs(!0);function py(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function gy(t){return"string"==typeof t&&"none"!==t}function my(t){var e=t.fill;return null!=e&&"none"!==e}function vy(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function yy(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function by(t,e,n){var i=za(e.image,e.__image,n);if(ja(i)){var r=t.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*Ot),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}var wy=["shadowBlur","shadowOffsetX","shadowOffsetY"],xy=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function _y(t,e,n,i,r){var o=!1;if(!i&&e===(n=n||{}))return!1;if(i||e.opacity!==n.opacity){My(t,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?ns.opacity:a}(i||e.blend!==n.blend)&&(o||(My(t,r),o=!0),t.globalCompositeOperation=e.blend||ns.blend);for(var s=0;s<wy.length;s++){var l=wy[s];(i||e[l]!==n[l])&&(o||(My(t,r),o=!0),t[l]=t.dpr*(e[l]||0))}return(i||e.shadowColor!==n.shadowColor)&&(o||(My(t,r),o=!0),t.shadowColor=e.shadowColor||ns.shadowColor),o}function Cy(t,e,n,i,r){var o=Ay(e,r.inHover),a=i?null:n&&Ay(n,r.inHover)||{};if(o===a)return!1;var s=_y(t,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(My(t,r),s=!0),gy(o.fill)&&(t.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(My(t,r),s=!0),gy(o.stroke)&&(t.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(My(t,r),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(My(t,r),s=!0),t.lineWidth=l)}for(var u=0;u<xy.length;u++){var h=xy[u],c=h[0];(i||o[c]!==a[c])&&(s||(My(t,r),s=!0),t[c]=o[c]||h[1])}return s}function Sy(t,e){var n=e.transform,i=t.dpr||1;n?t.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):t.setTransform(i,0,0,i,0,0)}function My(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Ay(t,e){return e&&t.__hoverStyle||t.style}function Ty(t,e){ky(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ky(t,e,n,i){var r=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var o=e.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if(a&&!function(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}(o,a)||(a&&a.length&&(My(t,n),t.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(My(t,n),t.save(),function(t,e,n){for(var i=!1,r=0;r<t.length;r++){var o=t[r];i=i||o.isZeroArea(),Sy(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=i}(o,t,n),s=!0),n.prevElClipPaths=o),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var h,c,d=e instanceof cl&&e.autoBatch&&function(t){var e=my(t),n=py(t);return!(t.lineDash||!(+e^+n)||e&&"string"!=typeof t.fill||n&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);s||(h=r,c=u.transform,h&&c?h[0]!==c[0]||h[1]!==c[1]||h[2]!==c[2]||h[3]!==c[3]||h[4]!==c[4]||h[5]!==c[5]:h||c)?(My(t,n),Sy(t,e)):d||My(t,n);var f=Ay(e,n.inHover);e instanceof cl?(1!==n.lastDrawType&&(l=!0,n.lastDrawType=1),Cy(t,e,u,l,n),d&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,i){var r,o=py(n),a=my(n),s=n.strokePercent,l=s<1,u=!e.path;e.silent&&!l||!u||e.createPathProxy();var h=e.path||fy,c=e.__dirty;if(!i){var d=n.fill,f=n.stroke,p=a&&!!d.colorStops,g=o&&!!f.colorStops,m=a&&!!d.image,v=o&&!!f.image,y=void 0,b=void 0,w=void 0,x=void 0,_=void 0;(p||g)&&(_=e.getBoundingRect()),p&&(y=c?uy(t,d,_):e.__canvasFillGradient,e.__canvasFillGradient=y),g&&(b=c?uy(t,f,_):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),m&&(w=c||!e.__canvasFillPattern?by(t,d,e):e.__canvasFillPattern,e.__canvasFillPattern=w),v&&(x=c||!e.__canvasStrokePattern?by(t,f,e):e.__canvasStrokePattern,e.__canvasStrokePattern=w),p?t.fillStyle=y:m&&(w?t.fillStyle=w:a=!1),g?t.strokeStyle=b:v&&(x?t.strokeStyle=x:o=!1)}var C,S,M=e.getGlobalScale();h.setScale(M[0],M[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(C=(r=dy(e))[0],S=r[1]);var A=!0;(u||4&c)&&(h.setDPR(t.dpr),l?h.setContext(null):(h.setContext(t),A=!1),h.reset(),e.buildPath(h,e.shape,i),h.toStatic(),e.pathUpdated()),A&&h.rebuildPath(t,l?s:1),C&&(t.setLineDash(C),t.lineDashOffset=S),i||(n.strokeFirst?(o&&yy(t,n),a&&vy(t,n)):(a&&vy(t,n),o&&yy(t,n))),C&&t.setLineDash([])}(t,e,f,d),d&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof pl?(3!==n.lastDrawType&&(l=!0,n.lastDrawType=3),Cy(t,e,u,l,n),function(t,e,n){var i,r=n.text;if(null!=r&&(r+=""),r){t.font=n.font||w,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(o=(i=dy(e))[0],a=i[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(py(n)&&t.strokeText(r,n.x,n.y),my(n)&&t.fillText(r,n.x,n.y)):(my(n)&&t.fillText(r,n.x,n.y),py(n)&&t.strokeText(r,n.x,n.y)),o&&t.setLineDash([])}}(t,e,f)):e instanceof yl?(2!==n.lastDrawType&&(l=!0,n.lastDrawType=2),function(t,e,n,i,r){_y(t,Ay(e,r.inHover),n&&Ay(n,r.inHover),i,r)}(t,e,u,l,n),function(t,e,n){var i=e.__image=za(n.image,e.__image,e,e.onload);if(i&&ja(i)){var r=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=i.width/i.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=i.width,s=i.height),n.sWidth&&n.sHeight){var u=n.sx||0,h=n.sy||0;t.drawImage(i,u,h,n.sWidth,n.sHeight,r,o,a,s)}else if(n.sx&&n.sy){var c=a-(u=n.sx),d=s-(h=n.sy);t.drawImage(i,u,h,c,d,r,o,a,s)}else t.drawImage(i,r,o,a,s)}}(t,e,f)):e.getTemporalDisplayables&&(4!==n.lastDrawType&&(l=!0,n.lastDrawType=4),function(t,e,n){var i=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=i.length;o<a;o++){(h=i[o]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),ky(t,h,s,o===a-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}for(var l=0,u=r.length;l<u;l++){var h;(h=r[l]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),ky(t,h,s,l===u-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),s.prevEl=h}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),d&&i&&My(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var Ry=new Yv,Iy=new oi(100),Py=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Ey(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;t.dirty&&Ry.delete(t);var o=Ry.get(t);if(o)return o;var a=G(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(t){for(var e,o=[n],s=!0,l=0;l<Py.length;++l){var u=a[Py[l]];if(null!=u&&!rt(u)&&!at(u)&&!lt(u)&&"boolean"!=typeof u){s=!1;break}o.push(u)}if(s){e=o.join(",")+(r?"-svg":"");var h=Iy.get(e);h&&(r?t.svgElement=h:t.image=h)}var c,d=Ly(a.dashArrayX),f=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if(lt(t)){var e=Math.ceil(t);return[e,e]}var n=q(t,(function(t){return Math.ceil(t)}));return t.length%2?n.concat(n):n}(a.dashArrayY),p=By(a.symbol),g=(w=d,q(w,(function(t){return Dy(t)}))),m=Dy(f),v=!r&&S.createCanvas(),y=r&&{tag:"g",attrs:{},key:"dcl",children:[]},b=function(){for(var t=1,e=0,n=g.length;e<n;++e)t=ta(t,g[e]);var i=1;for(e=0,n=p.length;e<n;++e)i=ta(i,p[e].length);t*=i;var r=m*g.length*p.length;0;return{width:Math.max(1,Math.min(t,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}();var w;v&&(v.width=b.width*n,v.height=b.height*n,c=v.getContext("2d"));(function(){c&&(c.clearRect(0,0,v.width,v.height),a.backgroundColor&&(c.fillStyle=a.backgroundColor,c.fillRect(0,0,v.width,v.height)));for(var t=0,e=0;e<f.length;++e)t+=f[e];if(t<=0)return;var o=-m,s=0,l=0,u=0;for(;o<b.height;){if(s%2==0){for(var h=l/2%p.length,g=0,w=0,x=0;g<2*b.width;){var _=0;for(e=0;e<d[u].length;++e)_+=d[u][e];if(_<=0)break;if(w%2==0){var C=.5*(1-a.symbolSize),S=g+d[u][w]*C,M=o+f[s]*C,A=d[u][w]*a.symbolSize,T=f[s]*a.symbolSize,k=x/2%p[h].length;R(S,M,A,T,p[h][k])}g+=d[u][w],++x,++w===d[u].length&&(w=0)}++u===d.length&&(u=0)}o+=f[s],++l,++s===f.length&&(s=0)}function R(t,e,o,s,l){var u=r?1:n,h=oy(l,t*u,e*u,o*u,s*u,a.color,a.symbolKeepAspect);if(r){var d=i.painter.renderOneToVNode(h);d&&y.children.push(d)}else Ty(c,h)}})(),s&&Iy.put(e,v||y);t.image=v,t.svgElement=y,t.svgWidth=b.width,t.svgHeight=b.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/n,Ry.set(t,s),t.dirty=!1,s}function By(t){if(!t||0===t.length)return[["rect"]];if(at(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!at(t[n])){e=!1;break}if(e)return By([t]);var i=[];for(n=0;n<t.length;++n)at(t[n])?i.push([t[n]]):i.push(t[n]);return i}function Ly(t){if(!t||0===t.length)return[[0,0]];if(lt(t))return[[r=Math.ceil(t),r]];for(var e=!0,n=0;n<t.length;++n)if(!lt(t[n])){e=!1;break}if(e)return Ly([t]);var i=[];for(n=0;n<t.length;++n)if(lt(t[n])){var r=Math.ceil(t[n]);i.push([r,r])}else{(r=q(t[n],(function(t){return Math.ceil(t)}))).length%2==1?i.push(r.concat(r)):i.push(r)}return i}function Dy(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}var Oy=new de,Fy={};function Hy(t){return Fy[t]}var Ny="5.5.0",zy={zrender:"5.5.0"},Wy=2e3,jy=4500,Vy={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:Wy,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:jy,ARIA:6e3,DECAL:7e3}},Gy="__flagInMainProcess",Zy="__pendingUpdate",Uy="__needsUpdateStatus",Ky=/^[a-zA-Z0-9_]+$/,$y="__connectUpdateStatus";function Xy(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return qy(this,t,e);xb(this.id)}}function Yy(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return qy(this,t,e)}}function qy(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),de.prototype[e].apply(t,n)}var Jy,Qy,tb,eb,nb,ib,rb,ob,ab,sb,lb,ub,hb,cb,db,fb,pb,gb,mb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e}(de),vb=mb.prototype;vb.on=Yy("on"),vb.off=Yy("off");var yb=function(t){function e(e,n,i){var r=t.call(this,new Ov)||this;r._chartsViews=[],r._chartsMap={},r._componentsViews=[],r._componentsMap={},r._pendingActions=[],i=i||{},at(n)&&(n=Tb[n]),r._dom=e;i.ssr&&To((function(t){var e=Vl(t),n=e.dataIndex;if(null!=n){var i=It();return i.set("series_index",e.seriesIndex),i.set("data_index",n),e.ssrType&&i.set("ssr_type",e.ssrType),i}}));var o=r._zr=xo(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:yt(i.useDirtyRect,!1),useCoarsePointer:yt(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});r._ssr=i.ssr,r._throttledZrFlush=Qm(nt(o.flush,o),17),(n=z(n))&&Yd(n,!0),r._theme=n,r._locale=function(t){if(at(t)){var e=Bh[t.toUpperCase()]||{};return t===Ih||t===Ph?z(e):W(z(e),z(Bh[Eh]),!1)}return W(z(t),z(Bh[Eh]),!1)}(i.locale||Dh),r._coordSysMgr=new Ad;var a=r._api=db(r);function s(t,e){return t.__prio-e.__prio}return wn(Ab,s),wn(Sb,s),r._scheduler=new Tv(r,a,Sb,Ab),r._messageCenter=new mb,r._initEvents(),r.resize=nt(r.resize,r),o.animation.on("frame",r._onframe,r),sb(o,r),lb(o,r),Mt(r),r}return(0,g.ZT)(e,t),e.prototype._onframe=function(){if(!this._disposed){gb(this);var t=this._scheduler;if(this[Zy]){var e=this[Zy].silent;this[Gy]=!0;try{Jy(this),eb.update.call(this,null,this[Zy].updateParams)}catch(t){throw this[Gy]=!1,this[Zy]=null,t}this._zr.flush(),this[Gy]=!1,this[Zy]=null,ob.call(this,e),ab.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),ib(this,i),t.performVisualTasks(i),cb(this,this._model,r,"remain",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(!this[Gy])if(this._disposed)xb(this.id);else{var i,r,o;if(ut(e)&&(n=e.lazyUpdate,i=e.silent,r=e.replaceMerge,o=e.transition,e=e.notMerge),this[Gy]=!0,!this._model||e){var a=new Id(this._api),s=this._theme,l=this._model=new xd;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,s,this._locale,a)}this._model.setOption(t,{replaceMerge:r},Mb);var u={seriesTransition:o,optionChanged:!0};if(n)this[Zy]={silent:i,updateParams:u},this[Gy]=!1,this.getZr().wakeUp();else{try{Jy(this),eb.update.call(this,null,u)}catch(t){throw this[Zy]=null,this[Gy]=!1,t}this._ssr||this._zr.flush(),this[Zy]=null,this[Gy]=!1,ob.call(this,i),ab.call(this,i)}}},e.prototype.setTheme=function(){If()},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||y.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return t=t||{},this._zr.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return t=t||{},this._zr.painter.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(y.svgSupported){var t=this._zr;return Y(t.storage.getDisplayList(),(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;Y(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Y(i,(function(t){t.group.ignore=!1})),o}xb(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e="svg"===t.type,n=this.group,i=Math.min,r=Math.max,o=1/0;if(Ib[n]){var a=o,s=o,l=-1/0,u=-1/0,h=[],c=t&&t.pixelRatio||this.getDevicePixelRatio();Y(Rb,(function(o,c){if(o.group===n){var d=e?o.getZr().painter.getSvgDom().innerHTML:o.renderToCanvas(z(t)),f=o.getDom().getBoundingClientRect();a=i(f.left,a),s=i(f.top,s),l=r(f.right,l),u=r(f.bottom,u),h.push({dom:d,left:f.left,top:f.top})}}));var d=(l*=c)-(a*=c),f=(u*=c)-(s*=c),p=S.createCanvas(),g=xo(p,{renderer:e?"svg":"canvas"});if(g.resize({width:d,height:f}),e){var m="";return Y(h,(function(t){var e=t.left-a,n=t.top-s;m+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),g.painter.getSvgRoot().innerHTML=m,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return t.connectedBackgroundColor&&g.add(new Al({shape:{x:0,y:0,width:d,height:f},style:{fill:t.connectedBackgroundColor}})),Y(h,(function(t){var e=new yl({style:{x:t.left*c-a,y:t.top*c-s,image:t.dom}});g.add(e)})),g.refreshImmediately(),p.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}xb(this.id)},e.prototype.convertToPixel=function(t,e){return nb(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return nb(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){var n;if(!this._disposed)return Y(ya(this._model,t),(function(t,i){i.indexOf("Models")>=0&&Y(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n=n||!!r.containPoint(e);else if("seriesModels"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}else 0}),this)}),this),!!n;xb(this.id)},e.prototype.getVisual=function(t,e){var n=ya(this._model,t,{defaultMainType:"series"});var i=n.seriesModel.getData(),r=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=r?Wv(i,r,e):jv(i,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,n,i=this;Y(wb,(function(t){var e=function(e){var n,r=i.getModel(),o=e.target;if("globalout"===t?n={}:o&&Uv(o,(function(t){var e=Vl(t);if(e&&null!=e.dataIndex){var i=e.dataModel||r.getSeriesByIndex(e.seriesIndex);return n=i&&i.getDataParams(e.dataIndex,e.dataType,o)||{},!0}if(e.eventData)return n=V({},e.eventData),!0}),!0),n){var a=n.componentType,s=n.componentIndex;"markLine"!==a&&"markPoint"!==a&&"markArea"!==a||(a="series",s=n.seriesIndex);var l=a&&null!=s&&r.getComponent(a,s),u=l&&i["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];0,n.event=e,n.type=t,i._$eventProcessor.eventInfo={targetEl:o,packedEvent:n,model:l,view:u},i.trigger(t,n)}};e.zrEventfulCallAtLast=!0,i._zr.on(t,e,i)})),Y(Cb,(function(t,e){i._messageCenter.on(e,(function(t){this.trigger(e,t)}),i)})),Y(["selectchanged"],(function(t){i._messageCenter.on(t,(function(e){this.trigger(t,e)}),i)})),t=this._messageCenter,e=this,n=this._api,t.on("selectchanged",(function(t){var i=n.getModel();t.isFromClick?(Zv("map","selectchanged",e,i,t),Zv("pie","selectchanged",e,i,t)):"select"===t.fromAction?(Zv("map","selected",e,i,t),Zv("pie","selected",e,i,t)):"unselect"===t.fromAction&&(Zv("map","unselected",e,i,t),Zv("pie","unselected",e,i,t))}))},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?xb(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)xb(this.id);else{this._disposed=!0,this.getDom()&&Ca(this.getDom(),Bb,"");var t=this,e=t._api,n=t._model;Y(t._componentsViews,(function(t){t.dispose(n,e)})),Y(t._chartsViews,(function(t){t.dispose(n,e)})),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete Rb[t.id]}},e.prototype.resize=function(t){if(!this[Gy])if(this._disposed)xb(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this[Zy]&&(null==i&&(i=this[Zy].silent),n=!0,this[Zy]=null),this[Gy]=!0;try{n&&Jy(this),eb.update.call(this,{type:"resize",animation:V({duration:0},t&&t.animation)})}catch(t){throw this[Gy]=!1,t}this[Gy]=!1,ob.call(this,i),ab.call(this,i)}}},e.prototype.showLoading=function(t,e){if(this._disposed)xb(this.id);else if(ut(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),kb[t]){var n=kb[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},e.prototype.hideLoading=function(){this._disposed?xb(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=V({},t);return e.type=Cb[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)xb(this.id);else if(ut(e)||(e={silent:!!e}),_b[t.type]&&this._model)if(this[Gy])this._pendingActions.push(t);else{var n=e.silent;rb.call(this,t,n);var i=e.flush;i?this._zr.flush():!1!==i&&y.browser.weChat&&this._throttledZrFlush(),ob.call(this,n),ab.call(this,n)}},e.prototype.updateLabelLayout=function(){Oy.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)xb(this.id);else{var e=t.seriesIndex;0,this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function e(t){for(var e=[],n=t.currentStates,i=0;i<n.length;i++){var r=n[i];"emphasis"!==r&&"blur"!==r&&"select"!==r&&e.push(r)}t.selected&&t.states.select&&e.push("select"),2===t.hoverState&&t.states.emphasis?e.push("emphasis"):1===t.hoverState&&t.states.blur&&e.push("blur"),t.useStates(e)}function n(t,e){if(!t.preventAutoZ){var n=t.get("z")||0,r=t.get("zlevel")||0;e.eachRendered((function(t){return i(t,n,r,-1/0),!0}))}}function i(t,e,n,r){var o=t.getTextContent(),a=t.getTextGuideLine();if(t.isGroup)for(var s=t.childrenRef(),l=0;l<s.length;l++)r=Math.max(i(s[l],e,n,r),r);else t.z=e,t.zlevel=n,r=Math.max(t.z2,r);if(o&&(o.z=e,o.zlevel=n,isFinite(r)&&(o.z2=r+2)),a){var u=t.textGuideLineConfig;a.z=e,a.zlevel=n,isFinite(r)&&(a.z2=r+(u&&u.showAbove?1:-1))}return r}function r(t,e){e.eachRendered((function(t){if(!Uu(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function o(t,n){var i=t.getModel("stateAnimation"),r=t.isAnimationEnabled(),o=i.get("duration"),a=o>0?{duration:o,delay:i.get("delay"),easing:i.get("easing")}:null;n.eachRendered((function(t){if(t.states&&t.states.emphasis){if(Uu(t))return;if(t instanceof cl&&function(t){var e=Kl(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(r){t.stateTransition=a;var i=t.getTextContent(),o=t.getTextGuideLine();i&&(i.stateTransition=a),o&&(o.stateTransition=a)}t.__dirty&&e(t)}}))}Jy=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),Qy(t,!0),Qy(t,!1),e.plan()},Qy=function(t,e){for(var n=t._model,i=t._scheduler,r=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l<r.length;l++)r[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u="_ec_"+t.id+"_"+t.type,h=!l&&o[u];if(!h){var c=ka(t.type);0,(h=new(e?Np.getClass(c.main,c.sub):Xm.getClass(c.sub))).init(n,s),o[u]=h,r.push(h),a.add(h.group)}t.__viewId=h.__id=u,h.__alive=!0,h.__model=t,h.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&i.prepareView(h,t,n,s)}e?n.eachComponent((function(t,e){"series"!==t&&u(e)})):n.eachSeries(u);for(l=0;l<r.length;){var h=r[l];h.__alive?l++:(!e&&h.renderTask.dispose(),a.remove(h.group),h.dispose(n,s),r.splice(l,1),o[h.__id]===h&&delete o[h.__id],h.__id=h.group.__ecComponentInfo=null)}},tb=function(t,e,n,i,r){var o=t._model;if(o.setUpdatePayload(n),i){var a={};a[i+"Id"]=n[i+"Id"],a[i+"Index"]=n[i+"Index"],a[i+"Name"]=n[i+"Name"];var s={mainType:i,query:a};r&&(s.subType=r);var l,u=n.excludeSeriesId;null!=u&&(l=It(),Y(ra(u),(function(t){var e=da(t,null);null!=e&&l.set(e,!0)}))),o&&o.eachComponent(s,(function(e){if(!(l&&null!=l.get(e.id)))if(zu(n))if(e instanceof Fp)n.type!==Jl||n.notBlur||e.get(["emphasis","disabled"])||function(t,e,n){var i=t.seriesIndex,r=t.getData(e.dataType);if(r){var o=ga(r,e);o=(rt(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var u=Vl(a);Au(i,u.focus,u.blurScope,n)}else{var h=t.get(["emphasis","focus"]),c=t.get(["emphasis","blurScope"]);null!=h&&Au(i,h,c,n)}}}(e,n,t._api);else{var i=ku(e.mainType,e.componentIndex,n.name,t._api),r=i.focusSelf,o=i.dispatchers;n.type===Jl&&r&&!n.notBlur&&Tu(e.mainType,e.componentIndex,t._api),o&&Y(o,(function(t){n.type===Jl?yu(t):bu(t)}))}else Nu(n)&&e instanceof Fp&&(!function(t,e,n){if(Nu(e)){var i=e.dataType,r=ga(t.getData(i),e);rt(r)||(r=[r]),t[e.type===nu?"toggleSelect":e.type===tu?"select":"unselect"](r,i)}}(e,n,t._api),Ru(e),pb(t))}),t),o&&o.eachComponent(s,(function(e){l&&null!=l.get(e.id)||h(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else Y([].concat(t._componentsViews).concat(t._chartsViews),h);function h(i){i&&i.__alive&&i[e]&&i[e](i.__model,o,t._api,n)}},eb={prepareAndUpdate:function(t){Jy(this),eb.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var i=this._model,r=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(i){i.setUpdatePayload(e),s.restoreData(i,e),s.performSeriesTasks(i),a.create(i,r),s.performDataProcessorTasks(i,e),ib(this,i),a.update(i,r),t(i),s.performVisualTasks(i,e),ub(this,i,r,e,n);var l=i.get("backgroundColor")||"transparent",u=i.get("darkMode");o.setBackgroundColor(l),null!=u&&"auto"!==u&&o.setDarkMode(u),Oy.trigger("afterupdate",i,r)}},updateTransform:function(e){var n=this,i=this._model,r=this._api;if(i){i.setUpdatePayload(e);var o=[];i.eachComponent((function(t,a){if("series"!==t){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,i,r,e);l&&l.update&&o.push(s)}else o.push(s)}}));var a=It();i.eachSeries((function(t){var o=n._chartsMap[t.__viewId];if(o.updateTransform){var s=o.updateTransform(t,i,r,e);s&&s.update&&a.set(t.uid,1)}else a.set(t.uid,1)})),t(i),this._scheduler.performVisualTasks(i,e,{setDirty:!0,dirtyMap:a}),cb(this,i,r,e,{},a),Oy.trigger("afterupdate",i,r)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),Xm.markUpdateMethod(e,"updateView"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),ub(this,n,this._api,e,{}),Oy.trigger("afterupdate",n,this._api))},updateVisual:function(e){var n=this,i=this._model;i&&(i.setUpdatePayload(e),i.eachSeries((function(t){t.getData().clearAllVisual()})),Xm.markUpdateMethod(e,"updateVisual"),t(i),this._scheduler.performVisualTasks(i,e,{visualType:"visual",setDirty:!0}),i.eachComponent((function(t,r){if("series"!==t){var o=n.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,n._api,e)}})),i.eachSeries((function(t){n._chartsMap[t.__viewId].updateVisual(t,i,n._api,e)})),Oy.trigger("afterupdate",i,this._api))},updateLayout:function(t){eb.update.call(this,t)}},nb=function(t,e,n,i){if(t._disposed)xb(t.id);else{for(var r,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=ya(o,n),l=0;l<a.length;l++){var u=a[l];if(u[e]&&null!=(r=u[e](o,s,i)))return r}0}},ib=function(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,n[t.__viewId])}))},rb=function(t,e){var n=this,i=this.getModel(),r=t.type,o=t.escapeConnect,a=_b[r],s=a.actionInfo,l=(s.update||"update").split(":"),u=l.pop(),h=null!=l[0]&&ka(l[0]);this[Gy]=!0;var c=[t],d=!1;t.batch&&(d=!0,c=q(t.batch,(function(e){return(e=G(V({},e),t)).batch=null,e})));var f,p=[],g=Nu(t),m=zu(t);if(m&&Mu(this._api),Y(c,(function(e){if((f=(f=a.action(e,n._model,n._api))||V({},e)).type=s.event||f.type,p.push(f),m){var i=ba(t),r=i.queryOptionMap,o=i.mainTypeSpecified?r.keys()[0]:"series";tb(n,u,e,o),pb(n)}else g?(tb(n,u,e,"series"),pb(n)):h&&tb(n,u,e,h.main,h.sub)})),"none"!==u&&!m&&!g&&!h)try{this[Zy]?(Jy(this),eb.update.call(this,t),this[Zy]=null):eb[u].call(this,t)}catch(t){throw this[Gy]=!1,t}if(f=d?{type:s.event||r,escapeConnect:o,batch:p}:p[0],this[Gy]=!1,!e){var v=this._messageCenter;if(v.trigger(f.type,f),g){var y={type:"selectchanged",escapeConnect:o,selected:Iu(i),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};v.trigger(y.type,y)}}},ob=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();rb.call(this,n,t)}},ab=function(t){!t&&this.trigger("updated")},sb=function(t,e){t.on("rendered",(function(n){e.trigger("rendered",n),!t.animation.isFinished()||e[Zy]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},lb=function(t,e){t.on("mouseover",(function(t){var n=Uv(t.target,Hu);n&&(!function(t,e,n){var i=Vl(t),r=ku(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=r.dispatchers,a=r.focusSelf;o?(a&&Tu(i.componentMainType,i.componentIndex,n),Y(o,(function(t){return mu(t,e)}))):(Au(i.seriesIndex,i.focus,i.blurScope,n),"self"===i.focus&&Tu(i.componentMainType,i.componentIndex,n),mu(t,e))}(n,t,e._api),pb(e))})).on("mouseout",(function(t){var n=Uv(t.target,Hu);n&&(!function(t,e,n){Mu(n);var i=Vl(t),r=ku(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;r?Y(r,(function(t){return vu(t,e)})):vu(t,e)}(n,t,e._api),pb(e))})).on("click",(function(t){var n=Uv(t.target,(function(t){return null!=Vl(t).dataIndex}),!0);if(n){var i=n.selected?"unselect":"select",r=Vl(n);e._api.dispatchAction({type:i,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}}))},ub=function(t,e,n,i,r){!function(t){var e=[],n=[],i=!1;if(t.eachComponent((function(t,r){var o=r.get("zlevel")||0,a=r.get("z")||0,s=r.getZLevelKey();i=i||!!s,("series"===t?n:e).push({zlevel:o,z:a,idx:r.componentIndex,type:t,key:s})})),i){var r,o,a=e.concat(n);wn(a,(function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel})),Y(a,(function(e){var n=t.getComponent(e.type,e.idx),i=e.zlevel,a=e.key;null!=r&&(i=Math.max(r,i)),a?(i===r&&a!==o&&i++,o=a):o&&(i===r&&i++,o=""),r=i,n.setZLevel(i)}))}}(e),hb(t,e,n,i,r),Y(t._chartsViews,(function(t){t.__alive=!1})),cb(t,e,n,i,r),Y(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},hb=function(t,e,i,a,s,l){Y(l||t._componentsViews,(function(t){var s=t.__model;r(s,t),t.render(s,e,i,a),n(s,t),o(s,t)}))},cb=function(t,e,i,a,s,l){var u=t._scheduler;s=V(s||{},{updatedSeries:e.getSeries()}),Oy.trigger("series:beforeupdate",e,i,s);var h=!1;e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var i=n.renderTask;u.updatePayload(i,a),r(e,n),l&&l.get(e.uid)&&i.dirty(),i.perform(u.getPerformArgs(i))&&(h=!0),n.group.silent=!!e.get("silent"),function(t,e){var n=t.get("blendMode")||null;e.eachRendered((function(t){t.isGroup||(t.style.blend=n)}))}(e,n),Ru(e)})),u.unfinished=h||u.unfinished,Oy.trigger("series:layoutlabels",e,i,s),Oy.trigger("series:transition",e,i,s),e.eachSeries((function(e){var i=t._chartsMap[e.__viewId];n(e,i),o(e,i)})),function(t,e){var n=t._zr,i=n.storage,r=0;i.traverse((function(t){t.isGroup||r++})),r>e.get("hoverLayerThreshold")&&!y.node&&!y.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}(t,e),Oy.trigger("series:afterupdate",e,i,s)},pb=function(t){t[Uy]=!0,t.getZr().wakeUp()},gb=function(t){t[Uy]&&(t.getZr().storage.traverse((function(t){Uu(t)||e(t)})),t[Uy]=!1)},db=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,g.ZT)(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){yu(e,n),pb(t)},n.prototype.leaveEmphasis=function(e,n){bu(e,n),pb(t)},n.prototype.enterBlur=function(e){wu(e),pb(t)},n.prototype.leaveBlur=function(e){xu(e),pb(t)},n.prototype.enterSelect=function(e){_u(e),pb(t)},n.prototype.leaveSelect=function(e){Cu(e),pb(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(Cd))(t)},fb=function(t){function e(t,e){for(var n=0;n<t.length;n++){t[n][$y]=e}}Y(Cb,(function(n,i){t._messageCenter.on(i,(function(n){if(Ib[t.group]&&0!==t[$y]){if(n&&n.escapeConnect)return;var i=t.makeActionFromEvent(n),r=[];Y(Rb,(function(e){e!==t&&e.group===t.group&&r.push(e)})),e(r,0),Y(r,(function(t){1!==t[$y]&&t.dispatchAction(i)})),e(r,2)}}))}))}}(),e}(de),bb=yb.prototype;bb.on=Xy("on"),bb.off=Xy("off"),bb.one=function(t,e,n){var i=this;If(),this.on.call(this,t,(function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e&&e.apply&&e.apply(this,r),i.off(t,n)}),n)};var wb=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function xb(t){0}var _b={},Cb={},Sb=[],Mb=[],Ab=[],Tb={},kb={},Rb={},Ib={},Pb=+new Date-0,Eb=+new Date-0,Bb="_echarts_instance_";function Lb(t,e,n){var i=!(n&&n.ssr);if(i){0;var r=Nb(t);if(r)return r;0}var o=new yb(t,e,n);return o.id="ec_"+Pb++,Rb[o.id]=o,i&&Ca(t,Bb,o.id),fb(o),Oy.trigger("afterinit",o),o}function Db(t){if(rt(t)){var e=t;t=null,Y(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+Eb++,Y(e,(function(e){e.group=t}))}return Ib[t]=!0,t}function Ob(t){Ib[t]=!1}var Fb=Ob;function Hb(t){at(t)?t=Rb[t]:t instanceof yb||(t=Nb(t)),t instanceof yb&&!t.isDisposed()&&t.dispose()}function Nb(t){return Rb[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,Bb)]}function zb(t){return Rb[t]}function Wb(t,e){Tb[t]=e}function jb(t){U(Mb,t)<0&&Mb.push(t)}function Vb(t,e){Qb(Sb,t,e,2e3)}function Gb(t){Ub("afterinit",t)}function Zb(t){Ub("afterupdate",t)}function Ub(t,e){Oy.on(t,e)}function Kb(t,e,n){ot(e)&&(n=e,e="");var i=ut(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Cb[e]||(_t(Ky.test(i)&&Ky.test(e)),_b[i]||(_b[i]={action:n,actionInfo:t}),Cb[e]=i)}function $b(t,e){Ad.register(t,e)}function Xb(t){var e=Ad.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function Yb(t,e){Qb(Ab,t,e,1e3,"layout")}function qb(t,e){Qb(Ab,t,e,3e3,"visual")}var Jb=[];function Qb(t,e,n,i,r){if((ot(e)||ut(e))&&(n=e,e=i),!(U(Jb,n)>=0)){Jb.push(n);var o=Tv.wrapStageHandler(n,r);o.__prio=e,o.__raw=n,t.push(o)}}function tw(t,e){kb[t]=e}function ew(t){M({createCanvas:t})}function nw(t,e,n){var i=Hy("registerMap");i&&i(t,e,n)}function iw(t){var e=Hy("getMap");return e&&e(t)}var rw=function(t){var e=(t=z(t)).type;e||Pf("");var n=e.split(":");2!==n.length&&Pf("");var i=!1;"echarts"===n[0]&&(e=n[1],i=!0),t.__isBuiltIn=i,Zf.set(e,t)};qb(Wy,sv),qb(jy,uv),qb(jy,hv),qb(Wy,Nv),qb(jy,zv),qb(7e3,(function(t,e){t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each((function(t){var n=i.getItemVisual(t,"decal");n&&(i.ensureUniqueItemVisual(t,"style").decal=Ey(n,e))}));var r=i.getVisual("decal");if(r)i.getVisual("style").decal=Ey(r,e)}}))})),jb(Yd),Vb(900,(function(t){var e=It();t.eachSeries((function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}})),e.each(qd)})),tw("default",(function(t,e){G(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new mo,i=new Al({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(i);var r,o=new jl({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Al({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(a),e.showSpinner&&((r=new Yg({shape:{startAngle:-cv/2,endAngle:-cv/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*cv/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*cv/2}).delay(300).start("circularInOut"),n.add(r)),n.resize=function(){var n=o.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:s),u=t.getHeight()/2;e.showSpinner&&r.setShape({cx:l,cy:u}),a.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n})),Kb({type:Jl,event:Jl,update:Jl},Dt),Kb({type:Ql,event:Ql,update:Ql},Dt),Kb({type:tu,event:tu,update:tu},Dt),Kb({type:eu,event:eu,update:eu},Dt),Kb({type:nu,event:nu,update:nu},Dt),Wb("light",Rv),Wb("dark",Dv);var ow={},aw=[],sw={registerPreprocessor:jb,registerProcessor:Vb,registerPostInit:Gb,registerPostUpdate:Zb,registerUpdateLifecycle:Ub,registerAction:Kb,registerCoordinateSystem:$b,registerLayout:Yb,registerVisual:qb,registerTransform:rw,registerLoading:tw,registerMap:nw,registerImpl:function(t,e){Fy[t]=e},PRIORITY:Vy,ComponentModel:Nc,ComponentView:Np,SeriesModel:Fp,ChartView:Xm,registerComponentModel:function(t){Nc.registerClass(t)},registerComponentView:function(t){Np.registerClass(t)},registerSeriesModel:function(t){Fp.registerClass(t)},registerChartView:function(t){Xm.registerClass(t)},registerSubTypeDefaulter:function(t,e){Nc.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Mo(t,e)}};function lw(t){rt(t)?Y(t,(function(t){lw(t)})):U(aw,t)>=0||(aw.push(t),ot(t)&&(t={install:t}),t.install(sw))}function uw(t){return null==t?0:t.length||1}function hw(t){return t}var cw=function(){function t(t,e,n,i,r,o){this._old=t,this._new=e,this._oldKeyGetter=n||hw,this._newKeyGetter=i||hw,this.context=r,this._diffModeMultiple="multiple"===o}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),r=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,r,"_newKeyGetter");for(var o=0;o<t.length;o++){var a=i[o],s=n[a],l=uw(s);if(l>1){var u=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(u,o)}else 1===l?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(r,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},r=[],o=[];this._initIndexMap(t,n,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<r.length;a++){var s=r[a],l=n[s],u=i[s],h=uw(l),c=uw(u);if(h>1&&1===c)this._updateManyToOne&&this._updateManyToOne(u,l),i[s]=null;else if(1===h&&c>1)this._updateOneToMany&&this._updateOneToMany(u,l),i[s]=null;else if(1===h&&1===c)this._update&&this._update(u,l),i[s]=null;else if(h>1&&c>1)this._updateManyToMany&&this._updateManyToMany(u,l),i[s]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[i],o=uw(r);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);e[i]=null}},t.prototype._initIndexMap=function(t,e,n,i){for(var r=this._diffModeMultiple,o=0;o<t.length;o++){var a="_ec_"+this[i](t[o],o);if(r||(n[o]=a),e){var s=e[a],l=uw(s);0===l?(e[a]=o,r&&n.push(a)):1===l?e[a]=[s,o]:s.push(o)}}},t}(),dw=cw,fw=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function pw(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function gw(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var mw=function(t){this.otherDims={},null!=t&&V(this,t)},vw=ma(),yw={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},bw=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=_w(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return yt(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=cf(this.source),n=!Cw(t),i="",r=[],o=0,a=0;o<t;o++){var s=void 0,l=void 0,u=void 0,h=this.dimensions[a];if(h&&h.storeDimIndex===o)s=e?h.name:null,l=h.type,u=h.ordinalMeta,a++;else{var c=this.getSourceDimension(o);c&&(s=e?c.name:null,l=c.type)}r.push({property:s,type:l,ordinalMeta:u}),!e||null==s||h&&h.isCalculationCoord||(i+=n?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),i+="$",i+=yw[l]||"f",u&&(i+=u.uid),i+="$"}var d=this.source;return{dimensions:r,hash:[d.seriesLayoutBy,d.startIndex,i].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,r=this.dimensions[n];if(r&&r.storeDimIndex===e)r.isCalculationCoord||(i=r.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function ww(t){return t instanceof bw}function xw(t){for(var e=It(),n=0;n<(t||[]).length;n++){var i=t[n],r=ut(i)?i.name:i;null!=r&&null==e.get(r)&&e.set(r,n)}return e}function _w(t){var e=vw(t);return e.dimNameMap||(e.dimNameMap=xw(t.dimensionsDefine))}function Cw(t){return t>30}var Sw,Mw,Aw,Tw,kw,Rw,Iw,Pw=ut,Ew=q,Bw="undefined"==typeof Int32Array?Array:Int32Array,Lw=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Dw=["_approximateExtent"],Ow=function(){function t(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i=!1;ww(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var r={},o=[],a={},s=!1,l={},u=0;u<n.length;u++){var h=n[u],c=at(h)?new mw({name:h}):h instanceof mw?h:new mw(h),d=c.name;c.type=c.type||"float",c.coordDim||(c.coordDim=d,c.coordDimIndex=0);var f=c.otherDims=c.otherDims||{};o.push(d),r[d]=c,null!=l[d]&&(s=!0),c.createInvertedIndices&&(a[d]=[]),0===f.itemName&&(this._nameDimIdx=u),0===f.itemId&&(this._idDimIdx=u),i&&(c.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=r,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var p=this._dimIdxToName=It();Y(o,(function(t){p.set(r[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var i=this._schema.getSourceDimension(e);return i?i.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(lt(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var i,r=this;if(t instanceof rp&&(i=t),!i){var o=this.dimensions,a=of(t)||X(t)?new df(t,o.length):t;i=new rp;var s=Ew(o,(function(t){return{type:r._dimInfos[t].type,property:t}}));i.initData(a,s,n)}this._store=i,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function(t,e){var n={},i=n.encode={},r=It(),o=[],a=[],s={};Y(t.dimensions,(function(e){var n,l=t.getDimensionInfo(e),u=l.coordDim;if(u){var h=l.coordDimIndex;pw(i,u)[h]=e,l.isExtraCoord||(r.set(u,1),"ordinal"!==(n=l.type)&&"time"!==n&&(o[0]=e),pw(s,u)[h]=t.getDimensionIndex(l.name)),l.defaultTooltip&&a.push(e)}Vc.each((function(t,e){var n=pw(i,e),r=l.otherDims[e];null!=r&&!1!==r&&(n[r]=l.name)}))}));var l=[],u={};r.each((function(t,e){var n=i[e];u[e]=n[0],l=l.concat(n)})),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=q(l,(function(e){return t.getDimensionInfo(e).storeDimIndex})),n.encodeFirstDimNotExtra=u;var h=i.label;h&&h.length&&(o=h.slice());var c=i.tooltip;return c&&c.length?a=c.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,n.userOutput=new fw(s,e),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),i=n.start,r=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=i;a<r;a++){var s=a-i;this._nameList[a]=e[s],o&&Iw(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==$c&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,r=this._idList;if(n.getSource().sourceFormat===Gc&&!n.pure)for(var o=[],a=t;a<e;a++){var s=n.getItem(a,o);if(!this.hasItemOption&&la(s)&&(this.hasItemOption=!0),s){var l=s.name;null==i[a]&&null!=l&&(i[a]=da(l,null));var u=s.id;null==r[a]&&null!=u&&(r[a]=da(u,null))}}if(this._shouldMakeIdFromName())for(a=t;a<e;a++)Iw(this,a);Sw(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){Pw(t)?V(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=Aw(this,this._nameDimIdx,e)),null==n&&(n=""),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},t.prototype.getId=function(t){return Mw(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,i=this._store;return rt(t)?i.getValues(Ew(t,(function(t){return n._getStoreDimIndex(t)})),e):i.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?-1:n},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){ot(t)&&(n=e,e=t,t=[]);var i=n||this,r=Ew(Tw(t),this._getStoreDimIndex,this);this._store.each(r,i?nt(e,i):e)},t.prototype.filterSelf=function(t,e,n){ot(t)&&(n=e,e=t,t=[]);var i=n||this,r=Ew(Tw(t),this._getStoreDimIndex,this);return this._store=this._store.filter(r,i?nt(e,i):e),this},t.prototype.selectRange=function(t){var e=this,n={},i=et(t),r=[];return Y(i,(function(i){var o=e._getStoreDimIndex(i);n[o]=t[i],r.push(o)})),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){ot(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,(function(){i.push(e&&e.apply(this,arguments))}),n),i},t.prototype.map=function(t,e,n,i){var r=n||i||this,o=Ew(Tw(t),this._getStoreDimIndex,this),a=Rw(this);return a._store=this._store.map(o,r?nt(e,r):e),a},t.prototype.modify=function(t,e,n,i){var r=n||i||this;var o=Ew(Tw(t),this._getStoreDimIndex,this);this._store.modify(o,r?nt(e,r):e)},t.prototype.downSample=function(t,e,n,i){var r=Rw(this);return r._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),r},t.prototype.lttbDownSample=function(t,e){var n=Rw(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Ah(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new dw(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return Mw(t,e)}),(function(t){return Mw(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},Pw(t)?V(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return null==i?this.getVisual(e):i},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var r=i[e];return null==r&&(rt(r=this.getVisual(e))?r=r.slice():Pw(r)&&(r=V({},r)),i[e]=r),r},t.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Pw(e)?V(i,e):i[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){Pw(t)?V(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?V(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;Gl(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){Y(this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Ew(this.dimensions,this._getDimInfo,this),this.hostModel)),kw(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];ot(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(wt(arguments)))})},t.internalField=(Sw=function(t){var e=t._invertedIndicesMap;Y(e,(function(n,i){var r=t._dimInfos[i],o=r.ordinalMeta,a=t._store;if(o){n=e[i]=new Bw(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(r.storeDimIndex,s)]=s}}))},Aw=function(t,e,n){return da(t._getCategory(e,n),null)},Mw=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=Aw(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n},Tw=function(t){return rt(t)||(t=null!=t?[t]:[]),t},Rw=function(e){var n=new t(e._schema?e._schema:Ew(e.dimensions,e._getDimInfo,e),e.hostModel);return kw(n,e),n},kw=function(t,e){Y(Lw.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,Y(Dw,(function(n){t[n]=z(e[n])})),t._calculationInfo=V({},e._calculationInfo)},void(Iw=function(t,e){var n=t._nameList,i=t._idList,r=t._nameDimIdx,o=t._idDimIdx,a=n[e],s=i[e];if(null==a&&null!=r&&(n[e]=a=Aw(t,r,e)),null==s&&null!=o&&(i[e]=s=Aw(t,o,e)),null==s&&null!=a){var l=t._nameRepeatCount,u=l[a]=(l[a]||0)+1;s=a,u>1&&(s+="__ec__"+u),i[e]=s}})),t}(),Fw=Ow;function Hw(t,e){return Nw(t,e).dimensions}function Nw(t,e){of(t)||(t=sf(t));var n=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||t.dimensionsDefine||[],r=It(),o=[],a=function(t,e,n,i){var r=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,i||0);return Y(e,(function(t){var e;ut(t)&&(e=t.dimsDef)&&(r=Math.max(r,e.length))})),r}(t,n,i,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Cw(a),l=i===t.dimensionsDefine,u=l?_w(t):xw(i),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(t,a));for(var c=It(h),d=new Jf(a),f=0;f<d.length;f++)d[f]=-1;function p(t){var e=d[t];if(e<0){var n=i[t],r=ut(n)?n:{name:n},a=new mw,s=r.name;null!=s&&null!=u.get(s)&&(a.name=a.displayName=s),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var l=o.length;return d[t]=l,a.storeDimIndex=t,o.push(a),a}return o[e]}if(!s)for(f=0;f<a;f++)p(f);c.each((function(t,e){var n=ra(t).slice();if(1===n.length&&!at(n[0])&&n[0]<0)c.set(e,!1);else{var i=c.set(e,[]);Y(n,(function(t,n){var r=at(t)?u.get(t):t;null!=r&&r<a&&(i[n]=r,m(p(r),e,n))}))}}));var g=0;function m(t,e,n){null!=Vc.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,r.set(e,!0))}Y(n,(function(t){var e,n,i,r;if(at(t))e=t,r={};else{e=(r=t).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=V({},r)).ordinalMeta=o,n=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=c.get(e);if(!1!==s){if(!(s=ra(s)).length)for(var u=0;u<(n&&n.length||1);u++){for(;g<a&&null!=p(g).coordDim;)g++;g<a&&s.push(g++)}Y(s,(function(t,o){var a=p(t);if(l&&null!=r.type&&(a.type=r.type),m(G(a,r),e,o),null==a.name&&n){var s=n[o];!ut(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}i&&G(a.otherDims,i)}))}}));var v=e.generateCoord,y=e.generateCoordCount,b=null!=y;y=v?y||1:0;var w=v||"value";function x(t){null==t.name&&(t.name=t.coordDim)}if(s)Y(o,(function(t){x(t)})),o.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var _=0;_<a;_++){var C=p(_);null==C.coordDim&&(C.coordDim=zw(w,r,b),C.coordDimIndex=0,(!v||y<=0)&&(C.isExtraCoord=!0),y--),x(C),null!=C.type||od(t,_)!==Jc&&(!C.isExtraCoord||null==C.otherDims.itemName&&null==C.otherDims.seriesName)||(C.type="ordinal")}return function(t){for(var e=It(),n=0;n<t.length;n++){var i=t[n],r=i.name,o=e.get(r)||0;o>0&&(i.name=r+(o-1)),o++,e.set(r,o)}}(o),new bw({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function zw(t,e,n){if(n||e.hasKey(t)){for(var i=0;e.hasKey(t+i);)i++;t+=i}return e.set(t,!0),t}var Ww=function(t){this.coordSysDims=[],this.axisMap=It(),this.categoryAxisMap=It(),this.coordSysName=t};var jw={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis",wa).models[0],o=t.getReferringComponents("yAxis",wa).models[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),Vw(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),Vw(o)&&(i.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis",wa).models[0];e.coordSysDims=["single"],n.set("single",r),Vw(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar",wa).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),Vw(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),Vw(a)&&(i.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var r=t.ecModel,o=r.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();Y(o.parallelAxisIndex,(function(t,o){var s=r.getComponent("parallelAxis",t),l=a[o];n.set(l,s),Vw(s)&&(i.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=o))}))}};function Vw(t){return"category"===t.get("type")}function Gw(t,e,n){var i,r,o,a=(n=n||{}).byIndex,s=n.stackedCoordDimension;!function(t){return!ww(t.schema)}(e)?(r=e.schema,i=r.dimensions,o=e.store):i=e;var l,u,h,c,d=!(!t||!t.get("stack"));if(Y(i,(function(t,e){at(t)&&(i[e]=t={name:t}),d&&!t.isExtraCoord&&(a||l||!t.ordinalMeta||(l=t),u||"ordinal"===t.type||"time"===t.type||s&&s!==t.coordDim||(u=t))})),!u||a||l||(a=!0),u){h="__\0ecstackresult_"+t.id,c="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var f=u.coordDim,p=u.type,g=0;Y(i,(function(t){t.coordDim===f&&g++}));var m={name:h,coordDim:f,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},v={name:c,coordDim:c,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(m.storeDimIndex=o.ensureCalculationDimension(c,p),v.storeDimIndex=o.ensureCalculationDimension(h,p)),r.appendCalculationDimension(m),r.appendCalculationDimension(v)):(i.push(m),i.push(v))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:c,stackResultDimension:h}}function Zw(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Uw(t,e){return Zw(t,e)?t.getCalculationInfo("stackResultDimension"):e}var Kw=function(t,e,n){n=n||{};var i,r=e.getSourceManager(),o=!1;t?(o=!0,i=sf(t)):o=(i=r.getSource()).sourceFormat===Gc;var a=function(t){var e=t.get("coordinateSystem"),n=new Ww(e),i=jw[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}(e),s=function(t,e){var n,i=t.get("coordinateSystem"),r=Ad.get(i);return e&&e.coordSysDims&&(n=q(e.coordSysDims,(function(t){var n={name:t},i=e.axisMap.get(t);if(i){var r=i.get("type");n.type=gw(r)}return n}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}(e,a),l=n.useEncodeDefaulter,u=ot(l)?l:l?it(nd,s,e):null,h=Nw(i,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),c=function(t,e,n){var i,r;return n&&Y(t,(function(t,o){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==i&&(i=o),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(r=!0)})),r||null==i||(t[i].otherDims.itemName=0),i}(h.dimensions,n.createInvertedIndices,a),d=o?null:r.getSharedDataStore(h),f=Gw(e,{schema:h,store:d}),p=new Fw(h,e);p.setCalculationInfo(f);var g=null!=c&&function(t){if(t.sourceFormat===Gc){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return!rt(sa(e))}}(i)?function(t,e,n,i){return i===c?n:this.defaultDimValueGetter(t,e,n,i)}:null;return p.hasItemOption=!1,p.initData(o?i:d,null,g),p},$w=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();La($w);var Xw=$w,Yw=0;function qw(t){return ut(t)&&null!=t.value?t.value:t+""}var Jw=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Yw}return t.createByAxisModel=function(e){var n=e.option,i=n.data,r=i&&q(i,qw);return new t({categories:r,needCollect:!r,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!at(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=It(this.categories))},t}();function Qw(t){return"interval"===t.type||"log"===t.type}function tx(t,e,n,i){var r={},o=t[1]-t[0],a=r.interval=Ko(o/e,!0);null!=n&&a<n&&(a=r.interval=n),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=nx(a);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),ix(t,0,e),ix(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(r.niceTickExtent=[Eo(Math.ceil(t[0]/a)*a,s),Eo(Math.floor(t[1]/a)*a,s)],t),r}function ex(t){var e=Math.pow(10,Uo(t)),n=t/e;return n?2===n?n=3:3===n?n=5:n*=2:n=1,Eo(n*e)}function nx(t){return Lo(t)+2}function ix(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function rx(t,e){return t>=e[0]&&t<=e[1]}function ox(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function ax(t,e){return t*(e[1]-e[0])+e[0]}var sx=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new Jw({})),rt(i)&&(i=new Jw({categories:q(i,(function(t){return ut(t)?t.value:t}))})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return(0,g.ZT)(e,t),e.prototype.parse=function(t){return null==t?NaN:at(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return rx(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return ox(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(ax(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);r<a;++r){var s=e[r];n[r]=s,i[s]=r}for(var l=0;r<o;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Xw);Xw.registerClass(sx);var lx=sx,ux=Eo,hx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return(0,g.ZT)(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return rx(t,this._extent)},e.prototype.normalize=function(t){return ox(t,this._extent)},e.prototype.scale=function(t){return ax(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=nx(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;n[0]<i[0]&&(t?o.push({value:ux(i[0]-e,r)}):o.push({value:n[0]}));for(var a=i[0];a<=i[1]&&(o.push({value:a}),(a=ux(a+e,r))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:i[1];return n[1]>s&&(t?o.push({value:ux(s+e,r)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<e.length;r++){for(var o=e[r],a=e[r-1],s=0,l=[],u=(o.value-a.value)/t;s<t-1;){var h=ux(a.value+(s+1)*u);h>i[0]&&h<i[1]&&l.push(h),s++}n.push(l)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=Lo(t.value)||0:"auto"===n&&(n=this._intervalPrecision),pc(ux(t.value,n,!0))},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=tx(i,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=Math.abs(e[0]);t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=ux(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=ux(Math.ceil(e[1]/r)*r))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(Xw);Xw.registerClass(hx);var cx=hx,dx="undefined"!=typeof Float32Array,fx=dx?Float32Array:Array;function px(t){return rt(t)?dx?new Float32Array(t):t:new fx(t)}var gx="__ec_stack_";function mx(t){return t.get("stack")||gx+t.seriesIndex}function vx(t){return t.dim+t.index}function yx(t,e){var n=[];return e.eachSeriesByType(t,(function(t){Sx(t)&&n.push(t)})),n}function bx(t){var e=function(t){var e={};Y(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=t.getData(),r=n.dim+"_"+n.index,o=i.getDimensionIndex(i.mapDimension(n.dim)),a=i.getStore(),s=0,l=a.count();s<l;++s){var u=a.get(o,s);e[r]?e[r].push(u):e[r]=[u]}}));var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort((function(t,e){return t-e}));for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[i]=o}}return n}(t),n=[];return Y(t,(function(t){var i,r=t.coordinateSystem.getBaseAxis(),o=r.getExtent();if("category"===r.type)i=r.getBandWidth();else if("value"===r.type||"time"===r.type){var a=r.dim+"_"+r.index,s=e[a],l=Math.abs(o[1]-o[0]),u=r.scale.getExtent(),h=Math.abs(u[1]-u[0]);i=s?l/h*s:l}else{var c=t.getData();i=Math.abs(o[1]-o[0])/c.count()}var d=Po(t.get("barWidth"),i),f=Po(t.get("barMaxWidth"),i),p=Po(t.get("barMinWidth")||(Mx(t)?.5:1),i),g=t.get("barGap"),m=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:d,barMaxWidth:f,barMinWidth:p,barGap:g,barCategoryGap:m,axisKey:vx(r),stackId:mx(t)})})),xx(n)}function xx(t){var e={};Y(t,(function(t,n){var i=t.axisKey,r=t.bandWidth,o=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;e[i]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=t.barMaxWidth;u&&(a[s].maxWidth=u);var h=t.barMinWidth;h&&(a[s].minWidth=h);var c=t.barGap;null!=c&&(o.gap=c);var d=t.barCategoryGap;null!=d&&(o.categoryGap=d)}));var n={};return Y(e,(function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=t.categoryGap;if(null==o){var a=et(i).length;o=Math.max(35-4*a,15)+"%"}var s=Po(o,r),l=Po(t.gap,1),u=t.remainedWidth,h=t.autoWidthCount,c=(u-s)/(h+(h-1)*l);c=Math.max(c,0),Y(i,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,u-=i+l*i,h--}else{var i=c;e&&e<i&&(i=Math.min(e,u)),n&&n>i&&(i=n),i!==c&&(t.width=i,u-=i+l*i,h--)}})),c=(u-s)/(h+(h-1)*l),c=Math.max(c,0);var d,f=0;Y(i,(function(t,e){t.width||(t.width=c),d=t,f+=t.width*(1+l)})),d&&(f-=d.width*l);var p=-f/2;Y(i,(function(t,i){n[e][i]=n[e][i]||{bandWidth:r,offset:p,width:t.width},p+=t.width*(1+l)}))})),n}function _x(t,e){var n=yx(t,e),i=bx(n);Y(n,(function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),r=mx(t),o=i[vx(n)][r],a=o.offset,s=o.width;e.setLayout({bandWidth:o.bandWidth,offset:a,size:s})}))}function Cx(t){return{seriesType:t,plan:zp(),reset:function(t){if(Sx(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=e.getDimensionIndex(e.mapDimension(r.dim)),a=e.getDimensionIndex(e.mapDimension(i.dim)),s=t.get("showBackground",!0),l=e.mapDimension(r.dim),u=e.getCalculationInfo("stackResultDimension"),h=Zw(e,l)&&!!e.getCalculationInfo("stackedOnSeries"),c=r.isHorizontal(),d=function(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,r),f=Mx(t),p=t.get("barMinHeight")||0,g=u&&e.getDimensionIndex(u),m=e.getLayout("size"),v=e.getLayout("offset");return{progress:function(t,e){for(var i,r=t.count,l=f&&px(3*r),u=f&&s&&px(3*r),y=f&&px(r),b=n.master.getRect(),w=c?b.width:b.height,x=e.getStore(),_=0;null!=(i=t.next());){var C=x.get(h?g:o,i),S=x.get(a,i),M=d,A=void 0;h&&(A=+C-x.get(o,i));var T=void 0,k=void 0,R=void 0,I=void 0;if(c){var P=n.dataToPoint([C,S]);if(h)M=n.dataToPoint([A,S])[0];T=M,k=P[1]+v,R=P[0]-M,I=m,Math.abs(R)<p&&(R=(R<0?-1:1)*p)}else{P=n.dataToPoint([S,C]);if(h)M=n.dataToPoint([S,A])[1];T=P[0]+v,k=M,R=m,I=P[1]-M,Math.abs(I)<p&&(I=(I<=0?-1:1)*p)}f?(l[_]=T,l[_+1]=k,l[_+2]=c?R:I,u&&(u[_]=c?b.x:T,u[_+1]=c?k:b.y,u[_+2]=w),y[i]=i):e.setItemLayout(i,{x:T,y:k,width:R,height:I}),_+=3}f&&e.setLayout({largePoints:l,largeDataIndices:y,largeBackgroundPoints:u,valueAxisHorizontal:c})}}}}}}function Sx(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Mx(t){return t.pipelineContext&&t.pipelineContext.large}var Ax=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return(0,g.ZT)(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return qh(t.value,Zh[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Xh(this._minLevelUnit))]||Zh.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting("useUTC");return function(t,e,n,i,r){var o=null;if(at(n))o=n;else if(ot(n))o=n(t.value,e,{level:t.level});else{var a=V({},Vh);if(t.level>0)for(var s=0;s<Uh.length;++s)a[Uh[s]]="{primary|"+a[Uh[s]]+"}";var l=n?!1===n.inherit?n:G(n,a):a,u=Jh(t.value,r);if(l[u])o=l[u];else if(l.inherit){for(s=Kh.indexOf(u)-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(rt(o)){var h=null==t.level?0:t.level>=0?t.level:o.length+t.level;o=o[h=Math.min(h,o.length-1)]}}return qh(new Date(t.value),o,r,i)}(t,e,n,this.getSetting("locale"),i)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var i=this.getSetting("useUTC"),r=function(t,e,n,i){var r=1e4,o=Kh,a=0;function s(t,e,n,r,o,a,s){for(var l=new Date(e),u=e,h=l[r]();u<n&&u<=i[1];)s.push({value:u}),h+=t,l[o](h),u=l.getTime();s.push({value:u,notAdd:!0})}function l(t,r,o){var a=[],l=!r.length;if(!function(t,e,n,i){var r=Go(e),o=Go(n),a=function(t){return Qh(r,t,i)===Qh(o,t,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},h=function(){return u()&&a("hour")},c=function(){return h()&&a("minute")},d=function(){return c()&&a("second")},f=function(){return d()&&a("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return h();case"minute":return c();case"second":return d();case"millisecond":return f()}}(Xh(t),i[0],i[1],n)){l&&(r=[{value:Bx(new Date(i[0]),t,n)},{value:i[1]}]);for(var u=0;u<r.length-1;u++){var h=r[u].value,c=r[u+1].value;if(h!==c){var d=void 0,f=void 0,p=void 0,g=!1;switch(t){case"year":d=Math.max(1,Math.round(e/Wh/365)),f=tc(n),p=sc(n);break;case"half-year":case"quarter":case"month":d=Rx(e),f=ec(n),p=lc(n);break;case"week":case"half-week":case"day":d=kx(e,31),f=nc(n),p=uc(n),g=!0;break;case"half-day":case"quarter-day":case"hour":d=Ix(e),f=ic(n),p=hc(n);break;case"minute":d=Px(e,!0),f=rc(n),p=cc(n);break;case"second":d=Px(e,!1),f=oc(n),p=dc(n);break;case"millisecond":d=Ex(e),f=ac(n),p=fc(n)}s(d,h,c,f,p,g,a),"year"===t&&o.length>1&&0===u&&o.unshift({value:o[0].value-d})}}for(u=0;u<a.length;u++)o.push(a[u]);return a}}for(var u=[],h=[],c=0,d=0,f=0;f<o.length&&a++<r;++f){var p=Xh(o[f]);if(Yh(o[f]))if(l(o[f],u[u.length-1]||[],h),p!==(o[f+1]?Xh(o[f+1]):null)){if(h.length){d=c,h.sort((function(t,e){return t.value-e.value}));for(var g=[],m=0;m<h.length;++m){var v=h[m].value;0!==m&&h[m-1].value===v||(g.push(h[m]),v>=i[0]&&v<=i[1]&&c++)}var y=(i[1]-i[0])/e;if(c>1.5*y&&d>y/1.5)break;if(u.push(g),c>y||t===o[f])break}h=[]}}0;var b=Q(q(u,(function(t){return Q(t,(function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd}))})),(function(t){return t.length>0})),w=[],x=b.length-1;for(f=0;f<b.length;++f)for(var _=b[f],C=0;C<_.length;++C)w.push({value:_[C].value,level:x-f});w.sort((function(t,e){return t.value-e.value}));var S=[];for(f=0;f<w.length;++f)0!==f&&w[f].value===w[f-1].value||S.push(w[f]);return S}(this._minLevelUnit,this._approxInterval,i,e);return(n=n.concat(r)).push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=Wh,e[1]+=Wh),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-Wh}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var i=this._extent,r=i[1]-i[0];this._approxInterval=r/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=Tx.length,a=Math.min(function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n}(Tx,this._approxInterval,0,o),o-1);this._interval=Tx[a][1],this._minLevelUnit=Tx[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return lt(t)?t:+Go(t)},e.prototype.contain=function(t){return rx(this.parse(t),this._extent)},e.prototype.normalize=function(t){return ox(this.parse(t),this._extent)},e.prototype.scale=function(t){return ax(t,this._extent)},e.type="time",e}(cx),Tx=[["second",Hh],["minute",Nh],["hour",zh],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",jh/2],["year",jh]];function kx(t,e){return(t/=Wh)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function Rx(t){return(t/=2592e6)>6?6:t>3?3:t>2?2:1}function Ix(t){return(t/=zh)>12?12:t>6?6:t>3.5?4:t>2?2:1}function Px(t,e){return(t/=e?Nh:Hh)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function Ex(t){return Ko(t,!0)}function Bx(t,e,n){var i=new Date(t);switch(Xh(e)){case"year":case"month":i[lc(n)](0);case"day":i[uc(n)](1);case"hour":i[hc(n)](0);case"minute":i[cc(n)](0);case"second":i[dc(n)](0),i[fc(n)](0)}return i.getTime()}Xw.registerClass(Ax);var Lx=Ax,Dx=Xw.prototype,Ox=cx.prototype,Fx=Eo,Hx=Math.floor,Nx=Math.ceil,zx=Math.pow,Wx=Math.log,jx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new cx,e._interval=0,e}return(0,g.ZT)(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent();return q(Ox.getTicks.call(this,t),(function(t){var e=t.value,r=Eo(zx(this.base,e));return r=e===n[0]&&this._fixMin?Gx(r,i[0]):r,{value:r=e===n[1]&&this._fixMax?Gx(r,i[1]):r}}),this)},e.prototype.setExtent=function(t,e){var n=Wx(this.base);t=Wx(Math.max(0,t))/n,e=Wx(Math.max(0,e))/n,Ox.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=Dx.getExtent.call(this);e[0]=zx(t,e[0]),e[1]=zx(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=Gx(e[0],n[0])),this._fixMax&&(e[1]=Gx(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Wx(t[0])/Wx(e),t[1]=Wx(t[1])/Wx(e),Dx.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=Zo(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[Eo(Nx(e[0]/i)*i),Eo(Hx(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},e.prototype.calcNiceExtent=function(t){Ox.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return rx(t=Wx(t)/Wx(this.base),this._extent)},e.prototype.normalize=function(t){return ox(t=Wx(t)/Wx(this.base),this._extent)},e.prototype.scale=function(t){return t=ax(t,this._extent),zx(this.base,t)},e.type="log",e}(Xw),Vx=jx.prototype;function Gx(t,e){return Fx(t,Lo(e))}Vx.getMinorTicks=Ox.getMinorTicks,Vx.getLabel=Ox.getLabel,Xw.registerClass(jx);var Zx=jx,Ux=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var r=this._modelMinRaw=e.get("min",!0);ot(r)?this._modelMinNum=Yx(t,r({min:n[0],max:n[1]})):"dataMin"!==r&&(this._modelMinNum=Yx(t,r));var o=this._modelMaxRaw=e.get("max",!0);if(ot(o)?this._modelMaxNum=Yx(t,o({min:n[0],max:n[1]})):"dataMax"!==o&&(this._modelMaxNum=Yx(t,o)),i)this._axisDataLen=e.getCategories().length;else{var a=e.get("boundaryGap"),s=rt(a)?a:[a||0,a||0];"boolean"==typeof s[0]||"boolean"==typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[eo(s[0],1),eo(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,r=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),a="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=t?i?0:NaN:e-r[0]*o),null==s&&(s=t?i?i-1:NaN:n+r[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var h=mt(a)||mt(s)||t&&!i;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));var c=this._determinedMin,d=this._determinedMax;return null!=c&&(a=c,l=!0),null!=d&&(s=d,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[$x[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){this[Kx[t]]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),Kx={min:"_determinedMin",max:"_determinedMax"},$x={min:"_dataMin",max:"_dataMax"};function Xx(t,e,n){var i=t.rawExtentInfo;return i||(i=new Ux(t,e,n),t.rawExtentInfo=i,i)}function Yx(t,e){return null==e?null:mt(e)?NaN:t.parse(e)}function qx(t,e){var n=t.type,i=Xx(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&"time"===n){var s=yx("bar",a),l=!1;if(Y(s,(function(t){l=l||t.getBaseAxis()===e.axis})),l){var u=bx(s),h=function(t,e,n,i){var r=n.axis.getExtent(),o=r[1]-r[0],a=function(t,e,n){if(t&&e){var i=t[vx(e)];return null!=i&&null!=n?i[mx(n)]:i}}(i,n.axis);if(void 0===a)return{min:t,max:e};var s=1/0;Y(a,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;Y(a,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/o)-h;return e+=c*(l/u),t-=c*(s/u),{min:t,max:e}}(r,o,e,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function Jx(t,e){var n=e,i=qx(t,n),r=i.extent,o=n.get("splitNumber");t instanceof Zx&&(t.base=n.get("logBase"));var a=t.type,s=n.get("interval"),l="interval"===a||"time"===a;t.setExtent(r[0],r[1]),t.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),null!=s&&t.setInterval&&t.setInterval(s)}function Qx(t,e){if(e=e||t.get("type"))switch(e){case"category":return new lx({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new Lx({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Xw.getClass(e)||cx)}}function t_(t){var e,n,i=t.getLabelModel().get("formatter"),r="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(n=i,function(e,i){return t.scale.getFormattedLabel(e,i,n)}):at(i)?function(e){return function(n){var i=t.scale.getLabel(n);return e.replace("{value}",null!=i?i:"")}}(i):ot(i)?(e=i,function(n,i){return null!=r&&(i=n.value-r),e(e_(t,n),i,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function e_(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function n_(t,e){var n=e*Math.PI/180,i=t.width,r=t.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),a=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n));return new nn(t.x,t.y,o,a)}function i_(t){var e=t.get("interval");return null==e?"auto":e}function r_(t){return"category"===t.type&&0===i_(t.getLabelModel())}function o_(t,e){var n={};return Y(t.mapDimensionsAll(e),(function(e){n[Uw(t,e)]=!0})),et(n)}var a_=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();function s_(t){return Kw(null,t)}var l_={isDimensionStacked:Zw,enableDataStack:Gw,getStackedDimension:Uw};function u_(t,e){var n=e;e instanceof Ah||(n=new Ah(e));var i=Qx(n);return i.setExtent(t[0],t[1]),Jx(i,n),i}function h_(t){$(t,a_)}function c_(t,e){return nh(t,null,null,"normal"!==(e=e||{}).state)}function d_(t,e){return Math.abs(t-e)<1e-8}function f_(t,e,n){var i=0,r=t[0];if(!r)return!1;for(var o=1;o<t.length;o++){var a=t[o];i+=Js(r[0],r[1],a[0],a[1],e,n),r=a}var s=t[0];return d_(r[0],s[0])&&d_(r[1],s[1])||(i+=Js(r[0],r[1],s[0],s[1],e,n)),0!==i}var p_=[];function g_(t,e){for(var n=0;n<t.length;n++)oe(t[n],t[n],e)}function m_(t,e,n,i){for(var r=0;r<t.length;r++){var o=t[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(ae(e,e,o),se(n,n,o))}}var v_=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},t}(),y_=function(t,e){this.type="polygon",this.exterior=t,this.interiors=e},b_=function(t){this.type="linestring",this.points=t},w_=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.type="geoJSON",r.geometries=n,r._center=i&&[i[0],i[1]],r}return(0,g.ZT)(e,t),e.prototype.calcCenter=function(){for(var t,e=this.geometries,n=0,i=0;i<e.length;i++){var r=e[i],o=r.exterior,a=o&&o.length;a>n&&(t=r,n=a)}if(t)return function(t){for(var e=0,n=0,i=0,r=t.length,o=t[r-1][0],a=t[r-1][1],s=0;s<r;s++){var l=t[s][0],u=t[s][1],h=o*u-l*a;e+=h,n+=(o+l)*h,i+=(a+u)*h,o=l,a=u}return e?[n/e/3,i/e/3,e]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t)return e;var n=[1/0,1/0],i=[-1/0,-1/0];return Y(this.geometries,(function(e){"polygon"===e.type?m_(e.exterior,n,i,t):Y(e.points,(function(e){m_(e,n,i,t)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),e=new nn(n[0],n[1],i[0]-n[0],i[1]-n[1]),t||(this._rect=e),e},e.prototype.contain=function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++){var o=n[i];if("polygon"===o.type){var a=o.exterior,s=o.interiors;if(f_(a,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(f_(s[l],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new nn(t,e,n,i),s=r.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++){var h=l[u];"polygon"===h.type?(g_(h.exterior,s),Y(h.interiors,(function(t){g_(t,s)}))):Y(h.points,(function(t){g_(t,s)}))}(r=this._rect).copy(a),this._center=[r.x+r.width/2,r.y+r.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(v_),x_=function(t){function e(e,n){var i=t.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return(0,g.ZT)(e,t),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,e=t.getBoundingRect(),n=[e.x+e.width/2,e.y+e.height/2],i=Fe(p_),r=t;r&&!r.isGeoSVGGraphicRoot;)Ne(i,r.getLocalTransform(),i),r=r.parent;return Ve(i,i),oe(n,n,i),n},e}(v_);function __(t,e,n){for(var i=0;i<t.length;i++)t[i]=C_(t[i],e[i],n)}function C_(t,e,n){for(var i=[],r=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}function S_(t,e){return q(Q((t=function(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;return null==n&&(n=1024),Y(e.features,(function(t){var e=t.geometry,i=e.encodeOffsets,r=e.coordinates;if(i)switch(e.type){case"LineString":e.coordinates=C_(r,i,n);break;case"Polygon":case"MultiLineString":__(r,i,n);break;case"MultiPolygon":Y(r,(function(t,e){return __(t,i[e],n)}))}})),e.UTF8Encoding=!1,e}(t)).features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,i=t.geometry,r=[];switch(i.type){case"Polygon":var o=i.coordinates;r.push(new y_(o[0],o.slice(1)));break;case"MultiPolygon":Y(i.coordinates,(function(t){t[0]&&r.push(new y_(t[0],t.slice(1)))}));break;case"LineString":r.push(new b_([i.coordinates]));break;case"MultiLineString":r.push(new b_(i.coordinates))}var a=new w_(n[e||"name"],r,n.cp);return a.properties=n,a}))}function M_(t,e,n,i,r,o,a,s){return new jl({style:{text:t,font:e,align:n,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}var A_=ma();function T_(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=R_(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=t_(t);return{labels:q(e,(function(e,i){return{level:e.level,formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}(t)}function k_(t,e){return"category"===t.type?function(t,e){var n,i,r=I_(t,"ticks"),o=i_(e),a=P_(r,o);if(a)return a;e.get("show")&&!t.scale.isBlank()||(n=[]);if(ot(o))n=L_(t,o,!0);else if("auto"===o){var s=R_(t,t.getLabelModel());i=s.labelCategoryInterval,n=q(s.labels,(function(t){return t.tickValue}))}else n=B_(t,i=o,!0);return E_(r,o,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:q(t.scale.getTicks(),(function(t){return t.value}))}}function R_(t,e){var n,i,r=I_(t,"labels"),o=i_(e),a=P_(r,o);return a||(ot(o)?n=L_(t,o):(i="auto"===o?function(t){var e=A_(t).autoInterval;return null!=e?e:A_(t).autoInterval=t.calculateCategoryInterval()}(t):o,n=B_(t,i)),E_(r,o,{labels:n,labelCategoryInterval:i}))}function I_(t,e){return A_(t)[e]||(A_(t)[e]=[])}function P_(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function E_(t,e,n){return t.push({key:e,value:n}),n}function B_(t,e,n){var i=t_(t),r=t.scale,o=r.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=o[0],h=r.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=r_(t),d=a.get("showMinLabel")||c,f=a.get("showMaxLabel")||c;d&&u!==o[0]&&g(o[0]);for(var p=u;p<=o[1];p+=l)g(p);function g(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:r.getLabel(e),tickValue:t})}return f&&p-l!==o[1]&&g(o[1]),s}function L_(t,e,n){var i=t.scale,r=t_(t),o=[];return Y(i.getTicks(),(function(t){var a=i.getLabel(t),s=t.value;e(t.value,a)&&o.push(n?s:{formattedLabel:r(t),rawLabel:a,tickValue:s})})),o}var D_=[0,1],O_=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Oo(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&F_(n=n.slice(),i.count()),Io(t,D_,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&F_(n=n.slice(),i.count());var r=Io(t,n,D_,e);return this.scale.scale(r)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=q(k_(this,e).ticks,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,e,n,i){var r=e.length;if(!t.onBand||n||!r)return;var o,a,s=t.getExtent();if(1===r)e[0].coord=s[0],o=e[1]={coord:s[1]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;Y(e,(function(t){t.coord-=u/2})),a=1+t.scale.getExtent()[1]-e[r-1].tickValue,o={coord:e[r-1].coord+u*a},e.push(o)}var h=s[0]>s[1];c(e[0].coord,s[0])&&(i?e[0].coord=s[0]:e.shift());i&&c(s[0],e[0].coord)&&e.unshift({coord:s[0]});c(s[1],o.coord)&&(i?o.coord=s[1]:e.pop());i&&c(o.coord,s[1])&&e.push({coord:s[1]});function c(t,e){return t=Eo(t),e=Eo(e),h?t>e:t<e}}(this,n,e.get("alignWithLabel"),t.clamp),n},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),q(this.scale.getMinorTicks(t),(function(t){return q(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return T_(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=t_(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(i)),c=Math.abs(u*Math.sin(i)),d=0,f=0;l<=o[1];l+=s){var p,g,m=qr(n({value:l}),e.font,"center","top");p=1.3*m.width,g=1.3*m.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var v=d/h,y=f/c;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(v,y))),w=A_(t.model),x=t.getExtent(),_=w.lastAutoInterval,C=w.lastTickCount;return null!=_&&null!=C&&Math.abs(_-b)<=1&&Math.abs(C-a)<=1&&_>b&&w.axisExtent0===x[0]&&w.axisExtent1===x[1]?b=_:(w.lastTickCount=a,w.lastAutoInterval=b,w.axisExtent0=x[0],w.axisExtent1=x[1]),b}(this)},t}();function F_(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var H_=O_;function N_(t){var e=Nc.extend(t);return Nc.registerClass(e),e}function z_(t){var e=Np.extend(t);return Np.registerClass(e),e}function W_(t){var e=Fp.extend(t);return Fp.registerClass(e),e}function j_(t){var e=Xm.extend(t);return Xm.registerClass(e),e}var V_=2*Math.PI,G_=Gs.CMD,Z_=["top","right","bottom","left"];function U_(t,e,n,i,r){var o=n.width,a=n.height;switch(t){case"top":i.set(n.x+o/2,n.y-e),r.set(0,-1);break;case"bottom":i.set(n.x+o/2,n.y+a+e),r.set(0,1);break;case"left":i.set(n.x-e,n.y+a/2),r.set(-1,0);break;case"right":i.set(n.x+o+e,n.y+a/2),r.set(1,0)}}function K_(t,e,n,i,r,o,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s),h=(a/=u)*n+t,c=(s/=u)*n+e;if(Math.abs(i-r)%V_<1e-4)return l[0]=h,l[1]=c,u-n;if(o){var d=i;i=Xs(r),r=Xs(d)}else i=Xs(i),r=Xs(r);i>r&&(r+=V_);var f=Math.atan2(s,a);if(f<0&&(f+=V_),f>=i&&f<=r||f+V_>=i&&f+V_<=r)return l[0]=h,l[1]=c,u-n;var p=n*Math.cos(i)+t,g=n*Math.sin(i)+e,m=n*Math.cos(r)+t,v=n*Math.sin(r)+e,y=(p-a)*(p-a)+(g-s)*(g-s),b=(m-a)*(m-a)+(v-s)*(v-s);return y<b?(l[0]=p,l[1]=g,Math.sqrt(y)):(l[0]=m,l[1]=v,Math.sqrt(b))}function $_(t,e,n,i,r,o,a,s){var l=r-t,u=o-e,h=n-t,c=i-e,d=Math.sqrt(h*h+c*c),f=(l*(h/=d)+u*(c/=d))/d;s&&(f=Math.min(Math.max(f,0),1)),f*=d;var p=a[0]=t+f*h,g=a[1]=e+f*c;return Math.sqrt((p-r)*(p-r)+(g-o)*(g-o))}function X_(t,e,n,i,r,o,a){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i);var s=t+n,l=e+i,u=a[0]=Math.min(Math.max(r,t),s),h=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var Y_=[];function q_(t,e,n){var i=X_(e.x,e.y,e.width,e.height,t.x,t.y,Y_);return n.set(Y_[0],Y_[1]),i}function J_(t,e,n){for(var i,r,o=0,a=0,s=0,l=0,u=1/0,h=e.data,c=t.x,d=t.y,f=0;f<h.length;){var p=h[f++];1===f&&(s=o=h[f],l=a=h[f+1]);var g=u;switch(p){case G_.M:o=s=h[f++],a=l=h[f++];break;case G_.L:g=$_(o,a,h[f],h[f+1],c,d,Y_,!0),o=h[f++],a=h[f++];break;case G_.C:g=Zn(o,a,h[f++],h[f++],h[f++],h[f++],h[f],h[f+1],c,d,Y_),o=h[f++],a=h[f++];break;case G_.Q:g=qn(o,a,h[f++],h[f++],h[f],h[f+1],c,d,Y_),o=h[f++],a=h[f++];break;case G_.A:var m=h[f++],v=h[f++],y=h[f++],b=h[f++],w=h[f++],x=h[f++];f+=1;var _=!!(1-h[f++]);i=Math.cos(w)*y+m,r=Math.sin(w)*b+v,f<=1&&(s=i,l=r),g=K_(m,v,b,w,w+x,_,(c-m)*b/y+m,d,Y_),o=Math.cos(w+x)*y+m,a=Math.sin(w+x)*b+v;break;case G_.R:g=X_(s=o=h[f++],l=a=h[f++],h[f++],h[f++],c,d,Y_);break;case G_.Z:g=$_(o,a,s,l,c,d,Y_,!0),o=s,a=l}g<u&&(u=g,n.set(Y_[0],Y_[1]))}return u}var Q_=new Ue,tC=new Ue,eC=new Ue,nC=new Ue,iC=new Ue;function rC(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var r=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||Z_,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,h=t.getComputedTransform(),c=h&&Ve([],h),d=e.get("length2")||0;u&&eC.copy(u);for(var f=0;f<a.length;f++){U_(a[f],0,s,Q_,nC),Ue.scaleAndAdd(tC,Q_,nC,d),tC.transform(c);var p=t.getBoundingRect(),g=u?u.distance(tC):t instanceof cl?J_(tC,t.path,eC):q_(tC,p,eC);g<l&&(l=g,tC.transform(h),eC.transform(h),eC.toArray(o[0]),tC.toArray(o[1]),Q_.toArray(o[2]))}sC(o,e.get("minTurnAngle")),n.setShape({points:o})}}}var oC=[],aC=new Ue;function sC(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Q_.fromArray(t[0]),tC.fromArray(t[1]),eC.fromArray(t[2]),Ue.sub(nC,Q_,tC),Ue.sub(iC,eC,tC);var n=nC.len(),i=iC.len();if(!(n<.001||i<.001)){nC.scale(1/n),iC.scale(1/i);var r=nC.dot(iC);if(Math.cos(e)<r){var o=$_(tC.x,tC.y,eC.x,eC.y,Q_.x,Q_.y,oC,!1);aC.fromArray(oC),aC.scaleAndAdd(iC,o/Math.tan(Math.PI-e));var a=eC.x!==tC.x?(aC.x-tC.x)/(eC.x-tC.x):(aC.y-tC.y)/(eC.y-tC.y);if(isNaN(a))return;a<0?Ue.copy(aC,tC):a>1&&Ue.copy(aC,eC),aC.toArray(t[1])}}}}function lC(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,Q_.fromArray(t[0]),tC.fromArray(t[1]),eC.fromArray(t[2]),Ue.sub(nC,tC,Q_),Ue.sub(iC,eC,tC);var i=nC.len(),r=iC.len();if(!(i<.001||r<.001))if(nC.scale(1/i),iC.scale(1/r),nC.dot(e)<Math.cos(n)){var o=$_(tC.x,tC.y,eC.x,eC.y,Q_.x,Q_.y,oC,!1);aC.fromArray(oC);var a=Math.PI/2,s=a+Math.acos(iC.dot(e))-n;if(s>=a)Ue.copy(aC,eC);else{aC.scaleAndAdd(iC,o/Math.tan(Math.PI/2-s));var l=eC.x!==tC.x?(aC.x-tC.x)/(eC.x-tC.x):(aC.y-tC.y)/(eC.y-tC.y);if(isNaN(l))return;l<0?Ue.copy(aC,tC):l>1&&Ue.copy(aC,eC)}aC.toArray(t[1])}}}function uC(t,e,n,i){var r="normal"===n,o=r?t:t.ensureState(n);o.ignore=e;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?t.useStyle(s):o.style=s}function hC(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=te(i[0],i[1]),o=te(i[1],i[2]);if(!r||!o)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*n,s=re([],i[1],i[0],a/r),l=re([],i[1],i[2],a/o),u=re([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var h=1;h<i.length;h++)t.lineTo(i[h][0],i[h][1])}function cC(t,e,n){var i=t.getTextGuideLine(),r=t.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<Yl.length;l++){var u=Yl[l],h=e[u],c="normal"===u;if(h){var d=h.get("show");if((c?s:yt(r.states[u]&&r.states[u].ignore,s))||!yt(d,a)){var f=c?i:i&&i.states[u];f&&(f.ignore=!0),i&&uC(i,!0,u,h);continue}i||(i=new Hg,t.setTextGuideLine(i),c||!s&&a||uC(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),uC(i,!1,u,h)}}if(i){G(i.style,n),i.style.fill=null;var p=o.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=p||!1,i.buildPath=hC}}else i&&t.removeTextGuideLine()}function dC(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},i=0;i<Xl.length;i++){var r=Xl[i];n[r]=t.getModel([r,e])}return n}function fC(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new sm(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:u,localRect:a,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return e}function pC(t,e,n,i,r,o){var a=t.length;if(!(a<2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var s,l=0,u=!1,h=[],c=0,d=0;d<a;d++){var f=t[d],p=f.rect;(s=p[e]-l)<0&&(p[e]-=s,f.label[e]-=s,u=!0);var g=Math.max(-s,0);h.push(g),c+=g,l=p[e]+p[n]}c>0&&o&&_(-c/a,0,a);var m,v,y=t[0],b=t[a-1];return w(),m<0&&C(-m,.8),v<0&&C(v,.8),w(),x(m,v,1),x(v,m,-1),w(),m<0&&S(-m),v<0&&S(v),u}function w(){m=y.rect[e]-i,v=r-b.rect[e]-b.rect[n]}function x(t,e,n){if(t<0){var i=Math.min(e,-t);if(i>0){_(i*n,0,a);var r=i+t;r<0&&C(-r*n,1)}else C(-t*n,1)}}function _(n,i,r){0!==n&&(u=!0);for(var o=i;o<r;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function C(i,r){for(var o=[],s=0,l=1;l<a;l++){var u=t[l-1].rect,h=Math.max(t[l].rect[e]-u[e]-u[n],0);o.push(h),s+=h}if(s){var c=Math.min(Math.abs(i)/s,r);if(i>0)for(l=0;l<a-1;l++){_(o[l]*c,0,l+1)}else for(l=a-1;l>0;l--){_(-(o[l-1]*c),l,a)}}}function S(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),i=0;i<a-1;i++)if(e>0?_(n,0,i+1):_(-n,a-i-1,a),(t-=n)<=0)return}}function gC(t,e,n,i){return pC(t,"y","height",e,n,i)}function mC(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var n=new nn(0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var r=0;r<t.length;r++){var o=t[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var c=o.obb,d=!1,f=0;f<e.length;f++){var p=e[f];if(n.intersect(p.rect)){if(a&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new sm(p.localRect,p.transform)),c||(c=new sm(s,l)),c.intersect(p.obb)){d=!0;break}}}d?(i(u),h&&i(h)):(u.attr("ignore",o.defaultAttr.ignore),h&&h.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function vC(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function yC(t,e){var n=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:vC(i&&i.shape.points)}}var bC=["align","verticalAlign","width","height","fontSize"],wC=new Kr,xC=ma(),_C=ma();function CC(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null!=e[r]&&(t[r]=e[r])}}var SC=["x","y","rotation"],MC=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,i,r){var o=i.style,a=i.__hostTarget.textConfig||{},s=i.getComputedTransform(),l=i.getBoundingRect().plain();nn.applyTransform(l,l,s),s?wC.setLocalTransform(s):(wC.x=wC.y=wC.rotation=wC.originX=wC.originY=0,wC.scaleX=wC.scaleY=1),wC.rotation=Xs(wC.rotation);var u,h=i.__hostTarget;if(h){u=h.getBoundingRect().plain();var c=h.getComputedTransform();nn.applyTransform(u,u,c)}var d=u&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:d,seriesModel:n,dataIndex:t,dataType:e,layoutOption:r,computedLayoutOption:null,rect:l,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:d&&d.ignore,x:wC.x,y:wC.y,scaleX:wC.scaleX,scaleY:wC.scaleY,rotation:wC.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:a.position,attachedRot:a.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(ot(i)||et(i).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var r=t.getTextContent(),o=Vl(t);r&&!r.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,r,i)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(t,e){return function(){rC(t,e)}}for(var r=0;r<this._labelList.length;r++){var o=this._labelList[r],a=o.label,s=a.__hostTarget,l=o.defaultAttr,u=void 0;u=(u=ot(o.layoutOption)?o.layoutOption(yC(o,s)):o.layoutOption)||{},o.computedLayoutOption=u;var h=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*h:l.attachedRot,offset:[u.dx||0,u.dy||0]});var c=!1;if(null!=u.x?(a.x=Po(u.x,e),a.setStyle("x",0),c=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=u.y?(a.y=Po(u.y,n),a.setStyle("y",0),c=!0):(a.y=l.y,a.setStyle("y",l.style.y)),u.labelLinePoints){var d=s.getTextGuideLine();d&&(d.setShape({points:u.labelLinePoints}),c=!1)}xC(a).needsUpdateLabelLine=c,a.rotation=null!=u.rotate?u.rotate*h:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var f=0;f<bC.length;f++){var p=bC[f];a.setStyle(p,null!=u[p]?u[p]:l.style[p])}if(u.draggable){if(a.draggable=!0,a.cursor="move",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",i(s,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},t.prototype.layout=function(t){var e,n=t.getWidth(),i=t.getHeight(),r=fC(this._labelList),o=Q(r,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),a=Q(r,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));pC(o,"x","width",0,n,e),gC(a,0,i),mC(Q(r,(function(t){return t.layoutOption.hideOverlap})))},t.prototype.processLabelsOverall=function(){var t=this;Y(this._chartViewList,(function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,r=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var o=!i,a=e.getTextContent();!o&&a&&(o=xC(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),r&&t._animateLabels(e,n)}))}))},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=Vl(t),r=i.dataIndex;if(n&&null!=r){var o=e.getData(i.dataType),a=o.getItemModel(r),s={},l=o.getItemVisual(r,"style");if(l){var u=o.getVisual("drawType");s.stroke=l[u]}var h=a.getModel("labelLine");cC(t,dC(a),s),rC(t,h)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Uu(t))){var r=(f=xC(n)).oldLayout,o=Vl(t),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},l=e.getData(o.dataType);if(r){n.attr(r);var u=t.prevStates;u&&(U(u,"select")>=0&&n.attr(f.oldLayoutSelect),U(u,"emphasis")>=0&&n.attr(f.oldLayoutEmphasis)),Gu(n,s,e,a)}else if(n.attr(s),!uh(n).valueAnimation){var h=yt(n.style.opacity,1);n.style.opacity=0,Zu(n,{style:{opacity:h}},e,a)}if(f.oldLayout=s,n.states.select){var c=f.oldLayoutSelect={};CC(c,s,SC),CC(c,n.states.select,SC)}if(n.states.emphasis){var d=f.oldLayoutEmphasis={};CC(d,s,SC),CC(d,n.states.emphasis,SC)}ch(n,a,l,e,e)}if(i&&!i.ignore&&!i.invisible){r=(f=_C(i)).oldLayout;var f,p={points:i.shape.points};r?(i.attr({shape:r}),Gu(i,{shape:p},e)):(i.setShape(p),i.style.strokePercent=0,Zu(i,{style:{strokePercent:1}},e)),f.oldLayout=p}},t}(),AC=MC,TC=ma();function kC(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){var i=TC(e).labelManager;i||(i=TC(e).labelManager=new AC),i.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,n){var i=TC(e).labelManager;n.updatedSeries.forEach((function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()}))}function RC(t,e,n){var i=S.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}lw(kC);var IC=function(t){function e(e,n,i){var r,o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||Lr,"string"==typeof e?r=RC(e,n,i):ut(e)&&(e=(r=e).id),o.id=e,o.dom=r;var a=r.style;return a&&(Bt(r),r.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=n,o.dpr=i,o}return(0,g.ZT)(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=RC("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,l=new nn(0,0,0,0);function u(t){if(t.isFinite()&&!t.isZero())if(0===o.length){(e=new nn(0,0,0,0)).copy(t),o.push(e)}else{for(var e,n=!1,i=1/0,r=0,u=0;u<o.length;++u){var h=o[u];if(h.intersect(t)){var c=new nn(0,0,0,0);c.copy(h),c.union(t),o[u]=c,n=!0;break}if(s){l.copy(t),l.union(h);var d=t.width*t.height,f=h.width*h.height,p=l.width*l.height-d-f;p<i&&(i=p,r=u)}}if(s&&(o[r].union(t),n=!0),!n)(e=new nn(0,0,0,0)).copy(t),o.push(e);s||(s=o.length>=a)}}for(var h=this.__startIndex;h<this.__endIndex;++h){if(f=t[h]){var c=f.shouldBePainted(n,i,!0,!0);(p=f.__isRendered&&(1&f.__dirty||!c)?f.getPrevPaintRect():null)&&u(p);var d=c&&(1&f.__dirty||!f.__isRendered)?f.getPaintRect():null;d&&u(d)}}for(h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f,p;c=(f=e[h])&&f.shouldBePainted(n,i,!0,!0);if(f&&(!c||!f.__zr)&&f.__isRendered)(p=f.getPrevPaintRect())&&u(p)}do{r=!1;for(h=0;h<o.length;)if(o[h].isZero())o.splice(h,1);else{for(var g=h+1;g<o.length;)o[h].intersect(o[g])?(r=!0,o[h].union(o[g]),o.splice(g,1)):g++;h++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var i=this.dom,r=this.ctx,o=i.width,a=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,u=this.dpr,h=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/u,a/u));var c=this.domBack;function d(t,n,i,o){if(r.clearRect(t,n,i,o),e&&"transparent"!==e){var a=void 0;if(ft(e))a=(e.global||e.__width===i&&e.__height===o)&&e.__canvasGradient||uy(r,e,{x:0,y:0,width:i,height:o}),e.__canvasGradient=a,e.__width=i,e.__height=o;else pt(e)&&(e.scaleX=e.scaleX||u,e.scaleY=e.scaleY||u,a=by(r,e,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));r.save(),r.fillStyle=a||e,r.fillRect(t,n,i,o),r.restore()}s&&(r.save(),r.globalAlpha=l,r.drawImage(c,t,n,i,o),r.restore())}!n||s?d(0,0,o,a):n.length&&Y(n,(function(t){d(t.x*u,t.y*u,t.width*u,t.height*u)}))},e}(de),PC=IC,EC=1e5,BC=314159,LC=.01;var DC=function(){function t(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=V({},n||{}),this.dpr=n.devicePixelRatio||Lr,this._singleCanvas=r,this.root=t,t.style&&(Bt(t),t.innerHTML=""),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(r){var s=t,l=s.width,u=s.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,s.width=l*this.dpr,s.height=u*this.dpr,this._width=l,this._height=u;var h=new PC(s,this,this.dpr);h.__builtin__=!0,h.initContext(),a[314159]=h,h.zlevel=BC,o.push(BC),this._domRoot=t}else{this._width=cy(t,0,n),this._height=cy(t,1,n);var c=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(c)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var r=0;r<i.length;r++){var o=i[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(EC)),i||(i=n.ctx).save(),ky(i,a,r,o===e-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(EC)},t.prototype.paintOne=function(t,e){Ty(t,e)},t.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,n),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;An((function(){s._paintList(t,e,n,i)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(BC).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var i=this,r=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&r.push(l)}for(var u=!0,h=!1,c=function(a){var s,l=r[a],c=l.ctx,f=o&&l.createRepaintRects(t,e,d._width,d._height),p=n?l.__startIndex:l.__drawIndex,g=!n&&l.incremental&&Date.now,m=g&&Date.now(),v=l.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,f);else if(p===l.__startIndex){var y=t[p];y.incremental&&y.notClear&&!n||l.clear(!1,v,f)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=l.__startIndex);var b=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(s=p;s<l.__endIndex;s++){var r=t[s];if(r.__inHover&&(h=!0),i._doPaintEl(r,l,o,e,n,s===l.__endIndex-1),g)if(Date.now()-m>15)break}n.prevElClipPaths&&c.restore()};if(f)if(0===f.length)s=l.__endIndex;else for(var w=d.dpr,x=0;x<f.length;++x){var _=f[x];c.save(),c.beginPath(),c.rect(_.x*w,_.y*w,_.width*w,_.height*w),c.clip(),b(_),c.restore()}else c.save(),b(),c.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(u=!1)},d=this,f=0;f<r.length;f++)c(f);return y.wxa&&Y(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:u,needsRefreshHover:h}},t.prototype._doPaintEl=function(t,e,n,i,r,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!i||s&&s.intersect(i))&&(ky(a,t,r,o),t.setPrevPaintRect(s))}else ky(a,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=BC);var n=this._layers[t];return n||((n=new PC("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?W(n,this._layerConfig[t],!0):this._layerConfig[t-LC]&&W(n,this._layerConfig[t-LC],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,r=i.length,o=this._domRoot,a=null,s=-1;if(!n[t]&&function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>i[0]){for(s=0;s<r-1&&!(i[s]<t&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.painter||(e.painter=this)}},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var i,r,o=null,a=0;for(r=0;r<t.length;r++){var s,l=(s=t[r]).zlevel,u=void 0;i!==l&&(i=l,a=0),s.incremental?((u=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(l+(a>0?LC:0),this._needsManuallyCompositing),u.__builtin__||N("ZLevel "+l+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,e(r),o=u),1&s.__dirty&&!s.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=r))}e(r),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,Y(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?W(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===t||r===t+LC)W(this._layers[r],n[t],!0)}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(U(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,r=this.root;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=cy(r,0,i),e=cy(r,1,i),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(BC).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new PC("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height;this.eachLayer((function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s<l;s++){var u=a[s];ky(n,u,o,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}(),OC=DC;var FC=Math.sin,HC=Math.cos,NC=Math.PI,zC=2*Math.PI,WC=180/NC,jC=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._add("C",t,e,n,i,r,o)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},t.prototype.arc=function(t,e,n,i,r,o){this.ellipse(t,e,n,n,0,i,r,o)},t.prototype.ellipse=function(t,e,n,i,r,o,a,s){var l=a-o,u=!s,h=Math.abs(l),c=Fi(h-zC)||(u?l>=zC:-l>=zC),d=l>0?l%zC:l%zC+zC,f=!1;f=!!c||!Fi(h)&&d>=NC==!!u;var p=t+n*HC(o),g=e+i*FC(o);this._start&&this._add("M",p,g);var m=Math.round(r*WC);if(c){var v=1/this._p,y=(u?1:-1)*(zC-v);this._add("A",n,i,m,1,+u,t+n*HC(o+y),e+i*FC(o+y)),v>.01&&this._add("A",n,i,m,0,+u,p,g)}else{var b=t+n*HC(a),w=e+i*FC(a);this._add("A",n,i,m,+f,+u,b,w)}},t.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,i,r,o,a,s,l){for(var u=[],h=this._p,c=1;c<arguments.length;c++){var d=arguments[c];if(isNaN(d))return void(this._invalid=!0);u.push(Math.round(d*h)/h)}this._d.push(t+u.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),VC=jC,GC="none",ZC=Math.round;var UC=["lineCap","miterLimit","lineJoin"],KC=q(UC,(function(t){return"stroke-"+t.toLowerCase()}));function $C(t,e,n,i){var r=null==e.opacity?1:e.opacity;if(n instanceof yl)t("opacity",r);else{if(function(t){var e=t.fill;return null!=e&&e!==GC}(e)){var o=Di(e.fill);t("fill",o.color);var a=null!=e.fillOpacity?e.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&t("fill-opacity",a)}else t("fill",GC);if(function(t){var e=t.stroke;return null!=e&&e!==GC}(e)){var s=Di(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?n.getLineScale():1,u=l?(e.lineWidth||0)/l:0,h=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,c=e.strokeFirst;if((i||1!==u)&&t("stroke-width",u),(i||c)&&t("paint-order",c?"stroke":"fill"),(i||h<1)&&t("stroke-opacity",h),e.lineDash){var d=dy(n),f=d[0],p=d[1];f&&(p=ZC(p||0),t("stroke-dasharray",f.join(",")),(p||i)&&t("stroke-dashoffset",p))}else i&&t("stroke-dasharray",GC);for(var g=0;g<UC.length;g++){var m=UC[g];if(i||e[m]!==sl[m]){var v=e[m]||sl[m];v&&t(KC[g],v)}}}else i&&t("stroke",GC)}}var XC="http://www.w3.org/2000/svg",YC="http://www.w3.org/1999/xlink",qC="ecmeta_";function JC(t){return document.createElementNS(XC,t)}function QC(t,e,n,i,r){return{tag:t,attrs:n||{},children:i,text:r,key:e}}function tS(t,e){var n=(e=e||{}).newline?"\n":"";return function t(e){var i=e.children,r=e.tag,o=e.attrs,a=e.text;return function(t,e){var n=[];if(e)for(var i in e){var r=e[i],o=i;!1!==r&&(!0!==r&&null!=r&&(o+='="'+r+'"'),n.push(o))}return"<"+t+" "+n.join(" ")+">"}(r,o)+("style"!==r?_e(a):a||"")+(i?""+n+q(i,(function(e){return t(e)})).join(n)+n:"")+("</"+r+">")}(t)}function eS(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function nS(t,e,n,i){return QC("svg","root",{width:t,height:e,xmlns:XC,"xmlns:xlink":YC,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+t+" "+e},n)}var iS=0;function rS(){return iS++}var oS={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},aS="transform-origin";function sS(t,e,n){var i=V({},t.shape);V(i,e),t.buildPath(n,i);var r=new VC;return r.reset(Ki(t)),n.rebuildPath(r,1),r.generateStr(),r.getStr()}function lS(t,e){var n=e.originX,i=e.originY;(n||i)&&(t[aS]=n+"px "+i+"px")}var uS={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function hS(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function cS(t){return at(t)?oS[t]?"cubic-bezier("+oS[t]+")":ti(t)?t:"":""}function dS(t,e,n,i){var r=t.animators,o=r.length,a=[];if(t instanceof Jg){var s=function(t,e,n){var i,r,o=t.shape.paths,a={};if(Y(o,(function(t){var e=eS(n.zrId);e.animation=!0,dS(t,{},e,!0);var o=e.cssAnims,s=e.cssNodes,l=et(o),u=l.length;if(u){var h=o[r=l[u-1]];for(var c in h){var d=h[c];a[c]=a[c]||{d:""},a[c].d+=d.d||""}for(var f in s){var p=s[f].animation;p.indexOf(r)>=0&&(i=p)}}})),i){e.d=!1;var s=hS(a,n);return i.replace(r,s)}}(t,e,n);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var h=r[u],c=[h.getMaxTime()/1e3+"s"],d=cS(h.getClip().easing),f=h.getDelay();d?c.push(d):c.push("linear"),f&&c.push(f/1e3+"s"),h.getLoop()&&c.push("infinite");var p=c.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(h)}function g(r){var o,a=r[1],s=a.length,l={},u={},h={},c="animation-timing-function";function d(t,e,n){for(var i=t.getTracks(),r=t.getMaxTime(),o=0;o<i.length;o++){var a=i[o];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(n&&(l=n(l)),l)for(var u=0;u<s.length;u++){var h=s[u],d=Math.round(h.time/r*100)+"%",f=cS(h.easing),p=h.rawValue;(at(p)||lt(p))&&(e[d]=e[d]||{},e[d][l]=h.rawValue,f&&(e[d][c]=f))}}}}for(var f=0;f<s;f++){(C=(_=a[f]).targetName)?"shape"===C&&d(_,u):!i&&d(_,l)}for(var p in l){var g={};Ur(g,t),V(g,l[p]);var m=$i(g),v=l[p][c];h[p]=m?{transform:m}:{},lS(h[p],g),v&&(h[p][c]=v)}var y=!0;for(var p in u){h[p]=h[p]||{};var b=!o;v=u[p][c];b&&(o=new Gs);var w=o.len();o.reset(),h[p].d=sS(t,u[p],o);var x=o.len();if(!b&&w!==x){y=!1;break}v&&(h[p][c]=v)}if(!y)for(var p in h)delete h[p].d;if(!i)for(f=0;f<s;f++){var _,C;"style"===(C=(_=a[f]).targetName)&&d(_,h,(function(t){return uS[t]}))}var S,M=et(h),A=!0;for(f=1;f<M.length;f++){var T=M[f-1],k=M[f];if(h[T][aS]!==h[k][aS]){A=!1;break}S=h[T][aS]}if(A&&S){for(var p in h)h[p][aS]&&delete h[p][aS];e[aS]=S}if(Q(M,(function(t){return et(h[t]).length>0})).length)return hS(h,n)+" "+r[0]+" both"}for(var m in l){(s=g(l[m]))&&a.push(s)}if(a.length){var v=n.zrId+"-cls-"+rS();n.cssNodes["."+v]={animation:a.join(",")},e.class=v}}function fS(t,e,n,i){var r=JSON.stringify(t),o=n.cssStyleCache[r];o||(o=n.zrId+"-cls-"+rS(),n.cssStyleCache[r]=o,n.cssNodes["."+o+(i?":hover":"")]=t),e.class=e.class?e.class+" "+o:o}var pS=Math.round;function gS(t){return t&&at(t.src)}function mS(t){return t&&ot(t.toDataURL)}function vS(t,e,n,i){$C((function(r,o){var a="fill"===r||"stroke"===r;a&&Zi(o)?kS(e,t,r,i):a&&ji(o)?RS(n,t,r,i):t[r]=a&&"none"===o?"transparent":o}),e,n,!1),function(t,e,n){var i=t.style;if(function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}(i)){var r=function(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}(t),o=n.shadowCache,a=o[r];if(!a){var s=t.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var h=i.shadowOffsetX||0,c=i.shadowOffsetY||0,d=i.shadowBlur,f=Di(i.shadowColor),p=f.opacity,g=f.color,m=d/2/l+" "+d/2/u;a=n.zrId+"-s"+n.shadowIdx++,n.defs[a]=QC("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[QC("feDropShadow","",{dx:h/l,dy:c/u,stdDeviation:m,"flood-color":g,"flood-opacity":p})]),o[r]=a}e.filter=Ui(a)}}(n,t,i)}function yS(t,e){var n=Ao(e);n&&(n.each((function(e,n){null!=e&&(t[(qC+n).toLowerCase()]=e+"")})),e.isSilent()&&(t[qC+"silent"]="true"))}function bS(t){return Fi(t[0]-1)&&Fi(t[1])&&Fi(t[2])&&Fi(t[3]-1)}function wS(t,e,n){if(e&&(!function(t){return Fi(t[4])&&Fi(t[5])}(e)||!bS(e))){var i=n?10:1e4;t.transform=bS(e)?"translate("+pS(e[4]*i)/i+" "+pS(e[5]*i)/i+")":function(t){return"matrix("+Hi(t[0])+","+Hi(t[1])+","+Hi(t[2])+","+Hi(t[3])+","+Ni(t[4])+","+Ni(t[5])+")"}(e)}}function xS(t,e,n){for(var i=t.points,r=[],o=0;o<i.length;o++)r.push(pS(i[o][0]*n)/n),r.push(pS(i[o][1]*n)/n);e.points=r.join(" ")}function _S(t){return!t.smooth}var CS,SS,MS={circle:[(CS=["cx","cy","r"],SS=q(CS,(function(t){return"string"==typeof t?[t,t]:t})),function(t,e,n){for(var i=0;i<SS.length;i++){var r=SS[i],o=t[r[0]];null!=o&&(e[r[1]]=pS(o*n)/n)}})],polyline:[xS,_S],polygon:[xS,_S]};function AS(t,e){var n=t.style,i=t.shape,r=MS[t.type],o={},a=e.animation,s="path",l=t.style.strokePercent,u=e.compress&&Ki(t)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||a&&function(t){for(var e=t.animators,n=0;n<e.length;n++)if("shape"===e[n].targetName)return!0;return!1}(t)||l<1){var h=!t.path||t.shapeChanged();t.path||t.createPathProxy();var c=t.path;h&&(c.beginPath(),t.buildPath(c,t.shape),t.pathUpdated());var d=c.getVersion(),f=t,p=f.__svgPathBuilder;f.__svgPathVersion===d&&p&&l===f.__svgPathStrokePercent||(p||(p=f.__svgPathBuilder=new VC),p.reset(u),c.rebuildPath(p,l),p.generateStr(),f.__svgPathVersion=d,f.__svgPathStrokePercent=l),o.d=p.getStr()}else{s=t.type;var g=Math.pow(10,u);r[0](i,o,g)}return wS(o,t.transform),vS(o,n,t,e),yS(o,t),e.animation&&dS(t,o,e),e.emphasis&&function(t,e,n){if(!t.ignore)if(t.isSilent())fS(u={"pointer-events":"none"},e,n,!0);else{var i=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},r=i.fill;if(!r){var o=t.style&&t.style.fill,a=t.states.select&&t.states.select.style&&t.states.select.style.fill,s=t.currentStates.indexOf("select")>=0&&a||o;s&&(r=Ei(s))}var l=i.lineWidth;l&&(l/=!i.strokeNoScale&&t.transform?t.transform[0]:1);var u={cursor:"pointer"};r&&(u.fill=r),i.stroke&&(u.stroke=i.stroke),l&&(u["stroke-width"]=l),fS(u,e,n,!0)}}(t,o,e),QC(s,t.id+"",o)}function TS(t,e){return t instanceof cl?AS(t,e):t instanceof yl?function(t,e){var n=t.style,i=n.image;if(i&&!at(i)&&(gS(i)?i=i.src:mS(i)&&(i=i.toDataURL())),i){var r=n.x||0,o=n.y||0,a={href:i,width:n.width,height:n.height};return r&&(a.x=r),o&&(a.y=o),wS(a,t.transform),vS(a,n,t,e),yS(a,t),e.animation&&dS(t,a,e),QC("image",t.id+"",a)}}(t,e):t instanceof pl?function(t,e){var n=t.style,i=n.text;if(null!=i&&(i+=""),i&&!isNaN(n.x)&&!isNaN(n.y)){var r=n.font||w,o=n.x||0,a=function(t,e,n){return"top"===n?t+=e/2:"bottom"===n&&(t-=e/2),t}(n.y||0,to(r),n.textBaseline),s={"dominant-baseline":"central","text-anchor":zi[n.textAlign]||n.textAlign};if(Dl(n)){var l="",u=n.fontStyle,h=Bl(n.fontSize);if(!parseFloat(h))return;var c=n.fontFamily||b,d=n.fontWeight;l+="font-size:"+h+";font-family:"+c+";",u&&"normal"!==u&&(l+="font-style:"+u+";"),d&&"normal"!==d&&(l+="font-weight:"+d+";"),s.style=l}else s.style="font: "+r;return i.match(/\s/)&&(s["xml:space"]="preserve"),o&&(s.x=o),a&&(s.y=a),wS(s,t.transform),vS(s,n,t,e),yS(s,t),e.animation&&dS(t,s,e),QC("text",t.id+"",s,void 0,i)}}(t,e):void 0}function kS(t,e,n,i){var r,o=t[n],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(Vi(o))r="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!Gi(o))return void 0;r="radialGradient",a.cx=yt(o.x,.5),a.cy=yt(o.y,.5),a.r=yt(o.r,.5)}for(var s=o.colorStops,l=[],u=0,h=s.length;u<h;++u){var c=100*Ni(s[u].offset)+"%",d=Di(s[u].color),f=d.color,p=d.opacity,g={offset:c};g["stop-color"]=f,p<1&&(g["stop-opacity"]=p),l.push(QC("stop",u+"",g))}var m=tS(QC(r,"",a,l)),v=i.gradientCache,y=v[m];y||(y=i.zrId+"-g"+i.gradientIdx++,v[m]=y,a.id=y,i.defs[y]=QC(r,y,a,l)),e[n]=Ui(y)}function RS(t,e,n,i){var r,o=t.style[n],a=t.getBoundingRect(),s={},l=o.repeat,u="no-repeat"===l,h="repeat-x"===l,c="repeat-y"===l;if(Wi(o)){var d=o.imageWidth,f=o.imageHeight,p=void 0,g=o.image;if(at(g)?p=g:gS(g)?p=g.src:mS(g)&&(p=g.toDataURL()),"undefined"==typeof Image){var m="Image width/height must been given explictly in svg-ssr renderer.";_t(d,m),_t(f,m)}else if(null==d||null==f){var v=function(t,e){if(t){var n=t.elm,i=d||e.width,r=f||e.height;"pattern"===t.tag&&(h?(r=1,i/=a.width):c&&(i=1,r/=a.height)),t.attrs.width=i,t.attrs.height=r,n&&(n.setAttribute("width",i),n.setAttribute("height",r))}},y=za(p,null,t,(function(t){u||v(_,t),v(r,t)}));y&&y.width&&y.height&&(d=d||y.width,f=f||y.height)}r=QC("image","img",{href:p,width:d,height:f}),s.width=d,s.height=f}else o.svgElement&&(r=z(o.svgElement),s.width=o.svgWidth,s.height=o.svgHeight);if(r){var b,w;u?b=w=1:h?(w=1,b=s.width/a.width):c?(b=1,w=s.height/a.height):s.patternUnits="userSpaceOnUse",null==b||isNaN(b)||(s.width=b),null==w||isNaN(w)||(s.height=w);var x=$i(o);x&&(s.patternTransform=x);var _=QC("pattern","",s,[r]),C=tS(_),S=i.patternCache,M=S[C];M||(M=i.zrId+"-p"+i.patternIdx++,S[C]=M,s.id=M,_=i.defs[M]=QC("pattern",M,s,[r])),e[n]=Ui(M)}}function IS(t,e,n){var i=n.clipPathCache,r=n.defs,o=i[t.id];if(!o){var a={id:o=n.zrId+"-c"+n.clipPathIdx++};i[t.id]=o,r[o]=QC("clipPath",o,a,[AS(t,n)])}e["clip-path"]=Ui(o)}function PS(t){return document.createTextNode(t)}function ES(t,e,n){t.insertBefore(e,n)}function BS(t,e){t.removeChild(e)}function LS(t,e){t.appendChild(e)}function DS(t){return t.parentNode}function OS(t){return t.nextSibling}function FS(t,e){t.textContent=e}var HS=QC("","");function NS(t){return void 0===t}function zS(t){return void 0!==t}function WS(t,e,n){for(var i={},r=e;r<=n;++r){var o=t[r].key;void 0!==o&&(i[o]=r)}return i}function jS(t,e){var n=t.key===e.key;return t.tag===e.tag&&n}function VS(t){var e,n=t.children,i=t.tag;if(zS(i)){var r=t.elm=JC(i);if(US(HS,t),rt(n))for(e=0;e<n.length;++e){var o=n[e];null!=o&&LS(r,VS(o))}else zS(t.text)&&!ut(t.text)&&LS(r,PS(t.text))}else t.elm=PS(t.text);return t.elm}function GS(t,e,n,i,r){for(;i<=r;++i){var o=n[i];null!=o&&ES(t,VS(o),e)}}function ZS(t,e,n,i){for(;n<=i;++n){var r=e[n];if(null!=r)if(zS(r.tag))BS(DS(r.elm),r.elm);else BS(t,r.elm)}}function US(t,e){var n,i=e.elm,r=t&&t.attrs||{},o=e.attrs||{};if(r!==o){for(n in o){var a=o[n];r[n]!==a&&(!0===a?i.setAttribute(n,""):!1===a?i.removeAttribute(n):"style"===n?i.style.cssText=a:120!==n.charCodeAt(0)?i.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS("http://www.w3.org/2000/xmlns/",n,a):58===n.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,a):58===n.charCodeAt(5)?i.setAttributeNS(YC,n,a):i.setAttribute(n,a))}for(n in r)n in o||i.removeAttribute(n)}}function KS(t,e){var n=e.elm=t.elm,i=t.children,r=e.children;t!==e&&(US(t,e),NS(e.text)?zS(i)&&zS(r)?i!==r&&function(t,e,n){for(var i,r,o,a=0,s=0,l=e.length-1,u=e[0],h=e[l],c=n.length-1,d=n[0],f=n[c];a<=l&&s<=c;)null==u?u=e[++a]:null==h?h=e[--l]:null==d?d=n[++s]:null==f?f=n[--c]:jS(u,d)?(KS(u,d),u=e[++a],d=n[++s]):jS(h,f)?(KS(h,f),h=e[--l],f=n[--c]):jS(u,f)?(KS(u,f),ES(t,u.elm,OS(h.elm)),u=e[++a],f=n[--c]):jS(h,d)?(KS(h,d),ES(t,h.elm,u.elm),h=e[--l],d=n[++s]):(NS(i)&&(i=WS(e,a,l)),NS(r=i[d.key])||(o=e[r]).tag!==d.tag?ES(t,VS(d),u.elm):(KS(o,d),e[r]=void 0,ES(t,o.elm,u.elm)),d=n[++s]);(a<=l||s<=c)&&(a>l?GS(t,null==n[c+1]?null:n[c+1].elm,n,s,c):ZS(t,e,a,l))}(n,i,r):zS(r)?(zS(t.text)&&FS(n,""),GS(n,null,r,0,r.length-1)):zS(i)?ZS(n,i,0,i.length-1):zS(t.text)&&FS(n,""):t.text!==e.text&&(zS(i)&&ZS(n,i,0,i.length-1),FS(n,e.text)))}var $S=0,XS=function(){function t(t,e,n){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=e,this._opts=n=V({},n),this.root=t,this._id="zr"+$S++,this._oldVNode=nS(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var r=this._svgDom=this._oldVNode.elm=JC("svg");US(null,this._oldVNode),i.appendChild(r),t.appendChild(i)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,e){if(jS(t,e))KS(t,e);else{var n=t.elm,i=DS(n);VS(e),null!==i&&(ES(i,e.elm,OS(n)),ZS(i,[t],0,0))}}(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return TS(t,eS(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,i=this._height,r=eS(this._id);r.animation=t.animation,r.willUpdate=t.willUpdate,r.compress=t.compress,r.emphasis=t.emphasis;var o=[],a=this._bgVNode=function(t,e,n,i){var r;if(n&&"none"!==n)if(r=QC("rect","bg",{width:t,height:e,x:"0",y:"0"}),Zi(n))kS({fill:n},r.attrs,"fill",i);else if(ji(n))RS({style:{fill:n},dirty:Dt,getBoundingRect:function(){return{width:t,height:e}}},r.attrs,"fill",i);else{var o=Di(n),a=o.color,s=o.opacity;r.attrs.fill=a,s<1&&(r.attrs["fill-opacity"]=s)}return r}(n,i,this._backgroundColor,r);a&&o.push(a);var s=t.compress?null:this._mainVNode=QC("g","main",{},[]);this._paintList(e,r,s?s.children:o),s&&o.push(s);var l=q(et(r.defs),(function(t){return r.defs[t]}));if(l.length&&o.push(QC("defs","defs",{},l)),t.animation){var u=function(t,e,n){var i=(n=n||{}).newline?"\n":"",r=" {"+i,o=i+"}",a=q(et(t),(function(e){return e+r+q(et(t[e]),(function(n){return n+":"+t[e][n]+";"})).join(i)+o})).join(i),s=q(et(e),(function(t){return"@keyframes "+t+r+q(et(e[t]),(function(n){return n+r+q(et(e[t][n]),(function(i){var r=e[t][n][i];return"d"===i&&(r='path("'+r+'")'),i+":"+r+";"})).join(i)+o})).join(i)+o})).join(i);return a||s?["<![CDATA[",a,s,"]]>"].join(i):""}(r.cssNodes,r.cssAnims,{newline:!0});if(u){var h=QC("style","stl",{},[],u);o.push(h)}}return nS(n,i,o,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},tS(this.renderToVNode({animation:yt(t.cssAnimation,!0),emphasis:yt(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:yt(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var i,r,o=t.length,a=[],s=0,l=0,u=0;u<o;u++){var h=t[u];if(!h.invisible){var c=h.__clipPaths,d=c&&c.length||0,f=r&&r.length||0,p=void 0;for(p=Math.max(d-1,f-1);p>=0&&(!c||!r||c[p]!==r[p]);p--);for(var g=f-1;g>p;g--)i=a[--s-1];for(var m=p+1;m<d;m++){var v={};IS(c[m],v,e);var y=QC("g","clip-g-"+l++,v,[]);(i?i.children:n).push(y),a[s++]=y,i=y}r=c;var b=TS(h,e);b&&(i?i.children:n).push(b)}}},t.prototype.resize=function(t,e){var n=this._opts,i=this.root,r=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),i&&r&&(r.style.display="none",t=cy(i,0,n),e=cy(i,1,n),r.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,r){var o=r.style;o.width=t+"px",o.height=e+"px"}if(ji(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",e));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",t),s.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=Xi(e))&&n+"base64,"+e:n+"charset=UTF-8,"+encodeURIComponent(e)},t}();var YS=XS;var qS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t){return Kw(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new mo,n=oy("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),o="none"===i?"circle":i,a=.8*t.itemHeight,s=oy(o,(t.itemWidth-a)/2,(t.itemHeight-a)/2,a,a,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?r:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Fp),JS=qS;function QS(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var r=Cf(t,e,n[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<n.length;a++)o.push(Cf(t,e,n[a]));return o.join(" ")}}function tM(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!rt(e))return e+"";for(var i=[],r=0;r<n.length;r++){var o=t.getDimensionIndex(n[r]);o>=0&&i.push(e[o])}return i.join(" ")}var eM=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.updateData(e,n,i,r),o}return(0,g.ZT)(e,t),e.prototype._createSymbol=function(t,e,n,i,r){this.removeAll();var o=oy(t,-1,-1,2,2,null,r);o.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=nM,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){yu(this.childAt(0))},e.prototype.downplay=function(){bu(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t,e){var n=this.childAt(0);n.draggable=t,n.cursor=!e&&t?"move":n.cursor},e.prototype.updateData=function(t,n,i,r){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",a=t.hostModel,s=e.getSymbolSize(t,n),l=o!==this._symbolType,u=r&&r.disableAnimation;if(l){var h=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,s,h)}else{(d=this.childAt(0)).silent=!1;var c={scaleX:s[0]/2,scaleY:s[1]/2};u?d.attr(c):Gu(d,c,a,n),Yu(d)}if(this._updateCommon(t,n,s,i,r),l){var d=this.childAt(0);if(!u){c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Zu(d,c,a,n)}}u&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,n,i,r){var o,a,s,l,u,h,c,d,f,p=this.childAt(0),g=t.hostModel;if(i&&(o=i.emphasisItemStyle,a=i.blurItemStyle,s=i.selectItemStyle,l=i.focus,u=i.blurScope,c=i.labelStatesModels,d=i.hoverScale,f=i.cursorStyle,h=i.emphasisDisabled),!i||t.hasItemOption){var m=i&&i.itemModel?i.itemModel:t.getItemModel(e),v=m.getModel("emphasis");o=v.getModel("itemStyle").getItemStyle(),s=m.getModel(["select","itemStyle"]).getItemStyle(),a=m.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),u=v.get("blurScope"),h=v.get("disabled"),c=eh(m),d=v.getShallow("scale"),f=m.getShallow("cursor")}var y=t.getItemVisual(e,"symbolRotate");p.attr("rotation",(y||0)*Math.PI/180||0);var b=sy(t.getItemVisual(e,"symbolOffset"),n);b&&(p.x=b[0],p.y=b[1]),f&&p.attr("cursor",f);var w=t.getItemVisual(e,"style"),x=w.fill;if(p instanceof yl){var _=p.style;p.useStyle(V({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},w))}else p.__isEmptyBrush?p.useStyle(V({},w)):p.useStyle(w),p.style.decal=null,p.setColor(x,r&&r.symbolInnerColor),p.style.strokeNoScale=!0;var C=t.getItemVisual(e,"liftZ"),S=this._z2;null!=C?null==S&&(this._z2=p.z2,p.z2+=C):null!=S&&(p.z2=S,this._z2=null);var M=r&&r.useNameLabel;th(p,c,{labelFetcher:g,labelDataIndex:e,defaultText:function(e){return M?t.getName(e):QS(t,e)},inheritColor:x,defaultOpacity:w.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var A=p.ensureState("emphasis");A.style=o,p.ensureState("select").style=s,p.ensureState("blur").style=a;var T=null==d||!0===d?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;A.scaleX=this._sizeX*T,A.scaleY=this._sizeY*T,this.setSymbolScale(1),Eu(this,l,u,h)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,n){var i=this.childAt(0),r=Vl(this).dataIndex,o=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var a=i.getTextContent();a&&Ku(a,{style:{opacity:0}},e,{dataIndex:r,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Ku(i,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:r,cb:t,removeOpt:o})},e.getSymbolSize=function(t,e){return ay(t.getItemVisual(e,"symbolSize"))},e}(mo);function nM(t,e){this.parent.drift(t,e)}var iM=eM;function rM(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function oM(t){return null==t||ut(t)||(t={isIgnore:t}),t||{}}function aM(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:eh(e),cursorStyle:e.get("cursor")}}var sM=function(){function t(t){this.group=new mo,this._SymbolCtor=t||iM}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=oM(e);var n=this.group,i=t.hostModel,r=this._data,o=this._SymbolCtor,a=e.disableAnimation,s=aM(t),l={disableAnimation:a},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};r||n.removeAll(),t.diff(r).add((function(i){var r=u(i);if(rM(t,r,i,e)){var a=new o(t,i,s,l);a.setPosition(r),t.setItemGraphicEl(i,a),n.add(a)}})).update((function(h,c){var d=r.getItemGraphicEl(c),f=u(h);if(rM(t,f,h,e)){var p=t.getItemVisual(h,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==p)n.remove(d),(d=new o(t,h,s,l)).setPosition(f);else{d.updateData(t,h,s,l);var m={x:f[0],y:f[1]};a?d.attr(m):Gu(d,m,i)}n.add(d),t.setItemGraphicEl(h,d)}else n.remove(d)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}),i)})).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){var i=t._getSymbolPoint(n);e.setPosition(i),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=aM(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=oM(n);for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(rM(e,o,r,n)){var a=new this._SymbolCtor(e,r,this._seriesScope);a.traverse(i),a.setPosition(o),this.group.add(a),e.setItemGraphicEl(r,a),this._progressiveEls.push(a)}}},t.prototype.eachRendered=function(t){zm(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),n.hostModel)})):e.removeAll()},t}(),lM=sM;function uM(t,e,n){var i=t.getBaseAxis(),r=t.getOtherAxis(i),o=function(t,e){var n=0,i=t.scale.getExtent();"start"===e?n=i[0]:"end"===e?n=i[1]:lt(e)&&!isNaN(e)?n=e:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(r,n),a=i.dim,s=r.dim,l=e.mapDimension(s),u=e.mapDimension(a),h="x"===s||"radius"===s?1:0,c=q(t.dimensions,(function(t){return e.mapDimension(t)})),d=!1,f=e.getCalculationInfo("stackResultDimension");return Zw(e,c[0])&&(d=!0,c[0]=f),Zw(e,c[1])&&(d=!0,c[1]=f),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function hM(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,i),a[1-o]=r,e.dataToPoint(a)}var cM=Math.min,dM=Math.max;function fM(t,e){return isNaN(t)||isNaN(e)}function pM(t,e,n,i,r,o,a,s,l){for(var u,h,c,d,f,p,g=n,m=0;m<i;m++){var v=e[2*g],y=e[2*g+1];if(g>=r||g<0)break;if(fM(v,y)){if(l){g+=o;continue}break}if(g===n)t[o>0?"moveTo":"lineTo"](v,y),c=v,d=y;else{var b=v-u,w=y-h;if(b*b+w*w<.5){g+=o;continue}if(a>0){for(var x=g+o,_=e[2*x],C=e[2*x+1];_===v&&C===y&&m<i;)m++,g+=o,_=e[2*(x+=o)],C=e[2*x+1],b=(v=e[2*g])-u,w=(y=e[2*g+1])-h;var S=m+1;if(l)for(;fM(_,C)&&S<i;)S++,_=e[2*(x+=o)],C=e[2*x+1];var M=.5,A=0,T=0,k=void 0,R=void 0;if(S>=i||fM(_,C))f=v,p=y;else{A=_-u,T=C-h;var I=v-u,P=_-v,E=y-h,B=C-y,L=void 0,D=void 0;if("x"===s){var O=A>0?1:-1;f=v-O*(L=Math.abs(I))*a,p=y,k=v+O*(D=Math.abs(P))*a,R=y}else if("y"===s){var F=T>0?1:-1;f=v,p=y-F*(L=Math.abs(E))*a,k=v,R=y+F*(D=Math.abs(B))*a}else L=Math.sqrt(I*I+E*E),f=v-A*a*(1-(M=(D=Math.sqrt(P*P+B*B))/(D+L))),p=y-T*a*(1-M),R=y+T*a*M,k=cM(k=v+A*a*M,dM(_,v)),R=cM(R,dM(C,y)),k=dM(k,cM(_,v)),p=y-(T=(R=dM(R,cM(C,y)))-y)*L/D,f=cM(f=v-(A=k-v)*L/D,dM(u,v)),p=cM(p,dM(h,y)),k=v+(A=v-(f=dM(f,cM(u,v))))*D/L,R=y+(T=y-(p=dM(p,cM(h,y))))*D/L}t.bezierCurveTo(c,d,f,p,v,y),c=k,d=R}else t.lineTo(v,y)}u=v,h=y,g+=o}return m}var gM=function(){this.smooth=0,this.smoothConstraint=!0},mM=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return(0,g.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gM},e.prototype.buildPath=function(t,e){var n=e.points,i=0,r=n.length/2;if(e.connectNulls){for(;r>0&&fM(n[2*r-2],n[2*r-1]);r--);for(;i<r&&fM(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=pM(t,n,i,r,r,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,r=this.path.data,o=Gs.CMD,a="x"===e,s=[],l=0;l<r.length;){var u=void 0,h=void 0,c=void 0,d=void 0,f=void 0,p=void 0,g=void 0;switch(r[l++]){case o.M:n=r[l++],i=r[l++];break;case o.L:if(u=r[l++],h=r[l++],(g=a?(t-n)/(u-n):(t-i)/(h-i))<=1&&g>=0){var m=a?(h-i)*g+i:(u-n)*g+n;return a?[t,m]:[m,t]}n=u,i=h;break;case o.C:u=r[l++],h=r[l++],c=r[l++],d=r[l++],f=r[l++],p=r[l++];var v=a?jn(n,u,c,f,t,s):jn(i,h,d,p,t,s);if(v>0)for(var y=0;y<v;y++){var b=s[y];if(b<=1&&b>=0){m=a?zn(i,h,d,p,b):zn(n,u,c,f,b);return a?[t,m]:[m,t]}}n=f,i=p}}},e}(cl),vM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e}(gM),yM=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new vM},e.prototype.buildPath=function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,o=n.length/2,a=e.smoothMonotone;if(e.connectNulls){for(;o>0&&fM(n[2*o-2],n[2*o-1]);o--);for(;r<o&&fM(n[2*r],n[2*r+1]);r++);}for(;r<o;){var s=pM(t,n,r,o,o,1,e.smooth,a,e.connectNulls);pM(t,i,r+s-1,s,o,-1,e.stackedOnSmooth,a,e.connectNulls),r+=s+1,t.closePath()}},e}(cl);function bM(t,e,n,i,r){var o=t.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=n.get(["lineStyle","width"])||2;a-=h/2,s-=h/2,l+=h,u+=h,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var c=new Al({shape:{x:a,y:s,width:l,height:u}});if(e){var d=t.getBaseAxis(),f=d.isHorizontal(),p=d.inverse;f?(p&&(c.shape.x+=l),c.shape.width=0):(p||(c.shape.y+=u),c.shape.height=0);var g=ot(r)?function(t){r(t,c)}:null;Zu(c,{shape:{width:l,height:u,x:a,y:s}},n,null,i,g)}return c}function wM(t,e,n){var i=t.getArea(),r=Eo(i.r0,1),o=Eo(i.r,1),a=new kg({shape:{cx:Eo(t.cx,1),cy:Eo(t.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Zu(a,{shape:{endAngle:i.endAngle,r:o}},n));return a}function xM(t,e,n,i,r){return t?"polar"===t.type?wM(t,e,n):"cartesian2d"===t.type?bM(t,e,n,i,r):null:null}function _M(t,e){return t.type===e}function CM(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function SM(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o<t.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[e,n],[i,r]]}function MM(t,e){var n=SM(t),i=n[0],r=n[1],o=SM(e),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function AM(t){return lt(t)?t:t?.5:0}function TM(t,e,n,i){var r=e.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,a=[],s=0,l=[],u=[],h=[],c=[];if(i){for(s=0;s<t.length;s+=2)isNaN(t[s])||isNaN(t[s+1])||c.push(t[s],t[s+1]);t=c}for(s=0;s<t.length-2;s+=2)switch(h[0]=t[s+2],h[1]=t[s+3],u[0]=t[s],u[1]=t[s+1],a.push(u[0],u[1]),n){case"end":l[o]=h[o],l[1-o]=u[1-o],a.push(l[0],l[1]);break;case"middle":var d=(u[o]+h[o])/2,f=[];l[o]=f[o]=d,l[1-o]=u[1-o],f[1-o]=h[1-o],a.push(l[0],l[1]),a.push(f[0],f[1]);break;default:l[o]=u[o],l[1-o]=h[1-o],a.push(l[0],l[1])}return a.push(t[s++],t[s++]),a}function kM(t,e,n){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var r,o,a=i.length-1;a>=0;a--){var s=t.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=e.getAxis(r),u=q(o.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),h=u.length,c=o.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var d=function(t,e){var n,i,r=[],o=t.length;function a(t,e,n){var i=t.coord;return{coord:n,color:Si((n-i)/(e.coord-i),[t.color,e.color])}}for(var s=0;s<o;s++){var l=t[s],u=l.coord;if(u<0)n=l;else{if(u>e){i?r.push(a(i,l,e)):n&&r.push(a(n,l,0),a(n,l,e));break}n&&(r.push(a(n,l,0)),n=null),r.push(l),i=l}}return r}(u,"x"===r?n.getWidth():n.getHeight()),f=d.length;if(!f&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var p=d[0].coord-10,g=d[f-1].coord+10,m=g-p;if(m<.001)return"transparent";Y(d,(function(t){t.offset=(t.coord-p)/m})),d.push({offset:f?d[f-1].offset:.5,color:c[1]||"transparent"}),d.unshift({offset:f?d[0].offset:.5,color:c[0]||"transparent"});var v=new tm(0,0,0,0,d,!0);return v[r]=p,v[r+"2"]=g,v}}}function RM(t,e,n){var i=t.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*iM.getSymbolSize(e,a)[t.isHorizontal()?1:0]>i)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return Y(o.getViewLabels(),(function(t){var e=o.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function IM(t,e){return[t[2*e],t[2*e+1]]}function PM(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Xl.length;e++)if(t.get([Xl[e],"endLabel","show"]))return!0;return!1}function EM(t,e,n,i){if(_M(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=PM(i)?function(n,i){t._endLabelOnDuring(n,i,a,s,o,r,e)}:null,u=e.getBaseAxis().isHorizontal(),h=bM(e,n,i,(function(){var e=t._endLabel;e&&n&&null!=s.originalX&&e.attr({x:s.originalX,y:s.originalY})}),l);if(!i.get("clip",!0)){var c=h.shape,d=Math.max(c.width,c.height);u?(c.y-=d,c.height+=2*d):(c.x-=d,c.width+=2*d)}return l&&l(1,h),h}return wM(e,n,i)}var BM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.init=function(){var t=new mo,e=new lM;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=a.getLayout("points")||[],h="polar"===r.type,c=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=!e.ssr&&t.get("animation"),v=!l.isEmpty(),y=l.get("origin"),b=uM(r,a,y),w=v&&function(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),r=px(2*i),o=0;o<i;o++){var a=hM(n,t,e,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(r,a,b),x=t.get("showSymbol"),_=t.get("connectNulls"),C=x&&!h&&RM(t,a,r),S=this._data;S&&S.eachItemGraphicEl((function(t,e){t.__temp&&(o.remove(t),S.setItemGraphicEl(e,null))})),x||d.remove(),o.add(g);var M,A=!h&&t.get("step");r&&r.getArea&&t.get("clip",!0)&&(null!=(M=r.getArea()).width?(M.x-=.1,M.y-=.1,M.width+=.2,M.height+=.2):M.r0&&(M.r0-=.5,M.r+=.5)),this._clipShapeForSymbol=M;var T=kM(a,r,n)||a.getVisual("style")[a.getVisual("drawType")];if(f&&c.type===r.type&&A===this._step){v&&!p?p=this._newPolygon(u,w):p&&!v&&(g.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(t,r,Sc(T));var k=g.getClipPath();if(k)Zu(k,{shape:EM(this,r,!1,t).shape},t);else g.setClipPath(EM(this,r,!0,t));x&&d.updateData(a,{isIgnore:C,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),CM(this._stackedOnPoints,w)&&CM(this._points,u)||(m?this._doUpdateAnimation(a,w,r,n,A,y,_):(A&&(u=TM(u,r,A,_),w&&(w=TM(w,r,A,_))),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:w})))}else x&&d.updateData(a,{isIgnore:C,clipShape:M,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),m&&this._initSymbolLabelAnimation(a,r,M),A&&(u=TM(u,r,A,_),w&&(w=TM(w,r,A,_))),f=this._newPolyline(u),v?p=this._newPolygon(u,w):p&&(g.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(t,r,Sc(T)),g.setClipPath(EM(this,r,!0,t));var R=t.getModel("emphasis"),I=R.get("focus"),P=R.get("blurScope"),E=R.get("disabled");(f.useStyle(G(s.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),Ou(f,t,"lineStyle"),f.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(f.getState("emphasis").style.lineWidth=+f.style.lineWidth+1);Vl(f).seriesIndex=t.seriesIndex,Eu(f,I,P,E);var B=AM(t.get("smooth")),L=t.get("smoothMonotone");if(f.setShape({smooth:B,smoothMonotone:L,connectNulls:_}),p){var D=a.getCalculationInfo("stackedOnSeries"),O=0;p.useStyle(G(l.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),D&&(O=AM(D.get("smooth"))),p.setShape({smooth:B,stackedOnSmooth:O,smoothMonotone:L,connectNulls:_}),Ou(p,t,"areaStyle"),Vl(p).seriesIndex=t.seriesIndex,Eu(p,I,P,E)}var F=function(t){i._changePolyState(t)};a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=F)})),this._polyline.onHoverStateChange=F,this._data=a,this._coordSys=r,this._stackedOnPoints=w,this._points=u,this._step=A,this._valueOrigin=y,t.get("triggerLineEvent")&&(this.packEventData(t,f),p&&this.packEventData(t,p))},e.prototype.packEventData=function(t,e){Vl(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,n,i){var r=t.getData(),o=ga(r,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var a=r.getLayout("points"),s=r.getItemGraphicEl(o);if(!s){var l=a[2*o],u=a[2*o+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var h=t.get("zlevel")||0,c=t.get("z")||0;(s=new iM(r,o)).x=l,s.y=u,s.setZ(h,c);var d=s.getSymbolPath().getTextContent();d&&(d.zlevel=h,d.z=c,d.z2=this._polyline.z2+1),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else Xm.prototype.highlight.call(this,t,e,n,i)},e.prototype.downplay=function(t,e,n,i){var r=t.getData(),o=ga(r,i);if(this._changePolyState("normal"),null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else Xm.prototype.downplay.call(this,t,e,n,i)},e.prototype._changePolyState=function(t){var e=this._polygon;fu(this._polyline,t),e&&fu(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new mM({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new yM({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var i,r,o=e.getBaseAxis(),a=o.inverse;"cartesian2d"===e.type?(i=o.isHorizontal(),r=!1):"polar"===e.type&&(i="angle"===o.dim,r=!0);var s=t.hostModel,l=s.get("animationDuration");ot(l)&&(l=l(null));var u=s.get("animationDelay")||0,h=ot(u)?u(null):u;t.eachItemGraphicEl((function(t,o){var s=t;if(s){var c=[t.x,t.y],d=void 0,f=void 0,p=void 0;if(n)if(r){var g=n,m=e.pointToCoord(c);i?(d=g.startAngle,f=g.endAngle,p=-m[1]/180*Math.PI):(d=g.r0,f=g.r,p=m[0])}else{var v=n;i?(d=v.x,f=v.x+v.width,p=t.x):(d=v.y+v.height,f=v.y,p=t.y)}var y=f===d?0:(p-d)/(f-d);a&&(y=1-y);var b=ot(u)?u(o):l*y+h,w=s.getSymbolPath(),x=w.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),x&&x.animateFrom({style:{opacity:0}},{duration:300,delay:b}),w.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,n){var i=t.getModel("endLabel");if(PM(t)){var r=t.getData(),o=this._polyline,a=r.getLayout("points");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new jl({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(t){for(var e,n,i=t.length/2;i>0&&(e=t[2*i-2],n=t[2*i-1],isNaN(e)||isNaN(n));i--);return i-1}(a);l>=0&&(th(o,eh(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,n){return null!=n?tM(r,n):QS(r,t)},enableTextSetter:!0},function(t,e){var n=e.getBaseAxis(),i=n.isHorizontal(),r=n.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||a}}}(i,e)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,i,r,o,a){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==i.originalX&&(i.originalX=s.x,i.originalY=s.y);var u=n.getLayout("points"),h=n.hostModel,c=h.get("connectNulls"),d=o.get("precision"),f=o.get("distance")||0,p=a.getBaseAxis(),g=p.isHorizontal(),m=p.inverse,v=e.shape,y=m?g?v.x:v.y+v.height:g?v.x+v.width:v.y,b=(g?f:0)*(m?-1:1),w=(g?0:-f)*(m?-1:1),x=g?"x":"y",_=function(t,e,n){for(var i,r,o=t.length/2,a="x"===n?0:1,s=0,l=-1,u=0;u<o;u++)if(r=t[2*u+a],!isNaN(r)&&!isNaN(t[2*u+1-a]))if(0!==u){if(i<=e&&r>=e||i>=e&&r<=e){l=u;break}s=u,i=r}else i=r;return{range:[s,l],t:(e-i)/(r-i)}}(u,y,x),C=_.range,S=C[1]-C[0],M=void 0;if(S>=1){if(S>1&&!c){var A=IM(u,C[0]);s.attr({x:A[0]+b,y:A[1]+w}),r&&(M=h.getRawValue(C[0]))}else{(A=l.getPointOn(y,x))&&s.attr({x:A[0]+b,y:A[1]+w});var T=h.getRawValue(C[0]),k=h.getRawValue(C[1]);r&&(M=Ma(n,d,T,k,_.t))}i.lastFrameIndex=C[0]}else{var R=1===t||i.lastFrameIndex>0?C[0]:0;A=IM(u,R);r&&(M=h.getRawValue(R)),s.attr({x:A[0]+b,y:A[1]+w})}if(r){var I=uh(s);"function"==typeof I.setLabelText&&I.setLabelText(M)}}},e.prototype._doUpdateAnimation=function(t,e,n,i,r,o,a){var s=this._polyline,l=this._polygon,u=t.hostModel,h=function(t,e,n,i,r,o,a,s){for(var l=function(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}(t,e),u=[],h=[],c=[],d=[],f=[],p=[],g=[],m=uM(r,e,a),v=t.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<l.length;b++){var w=l[b],x=!0,_=void 0,C=void 0;switch(w.cmd){case"=":_=2*w.idx,C=2*w.idx1;var S=v[_],M=v[_+1],A=y[C],T=y[C+1];(isNaN(S)||isNaN(M))&&(S=A,M=T),u.push(S,M),h.push(A,T),c.push(n[_],n[_+1]),d.push(i[C],i[C+1]),g.push(e.getRawIndex(w.idx1));break;case"+":var k=w.idx,R=m.dataDimsForPoint,I=r.dataToPoint([e.get(R[0],k),e.get(R[1],k)]);C=2*k,u.push(I[0],I[1]),h.push(y[C],y[C+1]);var P=hM(m,r,e,k);c.push(P[0],P[1]),d.push(i[C],i[C+1]),g.push(e.getRawIndex(k));break;case"-":x=!1}x&&(f.push(w),p.push(p.length))}p.sort((function(t,e){return g[t]-g[e]}));var E=u.length,B=px(E),L=px(E),D=px(E),O=px(E),F=[];for(b=0;b<p.length;b++){var H=p[b],N=2*b,z=2*H;B[N]=u[z],B[N+1]=u[z+1],L[N]=h[z],L[N+1]=h[z+1],D[N]=c[z],D[N+1]=c[z+1],O[N]=d[z],O[N+1]=d[z+1],F[b]=f[H]}return{current:B,next:L,stackedOnCurrent:D,stackedOnNext:O,status:F}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),c=h.current,d=h.stackedOnCurrent,f=h.next,p=h.stackedOnNext;if(r&&(c=TM(h.current,n,r,a),d=TM(h.stackedOnCurrent,n,r,a),f=TM(h.next,n,r,a),p=TM(h.stackedOnNext,n,r,a)),MM(c,f)>3e3||l&&MM(d,p)>3e3)return s.stopAnimation(),s.setShape({points:f}),void(l&&(l.stopAnimation(),l.setShape({points:f,stackedOnPoints:p})));s.shape.__points=h.current,s.shape.points=c;var g={shape:{points:f}};h.current!==c&&(g.shape.__points=h.next),s.stopAnimation(),Gu(s,g,u),l&&(l.setShape({points:c,stackedOnPoints:d}),l.stopAnimation(),Gu(l,{shape:{stackedOnPoints:p}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var m=[],v=h.status,y=0;y<v.length;y++){if("="===v[y].cmd){var b=t.getItemGraphicEl(v[y].idx1);b&&m.push({el:b,ptIdx:y})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var t=s.shape.__points,e=0;e<m.length;e++){var n=m[e].el,i=2*m[e].ptIdx;n.x=t[i],n.y=t[i+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Xm),LM=BM;function DM(t,e){return{seriesType:t,plan:zp(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,r=t.pipelineContext,o=e||r.large;if(i){var a=q(i.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");Zw(n,a[0])&&(a[0]=l),Zw(n,a[1])&&(a[1]=l);var u=n.getStore(),h=n.getDimensionIndex(a[0]),c=n.getDimensionIndex(a[1]);return s&&{progress:function(t,e){for(var n=t.end-t.start,r=o&&px(n*s),a=[],l=[],d=t.start,f=0;d<t.end;d++){var p=void 0;if(1===s){var g=u.get(h,d);p=i.dataToPoint(g,null,l)}else a[0]=u.get(h,d),a[1]=u.get(c,d),p=i.dataToPoint(a,null,l);o?(r[f++]=p[0],r[f++]=p[1]):e.setItemLayout(d,p.slice())}o&&e.setLayout("points",r)}}}}}}var OM={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-1/0,n=-1/0,i=0;i<t.length;i++){var r=t[i],o=Math.abs(r);o>e&&(e=o,n=r)}return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},FM=function(t){return Math.round(t.length/2)};function HM(t){return{seriesType:t,reset:function(t,e,n){var i=t.getData(),r=t.get("sampling"),o=t.coordinateSystem,a=i.count();if(a>10&&"cartesian2d"===o.type&&r){var s=o.getBaseAxis(),l=o.getOtherAxis(s),u=s.getExtent(),h=n.getDevicePixelRatio(),c=Math.abs(u[1]-u[0])*(h||1),d=Math.round(a/c);if(isFinite(d)&&d>1){"lttb"===r&&t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/d));var f=void 0;at(r)?f=OM[r]:ot(r)&&(f=r),f&&t.setData(i.downSample(i.mapDimension(l.dim),1/d,f,FM))}}}}}var NM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){return Kw(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,e,n){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.clampData(t),o=i.dataToPoint(r);if(n)Y(i.getAxes(),(function(t,n){if("category"===t.type&&null!=e){var i=t.getTicksCoords(),a=t.getTickModel().get("alignWithLabel"),s=r[n],l="x1"===e[n]||"y1"===e[n];if(l&&!a&&(s+=1),i.length<2)return;if(2===i.length)return void(o[n]=t.toGlobalCoord(t.getExtent()[l?1:0]));for(var u=void 0,h=void 0,c=1,d=0;d<i.length;d++){var f=i[d].coord,p=d===i.length-1?i[d-1].tickValue+c:i[d].tickValue;if(p===s){h=f;break}if(p<s)u=f;else if(null!=u&&p>s){h=(f+u)/2;break}1===d&&(c=p-i[0].tickValue)}null==h&&(u?u&&(h=i[i.length-1].coord):h=i[0].coord),o[n]=t.toGlobalCoord(h)}}));else{var a=this.getData(),s=a.getLayout("offset"),l=a.getLayout("size"),u=i.getBaseAxis().isHorizontal()?0:1;o[u]+=s+l/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Fp);Fp.registerClass(NM);var zM=NM,WM=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(){return Kw(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Rh(zM.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(zM),jM=WM,VM=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},GM=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new VM},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-r),s=r+a,l=e.startAngle,u=e.endAngle,h=e.clockwise,c=2*Math.PI,d=h?u-l<c:l-u<c;d||(l=u-(h?c:-c));var f=Math.cos(l),p=Math.sin(l),g=Math.cos(u),m=Math.sin(u);d?(t.moveTo(f*r+n,p*r+i),t.arc(f*s+n,p*s+i,a,-Math.PI+l,l,!h)):t.moveTo(f*o+n,p*o+i),t.arc(n,i,o,l,u,!h),t.arc(g*s+n,m*s+i,a,u-2*Math.PI,u-Math.PI,!h),0!==r&&t.arc(n,i,r,u,l,h)},e}(cl),ZM=GM;function UM(t,e,n){return e*Math.sin(t)*(n?-1:1)}function KM(t,e,n){return e*Math.cos(t)*(n?1:-1)}function $M(t,e,n){var i=t.get("borderRadius");if(null==i)return n?{cornerRadius:0}:null;rt(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:q(i,(function(t){return eo(t,r)}))}}var XM=Math.max,YM=Math.min;var qM=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var r=t.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){zm(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,i){var r,o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?r=u.isHorizontal():"polar"===l.type&&(r="angle"===u.dim);var h=t.isAnimationEnabled()?t:null,c=function(t,e){var n=t.get("realtimeSort",!0),i=e.getBaseAxis();0;if(n&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,l);c&&this._enableRealtimeSort(c,a,n);var d=t.get("clip",!0)||c,f=function(t,e){var n=t.getArea&&t.getArea();if(_M(t,"cartesian2d")){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,a);o.removeClipPath();var p=t.get("roundCap",!0),g=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),v=m.get("borderRadius")||0,y=[],b=this._backgroundEls,w=i&&i.isInitSort,x=i&&"changeAxisOrder"===i.type;function _(t){var e=oA[l.type](a,t),n=function(t,e,n){var i="polar"===t.type?kg:Al;return new i({shape:dA(e,n,t),silent:!0,z2:0})}(l,r,e);return n.useStyle(m.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",v):n.setShape("cornerRadius",v),y[t]=n,n}a.diff(s).add((function(e){var n=a.getItemModel(e),i=oA[l.type](a,e,n);if(g&&_(e),a.hasValue(e)&&rA[l.type](i)){var s=!1;d&&(s=JM[l.type](f,i));var m=QM[l.type](t,a,e,i,r,h,u.model,!1,p);c&&(m.forceLabelAnimation=!0),sA(m,a,e,n,i,t,r,"polar"===l.type),w?m.attr({shape:i}):c?tA(c,h,m,i,e,r,!1,!1):Zu(m,{shape:i},t,e),a.setItemGraphicEl(e,m),o.add(m),m.ignore=s}})).update((function(e,n){var i=a.getItemModel(e),C=oA[l.type](a,e,i);if(g){var S=void 0;0===b.length?S=_(n):((S=b[n]).useStyle(m.getItemStyle()),"cartesian2d"===l.type?S.setShape("r",v):S.setShape("cornerRadius",v),y[e]=S);var M=oA[l.type](a,e);Gu(S,{shape:dA(r,M,l)},h,e)}var A=s.getItemGraphicEl(n);if(a.hasValue(e)&&rA[l.type](C)){var T=!1;if(d&&(T=JM[l.type](f,C))&&o.remove(A),A?Yu(A):A=QM[l.type](t,a,e,C,r,h,u.model,!!A,p),c&&(A.forceLabelAnimation=!0),x){var k=A.getTextContent();if(k){var R=uh(k);null!=R.prevValue&&(R.prevValue=R.value)}}else sA(A,a,e,i,C,t,r,"polar"===l.type);w?A.attr({shape:C}):c?tA(c,h,A,C,e,r,!0,x):Gu(A,{shape:C},t,e,null),a.setItemGraphicEl(e,A),A.ignore=T,o.add(A)}else o.remove(A)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&Xu(n,t,e)})).execute();var C=this._backgroundGroup||(this._backgroundGroup=new mo);C.removeAll();for(var S=0;S<y.length;++S)C.add(y[S]);o.add(C),this._backgroundEls=y,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),hA(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),hA(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&xM(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var i=this;if(e.count()){var r=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var o=function(t){var n=e.getItemGraphicEl(t),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,o,r,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var i=[];return t.each(t.mapDimension(e.dim),(function(t,e){var r=n(e);r=null==r?NaN:r,i.push({dataIndex:e,mappedValue:r,ordinalNumber:t})})),i.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:q(i,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,r=t.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=i.getOrdinalMeta().categories.length;a<s;++a){var l=t.rawIndexOf(r,i.getRawOrdinalNumber(a)),u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=n.getExtent(),r=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=o;++r)if(t.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,i){if(this._isOrderChangedWithinSameData(t,e,n)){var r=this._dataSort(t,n,e);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},e.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,r=this._dataSort(t,i,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){Xu(e,t,Vl(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Xm),JM={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=t.x+t.width,o=t.y+t.height,a=XM(e.x,t.x),s=YM(e.x+e.width,r),l=XM(e.y,t.y),u=YM(e.y+e.height,o),h=s<a,c=u<l;return e.x=h&&a>r?s:a,e.y=c&&l>o?u:l,e.width=h?0:s-a,e.height=c?0:u-l,n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),h||c},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var i=e.r;e.r=e.r0,e.r0=i}var r=YM(e.r,t.r),o=XM(e.r0,t.r0);e.r=r,e.r0=o;var a=r-o<0;if(n<0){i=e.r;e.r=e.r0,e.r0=i}return a}},QM={cartesian2d:function(t,e,n,i,r,o,a,s,l){var u=new Al({shape:V({},i),z2:1});(u.__dataIndex=n,u.name="item",o)&&(u.shape[r?"height":"width"]=0);return u},polar:function(t,e,n,i,r,o,a,s,l){var u=!r&&l?ZM:kg,h=new u({shape:i,z2:1});h.name="item";var c,d,f=aA(r);if(h.calculateTextPosition=(c=f,d=({isRoundCap:u===ZM}||{}).isRoundCap,function(t,e,n){var i=e.position;if(!i||i instanceof Array)return no(t,e,n);var r=c(i),o=null!=e.distance?e.distance:5,a=this.shape,s=a.cx,l=a.cy,u=a.r,h=a.r0,f=(u+h)/2,p=a.startAngle,g=a.endAngle,m=(p+g)/2,v=d?Math.abs(u-h)/2:0,y=Math.cos,b=Math.sin,w=s+u*y(p),x=l+u*b(p),_="left",C="top";switch(r){case"startArc":w=s+(h-o)*y(m),x=l+(h-o)*b(m),_="center",C="top";break;case"insideStartArc":w=s+(h+o)*y(m),x=l+(h+o)*b(m),_="center",C="bottom";break;case"startAngle":w=s+f*y(p)+UM(p,o+v,!1),x=l+f*b(p)+KM(p,o+v,!1),_="right",C="middle";break;case"insideStartAngle":w=s+f*y(p)+UM(p,-o+v,!1),x=l+f*b(p)+KM(p,-o+v,!1),_="left",C="middle";break;case"middle":w=s+f*y(m),x=l+f*b(m),_="center",C="middle";break;case"endArc":w=s+(u+o)*y(m),x=l+(u+o)*b(m),_="center",C="bottom";break;case"insideEndArc":w=s+(u-o)*y(m),x=l+(u-o)*b(m),_="center",C="top";break;case"endAngle":w=s+f*y(g)+UM(g,o+v,!0),x=l+f*b(g)+KM(g,o+v,!0),_="left",C="middle";break;case"insideEndAngle":w=s+f*y(g)+UM(g,-o+v,!0),x=l+f*b(g)+KM(g,-o+v,!0),_="right",C="middle";break;default:return no(t,e,n)}return(t=t||{}).x=w,t.y=x,t.align=_,t.verticalAlign=C,t}),o){var p=r?"r":"endAngle",g={};h.shape[p]=r?i.r0:i.startAngle,g[p]=i[p],(s?Gu:Zu)(h,{shape:g},o)}return h}};function tA(t,e,n,i,r,o,a,s){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?Gu:Zu)(n,{shape:l},e,r,null),(a?Gu:Zu)(n,{shape:u},e?t.baseAxis.model:null,r)}function eA(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var nA=["x","y","width","height"],iA=["cx","cy","r","startAngle","endAngle"],rA={cartesian2d:function(t){return!eA(t,nA)},polar:function(t){return!eA(t,iA)}},oA={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?function(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=t.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,o)}(n,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function aA(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function sA(t,e,n,i,r,o,a,s){var l=e.getItemVisual(n,"style");if(s){if(!o.get("roundCap")){var u=t.shape;V(u,$M(i.getModel("itemStyle"),u,!0)),t.setShape(u)}}else{var h=i.get(["itemStyle","borderRadius"])||0;t.setShape("r",h)}t.useStyle(l);var c=i.getShallow("cursor");c&&t.attr("cursor",c);var d=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",f=eh(i);th(t,f,{labelFetcher:o,labelDataIndex:n,defaultText:QS(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var p=t.getTextContent();if(s&&p){var g=i.get(["label","position"]);t.textConfig.inside="middle"===g||null,function(t,e,n,i){if(lt(i))t.setTextConfig({rotation:i});else if(rt(e))t.setTextConfig({rotation:0});else{var r,o=t.shape,a=o.clockwise?o.startAngle:o.endAngle,s=o.clockwise?o.endAngle:o.startAngle,l=(a+s)/2,u=n(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=l;break;case"startAngle":case"insideStartAngle":r=a;break;case"endAngle":case"insideEndAngle":r=s;break;default:return void t.setTextConfig({rotation:0})}var h=1.5*Math.PI-r;"middle"===u&&h>Math.PI/2&&h<1.5*Math.PI&&(h-=Math.PI),t.setTextConfig({rotation:h})}}(t,"outside"===g?d:g,aA(a),i.get(["label","rotate"]))}hh(p,f,o.getRawValue(n),(function(t){return tM(e,t)}));var m=i.getModel(["emphasis"]);Eu(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),Ou(t,i),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(r)&&(t.style.fill="none",t.style.stroke="none",Y(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var lA=function(){},uA=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new lA},e.prototype.buildPath=function(t,e){for(var n=e.points,i=this.baseDimIdx,r=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l<n.length;l+=3)a[i]=s,a[r]=n[l+2],o[i]=n[l+i],o[r]=n[l+r],t.rect(o[0],o[1],a[0],a[1])},e}(cl);function hA(t,e,n,i){var r=t.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=t.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var h=new uA({shape:{points:u},incremental:!!i,silent:!0,z2:0});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,h.useStyle(l.getItemStyle()),e.add(h),n&&n.push(h)}var c=new uA({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,e.add(c),c.useStyle(r.getVisual("style")),Vl(c).seriesIndex=t.seriesIndex,t.get("silent")||(c.on("mousedown",cA),c.on("mousemove",cA)),n&&n.push(c)}var cA=Qm((function(t){var e=function(t,e,n){for(var i=t.baseDimIdx,r=1-i,o=t.shape.points,a=t.largeDataIndices,s=[],l=[],u=t.barWidth,h=0,c=o.length/3;h<c;h++){var d=3*h;if(l[i]=u,l[r]=o[d+2],s[i]=o[d+i],s[r]=o[d+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return a[h]}return-1}(this,t.offsetX,t.offsetY);Vl(this).dataIndex=e>=0?e:null}),30,!1);function dA(t,e,n){if(_M(n,"cartesian2d")){var i=e,r=n.getArea();return{x:t?i.x:r.x,y:t?r.y:i.y,width:t?i.width:r.width,height:t?r.height:i.height}}var o=e;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:t?r.r0:o.r0,r:t?r.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:2*Math.PI}}var fA=qM;var pA=2*Math.PI,gA=Math.PI/180;function mA(t,e){return Pc(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function vA(t,e){var n=mA(t,e),i=t.get("center"),r=t.get("radius");rt(r)||(r=[0,r]);var o,a,s=Po(n.width,e.getWidth()),l=Po(n.height,e.getHeight()),u=Math.min(s,l),h=Po(r[0],u/2),c=Po(r[1],u/2),d=t.coordinateSystem;if(d){var f=d.dataToPoint(i);o=f[0]||0,a=f[1]||0}else rt(i)||(i=[i,i]),o=Po(i[0],s)+n.x,a=Po(i[1],l)+n.y;return{cx:o,cy:a,r0:h,r:c}}function yA(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.getData(),i=e.mapDimension("value"),r=mA(t,n),o=vA(t,n),a=o.cx,s=o.cy,l=o.r,u=o.r0,h=-t.get("startAngle")*gA,c=t.get("endAngle"),d=t.get("padAngle")*gA;c="auto"===c?h-pA:-c*gA;var f=t.get("minAngle")*gA+d,p=0;e.each(i,(function(t){!isNaN(t)&&p++}));var g=e.getSum(i),m=Math.PI/(g||p)*2,v=t.get("clockwise"),y=t.get("roseType"),b=t.get("stillShowZeroSum"),w=e.getDataExtent(i);w[0]=0;var x=v?1:-1,_=[h,c],C=x*d/2;js(_,!v),h=_[0],c=_[1];var S=Math.abs(c-h),M=S,A=0,T=h;if(e.setLayout({viewRect:r,r:l}),e.each(i,(function(t,n){var i;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:a,cy:s,r0:u,r:y?NaN:l});else{(i="area"!==y?0===g&&b?m:t*m:S/p)<f?(i=f,M-=f):A+=t;var r=T+x*i,o=0,h=0;d>i?h=o=T+x*i/2:(o=T+C,h=r-C),e.setItemLayout(n,{angle:i,startAngle:o,endAngle:h,clockwise:v,cx:a,cy:s,r0:u,r:y?Io(t,w,[u,l]):l}),T=r}})),M<pA&&p)if(M<=.001){var k=S/p;e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n);i.angle=k;var r=0,o=0;k<d?o=r=h+x*(n+.5)*k:(r=h+x*n*k+C,o=h+x*(n+1)*k-C),i.startAngle=r,i.endAngle=o}}))}else m=M/A,T=h,e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n),r=i.angle===f?f:t*m,o=0,a=0;r<d?a=o=T+x*r/2:(o=T+C,a=T+x*r-C),i.startAngle=o,i.endAngle=a,T+=x*r}}))}))}function bA(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var i=t.getData();i.filterSelf((function(t){for(var e=i.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(e))return!1;return!0}))}}}}var wA=Math.PI/180;function xA(t,e,n,i,r,o,a,s,l,u){if(!(t.length<2)){for(var h=t.length,c=0;c<h;c++)if("outer"===t[c].position&&"labelLine"===t[c].labelAlignTo){var d=t[c].label.x-u;t[c].linePoints[1][0]+=d,t[c].label.x=u}gC(t,l,l+a)&&function(t){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<t.length;s++)if("none"===t[s].labelAlignTo){var l=t[s],u=l.label.y>n?a:o,h=Math.abs(l.label.y-n);if(h>=u.maxY){var c=l.label.x-e-l.len2*r,d=i+l.len,p=Math.abs(c)<d?Math.sqrt(h*h/(1-c*c/d/d)):d;u.rB=p,u.maxY=h}u.list.push(l)}f(o),f(a)}(t)}function f(t){for(var o=t.rB,a=o*o,s=0;s<t.list.length;s++){var l=t.list[s],u=Math.abs(l.label.y-n),h=i+l.len,c=h*h,d=Math.sqrt((1-Math.abs(u*u/a))*c),f=e+(d+l.len2)*r,p=f-l.label.x;_A(l,l.targetTextWidth-p*r,!0),l.label.x=f}}}function _A(t,e,n){if(void 0===n&&(n=!1),null==t.labelStyleWidth){var i=t.label,r=i.style,o=t.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,h=o.width+(a?0:l);if(e<h||n){var c=o.height;if(u&&u.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var d=i.getBoundingRect();i.setStyle("width",Math.ceil(d.width)),i.setStyle("backgroundColor",a)}else{var f=e-l,p=e<h?f:n?f>t.unconstrainedWidth?null:f:null;i.setStyle("width",p)}var g=i.getBoundingRect();o.width=g.width;var m=(i.style.margin||0)+2.1;o.height=g.height+m,o.y-=(o.height-c)/2}}}function CA(t){return"center"===t.position}function SA(t){var e,n,i=t.getData(),r=[],o=!1,a=(t.get("minShowLabelAngle")||0)*wA,s=i.getLayout("viewRect"),l=i.getLayout("r"),u=s.width,h=s.x,c=s.y,d=s.height;function f(t){t.ignore=!0}i.each((function(t){var s=i.getItemGraphicEl(t),c=s.shape,d=s.getTextContent(),p=s.getTextGuideLine(),g=i.getItemModel(t),m=g.getModel("label"),v=m.get("position")||g.get(["emphasis","label","position"]),y=m.get("distanceToLabelLine"),b=m.get("alignTo"),w=Po(m.get("edgeDistance"),u),x=m.get("bleedMargin"),_=g.getModel("labelLine"),C=_.get("length");C=Po(C,u);var S=_.get("length2");if(S=Po(S,u),Math.abs(c.endAngle-c.startAngle)<a)return Y(d.states,f),d.ignore=!0,void(p&&(Y(p.states,f),p.ignore=!0));if(function(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}(d)){var M,A,T,k,R=(c.startAngle+c.endAngle)/2,I=Math.cos(R),P=Math.sin(R);e=c.cx,n=c.cy;var E="inside"===v||"inner"===v;if("center"===v)M=c.cx,A=c.cy,k="center";else{var B=(E?(c.r+c.r0)/2*I:c.r*I)+e,L=(E?(c.r+c.r0)/2*P:c.r*P)+n;if(M=B+3*I,A=L+3*P,!E){var D=B+I*(C+l-c.r),O=L+P*(C+l-c.r),F=D+(I<0?-1:1)*S;M="edge"===b?I<0?h+w:h+u-w:F+(I<0?-y:y),A=O,T=[[B,L],[D,O],[F,O]]}k=E?"center":"edge"===b?I>0?"right":"left":I>0?"left":"right"}var H=Math.PI,N=0,z=m.get("rotate");if(lt(z))N=z*(H/180);else if("center"===v)N=0;else if("radial"===z||!0===z){N=I<0?-R+H:-R}else if("tangential"===z&&"outside"!==v&&"outer"!==v){var W=Math.atan2(I,P);W<0&&(W=2*H+W),P>0&&(W=H+W),N=W-H}if(o=!!N,d.x=M,d.y=A,d.rotation=N,d.setStyle({verticalAlign:"middle"}),E){d.setStyle({align:k});var j=d.states.select;j&&(j.x+=d.x,j.y+=d.y)}else{var V=d.getBoundingRect().clone();V.applyTransform(d.getComputedTransform());var G=(d.style.margin||0)+2.1;V.y-=G/2,V.height+=G,r.push({label:d,labelLine:p,position:v,len:C,len2:S,minTurnAngle:_.get("minTurnAngle"),maxSurfaceAngle:_.get("maxSurfaceAngle"),surfaceNormal:new Ue(I,P),linePoints:T,textAlign:k,labelDistance:y,labelAlignTo:b,edgeDistance:w,bleedMargin:x,rect:V,unconstrainedWidth:V.width,labelStyleWidth:d.style.width})}s.setTextConfig({inside:E})}})),!o&&t.get("avoidLabelOverlap")&&function(t,e,n,i,r,o,a,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=0;d<t.length;d++){var f=t[d].label;CA(t[d])||(f.x<e?(h=Math.min(h,f.x),l.push(t[d])):(c=Math.max(c,f.x),u.push(t[d])))}for(d=0;d<t.length;d++)if(!CA(m=t[d])&&m.linePoints){if(null!=m.labelStyleWidth)continue;f=m.label;var p=m.linePoints,g=void 0;g="edge"===m.labelAlignTo?f.x<e?p[2][0]-m.labelDistance-a-m.edgeDistance:a+r-m.edgeDistance-p[2][0]-m.labelDistance:"labelLine"===m.labelAlignTo?f.x<e?h-a-m.bleedMargin:a+r-c-m.bleedMargin:f.x<e?f.x-a-m.bleedMargin:a+r-f.x-m.bleedMargin,m.targetTextWidth=g,_A(m,g)}for(xA(u,e,n,i,1,0,o,0,s,c),xA(l,e,n,i,-1,0,o,0,s,h),d=0;d<t.length;d++){var m;if(!CA(m=t[d])&&m.linePoints){f=m.label,p=m.linePoints;var v="edge"===m.labelAlignTo,y=f.style.padding,b=y?y[1]+y[3]:0,w=f.style.backgroundColor?0:b,x=m.rect.width+w,_=p[1][0]-p[2][0];v?f.x<e?p[2][0]=a+m.edgeDistance+x+m.labelDistance:p[2][0]=a+r-m.edgeDistance-x-m.labelDistance:(f.x<e?p[2][0]=f.x+m.labelDistance:p[2][0]=f.x-m.labelDistance,p[1][0]=p[2][0]+_),p[1][1]=p[2][1]=f.y}}}(r,e,n,l,u,d,h,c);for(var p=0;p<r.length;p++){var g=r[p],m=g.label,v=g.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),y&&(Y(m.states,f),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(v){var w=g.linePoints;y||!w?(Y(v.states,f),v.ignore=!0):(sC(w,g.minTurnAngle),lC(w,g.surfaceNormal,g.maxSurfaceAngle),v.setShape({points:w}),m.__hostTarget.textGuideLineConfig={anchor:new Ue(w[0][0],w[0][1])})}}}var MA=function(t){function e(e,n,i){var r=t.call(this)||this;r.z2=2;var o=new jl;return r.setTextContent(o),r.updateData(e,n,i,!0),r}return(0,g.ZT)(e,t),e.prototype.updateData=function(t,e,n,i){var r=this,o=t.hostModel,a=t.getItemModel(e),s=a.getModel("emphasis"),l=t.getItemLayout(e),u=V($M(a.getModel("itemStyle"),l,!0),l);if(isNaN(u.startAngle))r.setShape(u);else{if(i){r.setShape(u);var h=o.getShallow("animationType");o.ecModel.ssr?(Zu(r,{scaleX:0,scaleY:0},o,{dataIndex:e,isFrom:!0}),r.originX=u.cx,r.originY=u.cy):"scale"===h?(r.shape.r=l.r0,Zu(r,{shape:{r:l.r}},o,e)):null!=n?(r.setShape({startAngle:n,endAngle:n}),Zu(r,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},o,e)):(r.shape.endAngle=l.startAngle,Gu(r,{shape:{endAngle:l.endAngle}},o,e))}else Yu(r),Gu(r,{shape:u},o,e);r.useStyle(t.getItemVisual(e,"style")),Ou(r,a);var c=(l.startAngle+l.endAngle)/2,d=o.get("selectedOffset"),f=Math.cos(c)*d,p=Math.sin(c)*d,g=a.getShallow("cursor");g&&r.attr("cursor",g),this._updateLabel(o,t,e),r.ensureState("emphasis").shape=V({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},$M(s.getModel("itemStyle"),l)),V(r.ensureState("select"),{x:f,y:p,shape:$M(a.getModel(["select","itemStyle"]),l)}),V(r.ensureState("blur"),{shape:$M(a.getModel(["blur","itemStyle"]),l)});var m=r.getTextGuideLine(),v=r.getTextContent();m&&V(m.ensureState("select"),{x:f,y:p}),V(v.ensureState("select"),{x:f,y:p}),Eu(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},e.prototype._updateLabel=function(t,e,n){var i=this,r=e.getItemModel(n),o=r.getModel("labelLine"),a=e.getItemVisual(n,"style"),s=a&&a.fill,l=a&&a.opacity;th(i,eh(r),{labelFetcher:e.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(n,"normal")||e.getName(n)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null}),u.attr({z2:10});var h=t.get(["label","position"]);if("outside"!==h&&"outer"!==h)i.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new Hg,this.setTextGuideLine(c)),cC(this,dC(r),{stroke:s,opacity:bt(o.get(["lineStyle","opacity"]),l,1)})}},e}(kg),AA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){var r,o=t.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(r=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var h=new kg({shape:vA(t,n)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,s.add(h)}o.diff(a).add((function(t){var e=new MA(o,t,r);o.setItemGraphicEl(t,e),s.add(e)})).update((function(t,e){var n=a.getItemGraphicEl(e);n.updateData(o,t,r),n.off("click"),s.add(n),o.setItemGraphicEl(t,n)})).remove((function(e){Xu(a.getItemGraphicEl(e),t,e)})).execute(),SA(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},e.type="pie",e}(Xm),TA=AA;function kA(t,e,n){e=rt(e)&&{coordDimensions:e}||V({encodeDefine:t.getEncode()},e);var i=t.getSource(),r=Nw(i,e).dimensions,o=new Fw(r,t);return o.initData(i,n),o}var RA=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),IA=RA,PA=ma(),EA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(nt(this.getData,this),nt(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return kA(this,{coordDimensions:["value"],encodeDefaulter:it(id,this)})},e.prototype.getDataParams=function(e){var n=this.getData(),i=PA(n),r=i.seats;if(!r){var o=[];n.each(n.mapDimension("value"),(function(t){o.push(t)})),r=i.seats=Ho(o,n.hostModel.get("percentPrecision"))}var a=t.prototype.getDataParams.call(this,e);return a.percent=r[e]||0,a.$vars.push("percent"),a},e.prototype._defaultLabelLine=function(t){oa(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Fp),BA=EA;var LA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){return Kw(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Fp),DA=LA,OA=function(){},FA=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new OA},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var n,i=e.points,r=e.size,o=this.symbolProxy,a=o.shape,s=t.getContext?t.getContext():t,l=s&&r[0]<4,u=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<i.length;){var h=i[n++],c=i[n++];isNaN(h)||isNaN(c)||(u&&!u.contain(h,c)||(a.x=h-r[0]/2,a.y=c-r[1]/2,a.width=r[0],a.height=r[1],o.buildPath(t,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,i=e.size,r=this._ctx,o=this.softClipShape;if(r){for(t=this._off;t<n.length;){var a=n[t++],s=n[t++];isNaN(a)||isNaN(s)||(o&&!o.contain(a,s)||r.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-o/2,h=i[l+1]-a/2;if(t>=u&&e>=h&&t<=u+o&&e<=h+a)return s}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.points,i=e.size,r=i[0],o=i[1],a=1/0,s=1/0,l=-1/0,u=-1/0,h=0;h<n.length;){var c=n[h++],d=n[h++];a=Math.min(c,a),l=Math.max(c,l),s=Math.min(d,s),u=Math.max(d,u)}t=this._rect=new nn(a-r/2,s-o/2,l-a+r,u-s+o)}return t},e}(cl),HA=function(){function t(){this.group=new mo}return t.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],r=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),i.endIndex=t.end,i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:r}),this._setCommon(l,e,n)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new FA({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var r=e.getVisual("symbolSize");t.setShape("size",r instanceof Array?r:[r,r]),t.softClipShape=n.clipShape||null,t.symbolProxy=oy(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("style"),s=a&&a.fill;s&&t.setColor(s);var l=Vl(t);l.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){l.dataIndex=null;var n=t.hoverDataIdx;n>=0&&(l.dataIndex=n+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),NA=HA,zA=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var r=DM("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var e=t.coordinateSystem;return e&&e.getArea&&e.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,i=e.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new NA:new lM,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Xm),WA=zA,jA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Nc),VA=jA,GA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",wa).models[0]},e.type="cartesian2dAxis",e}(Nc);$(GA,a_);var ZA={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},UA=W({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ZA),KA=W({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},ZA),$A={category:UA,value:KA,time:W({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},KA),log:G({logBase:10},KA)},XA={value:1,category:1,time:1,log:1};function YA(t,e,n,i){Y(XA,(function(r,o){var a=W(W({},$A[o],!0),i,!0),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+o,n}return(0,g.ZT)(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=Bc(this),i=n?Dc(t):{};W(t,e.getTheme().get(o+"Axis")),W(t,this.getDefaultOption()),t.type=qA(t),n&&Lc(t,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Jw.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+o,n.defaultOption=a,n}(n);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",qA)}function qA(t){return t.type||(t.data?"category":"value")}var JA=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return q(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Q(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),QA=["x","y"];function tT(t){return"interval"===t.type||"time"===t.type}var eT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=QA,e}return(0,g.ZT)(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(tT(t)&&tT(e)){var n=t.getExtent(),i=e.getExtent(),r=this.dataToPoint([n[0],i[0]]),o=this.dataToPoint([n[1],i[1]]),a=n[1]-n[0],s=i[1]-i[0];if(a&&s){var l=(o[0]-r[0])/a,u=(o[1]-r[1])/s,h=r[0]-n[0]*l,c=r[1]-i[0]*u,d=this._transform=[l,0,0,u,h,c];this._invTransform=Ve([],d)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,e){var n=this.dataToPoint(t),i=this.dataToPoint(e),r=this.getArea(),o=new nn(n[0],n[1],i[0]-n[0],i[1]-n[1]);return r.intersect(o)},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],r=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return oe(n,t,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(i,e)),n[1]=a.toGlobalCoord(a.dataToCoord(r,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return oe(n,t,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),e),n[1]=r.coordToData(r.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(t){t=t||0;var e=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1])-t,r=Math.min(n[0],n[1])-t,o=Math.max(e[0],e[1])-i+t,a=Math.max(n[0],n[1])-r+t;return new nn(i,r,o,a)},e}(JA),nT=eT,iT=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.index=0,a.type=r||"value",a.position=o||"bottom",a}return(0,g.ZT)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(H_),rT=iT;function oT(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=i.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===u?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===u?p[d[l]]:c[0],"x"===u?p[d[l]]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),vt(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-m:m,o.z2=1,o}function aT(t){return"cartesian2d"===t.get("coordinateSystem")}function sT(t){var e={xAxisModel:null,yAxisModel:null};return Y(e,(function(n,i){var r=i.replace(/Model$/,""),o=t.getReferringComponents(r,wa).models[0];e[i]=o})),e}var lT=Math.log;function uT(t,e,n){var i=cx.prototype,r=i.getTicks.call(n),o=i.getTicks.call(n,!0),a=r.length-1,s=i.getInterval.call(n),l=qx(t,e),u=l.extent,h=l.fixMin,c=l.fixMax;if("log"===t.type){var d=lT(t.base);u=[lT(u[0])/d,lT(u[1])/d]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:a,fixMin:h,fixMax:c});var f=i.getExtent.call(t);h&&(u[0]=f[0]),c&&(u[1]=f[1]);var p=i.getInterval.call(t),g=u[0],m=u[1];if(h&&c)p=(m-g)/a;else if(h)for(m=u[0]+p*a;m<u[1]&&isFinite(m)&&isFinite(u[1]);)p=ex(p),m=u[0]+p*a;else if(c)for(g=u[1]-p*a;g>u[0]&&isFinite(g)&&isFinite(u[0]);)p=ex(p),g=u[1]-p*a;else{t.getTicks().length-1>a&&(p=ex(p));var v=p*a;(g=Eo((m=Math.ceil(u[1]/p)*p)-v))<0&&u[0]>=0?(g=0,m=Eo(v)):m>0&&u[1]<=0&&(m=0,g=-Eo(v))}var y=(r[0].value-o[0].value)/s,b=(r[a].value-o[a].value)/s;i.setExtent.call(t,g+p*y,m+p*b),i.setInterval.call(t,p),(y||b)&&i.setNiceExtent.call(t,g+p,m-p)}var hT=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=QA,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function i(t){var e,n=et(t),i=n.length;if(i){for(var r=[],o=i-1;o>=0;o--){var a=t[+n[o]],s=a.model,l=a.scale;Qw(l)&&s.get("alignTicks")&&null==s.get("interval")?r.push(a):(Jx(l,s),Qw(l)&&(e=a))}r.length&&(e||Jx((e=r.pop()).scale,e.model),Y(r,(function(t){uT(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),i(n.x),i(n.y);var r={};Y(n.x,(function(t){dT(n,"y",t,r)})),Y(n.y,(function(t){dT(n,"x",t,r)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),r=!n&&t.get("containLabel"),o=Pc(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;function s(){Y(a,(function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),function(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?o.x:o.y)}))}s(),r&&(Y(a,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=function(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var i,r,o=n.getExtent();r=n instanceof lx?n.count():(i=n.getTicks()).length;var a,s=t.getLabelModel(),l=t_(t),u=1;r>40&&(u=Math.ceil(r/40));for(var h=0;h<r;h+=u){var c=l(i?i[h]:{value:o[0]+h},h),d=n_(s.getTextRect(c),s.get("rotate")||0);a?a.union(d):a=d}return a}}(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);o[n]-=e[n]+i,"top"===t.position?o.y+=e.height+i:"left"===t.position&&(o.x+=e.width+i)}}})),s()),Y(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}ut(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,r=t.xAxisModel||i&&i.getReferringComponents("xAxis",wa).models[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis",wa).models[0],a=t.gridModel,s=this._coordsList;if(i)U(s,e=i.coordinateSystem)<0&&(e=null);else if(r&&o)e=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,i){if(cT(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var u=new rT(e,Qx(n),[0,0],n.get("type"),l),h="category"===u.type;u.onBand=h&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=r,u.index=i,r._axesList.push(u),a[e][i]=u,s[e]++}}}this._axesMap=a,Y(a.x,(function(e,n){Y(a.y,(function(r,o){var a="x"+n+"y"+o,s=new nT(a);s.master=i,s.model=t,i._coordsMap[a]=s,i._coordsList.push(s),s.addAxis(e),s.addAxis(r)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){Y(o_(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}Y(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(aT(t)){var i=sT(t),r=i.xAxisModel,o=i.yAxisModel;if(!cT(r,e)||!cT(o,e))return;var a=this.getCartesian(r.componentIndex,o.componentIndex),s=t.getData(),l=a.getAxis("x"),u=a.getAxis("y");n(s,l),n(s,u)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return Y(this.getCartesians(),(function(i){var r=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(r);U(e,r)<0&&e.push(r),U(n,o)<0&&n.push(o)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var i=[];return e.eachComponent("grid",(function(r,o){var a=new t(r,e,n);a.name="grid_"+o,a.resize(r,n,!0),r.coordinateSystem=a,i.push(a)})),e.eachSeries((function(t){if(aT(t)){var e=sT(t),n=e.xAxisModel,i=e.yAxisModel;0;var r=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}})),i},t.dimensions=QA,t}();function cT(t,e){return t.getCoordSysModel()===e}function dT(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)fT(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&fT(o[u])&&!i[h(o[u])]){r=o[u];break}r&&(i[h(r)]=!0)}function h(t){return t.dim+"_"+t.index}}function fT(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}(t)}var pT=hT,gT=Math.PI,mT=function(){function t(t,e){this.group=new mo,this.opt=e,this.axisModel=t,G(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new mo({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!vT[t]},t.prototype.add=function(t){vT[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var i,r,o=Wo(e-t);return jo(o)?(r=n>0?"top":"bottom",i="center"):jo(o-gT)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<gT?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),vT={axisLine:function(t,e,n,i){var r=e.get(["axisLine","show"]);if("auto"===r&&t.handleAutoShown&&(r=t.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0],u=s[0]>l[0];a&&(oe(s,s,a),oe(l,l,a));var h=V({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new jg({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Sm(c.shape,c.style.lineWidth),c.anid="line",n.add(c);var d=e.get(["axisLine","symbol"]);if(null!=d){var f=e.get(["axisLine","symbolSize"]);at(d)&&(d=[d,d]),(at(f)||lt(f))&&(f=[f,f]);var p=sy(e.get(["axisLine","symbolOffset"])||0,f),g=f[0],m=f[1];Y([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,i){if("none"!==d[i]&&null!=d[i]){var r=oy(d[i],-g/2,-m/2,g,m,h.stroke,!0),o=e.r+e.offset,a=u?l:s;r.attr({rotation:e.rotate,x:a[0]+o*Math.cos(t.rotation),y:a[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),n.add(r)}}))}}},axisTickLabel:function(t,e,n,i){var r=function(t,e,n,i){var r=n.axis,o=n.getModel("axisTick"),a=o.get("show");"auto"===a&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick"));if(!a||r.scale.isBlank())return;for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=xT(r.getTicksCoords(),e.transform,l,G(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)t.add(u[h]);return u}(n,i,e,t),o=function(t,e,n,i){var r=n.axis,o=vt(i.axisLabelShow,n.get(["axisLabel","show"]));if(!o||r.scale.isBlank())return;var a=n.getModel("axisLabel"),s=a.get("margin"),l=r.getViewLabels(),u=(vt(i.labelRotate,a.get("rotate"))||0)*gT/180,h=mT.innerTextLayout(i.rotation,u,i.labelDirection),c=n.getCategories&&n.getCategories(!0),d=[],f=mT.isLabelSilent(n),p=n.get("triggerEvent");return Y(l,(function(o,u){var g="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(o.tickValue):o.tickValue,m=o.formattedLabel,v=o.rawLabel,y=a;if(c&&c[g]){var b=c[g];ut(b)&&b.textStyle&&(y=new Ah(b.textStyle,a,n.ecModel))}var w=y.getTextColor()||n.get(["axisLine","lineStyle","color"]),x=r.dataToCoord(g),_=y.getShallow("align",!0)||h.textAlign,C=yt(y.getShallow("alignMinLabel",!0),_),S=yt(y.getShallow("alignMaxLabel",!0),_),M=y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||h.textVerticalAlign,A=yt(y.getShallow("verticalAlignMinLabel",!0),M),T=yt(y.getShallow("verticalAlignMaxLabel",!0),M),k=new jl({x:x,y:i.labelOffset+i.labelDirection*s,rotation:h.rotation,silent:f,z2:10+(o.level||0),style:nh(y,{text:m,align:0===u?C:u===l.length-1?S:_,verticalAlign:0===u?A:u===l.length-1?T:M,fill:ot(w)?w("category"===r.type?v:"value"===r.type?g+"":g,u):w})});if(k.anid="label_"+g,p){var R=mT.makeAxisEventDataBase(n);R.targetType="axisLabel",R.value=v,R.tickIndex=u,"category"===r.type&&(R.dataIndex=g),Vl(k).eventData=R}e.add(k),k.updateTransform(),d.push(k),t.add(k),k.decomposeTransform()})),d}(n,i,e,t);(function(t,e,n){if(r_(t.axis))return;var i=t.get(["axisLabel","showMinLabel"]),r=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],h=n[1],c=n[n.length-1],d=n[n.length-2];!1===i?(yT(o),yT(u)):bT(o,a)&&(i?(yT(a),yT(h)):(yT(o),yT(u)));!1===r?(yT(s),yT(c)):bT(l,s)&&(r?(yT(l),yT(d)):(yT(s),yT(c)))}(e,o,r),function(t,e,n,i){var r=n.axis,o=n.getModel("minorTick");if(!o.get("show")||r.scale.isBlank())return;var a=r.getMinorTicksCoords();if(!a.length)return;for(var s=o.getModel("lineStyle"),l=i*o.get("length"),u=G(s.getLineStyle(),G(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),h=0;h<a.length;h++)for(var c=xT(a[h],e.transform,l,u,"minorticks_"+h),d=0;d<c.length;d++)t.add(c[d])}(n,i,e,t.tickDirection),e.get(["axisLabel","hideOverlap"]))&&mC(fC(q(o,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}}))))},axisName:function(t,e,n,i){var r=vt(t.axisName,e.get("name"));if(r){var o,a,s=e.get("nameLocation"),l=t.nameDirection,u=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,c=e.axis.getExtent(),d=c[0]>c[1]?-1:1,f=["start"===s?c[0]-d*h:"end"===s?c[1]+d*h:(c[0]+c[1])/2,wT(s)?t.labelOffset+l*h:0],p=e.get("nameRotate");null!=p&&(p=p*gT/180),wT(s)?o=mT.innerTextLayout(t.rotation,null!=p?p:t.rotation,l):(o=function(t,e,n,i){var r,o,a=Wo(n-t),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;jo(a-gT/2)?(o=l?"bottom":"top",r="center"):jo(a-1.5*gT)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*gT&&a>gT/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:r,textVerticalAlign:o}}(t.rotation,s,p||0,c),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var g=u.getFont(),m=e.get("nameTruncate",!0)||{},v=m.ellipsis,y=vt(t.nameTruncateMaxWidth,m.maxWidth,a),b=new jl({x:f[0],y:f[1],rotation:o.rotation,silent:mT.isLabelSilent(e),style:nh(u,{text:r,font:g,overflow:"truncate",width:y,ellipsis:v,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(Hm({el:b,componentModel:e,itemName:r}),b.__fullText=r,b.anid="name",e.get("triggerEvent")){var w=mT.makeAxisEventDataBase(e);w.targetType="axisName",w.name=r,Vl(b).eventData=w}i.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function yT(t){t&&(t.ignore=!0)}function bT(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=Fe([]);return We(r,r,-t.rotation),n.applyTransform(Ne([],r,t.getLocalTransform())),i.applyTransform(Ne([],r,e.getLocalTransform())),n.intersect(i)}}function wT(t){return"middle"===t||"center"===t}function xT(t,e,n,i,r){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,e&&(oe(a,a,e),oe(s,s,e));var h=new jg({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});Sm(h.shape,h.style.lineWidth),h.anid=r+"_"+t[l].tickValue,o.push(h)}return o}var _T=mT;function CT(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];Y(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=kT(n.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=n;var u=n.model.getModel("tooltip",i);if(Y(n.getAxes(),it(f,!1,null)),n.getTooltipAxes&&i&&u.get("show")){var h="axis"===u.get("trigger"),c="cross"===u.get(["axisPointer","type"]),d=n.getTooltipAxes(u.get(["axisPointer","axis"]));(h||c)&&Y(d.baseAxes,it(f,!c||"cross",h)),c&&Y(d.otherAxes,it(f,"cross",!1))}}function f(i,s,h){var c=h.model.getModel("axisPointer",r),d=c.get("show");if(d&&("auto"!==d||i||TT(c))){null==s&&(s=c.get("triggerTooltip")),c=i?function(t,e,n,i,r,o){var a=e.getModel("axisPointer"),s={};Y(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){s[t]=z(a.get(t))})),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var u=a.get(["label","show"]);if(l.show=null==u||u,!o){var h=s.lineStyle=a.get("crossStyle");h&&G(l,h.textStyle)}}return t.model.getModel("axisPointer",new Ah(s,n,i))}(h,u,r,e,i,s):c;var f=c.get("snap"),p=c.get("triggerEmphasis"),g=kT(h.model),m=s||f||"category"===h.type,v=t.axesInfo[g]={key:g,axis:h,coordSys:n,axisPointerModel:c,triggerTooltip:s,triggerEmphasis:p,involveSeries:m,snap:f,useHandle:TT(c),seriesModels:[],linkGroup:null};l[g]=v,t.seriesInvolved=t.seriesInvolved||m;var y=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(ST(o[i+"AxisId"],n.id)||ST(o[i+"AxisIndex"],n.componentIndex)||ST(o[i+"AxisName"],n.name))return r}}(o,h);if(null!=y){var b=a[y]||(a[y]={axesInfo:{}});b.axesInfo[g]=v,b.mapper=o[y].mapper,v.linkGroup=b}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),r=e.get(["tooltip","show"],!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get(["axisPointer","show"],!0)&&Y(t.coordSysAxesInfo[kT(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(n,t),n}function ST(t,e){return"all"===t||rt(t)&&U(t,e)>=0||t===e}function MT(t){var e=AT(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=TT(n);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function AT(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[kT(t)]}function TT(t){return!!t.get(["handle","show"])}function kT(t){return t.type+"||"+t.id}var RT={},IT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(e,n,i,r){this.axisPointerClass&&MT(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},e.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var r=e.getAxisPointerClass(this.axisPointerClass);if(r){var o=function(t){var e=AT(t);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new r)).render(t,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){RT[t]=e},e.getAxisPointerClass=function(t){return t&&RT[t]},e.type="axis",e}(Np),PT=IT,ET=ma();function BT(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,c=ET(t).splitAreaColors,d=It(),f=0;if(c)for(var p=0;p<u.length;p++){var g=c.get(u[p].tickValue);if(null!=g){f=(g+(h-1)*p)%h;break}}var m=r.toGlobalCoord(u[0].coord),v=a.getAreaStyle();s=rt(s)?s:[s];for(p=1;p<u.length;p++){var y=r.toGlobalCoord(u[p].coord),b=void 0,w=void 0,x=void 0,_=void 0;r.isHorizontal()?(b=m,w=l.y,x=y-b,_=l.height,m=b+x):(b=l.x,w=m,x=l.width,m=w+(_=y-w));var C=u[p-1].tickValue;null!=C&&d.set(C,f),e.add(new Al({anid:null!=C?"area_"+C:null,shape:{x:b,y:w,width:x,height:_},style:G({fill:s[f]},v),autoBatch:!0,silent:!0})),f=(f+1)%h}ET(t).splitAreaColors=d}}}function LT(t){ET(t).splitAreaColors=null}var DT=["axisLine","axisTickLabel","axisName"],OT=["splitArea","splitLine","minorSplitLine"],FT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return(0,g.ZT)(e,t),e.prototype.render=function(e,n,i,r){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new mo,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=oT(a,e),l=new _T(e,V({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(Qw(n[i].getOtherAxis(e.axis).scale))return!0;return!1}},s));Y(DT,l.add,l),this._axisGroup.add(l.getGroup()),Y(OT,(function(t){e.get([t,"show"])&&HT[t](this,this._axisGroup,e,a)}),this),r&&"changeAxisOrder"===r.type&&r.isInitSort||Pm(o,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)}},e.prototype.remove=function(){LT(this)},e.type="cartesianAxis",e}(PT),HT={splitLine:function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=rt(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,c=r.getTicksCoords({tickModel:o}),d=[],f=[],p=a.getLineStyle(),g=0;g<c.length;g++){var m=r.toGlobalCoord(c[g].coord);u?(d[0]=m,d[1]=l.y,f[0]=m,f[1]=l.y+l.height):(d[0]=l.x,d[1]=m,f[0]=l.x+l.width,f[1]=m);var v=h++%s.length,y=c[g].tickValue,b=new jg({anid:null!=y?"line_"+c[g].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:G({stroke:s[v]},p),silent:!0});Sm(b.shape,p.lineWidth),e.add(b)}}},minorSplitLine:function(t,e,n,i){var r=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],h=[],c=o.getLineStyle(),d=0;d<l.length;d++)for(var f=0;f<l[d].length;f++){var p=r.toGlobalCoord(l[d][f].coord);s?(u[0]=p,u[1]=a.y,h[0]=p,h[1]=a.y+a.height):(u[0]=a.x,u[1]=p,h[0]=a.x+a.width,h[1]=p);var g=new jg({anid:"minor_line_"+l[d][f].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:c,silent:!0});Sm(g.shape,c.lineWidth),e.add(g)}},splitArea:function(t,e,n,i){BT(t,e,n,i)}},NT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="xAxis",e}(FT),zT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=NT.type,e}return(0,g.ZT)(e,t),e.type="yAxis",e}(FT),WT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return(0,g.ZT)(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new Al({shape:t.coordinateSystem.getRect(),style:G({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Np),jT={offset:0};function VT(t){t.registerComponentView(WT),t.registerComponentModel(VA),t.registerCoordinateSystem("cartesian2d",pT),YA(t,"x",GA,jT),YA(t,"y",GA,jT),t.registerComponentView(NT),t.registerComponentView(zT),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function GT(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var r=i.getIndicatorAxes();Y(r,(function(t,o){e.each(e.mapDimension(r[o].dim),(function(t,e){n[e]=n[e]||[];var r=i.dataToPoint(t,o);n[e][o]=ZT(r)?r:UT(i)}))})),e.each((function(t){var r=tt(n[t],(function(t){return ZT(t)}))||UT(i);n[t].push(r.slice()),e.setItemLayout(t,n[t])}))}}))}function ZT(t){return!isNaN(t[0])&&!isNaN(t[1])}function UT(t){return[t.cx,t.cy]}function KT(t){var e=t.polar;if(e){rt(e)||(e=[e]);var n=[];Y(e,(function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],rt(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}Y(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var $T=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=t.coordinateSystem,r=this.group,o=t.getData(),a=this._data;function s(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var i=ay(t.getItemVisual(e,"symbolSize")),r=oy(n,-1,-1,2,2),o=t.getItemVisual(e,"symbolRotate")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:o*Math.PI/180||0}),r}}function u(e,n,i,r,o,a){i.removeAll();for(var u=0;u<n.length-1;u++){var h=s(r,o);h&&(h.__dimIdx=u,e[u]?(h.setPosition(e[u]),l[a?"initProps":"updateProps"](h,{x:n[u][0],y:n[u][1]},t,o)):h.setPosition(n[u]),i.add(h))}}function h(t){return q(t,(function(t){return[i.cx,i.cy]}))}o.diff(a).add((function(e){var n=o.getItemLayout(e);if(n){var i=new Dg,r=new Hg,a={shape:{points:n}};i.shape.points=h(n),r.shape.points=h(n),Zu(i,a,t,e),Zu(r,a,t,e);var s=new mo,l=new mo;s.add(r),s.add(i),s.add(l),u(r.shape.points,n,l,o,e,!0),o.setItemGraphicEl(e,s)}})).update((function(e,n){var i=a.getItemGraphicEl(n),r=i.childAt(0),s=i.childAt(1),l=i.childAt(2),h={shape:{points:o.getItemLayout(e)}};h.shape.points&&(u(r.shape.points,h.shape.points,l,o,e,!1),Yu(s),Yu(r),Gu(r,h,t),Gu(s,h,t),o.setItemGraphicEl(e,i))})).remove((function(t){r.remove(a.getItemGraphicEl(t))})).execute(),o.eachItemGraphicEl((function(t,e){var n=o.getItemModel(e),i=t.childAt(0),a=t.childAt(1),s=t.childAt(2),l=o.getItemVisual(e,"style"),u=l.fill;r.add(t),i.useStyle(G(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),Ou(i,n,"lineStyle"),Ou(a,n,"areaStyle");var h=n.getModel("areaStyle"),c=h.isEmpty()&&h.parentModel.isEmpty();a.ignore=c,Y(["emphasis","select","blur"],(function(t){var e=n.getModel([t,"areaStyle"]),i=e.isEmpty()&&e.parentModel.isEmpty();a.ensureState(t).ignore=i&&c})),a.useStyle(G(h.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var d=n.getModel("emphasis"),f=d.getModel("itemStyle").getItemStyle();s.eachChild((function(t){if(t instanceof yl){var i=t.style;t.useStyle(V({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else t.useStyle(l),t.setColor(u),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=z(f);var r=o.getStore().get(o.getDimensionIndex(t.__dimIdx),e);(null==r||isNaN(r))&&(r=""),th(t,eh(n),{labelFetcher:o.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:r,inheritColor:u,defaultOpacity:l.opacity})})),Eu(t,d.get("focus"),d.get("blurScope"),d.get("disabled"))})),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Xm),XT=$T,YT=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,g.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(nt(this.getData,this),nt(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return kA(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(t),a=""===o?this.name:o,s=_p(this,t);return fp("section",{header:a,sortBlocks:!0,blocks:q(r,(function(e){var n=i.get(i.mapDimension(e.dim),t);return fp("nameValue",{markerType:"subItem",markerColor:s,name:e.name,value:n,sortParam:n})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(q(n.dimensions,(function(t){return e.mapDimension(t)})),t),r=0,o=i.length;r<o;r++)if(!isNaN(i[r])){var a=n.getIndicatorAxes();return n.coordToPoint(a[r].dataToCoord(i[r]),r)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Fp),qT=YT,JT=$A.value;function QT(t,e){return G({show:e},t)}var tk=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),h=this.get("triggerEvent"),c=q(this.get("indicator")||[],(function(c){null!=c.max&&c.max>0&&!c.min?c.min=0:null!=c.min&&c.min<0&&!c.max&&(c.max=0);var d=a;null!=c.color&&(d=G({color:c.color},a));var f=W(z(c),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:c.text,showName:s,nameLocation:"end",nameGap:u,nameTextStyle:d,triggerEvent:h},!1);if(at(l)){var p=f.name;f.name=l.replace("{value}",null!=p?p:"")}else ot(l)&&(f.name=l(f.name,f));var g=new Ah(f,null,this.ecModel);return $(g,a_.prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g}),this);this._indicatorModels=c},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:W({lineStyle:{color:"#bbb"}},JT.axisLine),axisLabel:QT(JT.axisLabel,!1),axisTick:QT(JT.axisTick,!1),splitLine:QT(JT.splitLine,!0),splitArea:QT(JT.splitArea,!0),indicator:[]},e}(Nc),ek=tk,nk=["axisLine","axisTickLabel","axisName"],ik=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem;Y(q(e.getIndicatorAxes(),(function(t){var n=t.model.get("showName")?t.name:"";return new _T(t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(t){Y(nk,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get("shape"),r=t.getModel("splitLine"),o=t.getModel("splitArea"),a=r.getModel("lineStyle"),s=o.getModel("areaStyle"),l=r.get("show"),u=o.get("show"),h=a.get("color"),c=s.get("color"),d=rt(h)?h:[h],f=rt(c)?c:[c],p=[],g=[];if("circle"===i)for(var m=n[0].getTicksCoords(),v=e.cx,y=e.cy,b=0;b<m.length;b++){if(l)p[T(p,d,b)].push(new ug({shape:{cx:v,cy:y,r:m[b].coord}}));if(u&&b<m.length-1)g[T(g,f,b)].push(new Pg({shape:{cx:v,cy:y,r0:m[b].coord,r:m[b+1].coord}}))}else{var w,x=q(n,(function(t,n){var i=t.getTicksCoords();return w=null==w?i.length-1:Math.min(i.length-1,w),q(i,(function(t){return e.coordToPoint(t.coord,n)}))})),_=[];for(b=0;b<=w;b++){for(var C=[],S=0;S<n.length;S++)C.push(x[S][b]);if(C[0]&&C.push(C[0].slice()),l)p[T(p,d,b)].push(new Hg({shape:{points:C}}));if(u&&_)g[T(g,f,b-1)].push(new Dg({shape:{points:C.concat(_)}}));_=C.slice().reverse()}}var M=a.getLineStyle(),A=s.getAreaStyle();Y(g,(function(t,e){this.group.add(_m(t,{style:G({stroke:"none",fill:f[e%f.length]},A),silent:!0}))}),this),Y(p,(function(t,e){this.group.add(_m(t,{style:G({fill:"none",stroke:d[e%d.length]},M),silent:!0}))}),this)}function T(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}},e.type="radar",e}(Np),rk=ik,ok=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.type="value",r.angle=0,r.name="",r}return(0,g.ZT)(e,t),e}(H_),ak=ok,sk=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=q(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,i=new ak(n,new cx);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i}),this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(o-u.angle);h<a&&(r=u,s=l,a=h)}return[s,+(r&&r.coordToData(i))]},t.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r)/2;this.cx=Po(n[0],i),this.cy=Po(n[1],r),this.startAngle=t.get("startAngle")*Math.PI/180;var a=t.get("radius");(at(a)||lt(a))&&(a=[0,a]),this.r0=Po(a[0],o),this.r=Po(a[1],o),Y(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;Y(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var o=e.getData();Y(n,(function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))}))}}),this);var r=i.get("splitNumber"),o=new cx;o.setExtent(0,r),o.setInterval(1),Y(n,(function(t,e){uT(t.scale,t.model,o)}))},t.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,n){var i=[];return e.eachComponent("radar",(function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])})),i},t.dimensions=[],t}(),lk=sk;function uk(t){t.registerCoordinateSystem("radar",lk),t.registerComponentModel(ek),t.registerComponentView(rk),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")})),e.setVisual("legendIcon","roundRect")}})}var hk="\0_ec_interaction_mutex";function ck(t,e){return!!dk(t)[e]}function dk(t){return t[hk]||(t[hk]={})}Kb({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Dt);var fk=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var i=nt(n._mousedownHandler,n),r=nt(n._mousemoveHandler,n),o=nt(n._mouseupHandler,n),a=nt(n._mousewheelHandler,n),s=nt(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=G(z(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",a),e.on("pinch",s))},n.disable=function(){e.off("mousedown",i),e.off("mousemove",r),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},n}return(0,g.ZT)(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!Ee(t)){for(var e=t.target;e;){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&mk("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!ck(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,o=e-i,a=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&Pe(t.event),gk(this,"pan","moveOnMouseMove",t,{dx:o,dy:a,oldX:i,oldY:r,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Ee(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=mk("zoomOnMouseWheel",t,this._opt),n=mk("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,r=Math.abs(i),o=t.offsetX,a=t.offsetY;if(0!==i&&(e||n)){if(e){var s=r>3?1.4:r>1?1.2:1.1;pk(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var l=Math.abs(i);pk(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){ck(this._zr,"globalPan")||pk(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(de);function pk(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(Pe(i.event),gk(t,e,n,i,r))}function gk(t,e,n,i,r){r.isAvailableBehavior=nt(mk,null,n,i),t.trigger(e,r)}function mk(t,e,n){var i=n[t];return!t||i&&(!at(i)||e.event[i+"Key"])}var vk=fk;function yk(t,e,n){var i=t.target;i.x+=e,i.y+=n,i.dirty()}function bk(t,e,n,i){var r=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,r.x-=(n-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var wk,xk={axisPointer:1,tooltip:1,brush:1};function _k(t,e,n){var i=e.getComponentByElement(t.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!xk.hasOwnProperty(i.mainType)&&r&&r.model!==n}function Ck(t){at(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var e=t;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var Sk={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Mk=et(Sk),Ak={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Tk=et(Ak),kk=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=Ck(t);this._defsUsePending=[];var i=new mo;this._root=i;var r=[],o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||e.width),s=parseFloat(n.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),Lk(n,i,null,!0,!1);for(var l,u,h=n.firstChild;h;)this._parseNode(h,i,r,null,!1,!1),h=h.nextSibling;if(function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i[0].style[i[1]]=t[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var c=Hk(o);c.length>=4&&(l={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(l&&null!=a&&null!=s&&(u=Vk(l,{x:0,y:0,width:a,height:s}),!e.ignoreViewBox)){var d=i;(i=new mo).add(d),d.scaleX=d.scaleY=u.scale,d.x=u.x,d.y=u.y}return e.ignoreRootClip||null==a||null==s||i.setClipPath(new Al({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:u,named:r}},t.prototype._parseNode=function(t,e,n,i,r,o){var a,s=t.nodeName.toLowerCase(),l=i;if("defs"===s&&(r=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)a=e;else{if(!r){var u=wk[s];if(u&&Lt(wk,s)){a=u.call(this,t,e);var h=t.getAttribute("name");if(h){var c={name:h,namedFrom:null,svgNodeTagLower:s,el:a};n.push(c),"g"===s&&(l=c)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:a});e.add(a)}}var d=Rk[s];if(d&&Lt(Rk,s)){var f=d.call(this,t),p=t.getAttribute("id");p&&(this._defs[p]=f)}}if(a&&a.isGroup)for(var g=t.firstChild;g;)1===g.nodeType?this._parseNode(g,a,n,l,r,o):3===g.nodeType&&o&&this._parseText(g,a),g=g.nextSibling},t.prototype._parseText=function(t,e){var n=new pl({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),function(t,e){var n=e.__selfStyle;if(n){var i=n.textBaseline,r=i;i&&"auto"!==i?"baseline"===i?r="alphabetic":"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":"central"!==i&&"mathematical"!==i||(r="middle"):r="alphabetic",t.style.textBaseline=r}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),t.style.textAlign=s)}}(n,e);var i=n.style,r=i.fontSize;r&&r<9&&(i.fontSize=9,n.scaleX*=r/9,n.scaleY*=r/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var a=n.getBoundingRect();return this._textX+=a.width,e.add(n),n},t.internalField=void(wk={g:function(t,e){var n=new mo;return Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new Al;return Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new ug;return Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new jg;return Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new dg;return Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,i=t.getAttribute("points");i&&(n=Bk(i));var r=new Dg({shape:{points:n||[]},silent:!0});return Ek(e,r),Lk(t,r,this._defsUsePending,!1,!1),r},polyline:function(t,e){var n,i=t.getAttribute("points");i&&(n=Bk(i));var r=new Hg({shape:{points:n||[]},silent:!0});return Ek(e,r),Lk(t,r,this._defsUsePending,!1,!1),r},image:function(t,e){var n=new yl;return Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",r=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var a=new mo;return Ek(e,a),Lk(t,a,this._defsUsePending,!1,!0),a},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",a=new mo;return Ek(e,a),Lk(t,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(o),a},path:function(t,e){var n=og(t.getAttribute("d")||"");return Ek(e,n),Lk(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),t}(),Rk={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),i=parseInt(t.getAttribute("x2")||"10",10),r=parseInt(t.getAttribute("y2")||"0",10),o=new tm(e,n,i,r);return Ik(t,o),Pk(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),i=parseInt(t.getAttribute("r")||"0",10),r=new em(e,n,i);return Ik(t,r),Pk(t,r),r}};function Ik(t,e){"userSpaceOnUse"===t.getAttribute("gradientUnits")&&(e.global=!0)}function Pk(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),r=void 0;r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};jk(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:a})}n=n.nextSibling}}function Ek(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),G(e.__inheritedStyle,t.__inheritedStyle))}function Bk(t){for(var e=Hk(t),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}function Lk(t,e,n,i,r){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],r=null;n.replace(Nk,(function(t,e,n){return i.push(e,n),""}));for(var o=i.length-1;o>0;o-=2){var a=i[o],s=i[o-1],l=Hk(a);switch(r=r||[1,0,0,1,0,0],s){case"translate":ze(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":je(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":We(r,r,-parseFloat(l[0])*zk,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":Ne(r,[1,0,Math.tan(parseFloat(l[0])*zk),1,0,0],r);break;case"skewY":Ne(r,[1,Math.tan(parseFloat(l[0])*zk),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}e.setLocalTransform(r)}}(t,e),jk(t,a,s),i||function(t,e,n){for(var i=0;i<Mk.length;i++){var r=Mk[i];null!=(o=t.getAttribute(r))&&(e[Sk[r]]=o)}for(i=0;i<Tk.length;i++){var o;r=Tk[i];null!=(o=t.getAttribute(r))&&(n[Ak[r]]=o)}}(t,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=Ok(o,"fill",a.fill,n)),null!=a.stroke&&(o.style.stroke=Ok(o,"stroke",a.stroke,n)),Y(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=a[t]&&(o.style[t]=parseFloat(a[t]))})),Y(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=a[t]&&(o.style[t]=a[t])})),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=q(Hk(a.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var Dk=/^url\(\s*#(.*?)\)/;function Ok(t,e,n,i){var r=n&&n.match(Dk);if(!r)return"none"===n&&(n=null),n;var o=Ct(r[1]);i.push([t,e,o])}var Fk=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Hk(t){return t.match(Fk)||[]}var Nk=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,zk=Math.PI/180;var Wk=/([^\s:;]+)\s*:\s*([^:;]+)/g;function jk(t,e,n){var i,r=t.getAttribute("style");if(r)for(Wk.lastIndex=0;null!=(i=Wk.exec(r));){var o=i[1],a=Lt(Sk,o)?Sk[o]:null;a&&(e[a]=i[2]);var s=Lt(Ak,o)?Ak[o]:null;s&&(n[s]=i[2])}}function Vk(t,e){var n=e.width/t.width,i=e.height/t.height,r=Math.min(n,i);return{scale:r,x:-(t.x+t.width/2)*r+(e.x+e.width/2),y:-(t.y+t.height/2)*r+(e.y+e.height/2)}}var Gk=It(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Zk=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=It(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Ck(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function(t){var e=[],n=It();return Y(t,(function(t){if(null==t.namedFrom){var i=new x_(t.name,t.el);e.push(i),n.set(t.name,i)}})),{regions:e,regionsMap:n}}(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n,i,r;try{_t(null!=(n=(e=t&&(i=t,r={ignoreViewBox:!0,ignoreRootClip:!0},(new kk).parse(i,r))||{}).root))}catch(t){throw new Error("Invalid svg format\n"+t.message)}var o=new mo;o.add(n),o.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,l=e.viewBoxRect,u=this._boundingRect;if(!u){var h=void 0,c=void 0,d=void 0,f=void 0;if(null!=a?(h=0,d=a):l&&(h=l.x,d=l.width),null!=s?(c=0,f=s):l&&(c=l.y,f=l.height),null==h||null==c){var p=n.getBoundingRect();null==h&&(h=p.x,d=p.width),null==c&&(c=p.y,f=p.height)}u=this._boundingRect=new nn(h,c,d,f)}if(l){var g=Vk(l,u);n.scaleX=n.scaleY=g.scale,n.x=g.x,n.y=g.y}o.setClipPath(new Al({shape:u.plain()}));var m=[];return Y(e.named,(function(t){var e;null!=Gk.get(t.svgNodeTagLower)&&(m.push(t),(e=t.el).silent=!1,e.isGroup&&e.traverse((function(t){t.silent=!1})))})),{root:o,boundingRect:u,named:m}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();for(var Uk=[126,25],Kk="",$k=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Xk=0;Xk<$k.length;Xk++)for(var Yk=0;Yk<$k[Xk].length;Yk++)$k[Xk][Yk][0]/=10.5,$k[Xk][Yk][1]/=-14,$k[Xk][Yk][0]+=Uk[0],$k[Xk][Yk][1]+=Uk[1];var qk={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var Jk=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var Qk=function(){function t(t,e,n){var i;this.type="geoJSON",this._parsedMap=It(),this._mapName=t,this._specialAreas=n,this._geoJSON=at(i=e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i}return t.prototype.load=function(t,e){e=e||"name";var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:tR(i)})}var r=It(),o=[];return Y(n.regions,(function(e){var n=e.name;t&&Lt(t,n)&&(e=e.cloneShallow(n=t[n])),o.push(e),r.set(n,e)})),{regions:o,boundingRect:n.boundingRect||new nn(0,0,0,0),regionsMap:r}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,i=this._geoJSON;try{e=i?S_(i,t):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return function(t,e){if("china"===t){for(var n=0;n<e.length;n++)if(e[n].name===Kk)return;e.push(new w_(Kk,q($k,(function(t){return{type:"polygon",exterior:t}})),Uk))}}(n,e),Y(e,(function(t){var e=t.name;!function(t,e){if("china"===t){var n=qk[e.name];if(n){var i=e.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,e.setCenter(i)}}}(n,t),function(t,e){"china"===t&&""===e.name&&e.geometries.push({type:"polygon",exterior:Jk[0]})}(n,t);var i=this._specialAreas&&this._specialAreas[e];i&&t.transformTo(i.left,i.top,i.width,i.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function tR(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}var eR=It(),nR=function(t,e,n){if(e.svg){var i=new Zk(t,e.svg);eR.set(t,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?n=e.specialAreas:r=e;i=new Qk(t,r,n);eR.set(t,i)}},iR=function(t){return eR.get(t)},rR=function(t){var e=eR.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},oR=function(t,e,n){var i=eR.get(t);if(i)return i.load(e,n)},aR=["rect","circle","line","ellipse","polygon","polyline","path"],sR=It(aR),lR=It(aR.concat(["g"])),uR=It(aR.concat(["g"])),hR=ma();function cR(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function dR(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var fR=function(){function t(t){var e=new mo;this.uid=kh("ec_map_draw"),this._controller=new vk(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new mo),e.add(this._svgGroup=new mo)}return t.prototype.draw=function(t,e,n,i,r){var o="geo"===t.mainType,a=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},(function(e){a||e.getHostGeoModel()!==t||(a=e.getData())}));var s=t.coordinateSystem,l=this._regionsGroup,u=this.group,h=s.getTransformInfo(),c=h.raw,d=h.roam;!l.childAt(0)||r?(u.x=d.x,u.y=d.y,u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.dirty()):Gu(u,d,t);var f=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,p={api:n,geo:s,mapOrGeoModel:t,data:a,isVisualEncodedByVisualMap:f,isGeo:o,transformInfoRaw:c};"geoJSON"===s.resourceType?this._buildGeoJSON(p):"geoSVG"===s.resourceType&&this._buildSVG(p),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,i)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=It(),n=It(),i=this._regionsGroup,r=t.transformInfoRaw,o=t.mapOrGeoModel,a=t.data,s=t.geo.projection,l=s&&s.stream;function u(t,e){return e&&(t=e(t)),t&&[t[0]*r.scaleX+r.x,t[1]*r.scaleY+r.y]}function h(t){for(var e=[],n=!l&&s&&s.project,i=0;i<t.length;++i){var r=u(t[i],n);r&&e.push(r)}return e}function c(t){return{shape:{points:h(t)}}}i.removeAll(),Y(t.geo.regions,(function(r){var h=r.name,d=e.get(h),f=n.get(h)||{},p=f.dataIdx,g=f.regionModel;d||(d=e.set(h,new mo),i.add(d),p=a?a.indexOfName(h):null,g=t.isGeo?o.getRegionModel(h):a?a.getItemModel(p):null,n.set(h,{dataIdx:p,regionModel:g}));var m=[],v=[];Y(r.geometries,(function(t){if("polygon"===t.type){var e=[t.exterior].concat(t.interiors||[]);l&&(e=bR(e,l)),Y(e,(function(t){m.push(new Dg(c(t)))}))}else{var n=t.points;l&&(n=bR(n,l,!0)),Y(n,(function(t){v.push(new Hg(c(t)))}))}}));var y=u(r.getCenter(),s&&s.project);function b(e,n){if(e.length){var i=new Jg({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});d.add(i),pR(t,i,p,g),gR(t,i,h,g,o,p,y),n&&(dR(i),Y(i.states,dR))}}b(m),b(v,!0)})),e.each((function(e,i){var r=n.get(i),a=r.dataIdx,s=r.regionModel;mR(t,e,i,s,o,a),vR(t,e,i,s,o),yR(t,e,i,s,o)}),this)},t.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=It(),r=!1;Y(this._svgGraphicRecord.named,(function(e){var n=e.name,o=t.mapOrGeoModel,a=t.data,s=e.svgNodeTagLower,l=e.el,u=a?a.indexOfName(n):null,h=o.getRegionModel(n);(null!=sR.get(s)&&l instanceof us&&pR(t,l,u,h),l instanceof us&&(l.culling=!0),l.z2EmphasisLift=0,e.namedFrom)||(null!=uR.get(s)&&gR(t,l,n,h,o,u,null),mR(t,l,n,h,o,u),vR(t,l,n,h,o),null!=lR.get(s)&&("self"===yR(t,l,n,h,o)&&(r=!0),(i.get(n)||i.set(n,[])).push(l)))}),this),this._enableBlurEntireSVG(r,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(t){if(!t.isGroup){gu(t);var e=t.ensureState("blur").style||{};null==e.opacity&&null!=n&&(e.opacity=n),t.ensureState("emphasis")}}))}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var r=i.get(t);return r?[r]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=iR(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=iR(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,r=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),r.enable(t.get("roam")||!1);var a=t.mainType;function s(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}r.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,yk(o,t.dx,t.dy),n.dispatchAction(V(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),r.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,bk(o,t.scale,t.originX,t.originY),n.dispatchAction(V(s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),r.setPointerChecker((function(e,r,o){return i.containPoint([r,o])&&!_k(e,n,t)}))},t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var e=t.getTextContent();e&&(e.ignore=hR(e).ignore)}))},t.prototype._updateMapSelectHandler=function(t,e,n,i){var r=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",(function(){r._mouseDownFlag=!0})),e.on("click",(function(t){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))},t}();function pR(t,e,n,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=cR(r),u=cR(o),h=cR(s),c=cR(a),d=t.data;if(d){var f=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),p&&(l.decal=Ey(p,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=h,e.ensureState("blur").style=c,gu(e)}function gR(t,e,n,i,r,o,a){var s=t.data,l=t.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),h=s&&s.getItemLayout(o);if(l||u||h&&h.showLabel){var c=l?n:o,d=void 0;(!s||o>=0)&&(d=r);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;th(e,eh(i),{labelFetcher:d,labelDataIndex:c,defaultText:n},f);var p=e.getTextContent();if(p&&(hR(p).ignore=p.ignore,e.textConfig&&a)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function mR(t,e,n,i,r,o){t.data?t.data.setItemGraphicEl(o,e):Vl(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:n,region:i&&i.option||{}}}function vR(t,e,n,i,r){t.data||Hm({el:e,componentModel:r,itemName:n,itemTooltipOption:i.get("tooltip")})}function yR(t,e,n,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),a=o.get("focus");return Eu(e,a,o.get("blurScope"),o.get("disabled")),t.isGeo&&function(t,e,n){var i=Vl(t);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=n}(e,r,n),a}function bR(t,e,n){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(t,e){isFinite(t)&&isFinite(e)&&i.push([t,e])},sphere:function(){}});return!n&&s.polygonStart(),Y(t,(function(t){s.lineStart();for(var e=0;e<t.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()})),!n&&s.polygonEnd(),r}var wR=fR,xR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id)(o=this._mapDraw)&&r.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new wR(n);r.add(o.group),o.draw(t,e,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var i=t.originalData,r=this.group;i.each(i.mapDimension("value"),(function(e,n){if(!isNaN(e)){var o=i.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new ug({style:{fill:t.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:11)});if(!s){var u=t.mainSeries.getData(),h=i.getName(n),c=u.indexOfName(h),d=i.getItemModel(n),f=d.getModel("label"),p=u.getItemGraphicEl(c);th(l,eh(d),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(c,n)}},defaultText:h}),l.disableLabelAnimation=!0,f.get("position")||l.setTextConfig({position:"bottom"}),p.onHoverStateChange=function(t){fu(l,t)}}r.add(l)}}}))},e.type="map",e}(Xm),_R=xR,CR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.getCenter())}},n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t){for(var e=kA(this,{coordDimensions:["value"],encodeDefaulter:it(id,this)}),n=It(),i=[],r=0,o=e.count();r<o;r++){var a=e.getName(r);n.set(a,!0)}return Y(oR(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(t){var e=t.name;n.get(e)||i.push(e)})),e.appendValues([],i),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData(),r=this.getRawValue(t),o=i.getName(t),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(o),h=i.mapDimension("value");isNaN(a[l].originalData.get(h,u))||s.push(a[l].name)}return fp("section",{header:s.join(", "),noHeader:!s.length,blocks:[fp("nameValue",{name:o,value:r})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",n=oy(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke="none",e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Fp),SR=CR;function MR(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)})),Y(e,(function(t,e){for(var n,i,r,o=(n=q(t,(function(t){return t.getData()})),i=t[0].get("mapValueCalculation"),r={},Y(n,(function(t){t.each(t.mapDimension("value"),(function(e,n){var i="ec-"+t.getName(n);r[i]=r[i]||[],isNaN(e)||r[i].push(e)}))})),n[0].map(n[0].mapDimension("value"),(function(t,e){for(var o="ec-"+n[0].getName(e),a=0,s=1/0,l=-1/0,u=r[o].length,h=0;h<u;h++)s=Math.min(s,r[o][h]),l=Math.max(l,r[o][h]),a+=r[o][h];return 0===u?NaN:"min"===i?s:"max"===i?l:"average"===i?a/u:a}))),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(o.cloneShallow()),t[a].mainSeries=t[0]}))}function AR(t){var e={};t.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var r={};Y(n.seriesGroup,(function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),(function(t,e){var o=i.getName(e),a=n.getRegion(o);if(a&&!isNaN(t)){var s=r[o]||0,l=n.dataToPoint(a.getCenter());r[o]=s+1,i.setItemLayout(e,{point:l,offset:s})}}))}));var o=n.getData();o.each((function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!r[e],o.setItemLayout(t,n)})),e[i]=!0}}))}var TR=oe,kR=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Kr,n._rawTransformable=new Kr,n.name=e,n}return(0,g.ZT)(e,t),e.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new nn(t,e,n,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,i){this._transformTo(t,e,n,i),this._viewRect=new nn(t,e,n,i)},e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new nn(t,e,n,i));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},e.prototype.setCenter=function(t,e){t&&(this._center=[Po(t[0],e.getWidth()),Po(t[1],e.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=oe([],i,t),n=oe([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=r,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),He(this.transform||(this.transform=[]),e.transform||[1,0,0,1,0,0]),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Ve(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new Kr;return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?TR(n,t,i):Ht(n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?TR([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var i=RR(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=RR(e);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Kr);function RR(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var IR=kR,PR={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},ER=["lng","lat"],BR=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.dimensions=ER,r.type="geo",r._nameCoordMap=It(),r.map=n;var o,a=i.projection,s=oR(n,i.nameMap,i.nameProperty),l=iR(n),u=(r.resourceType=l?l.type:null,r.regions=s.regions),h=PR[l.type];if(r._regionsMap=s.regionsMap,r.regions=s.regions,r.projection=a,a)for(var c=0;c<u.length;c++){var d=u[c].getBoundingRect(a);(o=o||d.clone()).union(d)}else o=s.boundingRect;return r.setBoundingRect(o.x,o.y,o.width,o.height),r.aspectScale=a?1:yt(i.aspectScale,h.aspectScale),r._invertLongitute=!a&&h.invertLongitute,r}return(0,g.ZT)(e,t),e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var a=this._rawTransformable;a.transform=r.calculateTransform(new nn(t,e,n,i));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++){var i=e[n];if("geoJSON"===i.type&&i.contain(t))return e[n]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,n){if(at(t)&&(t=this.getGeoCoord(t)),t){var i=this.projection;return i&&(t=i.project(t)),t&&this.projectedToPoint(t,e,n)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,n,i){return t.prototype.dataToPoint.call(this,e,n,i)},e.prototype.convertToPixel=function(t,e,n){var i=LR(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=LR(e);return i===this?i.pointToData(n):null},e}(IR);function LR(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",wa).models[0]||{}).coordinateSystem:null}$(BR,IR);var DR=BR;function OR(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],s=i[1],l=r[0],u=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var h=function(t,e,n,a){for(var s=n-t,l=a-e,u=0;u<=100;u++){var h=u/100,c=o.project([t+s*h,e+l*h]);ae(i,i,c),se(r,r,c)}};h(a,s,l,s),h(l,s,l,u),h(l,u,a,u),h(a,u,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}else 0}var c,d,f,p=this.getBoundingRect(),g=t.get("layoutCenter"),m=t.get("layoutSize"),v=e.getWidth(),y=e.getHeight(),b=p.width/p.height*this.aspectScale,w=!1;if(g&&m&&(c=[Po(g[0],v),Po(g[1],y)],d=Po(m,Math.min(v,y)),isNaN(c[0])||isNaN(c[1])||isNaN(d)||(w=!0)),w)f={},b>1?(f.width=d,f.height=d/b):(f.height=d,f.width=d*b),f.y=c[1]-f.height/2,f.x=c[0]-f.width/2;else{var x=t.getBoxLayoutParams();x.aspect=b,f=Pc(x,{width:v,height:y})}this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}var FR=function(){function t(){this.dimensions=ER}return t.prototype.create=function(t,e){var n=[];function i(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,r){var o=t.get("map"),a=new DR(o+r,o,V({nameMap:t.get("nameMap")},i(t)));a.zoomLimit=t.get("scaleLimit"),n.push(a),t.coordinateSystem=a,a.model=t,a.resize=OR,a.resize(t,e)})),t.eachSeries((function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}}));var r={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}})),Y(r,(function(t,r){var o=q(t,(function(t){return t.get("nameMap")})),a=new DR(r,r,V({nameMap:j(o)},i(t[0])));a.zoomLimit=vt.apply(null,q(t,(function(t){return t.get("scaleLimit")}))),n.push(a),a.resize=OR,a.resize(t[0],e),Y(t,(function(t){t.coordinateSystem=a,function(t,e){Y(e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}(a,t)}))})),n},t.prototype.getFilledRegions=function(t,e,n,i){for(var r=(t||[]).slice(),o=It(),a=0;a<r.length;a++)o.set(r[a].name,r[a]);return Y(oR(e,n,i).regions,(function(t){var e=t.name;!o.get(e)&&r.push({name:e})})),r},t}(),HR=new FR,NR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){var i=iR(t.map);if(i&&"geoJSON"===i.type){var r=t.itemStyle=t.itemStyle||{};"color"in r||(r.color="#eee")}this.mergeDefaultAndTheme(t,n),oa(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=HR.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var n={};this._optionModelMap=J(e.regions||[],(function(e,i){var r=i.name;return r&&(e.set(r,new Ah(i,t,t.ecModel)),i.selected&&(n[r]=!0)),e}),It()),e.selectedMap||(e.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Ah(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),i="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),r={name:t};return ot(i)?(r.status=e,i(r)):at(i)?i.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;n&&("multiple"!==n&&(e.selectedMap=null),(e.selectedMap||(e.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Nc),zR=NR;function WR(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function jR(t,e,n,i){var r=t.getZoom(),o=t.getCenter(),a=e.zoom,s=t.projectedToPoint?t.projectedToPoint(o):t.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter(WR(t,s),i)),null!=a){if(n){var l=n.min||0,u=n.max||1/0;a=Math.max(Math.min(r*a,u),l)/r}t.scaleX*=a,t.scaleY*=a;var h=(e.originX-t.x)*(a-1),c=(e.originY-t.y)*(a-1);t.x-=h,t.y-=c,t.updateTransform(),t.setCenter(WR(t,s),i),t.setZoom(a*r)}return{center:t.getCenter(),zoom:t.getZoom()}}var VR=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,n,i){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new wR(n));var r=this._mapDraw;r.draw(t,e,n,this,i),r.group.on("click",this._handleRegionClick,this),r.group.silent=t.get("silent"),this.group.add(r.group),this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e;Uv(t.target,(function(t){return null!=(e=Vl(t).eventData)}),!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var i=this;this._mapDraw.group.traverse((function(t){var e=Vl(t).eventData;if(e)return i._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(Np),GR=VR;function ZR(t,e,n){nR(t,e,n)}function UR(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,(function(t,n){var i={},r=[];return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name),Y(n.coordinateSystem.regions,(function(t){i[t.name]=n.isSelected(t.name)||!1}));var o=[];Y(i,(function(t,e){i[e]&&o.push(e)})),r.push({geoIndex:n.componentIndex,name:o})})),{selected:i,allSelected:r,name:t.name}}))}t.registerCoordinateSystem("geo",HR),t.registerComponentModel(zR),t.registerComponentView(GR),t.registerImpl("registerMap",ZR),t.registerImpl("getMap",(function(t){return rR(t)})),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e,n){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){var r=e.coordinateSystem;if("geo"===r.type){var o=jR(r,t,e.get("scaleLimit"),n);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===i&&Y(e.seriesGroup,(function(t){t.setCenter(o.center),t.setZoom(o.zoom)}))}}))}))}function KR(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,r=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,i=0,r=0;for(;--n>=0;){var o=e[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(t.hierNode.prelim=r.hierNode.prelim+e(t,r),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else r&&(t.hierNode.prelim=r.hierNode.prelim+e(t,r));t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var r=t,o=t,a=o.parentNode.children[0],s=e,l=r.hierNode.modifier,u=o.hierNode.modifier,h=a.hierNode.modifier,c=s.hierNode.modifier;s=qR(s),o=JR(o),s&&o;){r=qR(r),a=JR(a),r.hierNode.ancestor=t;var d=s.hierNode.prelim+c-o.hierNode.prelim-u+i(s,o);d>0&&(tI(QR(s,t,n),t,d),u+=d,l+=d),c+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,h+=a.hierNode.modifier}s&&!qR(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=c-l),o&&!JR(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-h,n=t)}return n}(t,r,t.parentNode.hierNode.defaultAncestor||i[0],e)}function $R(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function XR(t){return arguments.length?t:eI}function YR(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function qR(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function JR(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function QR(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function tI(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function eI(t,e){return t.parentNode===e.parentNode?1:2}var nI=function(){this.parentPoint=[],this.childPoints=[]},iI=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new nI},e.prototype.buildPath=function(t,e){var n=e.childPoints,i=n.length,r=e.parentPoint,o=n[0],a=n[i-1];if(1===i)return t.moveTo(r[0],r[1]),void t.lineTo(o[0],o[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,u=1-l,h=Po(e.forkPosition,1),c=[];c[l]=r[l],c[u]=r[u]+(a[u]-r[u])*h,t.moveTo(r[0],r[1]),t.lineTo(c[0],c[1]),t.moveTo(o[0],o[1]),c[l]=o[l],t.lineTo(c[0],c[1]),c[l]=a[l],t.lineTo(c[0],c[1]),t.lineTo(a[0],a[1]);for(var d=1;d<i-1;d++){var f=n[d];t.moveTo(f[0],f[1]),c[l]=f[l],t.lineTo(c[0],c[1])}},e}(cl),rI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new mo,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){this._controller=new vk(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var i=t.getData(),r=t.layoutInfo,o=this._mainGroup;"radial"===t.get("layout")?(o.x=r.x+r.width/2,o.y=r.y+r.height/2):(o.x=r.x,o.y=r.y),this._updateViewCoordSys(t,n),this._updateController(t,e,n);var a=this._data;i.diff(a).add((function(e){oI(i,e)&&aI(i,e,null,o,t)})).update((function(e,n){var r=a.getItemGraphicEl(n);oI(i,e)?aI(i,e,r,o,t):r&&uI(a,n,r,o,t)})).remove((function(e){var n=a.getItemGraphicEl(e);n&&uI(a,e,n,o,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&i.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))})),this._data=i},e.prototype._updateViewCoordSys=function(t,e){var n=t.getData(),i=[];n.each((function(t){var e=n.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||i.push([+e.x,+e.y])}));var r=[],o=[];ys(i,r,o);var a=this._min,s=this._max;o[0]-r[0]==0&&(r[0]=a?a[0]:r[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-r[1]==0&&(r[1]=a?a[1]:r[1]-1,o[1]=s?s[1]:o[1]+1);var l=t.coordinateSystem=new IR;l.zoomLimit=t.get("scaleLimit"),l.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1]),l.setCenter(t.get("center"),e),l.setZoom(t.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=r,this._max=o},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!_k(e,n,t)})),r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(e){yk(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){bk(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scaleX||1;return((e.getZoom()-1)*n+1)/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Xm);function oI(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function aI(t,e,n,i,r){var o=!n,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",h=t.tree.root,c=a.parentNode===h?a:a.parentNode||a,d=t.getItemGraphicEl(c.dataIndex),f=c.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:f,g=a.getLayout();o?((n=new iM(t,e,null,{symbolInnerColor:u,useNameLabel:!0})).x=p.x,n.y=p.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,i.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,Gu(n,{x:g.x,y:g.y},r);var m=n.getSymbolPath();if("radial"===r.get("layout")){var v=h.children[0],y=v.getLayout(),b=v.children.length,w=void 0,x=void 0;if(g.x===y.x&&!0===a.isExpand&&v.children.length){var _={x:(v.children[0].getLayout().x+v.children[b-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[b-1].getLayout().y)/2};(w=Math.atan2(_.y-y.y,_.x-y.x))<0&&(w=2*Math.PI+w),(x=_.x<y.x)&&(w-=Math.PI)}else(w=Math.atan2(g.y-y.y,g.x-y.x))<0&&(w=2*Math.PI+w),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(x=g.x<y.x)&&(w-=Math.PI):(x=g.x>y.x)||(w-=Math.PI);var C=x?"left":"right",S=s.getModel("label"),M=S.get("rotate"),A=M*(Math.PI/180),T=m.getTextContent();T&&(m.setTextConfig({position:S.get("position")||C,rotation:null==M?-w:A,origin:"center"}),T.setStyle("verticalAlign","middle"))}var k=s.get(["emphasis","focus"]),R="relative"===k?Pt(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===k?a.getAncestorsIndices():"descendant"===k?a.getDescendantIndices():null;R&&(Vl(n).focus=R),function(t,e,n,i,r,o,a,s){var l=e.getModel(),u=t.get("edgeShape"),h=t.get("layout"),c=t.getOrient(),d=t.get(["lineStyle","curveness"]),f=t.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),g=i.__edge;if("curve"===u)e.parentNode&&e.parentNode!==n&&(g||(g=i.__edge=new Kg({shape:hI(h,c,d,r,r)})),Gu(g,{shape:hI(h,c,d,o,a)},t));else if("polyline"===u)if("orthogonal"===h){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var m=e.children,v=[],y=0;y<m.length;y++){var b=m[y].getLayout();v.push([b.x,b.y])}g||(g=i.__edge=new iI({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:c,forkPosition:f}})),Gu(g,{shape:{parentPoint:[a.x,a.y],childPoints:v}},t)}}else 0;g&&("polyline"!==u||e.isExpand)&&(g.useStyle(G({strokeNoScale:!0,fill:null},p)),Ou(g,l,"lineStyle"),gu(g),s.add(g))}(r,a,h,n,p,f,g,i),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var i=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);i&&1===i.hoverState||fu(n.__edge,e)}})}function sI(t,e,n,i,r){var o=lI(e.tree.root,t),a=o.source,s=o.sourceLayout,l=e.getItemGraphicEl(t.dataIndex);if(l){var u=e.getItemGraphicEl(a.dataIndex).__edge,h=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),c=i.get("edgeShape"),d=i.get("layout"),f=i.get("orient"),p=i.get(["lineStyle","curveness"]);h&&("curve"===c?Ku(h,{shape:hI(d,f,p,s,s),style:{opacity:0}},i,{cb:function(){n.remove(h)},removeOpt:r}):"polyline"===c&&"orthogonal"===i.get("layout")&&Ku(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){n.remove(h)},removeOpt:r}))}}function lI(t,e){for(var n,i=e.parentNode===t?e:e.parentNode||e;null==(n=i.getLayout());)i=i.parentNode===t?i:i.parentNode||i;return{source:i,sourceLayout:n}}function uI(t,e,n,i,r){var o=t.tree.getNodeByDataIndex(e),a=lI(t.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Ku(n,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(n),t.setItemGraphicEl(e,null)},removeOpt:s}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach((function(e){sI(e,t,i,r,s)})),sI(o,t,i,r,s)}function hI(t,e,n,i,r){var o,a,s,l,u,h,c,d;if("radial"===t){u=i.rawX,c=i.rawY,h=r.rawX,d=r.rawY;var f=YR(u,c),p=YR(u,c+(d-c)*n),g=YR(h,d+(c-d)*n),m=YR(h,d);return{x1:f.x||0,y1:f.y||0,x2:m.x||0,y2:m.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}return u=i.x,c=i.y,h=r.x,d=r.y,"LR"!==e&&"RL"!==e||(o=u+(h-u)*n,a=c,s=h+(u-h)*n,l=d),"TB"!==e&&"BT"!==e||(o=u,a=c+(d-c)*n,s=h,l=d+(c-d)*n),{x1:u,y1:c,x2:h,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var cI=rI,dI=ma();function fI(t,e){if(dI(i=this).mainData===i){var n=V({},dI(this).datas);n[this.dataType]=e,yI(e,n,t)}else bI(e,this.dataType,dI(this).mainData,t);var i;return e}function pI(t,e){return t.struct&&t.struct.update(),e}function gI(t,e){return Y(dI(e).datas,(function(n,i){n!==e&&bI(n.cloneShallow(),i,e,t)})),e}function mI(t){var e=dI(this).mainData;return null==t||null==e?e:dI(e).datas[t]}function vI(){var t=dI(this).mainData;return null==t?[{data:t}]:q(et(dI(t).datas),(function(e){return{type:e,data:dI(t).datas[e]}}))}function yI(t,e,n){dI(t).datas={},Y(e,(function(e,i){bI(e,i,t,n)}))}function bI(t,e,n,i){dI(n).datas[e]=t,dI(t).mainData=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=mI,t.getLinkedDataAll=vI}var wI=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,yI(e,n,t),Y(n,(function(n){Y(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,it(fI,t))}))})),e.wrapMethod("cloneShallow",it(gI,t)),Y(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,it(pI,t))})),_t(n[e.dataType]===e)},xI=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){ot(t)&&(n=e,e=t,t=null),at(t=t||{})&&(t={order:t});var i,r=t.order||"preorder",o=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},t.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),_I=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,i){var r=new t(n),o=[],a=1;!function t(e,n){var i=e.value;a=Math.max(a,rt(i)?i.length:1),o.push(e);var s=new xI(da(e.name,""),r);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(s,n):r.root=s,r._nodes.push(s);var l=e.children;if(l)for(var u=0;u<l.length;u++)t(l[u],s)}(e),r.root.updateDepthAndHeight(0);var s=Nw(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new Fw(s,n);return l.initData(o),i&&i(l),wI({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},t}();var CI=_I;function SI(t,e,n){if(t&&U(e,t.type)>=0){var i=n.getData().tree.root,r=t.targetNode;if(at(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=t.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function MI(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function AI(t,e){return U(MI(t),e)>=0}function TI(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}var kI=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new Ah(n,this,this.ecModel),r=CI.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=r.getNodeByDataIndex(e);return n&&n.children.length&&n.isExpand||(t.parentModel=i),t}))}));var o=0;r.eachNode("preorder",(function(t){t.depth>o&&(o=t.depth)}));var a=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return r.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=a})),r.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData().tree,r=i.root.children[0],o=i.getNodeByDataIndex(t),a=o.getValue(),s=o.name;o&&o!==r;)s=o.parentNode.name+"."+s,o=o.parentNode;return fp("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=TI(i,this),n.collapsed=!i.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Fp),RI=kI;function II(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function PI(t,e){t.eachSeriesByType("tree",(function(t){!function(t,e){var n=function(t,e){return Pc(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=n;var i=t.get("layout"),r=0,o=0,a=null;"radial"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,a=XR((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(r=n.width,o=n.height,a=XR());var s=t.getData().tree.root,l=s.children[0];if(l){!function(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,i,r=[e];n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(a)}}(s),function(t,e,n){for(var i,r=[t],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)e(i,n)}(l,KR,a),s.hierNode.modifier=-l.hierNode.prelim,II(l,$R);var u=l,h=l,c=l;II(l,(function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>h.getLayout().x&&(h=t),t.depth>c.depth&&(c=t)}));var d=u===h?1:a(u,h)/2,f=d-u.getLayout().x,p=0,g=0,m=0,v=0;if("radial"===i)p=r/(h.getLayout().x+d+f),g=o/(c.depth-1||1),II(l,(function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=YR(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)}));else{var y=t.getOrient();"RL"===y||"LR"===y?(g=o/(h.getLayout().x+d+f),p=r/(c.depth-1||1),II(l,(function(t){v=(t.getLayout().x+f)*g,m="LR"===y?(t.depth-1)*p:r-(t.depth-1)*p,t.setLayout({x:m,y:v},!0)}))):"TB"!==y&&"BT"!==y||(p=r/(h.getLayout().x+d+f),g=o/(c.depth-1||1),II(l,(function(t){m=(t.getLayout().x+f)*p,v="TB"===y?(t.depth-1)*g:o-(t.depth-1)*g,t.setLayout({x:m,y:v},!0)})))}}}(t,e)}))}function EI(t){t.eachSeriesByType("tree",(function(t){var e=t.getData();e.tree.eachNode((function(t){var n=t.getModel().getModel("itemStyle").getItemStyle();V(e.ensureUniqueItemVisual(t.dataIndex,"style"),n)}))}))}var BI=["treemapZoomToNode","treemapRender","treemapMove"];function LI(t){var e=t.getData().tree,n={};e.eachNode((function(e){for(var i=e;i&&i.depth>1;)i=i.parentNode;var r=pd(t.ecModel,i.name||i.dataIndex+"",n);e.setVisual("decal",r)}))}var DI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};OI(n);var i=t.levels||[],r=this.designatedVisualItemStyle={},o=new Ah({itemStyle:r},this,e);i=t.levels=function(t,e){var n,i,r=ra(e.get("color")),o=ra(e.get(["aria","decal","decals"]));if(!r)return;t=t||[],Y(t,(function(t){var e=new Ah(t),r=e.get("color"),o=e.get("decal");(e.get(["itemStyle","color"])||r&&"none"!==r)&&(n=!0),(e.get(["itemStyle","decal"])||o&&"none"!==o)&&(i=!0)}));var a=t[0]||(t[0]={});n||(a.color=r.slice());!i&&o&&(a.decal=o.slice());return t}(i,e);var a=q(i||[],(function(t){return new Ah(t,o,e)}),this),s=CI.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=s.getNodeByDataIndex(e),i=n?a[n.depth]:null;return t.parentModel=i||o,t}))}));return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t);return fp("nameValue",{name:i.getName(t),value:r})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=TI(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},V(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=It(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){LI(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Fp);function OI(t){var e=0;Y(t.children,(function(t){OI(t);var n=t.value;rt(n)&&(n=n[0]),e+=n}));var n=t.value;rt(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),rt(t.value)?t.value[0]=n:t.value=n}var FI=DI,HI=function(){function t(t){this.group=new mo,t.add(this.group)}return t.prototype.render=function(t,e,n,i){var r=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var a=r.getModel("itemStyle"),s=r.getModel("emphasis"),l=a.getModel("textStyle"),u=s.getModel(["itemStyle","textStyle"]),h={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,l),this._renderContent(t,h,a,s,l,u,i),Ec(o,h.pos,h.box)}},t.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var r=da(i.getModel().get("name"),""),o=n.getTextRect(r),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:i,text:r,width:a})}},t.prototype._renderContent=function(t,e,n,i,r,o,a){for(var s,l,u,h,c,d,f,p,g,m=0,v=e.emptyItemWidth,y=t.get(["breadcrumb","height"]),b=(s=e.pos,l=e.box,h=l.width,c=l.height,d=Po(s.left,h),f=Po(s.top,c),p=Po(s.right,h),g=Po(s.bottom,c),(isNaN(d)||isNaN(parseFloat(s.left)))&&(d=0),(isNaN(p)||isNaN(parseFloat(s.right)))&&(p=h),(isNaN(f)||isNaN(parseFloat(s.top)))&&(f=0),(isNaN(g)||isNaN(parseFloat(s.bottom)))&&(g=c),u=mc(u||0),{width:Math.max(p-d-u[1]-u[3],0),height:Math.max(g-f-u[0]-u[2],0)}),w=e.totalWidth,x=e.renderList,_=i.getModel("itemStyle").getItemStyle(),C=x.length-1;C>=0;C--){var S=x[C],M=S.node,A=S.width,T=S.text;w>b.width&&(w-=A-v,A=v,T=null);var k=new Dg({shape:{points:NI(m,0,A,y,C===x.length-1,0===C)},style:G(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new jl({style:nh(r,{text:T})}),textConfig:{position:"inside"},z2:1e5,onclick:it(a,M)});k.disableLabelAnimation=!0,k.getTextContent().ensureState("emphasis").style=nh(o,{text:T}),k.ensureState("emphasis").style=_,Eu(k,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(k),zI(k,t,M),m+=A+8}},t.prototype.remove=function(){this.group.removeAll()},t}();function NI(t,e,n,i,r,o){var a=[[r?t:t-5,e],[t+n,e],[t+n,e+i],[r?t:t-5,e+i]];return!o&&a.splice(2,0,[t+n+5,e+i/2]),!r&&a.push([t,e+i/2]),a}function zI(t,e,n){Vl(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&TI(n,e)}}var WI=HI,jI=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,i,r){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:r}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,r=this._storage.length;i<r;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();var VI=mo,GI=Al,ZI="label",UI="upperLabel",KI=Da([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),$I=function(t){var e=KI(t);return e.stroke=e.fill=e.lineWidth=null,e},XI=ma(),YI=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){if(!(U(e.findComponents({mainType:"series",subType:"treemap",query:i}),t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var r=SI(i,["treemapZoomToNode","treemapRootToNode"],t),o=i&&i.type,a=t.layoutInfo,s=!this._oldTree,l=this._storage,u="treemapRootToNode"===o&&r&&l?{rootNodeGroup:l.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(a),c=t.get("animation"),d=this._doRender(h,t,u);!c||s||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?d.renderFinally():this._doAnimation(h,d,t,u),this._resetController(n),this._renderBreadcrumb(t,n,r)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new VI,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var i=e.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function u(t,i,r,u){return function(t,e,n,i,r,o,a,s,l,u){if(!a)return;var h=a.getLayout(),c=t.getData(),d=a.getModel();if(c.setItemGraphicEl(a.dataIndex,null),!h||!h.isInView)return;var f=h.width,p=h.height,g=h.borderWidth,m=h.invisible,v=a.getRawIndex(),y=s&&s.getRawIndex(),b=a.viewChildren,w=h.upperHeight,x=b&&b.length,_=d.getModel("itemStyle"),C=d.getModel(["emphasis","itemStyle"]),S=d.getModel(["blur","itemStyle"]),M=d.getModel(["select","itemStyle"]),A=_.get("borderRadius")||0,T=z("nodeGroup",VI);if(!T)return;if(l.add(T),T.x=h.x||0,T.y=h.y||0,T.markRedraw(),XI(T).nodeWidth=f,XI(T).nodeHeight=p,h.isAboveViewRoot)return T;var k=z("background",GI,u,20);k&&D(T,k,x&&h.upperLabelHeight);var R=d.getModel("emphasis"),I=R.get("focus"),P=R.get("blurScope"),E=R.get("disabled"),B="ancestor"===I?a.getAncestorsIndices():"descendant"===I?a.getDescendantIndices():I;if(x)Hu(T)&&Fu(T,!1),k&&(Fu(k,!E),c.setItemGraphicEl(a.dataIndex,k),Bu(k,B,P));else{var L=z("content",GI,u,30);L&&O(T,L),k.disableMorphing=!0,k&&Hu(k)&&Fu(k,!1),Fu(T,!E),c.setItemGraphicEl(a.dataIndex,T),Bu(T,B,P)}return T;function D(e,n,i){var r=Vl(n);if(r.dataIndex=a.dataIndex,r.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:f,height:p,r:A}),m)F(n);else{n.invisible=!1;var o=a.getVisual("style"),s=o.stroke,l=$I(_);l.fill=s;var u=KI(C);u.fill=C.get("borderColor");var h=KI(S);h.fill=S.get("borderColor");var c=KI(M);if(c.fill=M.get("borderColor"),i){var d=f-2*g;H(n,s,o.opacity,{x:g,y:0,width:d,height:w})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=h,n.ensureState("select").style=c,gu(n)}e.add(n)}function O(e,n){var i=Vl(n);i.dataIndex=a.dataIndex,i.seriesIndex=t.seriesIndex;var r=Math.max(f-2*g,0),o=Math.max(p-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:r,height:o,r:A}),m)F(n);else{n.invisible=!1;var s=a.getVisual("style"),l=s.fill,u=$I(_);u.fill=l,u.decal=s.decal;var h=KI(C),c=KI(S),d=KI(M);H(n,l,s.opacity,null),n.setStyle(u),n.ensureState("emphasis").style=h,n.ensureState("blur").style=c,n.ensureState("select").style=d,gu(n)}e.add(n)}function F(t){!t.invisible&&o.push(t)}function H(e,n,i,r){var o=d.getModel(r?UI:ZI),s=da(d.get("name"),null),l=o.getShallow("show");th(e,eh(d,r?UI:ZI),{defaultText:l?s:null,inheritColor:n,defaultOpacity:i,labelFetcher:t,labelDataIndex:a.dataIndex});var u=e.getTextContent();if(u){var c=u.style,f=xt(c.padding||0);r&&(e.setTextConfig({layoutRect:r}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var t=Math.max((r?r.width:e.shape.width)-f[1]-f[3],0),n=Math.max((r?r.height:e.shape.height)-f[0]-f[2],0);c.width===t&&c.height===n||u.setStyle({width:t,height:n})},c.truncateMinChar=2,c.lineOverflow="truncate",N(c,r,h);var p=u.getState("emphasis");N(p?p.style:null,r,h)}}function N(e,n,i){var r=e?e.text:null;if(!n&&i.isLeafRoot&&null!=r){var o=t.get("drillDownIcon",!0);e.text=o?o+" "+r:r}}function z(t,i,o,a){var s=null!=y&&n[t][y],l=r[t];return s?(n[t][y]=null,W(l,s)):m||((s=new i)instanceof us&&(s.z2=function(t,e){return 100*t+e}(o,a)),j(l,s)),e[t][v]=s}function W(t,e){var n=t[v]={};e instanceof VI?(n.oldX=e.x,n.oldY=e.y):n.oldShape=V({},e.shape)}function j(t,e){var n=t[v]={},o=a.parentNode,s=e instanceof mo;if(o&&(!i||"drillDown"===i.direction)){var l=0,u=0,h=r.background[o.getRawIndex()];!i&&h&&h.oldShape&&(l=h.oldShape.width,u=h.oldShape.height),s?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!s}}(e,a,s,n,o,l,t,i,r,u)}!function t(e,n,i,r,o){r?(n=e,Y(e,(function(t,e){!t.isRemoved()&&s(e,e)}))):new dw(n,e,a,a).add(s).update(s).remove(it(s,null)).execute();function a(t){return t.getId()}function s(a,s){var l=null!=a?e[a]:null,h=null!=s?n[s]:null,c=u(l,h,i,o);c&&t(l&&l.viewChildren||[],h&&h.viewChildren||[],c,r,o+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],t,i===r||!r,0);var h=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&Y(t,(function(t,n){var i=e[n];Y(t,(function(t){t&&(i.push(t),XI(t).willDelete=!0)}))})),e}(s);return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:h,renderFinally:function(){Y(h,(function(t){Y(t,(function(t){t.parent&&t.parent.remove(t)}))})),Y(l,(function(t){t.invisible=!0,t.dirty()}))}}},e.prototype._doAnimation=function(t,e,n,i){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=(ot(r)?0:r)||0,s=(ot(o)?null:o)||"cubicOut",l=new jI;Y(e.willDeleteEls,(function(t,e){Y(t,(function(t,n){if(!t.invisible){var r,o=t.parent,u=XI(o);if(i&&"drillDown"===i.direction)r=o===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,c=0;u.willDelete||(h=u.nodeWidth/2,c=u.nodeHeight/2),r="nodeGroup"===e?{x:h,y:c,style:{opacity:0}}:{shape:{x:h,y:c,width:0,height:0},style:{opacity:0}}}r&&l.add(t,r,a,0,s)}}))})),Y(this._storage,(function(t,n){Y(t,(function(t,i){var r=e.lastsForAnimation[n][i],o={};r&&(t instanceof mo?null!=r.oldX&&(o.x=t.x,o.y=t.y,t.x=r.oldX,t.y=r.oldY):(r.oldShape&&(o.shape=V({},t.shape),t.setShape(r.oldShape)),r.fadein?(t.setStyle("opacity",0),o.style={opacity:1}):1!==t.style.opacity&&(o.style={opacity:1})),l.add(t,o,a,0,s))}))}),this),this._state="animating",l.finished(nt((function(){this._state="ready",e.renderFinally()}),this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||((e=this._controller=new vk(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",nt(this._onPan,this)),e.on("zoom",nt(this._onZoom,this)));var n=new nn(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return n.contain(e,i)}))},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new nn(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo,s=[1,0,0,1,0,0];ze(s,s,[-(e-=a.x),-(n-=a.y)]),je(s,s,[t.scale,t.scale]),ze(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var i=e.findTarget(t.offsetX,t.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)e._rootToNode(i);else if("zoomToNode"===n)e._zoomToNode(i);else if("link"===n){var o=r.hostTree.data.getItemModel(r.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&Mc(a,s)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,n){var i=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new WI(this.group))).render(t,e,n.node,(function(e){"animating"!==i._state&&(AI(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(t,e),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}}),this),n},e.type="treemap",e}(Xm);var qI=YI,JI=Y,QI=ut,tP=-1,eP=function(){function t(e){var n=e.mappingMethod,i=e.type,r=this.option=z(e);this.type=i,this.mappingMethod=n,this._normalizeData=cP[n];var o=t.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(nP(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,Y(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(r)):"category"===n?r.categories?function(t){var e=t.categories,n=t.categoryMap={},i=t.visual;if(JI(e,(function(t,e){n[t]=e})),!rt(i)){var r=[];ut(i)?JI(i,(function(t,e){var i=n[e];r[null!=i?i:tP]=t})):r[-1]=i,i=hP(t,r)}for(var o=e.length-1;o>=0;o--)null==i[o]&&(delete n[e[o]],e.pop())}(r):nP(r,!0):(_t("linear"!==n||r.dataExtent),nP(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return nt(this._normalizeData,this)},t.listVisualTypes=function(){return et(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){ut(t)?Y(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,i){var r,o=rt(e)?[]:ut(e)?{}:(r=!0,null);return t.eachVisual(e,(function(t,e){var a=n.call(i,t,e);r?o=a:o[e]=a})),o},t.retrieveVisuals=function(e){var n,i={};return e&&JI(t.visualHandlers,(function(t,r){e.hasOwnProperty(r)&&(i[r]=e[r],n=!0)})),n?i:null},t.prepareVisualTypes=function(t){if(rt(t))t=t.slice();else{if(!QI(t))return[];var e=[];JI(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var i,r=1/0,o=0,a=e.length;o<a;o++){var s=e[o].value;if(null!=s){if(s===t||at(s)&&s===t+"")return o;n&&c(s,o)}}for(o=0,a=e.length;o<a;o++){var l=e[o],u=l.interval,h=l.close;if(u){if(u[0]===-1/0){if(dP(h[1],t,u[1]))return o}else if(u[1]===1/0){if(dP(h[0],u[0],t))return o}else if(dP(h[0],u[0],t)&&dP(h[1],t,u[1]))return o;n&&c(u[0],o),n&&c(u[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function c(e,n){var o=Math.abs(e-t);o<r&&(r=o,i=n)}},t.visualHandlers={color:{applyVisual:oP("color"),getColorMapper:function(){var t=this.option;return nt("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),aP.call(this,t)}:function(e,n,i){var r=!!i;return!n&&(e=this._normalizeData(e)),i=_i(e,t.parsedVisual,i),r?i:ki(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return ki(_i(t,this.option.parsedVisual),"rgba")},category:aP,piecewise:function(t,e){var n=uP.call(this,e);return null==n&&(n=ki(_i(t,this.option.parsedVisual),"rgba")),n},fixed:sP}},colorHue:iP((function(t,e){return Ai(t,e)})),colorSaturation:iP((function(t,e){return Ai(t,null,e)})),colorLightness:iP((function(t,e){return Ai(t,null,null,e)})),colorAlpha:iP((function(t,e){return Ti(t,e)})),decal:{applyVisual:oP("decal"),_normalizedToVisual:{linear:null,category:aP,piecewise:null,fixed:null}},opacity:{applyVisual:oP("opacity"),_normalizedToVisual:lP([0,1])},liftZ:{applyVisual:oP("liftZ"),_normalizedToVisual:{linear:sP,category:sP,piecewise:sP,fixed:sP}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:rP,category:aP,piecewise:function(t,e){var n=uP.call(this,e);return null==n&&(n=rP.call(this,t)),n},fixed:sP}},symbolSize:{applyVisual:oP("symbolSize"),_normalizedToVisual:lP([0,1])}},t}();function nP(t,e){var n=t.visual,i=[];ut(n)?JI(n,(function(t){i.push(t)})):null!=n&&i.push(n);e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),hP(t,i)}function iP(t){return{applyVisual:function(e,n,i){var r=this.mapValueToVisual(e);i("color",t(n("color"),r))},_normalizedToVisual:lP([0,1])}}function rP(t){var e=this.option.visual;return e[Math.round(Io(t,[0,1],[0,e.length-1],!0))]||{}}function oP(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function aP(t){var e=this.option.visual;return e[this.option.loop&&t!==tP?t%e.length:t]}function sP(){return this.option.visual[0]}function lP(t){return{linear:function(e){return Io(e,t,this.option.visual,!0)},category:aP,piecewise:function(e,n){var i=uP.call(this,n);return null==i&&(i=Io(e,t,this.option.visual,!0)),i},fixed:sP}}function uP(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[eP.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function hP(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=q(e,(function(t){var e=yi(t);return e||[0,0,0,1]}))),e}var cP={linear:function(t){return Io(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=eP.findPieceIndex(t,e,!0);if(null!=n)return Io(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?tP:e},fixed:Dt};function dP(t,e,n){return t?e<=n:e<n}var fP=eP,pP=ma(),gP={seriesType:"treemap",reset:function(t){var e=t.getData().tree.root;e.isRemoved()||mP(e,{},t.getViewRoot().getAncestors(),t)}};function mP(t,e,n,i){var r=t.getModel(),o=t.getLayout(),a=t.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),u=function(t,e,n){var i=V({},e),r=n.designatedVisualItemStyle;return Y(["color","colorAlpha","colorSaturation"],(function(n){r[n]=e[n];var o=t.get(n);r[n]=null,null!=o&&(i[n]=o)})),i}(l,e,i),h=a.ensureUniqueItemVisual(t.dataIndex,"style"),c=l.get("borderColor"),d=l.get("borderColorSaturation");null!=d&&(c=function(t,e){return null!=e?Ai(e,null,null,t):null}(d,s=vP(u))),h.stroke=c;var f=t.viewChildren;if(f&&f.length){var p=function(t,e,n,i,r,o){if(!o||!o.length)return;var a=bP(e,"color")||null!=r.color&&"none"!==r.color&&(bP(e,"colorAlpha")||bP(e,"colorSaturation"));if(!a)return;var s=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var h=e.get("colorMappingBy"),c={type:a.name,dataExtent:u,visual:a.range};"color"!==c.type||"index"!==h&&"id"!==h?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var d=new fP(c);return pP(d).drColorMappingBy=h,d}(0,r,o,0,u,f);Y(f,(function(t,e){if(t.depth>=n.length||t===n[t.depth]){var o=function(t,e,n,i,r,o){var a=V({},e);if(r){var s=r.type,l="color"===s&&pP(r).drColorMappingBy,u="index"===l?i:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=r.mapValueToVisual(u)}return a}(r,u,t,e,p,i);mP(t,o,n,i)}}))}else s=vP(u),h.fill=s}}function vP(t){var e=yP(t,"color");if(e){var n=yP(t,"colorAlpha"),i=yP(t,"colorSaturation");return i&&(e=Ai(e,null,null,i)),n&&(e=Ti(e,n)),e}}function yP(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function bP(t,e){var n=t.get(e);return rt(n)&&n.length?{name:e,range:n}:null}var wP=Math.max,xP=Math.min,_P=vt,CP=Y,SP=["itemStyle","borderWidth"],MP=["itemStyle","gapWidth"],AP=["upperLabel","show"],TP=["upperLabel","height"],kP={seriesType:"treemap",reset:function(t,e,n,i){var r=n.getWidth(),o=n.getHeight(),a=t.option,s=Pc(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=Po(_P(s.width,l[0]),r),h=Po(_P(s.height,l[1]),o),c=i&&i.type,d=SI(i,["treemapZoomToNode","treemapRootToNode"],t),f="treemapRender"===c||"treemapMove"===c?i.rootRect:null,p=t.getViewRoot(),g=MI(p);if("treemapMove"!==c){var m="treemapZoomToNode"===c?function(t,e,n,i,r){var o,a=(e||{}).node,s=[i,r];if(!a||a===n)return s;var l=i*r,u=l*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var h=0,c=o.children,d=0,f=c.length;d<f;d++)h+=c[d].getValue();var p=a.getValue();if(0===p)return s;u*=h/p;var g=o.getModel(),m=g.get(SP);(u+=4*m*m+(3*m+Math.max(m,BP(g)))*Math.pow(u,.5))>zo&&(u=zo),a=o}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,r*v]}(t,d,p,u,h):f?[f.width,f.height]:[u,h],v=a.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var y={squareRatio:a.squareRatio,sort:v,leafDepth:a.leafDepth};p.hostTree.clearLayouts();var b={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};p.setLayout(b),RP(p,y,!1,0),b=p.getLayout(),CP(g,(function(t,e){var n=(g[e+1]||p).getValue();t.setLayout(V({dataExtent:[n,n],borderWidth:0,upperHeight:0},b))}))}var w=t.getData().tree.root;w.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var a=[o.width/2,o.height/2],s=r;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(s,f,d),!0),t.setLayoutInfo(s),EP(w,new nn(-s.x,-s.y,r,o),g,p,0)}};function RP(t,e,n,i){var r,o;if(!t.isRemoved()){var a=t.getLayout();r=a.width,o=a.height;var s=t.getModel(),l=s.get(SP),u=s.get(MP)/2,h=BP(s),c=Math.max(l,h),d=l-u,f=c-u;t.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0);var p=(r=wP(r-2*d,0))*(o=wP(o-d-f,0)),g=function(t,e,n,i,r,o){var a=t.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return t.viewChildren=[];a=Q(a,(function(t){return!t.isRemoved()})),function(t,e){e&&t.sort((function(t,n){var i="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}))}(a,s);var u=function(t,e,n){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var a,s=t.get("visualDimension");e&&e.length?"value"===s&&n?(a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],CP(e,(function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)}))):a=[NaN,NaN];return{sum:i,dataExtent:a}}(e,a,s);if(0===u.sum)return t.viewChildren=[];if(u.sum=function(t,e,n,i,r){if(!i)return n;for(var o=t.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var u=r["asc"===i?a-l-1:l].getValue();u/n*e<o&&(s=l,n-=u)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(e,n,u.sum,s,a),0===u.sum)return t.viewChildren=[];for(var h=0,c=a.length;h<c;h++){var d=a[h].getValue()/u.sum*n;a[h].setLayout({area:d})}l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0);return t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}(t,s,p,e,n,i);if(g.length){var m={x:d,y:f,width:r,height:o},v=xP(r,o),y=1/0,b=[];b.area=0;for(var w=0,x=g.length;w<x;){var _=g[w];b.push(_),b.area+=_.getLayout().area;var C=IP(b,v,e.squareRatio);C<=y?(w++,y=C):(b.area-=b.pop().getLayout().area,PP(b,v,m,u,!1),v=xP(m.width,m.height),b.length=b.area=0,y=1/0)}if(b.length&&PP(b,v,m,u,!0),!n){var S=s.get("childrenVisibleMin");null!=S&&p<S&&(n=!0)}for(w=0,x=g.length;w<x;w++)RP(g[w],e,n,i+1)}}}function IP(t,e,n){for(var i=0,r=1/0,o=0,a=void 0,s=t.length;o<s;o++)(a=t[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=t.area*t.area,u=e*e*n;return l?wP(u*i/l,l/(u*r)):1/0}function PP(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],h=e?t.area/e:0;(r||h>n[l[a]])&&(h=n[l[a]]);for(var c=0,d=t.length;c<d;c++){var f=t[c],p={},g=h?f.getLayout().area/h:0,m=p[l[a]]=wP(h-2*i,0),v=n[s[o]]+n[l[o]]-u,y=c===d-1||v<g?v:g,b=p[l[o]]=wP(y-2*i,0);p[s[a]]=n[s[a]]+xP(i,m/2),p[s[o]]=u+xP(i,b/2),u+=y,f.setLayout(p,!0)}n[s[a]]+=h,n[l[a]]-=h}function EP(t,e,n,i,r){var o=t.getLayout(),a=n[r],s=a&&a===t;if(!(a&&!s||r===n.length&&t!==i)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var l=new nn(e.x-o.x,e.y-o.y,e.width,e.height);CP(t.viewChildren||[],(function(t){EP(t,l,n,i,r+1)}))}}function BP(t){return t.get(AP)?t.get(TP):0}function LP(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getGraph().data,r=n.mapArray(n.getName);i.filterSelf((function(t){var n=i.getItemModel(t).getShallow("category");if(null!=n){lt(n)&&(n=r[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0}))}))}function DP(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each((function(i){var o=n.getName(i);r["ec-"+o]=i;var a=n.getItemModel(i),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(o,e)),n.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var h=a.getShallow(l[u],!0);null!=h&&n.setItemVisual(i,l[u],h)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t).getShallow("category");if(null!=e){at(e)&&(e=r["ec-"+e]);var o=n.getItemVisual(e,"style");V(i.ensureUniqueItemVisual(t,"style"),o);for(var a=["symbol","symbolSize","symbolKeepAspect"],s=0;s<a.length;s++)i.setItemVisual(t,a[s],n.getItemVisual(e,a[s]))}}))}))}function OP(t){return t instanceof Array||(t=[t,t]),t}function FP(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=OP(t.get("edgeSymbol")),r=OP(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),r=e.getEdgeByIndex(t),o=OP(i.getShallow("symbol",!0)),a=OP(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(t,"style");switch(V(l,s),l.stroke){case"source":var u=r.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=r.node2.getVisual("style");l.stroke=u&&u.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),a[0]&&r.setVisual("fromSymbolSize",a[0]),a[1]&&r.setVisual("toSymbolSize",a[1])}))}))}var HP="--\x3e",NP=function(t){return t.get("autoCurveness")||null},zP=function(t,e){var n=NP(t),i=20,r=[];if(lt(n))i=n;else if(rt(n))return void(t.__curvenessList=n);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=r},WP=function(t,e,n){var i=[t.id,t.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[n.uid,i,r].join(HP)},jP=function(t){var e=t.split(HP);return[e[0],e[2],e[1]].join(HP)},VP=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function GP(t,e,n,i){var r=NP(e),o=rt(r);if(!r)return null;var a=function(t,e){var n=WP(t.node1,t.node2,e);return e.__edgeMap[n]}(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=function(t,e){return VP(WP(t.node1,t.node2,e),e)+VP(WP(t.node2,t.node1,e),e)}(t,e);zP(e,u),t.lineStyle=t.lineStyle||{};var h=WP(t.node1,t.node2,e),c=e.__curvenessList,d=o||u%2?0:1;if(a.isForward)return c[d+s];var f=jP(h),p=VP(f,e),g=c[s+p+d];return i?o?r&&0===r[0]?(p+d)%2?g:-g:((p%2?0:1)+d)%2?g:-g:(p+d)%2?g:-g:c[s+p+d]}function ZP(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),UP(n,t)}}function UP(t,e){t.eachEdge((function(t,n){var i=bt(t.getModel().get(["lineStyle","curveness"]),-GP(t,e,n,!0),0),r=Nt(t.node1.getLayout()),o=Nt(t.node2.getLayout()),a=[r,o];+i&&a.push([(r[0]+o[0])/2-(r[1]-o[1])*i,(r[1]+o[1])/2-(o[0]-r[0])*i]),t.setLayout(a)}))}function KP(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),r=[];Y(n.dimensions,(function(t){r=r.concat(i.mapDimensionsAll(t))}));for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}UP(i.graph,t)}else e&&"none"!==e||ZP(t)}))}function $P(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*n+1)/i}function XP(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var YP=Math.PI,qP=[];function JP(t,e,n,i){var r=t.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),a=t.getData(),s=a.graph,l=o.width/2+o.x,u=o.height/2+o.y,h=Math.min(o.width,o.height)/2,c=a.count();if(a.setLayout({cx:l,cy:u}),c){if(n){var d=r.pointToData(i),f=d[0],p=d[1],g=[f-l,p-u];Jt(g,g),qt(g,g,h),n.setLayout([l+g[0],u+g[1]],!0),tE(n,t.get(["circular","rotateLabel"]),l,u)}QP[e](t,s,a,h,l,u,c),s.eachEdge((function(e,n){var i,r=bt(e.getModel().get(["lineStyle","curveness"]),GP(e,t,n),0),o=Nt(e.node1.getLayout()),a=Nt(e.node2.getLayout()),s=(o[0]+a[0])/2,h=(o[1]+a[1])/2;+r&&(i=[l*(r*=3)+s*(1-r),u*r+h*(1-r)]),e.setLayout([o,a,i])}))}}}var QP={value:function(t,e,n,i,r,o,a){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||a);e.eachNode((function(t){var e=t.getValue("value"),n=u*(l?e:1)/2;s+=n,t.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=n}))},symbolSize:function(t,e,n,i,r,o,a){var s=0;qP.length=a;var l=$P(t);e.eachNode((function(t){var e=XP(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/i);isNaN(n)&&(n=YP/2),qP[t.dataIndex]=n,s+=2*n}));var u=(2*YP-s)/a/2,h=0;e.eachNode((function(t){var e=u+qP[t.dataIndex];h+=e,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([i*Math.cos(h)+r,i*Math.sin(h)+o]),h+=e}))}};function tE(t,e,n,i){var r=t.getGraphicEl();if(r){var o=t.getModel().get(["label","rotate"])||0,a=r.getSymbolPath();if(e){var s=t.getLayout(),l=Math.atan2(s[1]-i,s[0]-n);l<0&&(l=2*Math.PI+l);var u=s[0]<n;u&&(l-=Math.PI);var h=u?"left":"right";a.setTextConfig({rotation:-l,position:h,origin:"center"});var c=a.ensureState("emphasis");V(c.textConfig||(c.textConfig={}),{position:h})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function eE(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&JP(t,"symbolSize")}))}var nE=jt;function iE(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),r=i.data,o=i.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?r.each((function(t){var e=r.getId(t);r.setItemLayout(t,n[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&JP(t,"value"):ZP(t);var l=r.getDataExtent("value"),u=o.getDataExtent("value"),h=a.get("repulsion"),c=a.get("edgeLength"),d=rt(h)?h:[h,h],f=rt(c)?c:[c,c];f=[f[1],f[0]];var p=r.mapArray("value",(function(t,e){var n=r.getItemLayout(e),i=Io(t,l,d);return isNaN(i)&&(i=(d[0]+d[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=o.mapArray("value",(function(e,n){var r=i.getEdgeByIndex(n),o=Io(e,u,f);isNaN(o)&&(o=(f[0]+f[1])/2);var a=r.getModel(),s=bt(r.getModel().get(["lineStyle","curveness"]),-GP(r,t,n,!0),0);return{n1:p[r.node1.dataIndex],n2:p[r.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),m=e.getBoundingRect(),v=function(t,e,n){for(var i=t,r=e,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=null==n.gravity?.1:n.gravity,h=0;h<i.length;h++){var c=i[h];c.p||(c.p=Ft(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=Nt(c.p),c.edges=null}var d,f,p=null==n.friction?.6:n.friction,g=p;return{warmUp:function(){g=.8*p},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){f=t},step:function(t){d&&d(i,r);for(var e=[],n=i.length,o=0;o<r.length;o++){var a=r[o];if(!a.ignoreForceLayout){var s=a.n1;Vt(e,(m=a.n2).p,s.p);var h=Gt(e)-a.d,c=m.w/(s.w+m.w);isNaN(c)&&(c=0),Jt(e,e),!s.fixed&&nE(s.p,s.p,e,c*h*g),!m.fixed&&nE(m.p,m.p,e,-(1-c)*h*g)}}for(o=0;o<n;o++)(b=i[o]).fixed||(Vt(e,l,b.p),nE(b.p,b.p,e,u*g));for(o=0;o<n;o++){s=i[o];for(var p=o+1;p<n;p++){var m;Vt(e,(m=i[p]).p,s.p),0===(h=Gt(e))&&(zt(e,Math.random()-.5,Math.random()-.5),h=1);var v=(s.rep+m.rep)/h/h;!s.fixed&&nE(s.pp,s.pp,e,v),!m.fixed&&nE(m.pp,m.pp,e,-v)}}var y=[];for(o=0;o<n;o++){var b;(b=i[o]).fixed||(Vt(y,b.p,b.pp),nE(b.p,b.p,y,g),Ht(b.pp,b.p))}var w=(g*=.992)<.01;f&&f(i,r,w),t&&t(w)}}}(p,g,{rect:m,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep((function(t,e){for(var n=0,r=t.length;n<r;n++)t[n].fixed&&Ht(t[n].p,i.getNodeByIndex(n).getLayout())})),v.afterStep((function(t,e,o){for(var a=0,s=t.length;a<s;a++)t[a].fixed||i.getNodeByIndex(a).setLayout(t[a].p),n[r.getId(a)]=t[a].p;for(a=0,s=e.length;a<s;a++){var l=e[a],u=i.getEdgeByIndex(a),h=l.n1.p,c=l.n2.p,d=u.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],Ht(d[0],h),Ht(d[1],c),+l.curveness&&(d[2]=[(h[0]+c[0])/2-(h[1]-c[1])*l.curveness,(h[1]+c[1])/2-(c[0]-h[0])*l.curveness]),u.setLayout(d)}})),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null}))}function rE(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var i=t.get("coordinateSystem");if(!i||"view"===i){var r=t.getData(),o=[],a=[];ys(r.mapArray((function(t){var e=r.getItemModel(t);return[+e.get("x"),+e.get("y")]})),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(t,e,n){return Pc(V(t.getBoxLayoutParams(),{aspect:n}),{width:e.getWidth(),height:e.getHeight()})}(t,e,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var u=a[0]-o[0],h=a[1]-o[1],c=l.width,d=l.height,f=t.coordinateSystem=new IR;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(o[0],o[1],u,h),f.setViewRect(l.x,l.y,c,d),f.setCenter(t.get("center"),e),f.setZoom(t.get("zoom")),n.push(f)}})),n}var oE=jg.prototype,aE=Kg.prototype,sE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}(0,g.ZT)(e,t)}(sE);function lE(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var uE=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return(0,g.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new sE},e.prototype.buildPath=function(t,e){lE(e)?oE.buildPath.call(this,t,e):aE.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return lE(this.shape)?oE.pointAt.call(this,t):aE.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=lE(e)?[e.x2-e.x1,e.y2-e.y1]:aE.tangentAt.call(this,t);return Jt(n,n)},e}(cl),hE=["fromSymbol","toSymbol"];function cE(t){return"_"+t+"Type"}function dE(t,e,n){var i=e.getItemVisual(n,t);if(!i||"none"===i)return i;var r=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=ay(r);return i+l+sy(a||0,l)+(o||"")+(s||"")}function fE(t,e,n){var i=e.getItemVisual(n,t);if(i&&"none"!==i){var r=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=ay(r),u=sy(a||0,l),h=oy(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=t,h}}function pE(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var gE=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createLine(e,n,i),r}return(0,g.ZT)(e,t),e.prototype._createLine=function(t,e,n){var i=t.hostModel,r=function(t){var e=new uE({name:"line",subPixelOptimize:!0});return pE(e.shape,t),e}(t.getItemLayout(e));r.shape.percent=0,Zu(r,{shape:{percent:1}},i,e),this.add(r),Y(hE,(function(n){var i=fE(n,t,e);this.add(i),this[cE(n)]=dE(n,t,e)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=t.getItemLayout(e),a={shape:{}};pE(a.shape,o),Gu(r,a,i,e),Y(hE,(function(n){var i=dE(n,t,e),r=cE(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=fE(n,t,e);this.add(o)}this[r]=i}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,h=n&&n.focus,c=n&&n.blurScope;if(!n||t.hasItemOption){var d=t.getItemModel(e),f=d.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),a=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),u=f.get("disabled"),h=f.get("focus"),c=f.get("blurScope"),l=eh(d)}var p=t.getItemVisual(e,"style"),g=p.stroke;r.useStyle(p),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=a,r.ensureState("select").style=s,Y(hE,(function(t){var e=this.childOfName(t);if(e){e.setColor(g),e.style.opacity=p.opacity;for(var n=0;n<Xl.length;n++){var i=Xl[n],o=r.getState(i);if(o){var a=o.style||{},s=e.ensureState(i),l=s.style||(s.style={});null!=a.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}e.markRedraw()}}),this);var m=i.getRawValue(e);th(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:g||"#000",defaultOpacity:p.opacity,defaultText:(null==m?t.getName(e):isFinite(m)?Eo(m):m)+""});var v=this.getTextContent();if(v){var y=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=y.get("position")||"middle";var b=y.get("distance");rt(b)||(b=[b,b]),v.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),Eu(this,h,c,u)},e.prototype.highlight=function(){yu(this)},e.prototype.downplay=function(){bu(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");pE(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.getTextContent();if(e||n||i&&!i.ignore){for(var r=1,o=this.parent;o;)o.scaleX&&(r/=o.scaleX),o=o.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),h=Vt([],u,l);if(Jt(h,h),e&&(e.setPosition(l),C(e,0),e.scaleX=e.scaleY=r*s,e.markRedraw()),n&&(n.setPosition(u),C(n,1),n.scaleX=n.scaleY=r*s,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var c=void 0,d=void 0,f=i.__labelDistance,p=f[0]*r,g=f[1]*r,m=s/2,v=a.tangentAt(m),y=[v[1],-v[0]],b=a.pointAt(m);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var w=v[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var x=-Math.atan2(v[1],v[0]);u[0]<l[0]&&(x=Math.PI+x),i.rotation=x}var _=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-g,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=g,d="top";break;default:_=0,d="middle"}switch(i.__position){case"end":i.x=h[0]*p+u[0],i.y=h[1]*g+u[1],c=h[0]>.8?"left":h[0]<-.8?"right":"center",d=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":i.x=-h[0]*p+l[0],i.y=-h[1]*g+l[1],c=h[0]>.8?"right":h[0]<-.8?"left":"center",d=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=p*w+l[0],i.y=l[1]+_,c=v[0]<0?"right":"left",i.originX=-p*w,i.originY=-_;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=b[0],i.y=b[1]+_,c="center",i.originY=-_;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-p*w+u[0],i.y=u[1]+_,c=v[0]>=0?"right":"left",i.originX=p*w,i.originY=-_}i.scaleX=i.scaleY=r,i.setStyle({verticalAlign:i.__verticalAlign||d,align:i.__align||c})}}}function C(t,e){var n=t.__specifiedRotation;if(null==n){var i=a.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else t.attr("rotation",n)}},e}(mo),mE=gE;function vE(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:eh(e)}}function yE(t){return isNaN(t[0])||isNaN(t[1])}function bE(t){return t&&!yE(t[0])&&!yE(t[1])}var wE=function(){function t(t){this.group=new mo,this._LineCtor=t||mE}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,r=n._lineData;n._lineData=t,r||i.removeAll();var o=vE(t);t.diff(r).add((function(n){e._doAdd(t,n,o)})).update((function(n,i){e._doUpdate(r,t,i,n,o)})).remove((function(t){i.remove(r.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=vE(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i<t.end;i++){if(bE(e.getItemLayout(i))){var r=new this._LineCtor(e,i,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(i,r),this._progressiveEls.push(r)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){zm(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){if(bE(t.getItemLayout(e))){var i=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,i),this.group.add(i)}},t.prototype._doUpdate=function(t,e,n,i,r){var o=t.getItemGraphicEl(n);bE(e.getItemLayout(i))?(o?o.updateData(e,i,r):o=new this._LineCtor(e,i,r),e.setItemGraphicEl(i,o),this.group.add(o)):this.group.remove(o)},t}(),xE=[],_E=[],CE=[],SE=Kn,ME=ne,AE=Math.abs;function TE(t,e,n){for(var i,r=t[0],o=t[1],a=t[2],s=1/0,l=n*n,u=.1,h=.1;h<=.9;h+=.1){xE[0]=SE(r[0],o[0],a[0],h),xE[1]=SE(r[1],o[1],a[1],h),(f=AE(ME(xE,e)-l))<s&&(s=f,i=h)}for(var c=0;c<32;c++){var d=i+u;_E[0]=SE(r[0],o[0],a[0],i),_E[1]=SE(r[1],o[1],a[1],i),CE[0]=SE(r[0],o[0],a[0],d),CE[1]=SE(r[1],o[1],a[1],d);var f=ME(_E,e)-l;if(AE(f)<.01)break;var p=ME(CE,e)-l;u/=2,f<0?p>=0?i+=u:i-=u:p>=0?i-=u:i+=u}return i}function kE(t,e){var n=[],i=Yn,r=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),u=t.getVisual("fromSymbol"),h=t.getVisual("toSymbol");l.__original||(l.__original=[Nt(l[0]),Nt(l[1])],l[2]&&l.__original.push(Nt(l[2])));var c=l.__original;if(null!=l[2]){if(Ht(r[0],c[0]),Ht(r[1],c[2]),Ht(r[2],c[1]),u&&"none"!==u){var d=XP(t.node1),f=TE(r,c[0],d*e);i(r[0][0],r[1][0],r[2][0],f,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],f,n),r[0][1]=n[3],r[1][1]=n[4]}if(h&&"none"!==h){d=XP(t.node2),f=TE(r,c[1],d*e);i(r[0][0],r[1][0],r[2][0],f,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],f,n),r[1][1]=n[1],r[2][1]=n[2]}Ht(l[0],r[0]),Ht(l[1],r[2]),Ht(l[2],r[1])}else{if(Ht(o[0],c[0]),Ht(o[1],c[1]),Vt(a,o[1],o[0]),Jt(a,a),u&&"none"!==u){d=XP(t.node1);jt(o[0],o[0],a,d*e)}if(h&&"none"!==h){d=XP(t.node2);jt(o[1],o[1],a,-d*e)}Ht(l[0],o[0]),Ht(l[1],o[1])}}))}function RE(t){return"view"===t.type}var IE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){var n=new lM,i=new wE,r=this.group;this._controller=new vk(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(RE(r)){var l={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?s.attr(l):Gu(s,l,t)}kE(t.getGraph(),$P(t));var u=t.getData();o.updateData(u);var h=t.getEdgeData();a.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var c=t.forceLayout,d=t.get(["force","layoutAnimation"]);c&&this._startForceLayoutIteration(c,d);var f=t.get("layout");u.graph.eachNode((function(e){var n=e.dataIndex,r=e.getGraphicEl(),o=e.getModel();if(r){r.off("drag").off("dragend");var a=o.get("draggable");a&&r.on("drag",(function(o){switch(f){case"force":c.warmUp(),!i._layouting&&i._startForceLayoutIteration(c,d),c.setFixed(n),u.setItemLayout(n,[r.x,r.y]);break;case"circular":u.setItemLayout(n,[r.x,r.y]),e.setLayout({fixed:!0},!0),JP(t,"symbolSize",e,[o.offsetX,o.offsetY]),i.updateLayout(t);break;default:u.setItemLayout(n,[r.x,r.y]),UP(t.getGraph(),t),i.updateLayout(t)}})).on("dragend",(function(){c&&c.setUnfixed(n)})),r.setDraggable(a,!!o.get("cursor")),"adjacency"===o.get(["emphasis","focus"])&&(Vl(r).focus=e.getAdjacentDataIndices())}})),u.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===n&&(Vl(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var p="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),g=u.getLayout("cx"),m=u.getLayout("cy");u.graph.eachNode((function(t){tE(t,p,g,m)})),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;!function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))}()},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,o=this._controllerHost,a=this.group;r.setPointerChecker((function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!_k(e,n,t)})),RE(t.coordinateSystem)?(r.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(e){yk(o,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){bk(o,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),kE(t.getGraph(),$P(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=$P(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){kE(t.getGraph(),$P(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Xm),PE=IE;function EE(t){return"_EC_"+t}var BE=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[EE(t)]){var i=new LE(t,e);return i.hostGraph=this,this.nodes.push(i),n[EE(t)]=i,i}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[EE(t)]},t.prototype.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if(lt(t)&&(t=this.nodes[t]),lt(e)&&(e=this.nodes[e]),t instanceof LE||(t=i[EE(t)]),e instanceof LE||(e=i[EE(e)]),t&&e){var o=t.id+"-"+e.id,a=new DE(t,e,n);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),r[o]=a,a}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof LE&&(t=t.id),e instanceof LE&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},t.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof LE||(e=this._nodesMap[EE(e)]),e){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var a=[e];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var u=l[o],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(i,h,s))return;a.push(h),h.__visited=!0}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf((function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)i[e.getRawIndex(r)].dataIndex=r},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,i=this.edges,r=0;r<n.length;r++)e.addNode(n[r].id,n[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),LE=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t.prototype.getTrajectoryDataIndices=function(){for(var t=It(),e=It(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var r=[i.node1],o=[i.node2],a=0;a<r.length;){var s=r[a];a++,e.set(s.dataIndex,!0);for(var l=0;l<s.inEdges.length;l++)t.set(s.inEdges[l].dataIndex,!0),r.push(s.inEdges[l].node1)}for(a=0;a<o.length;){var u=o[a];a++,e.set(u.dataIndex,!0);for(l=0;l<u.outEdges.length;l++)t.set(u.outEdges[l].dataIndex,!0),o.push(u.outEdges[l].node2)}}}return{edge:t.keys(),node:e.keys()}},t}(),DE=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var t=It(),e=It();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],r=0;r<n.length;){var o=n[r];r++,e.set(o.dataIndex,!0);for(var a=0;a<o.inEdges.length;a++)t.set(o.inEdges[a].dataIndex,!0),n.push(o.inEdges[a].node1)}for(r=0;r<i.length;){var s=i[r];r++,e.set(s.dataIndex,!0);for(a=0;a<s.outEdges.length;a++)t.set(s.outEdges[a].dataIndex,!0),i.push(s.outEdges[a].node2)}return{edge:t.keys(),node:e.keys()}},t}();function OE(t,e){return{getValue:function(n){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}$(LE,OE("hostGraph","data")),$(DE,OE("hostGraph","edgeData"));var FE=BE;function HE(t,e,n,i,r){for(var o=new FE(i),a=0;a<t.length;a++)o.addNode(vt(t[a].id,t[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<e.length;a++){var h=e[a],c=h.source,d=h.target;o.addEdge(c,d,u)&&(l.push(h),s.push(vt(da(h.id,null),c+" > "+d)),u++)}var f,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)f=Kw(t,n);else{var g=Ad.get(p),m=g&&g.dimensions||[];U(m,"value")<0&&m.concat(["value"]);var v=Nw(t,{coordDimensions:m,encodeDefine:n.getEncode()}).dimensions;(f=new Fw(v,n)).initData(t)}var y=new Fw(["value"],n);return y.initData(l,s),r&&r(f,y),wI({mainData:f,struct:o,structAttr:"graph",datas:{node:f,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var NE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,g.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new IA(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),oa(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n,i=t.edges||t.links||[],r=t.data||t.nodes||[],o=this;if(r&&i){NP(n=this)&&(n.__curvenessList=[],n.__edgeMap={},zP(n));var a=HE(r,i,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var n=Ah.prototype.getModel;function i(t,e){var i=n.call(this,t,e);return i.resolveParentPath=r,i}function r(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=r,t.getModel=i,t}))}));return Y(a.edges,(function(t){!function(t,e,n,i){if(NP(n)){var r=WP(t,e,n),o=n.__edgeMap,a=o[jP(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}(t.node1,t.node2,this,t.dataIndex)}),this),a.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),o=i.graph.getEdgeByIndex(t),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),fp("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}return Mp({series:this,dataIndex:t,multipleSeries:e})},e.prototype._updateCategoriesData=function(){var t=q(this.option.categories||[],(function(t){return null!=t.value?t:V({value:0},t)})),e=new Fw(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Fp),zE=NE,WE={type:"graphRoam",event:"graphRoam",update:"none"};var jE=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},VE=function(t){function e(e){var n=t.call(this,e)||this;return n.type="pointer",n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new jE},e.prototype.buildPath=function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=r/3?1:2),l=e.y-i(a)*o*(o>=r/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,l)},e}(cl),GE=VE;function ZE(t,e){var n=null==t?"":t+"";return e&&(at(e)?n=e.replace("{value}",n):ot(e)&&(n=e(t))),n}var UE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]),r=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r);return{cx:Po(n[0],e.getWidth()),cy:Po(n[1],e.getHeight()),r:Po(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,i,r),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,i,r){var o=this.group,a=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,u=t.getModel("axisLine"),h=u.get("roundCap")?ZM:kg,c=u.get("show"),d=u.getModel("lineStyle"),f=d.get("width"),p=[s,l];js(p,!a);for(var g=(l=p[1])-(s=p[0]),m=s,v=[],y=0;c&&y<i.length;y++){var b=new h({shape:{startAngle:m,endAngle:l=s+g*Math.min(Math.max(i[y][0],0),1),cx:r.cx,cy:r.cy,clockwise:a,r0:r.r-f,r:r.r},silent:!0});b.setStyle({fill:i[y][1]}),b.setStyle(d.getLineStyle(["color","width"])),v.push(b),m=l}v.reverse(),Y(v,(function(t){return o.add(t)}));var w=function(t){if(t<=0)return i[0][1];var e;for(e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};this._renderTicks(t,e,n,w,r,s,l,a,f),this._renderTitleAndDetail(t,e,n,w,r),this._renderAnchor(t,r),this._renderPointer(t,e,n,w,r,s,l,a,f)},e.prototype._renderTicks=function(t,e,n,i,r,o,a,s,l){for(var u,h,c=this.group,d=r.cx,f=r.cy,p=r.r,g=+t.get("min"),m=+t.get("max"),v=t.getModel("splitLine"),y=t.getModel("axisTick"),b=t.getModel("axisLabel"),w=t.get("splitNumber"),x=y.get("splitNumber"),_=Po(v.get("length"),p),C=Po(y.get("length"),p),S=o,M=(a-o)/w,A=M/x,T=v.getModel("lineStyle").getLineStyle(),k=y.getModel("lineStyle").getLineStyle(),R=v.get("distance"),I=0;I<=w;I++){if(u=Math.cos(S),h=Math.sin(S),v.get("show")){var P=new jg({shape:{x1:u*(p-(E=R?R+l:l))+d,y1:h*(p-E)+f,x2:u*(p-_-E)+d,y2:h*(p-_-E)+f},style:T,silent:!0});"auto"===T.stroke&&P.setStyle({stroke:i(I/w)}),c.add(P)}if(b.get("show")){var E=b.get("distance")+R,B=ZE(Eo(I/w*(m-g)+g),b.get("formatter")),L=i(I/w),D=u*(p-_-E)+d,O=h*(p-_-E)+f,F=b.get("rotate"),H=0;"radial"===F?(H=-S+2*Math.PI)>Math.PI/2&&(H+=Math.PI):"tangential"===F?H=-S-Math.PI/2:lt(F)&&(H=F*Math.PI/180),0===H?c.add(new jl({style:nh(b,{text:B,x:D,y:O,verticalAlign:h<-.8?"top":h>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:L}),silent:!0})):c.add(new jl({style:nh(b,{text:B,x:D,y:O,verticalAlign:"middle",align:"center"},{inheritColor:L}),silent:!0,originX:D,originY:O,rotation:H}))}if(y.get("show")&&I!==w){E=(E=y.get("distance"))?E+l:l;for(var N=0;N<=x;N++){u=Math.cos(S),h=Math.sin(S);var z=new jg({shape:{x1:u*(p-E)+d,y1:h*(p-E)+f,x2:u*(p-C-E)+d,y2:h*(p-C-E)+f},silent:!0,style:k});"auto"===k.stroke&&z.setStyle({stroke:i((I+N/x)/w)}),c.add(z),S+=A}S-=A}else S+=M}},e.prototype._renderPointer=function(t,e,n,i,r,o,a,s,l){var u=this.group,h=this._data,c=this._progressEls,d=[],f=t.get(["pointer","show"]),p=t.getModel("progress"),g=p.get("show"),m=t.getData(),v=m.mapDimension("value"),y=+t.get("min"),b=+t.get("max"),w=[y,b],x=[o,a];function _(e,n){var i,o=m.getItemModel(e).getModel("pointer"),a=Po(o.get("width"),r.r),s=Po(o.get("length"),r.r),l=t.get(["pointer","icon"]),u=o.get("offsetCenter"),h=Po(u[0],r.r),c=Po(u[1],r.r),d=o.get("keepAspect");return(i=l?oy(l,h-a/2,c-s,a,s,null,d):new GE({shape:{angle:-Math.PI/2,width:a,r:s,x:h,y:c}})).rotation=-(n+Math.PI/2),i.x=r.cx,i.y=r.cy,i}function C(t,e){var n=p.get("roundCap")?ZM:kg,i=p.get("overlap"),a=i?p.get("width"):l/m.count(),u=i?r.r-a:r.r-(t+1)*a,h=i?r.r:r.r-t*a,c=new n({shape:{startAngle:o,endAngle:e,cx:r.cx,cy:r.cy,clockwise:s,r0:u,r:h}});return i&&(c.z2=b-m.get(v,t)%b),c}(g||f)&&(m.diff(h).add((function(e){var n=m.get(v,e);if(f){var i=_(e,o);Zu(i,{rotation:-((isNaN(+n)?x[0]:Io(n,w,x,!0))+Math.PI/2)},t),u.add(i),m.setItemGraphicEl(e,i)}if(g){var r=C(e,o),a=p.get("clip");Zu(r,{shape:{endAngle:Io(n,w,x,a)}},t),u.add(r),Gl(t.seriesIndex,m.dataType,e,r),d[e]=r}})).update((function(e,n){var i=m.get(v,e);if(f){var r=h.getItemGraphicEl(n),a=r?r.rotation:o,s=_(e,a);s.rotation=a,Gu(s,{rotation:-((isNaN(+i)?x[0]:Io(i,w,x,!0))+Math.PI/2)},t),u.add(s),m.setItemGraphicEl(e,s)}if(g){var l=c[n],y=C(e,l?l.shape.endAngle:o),b=p.get("clip");Gu(y,{shape:{endAngle:Io(i,w,x,b)}},t),u.add(y),Gl(t.seriesIndex,m.dataType,e,y),d[e]=y}})).execute(),m.each((function(t){var e=m.getItemModel(t),n=e.getModel("emphasis"),r=n.get("focus"),o=n.get("blurScope"),a=n.get("disabled");if(f){var s=m.getItemGraphicEl(t),l=m.getItemVisual(t,"style"),u=l.fill;if(s instanceof yl){var h=s.style;s.useStyle(V({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},l))}else s.useStyle(l),"pointer"!==s.type&&s.setColor(u);s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",i(Io(m.get(v,t),w,[0,1],!0))),s.z2EmphasisLift=0,Ou(s,e),Eu(s,r,o,a)}if(g){var c=d[t];c.useStyle(m.getItemVisual(t,"style")),c.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),c.z2EmphasisLift=0,Ou(c,e),Eu(c,r,o,a)}})),this._progressEls=d)},e.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor");if(n.get("show")){var i=n.get("size"),r=n.get("icon"),o=n.get("offsetCenter"),a=n.get("keepAspect"),s=oy(r,e.cx-i/2+Po(o[0],e.r),e.cy-i/2+Po(o[1],e.r),i,i,null,a);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},e.prototype._renderTitleAndDetail=function(t,e,n,i,r){var o=this,a=t.getData(),s=a.mapDimension("value"),l=+t.get("min"),u=+t.get("max"),h=new mo,c=[],d=[],f=t.isAnimationEnabled(),p=t.get(["pointer","showAbove"]);a.diff(this._data).add((function(t){c[t]=new jl({silent:!0}),d[t]=new jl({silent:!0})})).update((function(t,e){c[t]=o._titleEls[e],d[t]=o._detailEls[e]})).execute(),a.each((function(e){var n=a.getItemModel(e),o=a.get(s,e),g=new mo,m=i(Io(o,[l,u],[0,1],!0)),v=n.getModel("title");if(v.get("show")){var y=v.get("offsetCenter"),b=r.cx+Po(y[0],r.r),w=r.cy+Po(y[1],r.r);(k=c[e]).attr({z2:p?0:2,style:nh(v,{x:b,y:w,text:a.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:m})}),g.add(k)}var x=n.getModel("detail");if(x.get("show")){var _=x.get("offsetCenter"),C=r.cx+Po(_[0],r.r),S=r.cy+Po(_[1],r.r),M=Po(x.get("width"),r.r),A=Po(x.get("height"),r.r),T=t.get(["progress","show"])?a.getItemVisual(e,"style").fill:m,k=d[e],R=x.get("formatter");k.attr({z2:p?0:2,style:nh(x,{x:C,y:S,text:ZE(o,R),width:isNaN(M)?null:M,height:isNaN(A)?null:A,align:"center",verticalAlign:"middle"},{inheritColor:T})}),hh(k,{normal:x},o,(function(t){return ZE(t,R)})),f&&ch(k,e,a,t,{getFormattedLabel:function(t,e,n,i,r,a){return ZE(a?a.interpolatedValue:o,R)}}),g.add(k)}h.add(g)})),this.group.add(h),this._titleEls=c,this._detailEls=d},e.type="gauge",e}(Xm),KE=UE,$E=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){return kA(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Fp),XE=$E;var YE=["itemStyle","opacity"],qE=function(t){function e(e,n){var i=t.call(this)||this,r=i,o=new Hg,a=new jl;return r.setTextContent(a),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return(0,g.ZT)(e,t),e.prototype.updateData=function(t,e,n){var i=this,r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),s=o.getModel("emphasis"),l=o.get(YE);l=null==l?1:l,n||Yu(i),i.useStyle(t.getItemVisual(e,"style")),i.style.lineJoin="round",n?(i.setShape({points:a.points}),i.style.opacity=0,Zu(i,{style:{opacity:l}},r,e)):Gu(i,{style:{opacity:l},shape:{points:a.points}},r,e),Ou(i,o),this._updateLabel(t,e),Eu(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t,e){var n=this,i=this.getTextGuideLine(),r=n.getTextContent(),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"style"),u=l.fill;th(r,eh(a),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:l.opacity,defaultText:t.getName(e)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var h=s.linePoints;i.setShape({points:h}),n.textGuideLineConfig={anchor:h?new Ue(h[0][0],h[0][1]):null},Gu(r,{style:{x:s.x,y:s.y}},o,e),r.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),cC(n,dC(a),{stroke:u})},e}(Dg),JE=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._data,o=this.group;i.diff(r).add((function(t){var e=new qE(i,t);i.setItemGraphicEl(t,e),o.add(e)})).update((function(t,e){var n=r.getItemGraphicEl(e);n.updateData(i,t),o.add(n),i.setItemGraphicEl(t,n)})).remove((function(e){Xu(r.getItemGraphicEl(e),t,e)})).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Xm),QE=JE,tB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(nt(this.getData,this),nt(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return kA(this,{coordDimensions:["value"],encodeDefaulter:it(id,this)})},e.prototype._defaultLabelLine=function(t){oa(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=n.mapDimension("value"),o=n.getSum(r);return i.percent=o?+(n.get(r,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Fp),eB=tB;function nB(t,e){t.eachSeriesByType("funnel",(function(t){var n=t.getData(),i=n.mapDimension("value"),r=t.get("sort"),o=function(t,e){return Pc(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),a=t.get("orient"),s=o.width,l=o.height,u=function(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,(function(t){return t})),r=[],o="ascending"===e,a=0,s=t.count();a<s;a++)r[a]=a;return ot(e)?r.sort(e):"none"!==e&&r.sort((function(t,e){return o?i[t]-i[e]:i[e]-i[t]})),r}(n,r),h=o.x,c=o.y,d="horizontal"===a?[Po(t.get("minSize"),l),Po(t.get("maxSize"),l)]:[Po(t.get("minSize"),s),Po(t.get("maxSize"),s)],f=n.getDataExtent(i),p=t.get("min"),g=t.get("max");null==p&&(p=Math.min(f[0],0)),null==g&&(g=f[1]);var m=t.get("funnelAlign"),v=t.get("gap"),y=(("horizontal"===a?s:l)-v*(n.count()-1))/n.count(),b=function(t,e){if("horizontal"===a){var r=Io(n.get(i,t)||0,[p,g],d,!0),o=void 0;switch(m){case"top":o=c;break;case"center":o=c+(l-r)/2;break;case"bottom":o=c+(l-r)}return[[e,o],[e,o+r]]}var u,f=Io(n.get(i,t)||0,[p,g],d,!0);switch(m){case"left":u=h;break;case"center":u=h+(s-f)/2;break;case"right":u=h+s-f}return[[u,e],[u+f,e]]};"ascending"===r&&(y=-y,v=-v,"horizontal"===a?h+=s:c+=l,u=u.reverse());for(var w=0;w<u.length;w++){var x=u[w],_=u[w+1],C=n.getItemModel(x);if("horizontal"===a){var S=C.get(["itemStyle","width"]);null==S?S=y:(S=Po(S,s),"ascending"===r&&(S=-S));var M=b(x,h),A=b(_,h+S);h+=S+v,n.setItemLayout(x,{points:M.concat(A.slice().reverse())})}else{var T=C.get(["itemStyle","height"]);null==T?T=y:(T=Po(T,l),"ascending"===r&&(T=-T));M=b(x,c),A=b(_,c+T);c+=T+v,n.setItemLayout(x,{points:M.concat(A.slice().reverse())})}}!function(t){var e=t.hostModel.get("orient");t.each((function(n){var i,r,o,a,s=t.getItemModel(n),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),h=t.getItemLayout(n),c=h.points,d="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(d)"insideLeft"===l?(r=(c[0][0]+c[3][0])/2+5,o=(c[0][1]+c[3][1])/2,i="left"):"insideRight"===l?(r=(c[1][0]+c[2][0])/2-5,o=(c[1][1]+c[2][1])/2,i="right"):(r=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,o=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,i="center"),a=[[r,o],[r,o]];else{var f=void 0,p=void 0,g=void 0,m=void 0,v=u.get("length");"left"===l?(f=(c[3][0]+c[0][0])/2,p=(c[3][1]+c[0][1])/2,r=(g=f-v)-5,i="right"):"right"===l?(f=(c[1][0]+c[2][0])/2,p=(c[1][1]+c[2][1])/2,r=(g=f+v)+5,i="left"):"top"===l?(f=(c[3][0]+c[0][0])/2,o=(m=(p=(c[3][1]+c[0][1])/2)-v)-5,i="center"):"bottom"===l?(f=(c[1][0]+c[2][0])/2,o=(m=(p=(c[1][1]+c[2][1])/2)+v)+5,i="center"):"rightTop"===l?(f="horizontal"===e?c[3][0]:c[1][0],p="horizontal"===e?c[3][1]:c[1][1],"horizontal"===e?(o=(m=p-v)-5,i="center"):(r=(g=f+v)+5,i="top")):"rightBottom"===l?(f=c[2][0],p=c[2][1],"horizontal"===e?(o=(m=p+v)+5,i="center"):(r=(g=f+v)+5,i="bottom")):"leftTop"===l?(f=c[0][0],p="horizontal"===e?c[0][1]:c[1][1],"horizontal"===e?(o=(m=p-v)-5,i="center"):(r=(g=f-v)-5,i="right")):"leftBottom"===l?(f="horizontal"===e?c[1][0]:c[3][0],p="horizontal"===e?c[1][1]:c[2][1],"horizontal"===e?(o=(m=p+v)+5,i="center"):(r=(g=f-v)-5,i="right")):(f=(c[1][0]+c[2][0])/2,p=(c[1][1]+c[2][1])/2,"horizontal"===e?(o=(m=p+v)+5,i="center"):(r=(g=f+v)+5,i="left")),"horizontal"===e?r=g=f:o=m=p,a=[[f,p],[g,m]]}h.label={linePoints:a,x:r,y:o,verticalAlign:"middle",textAlign:i,inside:d}}))}(n)}))}var iB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new mo,n._initialized=!1,n}return(0,g.ZT)(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._dataGroup,o=t.getData(),a=this._data,s=t.coordinateSystem,l=s.dimensions,u=aB(t);if(o.diff(a).add((function(t){sB(oB(o,r,t,l,s),o,t,u)})).update((function(e,n){var i=a.getItemGraphicEl(n),r=rB(o,e,l,s);o.setItemGraphicEl(e,i),Gu(i,{shape:{points:r}},t,e),Yu(i),sB(i,o,e,u)})).remove((function(t){var e=a.getItemGraphicEl(t);r.remove(e)})).execute(),!this._initialized){this._initialized=!0;var h=function(t,e,n){var i=t.model,r=t.getRect(),o=new Al({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),Zu(o,{shape:{width:r.width,height:r.height}},e,n),o}(s,t,(function(){setTimeout((function(){r.removeClipPath()}))}));r.setClipPath(h)}this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,o=r.dimensions,a=aB(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var u=oB(i,this._dataGroup,l,o,r);u.incremental=!0,sB(u,i,l,a),s.push(u)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Xm);function rB(t,e,n,i){for(var r,o=[],a=0;a<n.length;a++){var s=n[a],l=t.get(t.mapDimension(s),e);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function oB(t,e,n,i,r){var o=rB(t,n,i,r),a=new Hg({shape:{points:o},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function aB(t){var e=t.get("smooth",!0);return!0===e&&(e=.3),mt(e=Yo(e))&&(e=0),{smooth:e}}function sB(t,e,n,i){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",i.smooth);var r=e.getItemModel(n),o=r.getModel("emphasis");Ou(t,r,"lineStyle"),Eu(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var lB=iB,uB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){return Kw(null,this,{useEncodeDefaulter:nt(hB,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,(function(e,r){t===e&&i.push(n.getRawIndex(r))})),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Fp);function hB(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return Y(e.dimensions,(function(t){var e=+t.replace("dim","");n[t]=e})),n}}var cB=uB,dB=["lineStyle","opacity"],fB={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var r=i[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(n).get(dB,!0);null!=o&&(r=o)}e.ensureUniqueItemVisual(n,"style").opacity=r}),t.start,t.end)}}}};function pB(t){!function(t){if(t.parallel)return;var e=!1;Y(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}(t),function(t){var e=ra(t.parallelAxis);Y(e,(function(e){if(ut(e)){var n=e.parallelIndex||0,i=ra(t.parallel)[n];i&&i.parallelAxisDefault&&W(e,i.parallelAxisDefault,!1)}}))}(t)}var gB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},Y(mB,(function(t,e){n.getZr().on(e,this._handlers[e]=nt(t,this))}),this)),tv(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){ev(this,"_throttledDispatchExpand"),Y(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(V({type:"parallelAxisExpand"},t))},e.type="parallel",e}(Np),mB={mousedown:function(t){vB(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(vB(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&vB(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function vB(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var yB=gB,bB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&W(e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){Y(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];Y(Q(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this),(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Nc),wB=bB,xB=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||"value",a.axisIndex=o,a}return(0,g.ZT)(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(H_),_B=xB;function CB(t,e,n,i,r,o){t=t||0;var a=n[1]-n[0];if(null!=r&&(r=MB(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=MB(s,[0,a]),r=o=MB(s,[r,o]),i=0}e[0]=MB(e[0],n),e[1]=MB(e[1],n);var l=SB(e,i);e[i]+=t;var u,h=r||0,c=n.slice();return l.sign<0?c[0]+=h:c[1]-=h,e[i]=MB(e[i],c),u=SB(e,i),null!=r&&(u.sign!==l.sign||u.span<r)&&(e[1-i]=e[i]+l.sign*r),u=SB(e,i),null!=o&&u.span>o&&(e[1-i]=e[i]+u.sign*o),e}function SB(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function MB(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var AB=Y,TB=Math.min,kB=Math.max,RB=Math.floor,IB=Math.ceil,PB=Eo,EB=Math.PI,BB=function(){function t(t,e,n){this.type="parallel",this._axesMap=It(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=t.dimensions,r=t.parallelAxisIndex;AB(i,(function(t,n){var i=r[n],o=e.getComponent("parallelAxis",i),a=this._axesMap.set(t,new _B(t,Qx(o),[0,0],o.get("type"),i)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,o=t[1-r],a=t[r];return o>=n&&o<=n+e.axisLength&&a>=i&&a<=i+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var i=n.getData();AB(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),Jx(e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=Pc(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[r[a]],l=[0,s],u=this.dimensions.length,h=LB(e.get("axisExpandWidth"),l),c=LB(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&u>3&&u>c&&c>1&&h>0&&s>0,f=e.get("axisExpandWindow");f?(t=LB(f[1]-f[0],l),f[1]=f[0]+t):(t=LB(h*(c-1),l),(f=[h*(e.get("axisExpandCenter")||RB(u/2))-t/2])[1]=f[0]+t);var p=(s-t)/(u-c);p<3&&(p=0);var g=[RB(PB(f[0]/h,1))+1,IB(PB(f[1]/h,1))-1],m=p/h*f[0];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:d,axisExpandWidth:h,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:m}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;e.each((function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),AB(n,(function(e,n){var o=(i.axisExpandable?OB:DB)(n,i),a={horizontal:{x:o.position,y:i.axisLength},vertical:{x:0,y:o.position}},s={horizontal:EB/2,vertical:0},l=[a[r].x+t.x,a[r].y+t.y],u=s[r],h=[1,0,0,1,0,0];We(h,h,u),ze(h,h,l),this._axesLayout[e]={position:l,rotation:u,transform:h,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var r=this._axesMap,o=this.dimensions,a=[],s=[];Y(o,(function(e){a.push(t.mapDimension(e)),s.push(r.get(e).model)}));for(var l=this.hasAxisBrushed(),u=n;u<i;u++){var h=void 0;if(l){h="active";for(var c=t.getValues(a,u),d=0,f=o.length;d<f;d++){if("inactive"===s[d].getActiveState(c[d])){h="inactive";break}}}else h="normal";e(h,u)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){return km([t,0],this._axesLayout[e].transform)},t.prototype.getAxisLayout=function(t){return z(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),c=null!=h[0];if(u)c&&u&&s<r*h[0]?(l="jump",a=s-r*h[2]):c&&u&&s>r*(1-h[0])?(l="jump",a=s-r*(1-h[2])):(a=s-r*h[1])>=0&&(a=s-r*(1-h[1]))<=0&&(a=0),(a*=e.axisExpandWidth/u)?CB(a,i,o,"all"):l="none";else{var d=i[1]-i[0];(i=[kB(0,o[1]*s/d-d/2)])[1]=TB(o[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:l}},t}();function LB(t,e){return TB(kB(t,e[0]),e[1])}function DB(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function OB(t,e){var n,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,h=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],u=o,h=!0):(n=r-(a-1-t)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}var FB=BB;var HB={create:function(t,e){var n=[];return t.eachComponent("parallel",(function(i,r){var o=new FB(i,t,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,n.push(o)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",wa).models[0];t.coordinateSystem=e.coordinateSystem}})),n}},NB=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return(0,g.ZT)(e,t),e.prototype.getAreaSelectStyle=function(){return Da([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=z(t);if(e)for(var n=e.length-1;n>=0;n--)Bo(e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"},e}(Nc);$(NB,a_);var zB=NB,WB=!0,jB=Math.min,VB=Math.max,GB=Math.pow,ZB="globalPan",UB={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},KB={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},$B={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},XB=0,YB=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new mo,n._uid="brushController_"+XB++,Y(CL,(function(t,e){this._handlers[e]=nt(t,this)}),n),n}return(0,g.ZT)(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,n){dk(t)[e]=n}(e,ZB,this._uid),Y(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=W(z($B),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,n){var i=dk(t);i[e]===n&&(i[e]=null)}(t,ZB,this._uid),Y(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};Y(t,(function(t){e[t.panelId]=z(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=q(t,(function(t){return W(z($B),t,!0)}));var e=this._covers,n=this._covers=[],i=this,r=this._creatingCover;return new dw(e,t,(function(t,e){return o(t.__brushOption,e)}),o).add(a).update(a).remove((function(t){e[t]!==r&&i.group.remove(e[t])})).execute(),this;function o(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function a(o,a){var s=t[o];if(null!=a&&e[a]===r)n[o]=e[a];else{var l=n[o]=null!=a?(e[a].__brushOption=s,e[a]):JB(i,qB(i,s));eL(i,l)}}},e.prototype.unmount=function(){return this.enableBrush(!1),oL(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(de);function qB(t,e){var n=ML[e.brushType].createCover(t,e);return n.__brushOption=e,tL(n,e),t.group.add(n),n}function JB(t,e){var n=nL(e);return n.endCreating&&(n.endCreating(t,e),tL(e,e.__brushOption)),e}function QB(t,e){var n=e.__brushOption;nL(e).updateCoverShape(t,e,n.range,n)}function tL(t,e){var n=e.z;null==n&&(n=1e4),t.traverse((function(t){t.z=n,t.z2=n}))}function eL(t,e){nL(e).updateCommon(t,e),QB(t,e)}function nL(t){return ML[t.__brushOption.brushType]}function iL(t,e,n){var i,r=t._panels;if(!r)return WB;var o=t._transform;return Y(r,(function(t){t.isTargetByCursor(e,n,o)&&(i=t)})),i}function rL(t,e){var n=t._panels;if(!n)return WB;var i=e.__brushOption.panelId;return null!=i?n[i]:WB}function oL(t){var e=t._covers,n=e.length;return Y(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function aL(t,e){var n=q(t._covers,(function(t){var e=t.__brushOption,n=z(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function sL(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function lL(t,e,n,i){var r=new mo;return r.add(new Al({name:"main",style:dL(n),silent:!0,draggable:!0,cursor:"move",drift:it(gL,t,e,r,["n","s","w","e"]),ondragend:it(aL,e,{isEnd:!0})})),Y(i,(function(n){r.add(new Al({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:it(gL,t,e,r,n),ondragend:it(aL,e,{isEnd:!0})}))})),r}function uL(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=VB(r,6),a=n[0][0],s=n[1][0],l=a-r/2,u=s-r/2,h=n[0][1],c=n[1][1],d=h-o+r/2,f=c-o+r/2,p=h-a,g=c-s,m=p+r,v=g+r;cL(t,e,"main",a,s,p,g),i.transformable&&(cL(t,e,"w",l,u,o,v),cL(t,e,"e",d,u,o,v),cL(t,e,"n",l,u,m,o),cL(t,e,"s",l,f,m,o),cL(t,e,"nw",l,u,o,o),cL(t,e,"ne",d,u,o,o),cL(t,e,"sw",l,f,o,o),cL(t,e,"se",d,f,o,o))}function hL(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(dL(n)),r.attr({silent:!i,cursor:i?"move":"default"}),Y([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var r=e.childOfName(n.join("")),o=1===n.length?pL(t,n[0]):function(t,e){var n=[pL(t,e[0]),pL(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?KB[o]+"-resize":null})}))}function cL(t,e,n,i,r,o,a){var s=e.childOfName(n);s&&s.setShape(function(t){var e=jB(t[0][0],t[1][0]),n=jB(t[0][1],t[1][1]),i=VB(t[0][0],t[1][0]),r=VB(t[0][1],t[1][1]);return{x:e,y:n,width:i-e,height:r-n}}(yL(t,e,[[i,r],[i+o,r+a]])))}function dL(t){return G({strokeNoScale:!0},t.brushStyle)}function fL(t,e,n,i){var r=[jB(t,n),jB(e,i)],o=[VB(t,n),VB(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function pL(t,e){var n=Rm({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return Tm(t.group)}(t));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function gL(t,e,n,i,r,o){var a=n.__brushOption,s=t.toRectRange(a.range),l=vL(e,r,o);Y(i,(function(t){var e=UB[t];s[e[0]][e[1]]+=l[e[0]]})),a.range=t.fromRectRange(fL(s[0][0],s[1][0],s[0][1],s[1][1])),eL(e,n),aL(e,{isEnd:!1})}function mL(t,e,n,i){var r=e.__brushOption.range,o=vL(t,n,i);Y(r,(function(t){t[0]+=o[0],t[1]+=o[1]})),eL(t,e),aL(t,{isEnd:!1})}function vL(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function yL(t,e,n){var i=rL(t,e);return i&&i!==WB?i.clipPath(n,t._transform):z(n)}function bL(t){var e=t.event;e.preventDefault&&e.preventDefault()}function wL(t,e,n){return t.childOfName("main").contain(e,n)}function xL(t,e,n,i){var r,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],o=n[1]-i[1];return GB(r*r+o*o,.5)>6}(t)||o){if(a&&!o){"single"===s.brushMode&&oL(t);var l=z(s);l.brushType=_L(l.brushType,a),l.panelId=a===WB?null:a.panelId,o=t._creatingCover=qB(t,l),t._covers.push(o)}if(o){var u=ML[_L(t._brushType,a)];o.__brushOption.range=u.getCreatingRange(yL(t,o,t._track)),i&&(JB(t,o),u.updateCommon(t,o)),QB(t,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&iL(t,e,n)&&oL(t)&&(r={isEnd:i,removeOnClick:!0});return r}function _L(t,e){return"auto"===t?e.defaultBrushType:t}var CL={mousedown:function(t){if(this._dragging)SL(this,t);else if(!t.target||!t.target.draggable){bL(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=iL(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var i=t._zr;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}(t,e.offsetX,e.offsetY)){var i=t._zr,r=t._covers,o=iL(t,e,n);if(!t._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(o===WB||s.panelId===o.panelId)&&ML[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}}(this,t,i),this._dragging){bL(t);var r=xL(this,t,i,!1);r&&aL(this,r)}},mouseup:function(t){SL(this,t)}};function SL(t,e){if(t._dragging){bL(e);var n=e.offsetX,i=e.offsetY,r=t.group.transformCoordToLocal(n,i),o=xL(t,e,r,!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&aL(t,o)}}var ML={lineX:AL(0),lineY:AL(1),rect:{createCover:function(t,e){function n(t){return t}return lL({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=sL(t);return fL(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){uL(t,e,n,i)},updateCommon:hL,contain:wL},polygon:{createCover:function(t,e){var n=new mo;return n.add(new Hg({name:"main",style:dL(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Dg({name:"main",draggable:!0,drift:it(mL,t,e),ondragend:it(aL,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:yL(t,e,n)})},updateCommon:hL,contain:wL}};function AL(t){return{createCover:function(e,n){return lL({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=sL(e);return[jB(n[0][t],n[1][t]),VB(n[0][t],n[1][t])]},updateCoverShape:function(e,n,i,r){var o,a=rL(e,n);if(a!==WB&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,o];t&&l.reverse(),uL(e,n,l,r)},updateCommon:hL,contain:wL}}var TL=YB;function kL(t){return t=PL(t),function(e){return Em(e,t)}}function RL(t,e){return t=PL(t),function(n){var i=null!=e?e:n,r=i?t.width:t.height,o=i?t.x:t.y;return[o,o+(r||0)]}}function IL(t,e,n){var i=PL(t);return function(t,r){return i.contain(r[0],r[1])&&!_k(t,e,n)}}function PL(t){return nn.create(t)}var EL=["axisLine","axisTickLabel","axisName"],BL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new TL(n.getZr())).on("brush",nt(this._onBrush,this))},e.prototype.render=function(t,e,n,i){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new mo,this.group.add(this._axisGroup),t.get("show")){var o=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),a=o.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,u=t.axis.dim,h=V({strokeContainThreshold:l},a.getAxisLayout(u)),c=new _T(t,h);Y(EL,c.add,c),this._axisGroup.add(c.getGroup()),this._refreshBrushController(h,s,t,o,l,n),Pm(r,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=nn.create({x:a[0],y:-r/2,width:s,height:r});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:kL(u),isTargetByCursor:IL(u,o,i),getLinearBrushOtherExtent:RL(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return q(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,i=n.axis,r=q(e,(function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(Np);var LL=BL,DL={type:"axisAreaSelect",event:"axisAreaSelected"};var OL={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function FL(t){t.registerComponentView(yB),t.registerComponentModel(wB),t.registerCoordinateSystem("parallel",HB),t.registerPreprocessor(pB),t.registerComponentModel(zB),t.registerComponentView(LL),YA(t,"parallel",zB,OL),function(t){t.registerAction(DL,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}(t)}var HL=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},NL=function(t){function e(e){return t.call(this,e)||this}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new HL},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){yu(this)},e.prototype.downplay=function(){bu(this)},e}(cl),zL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=this,r=t.getGraph(),o=this.group,a=t.layoutInfo,s=a.width,l=a.height,u=t.getData(),h=t.getData("edge"),c=t.get("orient");this._model=t,o.removeAll(),o.x=a.x,o.y=a.y,r.eachEdge((function(e){var n=new NL,i=Vl(n);i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var r,a,u,d,f,p,g,m,v=e.getModel(),y=v.getModel("lineStyle"),b=y.get("curveness"),w=e.node1.getLayout(),x=e.node1.getModel(),_=x.get("localX"),C=x.get("localY"),S=e.node2.getLayout(),M=e.node2.getModel(),A=M.get("localX"),T=M.get("localY"),k=e.getLayout();n.shape.extent=Math.max(1,k.dy),n.shape.orient=c,"vertical"===c?(r=(null!=_?_*s:w.x)+k.sy,a=(null!=C?C*l:w.y)+w.dy,u=(null!=A?A*s:S.x)+k.ty,f=r,p=a*(1-b)+(d=null!=T?T*l:S.y)*b,g=u,m=a*b+d*(1-b)):(r=(null!=_?_*s:w.x)+w.dx,a=(null!=C?C*l:w.y)+k.sy,f=r*(1-b)+(u=null!=A?A*s:S.x)*b,p=a,g=r*b+u*(1-b),m=d=(null!=T?T*l:S.y)+k.ty),n.setShape({x1:r,y1:a,x2:u,y2:d,cpx1:f,cpy1:p,cpx2:g,cpy2:m}),n.useStyle(y.getItemStyle()),WL(n.style,c,e);var R=""+v.get("value"),I=eh(v,"edgeLabel");th(n,I,{labelFetcher:{getFormattedLabel:function(e,n,i,r,o,a){return t.getFormattedLabel(e,n,"edge",r,bt(o,I.normal&&I.normal.get("formatter"),R),a)}},labelDataIndex:e.dataIndex,defaultText:R}),n.setTextConfig({position:"inside"});var P=v.getModel("emphasis");Ou(n,v,"lineStyle",(function(t){var n=t.getItemStyle();return WL(n,c,e),n})),o.add(n),h.setItemGraphicEl(e.dataIndex,n);var E=P.get("focus");Eu(n,"adjacency"===E?e.getAdjacentDataIndices():"trajectory"===E?e.getTrajectoryDataIndices():E,P.get("blurScope"),P.get("disabled"))})),r.eachNode((function(e){var n=e.getLayout(),i=e.getModel(),r=i.get("localX"),a=i.get("localY"),h=i.getModel("emphasis"),c=new Al({shape:{x:null!=r?r*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10});th(c,eh(i),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(e,n,"node")}},labelDataIndex:e.dataIndex,defaultText:e.id}),c.disableLabelAnimation=!0,c.setStyle("fill",e.getVisual("color")),c.setStyle("decal",e.getVisual("style").decal),Ou(c,i),o.add(c),u.setItemGraphicEl(e.dataIndex,c),Vl(c).dataType="node";var d=h.get("focus");Eu(c,"adjacency"===d?e.getAdjacentDataIndices():"trajectory"===d?e.getTrajectoryDataIndices():d,h.get("blurScope"),h.get("disabled"))})),u.eachItemGraphicEl((function(e,r){u.getItemModel(r).get("draggable")&&(e.drift=function(e,o){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&o.setClipPath(function(t,e,n){var i=new Al({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Zu(i,{shape:{width:t.width+20}},e,n),i}(o.getBoundingRect(),t,(function(){o.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Xm);function WL(t,e,n){switch(t.fill){case"source":t.fill=n.node1.getVisual("color"),t.decal=n.node1.getVisual("style").decal;break;case"target":t.fill=n.node2.getVisual("color"),t.decal=n.node2.getVisual("style").decal;break;case"gradient":var i=n.node1.getVisual("color"),r=n.node2.getVisual("color");at(i)&&at(r)&&(t.fill=new tm(0,0,+("horizontal"===e),+("vertical"===e),[{color:i,offset:0},{color:r,offset:1}]))}}var jL=zL,VL=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,i=t.data||t.nodes,r=t.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a<r.length;a++)null!=r[a].depth&&r[a].depth>=0&&(o[r[a].depth]=new Ah(r[a],this,e));if(i&&n){var s=HE(i,n,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getData().getItemLayout(e);if(i){var r=i.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t})),e.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getGraph().getEdgeByIndex(e).node1.getLayout();if(i){var r=i.depth,o=n.levelModels[r];o&&(t.parentModel=o)}return t}))}));return s.data}},e.prototype.setNodePosition=function(t,e){var n=(this.option.data||this.option.nodes)[t];n.localX=e[0],n.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function i(t){return isNaN(t)||null==t}if("edge"===n){var r=this.getDataParams(t,n),o=r.data,a=r.value;return fp("nameValue",{name:o.source+" -- "+o.target,value:a,noValue:i(a)})}var s=this.getGraph().getNodeByIndex(t).getLayout().value,l=this.getDataParams(t,n).data.name;return fp("nameValue",{name:null!=l?l+"":null,value:s,noValue:i(s)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,n){var i=t.prototype.getDataParams.call(this,e,n);if(null==i.value&&"node"===n){var r=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=r}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Fp),GL=VL;function ZL(t,e){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),r=function(t,e){return Pc(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=r;var o=r.width,a=r.height,s=t.getGraph(),l=s.nodes,u=s.edges;!function(t){Y(t,(function(t){var e=eD(t.outEdges,tD),n=eD(t.inEdges,tD),i=t.getValue()||0,r=Math.max(e,n,i);t.setLayout({value:r},!0)}))}(l),function(t,e,n,i,r,o,a,s,l){(function(t,e,n,i,r,o,a){for(var s=[],l=[],u=[],h=[],c=0,d=0;d<e.length;d++)s[d]=1;for(d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&u.push(t[d]);var f=-1;for(;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>f&&(f=m.depth),g.setLayout({depth:v?m.depth:c},!0),"vertical"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var y=0;y<g.outEdges.length;y++){var b=g.outEdges[y];s[e.indexOf(b)]=0;var w=b.node2;0==--l[t.indexOf(w)]&&h.indexOf(w)<0&&h.push(w)}}++c,u=h,h=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var x=f>c-1?f:c-1;a&&"left"!==a&&function(t,e,n,i){if("right"===e){for(var r=[],o=t,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var h=l.inEdges[u];r.indexOf(h.node1)<0&&r.push(h.node1)}}o=r,r=[],++a}Y(t,(function(t){UL(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&function(t,e){Y(t,(function(t){UL(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}(t,i)}(t,a,0,x);var _="vertical"===o?(r-n)/x:(i-n)/x;!function(t,e,n){Y(t,(function(t){var i=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)}))}(t,_,o)})(t,e,n,r,o,s,l),function(t,e,n,i,r,o,a){var s=function(t,e){var n=[],i="vertical"===e?"y":"x",r=Sa(t,(function(t){return t.getLayout()[i]}));return r.keys.sort((function(t,e){return t-e})),Y(r.keys,(function(t){n.push(r.buckets.get(t))})),n}(t,a);(function(t,e,n,i,r,o){var a=1/0;Y(t,(function(t){var e=t.length,s=0;Y(t,(function(t){s+=t.getLayout().value}));var l="vertical"===o?(i-(e-1)*r)/s:(n-(e-1)*r)/s;l<a&&(a=l)})),Y(t,(function(t){Y(t,(function(t,e){var n=t.getLayout().value*a;"vertical"===o?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),Y(e,(function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)}))})(s,e,n,i,r,a),KL(s,r,n,i,a);for(var l=1;o>0;o--)$L(s,l*=.99,a),KL(s,r,n,i,a),nD(s,l,a),KL(s,r,n,i,a)}(t,e,o,r,i,a,s),function(t,e){var n="vertical"===e?"x":"y";Y(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),Y(t,(function(t){var e=0,n=0;Y(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),Y(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}(t,s)}(l,u,n,i,o,a,0!==Q(l,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))}))}function UL(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function KL(t,e,n,i,r){var o="vertical"===r?"x":"y";Y(t,(function(t){var a,s,l;t.sort((function(t,e){return t.getLayout()[o]-e.getLayout()[o]}));for(var u=0,h=t.length,c="vertical"===r?"dx":"dy",d=0;d<h;d++)(l=u-(s=t[d]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]+s.getLayout()[c]+e;if((l=u-e-("vertical"===r?i:n))>0){a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a;for(d=h-2;d>=0;--d)(l=(s=t[d]).getLayout()[o]+s.getLayout()[c]+e-u)>0&&(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]}}))}function $L(t,e,n){Y(t.slice().reverse(),(function(t){Y(t,(function(t){if(t.outEdges.length){var i=eD(t.outEdges,XL,n)/eD(t.outEdges,tD);if(isNaN(i)){var r=t.outEdges.length;i=r?eD(t.outEdges,YL,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-QL(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-QL(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function XL(t,e){return QL(t.node2,e)*t.getValue()}function YL(t,e){return QL(t.node2,e)}function qL(t,e){return QL(t.node1,e)*t.getValue()}function JL(t,e){return QL(t.node1,e)}function QL(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function tD(t){return t.getValue()}function eD(t,e,n){for(var i=0,r=t.length,o=-1;++o<r;){var a=+e(t[o],n);isNaN(a)||(i+=a)}return i}function nD(t,e,n){Y(t,(function(t){Y(t,(function(t){if(t.inEdges.length){var i=eD(t.inEdges,qL,n)/eD(t.inEdges,tD);if(isNaN(i)){var r=t.inEdges.length;i=r?eD(t.inEdges,JL,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-QL(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-QL(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function iD(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph(),n=e.nodes,i=e.edges;if(n.length){var r=1/0,o=-1/0;Y(n,(function(t){var e=t.getLayout().value;e<r&&(r=e),e>o&&(o=e)})),Y(n,(function(e){var n=new fP({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:t.get("color")}).mapValueToVisual(e.getLayout().value),i=e.getModel().get(["itemStyle","color"]);null!=i?(e.setVisual("color",i),e.setVisual("style",{fill:i})):(e.setVisual("color",n),e.setVisual("style",{fill:n}))}))}i.length&&Y(i,(function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)}))}))}var rD=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,i,r=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var l=["x","y"],u="horizontal"===t.layout?0:1,h=this._baseAxisDim=l[u],c=l[1-u],d=[r,o],f=d[u].get("type"),p=d[1-u].get("type"),g=t.data;if(g&&i){var m=[];Y(g,(function(t,e){var n;rt(t)?(n=t.slice(),t.unshift(e)):rt(t.value)?((n=V({},t)).value=n.value.slice(),t.value.unshift(e)):n=t,m.push(n)})),t.data=m}var v=this.defaultValueDimensions,y=[{name:h,type:gw(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:c,type:gw(p),dimsDef:v.slice()}];return kA(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:it(nd,y,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),oD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return(0,g.ZT)(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Fp);$(oD,rD,!0);var aD=oD,sD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a="horizontal"===t.get("layout")?1:0;i.diff(o).add((function(t){if(i.hasValue(t)){var e=hD(i.getItemLayout(t),i,t,a,!0);i.setItemGraphicEl(t,e),r.add(e)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?(Yu(n),cD(s,n,i,t)):n=hD(s,i,t,a),r.add(n),i.setItemGraphicEl(t,n)}else r.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=i},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(Xm),lD=function(){},uD=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new lD},e.prototype.buildPath=function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])},e}(cl);function hD(t,e,n,i,r){var o=t.ends,a=new uD({shape:{points:r?dD(o,i,t):o}});return cD(t,a,e,n,r),a}function cD(t,e,n,i,r){var o=n.hostModel;(0,l[r?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,i),e.useStyle(n.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var a=n.getItemModel(i),s=a.getModel("emphasis");Ou(e,a),Eu(e,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function dD(t,e,n){return q(t,(function(t){return(t=t.slice())[e]=n.initBaseline,t}))}var fD=sD,pD=Y;function gD(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var i=t.getBaseAxis(),r=U(n,i);r<0&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)})),e}(t);pD(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n=t.axis,i=t.seriesModels,r=i.length,o=t.boxWidthList=[],a=t.boxOffsetList=[],s=[];if("category"===n.type)e=n.getBandWidth();else{var l=0;pD(i,(function(t){l=Math.max(l,t.getData().count())}));var u=n.getExtent();e=Math.abs(u[1]-u[0])/l}pD(i,(function(t){var n=t.get("boxWidth");rt(n)||(n=[n,n]),s.push([Po(n[0],e)||0,Po(n[1],e)||0])}));var h=.8*e-2,c=h/r*.3,d=(h-c*(r-1))/r,f=d/2-h/2;pD(i,(function(t,e){a.push(f),f+=c+d,o.push(Math.min(Math.max(d,s[e][0]),s[e][1]))}))}(t),pD(e,(function(e,n){!function(t,e,n){var i=t.coordinateSystem,r=t.getData(),o=n/2,a="horizontal"===t.get("layout")?0:1,s=1-a,l=["x","y"],u=r.mapDimension(l[a]),h=r.mapDimensionsAll(l[s]);if(null==u||h.length<5)return;for(var c=0;c<r.count();c++){var d=r.get(u,c),f=b(d,h[2],c),p=b(d,h[0],c),g=b(d,h[1],c),m=b(d,h[3],c),v=b(d,h[4],c),y=[];w(y,g,!1),w(y,m,!0),y.push(p,g,v,m),x(y,p),x(y,v),x(y,f),r.setItemLayout(c,{initBaseline:f[s],ends:y})}function b(t,n,o){var l,u=r.get(n,o),h=[];return h[a]=t,h[s]=u,isNaN(t)||isNaN(u)?l=[NaN,NaN]:(l=i.dataToPoint(h))[a]+=e,l}function w(t,e,n){var i=e.slice(),r=e.slice();i[a]+=o,r[a]-=o,n?t.push(i,r):t.push(r,i)}function x(t,e){var n=e.slice(),i=e.slice();n[a]-=o,i[a]+=o,t.push(n,i)}}(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}var mD={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Zc){0,Pf("")}var n=function(t,e){for(var n=[],i=[],r=(e=e||{}).boundIQR,o="none"===r||0===r,a=0;a<t.length;a++){var s=Bo(t[a].slice()),l=$o(s,.25),u=$o(s,.5),h=$o(s,.75),c=s[0],d=s[s.length-1],f=(null==r?1.5:r)*(h-l),p=o?c:Math.max(c,l-f),g=o?d:Math.min(d,h+f),m=e.itemNameFormatter,v=ot(m)?m({value:a}):at(m)?m.replace("{value}",a+""):a+"";n.push([v,p,l,u,h,g]);for(var y=0;y<s.length;y++){var b=s[y];if(b<p||b>g){var w=[v,b];i.push(w)}}}return{boxData:n,outliers:i}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};var vD=["color","borderColor"],yD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){zm(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,i=this.group,r=e.getLayout("isSimpleBox"),o=t.get("clip",!0),a=t.coordinateSystem,s=a.getArea&&a.getArea();this._data||i.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var a=e.getItemLayout(n);if(o&&_D(s,a))return;var l=xD(a,n,!0);Zu(l,{shape:{points:a.ends}},t,n),CD(l,e,n,r),i.add(l),e.setItemGraphicEl(n,l)}})).update((function(a,l){var u=n.getItemGraphicEl(l);if(e.hasValue(a)){var h=e.getItemLayout(a);o&&_D(s,h)?i.remove(u):(u?(Gu(u,{shape:{points:h.ends}},t,a),Yu(u)):u=xD(h,a),CD(u,e,a,r),i.add(u),e.setItemGraphicEl(a,u))}else i.remove(u)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),TD(t,this.group);var e=t.get("clip",!0)?xM(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){for(var n,i=e.getData(),r=i.getLayout("isSimpleBox");null!=(n=t.next());){var o=xD(i.getItemLayout(n),n);CD(o,i,n,r),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},e.prototype._incrementalRenderLarge=function(t,e){TD(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Xm),bD=function(){},wD=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new bD},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(cl);function xD(t,e,n){var i=t.ends;return new wD({shape:{points:n?SD(i,t):i},z2:100})}function _D(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function CD(t,e,n,i){var r=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=i,Ou(t,r)}function SD(t,e){return q(t,(function(t){return(t=t.slice())[1]=e.initBaseline,t}))}var MD=function(){},AD=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return(0,g.ZT)(e,t),e.prototype.getDefaultShape=function(){return new MD},e.prototype.buildPath=function(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];t.moveTo(r,n[i++]),t.lineTo(r,n[i++])}else i+=3},e}(cl);function TD(t,e,n,i){var r=t.getData(),o=r.getLayout("largePoints"),a=new AD({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new AD({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new AD({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(l),kD(1,a,t,r),kD(-1,s,t,r),kD(0,l,t,r),i&&(a.incremental=!0,s.incremental=!0),n&&n.push(a,s)}function kD(t,e,n,i){var r=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]);0===t&&(r=n.get(["itemStyle","borderColorDoji"]));var o=n.getModel("itemStyle").getItemStyle(vD);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var RD=yD,ID=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return(0,g.ZT)(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Fp);$(ID,rD,!0);var PD=ID;function ED(t){t&&rt(t.series)&&Y(t.series,(function(t){ut(t)&&"k"===t.type&&(t.type="candlestick")}))}var BD=["itemStyle","borderColor"],LD=["itemStyle","borderColor0"],DD=["itemStyle","borderColorDoji"],OD=["itemStyle","color"],FD=["itemStyle","color0"],HD={seriesType:"candlestick",plan:zp(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?OD:FD)}function i(t,e){return e.get(0===t?DD:t>0?BD:LD)}if(!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){for(var r;null!=(r=t.next());){var o=e.getItemModel(r),a=e.getItemLayout(r).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=i(a,o)||s.fill,V(e.ensureUniqueItemVisual(r,"style"),s)}}}}},ND={seriesType:"candlestick",plan:zp(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),i=function(t,e){var n,i=t.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),o=Po(yt(t.get("barMaxWidth"),r),r),a=Po(yt(t.get("barMinWidth"),1),r),s=t.get("barWidth");return null!=s?Po(s,r):Math.max(Math.min(r/2,o),a)}(t,n),r=["x","y"],o=n.getDimensionIndex(n.mapDimension(r[0])),a=q(n.mapDimensionsAll(r[1]),n.getDimensionIndex,n),s=a[0],l=a[1],u=a[2],h=a[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||a.length<4))return{progress:t.pipelineContext.large?function(n,i){var r,a,c=px(4*n.count),d=0,f=[],p=[],g=i.getStore(),m=!!t.get(["itemStyle","borderColorDoji"]);for(;null!=(a=n.next());){var v=g.get(o,a),y=g.get(s,a),b=g.get(l,a),w=g.get(u,a),x=g.get(h,a);isNaN(v)||isNaN(w)||isNaN(x)?(c[d++]=NaN,d+=3):(c[d++]=zD(g,a,y,b,l,m),f[0]=v,f[1]=w,r=e.dataToPoint(f,null,p),c[d++]=r?r[0]:NaN,c[d++]=r?r[1]:NaN,f[1]=x,r=e.dataToPoint(f,null,p),c[d++]=r?r[1]:NaN)}i.setLayout("largePoints",c)}:function(t,n){var r,a=n.getStore();for(;null!=(r=t.next());){var c=a.get(o,r),d=a.get(s,r),f=a.get(l,r),p=a.get(u,r),g=a.get(h,r),m=Math.min(d,f),v=Math.max(d,f),y=S(m,c),b=S(v,c),w=S(p,c),x=S(g,c),_=[];M(_,b,0),M(_,y,1),_.push(T(x),T(b),T(w),T(y));var C=!!n.getItemModel(r).get(["itemStyle","borderColorDoji"]);n.setItemLayout(r,{sign:zD(a,r,d,f,l,C),initBaseline:d>f?b[1]:y[1],ends:_,brushRect:A(p,g,c)})}function S(t,n){var i=[];return i[0]=n,i[1]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function M(t,e,n){var r=e.slice(),o=e.slice();r[0]=Am(r[0]+i/2,1,!1),o[0]=Am(o[0]-i/2,1,!0),n?t.push(r,o):t.push(o,r)}function A(t,e,n){var r=S(t,n),o=S(e,n);return r[0]-=i/2,o[0]-=i/2,{x:r[0],y:r[1],width:i,height:o[1]-r[1]}}function T(t){return t[0]=Am(t[0],1),t}}}}};function zD(t,e,n,i,r,o){return n>i?-1:n<i?1:o?0:e>0?t.get(r,e-1)<=i?1:-1:1}var WD=ND;function jD(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}var VD=function(t){function e(e,n){var i=t.call(this)||this,r=new iM(e,n),o=new mo;return i.add(r),i.add(o),i.updateData(e,n),i}return(0,g.ZT)(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=t.rippleNumber,r=this.childAt(1),o=0;o<i;o++){var a=oy(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/i*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),r.add(a)}jD(r,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}jD(n,t)},e.prototype.highlight=function(){yu(this)},e.prototype.downplay=function(){bu(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var n=this,i=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=ay(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"style"),u=l&&l.fill,h=o.getModel("emphasis");r.setScale(s),r.traverse((function(t){t.setStyle("fill",u)}));var c=sy(t.getItemVisual(e,"symbolOffset"),s);c&&(r.x=c[0],r.y=c[1]);var d=t.getItemVisual(e,"symbolRotate");r.rotation=(d||0)*Math.PI/180||0;var f={};f.showEffectOn=i.get("showEffectOn"),f.rippleScale=o.get(["rippleEffect","scale"]),f.brushType=o.get(["rippleEffect","brushType"]),f.period=1e3*o.get(["rippleEffect","period"]),f.effectOffset=e/t.count(),f.z=i.getShallow("z")||0,f.zlevel=i.getShallow("zlevel")||0,f.symbolType=a,f.color=u,f.rippleEffectColor=o.get(["rippleEffect","color"]),f.rippleNumber=o.get(["rippleEffect","number"]),"render"===f.showEffectOn?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==f.showEffectOn&&n.startEffectAnimation(f):"normal"===t&&"render"!==f.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=f,Eu(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(mo),GD=VD,ZD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(){this._symbolDraw=new lM(GD)},e.prototype.render=function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(r.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype.updateTransform=function(t,e,n){var i=t.getData();this.group.dirty();var r=DM("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=Ge(e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Xm),UD=ZD,KD=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){return Kw(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Fp),$D=KD;var XD=function(t){function e(e,n,i){var r=t.call(this)||this;return r.add(r.createLine(e,n,i)),r._updateEffectSymbol(e,n),r}return(0,g.ZT)(e,t),e.prototype.createLine=function(t,e,n){return new mE(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");rt(i)||(i=[i,i]);var o=t.getItemVisual(e,"style"),a=n.get("color")||o&&o.stroke,s=this.childAt(1);this._symbolType!==r&&(this.remove(s),(s=oy(r,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.scaleX=i[0],s.scaleY=i[1],s.setColor(a),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(t,n,e))},e.prototype._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=t.getItemLayout(n),o=1e3*e.get("period"),a=e.get("loop"),s=e.get("roundTrip"),l=e.get("constantSpeed"),u=vt(e.get("delay"),(function(e){return e/t.count()*o/3}));if(i.ignore=!0,this._updateAnimationPoints(i,r),l>0&&(o=this._getLineLength(i)/l*1e3),o!==this._period||a!==this._loop||s!==this._roundTrip){i.stopAnimation();var h=void 0;h=ot(u)?u(n):u,i.__t>0&&(h=-o*i.__t),this._animateSymbol(i,o,h,a,s)}this._period=o,this._loop=a,this._roundTrip=s}},e.prototype._animateSymbol=function(t,e,n,i,r){if(e>0){t.__t=0;var o=this,a=t.animate("",i).when(r?2*e:e,{__t:r?2:1}).delay(n).during((function(){o._updateSymbolPosition(t)}));i||a.done((function(){o.remove(t)})),a.start()}},e.prototype._getLineLength=function(t){return te(t.__p1,t.__cp1)+te(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],a=o.slice(),s=Kn,l=$n;o[0]=s(e[0],i[0],n[0],r),o[1]=s(e[1],i[1],n[1],r);var u=t.__t<1?l(e[0],i[0],n[0],r):l(n[0],i[0],e[0],1-r),h=t.__t<1?l(e[1],i[1],n[1],r):l(n[1],i[1],e[1],1-r);t.rotation=-Math.atan2(h,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*te(a,o),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===t.__lastT?t.scaleY=2*te(e,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(mo),YD=XD,qD=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createPolyline(e,n,i),r}return(0,g.ZT)(e,t),e.prototype._createPolyline=function(t,e,n){var i=t.getItemLayout(e),r=new Hg({shape:{points:i}});this.add(r),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel;Gu(this.childAt(0),{shape:{points:t.getItemLayout(e)}},i,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var i=this.childAt(0),r=t.getItemModel(e),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||t.hasItemOption){var u=r.getModel("emphasis");o=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),a=u.get("focus"),s=u.get("blurScope")}i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,Eu(this,a,s,l)},e.prototype.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},e}(mo),JD=qD,QD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return(0,g.ZT)(e,t),e.prototype.createLine=function(t,e,n){return new JD(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var o=e[r-1],a=e[r];i+=te(o,a),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,a=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(a+1,r-1);o>=0&&!(i[o]<=e);o--);o=Math.min(o,r-2)}else{for(o=a;o<r&&!(i[o]>e);o++);o=Math.min(o-1,r-2)}var s=(e-i[o])/(i[o+1]-i[o]),l=n[o],u=n[o+1];t.x=l[0]*(1-s)+s*u[0],t.y=l[1]*(1-s)+s*u[1];var h=t.__t<1?u[0]-l[0]:l[0]-u[0],c=t.__t<1?u[1]-l[1]:l[1]-u[1];t.rotation=-Math.atan2(c,h)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},e}(YD),tO=QD,eO=function(){this.polyline=!1,this.curveness=0,this.segs=[]},nO=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,g.ZT)(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new eO},e.prototype.buildPath=function(t,e){var n,i=e.segs,r=e.curveness;if(e.polyline)for(n=this._off;n<i.length;){var o=i[n++];if(o>0){t.moveTo(i[n++],i[n++]);for(var a=1;a<o;a++)t.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var s=i[n++],l=i[n++],u=i[n++],h=i[n++];if(t.moveTo(s,l),r>0){var c=(s+u)/2-(l-h)*r,d=(l+h)/2-(u-s)*r;t.quadraticCurveTo(c,d,u,h)}else t.lineTo(u,h)}this.incremental&&(this._off=n,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var n=this.shape,i=n.segs,r=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var u=i[s++],h=i[s++],c=1;c<l;c++){if(Zs(u,h,d=i[s++],f=i[s++],o,t,e))return a}a++}else for(a=0,s=0;s<i.length;){u=i[s++],h=i[s++];var d=i[s++],f=i[s++];if(r>0){if(Ks(u,h,(u+d)/2-(h-f)*r,(h+f)/2-(d-u)*r,d,f,o,t,e))return a}else if(Zs(u,h,d,f,o,t,e))return a;a++}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return t=n[0],e=n[1],i.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape.segs,n=1/0,i=1/0,r=-1/0,o=-1/0,a=0;a<e.length;){var s=e[a++],l=e[a++];n=Math.min(s,n),r=Math.max(s,r),i=Math.min(l,i),o=Math.max(l,o)}t=this._rect=new nn(n,i,r,o)}return t},e}(cl),iO=function(){function t(){this.group=new mo}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),r=n&&n.shape.segs;if(r&&r.length<2e4){var o=r.length,a=new Float32Array(o+i.length);a.set(r),a.set(i,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:i}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new nO({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var r=e.getVisual("style");r&&r.stroke&&t.setStyle("stroke",r.stroke),t.setStyle("fill",null);var o=Vl(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){o.dataIndex=null;var n=t.hoverDataIdx;n>0&&(o.dataIndex=n+t.__startIndex)}))},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),rO={seriesType:"lines",plan:zp(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),i=t.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(n){for(var u=0,h=r.start;h<r.end;h++)u+=t.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,d=[];for(h=r.start;h<r.end;h++){var f=t.getLineCoords(h,a);n&&(s[c++]=f);for(var p=0;p<f;p++)d=e.dataToPoint(a[p],!1,d),s[c++]=d[0],s[c++]=d[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var g=o.getItemModel(h),m=(f=t.getLineCoords(h,a),[]);if(n)for(var v=0;v<f;v++)m.push(e.dataToPoint(a[v]));else{m[0]=e.dataToPoint(a[0]),m[1]=e.dataToPoint(a[1]);var y=g.get(["lineStyle","curveness"]);+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(h,m)}}}}}},oO=rO,aO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),o=t.get("zlevel"),a=t.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a>0&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i);var u=t.get("clip",!0)&&xM(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=oO.reset(t,e,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get("polyline"),o=e.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new iO:new wE(r?i?tO:JD:i?YD:mE),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(Xm),sO=aO,lO="undefined"==typeof Uint32Array?Array:Uint32Array,uO="undefined"==typeof Float64Array?Array:Float64Array;function hO(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=q(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),j([e,t[0],t[1]])})))}var cO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,g.ZT)(e,t),e.prototype.init=function(e){e.data=e.data||[],hO(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(hO(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Pt(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Pt(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(t);for(r=0;r<o.length;r++)e[r]=e[r]||[],e[r][0]=o[r][0],e[r][1]=o[r][1];return o.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),lt(t[0])){for(var n=t.length,i=new lO(n),r=new uO(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=t[l++];i[a++]=o+e,i[a++]=u;for(var h=0;h<u;h++){var c=t[l++],d=t[l++];r[o++]=c,r[o++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new Fw(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,i,r){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[r]:o:void 0})),n},e.prototype.formatTooltip=function(t,e,n){var i=this.getData().getItemModel(t),r=i.get("name");if(r)return r;var o=i.get("fromName"),a=i.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),fp("nameValue",{name:s.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Fp),dO=cO;function fO(t){return t instanceof Array||(t=[t,t]),t}var pO={seriesType:"lines",reset:function(t){var e=fO(t.get("symbol")),n=fO(t.get("symbolSize")),i=t.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?function(t,e){var n=t.getItemModel(e),i=fO(n.getShallow("symbol",!0)),r=fO(n.getShallow("symbolSize",!0));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),r[0]&&t.setItemVisual(e,"fromSymbolSize",r[0]),r[1]&&t.setItemVisual(e,"toSymbolSize",r[1])}:null}}};var gO=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=S.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,i,r,o){var a=this._getBrush(),s=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext("2d"),d=t.length;h.width=e,h.height=n;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=i(p[2]);c.globalAlpha=v,c.drawImage(a,g-u,m-u)}if(!h.width||!h.height)return h;for(var y=c.getImageData(0,0,h.width,h.height),b=y.data,w=0,x=b.length,_=this.minOpacity,C=this.maxOpacity-_;w<x;){v=b[w+3]/256;var S=4*Math.floor(255*v);if(v>0){var M=o(v)?s:l;v>0&&(v=v*C+_),b[w++]=M[S],b[w++]=M[S+1],b[w++]=M[S+2],b[w++]=M[S+3]*v*256}else w+=4}return c.putImageData(y,0,0),h},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=S.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,a=0;a<256;a++)t[e](a/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i},t}(),mO=gO;function vO(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var yO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this._progressiveEls=null,this.group.removeAll();var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):vO(r)&&this._renderOnGeo(r,t,i,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,i){var r=e.coordinateSystem;r&&(vO(r)?this.render(e,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){zm(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,r){var o,a,s,l,u=t.coordinateSystem,h=_M(u,"cartesian2d");if(h){var c=u.getAxis("x"),d=u.getAxis("y");0,o=c.getBandWidth()+.5,a=d.getBandWidth()+.5,s=c.scale.getExtent(),l=d.scale.getExtent()}for(var f=this.group,p=t.getData(),g=t.getModel(["emphasis","itemStyle"]).getItemStyle(),m=t.getModel(["blur","itemStyle"]).getItemStyle(),v=t.getModel(["select","itemStyle"]).getItemStyle(),y=t.get(["itemStyle","borderRadius"]),b=eh(t),w=t.getModel("emphasis"),x=w.get("focus"),_=w.get("blurScope"),C=w.get("disabled"),S=h?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],M=n;M<i;M++){var A=void 0,T=p.getItemVisual(M,"style");if(h){var k=p.get(S[0],M),R=p.get(S[1],M);if(isNaN(p.get(S[2],M))||isNaN(k)||isNaN(R)||k<s[0]||k>s[1]||R<l[0]||R>l[1])continue;var I=u.dataToPoint([k,R]);A=new Al({shape:{x:I[0]-o/2,y:I[1]-a/2,width:o,height:a},style:T})}else{if(isNaN(p.get(S[1],M)))continue;A=new Al({z2:1,shape:u.dataToRect([p.get(S[0],M)]).contentShape,style:T})}if(p.hasItemOption){var P=p.getItemModel(M),E=P.getModel("emphasis");g=E.getModel("itemStyle").getItemStyle(),m=P.getModel(["blur","itemStyle"]).getItemStyle(),v=P.getModel(["select","itemStyle"]).getItemStyle(),y=P.get(["itemStyle","borderRadius"]),x=E.get("focus"),_=E.get("blurScope"),C=E.get("disabled"),b=eh(P)}A.shape.r=y;var B=t.getRawValue(M),L="-";B&&null!=B[2]&&(L=B[2]+""),th(A,b,{labelFetcher:t,labelDataIndex:M,defaultOpacity:T.opacity,defaultText:L}),A.ensureState("emphasis").style=g,A.ensureState("blur").style=m,A.ensureState("select").style=v,Eu(A,x,_,C),A.incremental=r,r&&(A.states.emphasis.hoverLayer=!0),f.add(A),p.setItemGraphicEl(M,A),this._progressiveEls&&this._progressiveEls.push(A)}},e.prototype._renderOnGeo=function(t,e,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new mO;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),u=t.getRoamTransform();l.applyTransform(u);var h=Math.max(l.x,0),c=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),f=Math.min(l.height+l.y,i.getHeight()),p=d-h,g=f-c,m=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(m,(function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=h,r[1]-=c,r.push(i),r})),y=n.getExtent(),b="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(y,n.option.range):function(t,e,n){var i=t[1]-t[0],r=(e=q(e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}))).length,o=0;return function(t){var i;for(i=o;i<r;i++)if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(y,n.getPieceList(),n.option.selected);s.update(v,p,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},b);var w=new yl({style:{width:p,height:g,x:h,y:c,image:s.canvas},silent:!0});this.group.add(w)},e.type="heatmap",e}(Xm),bO=yO,wO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){return Kw(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Ad.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Fp),xO=wO;var _O=["itemStyle","borderWidth"],CO=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],SO=new ug,MO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=this.group,r=t.getData(),o=this._data,a=t.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:CO[+s],categoryDim:CO[1-+s]};r.diff(o).add((function(t){if(r.hasValue(t)){var e=BO(r,t),n=AO(r,t,e,u),o=OO(r,u,n);r.setItemGraphicEl(t,o),i.add(o),WO(o,u,n)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(r.hasValue(t)){var a=BO(r,t),s=AO(r,t,a,u),l=HO(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var i=n.animationModel,r=n.dataIndex,o=t.__pictorialBundle;Gu(o,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,r),n.symbolRepeat?RO(t,e,n,!0):IO(t,e,n,!0);PO(t,n,!0),EO(t,e,n,!0)}(n,u,s):n=OO(r,u,s,!0),r.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,i.add(n),WO(n,u,s)}else i.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&FO(o,t,e.__pictorialSymbolMeta.animationModel,e)})).execute();var h=t.get("clip",!0)?xM(t.coordinateSystem,!1,t):null;return h?i.setClipPath(h):i.removeClipPath(),this._data=r,this.group},e.prototype.remove=function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl((function(e){FO(i,Vl(e).dataIndex,t,e)})):n.removeAll()},e.type="pictorialBar",e}(Xm);function AO(t,e,n,i){var r=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),c={dataIndex:e,layout:r,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?n:null,hoverScale:h&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(t,e,n,i,r){var o,a=i.valueDim,s=t.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-+(n[a.wh]<=0);if(rt(s)){var c=[TO(l,s[0])-u,TO(l,s[1])-u];c[1]<c[0]&&c.reverse(),o=c[h]}else o=null!=s?TO(l,s)-u:e?i.coordSysExtent[a.index][h]-u:n[a.wh];r.boundingLength=o,e&&(r.repeatCutLength=n[a.wh]);r.pxSign=o>0?1:-1}(n,o,r,i,c),function(t,e,n,i,r,o,a,s,l,u){var h,c=l.valueDim,d=l.categoryDim,f=Math.abs(n[d.wh]),p=t.getItemVisual(e,"symbolSize");h=rt(p)?p.slice():null==p?["100%","100%"]:[p,p];h[d.index]=Po(h[d.index],f),h[c.index]=Po(h[c.index],i?f:Math.abs(o)),u.symbolSize=h;var g=u.symbolScale=[h[0]/s,h[1]/s];g[c.index]*=(l.isHorizontal?-1:1)*a}(t,e,r,o,0,c.boundingLength,c.pxSign,u,i,c),function(t,e,n,i,r){var o=t.get(_O)||0;o&&(SO.attr({scaleX:e[0],scaleY:e[1],rotation:n}),SO.updateTransform(),o/=SO.getLineScale(),o*=e[i.valueDim.index]);r.valueLineWidth=o||0}(n,c.symbolScale,l,i,c);var d=c.symbolSize,f=sy(n.get("symbolOffset"),d);return function(t,e,n,i,r,o,a,s,l,u,h,c){var d=h.categoryDim,f=h.valueDim,p=c.pxSign,g=Math.max(e[f.index]+s,0),m=g;if(i){var v=Math.abs(l),y=vt(t.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var w=Po(y,e[f.index]),x=Math.max(g+2*w,0),_=b?0:2*w,C=qo(i),S=C?i:jO((v+_)/x);x=g+2*(w=(v-S*g)/2/(b?S:Math.max(S-1,1))),_=b?0:2*w,C||"fixed"===i||(S=u?jO((Math.abs(u)+_)/x):0),m=S*x-_,c.repeatTimes=S,c.symbolMargin=w}var M=p*(m/2),A=c.pathPosition=[];A[d.index]=n[d.wh]/2,A[f.index]="start"===a?M:"end"===a?l-M:l/2,o&&(A[0]+=o[0],A[1]+=o[1]);var T=c.bundlePosition=[];T[d.index]=n[d.xy],T[f.index]=n[f.xy];var k=c.barRectShape=V({},n);k[f.wh]=p*Math.max(Math.abs(n[f.wh]),Math.abs(A[f.index]+M)),k[d.wh]=n[d.wh];var R=c.clipShape={};R[d.xy]=-n[d.xy],R[d.wh]=h.ecSize[d.wh],R[f.xy]=0,R[f.wh]=n[f.wh]}(n,d,r,o,0,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function TO(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function kO(t){var e=t.symbolPatternSize,n=oy(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function RO(t,e,n,i){var r=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,h=0,c=o[e.valueDim.index]+a+2*n.symbolMargin;for(NO(t,(function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=u,h<u?zO(t,null,p(h),n,i):zO(t,null,{scaleX:0,scaleY:0},n,i,(function(){r.remove(t)})),h++}));h<u;h++){var d=kO(n);d.__pictorialAnimationIndex=h,d.__pictorialRepeatTimes=u,r.add(d);var f=p(h);zO(d,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},n,i)}function p(t){var e=s.slice(),i=n.pxSign,r=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=u-1-t),e[l.index]=c*(r-u/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function IO(t,e,n,i){var r=t.__pictorialBundle,o=t.__pictorialMainPath;o?zO(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(o=t.__pictorialMainPath=kO(n),r.add(o),zO(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function PO(t,e,n){var i=V({},e.barRectShape),r=t.__pictorialBarRect;r?zO(r,null,{shape:i},e,n):((r=t.__pictorialBarRect=new Al({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(r))}function EO(t,e,n,i){if(n.symbolClip){var r=t.__pictorialClipPath,o=V({},n.clipShape),a=e.valueDim,s=n.animationModel,u=n.dataIndex;if(r)Gu(r,{shape:o},s,u);else{o[a.wh]=0,r=new Al({shape:o}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r;var h={};h[a.wh]=n.clipShape[a.wh],l[i?"updateProps":"initProps"](r,{shape:h},s,u)}}}function BO(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=LO,n.isAnimationEnabled=DO,n}function LO(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function DO(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function OO(t,e,n,i){var r=new mo,o=new mo;return r.add(o),r.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?RO(r,e,n):IO(r,0,n),PO(r,n,i),EO(r,e,n,i),r.__pictorialShapeStr=HO(t,n),r.__pictorialSymbolMeta=n,r}function FO(t,e,n,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];NO(i,(function(t){o.push(t)})),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),Y(o,(function(t){Ku(t,{scaleX:0,scaleY:0},n,e,(function(){i.parent&&i.parent.remove(i)}))})),t.setItemGraphicEl(e,null)}function HO(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function NO(t,e,n){Y(t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(n,i)}))}function zO(t,e,n,i,r,o){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&l[r?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,o)}function WO(t,e,n){var i=n.dataIndex,r=n.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),h=o.get("focus"),c=o.get("blurScope"),d=o.get("scale");NO(t,(function(t){if(t instanceof yl){var e=t.style;t.useStyle(V({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var i=t.ensureState("emphasis");i.style=a,d&&(i.scaleX=1.1*t.scaleX,i.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=l,u&&(t.cursor=u),t.z2=n.z2}));var f=e.valueDim.posDesc[+(n.boundingLength>0)],p=t.__pictorialBarRect;p.ignoreClip=!0,th(p,eh(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:QS(e.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:f}),Eu(t,h,c,o.get("disabled"))}function jO(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var VO=MO,GO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Rh(zM.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(zM),ZO=GO;var UO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this,o=this.group,a=t.getLayerSeries(),s=i.getLayout("layoutInfo"),l=s.rect,u=s.boundaryGap;function h(t){return t.name}o.x=0,o.y=l.y+u[0];var c=new dw(this._layersSeries||[],a,h,h),d=[];function f(e,n,s){var l=r._layers;if("remove"!==e){for(var u,h,c=[],f=[],p=a[n].indices,g=0;g<p.length;g++){var m=i.getItemLayout(p[g]),v=m.x,y=m.y0,b=m.y;c.push(v,y),f.push(v,y+b),u=i.getItemVisual(p[g],"style")}var w=i.getItemLayout(p[0]),x=t.getModel("label").get("margin"),_=t.getModel("emphasis");if("add"===e){var C=d[n]=new mo;h=new yM({shape:{points:c,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),C.add(h),o.add(C),t.isAnimationEnabled()&&h.setClipPath(function(t,e,n){var i=new Al({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Zu(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),i}(h.getBoundingRect(),t,(function(){h.removeClipPath()})))}else{C=l[s];h=C.childAt(0),o.add(C),d[n]=C,Gu(h,{shape:{points:c,stackedOnPoints:f}},t),Yu(h)}th(h,eh(t),{labelDataIndex:p[g-1],defaultText:i.getName(p[g-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),h.setTextConfig({position:null,local:!0});var S=h.getTextContent();S&&(S.x=w.x-x,S.y=w.y0+w.y/2),h.useStyle(u),i.setItemGraphicEl(n,h),Ou(h,t),Eu(h,_.get("focus"),_.get("blurScope"),_.get("disabled"))}else o.remove(l[n])}c.add(nt(f,this,"add")).update(nt(f,this,"update")).remove(nt(f,this,"remove")).execute(),this._layersSeries=a,this._layers=d},e.type="themeRiver",e}(Xm);var KO=UO,$O=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new IA(nt(this.getData,this),nt(this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},i=Sa(t,(function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]})),r=[];i.buckets.each((function(t,e){r.push({name:e,dataList:t})}));for(var o=r.length,a=0;a<o;++a){for(var s=r[a].name,l=0;l<r[a].dataList.length;++l){var u=r[a].dataList[l][0]+"";n[u]=a}for(var u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,t[e]=[u,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",wa).models[0].get("type"),i=Q(t.data,(function(t){return void 0!==t[2]})),r=this.fixData(i||[]),o=[],a=this.nameMap=It(),s=0,l=0;l<r.length;++l)o.push(r[l][2]),a.get(r[l][2])||(a.set(r[l][2],s),s++);var u=Nw(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:gw(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Fw(u,this);return h.initData(r),h},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var r=t.mapDimension("single"),o=Sa(n,(function(e){return t.get("name",e)})),a=[];return o.buckets.each((function(e,n){e.sort((function(e,n){return t.get(r,e)-t.get(r,n)})),a.push({name:n,indices:e})})),a},e.prototype.getAxisTooltipData=function(t,e,n){rt(t)||(t=t?[t]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,h=-1,c=o[l].indices.length,d=0;d<c;++d){var f=r.get(t[0],o[l].indices[d]),p=Math.abs(f-e);p<=u&&(i=f,u=p,h=o[l].indices[d])}a.push(h)}return{dataIndices:a,nestestValue:i}},e.prototype.formatTooltip=function(t,e,n){var i=this.getData();return fp("nameValue",{name:i.getName(t),value:i.get(i.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Fp),XO=$O;function YO(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=t.get("boundaryGap"),a=n.getAxis();(i.boundaryGap=o,"horizontal"===a.orient)?(o[0]=Po(o[0],r.height),o[1]=Po(o[1],r.height),qO(e,t,r.height-o[0]-o[1])):(o[0]=Po(o[0],r.width),o[1]=Po(o[1],r.width),qO(e,t,r.width-o[0]-o[1]));e.setLayout("layoutInfo",i)}))}function qO(t,e,n){if(t.count())for(var i,r=e.coordinateSystem,o=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),l=q(o,(function(e){return q(e.indices,(function(e){var n=r.dataToPoint(t.get(a,e));return n[1]=t.get(s,e),n}))})),u=function(t){for(var e=t.length,n=t[0].length,i=[],r=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<e;++l)s+=t[l][a][1];s>o&&(o=s),i.push(s)}for(var u=0;u<n;++u)r[u]=(o-i[u])/2;o=0;for(var h=0;h<n;++h){var c=i[h]+r[h];c>o&&(o=c)}return{y0:r,max:o}}(l),h=u.y0,c=n/u.max,d=o.length,f=o[0].indices.length,p=0;p<f;++p){i=h[p]*c,t.setItemLayout(o[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:i,y:l[0][p][1]*c});for(var g=1;g<d;++g)i+=l[g-1][p][1]*c,t.setItemLayout(o[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:i,y:l[g][p][1]*c})}}var JO=function(t){function e(e,n,i,r){var o=t.call(this)||this;o.z2=2,o.textConfig={inside:!0},Vl(o).seriesIndex=n.seriesIndex;var a=new jl({z2:4,silent:e.getModel().get(["label","silent"])});return o.setTextContent(a),o.updateData(!0,e,n,i,r),o}return(0,g.ZT)(e,t),e.prototype.updateData=function(t,e,n,i,r){this.node=e,e.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var o=this;Vl(o).dataIndex=e.dataIndex;var a=e.getModel(),s=a.getModel("emphasis"),l=e.getLayout(),u=V({},l);u.label=null;var h=e.getVisual("style");h.lineJoin="bevel";var c=e.getVisual("decal");c&&(h.decal=Ey(c,r));var d=$M(a.getModel("itemStyle"),u,!0);V(u,d),Y(Xl,(function(t){var e=o.ensureState(t),n=a.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var i=$M(n,u);i&&(e.shape=i)})),t?(o.setShape(u),o.shape.r=l.r0,Zu(o,{shape:{r:l.r}},n,e.dataIndex)):(Gu(o,{shape:u},n),Yu(o)),o.useStyle(h),this._updateLabel(n);var f=a.getShallow("cursor");f&&o.attr("cursor",f),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var p=s.get("focus");Eu(this,"ancestor"===p?e.getAncestorsIndices():"descendant"===p?e.getDescendantIndices():p,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),i=n.getModel("label"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,a=(r.startAngle+r.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,h=u.getTextContent(),c=this.node.dataIndex,d=i.get("minAngle")/180*Math.PI,f=i.get("show")&&!(null!=d&&Math.abs(o)<d);function p(t,e){var n=t.get(e);return null==n?i.get(e):n}h.ignore=!f,Y(Yl,(function(i){var d="normal"===i?n.getModel("label"):n.getModel([i,"label"]),f="normal"===i,g=f?h:h.ensureState(i),m=t.getFormattedLabel(c,i);f&&(m=m||e.node.name),g.style=nh(d,{},null,"normal"!==i,!0),m&&(g.style.text=m);var v=d.get("show");null==v||f||(g.ignore=!v);var y,b=p(d,"position"),w=f?u:u.states[i],x=w.style.fill;w.textConfig={outsideFill:"inherit"===d.get("color")?x:null,inside:"outside"!==b};var _=p(d,"distance")||0,C=p(d,"align"),S=p(d,"rotate"),M=.5*Math.PI,A=1.5*Math.PI,T=Xs("tangential"===S?Math.PI/2-a:a),k=T>M&&!jo(T-M)&&T<A;"outside"===b?(y=r.r+_,C=k?"right":"left"):C&&"center"!==C?"left"===C?(y=r.r0+_,C=k?"right":"left"):"right"===C&&(y=r.r-_,C=k?"left":"right"):(y=o===2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,C="center"),g.style.align=C,g.style.verticalAlign=p(d,"verticalAlign")||"middle",g.x=y*s+r.cx,g.y=y*l+r.cy;var R=0;"radial"===S?R=Xs(-a)+(k?Math.PI:0):"tangential"===S?R=Xs(Math.PI/2-a)+(k?Math.PI:0):lt(S)&&(R=S*Math.PI/180),g.rotation=Xs(R)})),h.dirtyStyle()},e}(kg),QO=JO,tF="sunburstRootToNode",eF="sunburstHighlight";var nF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){var r=this;this.seriesModel=t,this.api=n,this.ecModel=e;var o=t.getData(),a=o.tree.root,s=t.getViewRoot(),l=this.group,u=t.get("renderLabelForZeroData"),h=[];s.eachNode((function(t){h.push(t)}));var c=this._oldChildren||[];!function(i,r){if(0===i.length&&0===r.length)return;function s(t){return t.getId()}function h(s,h){!function(i,r){u||!i||i.getValue()||(i=null);if(i!==a&&r!==a)if(r&&r.piece)i?(r.piece.updateData(!1,i,t,e,n),o.setItemGraphicEl(i.dataIndex,r.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(r);else if(i){var s=new QO(i,t,e,n);l.add(s),o.setItemGraphicEl(i.dataIndex,s)}}(null==s?null:i[s],null==h?null:r[h])}new dw(r,i,s,s).add(h).update(h).remove(it(h,null)).execute()}(h,c),function(i,o){o.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,t,e,n):(r.virtualPiece=new QO(i,t,e,n),l.add(r.virtualPiece)),o.piece.off("click"),r.virtualPiece.on("click",(function(t){r._rootToNode(o.parentNode)}))):r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=h},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var n=!1;t.seriesModel.getViewRoot().eachNode((function(i){if(!n&&i.piece&&i.piece===e.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)t._rootToNode(i);else if("link"===r){var o=i.getModel(),a=o.get("link");if(a)Mc(a,o.get("target",!0)||"_blank")}n=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:tF,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},e.type="sunburst",e}(Xm),iF=nF,rF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return(0,g.ZT)(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};oF(n);var i=this._levelModels=q(t.levels||[],(function(t){return new Ah(t,this,e)}),this),r=CI.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=r.getNodeByDataIndex(e),o=i[n.depth];return o&&(t.parentModel=o),t}))}));return r.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=TI(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){LI(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Fp);function oF(t){var e=0;Y(t.children,(function(t){oF(t);var n=t.value;rt(n)&&(n=n[0]),e+=n}));var n=t.value;rt(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),rt(t.value)?t.value[0]=n:t.value=n}var aF=rF,sF=Math.PI/180;function lF(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get("center"),i=t.get("radius");rt(i)||(i=[0,i]),rt(e)||(e=[e,e]);var r=n.getWidth(),o=n.getHeight(),a=Math.min(r,o),s=Po(e[0],r),l=Po(e[1],o),u=Po(i[0],a/2),h=Po(i[1],a/2),c=-t.get("startAngle")*sF,d=t.get("minAngle")*sF,f=t.getData().tree.root,p=t.getViewRoot(),g=p.depth,m=t.get("sort");null!=m&&uF(p,m);var v=0;Y(p.children,(function(t){!isNaN(t.getValue())&&v++}));var y=p.getValue(),b=Math.PI/(y||v)*2,w=p.depth>0,x=p.height-(w?-1:1),_=(h-u)/(x||1),C=t.get("clockwise"),S=t.get("stillShowZeroSum"),M=C?1:-1,A=function(e,n){if(e){var i=n;if(e!==f){var r=e.getValue(),o=0===y&&S?b:r*b;o<d&&(o=d),i=n+M*o;var h=e.depth-g-(w?-1:1),c=u+_*h,p=u+_*(h+1),m=t.getLevelModel(e);if(m){var v=m.get("r0",!0),x=m.get("r",!0),T=m.get("radius",!0);null!=T&&(v=T[0],x=T[1]),null!=v&&(c=Po(v,a/2)),null!=x&&(p=Po(x,a/2))}e.setLayout({angle:o,startAngle:n,endAngle:i,clockwise:C,cx:s,cy:l,r0:c,r:p})}if(e.children&&e.children.length){var k=0;Y(e.children,(function(t){k+=A(t,n+k)}))}return i-n}};if(w){var T=u,k=u+_,R=2*Math.PI;f.setLayout({angle:R,startAngle:c,endAngle:c+R,clockwise:C,cx:s,cy:l,r0:T,r:k})}A(p,c)}))}function uF(t,e){var n=t.children||[];t.children=function(t,e){if(ot(e)){var n=q(t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}));return n.sort((function(t,n){return e(t.params,n.params)})),q(n,(function(e){return t[e.index]}))}var i="asc"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n}))}(n,e),n.length&&Y(t.children,(function(t){uF(t,e)}))}function hF(t){var e={};t.eachSeriesByType("sunburst",(function(t){var n=t.getData(),i=n.tree;i.eachNode((function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function(t,n,i){for(var r=t;r&&r.depth>1;)r=r.parentNode;var o=n.getColorFromPalette(r.name||r.dataIndex+"",e);return t.depth>1&&at(o)&&(o=wi(o,(t.depth-1)/(i-1)*.5)),o}(r,t,i.root.height)),V(n.ensureUniqueItemVisual(r.dataIndex,"style"),o)}))}))}var cF={color:"fill",borderColor:"stroke"},dF={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},fF=ma(),pF=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return Kw(null,this)},e.prototype.getDataParams=function(e,n,i){var r=t.prototype.getDataParams.call(this,e,n);return i&&(r.info=fF(i).info),r},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Fp),gF=pF;function mF(t,e){return e=e||[0,0],q(["x","y"],(function(n,i){var r=this.getAxis(n),o=e[i],a=t[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))}),this)}function vF(t,e){return e=e||[0,0],q([0,1],(function(n){var i=e[n],r=t[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}function yF(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function bF(t,e){return e=e||[0,0],q(["Radius","Angle"],(function(n,i){var r=this["get"+n+"Axis"](),o=e[i],a=t[i]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}function wF(t,e,n,i){return t&&(t.legacy||!1!==t.legacy&&!n&&!i&&"tspan"!==e&&("text"===e||Lt(t,"text")))}function xF(t,e,n){var i,r,o,a=t;if("text"===e)o=a;else{o={},Lt(a,"text")&&(o.text=a.text),Lt(a,"rich")&&(o.rich=a.rich),Lt(a,"textFill")&&(o.fill=a.textFill),Lt(a,"textStroke")&&(o.stroke=a.textStroke),Lt(a,"fontFamily")&&(o.fontFamily=a.fontFamily),Lt(a,"fontSize")&&(o.fontSize=a.fontSize),Lt(a,"fontStyle")&&(o.fontStyle=a.fontStyle),Lt(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var s=Lt(a,"textPosition");n?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),Lt(a,"textPosition")&&(i.position=a.textPosition),Lt(a,"textOffset")&&(i.offset=a.textOffset),Lt(a,"textRotation")&&(i.rotation=a.textRotation),Lt(a,"textDistance")&&(i.distance=a.textDistance)}return _F(o,t),Y(o.rich,(function(t){_F(t,t)})),{textConfig:i,textContent:r}}function _F(t,e){e&&(e.font=e.textFont||e.font,Lt(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Lt(e,"textAlign")&&(t.align=e.textAlign),Lt(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Lt(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Lt(e,"textWidth")&&(t.width=e.textWidth),Lt(e,"textHeight")&&(t.height=e.textHeight),Lt(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Lt(e,"textPadding")&&(t.padding=e.textPadding),Lt(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Lt(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Lt(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Lt(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Lt(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Lt(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Lt(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function CF(t,e,n){var i=t;i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var r=i.textPosition.indexOf("inside")>=0,o=t.fill||"#000";SF(i,e);var a=null==i.textFill;return r?a&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=t.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=e.text,i.rich=e.rich,Y(e.rich,(function(t){SF(t,t)})),i}function SF(t,e){e&&(Lt(e,"fill")&&(t.textFill=e.fill),Lt(e,"stroke")&&(t.textStroke=e.fill),Lt(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Lt(e,"font")&&(t.font=e.font),Lt(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Lt(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Lt(e,"fontSize")&&(t.fontSize=e.fontSize),Lt(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Lt(e,"align")&&(t.textAlign=e.align),Lt(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Lt(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Lt(e,"width")&&(t.textWidth=e.width),Lt(e,"height")&&(t.textHeight=e.height),Lt(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Lt(e,"padding")&&(t.textPadding=e.padding),Lt(e,"borderColor")&&(t.textBorderColor=e.borderColor),Lt(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Lt(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Lt(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Lt(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Lt(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Lt(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Lt(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Lt(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Lt(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Lt(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var MF={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},AF=et(MF),TF=(J(Zr,(function(t,e){return t[e]=1,t}),{}),Zr.join(", "),["","style","shape","extra"]),kF=ma();function RF(t,e,n,i,r){var o=t+"Animation",a=ju(t,i,r)||{},s=kF(e).userDuring;return a.duration>0&&(a.during=s?nt(OF,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),V(a,n[o]),a}function IF(t,e,n,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,s=n.isAnimationEnabled(),l=kF(t),u=e.style;l.userDuring=e.during;var h={},c={};if(function(t,e,n){for(var i=0;i<AF.length;i++){var r=AF[i],o=MF[r],a=e[r];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(i=0;i<Zr.length;i++){var s=Zr[i];null!=e[s]&&(n[s]=e[s])}}(0,e,c),HF("shape",e,c),HF("extra",e,c),!o&&s&&(function(t,e,n){for(var i=e.transition,r=BF(i)?Zr:ra(i||[]),o=0;o<r.length;o++){var a=r[o];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=t[a];0,n[a]=s}}}(t,e,h),FF("shape",t,e,h),FF("extra",t,e,h),function(t,e,n,i){if(!n)return;var r,o=t.style;if(o){var a=n.transition,s=e.transition;if(a&&!BF(a)){var l=ra(a);!r&&(r=i.style={});for(var u=0;u<l.length;u++){var h=o[p=l[u]];r[p]=h}}else if(t.getAnimationStyleProps&&(BF(s)||BF(a)||U(s,"style")>=0)){var c=t.getAnimationStyleProps(),d=c?c.style:null;if(d){!r&&(r=i.style={});var f=et(n);for(u=0;u<f.length;u++){var p;if(d[p=f[u]]){h=o[p];r[p]=h}}}}}}(t,e,u,h)),c.style=u,function(t,e,n){var i=e.style;if(!t.isGroup&&i){if(n){t.useStyle({});for(var r=t.animators,o=0;o<r.length;o++){var a=r[o];"style"===a.targetName&&a.changeTarget(t.style)}}t.setStyle(i)}e&&(e.style=null,e&&t.attr(e),e.style=i)}(t,c,a),function(t,e){Lt(e,"silent")&&(t.silent=e.silent),Lt(e,"ignore")&&(t.ignore=e.ignore),t instanceof us&&Lt(e,"invisible")&&(t.invisible=e.invisible);t instanceof cl&&Lt(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}(t,e),s)if(o){var d={};Y(TF,(function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(d[t]=d[t]||{}),V(t?d[t]:d,n.enterFrom))}));var f=RF("enter",t,e,n,r);f.duration>0&&t.animateFrom(d,f)}else!function(t,e,n,i,r){if(r){var o=RF("update",t,e,i,n);o.duration>0&&t.animateFrom(r,o)}}(t,e,r||0,n,h);PF(t,e),u?t.dirty():t.markRedraw()}function PF(t,e){for(var n=kF(t).leaveToProps,i=0;i<TF.length;i++){var r=TF[i],o=r?e[r]:e;o&&o.leaveTo&&(n||(n=kF(t).leaveToProps={}),r&&(n[r]=n[r]||{}),V(r?n[r]:n,o.leaveTo))}}function EF(t,e,n,i){if(t){var r=t.parent,o=kF(t).leaveToProps;if(o){var a=RF("update",t,e,n,0);a.done=function(){r.remove(t),i&&i()},t.animateTo(o,a)}else r.remove(t),i&&i()}}function BF(t){return"all"===t}var LF={},DF={setTransform:function(t,e){return LF.el[t]=e,this},getTransform:function(t){return LF.el[t]},setShape:function(t,e){var n=LF.el;return(n.shape||(n.shape={}))[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=LF.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=LF.el,i=n.style;return i&&(i[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=LF.el.style;if(e)return e[t]},setExtra:function(t,e){return(LF.el.extra||(LF.el.extra={}))[t]=e,this},getExtra:function(t){var e=LF.el.extra;if(e)return e[t]}};function OF(){var t=this,e=t.el;if(e){var n=kF(e).userDuring,i=t.userDuring;n===i?(LF.el=e,i(DF)):t.el=t.userDuring=null}}function FF(t,e,n,i){var r=n[t];if(r){var o,a=e[t];if(a){var s=n.transition,l=r.transition;if(l)if(!o&&(o=i[t]={}),BF(l))V(o,a);else for(var u=ra(l),h=0;h<u.length;h++){var c=a[f=u[h]];o[f]=c}else if(BF(s)||U(s,t)>=0){!o&&(o=i[t]={});var d=et(a);for(h=0;h<d.length;h++){var f;c=a[f=d[h]];NF(r[f],c)&&(o[f]=c)}}}}}function HF(t,e,n){var i=e[t];if(i)for(var r=n[t]={},o=et(i),a=0;a<o.length;a++){var s=o[a];r[s]=ir(i[s])}}function NF(t,e){return X(t)?t!==e:null!=t&&isFinite(t)}var zF=ma(),WF=["percent","easing","shape","style","extra"];function jF(t){t.stopAnimation("keyframe"),t.attr(zF(t))}function VF(t,e,n){if(n.isAnimationEnabled()&&e)if(rt(e))Y(e,(function(e){VF(t,e,n)}));else{var i=e.keyframes,r=e.duration;if(n&&null==r){var o=ju("enter",n,0);r=o&&o.duration}if(i&&r){var a=zF(t);Y(TF,(function(n){if(!n||t[n]){var o;i.sort((function(t,e){return t.percent-e.percent})),Y(i,(function(i){var s=t.animators,l=n?i[n]:i;if(l){var u=et(l);if(n||(u=Q(u,(function(t){return U(WF,t)<0}))),u.length){o||((o=t.animate(n,e.loop,!0)).scope="keyframe");for(var h=0;h<s.length;h++)s[h]!==o&&s[h].targetName===o.targetName&&s[h].stopTracks(u);n&&(a[n]=a[n]||{});var c=n?a[n]:a;Y(u,(function(e){c[e]=((n?t[n]:t)||{})[e]})),o.whenWithKeys(r*i.percent,l,u,i.easing)}}})),o&&o.delay(e.delay||0).duration(r).start(e.easing)}}))}}}var GF="emphasis",ZF="normal",UF="blur",KF="select",$F=[ZF,GF,UF,KF],XF={normal:["itemStyle"],emphasis:[GF,"itemStyle"],blur:[UF,"itemStyle"],select:[KF,"itemStyle"]},YF={normal:["label"],emphasis:[GF,"label"],blur:[UF,"label"],select:[KF,"label"]},qF=["x","y"],JF={normal:{},emphasis:{},blur:{},select:{}},QF={cartesian2d:function(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nt(mF,t)}}},geo:function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:nt(vF,t)}}},single:function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:nt(yF,t)}}},polar:function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r=e.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=t.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a},size:nt(bF,t)}}},calendar:function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}};function tH(t){return t instanceof cl}function eH(t){return t instanceof us}var nH=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._data,o=t.getData(),a=this.group,s=lH(t,o,e,n);r||a.removeAll(),o.diff(r).add((function(e){hH(n,null,e,s(e,i),t,a,o)})).remove((function(e){var n=r.getItemGraphicEl(e);n&&EF(n,fF(n).option,t)})).update((function(e,l){var u=r.getItemGraphicEl(l);hH(n,u,e,s(e,i),t,a,o)})).execute();var l=t.get("clip",!0)?xM(t.coordinateSystem,!1,t):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,i,r){var o=e.getData(),a=lH(e,o,n,i),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var u=t.start;u<t.end;u++){var h=hH(null,null,u,a(u,r),e,this.group,o);h&&(h.traverse(l),s.push(h))}},e.prototype.eachRendered=function(t){zm(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},e.type="custom",e}(Xm),iH=nH;function rH(t){var e,n=t.type;if("path"===n){var i=t.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=wH(i);e=bm(o,null,r,i.layout||"center"),fF(e).customPathData=o}else if("image"===n)e=new yl({}),fF(e).customImagePath=t.style.image;else if("text"===n)e=new jl({});else if("group"===n)e=new mo;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=ym(n);if(!a){0,Pf("")}e=new a}return fF(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function oH(t,e,n,i,r,o,a){jF(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=qF);var l=i&&i.style;if(l){if("text"===e.type){var u=l;Lt(u,"textFill")&&(u.fill=u.textFill),Lt(u,"textStroke")&&(u.stroke=u.textStroke)}var h=void 0,c=tH(e)?l.decal:null;t&&c&&(c.dirty=!0,h=Ey(c,t)),l.__decalPattern=h}eH(e)&&(l&&(h=l.__decalPattern)&&(l.decal=h));IF(e,i,o,{dataIndex:n,isInit:a,clearStyle:!0}),VF(e,i.keyframeAnimation,o)}function aH(t,e,n,i,r){var o=e.isGroup?null:e,a=r&&r[t].cfg;if(o){var s=o.ensureState(t);if(!1===i){var l=o.getState(t);l&&(l.style=null)}else s.style=i||null;a&&(s.textConfig=a),gu(o)}}function sH(t,e,n){var i=n===ZF,r=i?e:pH(e,n),o=r?r.z2:null;null!=o&&((i?t:t.ensureState(n)).z2=o||0)}function lH(t,e,n,i){var r=t.get("renderItem"),o=t.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):QF[o.type](o));for(var s,l,u=G({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(t,n){return null==n&&(n=s),e.getStore().get(e.getDimensionIndex(t||0),n)},style:function(n,i){0;null==i&&(i=s);var r=e.getItemVisual(i,"style"),o=r&&r.fill,a=r&&r.opacity,l=y(i,ZF).getItemStyle();null!=o&&(l.fill=o),null!=a&&(l.opacity=a);var u={inheritColor:at(o)?o:"#000"},h=b(i,ZF),c=nh(h,null,u,!1,!0);c.text=h.getShallow("show")?yt(t.getFormattedLabel(i,ZF),QS(e,i)):null;var d=ih(h,u,!1);return x(n,l),l=CF(l,c,d),n&&w(l,n),l.legacy=!0,l},ordinalRawValue:function(t,n){null==n&&(n=s),t=t||0;var i=e.getDimensionInfo(t);if(!i){var r=e.getDimensionIndex(t);return r>=0?e.getStore().get(r,n):void 0}var o=e.get(i.name,n),a=i&&i.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(n,i){0;null==i&&(i=s);var r=y(i,GF).getItemStyle(),o=b(i,GF),a=nh(o,null,null,!0,!0);a.text=o.getShallow("show")?bt(t.getFormattedLabel(i,GF),t.getFormattedLabel(i,ZF),QS(e,i)):null;var l=ih(o,null,!0);return x(n,r),r=CF(r,a,l),n&&w(r,n),r.legacy=!0,r},visual:function(t,n){if(null==n&&(n=s),Lt(cF,t)){var i=e.getItemVisual(n,"style");return i?i[cF[t]]:null}if(Lt(dF,t))return e.getItemVisual(n,t)},barLayout:function(t){if("cartesian2d"===o.type){return function(t){var e=[],n=t.axis,i="axis0";if("category"===n.type){for(var r=n.getBandWidth(),o=0;o<t.count;o++)e.push(G({bandWidth:r,axisKey:i,stackId:gx+o},t));var a=xx(e),s=[];for(o=0;o<t.count;o++){var l=a[i][gx+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(G({axis:o.getBaseAxis()},t))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return lh(t,n)}},a.api||{}),h={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:uH(t.getData())},c={},d={},f={},p={},g=0;g<$F.length;g++){var m=$F[g];f[m]=t.getModel(XF[m]),p[m]=t.getModel(YF[m])}function v(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function y(t,n){return e.hasItemOption?t===s?c[n]||(c[n]=v(t).getModel(XF[n])):v(t).getModel(XF[n]):f[n]}function b(t,n){return e.hasItemOption?t===s?d[n]||(d[n]=v(t).getModel(YF[n])):v(t).getModel(YF[n]):p[n]}return function(t,n){return s=t,l=null,c={},d={},r&&r(G({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},h),u)};function w(t,e){for(var n in e)Lt(e,n)&&(t[n]=e[n])}function x(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}}function uH(t){var e={};return Y(t.dimensions,(function(n){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=t.getDimensionIndex(n)}})),e}function hH(t,e,n,i,r,o,a){if(i){var s=cH(t,e,n,i,r,o);return s&&a.setItemGraphicEl(n,s),s&&Eu(s,i.focus,i.blurScope,i.emphasisDisabled),s}o.remove(e)}function cH(t,e,n,i,r,o){var a=-1,s=e;e&&dH(e,i,r)&&(a=U(o.childrenRef(),e),e=null);var l,u,h=!e,c=e;c?c.clearStates():(c=rH(i),s&&(l=s,(u=c).copyTransform(l),eH(u)&&eH(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,tH(u)&&tH(l)&&u.setShape(l.shape)))),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),JF.normal.cfg=JF.normal.conOpt=JF.emphasis.cfg=JF.emphasis.conOpt=JF.blur.cfg=JF.blur.conOpt=JF.select.cfg=JF.select.conOpt=null,JF.isLegacy=!1,function(t,e,n,i,r,o){if(t.isGroup)return;fH(n,null,o),fH(n,GF,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=a||null!=s||null!=u||null!=l){var h=t.getTextContent();if(!1===a)h&&t.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},h?h.clearStates():(h=rH(a),t.setTextContent(h)),oH(null,h,e,a,null,i,r);for(var c=a&&a.style,d=0;d<$F.length;d++){var f=$F[d];if(f!==ZF){var p=o[f].conOpt;aH(f,h,0,gH(a,p,f),null)}}c?h.dirty():h.markRedraw()}}}(c,n,i,r,h,JF),function(t,e,n,i,r){var o=n.clipPath;if(!1===o)t&&t.getClipPath()&&t.removeClipPath();else if(o){var a=t.getClipPath();a&&dH(a,o,i)&&(a=null),a||(a=rH(o),t.setClipPath(a)),oH(null,a,e,o,null,i,r)}}(c,n,i,r,h),oH(t,c,n,i,JF,r,h),Lt(i,"info")&&(fF(c).info=i.info);for(var d=0;d<$F.length;d++){var f=$F[d];if(f!==ZF){var p=pH(i,f);aH(f,c,0,gH(i,p,f),JF)}}return function(t,e,n){if(!t.isGroup){var i=t,r=n.currentZ,o=n.currentZLevel;i.z=r,i.zlevel=o;var a=e.z2;null!=a&&(i.z2=a||0);for(var s=0;s<$F.length;s++)sH(i,e,$F[s])}}(c,i,r),"group"===i.type&&function(t,e,n,i,r){var o=i.children,a=o?o.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,u=!1===s;if(!a&&!l&&!u)return;if(l)return h={api:t,oldChildren:e.children()||[],newChildren:o||[],dataIndex:n,seriesModel:r,group:e},void new dw(h.oldChildren,h.newChildren,vH,vH,h).add(yH).update(yH).remove(bH).execute();var h;u&&e.removeAll();for(var c=0;c<a;c++){var d=o[c],f=e.childAt(c);d?(null==d.ignore&&(d.ignore=!1),cH(t,f,n,d,r,e)):f.ignore=!0}for(var p=e.childCount()-1;p>=c;p--){var g=e.childAt(p);mH(e,g,r)}}(t,c,n,i,r),a>=0?o.replaceAt(c,a):o.add(c),c}function dH(t,e,n){var i,r=fF(t),o=e.type,a=e.shape,s=e.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&((i=a)&&(Lt(i,"pathData")||Lt(i,"d")))&&wH(a)!==r.customPathData||"image"===o&&Lt(s,"image")&&s.image!==r.customImagePath}function fH(t,e,n){var i=e?pH(t,e):t,r=e?gH(t,i,GF):t.style,o=t.type,a=i?i.textConfig:null,s=t.textContent,l=s?e?pH(s,e):s:null;if(r&&(n.isLegacy||wF(r,o,!!a,!!l))){n.isLegacy=!0;var u=xF(r,o,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var h=l;!h.type&&(h.type="text")}var c=e?n[e]:n.normal;c.cfg=a,c.conOpt=l}function pH(t,e){return e?t?t[e]:null:t}function gH(t,e,n){var i=e&&e.style;return null==i&&n===GF&&t&&(i=t.styleEmphasis),i}function mH(t,e,n){e&&EF(e,fF(t).option,n)}function vH(t,e){var n=t&&t.name;return null!=n?n:"e\0\0"+e}function yH(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null,r=null!=e?n.oldChildren[e]:null;cH(n.api,r,n.dataIndex,i,n.seriesModel,n.group)}function bH(t){var e=this.context,n=e.oldChildren[t];n&&EF(n,fF(n).option,e.seriesModel)}function wH(t){return t&&(t.pathData||t.d)}var xH=ma(),_H=z,CH=nt,SH=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,i){var r=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(a){var c=it(MH,e,h);this.updatePointerEl(a,l,c),this.updateLabelEl(a,l,c,e)}else a=this._group=new mo,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),n.getZr().add(a);RH(a,e,!0),this._renderHandle(r)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=AT(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,i,r){},t.prototype.createPointerEl=function(t,e,n,i){var r=e.pointer;if(r){var o=xH(t).pointerEl=new l[r.type](_H(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,n,i){if(e.label){var r=xH(t).labelEl=new jl(_H(e.label));t.add(r),TH(r,i)}},t.prototype.updatePointerEl=function(t,e,n){var i=xH(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,i){var r=xH(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{x:e.label.x,y:e.label.y}),TH(r,i))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Lm(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Pe(t.event)},onmousedown:CH(this._onHandleDragMove,this,0,0),drift:CH(this._onHandleDragMove,this),ondragend:CH(this._onHandleDragEnd,this)}),i.add(r)),RH(r,n,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");rt(s)||(s=[s,s]),r.scaleX=s[0]/2,r.scaleY=s[1]/2,tv(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){MH(this._axisPointerModel,!e&&this._moveAnimation,this._handle,kH(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(kH(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(kH(i)),xH(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),ev(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},t}();function MH(t,e,n,i){AH(xH(n).lastProp,i)||(xH(n).lastProp=i,e?Gu(n,i,t):(n.stopAnimation(),n.attr(i)))}function AH(t,e){if(ut(t)&&ut(e)){var n=!0;return Y(e,(function(e,i){n=n&&AH(t[i],e)})),!!n}return t===e}function TH(t,e){t[e.get(["label","show"])?"show":"hide"]()}function kH(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function RH(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)}))}var IH=SH;function PH(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle()).fill=null:"shadow"===n&&((e=i.getAreaStyle()).stroke=null),e}function EH(t,e,n,i,r){var o=BH(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=mc(a.get("padding")||0),l=a.getFont(),u=qr(o,l),h=r.position,c=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=r.align;"right"===f&&(h[0]-=c),"center"===f&&(h[0]-=c/2);var p=r.verticalAlign;"bottom"===p&&(h[1]-=d),"middle"===p&&(h[1]-=d/2),function(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,c,d,i);var g=a.get("backgroundColor");g&&"auto"!==g||(g=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:nh(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function BH(t,e,n,i,r){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:r.precision}),a=r.formatter;if(a){var s={value:e_(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Y(i,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&s.seriesData.push(r)})),at(a)?o=a.replace("{value}",o):ot(a)&&(o=a(s))}return o}function LH(t,e,n){var i=[1,0,0,1,0,0];return We(i,i,n.rotation),ze(i,i,n.position),km([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function DH(t,e,n,i,r,o){var a=_T.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),EH(e,i,r,o,{position:LH(i.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function OH(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function FH(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function HH(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}var NH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.grid,s=i.get("type"),l=zH(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var h=PH(i),c=WH[s](o,u,l);c.style=h,t.graphicKey=c.type,t.pointer=c}DH(e,t,oT(a.model,n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=oT(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=LH(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=zH(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(IH);function zH(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var WH={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:OH([e,n[0]],[e,n[1]],jH(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:FH([e-i/2,n[0]],[i,r],jH(t))}}};function jH(t){return"x"===t.dim?0:1}var VH=NH,GH=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Nc),ZH=GH,UH=ma(),KH=Y;function $H(t,e,n){if(!y.node){var i=e.getZr();UH(i).records||(UH(i).records={}),function(t,e){if(UH(t).initialized)return;function n(n,i){t.on(n,(function(n){var r=function(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}(e);KH(UH(t).records,(function(t){t&&i(t,n,r.dispatchAction)})),function(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,e)}))}UH(t).initialized=!0,n("click",it(YH,"click")),n("mousemove",it(YH,"mousemove")),n("globalout",XH)}(i,e),(UH(i).records[t]||(UH(i).records[t]={})).handler=n}}function XH(t,e,n){t.handler("leave",null,n)}function YH(t,e,n,i){e.handler(t,n,i)}function qH(t,e){if(!y.node){var n=e.getZr();(UH(n).records||{})[t]&&(UH(n).records[t]=null)}}var JH=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=e.getComponent("tooltip"),r=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";$H("axisPointer",n,(function(t,e,n){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){qH("axisPointer",e)},e.prototype.dispose=function(t,e){qH("axisPointer",e)},e.type="axisPointer",e}(Np),QH=JH;function tN(t,e){var n,i=[],r=t.seriesIndex;if(null==r||!(n=e.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=ga(o,t);if(null==a||a<0||rt(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,c=u.dim,d="x"===h||"radius"===h?1:0,f=o.mapDimension(c),p=[];p[d]=o.get(f,a),p[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=l.dataToPoint(p)||[]}else i=l.dataToPoint(o.getValues(q(l.dimensions,(function(t){return o.mapDimension(t)})),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),i=[g.x+g.width/2,g.y+g.height/2]}return{point:i,el:s}}var eN=ma();function nN(t,e,n){var i=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||nt(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){sN(r)&&(r=tN({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=sN(r),u=o.axesInfo,h=s.axesInfo,c="leave"===i||sN(r),d={},f={},p={list:[],map:{}},g={showPointer:it(rN,f),showTooltip:it(oN,p)};Y(s.coordSysMap,(function(t,e){var n=l||t.containPoint(r);Y(s.coordSysAxesInfo[e],(function(t,e){var i=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);if(!c&&n&&(!u||o)){var a=o&&o.value;null!=a||l||(a=i.pointToData(r)),null!=a&&iN(t,a,g,!1,d)}}))}));var m={};return Y(h,(function(t,e){var n=t.linkGroup;n&&!f[e]&&Y(n.axesInfo,(function(e,i){var r=f[i];if(e!==t&&r){var o=r.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,aN(e),aN(t)))),m[t.key]=o}}))})),Y(m,(function(t,e){iN(h[e],t,g,!0,d)})),function(t,e,n){var i=n.axesInfo=[];Y(e,(function(e,n){var r=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}(f,h,d),function(t,e,n,i){if(sN(e)||!t.list.length)return void i({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(p,r,t,a),function(t,e,n){var i=n.getZr(),r="axisPointerLastHighlights",o=eN(i)[r]||{},a=eN(i)[r]={};Y(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&t.triggerEmphasis&&Y(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var s=[],l=[];Y(o,(function(t,e){!a[e]&&l.push(t)})),Y(a,(function(t,e){!o[e]&&s.push(t)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(h,0,n),d}}function iN(t,e,n,i,r){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e))if(t.involveSeries){var a=function(t,e){var n=e.axis,i=n.dim,r=t,o=[],a=Number.MAX_VALUE,s=-1;return Y(e.seriesModels,(function(e,l){var u,h,c=e.getData().mapDimensionsAll(i);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(c,t,n);h=d.dataIndices,u=d.nestestValue}else{if(!(h=e.getData().indicesOfNearest(c[0],t,"category"===n.type?.5:null)).length)return;u=e.getData().get(c[0],h[0])}if(null!=u&&isFinite(u)){var f=t-u,p=Math.abs(f);p<=a&&((p<a||f>=0&&s<0)&&(a=p,s=f,r=u,o.length=0),Y(h,(function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:o,snapToValue:r}}(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&V(r,s[0]),!i&&t.snap&&o.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}else n.showPointer(t,e)}function rN(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function oN(t,e,n,i){var r=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,u=kT(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function aN(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function sN(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function lN(t){PT.registerAxisPointerClass("CartesianAxisPointer",VH),t.registerComponentModel(ZH),t.registerComponentView(QH),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!rt(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=CT(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},nN)}var uN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),l=o.dataToCoord(e),u=i.get("type");if(u&&"none"!==u){var h=PH(i),c=hN[u](o,a,l,s);c.style=h,t.graphicKey=c.type,t.pointer=c}var d=function(t,e,n,i,r){var o=e.axis,a=o.dataToCoord(t),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,h,c=i.getRadiusAxis().getExtent();if("radius"===o.dim){var d=[1,0,0,1,0,0];We(d,d,s),ze(d,d,[i.cx,i.cy]),l=km([a,-r],d);var f=e.getModel("axisLabel").get("rotate")||0,p=_T.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,h=p.textVerticalAlign}else{var g=c[1];l=i.coordToPoint([g+r,a]);var m=i.cx,v=i.cy;u=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",h=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:h}}(e,n,0,a,i.get(["label","margin"]));EH(t,n,i,r,d)},e}(IH);var hN={line:function(t,e,n,i){return"angle"===t.dim?{type:"Line",shape:OH(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i){var r=Math.max(1,t.getBandWidth()),o=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:HH(e.cx,e.cy,i[0],i[1],(-n-r/2)*o,(r/2-n)*o)}:{type:"Sector",shape:HH(e.cx,e.cy,n-r/2,n+r/2,0,2*Math.PI)}}},cN=uN,dN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.findAxisModel=function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Nc),fN=dN,pN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",wa).models[0]},e.type="polarAxis",e}(Nc);$(pN,a_);var gN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="angleAxis",e}(pN),mN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="radiusAxis",e}(pN),vN=function(t){function e(e,n){return t.call(this,"radius",e,n)||this}return(0,g.ZT)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e}(H_);vN.prototype.dataToRadius=H_.prototype.dataToCoord,vN.prototype.radiusToData=H_.prototype.coordToData;var yN=vN,bN=ma(),wN=function(t){function e(e,n){return t.call(this,"angle",e,n||[0,360])||this}return(0,g.ZT)(e,t),e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,e=t.getLabelModel(),n=t.scale,i=n.getExtent(),r=n.count();if(i[1]-i[0]<1)return 0;var o=i[0],a=t.dataToCoord(o+1)-t.dataToCoord(o),s=Math.abs(a),l=qr(null==o?"":o+"",e.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var h=Math.max(0,Math.floor(u)),c=bN(t.model),d=c.lastAutoInterval,f=c.lastTickCount;return null!=d&&null!=f&&Math.abs(d-h)<=1&&Math.abs(f-r)<=1&&d>h?h=d:(c.lastTickCount=r,c.lastAutoInterval=h),h},e}(H_);wN.prototype.dataToAngle=H_.prototype.dataToCoord,wN.prototype.angleToData=H_.prototype.coordToData;var xN=wN,_N=["radius","angle"],CN=function(){function t(t){this.dimensions=_N,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new yN,this._angleAxis=new xN,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},t.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},t.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,u=l<o?1:-1;l<o||l>a;)l+=360*u;return[s,l]},t.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,r=n*n+i*i-1e-4,o=this.r,a=this.r0;return r<=o*o&&r>=a*a}}},t.prototype.convertToPixel=function(t,e,n){return SN(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return SN(e)===this?this.pointToData(n):null},t}();function SN(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var MN=CN;function AN(t,e){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var e=t.getData();Y(o_(e,"radius"),(function(t){r.scale.unionExtentFromData(e,t)})),Y(o_(e,"angle"),(function(t){i.scale.unionExtentFromData(e,t)}))}})),Jx(i.scale,i.model),Jx(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function TN(t,e){var n;if(t.type=e.get("type"),t.scale=Qx(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),function(t){return"angleAxis"===t.mainType}(e)){t.inverse=t.inverse!==e.get("clockwise");var i=e.get("startAngle"),r=null!==(n=e.get("endAngle"))&&void 0!==n?n:i+(t.inverse?-360:360);t.setExtent(i,r)}e.axis=t,t.model=e}var kN={dimensions:_N,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,i){var r=new MN(i+"");r.update=AN;var o=r.getRadiusAxis(),a=r.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");TN(o,s),TN(a,l),function(t,e,n){var i=e.get("center"),r=n.getWidth(),o=n.getHeight();t.cx=Po(i[0],r),t.cy=Po(i[1],o);var a=t.getRadiusAxis(),s=Math.min(r,o)/2,l=e.get("radius");null==l?l=[0,"100%"]:rt(l)||(l=[0,l]);var u=[Po(l[0],s),Po(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}(r,t,e),n.push(r),t.coordinateSystem=r,r.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var e=t.getReferringComponents("polar",wa).models[0];0,t.coordinateSystem=e.coordinateSystem}})),n}},RN=kN,IN=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function PN(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function EN(t){return t.getRadiusAxis().inverse?0:1}function BN(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var LN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=q(n.getViewLabels(),(function(t){t=z(t);var e=n.scale,i="ordinal"===e.type?e.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=n.dataToCoord(i),t}));BN(s),BN(o),Y(IN,(function(e){!t.get([e,"show"])||n.scale.isBlank()&&"axisLine"!==e||DN[e](this.group,t,i,o,a,r,s)}),this)}},e.type="angleAxis",e}(PT),DN={axisLine:function(t,e,n,i,r,o){var a,s=e.getModel(["axisLine","lineStyle"]),u=n.getAngleAxis(),h=Math.PI/180,c=u.getExtent(),d=EN(n),f=d?0:1,p=360===Math.abs(c[1]-c[0])?"Circle":"Arc";(a=0===o[f]?new l[p]({shape:{cx:n.cx,cy:n.cy,r:o[d],startAngle:-c[0]*h,endAngle:-c[1]*h,clockwise:u.inverse},style:s.getLineStyle(),z2:1,silent:!0}):new Pg({shape:{cx:n.cx,cy:n.cy,r:o[d],r0:o[f]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(a)},axisTick:function(t,e,n,i,r,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[EN(n)],u=q(i,(function(t){return new jg({shape:PN(n,[l,l+s],t.coord)})}));t.add(_m(u,{style:G(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[EN(n)],h=[],c=0;c<r.length;c++)for(var d=0;d<r[c].length;d++)h.push(new jg({shape:PN(n,[u,u+l],r[c][d].coord)}));t.add(_m(h,{style:G(s.getModel("lineStyle").getLineStyle(),G(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,i,r,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),h=e.get("triggerEvent");Y(a,(function(i,r){var a=l,c=i.tickValue,d=o[EN(n)],f=n.coordToPoint([d+u,i.coord]),p=n.cx,g=n.cy,m=Math.abs(f[0]-p)/d<.3?"center":f[0]>p?"left":"right",v=Math.abs(f[1]-g)/d<.3?"middle":f[1]>g?"top":"bottom";if(s&&s[c]){var y=s[c];ut(y)&&y.textStyle&&(a=new Ah(y.textStyle,l,l.ecModel))}var b=new jl({silent:_T.isLabelSilent(e),style:nh(a,{x:f[0],y:f[1],fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:m,verticalAlign:v})});if(t.add(b),h){var w=_T.makeAxisEventDataBase(e);w.targetType="axisLabel",w.value=i.rawLabel,Vl(b).eventData=w}}),this)},splitLine:function(t,e,n,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<i.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new jg({shape:PN(n,o,i[h].coord)}))}for(h=0;h<u.length;h++)t.add(_m(u[h],{style:G({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,i,r,o){if(r.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new jg({shape:PN(n,o,r[l][u].coord)}));t.add(_m(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,i,r,o){if(i.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=Math.PI/180,c=-i[0].coord*h,d=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),p=e.get("clockwise"),g=1,m=i.length;g<=m;g++){var v=g===m?i[0].coord:i[g].coord,y=l++%s.length;u[y]=u[y]||[],u[y].push(new kg({shape:{cx:n.cx,cy:n.cy,r0:d,r:f,startAngle:c,endAngle:-v*h,clockwise:p},silent:!0})),c=-v*h}for(g=0;g<u.length;g++)t.add(_m(u[g],{style:G({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},ON=LN,FN=["axisLine","axisTickLabel","axisName"],HN=["splitLine","splitArea","minorSplitLine"],NN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e){if(this.group.removeAll(),t.get("show")){var n=this._axisGroup,i=this._axisGroup=new mo;this.group.add(i);var r=t.axis,o=r.polar,a=o.getAngleAxis(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=a.getExtent()[0],h=r.getExtent(),c=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(o,t,u),d=new _T(t,c);Y(FN,d.add,d),i.add(d.getGroup()),Pm(n,i,t),Y(HN,(function(e){t.get([e,"show"])&&!r.scale.isBlank()&&zN[e](this.group,t,o,u,h,s,l)}),this)}},e.type="radiusAxis",e}(PT),zN={splitLine:function(t,e,n,i,r,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),u=0,h=n.getAngleAxis(),c=Math.PI/180,d=h.getExtent(),f=360===Math.abs(d[1]-d[0])?"Circle":"Arc";s=s instanceof Array?s:[s];for(var p=[],g=0;g<o.length;g++){var m=u++%s.length;p[m]=p[m]||[],p[m].push(new l[f]({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[g].coord,0),startAngle:-d[0]*c,endAngle:-d[1]*c,clockwise:h.inverse}}))}for(g=0;g<p.length;g++)t.add(_m(p[g],{style:G({stroke:s[g%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,i,r,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)l.push(new ug({shape:{cx:n.cx,cy:n.cy,r:a[u][h].coord}}));t.add(_m(l,{style:G({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,i,r,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c<o.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new kg({shape:{cx:n.cx,cy:n.cy,r0:h,r:o[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[c].coord}for(c=0;c<u.length;c++)t.add(_m(u[c],{style:G({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}}};var WN=NN;function jN(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function VN(t,e){return e.dim+t.model.componentIndex}var GN=function(t,e,n){var i={},r=function(t){var e={};Y(t,(function(t,n){var i=t.getData(),r=t.coordinateSystem,o=r.getBaseAxis(),a=VN(r,o),s=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/i.count(),u=e[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=u.stacks;e[a]=u;var c=jN(t);h[c]||u.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var d=Po(t.get("barWidth"),l),f=Po(t.get("barMaxWidth"),l),p=t.get("barGap"),g=t.get("barCategoryGap");d&&!h[c].width&&(d=Math.min(u.remainedWidth,d),h[c].width=d,u.remainedWidth-=d),f&&(h[c].maxWidth=f),null!=p&&(u.gap=p),null!=g&&(u.categoryGap=g)}));var n={};return Y(e,(function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=Po(t.categoryGap,r),a=Po(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-o)/(l+(l-1)*a);u=Math.max(u,0),Y(i,(function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)})),u=(s-o)/(l+(l-1)*a),u=Math.max(u,0);var h,c=0;Y(i,(function(t,e){t.width||(t.width=u),h=t,c+=t.width*(1+a)})),h&&(c-=h.width*a);var d=-c/2;Y(i,(function(t,i){n[e][i]=n[e][i]||{offset:d,width:t.width},d+=t.width*(1+a)}))})),n}(Q(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=VN(n,o),s=jN(t),l=r[a][s],u=l.offset,h=l.width,c=n.getOtherAxis(o),d=t.coordinateSystem.cx,f=t.coordinateSystem.cy,p=t.get("barMinHeight")||0,g=t.get("barMinAngle")||0;i[s]=i[s]||[];for(var m=e.mapDimension(c.dim),v=e.mapDimension(o.dim),y=Zw(e,m),b="radius"!==o.dim||!t.get("roundCap",!0),w=c.dataToCoord(0),x=0,_=e.count();x<_;x++){var C=e.get(m,x),S=e.get(v,x),M=C>=0?"p":"n",A=w;y&&(i[s][S]||(i[s][S]={p:w,n:w}),A=i[s][S][M]);var T=void 0,k=void 0,R=void 0,I=void 0;if("radius"===c.dim){var P=c.dataToCoord(C)-w,E=o.dataToCoord(S);Math.abs(P)<p&&(P=(P<0?-1:1)*p),T=A,k=A+P,I=(R=E-u)-h,y&&(i[s][S][M]=k)}else{var B=c.dataToCoord(C,b)-w,L=o.dataToCoord(S);Math.abs(B)<g&&(B=(B<0?-1:1)*g),k=(T=L+u)+h,R=A,I=A+B,y&&(i[s][S][M]=I)}e.setItemLayout(x,{cx:d,cy:f,r0:T,r:k,startAngle:-R*Math.PI/180,endAngle:-I*Math.PI/180,clockwise:R>=I})}}}))},ZN={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},UN={splitNumber:5},KN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="polar",e}(Np);function $N(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,r={},o=i.position,a=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),vt(e.labelInside,t.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=e.rotate;return null==h&&(h=t.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var XN=["axisLine","axisTickLabel","axisName"],YN=["splitArea","splitLine"],qN=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return(0,g.ZT)(e,t),e.prototype.render=function(e,n,i,r){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new mo;var s=$N(e),l=new _T(e,s);Y(XN,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),Y(YN,(function(t){e.get([t,"show"])&&JN[t](this,this.group,this._axisGroup,e)}),this),Pm(a,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)},e.prototype.remove=function(){LT(this)},e.type="singleAxis",e}(PT),JN={splitLine:function(t,e,n,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),u=i.coordinateSystem.getRect(),h=r.isHorizontal(),c=[],d=0,f=r.getTicksCoords({tickModel:o}),p=[],g=[],m=0;m<f.length;++m){var v=r.toGlobalCoord(f[m].coord);h?(p[0]=v,p[1]=u.y,g[0]=v,g[1]=u.y+u.height):(p[0]=u.x,p[1]=v,g[0]=u.x+u.width,g[1]=v);var y=new jg({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});Sm(y.shape,l);var b=d++%s.length;c[b]=c[b]||[],c[b].push(y)}var w=a.getLineStyle(["color"]);for(m=0;m<c.length;++m)e.add(_m(c[m],{style:G({stroke:s[m%s.length]},w),silent:!0}))}},splitArea:function(t,e,n,i){BT(t,n,i,i)}},QN=qN,tz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Nc);$(tz,a_.prototype);var ez=tz,nz=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.type=r||"value",a.position=o||"bottom",a}return(0,g.ZT)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(H_),iz=nz,rz=["single"],oz=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=rz,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=this.dimension,r=new iz(i,Qx(t),[0,0],t.get("type"),t.get("position")),o="category"===r.type;r.onBand=o&&t.get("boundaryGap"),r.inverse=t.get("inverse"),r.orient=t.get("orient"),t.axis=r,r.model=t,r.coordinateSystem=this,this._axis=r},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();Y(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),Jx(this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=Pc({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.inverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i},t.prototype.convertToPixel=function(t,e,n){return az(e)===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){return az(e)===this?this.pointToData(n):null},t}();function az(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var sz=oz;var lz={create:function(t,e){var n=[];return t.eachComponent("singleAxis",(function(i,r){var o=new sz(i,t,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,n.push(o)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",wa).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),n},dimensions:rz},uz=["x","y"],hz=["width","height"],cz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.coordinateSystem,s=pz(a,1-fz(o)),l=a.dataToPoint(e)[0],u=i.get("type");if(u&&"none"!==u){var h=PH(i),c=dz[u](o,l,s);c.style=h,t.graphicKey=c.type,t.pointer=c}DH(e,t,$N(n),n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=$N(e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=LH(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.coordinateSystem,a=fz(r),s=pz(o,a),l=[t.x,t.y];l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=pz(o,1-a),h=(u[1]+u[0])/2,c=[h,h];return c[a]=l[a],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}},e}(IH),dz={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:OH([e,n[0]],[e,n[1]],fz(t))}},shadow:function(t,e,n){var i=t.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:FH([e-i/2,n[0]],[i,r],fz(t))}}};function fz(t){return t.isHorizontal()?0:1}function pz(t,e){var n=t.getRect();return[n[uz[e]],n[uz[e]]+n[hz[e]]]}var gz=cz,mz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="single",e}(Np);var vz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(e,n,i){var r=Dc(e);t.prototype.init.apply(this,arguments),yz(e,r)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),yz(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Nc);function yz(t,e){var n,i=t.cellSize;1===(n=rt(i)?i:t.cellSize=[i,i]).length&&(n[1]=n[0]);var r=q([0,1],(function(t){return function(t,e){return null!=t[kc[e][0]]||null!=t[kc[e][1]]&&null!=t[kc[e][2]]}(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));Lc(t,e,{type:"box",ignoreSize:r})}var bz=vz,wz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,o,i),this._renderLines(t,o,a,i),this._renderYearText(t,o,a,i),this._renderMonthText(t,s,a,i),this._renderWeekText(t,s,o,a,i)},e.prototype._renderDayRect=function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new Al({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:r});n.add(u)}},e.prototype._renderLines=function(t,e,n,i){var r=this,o=t.coordinateSystem,a=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,h=0;u.time<=e.end.time;h++){d(u.formatedDate),0===h&&(u=o.getDateInfo(e.start.y+"-"+e.start.m));var c=u.date;c.setMonth(c.getMonth()+1),u=o.getDateInfo(c)}function d(e){r._firstDayOfMonth.push(o.getDateInfo(e)),r._firstDayPoints.push(o.dataToRect([e],!1).tl);var l=r._getLinePointsOfOneWeek(t,e,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,a,i)}d(o.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},e.prototype._getEdgesPoints=function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},e.prototype._drawSplitline=function(t,e,n){var i=new Hg({z2:20,shape:{points:t},style:e});n.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var i=t.coordinateSystem,r=i.getDateInfo(e),o=[],a=0;a<7;a++){var s=i.getNextNDay(r.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,e){return at(t)&&t?(n=t,Y(e,(function(t,e){n=n.replace("{"+e+"}",i?_e(t):t)})),n):ot(t)?t(e):e.nameMap;var n,i},e.prototype._yearTextPositionControl=function(t,e,n,i,r){var o=e[0],a=e[1],s=["center","bottom"];"bottom"===i?(a+=r,s=["center","top"]):"left"===i?o-=r:"right"===i?(o+=r,s=["center","top"]):a-=r;var l=0;return"left"!==i&&"right"!==i||(l=Math.PI/2),{rotation:l,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,i){var r=t.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),a=r.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,h="horizontal"===n?0:1,c={top:[l,s[h][1]],bottom:[l,s[1-h][1]],left:[s[1-h][0],u],right:[s[h][0],u]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var f=r.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new jl({z2:30,style:nh(r,{text:g})});m.attr(this._yearTextPositionControl(m,c[a],n,a,o)),i.add(m)}},e.prototype._monthTextPositionControl=function(t,e,n,i,r){var o="left",a="top",s=t[0],l=t[1];return"horizontal"===n?(l+=r,e&&(o="center"),"start"===i&&(a="bottom")):(s+=r,e&&(a="middle"),"start"===i&&(o="right")),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderMonthText=function(t,e,n,i){var r=t.getModel("monthLabel");if(r.get("show")){var o=r.get("nameMap"),a=r.get("margin"),s=r.get("position"),l=r.get("align"),u=[this._tlpoints,this._blpoints];o&&!at(o)||(o&&(e=Fh(o)||e),o=e.get(["time","monthAbbr"])||[]);var h="start"===s?0:1,c="horizontal"===n?0:1;a="start"===s?-a:a;for(var d="center"===l,f=0;f<u[h].length-1;f++){var p=u[h][f].slice(),g=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[c]=(m[c]+u[0][f+1][c])/2}var v=r.get("formatter"),y=o[+g.m-1],b={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:y},w=this._formatterLabel(v,b),x=new jl({z2:30,style:V(nh(r,{text:w}),this._monthTextPositionControl(p,d,n,s,a))});i.add(x)}}},e.prototype._weekTextPositionControl=function(t,e,n,i,r){var o="center",a="middle",s=t[0],l=t[1],u="start"===n;return"horizontal"===e?(s=s+i+(u?1:-1)*r[0]/2,o=u?"right":"left"):(l=l+i+(u?1:-1)*r[1]/2,a=u?"bottom":"top"),{x:s,y:l,align:o,verticalAlign:a}},e.prototype._renderWeekText=function(t,e,n,i,r){var o=t.getModel("dayLabel");if(o.get("show")){var a=t.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),h=a.getFirstDayOfWeek();if(!l||at(l))l&&(e=Fh(l)||e),l=e.get(["time","dayOfWeekShort"])||q(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}));var c=a.getNextNDay(n.end.time,7-n.lweek).time,d=[a.getCellWidth(),a.getCellHeight()];u=Po(u,Math.min(d[1],d[0])),"start"===s&&(c=a.getNextNDay(n.start.time,-(7+n.fweek)).time,u=-u);for(var f=0;f<7;f++){var p,g=a.getNextNDay(c,f),m=a.dataToRect([g.time],!1).center;p=Math.abs((f+h)%7);var v=new jl({z2:30,style:V(nh(o,{text:l[p]}),this._weekTextPositionControl(m,i,s,u,d))});r.add(v)}}},e.type="calendar",e}(Np),xz=wz,_z=864e5,Cz=function(){function t(e,n,i){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){var e=(t=Go(t)).getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,r=t.getDate(),o=r<10?"0"+r:""+r,a=t.getDay();return{y:e+"",m:i,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},t.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];Y([0,1],(function(t){u(r,t)&&(o[i[t]]=r[t]*a[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=Pc(o,s);function u(t,e){return null!=t[e]&&"auto"!==t[e]}Y([0,1],(function(t){u(r,t)||(r[t]=l[i[t]]/a[t])})),this._sw=r[0],this._sh=r[1]},t.prototype.dataToPoint=function(t,e){rt(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,r=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+_z))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([i.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},t.prototype.convertToPixel=function(t,e,n){var i=Sz(e);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=Sz(e);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(rt(e)&&1===e.length&&(e=e[0]),rt(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),r=i.date;r.setMonth(r.getMonth()+1);var o=this.getNextNDay(r,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var i=Math.floor(n[1].time/_z)-Math.floor(n[0].time/_z)+1,r=new Date(n[0].time),o=r.getDate(),a=n[1].date.getDate();r.setDate(o+i-1);var s=r.getDate();if(s!==a)for(var l=r.getTime()-n[1].time>0?1:-1;(s=r.getDate())!==a&&(r.getTime()-n[1].time)*l>0;)i-=l,r.setDate(s-l);var u=Math.floor((i+n[0].day+6)/7),h=e?1-u:u-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:u,nthWeek:h,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var r=7*(t-1)-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+r),this.getDateInfo(o)},t.create=function(e,n){var i=[];return e.eachComponent("calendar",(function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])})),i},t.dimensions=["time","value"],t}();function Sz(t){var e=t.calendarModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem:null}var Mz=Cz;function Az(t,e){var n;return Y(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}var Tz=["transition","enterFrom","leaveTo"],kz=Tz.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Rz(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var i=n?Tz:kz,r=0;r<i.length;r++){var o=i[r];null==t[o]&&null!=e[o]&&(t[o]=e[o])}}var Iz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return(0,g.ZT)(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,o=[];this._flatten(i,o,null);var a=ua(r,o,"normalMerge"),s=this._elOptionsToUpdate=[];Y(a,(function(t,e){var n=t.newOption;n&&(s.push(n),function(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var i=V({},n),r=t[e],o=n.$action||"merge";"merge"===o?r?(W(r,i,!0),Lc(r,i,{ignoreSize:!0}),Oc(n,r),Rz(n,r),Rz(n,r,"shape"),Rz(n,r,"style"),Rz(n,r,"extra"),n.clipPath=r.clipPath):t[e]=i:"replace"===o?t[e]=i:"remove"===o&&r&&(t[e]=null)}(r,e,n),function(t,e){if(t&&(t.hv=e.hv=[Az(e,["left","right"]),Az(e,["top","bottom"])],"group"===t.type)){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(r[e],n))}),this),n.elements=Q(r,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,n){Y(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;i&&i.length&&this._flatten(i,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Nc),Pz={path:null,compoundPath:null,group:mo,image:yl,text:jl},Ez=ma(),Bz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(){this._elMap=It()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group,r=t.get("z"),o=t.get("zlevel");Y(e,(function(e){var a=da(e.id,null),s=null!=a?n.get(a):null,l=da(e.parentId,null),u=null!=l?n.get(l):i,h=e.type,c=e.style;"text"===h&&c&&e.hv&&e.hv[1]&&(c.textVerticalAlign=c.textBaseline=c.verticalAlign=c.align=null);var d=e.textContent,f=e.textConfig;if(c&&wF(c,h,!!f,!!d)){var p=xF(c,h,!0);!f&&p.textConfig&&(f=e.textConfig=p.textConfig),!d&&p.textContent&&(d=p.textContent)}var g=function(t){return t=V({},t),Y(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Tc),(function(e){delete t[e]})),t}(e);var m=e.$action||"merge",v="merge"===m,y="replace"===m;if(v){var b=s;(A=!s)?b=Dz(a,u,e.type,n):(b&&(Ez(b).isNew=!1),jF(b)),b&&(IF(b,g,t,{isInit:A}),Fz(b,e,r,o))}else if(y){Oz(s,e,n,t);var w=Dz(a,u,e.type,n);w&&(IF(w,g,t,{isInit:!0}),Fz(w,e,r,o))}else"remove"===m&&(PF(s,e),Oz(s,e,n,t));var x=n.get(a);if(x&&d)if(v){var _=x.getTextContent();_?_.attr(d):x.setTextContent(new jl(d))}else y&&x.setTextContent(new jl(d));if(x){var C=e.clipPath;if(C){var S=C.type,M=void 0,A=!1;if(v){var T=x.getClipPath();M=(A=!T||Ez(T).type!==S)?Lz(S):T}else y&&(A=!0,M=Lz(S));x.setClipPath(M),IF(M,C,t,{isInit:A}),VF(M,C.keyframeAnimation,t)}var k=Ez(x);x.setTextConfig(f),k.option=e,function(t,e,n){var i=Vl(t).eventData;t.silent||t.ignore||i||(i=Vl(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});i&&(i.info=n.info)}(x,t,e),Hm({el:x,componentModel:t,itemName:x.name,itemTooltipOption:e.tooltip}),VF(x,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,o=e.getWidth(),a=e.getHeight(),s=["x","y"],l=0;l<n.length;l++){if((p=null!=(f=da((d=n[l]).id,null))?r.get(f):null)&&p.isGroup){var u=(g=p.parent)===i,h=Ez(p),c=Ez(g);h.width=Po(h.option.width,u?o:c.width)||0,h.height=Po(h.option.height,u?a:c.height)||0}}for(l=n.length-1;l>=0;l--){var d,f,p;if(p=null!=(f=da((d=n[l]).id,null))?r.get(f):null){var g=p.parent,m=(c=Ez(g),{}),v=Ec(p,d,g===i?{width:o,height:a}:{width:c.width,height:c.height},null,{hv:d.hv,boundingMode:d.bounding},m);if(!Ez(p).isNew&&v){for(var y=d.transition,b={},w=0;w<s.length;w++){var x=s[w],_=m[x];y&&(BF(y)||U(y,x)>=0)?b[x]=_:p[x]=_}Gu(p,b,t,0)}else p.attr(m)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){Oz(n,Ez(n).option,e,t._lastGraphicModel)})),this._elMap=It()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(Np);function Lz(t){var e=new(Lt(Pz,t)?Pz[t]:ym(t))({});return Ez(e).type=t,e}function Dz(t,e,n,i){var r=Lz(n);return e.add(r),i.set(t,r),Ez(r).id=t,Ez(r).isNew=!0,r}function Oz(t,e,n,i){t&&t.parent&&("group"===t.type&&t.traverse((function(t){Oz(t,e,n,i)})),EF(t,e,i),n.removeKey(Ez(t).id))}function Fz(t,e,n,i){t.isGroup||Y([["cursor",us.prototype.cursor],["zlevel",i||0],["z",n||0],["z2",0]],(function(n){var i=n[0];Lt(e,i)?t[i]=yt(e[i],n[1]):null==t[i]&&(t[i]=n[1])})),Y(et(e),(function(n){if(0===n.indexOf("on")){var i=e[n];t[n]=ot(i)?i:null}})),Lt(e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}var Hz=["x","y","radius","angle","single"],Nz=["cartesian2d","polar","singleAxis"];function zz(t){return t+"Axis"}function Wz(t,e){var n,i=It(),r=[],o=It();t.eachComponent({mainType:"dataZoom",query:e},(function(t){o.get(t.uid)||s(t)}));do{n=!1,t.eachComponent("dataZoom",a)}while(n);function a(t){!o.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis((function(t,n){var r=i.get(t);r&&r[n]&&(e=!0)})),e}(t)&&(s(t),n=!0)}function s(t){o.set(t.uid,!0),r.push(t),t.eachTargetAxis((function(t,e){(i.get(t)||i.set(t,[]))[e]=!0}))}return r}function jz(t){var e=t.ecModel,n={infoList:[],infoMap:It()};return t.eachTargetAxis((function(t,i){var r=e.getComponent(zz(t),i);if(r){var o=r.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(r)}}})),n}var Vz=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),Gz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){var i=Zz(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},e.prototype.mergeOption=function(t){var e=Zz(t);W(this.option,t,!0),W(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;Y([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=It();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Y(Hz,(function(n){var i=this.getReferringComponents(zz(n),xa);if(i.specified){e=!0;var r=new Vz;Y(i.models,(function(t){r.add(t.componentIndex)})),t.set(n,r)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,i=!0;if(i){var r="vertical"===e?"y":"x";o(n.findComponents({mainType:r+"Axis"}),r)}i&&o(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single");function o(e,n){var r=e[0];if(r){var o=new Vz;if(o.add(r.componentIndex),t.set(n,o),i=!1,"x"===n||"y"===n){var a=r.getReferringComponents("grid",wa).models[0];a&&Y(e,(function(t){r.componentIndex!==t.componentIndex&&a===t.getReferringComponents("grid",wa).models[0]&&o.add(t.componentIndex)}))}}}i&&Y(Hz,(function(e){if(i){var r=n.findComponents({mainType:zz(e),filter:function(t){return"category"===t.get("type",!0)}});if(r[0]){var o=new Vz;o.add(r[0].componentIndex),t.set(e,o),i=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");Y([["start","startValue"],["end","endValue"]],(function(i,r){var o=null!=t[i[0]],a=null!=t[i[1]];o&&!a?e[r]="percent":!o&&a?e[r]="value":n?e[r]=n[r]:o&&(e[r]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(zz(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,i){Y(n.indexList,(function(n){t.call(e,i,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(zz(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;Y([["start","startValue"],["end","endValue"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;Y(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var r=n[i],o=this._targetAxisInfoMap.get(r),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(r,o.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Nc);function Zz(t){var e={};return Y(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var Uz=Gz,Kz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="dataZoom.select",e}(Uz),$z=Kz,Xz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(Np),Yz=Xz,qz=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="dataZoom.select",e}(Yz),Jz=qz,Qz=Y,tW=Bo,eW=function(){function t(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(function(t){var e=t.get("coordinateSystem");return U(Nz,e)>=0}(e)){var n=zz(this._dimName),i=e.getReferringComponents(n,wa).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return z(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];Qz(["start","end"],(function(l,u){var h=t[l],c=t[l+"Value"];"percent"===r[u]?(null==h&&(h=o[u]),c=i.parse(Io(h,o,n))):(e=!0,h=Io(c=null==c?n[u]:i.parse(c),n,o)),s[u]=null==c||isNaN(c)?n[u]:c,a[u]=null==h||isNaN(h)?o[u]:h})),tW(s),tW(a);var l=this._minMaxSpan;function u(t,e,n,r,o){var a=o?"Span":"ValueSpan";CB(0,t,n,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)e[s]=Io(t[s],n,r,!0),o&&(e[s]=i.parse(e[s]))}return e?u(s,a,n,o,!1):u(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var i=[1/0,-1/0];Qz(n,(function(t){!function(t,e,n){e&&Y(o_(e,n),(function(n){var i=e.getApproximateExtent(n);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])}))}(i,t.getData(),e)}));var r=t.getAxisModel(),o=Xx(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),o=this._valueWindow;"none"!==r&&Qz(i,(function(t){var e=t.getData(),i=e.mapDimensionsAll(n);if(i.length){if("weakFilter"===r){var a=e.getStore(),s=q(i,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,n,r,l=0;l<i.length;l++){var u=a.get(s[l],t),h=!isNaN(u),c=u<o[0],d=u>o[1];if(h&&!c&&!d)return!0;h&&(r=!0),c&&(e=!0),d&&(n=!0)}return r&&e&&n}))}else Qz(i,(function(n){if("empty"===r)t.setData(e=e.map(n,(function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN})));else{var i={};i[n]=o,e.selectRange(i)}}));Qz(i,(function(t){e.setApproximateExtent(o,t)}))}}))}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Qz(["min","max"],(function(i){var r=e.get(i+"Span"),o=e.get(i+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?r=Io(n[0]+o,n,[0,100],!0):null!=r&&(o=Io(r,[0,100],n,!0)-n[0]),t[i+"Span"]=r,t[i+"ValueSpan"]=o}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=Oo(n,[0,500]);i=Math.min(i,20);var r=t.axis.scale.rawExtentInfo;0!==e[0]&&r.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==e[1]&&r.setDeterminedMinMax("max",+n[1].toFixed(i)),r.freeze()}},t}();var nW=eW,iW={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,r){var o=t.getComponent(zz(i),r);e(i,r,o,n)}))}))}e((function(t,e,n,i){n.__dzAxisProxy=null}));var n=[];e((function(e,i,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new nW(e,i,o,t),n.push(r.__dzAxisProxy))}));var i=It();return Y(n,(function(t){Y(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))})),i},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,i){t.getAxisProxy(n,i).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}};var rW=!1;function oW(t){rW||(rW=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,iW),function(t){t.registerAction("dataZoom",(function(t,e){Y(Wz(e,t),(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function aW(t){t.registerComponentModel($z),t.registerComponentView(Jz),oW(t)}var sW=function(){},lW={};function uW(t,e){lW[t]=e}function hW(t){return lW[t]}var cW=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;Y(this.option.feature,(function(t,n){var i=hW(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),W(t,i.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Nc),dW=cW;function fW(t,e){var n=mc(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new Al({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var pW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){var r=this.group;if(r.removeAll(),t.get("show")){var o=+t.get("itemSize"),a="vertical"===t.get("orient"),s=t.get("feature")||{},l=this._features||(this._features={}),u=[];Y(s,(function(t,e){u.push(e)})),new dw(this._featureNames||[],u).add(h).update(h).remove(it(h,null)).execute(),this._featureNames=u,function(t,e,n){var i=e.getBoxLayoutParams(),r=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=Pc(i,o,r);Ic(e.get("orient"),t,e.get("itemGap"),a.width,a.height),Ec(t,i,o,r)}(r,t,n),r.add(fW(r.getBoundingRect(),t)),a||r.eachChild((function(t){var e=t.__title,i=t.ensureState("emphasis"),a=i.textConfig||(i.textConfig={}),s=t.getTextContent(),l=s&&s.ensureState("emphasis");if(l&&!ot(l)&&e){var u=l.style||(l.style={}),h=qr(e,jl.makeFont(u)),c=t.x+r.x,d=!1;t.y+r.y+o+h.height>n.getHeight()&&(a.position="top",d=!0);var f=d?-5-h.height:o+10;c+h.width/2>n.getWidth()?(a.position=["100%",f],u.align="right"):c-h.width/2<0&&(a.position=[0,f],u.align="left")}}))}function h(h,c){var d,f=u[h],p=u[c],g=s[f],m=new Ah(g,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===f&&(g.title=i.newTitle),f&&!p){if(function(t){return 0===t.indexOf("my")}(f))d={onclick:m.option.onclick,featureName:f};else{var v=hW(f);if(!v)return;d=new v}l[f]=d}else if(!(d=l[p]))return;d.uid=kh("toolbox-feature"),d.model=m,d.ecModel=e,d.api=n;var y=d instanceof sW;f||!p?!m.get("show")||y&&d.unusable?y&&d.remove&&d.remove(e,n):(!function(i,s,l){var u,h,c=i.getModel("iconStyle"),d=i.getModel(["emphasis","iconStyle"]),f=s instanceof sW&&s.getIcons?s.getIcons():i.get("icon"),p=i.get("title")||{};at(f)?(u={})[l]=f:u=f;at(p)?(h={})[l]=p:h=p;var g=i.iconPaths={};Y(u,(function(l,u){var f=Lm(l,{},{x:-o/2,y:-o/2,width:o,height:o});f.setStyle(c.getItemStyle()),f.ensureState("emphasis").style=d.getItemStyle();var p=new jl({style:{text:h[u],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null,font:lh({fontStyle:d.get("textFontStyle"),fontFamily:d.get("textFontFamily"),fontSize:d.get("textFontSize"),fontWeight:d.get("textFontWeight")},e)},ignore:!0});f.setTextContent(p),Hm({el:f,componentModel:t,itemName:u,formatterParamsExtra:{title:h[u]}}),f.__title=h[u],f.on("mouseover",(function(){var e=d.getItemStyle(),i=a?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";p.setStyle({fill:d.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:d.get("textBackgroundColor")}),f.setTextConfig({position:d.get("textPosition")||i}),p.ignore=!t.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",u])&&n.leaveEmphasis(this),p.hide()})),("emphasis"===i.get(["iconStatus",u])?yu:bu)(f),r.add(f),f.on("click",nt(s.onclick,s,e,n,u)),g[u]=f}))}(m,d,f),m.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&("emphasis"===e?yu:bu)(i[t])},d instanceof sW&&d.render&&d.render(m,e,n,i)):y&&d.dispose&&d.dispose(e,n)}},e.prototype.updateView=function(t,e,n,i){Y(this._features,(function(t){t instanceof sW&&t.updateView&&t.updateView(t.model,e,n,i)}))},e.prototype.remove=function(t,e){Y(this._features,(function(n){n instanceof sW&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){Y(this._features,(function(n){n instanceof sW&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(Np);var gW=pW,mW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",r="svg"===e.getZr().painter.getType(),o=r?"svg":n.get("type",!0)||"png",a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=y.browser;if(ot(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=i+"."+o,l.target="_blank",l.href=a;var u=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(u)}else if(window.navigator.msSaveOrOpenBlob||r){var h=a.split(","),c=h[0].indexOf("base64")>-1,d=r?decodeURIComponent(h[1]):h[1];c&&(d=window.atob(d));var f=i+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var p=d.length,g=new Uint8Array(p);p--;)g[p]=d.charCodeAt(p);var m=new Blob([g]);window.navigator.msSaveOrOpenBlob(m,f)}else{var v=document.createElement("iframe");document.body.appendChild(v);var b=v.contentWindow,w=b.document;w.open("image/svg+xml","replace"),w.write(d),w.close(),b.focus(),w.execCommand("SaveAs",!0,f),document.body.removeChild(v)}}else{var x=n.get("lang"),_='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',C=window.open();C.document.write(_),C.document.title=i}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(sW),vW=mW,yW="__ec_magicType_stack__",bW=[["line","bar"],["stack"]],wW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return Y(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var i=this.model,r=i.get(["seriesIndex",n]);if(xW[n]){var o,a={series:[]};Y(bW,(function(t){U(t,n)>=0&&Y(t,(function(t){i.setIconStatus(t,"normal")}))})),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},(function(t){var e=t.subType,r=t.id,o=xW[n](e,r,t,i);o&&(G(o,t.option),a.series.push(o));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim+"Axis",h=t.getReferringComponents(u,wa).models[0].componentIndex;a[u]=a[u]||[];for(var c=0;c<=h;c++)a[u][h]=a[u][h]||{};a[u][h].boundaryGap="bar"===n}}}));var s=n;"stack"===n&&(o=W({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(s="tiled")),e.dispatchAction({type:"changeMagicType",currentType:s,newOption:a,newTitle:o,featureName:"magicType"})}},e}(sW),xW={line:function(t,e,n,i){if("bar"===t)return W({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,n,i){if("line"===t)return W({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,n,i){var r=n.get("stack")===yW;if("line"===t||"bar"===t)return i.setIconStatus("stack",r?"normal":"emphasis"),W({id:e,stack:r?"":yW},i.get(["option","stack"])||{},!0)}};Kb({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var _W=wW,CW=new Array(60).join("-"),SW="\t";function MW(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var AW=new RegExp("[\t]+","g");function TW(t,e){var n=t.split(new RegExp("\n*"+CW+"\n*","g")),i={series:[]};return Y(n,(function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(SW)>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\n+/g),n=[],i=q(MW(e.shift()).split(AW),(function(t){return{name:t,data:[]}})),r=0;r<e.length;r++){var o=MW(e[r]).split(AW);n.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(t),o=e[n],a=o.axisDim+"Axis";o&&(i[a]=i[a]||[],i[a][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{r=function(t){for(var e=t.split(/\n+/g),n=MW(e.shift()),i=[],r=0;r<e.length;r++){var o=MW(e[r]);if(o){var a=o.split(AW),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var h=0;h<a.length;h++)l.push(+a[h]);1===l.length&&(u?i[r].value=l[0]:i[r]=l[0])}}return{name:n,data:i}}(t);i.series.push(r)}})),i}var kW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",r.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=i.get("lang")||[];o.innerHTML=a[0]||i.get("title"),o.style.cssText="margin:10px 20px",o.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="overflow:auto";var u=i.get("optionToContent"),h=i.get("contentToOption"),c=function(t){var e,n,i,r=function(t){var e={},n=[],i=[];return t.eachRawSeries((function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:i}}(t);return{value:Q([(n=r.seriesGroupByCategoryAxis,i=[],Y(n,(function(t,e){var n=t.categoryAxis,r=t.valueAxis.dim,o=[" "].concat(q(t.series,(function(t){return t.name}))),a=[n.model.getCategories()];Y(t.series,(function(t){var e=t.getRawData();a.push(t.getRawData().mapArray(e.mapDimension(r),(function(t){return t})))}));for(var s=[o.join(SW)],l=0;l<a[0].length;l++){for(var u=[],h=0;h<a.length;h++)u.push(a[h][l]);s.push(u.join(SW))}i.push(s.join("\n"))})),i.join("\n\n"+CW+"\n\n")),(e=r.other,q(e,(function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;a<t-1;a++)i[a]=arguments[a];n.push((o?o+SW:"")+i.join(SW))})),n.join("\n")})).join("\n\n"+CW+"\n\n"))],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+CW+"\n\n"),meta:r.meta}}(t);if(ot(u)){var d=u(e.getOption());at(d)?s.innerHTML=d:dt(d)&&s.appendChild(d)}else{l.readOnly=i.get("readOnly");var f=l.style;f.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",f.color=i.get("textColor"),f.borderColor=i.get("textareaBorderColor"),f.backgroundColor=i.get("textareaColor"),l.value=c.value,s.appendChild(l)}var p=c.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+i.get("buttonColor"),m+=";color:"+i.get("buttonTextColor");var b=this;function w(){n.removeChild(r),b._dom=null}Ie(v,"click",w),Ie(y,"click",(function(){if(null==h&&null!=u||null!=h&&null==u)w();else{var t;try{t=ot(h)?h(s,e.getOption()):TW(l.value,p)}catch(t){throw w(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),w()}})),v.innerHTML=a[1],y.innerHTML=a[2],y.style.cssText=v.style.cssText=m,!i.get("readOnly")&&g.appendChild(y),g.appendChild(v),r.appendChild(o),r.appendChild(s),r.appendChild(g),s.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(sW);function RW(t,e){return q(t,(function(t,n){var i=e&&e[n];if(ut(i)&&!rt(i)){ut(t)&&!rt(t)||(t={value:t});var r=null!=i.name&&null==t.name;return t=G(t,i),r&&delete t.name,t}return t}))}Kb({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];Y(t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get("data");n.push({name:t.name,data:RW(t.data,r)})}else n.push(V({type:"scatter"},t))})),e.mergeOption(G({series:n},t.newOption))}));var IW=kW,PW=Y,EW=ma();function BW(t){var e=EW(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var LW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.onclick=function(t,e){!function(t){EW(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(sW);Kb({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var DW=LW,OW=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],FW=function(){function t(t,e,n){var i=this;this._targetInfoList=[];var r=NW(e,t);Y(zW,(function(t,e){(!n||!n.include||U(n.include,e)>=0)&&t(r,i._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=VW[t.brushType](0,n,e);t.__rangeOffset={offset:ZW[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){Y(t,(function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&Y(i.coordSyses,(function(i){var r=VW[t.brushType](1,i,t.range,!0);n(t,r.values,i,e)}))}),this)},t.prototype.setInputRanges=function(t,e){Y(t,(function(t){var n,i,r,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=VW[t.brushType](0,s.coordSys,t.coordRange),u=t.__rangeOffset;t.range=u?ZW[t.brushType](l.values,u.offset,(n=l.xyMinMax,i=u.xyMinMax,r=KW(n),o=KW(i),a=[r[0]/o[0],r[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},t.prototype.makePanelOpts=function(t,e){return q(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:kL(i),isTargetByCursor:IL(i,t,n.coordSysModel),getLinearBrushOtherExtent:RL(i)}}))},t.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&U(i.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=NW(e,t),r=0;r<n.length;r++){var o=n[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<WW.length;s++)if(WW[s](i,o))return o}return!0},t}();function HW(t){return t[0]>t[1]&&t.reverse(),t}function NW(t,e){return ya(t,e,{includeMainTypes:OW})}var zW={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,r=t.gridModels,o=It(),a={},s={};(n||i||r)&&(Y(n,(function(t){var e=t.axis.grid.model;o.set(e.id,e),a[e.id]=!0})),Y(i,(function(t){var e=t.axis.grid.model;o.set(e.id,e),s[e.id]=!0})),Y(r,(function(t){o.set(t.id,t),a[t.id]=!0,s[t.id]=!0})),o.each((function(t){var r=t.coordinateSystem,o=[];Y(r.getCartesians(),(function(t,e){(U(n,t.getAxis("x").model)>=0||U(i,t.getAxis("y").model)>=0)&&o.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:jW.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){Y(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:jW.geo})}))}},WW=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],jW={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Tm(t)),e}},VW={lineX:it(GW,0),lineY:it(GW,1),rect:function(t,e,n,i){var r=t?e.pointToData([n[0][0],n[1][0]],i):e.dataToPoint([n[0][0],n[1][0]],i),o=t?e.pointToData([n[0][1],n[1][1]],i):e.dataToPoint([n[0][1],n[1][1]],i),a=[HW([r[0],o[0]]),HW([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:q(n,(function(n){var o=t?e.pointToData(n,i):e.dataToPoint(n,i);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o})),xyMinMax:r}}};function GW(t,e,n,i){var r=n.getAxis(["x","y"][t]),o=HW(q([0,1],(function(t){return e?r.coordToData(r.toLocalCoord(i[t]),!0):r.toGlobalCoord(r.dataToCoord(i[t]))}))),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var ZW={lineX:it(UW,0),lineY:it(UW,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return q(t,(function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]}))}};function UW(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function KW(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var $W,XW,YW=FW,qW=Y,JW=ia+"toolbox-dataZoom_",QW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n,i){this._brushController||(this._brushController=new TL(n.getZr()),this._brushController.on("brush",nt(this._onBrush,this)).mount()),function(t,e,n,i,r){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new YW(ej(t),e,{include:["grid"]}),s=a.makePanelOpts(r,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(s).enableBrush(!(!o||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,i,n),function(t,e){t.setIconStatus("back",function(t){return BW(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,n){tj[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new YW(ej(this.model),i,{include:["grid"]}).matchOutputRanges(e,i,(function(t,e,n){if("cartesian2d"===n.type){var i=t.brushType;"rect"===i?(r("x",n,e[0]),r("y",n,e[1])):r({lineX:"x",lineY:"y"}[i],n,e)}})),function(t,e){var n=BW(t);PW(e,(function(e,i){for(var r=n.length-1;r>=0&&!n[r][i];r--);if(r<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var a=o.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}})),n.push(e)}(i,n),this._dispatchZoomAction(n)}function r(t,e,r){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(t,e.componentIndex)&&(i=n)})),i}(t,a,i),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(r=CB(0,r.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];qW(t,(function(t,n){e.push(z(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(sW),tj={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=BW(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return PW(n,(function(t,n){for(var r=e.length-1;r>=0;r--)if(t=e[r][n]){i[n]=t;break}})),i}(this.ecModel))}};function ej(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}$W="dataZoom",XW=function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var i=e.getModel(n),r=[],o=ya(t,ej(i));return qW(o.xAxisModels,(function(t){return a(t,"xAxis","xAxisIndex")})),qW(o.yAxisModels,(function(t){return a(t,"yAxis","yAxisIndex")})),r}function a(t,e,n){var o=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:JW+e+o};a[n]=o,r.push(a)}},_t(null==sd.get($W)&&XW),sd.set($W,XW);var nj=QW;var ij=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Nc),rj=ij;function oj(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function aj(t){if(y.domSupported)for(var e=document.documentElement.style,n=0,i=t.length;n<i;n++)if(t[n]in e)return t[n]}var sj=aj(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function lj(t,e){if(!t)return e;e=gc(e,!0);var n=t.indexOf(e);return(t=-1===n?e:"-"+t.slice(0,n)+"-"+e).toLowerCase()}var uj=lj(aj(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),hj=lj(sj,"transform"),cj="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(y.transform3dSupported?"will-change:transform;":"");function dj(t,e,n){var i=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!y.transformSupported)return n?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=y.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return n?"top:0;left:0;"+hj+":"+a+";":[["top",0],["left",0],[sj,a]]}function fj(t,e,n){var i=[],r=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),h=t.getModel("textStyle"),c=Cp(t,"html"),d=l+"px "+u+"px "+a+"px "+s;return i.push("box-shadow:"+d),e&&r&&i.push(function(t,e){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+n,r="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+n,r+=y.transformSupported?","+hj+i:",left"+i+",top"+i),uj+":"+r}(r,n)),o&&i.push("background-color:"+o),Y(["width","color","radius"],(function(e){var n="border-"+e,r=gc(n),o=t.get(r);null!=o&&i.push(n+":"+o+("color"===e?"":"px"))})),i.push(function(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+r),Y(["decoration","align"],(function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)})),e.join(";")}(h)),null!=c&&i.push("padding:"+mc(c).join("px ")+"px"),i.join(";")+";"}function pj(t,e,n,i,r){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&function(t,e,n,i,r){ye(ve,e,i,r,!0)&&ye(t,n,ve[0],ve[1])}(t,a,n,i,r)}else{t[0]=i,t[1]=r;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var gj=function(){function t(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,y.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),r=e.appendTo,o=r&&(at(r)?document.querySelector(r):dt(r)?r:ot(r)&&r(t.getDom()));pj(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(n),this._api=t,this._container=o;var a=this;n.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=i.handler;Re(i.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=(o="position",(a=(r=e).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r))?o?a[o]:a:null),i=e.style;"absolute"!==i.position&&"absolute"!==n&&(i.position="relative")}var r,o,a,s=t.get("alwaysShowContent");s&&this._moveIfResized(),this._alwaysShowContent=s,this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=cj+fj(t,!this._firstShow,this._longHide)+dj(r[0],r[1],!0)+"border-color:"+Sc(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,i,r){var o=this.el;if(null!=t){var a="";if(at(r)&&"item"===n.get("trigger")&&!oj(n)&&(a=function(t,e,n){if(!at(n)||"inside"===n)return"";var i=t.get("backgroundColor"),r=t.get("borderWidth");e=Sc(e);var o,a,s="left"===(o=n)?"right":"right"===o?"left":"top"===o?"bottom":"top",l=Math.max(1.5*Math.round(r),6),u="",h=hj+":";U(["left","right"],s)>-1?(u+="top:50%",h+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(u+="left:50%",h+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var c=a*Math.PI/180,d=l+r,f=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),p=e+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",(u+=";"+s+":-"+Math.round(100*((f-Math.SQRT2*r)/2+Math.SQRT2*r-(f-d)/2))/100+"px")+";"+h+";","border-bottom:"+p,"border-right:"+p,"background-color:"+i+";"].join("")+'"></div>'}(n,i,r)),at(t))o.innerHTML=t+a;else if(t){o.innerHTML="",rt(t)||(t=[t]);for(var s=0;s<t.length;s++)dt(t[s])&&t[s].parentNode!==o&&o.appendChild(t[s]);if(a&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=a,o.appendChild(l)}}}else o.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(pj(n,this._zr,this._container,t,e),null!=n[0]&&null!=n[1]){var i=this.el.style;Y(dj(n[0],n[1]),(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",y.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(nt(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},t}(),mj=gj;function vj(t){return Math.max(0,t)}function yj(t){var e=vj(t.shadowBlur||0),n=vj(t.shadowOffsetX||0),i=vj(t.shadowOffsetY||0);return{left:vj(e-n),right:vj(e+n),top:vj(e-i),bottom:vj(e+i)}}function bj(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var wj=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),bj(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,i,r){var o=this;ut(t)&&Pf(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new jl({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Cp(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Y(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){o.el.style[t]=n.get(t)})),Y(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){o.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=yj(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;bj(i,this._zr,t,e),t=i[0],e=i[1];var r=n.style,o=vj(r.borderWidth||0),a=yj(r);n.x=t+o+a.left,n.y=e+o+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(nt(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),xj=new Al({shape:{x:-1,y:-1,width:2,height:2}}),_j=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){if(!y.node&&e.getDom()){var n,i=t.getComponent("tooltip"),r=this._renderMode="auto"===(n=i.get("renderMode"))?y.domSupported?"html":"richText":n||"html";this._tooltipContent="richText"===r?new wj(e):new mj(e,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,e,n){if(!y.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n;var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?tv(this,"_updatePosition",50,"fixRate"):ev(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");$H("itemTooltip",this._api,nt((function(e,n,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):"leave"===e&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api,i=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==i&&"click"!==i){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,i){if(i.from!==this.uid&&!y.node&&n.getDom()){var r=Sj(i,n);this._ticket="";var o=i.dataByCoordSys,a=function(t,e,n){var i=ba(t).queryOptionMap,r=i.keys()[0];if(!r||"series"===r)return;var o=_a(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(!a)return;var s,l=n.getViewOfComponentModel(a);if(l.group.traverse((function(e){var n=Vl(e).tooltipConfig;if(n&&n.name===t.name)return s=e,!0})),s)return{componentMainType:r,componentIndex:a.componentIndex,el:s}}(i,e,n);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:i.position,positionDefault:"bottom"},r)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=xj;l.x=i.x,l.y=i.y,l.update(),Vl(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var u=tN(i,e),h=u.point[0],c=u.point[1];null!=h&&null!=c&&this._tryShow({offsetX:h,offsetY:c,target:u.el,position:i.position,positionDefault:"bottom"},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,n,i){var r=this._tooltipContent;this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Sj(i,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s)if("axis"===Cj([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},e.prototype._tryShow=function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,t);else if(n){var r,o;if("legend"===Vl(n).ssrType)return;this._lastDataByCoordSys=null,Uv(n,(function(t){return null!=Vl(t).dataIndex?(r=t,!0):null!=Vl(t).tooltipConfig?(o=t,!0):void 0}),!0),r?this._showSeriesItemTooltip(t,r,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=nt(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,r=[e.offsetX,e.offsetY],o=Cj([e.tooltipOption],i),a=this._renderMode,s=[],l=fp("section",{blocks:[],noHeader:!0}),u=[],h=new Sp;Y(t,(function(t){Y(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value;if(e&&null!=r){var o=BH(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),c=fp("section",{header:o,noHeader:!Ct(o),sortBlocks:!0,blocks:[]});l.blocks.push(c),Y(t.seriesDataIndices,(function(l){var d=n.getSeriesByIndex(l.seriesIndex),f=l.dataIndexInside,p=d.getDataParams(f);if(!(p.dataIndex<0)){p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=e_(e.axis,{value:r}),p.axisValueLabel=o,p.marker=h.makeTooltipMarker("item",Sc(p.color),a);var g=Af(d.formatTooltip(f,!0,null)),m=g.frag;if(m){var v=Cj([d],i).get("valueFormatter");c.blocks.push(v?V({valueFormatter:v},m):m)}g.text&&u.push(g.text),s.push(p)}}))}}))})),l.blocks.reverse(),u.reverse();var c=e.position,d=o.get("order"),f=bp(l,h,a,d,n.get("useUTC"),o.get("textStyle"));f&&u.unshift(f);var p="richText"===a?"\n\n":"<br/>",g=u.join(p);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(o,c,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+"",r[0],r[1],c,null,h)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var i=this._ecModel,r=Vl(e),o=r.seriesIndex,a=i.getSeriesByIndex(o),s=r.dataModel||a,l=r.dataIndex,u=r.dataType,h=s.getData(u),c=this._renderMode,d=t.positionDefault,f=Cj([h.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),p=f.get("trigger");if(null==p||"item"===p){var g=s.getDataParams(l,u),m=new Sp;g.marker=m.makeTooltipMarker("item",Sc(g.color),c);var v=Af(s.formatTooltip(l,!1,u)),y=f.get("order"),b=f.get("valueFormatter"),w=v.frag,x=w?bp(b?V({valueFormatter:b},w):w,m,c,y,i.get("useUTC"),f.get("textStyle")):v.text,_="item_"+s.name+"_"+l;this._showOrMove(f,(function(){this._showTooltipContent(f,x,g,_,t.offsetX,t.offsetY,t.position,t.target,m)})),n({type:"showTip",dataIndexInside:l,dataIndex:h.getRawIndex(l),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var i=Vl(e),r=i.tooltipConfig.option||{};if(at(r)){r={content:r,formatter:r}}var o=[r],a=this._ecModel.getComponent(i.componentMainType,i.componentIndex);a&&o.push(a),o.push({formatter:r.content});var s=t.positionDefault,l=Cj(o,this._tooltipModel,s?{position:s}:null),u=l.get("content"),h=Math.random()+"",c=new Sp;this._showOrMove(l,(function(){var n=z(l.get("formatterParams")||{});this._showTooltipContent(l,u,n,h,t.offsetX,t.offsetY,t.position,e,c)})),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,i,r,o,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent;u.setEnterable(t.get("enterable"));var h=t.get("formatter");a=a||t.get("position");var c=e,d=this._getNearestPoint([r,o],n,t.get("trigger"),t.get("borderColor")).color;if(h)if(at(h)){var f=t.ecModel.get("useUTC"),p=rt(n)?n[0]:n;c=h,p&&p.axisType&&p.axisType.indexOf("time")>=0&&(c=qh(p.axisValue,c,f)),c=wc(c,n,!0)}else if(ot(h)){var g=nt((function(e,i){e===this._ticket&&(u.setContent(i,l,t,d,a),this._updatePosition(t,a,r,o,u,n,s))}),this);this._ticket=i,c=h(n,i,g)}else c=h;u.setContent(c,l,t,d,a),u.show(t,d),this._updatePosition(t,a,r,o,u,n,s)}},e.prototype._getNearestPoint=function(t,e,n,i){return"axis"===n||rt(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:rt(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=r.getSize(),h=t.get("align"),c=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),ot(e)&&(e=e([n,i],o,r.el,d,{viewSize:[s,l],contentSize:u.slice()})),rt(e))n=Po(e[0],s),i=Po(e[1],l);else if(ut(e)){var f=e;f.width=u[0],f.height=u[1];var p=Pc(f,{width:s,height:l});n=p.x,i=p.y,h=null,c=null}else if(at(e)&&a){var g=function(t,e,n,i){var r=n[0],o=n[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,u=e.width,h=e.height;switch(t){case"inside":s=e.x+u/2-r/2,l=e.y+h/2-o/2;break;case"top":s=e.x+u/2-r/2,l=e.y-o-a;break;case"bottom":s=e.x+u/2-r/2,l=e.y+h+a;break;case"left":s=e.x-r-a,l=e.y+h/2-o/2;break;case"right":s=e.x+u+a,l=e.y+h/2-o/2}return[s,l]}(e,d,u,t.get("borderWidth"));n=g[0],i=g[1]}else{g=function(t,e,n,i,r,o,a){var s=n.getSize(),l=s[0],u=s[1];null!=o&&(t+l+o+2>i?t-=l+o:t+=o);null!=a&&(e+u+a>r?e-=u+a:e+=a);return[t,e]}(n,i,r,s,l,h?null:20,c?null:20);n=g[0],i=g[1]}if(h&&(n-=Mj(h)?u[0]/2:"right"===h?u[0]:0),c&&(i-=Mj(c)?u[1]/2:"bottom"===c?u[1]:0),oj(t)){g=function(t,e,n,i,r){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,i,r,s,l);n=g[0],i=g[1]}r.moveTo(n,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===t.length;return r&&Y(n,(function(n,o){var a=n.dataByAxis||[],s=(t[o]||{}).dataByAxis||[];(r=r&&a.length===s.length)&&Y(a,(function(t,n){var o=s[n]||{},a=t.seriesDataIndices||[],l=o.seriesDataIndices||[];(r=r&&t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&a.length===l.length)&&Y(a,(function(t,e){var n=l[e];r=r&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})),i&&Y(t.seriesDataIndices,(function(t){var n=t.seriesIndex,o=e[n],a=i[n];o&&a&&a.data!==o.data&&(r=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!r},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!y.node&&e.getDom()&&(ev(this,"_updatePosition"),this._tooltipContent.dispose(),qH("itemTooltip",e))},e.type="tooltip",e}(Np);function Cj(t,e,n){var i,r=e.ecModel;n?(i=new Ah(n,r,r),i=new Ah(e.option,i,r)):i=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof Ah&&(a=a.get("tooltip",!0)),at(a)&&(a={formatter:a}),a&&(i=new Ah(a,i,r)))}return i}function Sj(t,e){return t.dispatchAction||nt(e.dispatchAction,e)}function Mj(t){return"center"===t||"middle"===t}var Aj=_j;var Tj=["rect","polygon","keep","clear"];function kj(t,e){var n=ra(t?t.brush:[]);if(n.length){var i=[];Y(n,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))}));var r=t&&t.toolbox;rt(r)&&(r=r[0]),r||(r={feature:{}},t.toolbox=[r]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function(t){var e={};Y(t,(function(t){e[t]=1})),t.length=0,Y(e,(function(e,n){t.push(n)}))}(s),e&&!s.length&&s.push.apply(s,Tj)}}var Rj=Y;function Ij(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function Pj(t,e,n){var i={};return Rj(e,(function(e){var r,o=i[e]=((r=function(){}).prototype.__hidden=r.prototype,new r);Rj(t[e],(function(t,i){if(fP.isValidType(i)){var r={type:i,visual:t};n&&n(r,e),o[i]=new fP(r),"opacity"===i&&((r=z(r)).type="colorAlpha",o.__hidden.__alphaForOpacity=new fP(r))}}))})),i}function Ej(t,e,n){var i;Y(n,(function(t){e.hasOwnProperty(t)&&Ij(e[t])&&(i=!0)})),i&&Y(n,(function(n){e.hasOwnProperty(n)&&Ij(e[n])?t[n]=z(e[n]):delete t[n]}))}var Bj={lineX:Lj(0),lineY:Lj(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&f_(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var r=t.x,o=t.y,a=t.width,s=t.height,l=i[0];return!!(f_(i,r,o)||f_(i,r+a,o)||f_(i,r,o+s)||f_(i,r+a,o+s)||nn.create(t).contain(l[0],l[1])||Dm(r,o,r+a,o,i)||Dm(r,o,r,o+s,i)||Dm(r+a,o,r+a,o+s,i)||Dm(r,o+s,r+a,o+s,i))||void 0}}};function Lj(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e){var r=i.range;return Dj(e[t],r)}},rect:function(i,r,o){if(i){var a=o.range,s=[i[e[t]],i[e[t]]+i[n[t]]];return s[1]<s[0]&&s.reverse(),Dj(s[0],a)||Dj(s[1],a)||Dj(a[0],s)||Dj(a[1],s)}}}}function Dj(t,e){return e[0]<=t&&t<=e[1]}var Oj=["inBrush","outOfBrush"],Fj="__ecBrushSelect",Hj="__ecInBrushSelectEvent";function Nj(t){t.eachComponent({mainType:"brush"},(function(e){(e.brushTargetManager=new YW(e.option,t)).setInputRanges(e.areas,t)}))}function zj(t,e,n){var i,r,o=[];t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),Nj(t),t.eachComponent({mainType:"brush"},(function(e,n){var a={brushId:e.id,brushIndex:n,brushName:e.name,areas:z(e.areas),selected:[]};o.push(a);var s=e.option,l=s.brushLink,u=[],h=[],c=[],d=!1;n||(i=s.throttleType,r=s.throttleDelay);var f=q(e.areas,(function(t){var e=Vj[t.brushType],n=G({boundingRect:e?e(t):void 0},t);return n.selectors=function(t){var e=t.brushType,n={point:function(i){return Bj[e].point(i,n,t)},rect:function(i){return Bj[e].rect(i,n,t)}};return n}(n),n})),p=Pj(e.option,Oj,(function(t){t.mappingMethod="fixed"}));function g(t){return"all"===l||!!u[t]}function m(t){return!!t.length}rt(l)&&Y(l,(function(t){u[t]=1})),t.eachSeries((function(n,i){var r=c[i]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;d=d||n.hasAxisBrushed(),g(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(h[e]=1)}))}(n,i):function(n,i,r){if(!n.brushSelector||function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(rt(n)?U(n,e)<0:e!==n)}(e,i))return;if(Y(f,(function(i){e.brushTargetManager.controlSeries(i,n,t)&&r.push(i),d=d||m(r)})),g(i)&&m(r)){var o=n.getData();o.each((function(t){jj(n,r,o,t)&&(h[t]=1)}))}}(n,i,r)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};a.selected.push(n);var i=c[e],r=t.getData(),o=g(e)?function(t){return h[t]?(n.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return jj(t,i,r,e)?(n.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"};(g(e)?d:m(i))&&function(t,e,n,i,r,o){var a,s={};function l(t){return Wv(n,a,t)}function u(t,e){Vv(n,a,t,e)}function h(t,h){a=null==o?t:h;var c=n.getRawDataItem(a);if(!c||!1!==c.visualMap)for(var d=i.call(r,t),f=e[d],p=s[d],g=0,m=p.length;g<m;g++){var v=p[g];f[v]&&f[v].applyVisual(t,l,u)}}Y(t,(function(t){var n=fP.prepareVisualTypes(e[t]);s[t]=n})),null==o?n.each(h):n.each([o],h)}(Oj,p,r,o)}))})),function(t,e,n,i,r){if(!r)return;var o=t.getZr();if(o[Hj])return;o[Fj]||(o[Fj]=Wj);var a=tv(o,Fj,n,e);a(t,i)}(e,i,r,o,n)}function Wj(t,e){if(!t.isDisposed()){var n=t.getZr();n[Hj]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[Hj]=!1}}function jj(t,e,n,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t.brushSelector(i,n,a.selectors,a))return!0}}var Vj={rect:function(t){return Gj(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&Gj(e)}};function Gj(t){return new nn(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var Zj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new TL(e.getZr())).on("brush",nt(this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,i){this.model=t,this._updateController(t,e,n,i)},e.prototype.updateTransform=function(t,e,n,i){Nj(e),this._updateController(t,e,n,i)},e.prototype.updateVisual=function(t,e,n,i){this.updateTransform(t,e,n,i)},e.prototype.updateView=function(t,e,n,i){this._updateController(t,e,n,i)},e.prototype._updateController=function(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:z(n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:z(n),$from:e})},e.type="brush",e}(Np),Uj=Zj,Kj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return(0,g.ZT)(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&Ej(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:"#ddd"},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=q(t,(function(t){return $j(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=$j(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Nc);function $j(t,e){return W({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Ah(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var Xj=Kj,Yj=["rect","polygon","lineX","lineY","keep","clear"],qj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){var i,r,o;e.eachComponent({mainType:"brush"},(function(t){i=t.brushType,r=t.brushOption.brushMode||"single",o=o||!!t.areas.length})),this._brushType=i,this._brushMode=r,Y(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===r:"clear"===e?o:e===i)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return Y(t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},e.prototype.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},e.getDefaultOption=function(t){return{show:!0,type:Yj.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(sW),Jj=qj;var Qj=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,g.ZT)(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Nc),tV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,r=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=yt(t.get("textBaseline"),t.get("textVerticalAlign")),l=new jl({style:nh(r,{text:t.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),h=t.get("subtext"),c=new jl({style:nh(o,{text:h,fill:o.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink"),p=t.get("triggerEvent",!0);l.silent=!d&&!p,c.silent=!f&&!p,d&&l.on("click",(function(){Mc(d,"_"+t.get("target"))})),f&&c.on("click",(function(){Mc(f,"_"+t.get("subtarget"))})),Vl(l).eventData=Vl(c).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(l),h&&i.add(c);var g=i.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=Pc(m,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),i.x=v.x,i.y=v.y,i.markRedraw();var y={align:a,verticalAlign:s};l.setStyle(y),c.setStyle(y),g=i.getBoundingRect();var b=v.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var x=new Al({shape:{x:g.x-b[3],y:g.y-b[0],width:g.width+b[1]+b[3],height:g.height+b[0]+b[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});i.add(x)}},e.type="title",e}(Np);var eV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],i=e.axisType,r=this._names=[];"category"===i?(t=[],Y(n,(function(e,n){var i,o=da(sa(e),"");ut(e)?(i=z(e)).value=n:i=n,t.push(i),r.push(o)}))):t=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number";(this._data=new Fw([{name:"value",type:o}],this)).initData(t,r)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Nc),nV=eV,iV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="timeline.slider",e.defaultOption=Rh(nV.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(nV);$(iV,Mf.prototype);var rV=iV,oV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="timeline",e}(Np),aV=oV,sV=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i)||this;return o.type=r||"value",o}return(0,g.ZT)(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(H_),lV=sV,uV=Math.PI,hV=ma(),cV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),r=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return fp("nameValue",{noName:!0,value:a.scale.getLabel({value:t})})},Y(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](i,r,a,t)}),this),this._renderAxisLabel(i,o,a,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,i,r,o,a=t.get(["label","position"]),s=t.get("orient"),l=function(t,e){return Pc(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e),u={horizontal:"center",vertical:(n=null==a||"auto"===a?"horizontal"===s?l.y+l.height/2<e.getHeight()/2?"-":"+":l.x+l.width/2<e.getWidth()/2?"+":"-":at(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===n?"left":"right"},h={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:uV/2},d="vertical"===s?l.height:l.width,f=t.getModel("controlStyle"),p=f.get("show",!0),g=p?f.get("itemSize"):0,m=p?f.get("itemGap"):0,v=g+m,y=t.get(["label","rotate"])||0;y=y*uV/180;var b=f.get("position",!0),w=p&&f.get("showPlayBtn",!0),x=p&&f.get("showPrevBtn",!0),_=p&&f.get("showNextBtn",!0),C=0,S=d;"left"===b||"bottom"===b?(w&&(i=[0,0],C+=v),x&&(r=[C,0],C+=v),_&&(o=[S-g,0],S-=v)):(w&&(i=[S-g,0],S-=v),x&&(r=[0,0],C+=v),_&&(o=[S-g,0],S-=v));var M=[C,S];return t.get("inverse")&&M.reverse(),{viewRect:l,mainLength:d,orient:s,rotation:c[s],labelRotation:y,labelPosOpt:n,labelAlign:t.get(["label","align"])||u[s],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||h[s],playPosition:i,prevBtnPosition:r,nextBtnPosition:o,axisExtent:M,controlSize:g,controlGap:m}},e.prototype._position=function(t,e){var n=this._mainGroup,i=this._labelGroup,r=t.viewRect;if("vertical"===t.orient){var o=[1,0,0,1,0,0],a=r.x,s=r.y+r.height;ze(o,o,[-a,-s]),We(o,o,-uV/2),ze(o,o,[a,s]),(r=r.clone()).applyTransform(o)}var l=m(r),u=m(n.getBoundingRect()),h=m(i.getBoundingRect()),c=[n.x,n.y],d=[i.x,i.y];d[0]=c[0]=l[0][0];var f,p=t.labelPosOpt;null==p||at(p)?(v(c,u,l,1,f="+"===p?0:1),v(d,h,l,1,1-f)):(v(c,u,l,1,f=p>=0?0:1),d[1]=c[1]+p);function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}n.setPosition(c),i.setPosition(d),n.rotation=i.rotation=t.rotation,g(n),g(i)},e.prototype._createAxis=function(t,e){var n=e.getData(),i=e.get("axisType"),r=function(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new lx({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new Lx({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new cx}}(e,i);r.getTicks=function(){return n.mapArray(["value"],(function(t){return{value:t}}))};var o=n.getDataExtent("value");r.setExtent(o[0],o[1]),r.calcNiceTicks();var a=new lV("value",r,t.axisExtent,i);return a.model=e,a},e.prototype._createGroup=function(t){var e=this[t]=new mo;return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,i){var r=n.getExtent();if(i.get(["lineStyle","show"])){var o=new jg({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:V({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(o);var a=this._progressLine=new jg({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:G({lineCap:"round",lineWidth:o.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(a)}},e.prototype._renderAxisTick=function(t,e,n,i){var r=this,o=i.getData(),a=n.scale.getTicks();this._tickSymbols=[],Y(a,(function(t){var a=n.dataToCoord(t.value),s=o.getItemModel(t.value),l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),h=s.getModel(["progress","itemStyle"]),c={x:a,y:0,onclick:nt(r._changeTimeline,r,t.value)},d=dV(s,l,e,c);d.ensureState("emphasis").style=u.getItemStyle(),d.ensureState("progress").style=h.getItemStyle(),Pu(d);var f=Vl(d);s.get("tooltip")?(f.dataIndex=t.value,f.dataModel=i):f.dataIndex=f.dataModel=null,r._tickSymbols.push(d)}))},e.prototype._renderAxisLabel=function(t,e,n,i){var r=this;if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();this._tickLabels=[],Y(a,(function(i){var a=i.tickValue,s=o.getItemModel(a),l=s.getModel("label"),u=s.getModel(["emphasis","label"]),h=s.getModel(["progress","label"]),c=n.dataToCoord(i.tickValue),d=new jl({x:c,y:0,rotation:t.labelRotation-t.rotation,onclick:nt(r._changeTimeline,r,a),silent:!1,style:nh(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});d.ensureState("emphasis").style=nh(u),d.ensureState("progress").style=nh(h),e.add(d),Pu(d),hV(d).dataIndex=a,r._tickLabels.push(d)}))}},e.prototype._renderControl=function(t,e,n,i){var r=t.controlSize,o=t.rotation,a=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),u=i.get("inverse",!0);function h(t,n,l,u){if(t){var h=eo(yt(i.get(["controlStyle",n+"BtnSize"]),r),r),c=function(t,e,n,i){var r=i.style,o=Lm(t.get(["controlStyle",e]),i||{},new nn(n[0],n[1],n[2],n[3]));r&&o.setStyle(r);return o}(i,n+"Icon",[0,-h/2,h,h],{x:t[0],y:t[1],originX:r/2,originY:0,rotation:u?-o:0,rectHover:!0,style:a,onclick:l});c.ensureState("emphasis").style=s,e.add(c),Pu(c)}}h(t.nextBtnPosition,"next",nt(this._changeTimeline,this,u?"-":"+")),h(t.prevBtnPosition,"prev",nt(this._changeTimeline,this,u?"+":"-")),h(t.playPosition,l?"stop":"play",nt(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=nt(s._handlePointerDrag,s),t.ondragend=nt(s._handlePointerDragend,s),fV(t,s._progressLine,o,n,i,!0)},onUpdate:function(t){fV(t,s._progressLine,o,n,i)}};this._currentPointer=dV(a,a,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],i=Bo(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var r=this._progressLine;r&&(r.shape.x2=n,r.dirty());var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return km(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],(function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-t);s<i&&(i=s,e=o)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var i=0;i<e.length;i++)e&&e[i]&&e[i].toggleState("progress",i<t);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",hV(n[i]).dataIndex<=t)},e.type="timeline.slider",e}(aV);function dV(t,e,n,i,r,o){var a=e.get("color");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=oy(t.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r));var s=e.getItemStyle(["color"]);r.setStyle(s),i=W({rectHover:!0,z2:100},i,!0);var l=ay(t.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=sy(t.get("symbolOffset"),l);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var h=t.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function fV(t,e,n,i,r,o){if(!t.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",n));if(o||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var pV=cV;function gV(t){var e=t&&t.timeline;rt(e)||(e=e?[e]:[]),Y(e,(function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};n[e]&&(t.axisType=n[e],delete t.type);if(mV(t),vV(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});vV(i,"position")||(i.position=t.controlPosition),"none"!==i.position||vV(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}Y(t.data||[],(function(t){ut(t)&&!rt(t)&&(!vV(t,"value")&&vV(t,"name")&&(t.value=t.name),mV(t))}))}(t)}))}function mV(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};Y(i,(function(t,e){o[e]||vV(r,e)||(r[e]=t)})),n.label&&!vV(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function vV(t,e){return t.hasOwnProperty(e)}function yV(t,e){if(!t)return!1;for(var n=rt(t)?t:[t],i=0;i<n.length;i++)if(n[i]&&n[i][e])return!0;return!1}function bV(t){oa(t,"label",["show"])}var wV=ma(),xV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(y.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,i){var r=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),o=wV(t)[r];n&&n.data?(o?o._mergeOption(n,e,!0):(i&&bV(n),Y(n.data,(function(t){t instanceof Array?(bV(t[0]),bV(t[1])):bV(t)})),V(o=this.createMarkerModelFromSeries(n,this,e),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),o.__hostSeries=t),wV(t)[r]=o):wV(t)[r]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t),o=i.getName(t);return fp("section",{header:this.name,blocks:[fp("nameValue",{name:o,value:r,noName:!o,noValue:null==r})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return wV(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Nc);$(xV,Mf.prototype);var _V=xV,CV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(_V),SV=CV;function MV(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function AV(t,e,n,i,r,o){var a=[],s=Zw(e,i)?e.getCalculationInfo("stackResultDimension"):i,l=EV(e,s,t),u=e.indicesOfNearest(s,l)[0];a[r]=e.get(n,u),a[o]=e.get(s,u);var h=e.get(i,u),c=Lo(e.get(i,u));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),[a,h]}var TV={min:it(AV,"min"),max:it(AV,"max"),average:it(AV,"average"),median:it(AV,"median")};function kV(t,e){if(e){var n=t.getData(),i=t.coordinateSystem,r=i&&i.dimensions;if(!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!rt(e.coord)&&rt(r)){var o=RV(e,n,i,t);if((e=z(e)).type&&TV[e.type]&&o.baseAxis&&o.valueAxis){var a=U(r,o.baseAxis.dim),s=U(r,o.valueAxis.dim),l=TV[e.type](n,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&rt(r))for(var u=e.coord,h=0;h<2;h++)TV[u[h]]&&(u[h]=EV(n,n.mapDimension(r[h]),u[h]));else e.coord=[];return e}}function RV(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(function(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function IV(t,e){return!(t&&t.containData&&e.coord&&!MV(e))||t.containData(e.coord)}function PV(t,e){return t?function(t,n,i,r){return Ef(r<2?t.coord&&t.coord[r]:t.value,e[r])}:function(t,n,i,r){return Ef(t.value,e[r])}}function EV(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,(function(t,e){isNaN(t)||(i+=t,r++)})),i/r}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var BV=ma(),LV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.init=function(){this.markerGroupMap=It()},e.prototype.render=function(t,e,n){var i=this,r=this.markerGroupMap;r.each((function(t){BV(t).keep=!1})),e.eachSeries((function(t){var r=_V.getMarkerModelFromSeries(t,i.type);r&&i.renderSeries(t,r,e,n)})),r.each((function(t){!BV(t).keep&&i.group.remove(t.group)}))},e.prototype.markKeep=function(t){BV(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var n=this;Y(t,(function(t){var i=_V.getMarkerModelFromSeries(t,n.type);i&&i.getData().eachItemGraphicEl((function(t){t&&(e?wu(t):xu(t))}))}))},e.type="marker",e}(Np),DV=LV;function OV(t,e,n){var i=e.coordinateSystem;t.each((function(r){var o,a=t.getItemModel(r),s=Po(a.get("x"),n.getWidth()),l=Po(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var u=t.get(i.dimensions[0],r),h=t.get(i.dimensions[1],r);o=i.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),t.setItemLayout(r,o)}))}var FV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=_V.getMarkerModelFromSeries(t,"markPoint");e&&(OV(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new lM),u=function(t,e,n){var i;i=t?q(t&&t.dimensions,(function(t){return V(V({},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new Fw(i,n),o=q(n.get("data"),it(kV,e));t&&(o=Q(o,it(IV,t)));var a=PV(!!t,i);return r.initData(o,null,a),r}(r,t,e);e.setData(u),OV(e.getData(),t,i),u.each((function(t){var n=u.getItemModel(t),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),l=n.getShallow("symbolKeepAspect");if(ot(i)||ot(r)||ot(o)||ot(s)){var h=e.getRawValue(t),c=e.getDataParams(t);ot(i)&&(i=i(h,c)),ot(r)&&(r=r(h,c)),ot(o)&&(o=o(h,c)),ot(s)&&(s=s(h,c))}var d=n.getModel("itemStyle").getItemStyle(),f=jv(a,"color");d.fill||(d.fill=f),u.setItemVisual(t,{symbol:i,symbolSize:r,symbolRotate:o,symbolOffset:s,symbolKeepAspect:l,style:d})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(t){t.traverse((function(t){Vl(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(DV);var HV=FV;var NV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(_V),zV=NV,WV=ma(),jV=function(t,e,n,i){var r,o=t.getData();if(rt(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),l=vt(i.yAxis,i.xAxis);else{var u=RV(i,o,e,t);s=u.valueAxis,l=EV(o,Uw(o,u.valueDataDim),a)}var h="x"===s.dim?0:1,c=1-h,d=z(i),f={coord:[]};d.type=null,d.coord=[],d.coord[c]=-1/0,f.coord[c]=1/0;var p=n.get("precision");p>=0&&lt(l)&&(l=+l.toFixed(Math.min(p,20))),d.coord[h]=f.coord[h]=l,r=[d,f,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var g=[kV(t,r[0]),kV(t,r[1]),V({},r[2])];return g[2].type=g[2].type||null,W(g[2],g[0]),W(g[2],g[1]),g};function VV(t){return!isNaN(t)&&!isFinite(t)}function GV(t,e,n,i){var r=1-t,o=i.dimensions[t];return VV(e[r])&&VV(n[r])&&e[t]===n[t]&&i.getAxis(o).containData(e[t])}function ZV(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(GV(1,n,i,t)||GV(0,n,i,t)))return!0}return IV(t,e[0])&&IV(t,e[1])}function UV(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=Po(s.get("x"),r.getWidth()),u=Po(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var h=a.dimensions,c=t.get(h[0],e),d=t.get(h[1],e);o=a.dataToPoint([c,d])}if(_M(a,"cartesian2d")){var f=a.getAxis("x"),p=a.getAxis("y");h=a.dimensions;VV(t.get(h[0],e))?o[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):VV(t.get(h[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];t.setItemLayout(e,o)}var KV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=_V.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData(),r=WV(e).from,o=WV(e).to;r.each((function(e){UV(r,e,!0,t,n),UV(o,e,!1,t,n)})),i.each((function(t){i.setItemLayout(t,[r.getItemLayout(t),o.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new wE);this.group.add(l.group);var u=function(t,e,n){var i;i=t?q(t&&t.dimensions,(function(t){return V(V({},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new Fw(i,n),o=new Fw(i,n),a=new Fw([],n),s=q(n.get("data"),it(jV,e,t,n));t&&(s=Q(s,it(ZV,t)));var l=PV(!!t,i);return r.initData(q(s,(function(t){return t[0]})),null,l),o.initData(q(s,(function(t){return t[1]})),null,l),a.initData(q(s,(function(t){return t[2]}))),a.hasItemOption=!0,{from:r,to:o,line:a}}(r,t,e),h=u.from,c=u.to,d=u.line;WV(e).from=h,WV(e).to=c,e.setData(d);var f=e.get("symbol"),p=e.get("symbolSize"),g=e.get("symbolRotate"),m=e.get("symbolOffset");function v(e,n,r){var o=e.getItemModel(n);UV(e,n,r,t,i);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=jv(a,"color")),e.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:yt(o.get("symbolOffset",!0),m[r?0:1]),symbolRotate:yt(o.get("symbolRotate",!0),g[r?0:1]),symbolSize:yt(o.get("symbolSize"),p[r?0:1]),symbol:yt(o.get("symbol",!0),f[r?0:1]),style:s})}rt(f)||(f=[f,f]),rt(p)||(p=[p,p]),rt(g)||(g=[g,g]),rt(m)||(m=[m,m]),u.from.each((function(t){v(h,t,!0),v(c,t,!1)})),d.each((function(t){var e=d.getItemModel(t).getModel("lineStyle").getLineStyle();d.setItemLayout(t,[h.getItemLayout(t),c.getItemLayout(t)]),null==e.stroke&&(e.stroke=h.getItemVisual(t,"style").fill),d.setItemVisual(t,{fromSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(t,"symbolOffset"),fromSymbolRotate:h.getItemVisual(t,"symbolRotate"),fromSymbolSize:h.getItemVisual(t,"symbolSize"),fromSymbol:h.getItemVisual(t,"symbol"),toSymbolKeepAspect:c.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:c.getItemVisual(t,"symbolOffset"),toSymbolRotate:c.getItemVisual(t,"symbolRotate"),toSymbolSize:c.getItemVisual(t,"symbolSize"),toSymbol:c.getItemVisual(t,"symbol"),style:e})})),l.updateData(d),u.line.eachItemGraphicEl((function(t){Vl(t).dataModel=e,t.traverse((function(t){Vl(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(DV);var $V=KV;var XV=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(_V),YV=XV,qV=ma(),JV=function(t,e,n,i){var r=i[0],o=i[1];if(r&&o){var a=kV(t,r),s=kV(t,o),l=a.coord,u=s.coord;l[0]=vt(l[0],-1/0),l[1]=vt(l[1],-1/0),u[0]=vt(u[0],1/0),u[1]=vt(u[1],1/0);var h=j([{},a,s]);return h.coord=[a.coord,s.coord],h.x0=a.x,h.y0=a.y,h.x1=s.x,h.y1=s.y,h}};function QV(t){return!isNaN(t)&&!isFinite(t)}function tG(t,e,n,i){var r=1-t;return QV(e[r])&&QV(n[r])}function eG(t,e){var n=e.coord[0],i=e.coord[1],r={coord:n,x:e.x0,y:e.y0},o={coord:i,x:e.x1,y:e.y1};return _M(t,"cartesian2d")?!(!n||!i||!tG(1,n,i)&&!tG(0,n,i))||function(t,e,n){return!(t&&t.containZone&&e.coord&&n.coord&&!MV(e)&&!MV(n))||t.containZone(e.coord,n.coord)}(t,r,o):IV(t,r)||IV(t,o)}function nG(t,e,n,i,r){var o,a=i.coordinateSystem,s=t.getItemModel(e),l=Po(s.get(n[0]),r.getWidth()),u=Po(s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition){var h=t.getValues(["x0","y0"],e),c=t.getValues(["x1","y1"],e),d=a.clampData(h),f=a.clampData(c),p=[];"x0"===n[0]?p[0]=d[0]>f[0]?c[0]:h[0]:p[0]=d[0]>f[0]?h[0]:c[0],"y0"===n[1]?p[1]=d[1]>f[1]?c[1]:h[1]:p[1]=d[1]>f[1]?h[1]:c[1],o=i.getMarkerPosition(p,n,!0)}else{var g=[y=t.get(n[0],e),b=t.get(n[1],e)];a.clampData&&a.clampData(g,g),o=a.dataToPoint(g,!0)}if(_M(a,"cartesian2d")){var m=a.getAxis("x"),v=a.getAxis("y"),y=t.get(n[0],e),b=t.get(n[1],e);QV(y)?o[0]=m.toGlobalCoord(m.getExtent()["x0"===n[0]?0:1]):QV(b)&&(o[1]=v.toGlobalCoord(v.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var iG=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],rG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=_V.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each((function(e){var r=q(iG,(function(r){return nG(i,e,r,t,n)}));i.setItemLayout(e,r),i.getItemGraphicEl(e).setShape("points",r)}))}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new mo});this.group.add(l.group),this.markKeep(l);var u=function(t,e,n){var i,r,o=["x0","y0","x1","y1"];if(t){var a=q(t&&t.dimensions,(function(t){var n=e.getData();return V(V({},n.getDimensionInfo(n.mapDimension(t))||{}),{name:t,ordinalMeta:null})}));r=q(o,(function(t,e){return{name:t,type:a[e%2].type}})),i=new Fw(r,n)}else i=new Fw(r=[{name:"value",type:"float"}],n);var s=q(n.get("data"),it(JV,e,t,n));t&&(s=Q(s,it(eG,t)));var l=t?function(t,e,n,i){return Ef(t.coord[Math.floor(i/2)][i%2],r[i])}:function(t,e,n,i){return Ef(t.value,r[i])};return i.initData(s,null,l),i.hasItemOption=!0,i}(r,t,e);e.setData(u),u.each((function(e){var n=q(iG,(function(n){return nG(u,e,n,t,i)})),o=r.getAxis("x").scale,s=r.getAxis("y").scale,l=o.getExtent(),h=s.getExtent(),c=[o.parse(u.get("x0",e)),o.parse(u.get("x1",e))],d=[s.parse(u.get("y0",e)),s.parse(u.get("y1",e))];Bo(c),Bo(d);var f=!!(l[0]>c[1]||l[1]<c[0]||h[0]>d[1]||h[1]<d[0]);u.setItemLayout(e,{points:n,allClipped:f});var p=u.getItemModel(e).getModel("itemStyle").getItemStyle(),g=jv(a,"color");p.fill||(p.fill=g,at(p.fill)&&(p.fill=Ti(p.fill,.4))),p.stroke||(p.stroke=g),u.setItemVisual(e,"style",p)})),u.diff(qV(l).data).add((function(t){var e=u.getItemLayout(t);if(!e.allClipped){var n=new Dg({shape:{points:e.points}});u.setItemGraphicEl(t,n),l.group.add(n)}})).update((function(t,n){var i=qV(l).data.getItemGraphicEl(n),r=u.getItemLayout(t);r.allClipped?i&&l.group.remove(i):(i?Gu(i,{shape:{points:r.points}},e,t):i=new Dg({shape:{points:r.points}}),u.setItemGraphicEl(t,i),l.group.add(i))})).remove((function(t){var e=qV(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),u.eachItemGraphicEl((function(t,n){var i=u.getItemModel(n),r=u.getItemVisual(n,"style");t.useStyle(u.getItemVisual(n,"style")),th(t,eh(i),{labelFetcher:e,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:at(r.fill)?Ti(r.fill,1):"#000"}),Ou(t,i),Eu(t,null,null,i.get(["emphasis","disabled"])),Vl(t).dataModel=e})),qV(l).data=u,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(DV);var oG=rG;var aG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),rt(e)&&Y(e,(function(t,i){at(t)&&(t={type:t}),e[i]=W(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(a)),a.length?e=e.concat(a):r=!0}else r=!0;r&&fa(i)&&e.push(i.name)})),this._availableNames=n;var i=this.get("data")||e,r=It(),o=q(i,(function(t){return(at(t)||lt(t))&&(t={name:t}),r.get(t.name)?null:(r.set(t.name,!0),new Ah(t,this,this.ecModel))}),this);this._data=Q(o,(function(t){return!!t}))},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&Y(this._data,(function(t){e[t.get("name")]=!1}));e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;Y(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;Y(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&U(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Nc),sG=aG,lG=it,uG=Y,hG=mo,cG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return(0,g.ZT)(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new hG),this.group.add(this._selectorGroup=new hG),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),o=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===o?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(r,t,e,n,a,o,s);var l=t.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},h=t.get("padding"),c=Pc(l,u,h),d=this.layoutInner(t,r,c,i,a,s),f=Pc(G({width:d.width,height:d.height},l),u,h);this.group.x=f.x-d.x,this.group.y=f.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=fW(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,i,r,o,a){var s=this.getContentGroup(),l=It(),u=e.get("selectedMode"),h=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&h.push(t.id)})),uG(e.getData(),(function(r,o){var a=r.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var c=new hG;return c.newline=!0,void s.add(c)}var d=n.getSeriesByName(a)[0];if(!l.get(a)){if(d){var f=d.getData(),p=f.getVisual("legendLineStyle")||{},g=f.getVisual("legendIcon"),m=f.getVisual("style"),v=this._createItem(d,a,o,r,e,t,p,m,g,u,i);v.on("click",lG(dG,a,null,i,h)).on("mouseover",lG(pG,d.name,null,i,h)).on("mouseout",lG(gG,d.name,null,i,h)),n.ssr&&v.eachChild((function(t){var e=Vl(t);e.seriesIndex=d.seriesIndex,e.dataIndex=o,e.ssrType="legend"})),l.set(a,!0)}else n.eachRawSeries((function(s){if(!l.get(a)&&s.legendVisualProvider){var c=s.legendVisualProvider;if(!c.containName(a))return;var d=c.indexOfName(a),f=c.getItemVisual(d,"style"),p=c.getItemVisual(d,"legendIcon"),g=yi(f.fill);g&&0===g[3]&&(g[3]=.2,f=V(V({},f),{fill:ki(g,"rgba")}));var m=this._createItem(s,a,o,r,e,t,{},f,p,u,i);m.on("click",lG(dG,null,a,i,h)).on("mouseover",lG(pG,null,a,i,h)).on("mouseout",lG(gG,null,a,i,h)),n.ssr&&m.eachChild((function(t){var e=Vl(t);e.seriesIndex=s.seriesIndex,e.dataIndex=o,e.ssrType="legend"})),l.set(a,!0)}}),this);0}}),this),r&&this._createSelector(r,e,i,o,a)},e.prototype._createSelector=function(t,e,n,i,r){var o=this.getSelectorGroup();uG(t,(function(t){var i=t.type,r=new jl({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r),th(r,{normal:e.getModel("selectorLabel"),emphasis:e.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),Pu(r)}))},e.prototype._createItem=function(t,e,n,i,r,o,a,s,l,u,h){var c=t.visualDrawType,d=r.get("itemWidth"),f=r.get("itemHeight"),p=r.isSelected(e),g=i.get("symbolRotate"),m=i.get("symbolKeepAspect"),v=i.get("icon"),y=function(t,e,n,i,r,o,a){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),uG(t,(function(n,i){"inherit"===t[i]&&(t[i]=e[i])}))}var l=e.getModel("itemStyle"),u=l.getItemStyle(),h=0===t.lastIndexOf("empty",0)?"fill":"stroke",c=l.getShallow("decal");u.decal=c&&"inherit"!==c?Ey(c,a):i.decal,"inherit"===u.fill&&(u.fill=i[r]);"inherit"===u.stroke&&(u.stroke=i[h]);"inherit"===u.opacity&&(u.opacity=("fill"===r?i:n).opacity);s(u,i);var d=e.getModel("lineStyle"),f=d.getLineStyle();if(s(f,n),"auto"===u.fill&&(u.fill=i.fill),"auto"===u.stroke&&(u.stroke=i.fill),"auto"===f.stroke&&(f.stroke=i.fill),!o){var p=e.get("inactiveBorderWidth"),g=u[h];u.lineWidth="auto"===p?i.lineWidth>0&&g?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=d.get("inactiveColor"),f.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}(l=v||l||"roundRect",i,a,s,c,p,h),b=new hG,w=i.getModel("textStyle");if(!ot(t.getLegendIcon)||v&&"inherit"!==v){var x="inherit"===v&&t.getData().getVisual("symbol")?"inherit"===g?t.getData().getVisual("symbolRotate"):g:0;b.add(function(t){var e=t.icon||"roundRect",n=oy(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:d,itemHeight:f,icon:l,iconRotate:x,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}))}else b.add(t.getLegendIcon({itemWidth:d,itemHeight:f,icon:l,iconRotate:g,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}));var _="left"===o?d+5:-5,C=o,S=r.get("formatter"),M=e;at(S)&&S?M=S.replace("{name}",null!=e?e:""):ot(S)&&(M=S(e));var A=p?w.getTextColor():i.get("inactiveColor");b.add(new jl({style:nh(w,{text:M,x:_,y:f/2,fill:A,align:C,verticalAlign:"middle"},{inheritColor:A})}));var T=new Al({shape:b.getBoundingRect(),style:{fill:"transparent"}}),k=i.getModel("tooltip");return k.get("show")&&Hm({el:T,componentModel:r,itemName:e,itemTooltipOption:k.option}),b.add(T),b.eachChild((function(t){t.silent=!0})),T.silent=!u,this.getContentGroup().add(b),Pu(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();Ic(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),r){Ic("horizontal",s,t.get("selectorItemGap",!0));var h=s.getBoundingRect(),c=[-h.x,-h.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,p=0===f?"width":"height",g=0===f?"height":"width",m=0===f?"y":"x";"end"===o?c[f]+=l[p]+d:u[f]+=h[p]+d,c[1-f]+=l[g]/2-h[g]/2,s.x=c[0],s.y=c[1],a.x=u[0],a.y=u[1];var v={x:0,y:0};return v[p]=l[p]+d+h[p],v[g]=Math.max(l[g],h[g]),v[m]=Math.min(0,h[m]+c[1-f]),v}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Np);function dG(t,e,n,i){gG(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),pG(t,e,n,i)}function fG(t){for(var e,n=t.getZr().storage.getDisplayList(),i=0,r=n.length;i<r&&!(e=n[i].states.emphasis);)i++;return e&&e.hoverLayer}function pG(t,e,n,i){fG(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function gG(t,e,n,i){fG(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}var mG=cG;function vG(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function yG(t,e,n){var i,r={},o="toggleSelected"===t;return n.eachComponent("legend",(function(n){o&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name)),Y(n.getData(),(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&i:r[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}function bG(t){t.registerComponentModel(sG),t.registerComponentView(mG),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,vG),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",it(yG,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",it(yG,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",it(yG,"inverseSelect")),t.registerAction("legendSelect","legendselected",it(yG,"select")),t.registerAction("legendUnSelect","legendunselected",it(yG,"unSelect"))}(t)}var wG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,i){var r=Dc(e);t.prototype.init.call(this,e,n,i),xG(this,e,r)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),xG(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Rh(sG.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(sG);function xG(t,e,n){var i=[1,1];i[t.getOrient().index]=0,Lc(e,n,{type:"box",ignoreSize:!!i})}var _G=wG,CG=mo,SG=["width","height"],MG=["x","y"],AG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return(0,g.ZT)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new CG),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new CG)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,i,r,o,a,s){var l=this;t.prototype.renderInner.call(this,e,n,i,r,o,a,s);var u=this._controllerGroup,h=n.get("pageIconSize",!0),c=rt(h)?h:[h,h];f("pagePrev",0);var d=n.getModel("pageTextStyle");function f(t,e){var i=t+"DataIndex",o=Lm(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:nt(l._pageGo,l,i,n,r)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});o.name=t,u.add(o)}u.add(new jl({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getSelectorGroup(),s=t.getOrient().index,l=SG[s],u=MG[s],h=SG[1-s],c=MG[1-s];r&&Ic("horizontal",a,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=a.getBoundingRect(),p=[-f.x,-f.y],g=z(n);r&&(g[l]=n[l]-f[l]-d);var m=this._layoutContentAndController(t,i,g,s,l,h,c,u);if(r){if("end"===o)p[s]+=m[l]+d;else{var v=f[l]+d;p[s]-=v,m[u]-=v}m[l]+=f[l]+d,p[1-s]+=m[c]+m[h]/2-f[h]/2,m[h]=Math.max(m[h],f[h]),m[c]=Math.min(m[c],f[c]+p[1-s]),a.x=p[0],a.y=p[1],a.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,n,i,r,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,h=this._controllerGroup;Ic(t.get("orient"),l,t.get("itemGap"),i?n.width:null,i?null:n.height),Ic("horizontal",h,t.get("pageButtonItemGap",!0));var c=l.getBoundingRect(),d=h.getBoundingRect(),f=this._showController=c[r]>n[r],p=[-c.x,-c.y];e||(p[i]=l[s]);var g=[0,0],m=[-d.x,-d.y],v=yt(t.get("pageButtonGap",!0),t.get("itemGap",!0));f&&("end"===t.get("pageButtonPosition",!0)?m[i]+=n[r]-d[r]:g[i]+=d[r]+v);m[1-i]+=c[o]/2-d[o]/2,l.setPosition(p),u.setPosition(g),h.setPosition(m);var y={x:0,y:0};if(y[r]=f?n[r]:c[r],y[o]=Math.max(c[o],d[o]),y[a]=Math.min(0,d[a]+m[1-i]),u.__rectSize=n[r],f){var b={x:0,y:0};b[r]=Math.max(n[r]-d[r]-v,0),b[o]=y[o],u.setClipPath(new Al({shape:b})),u.__rectSize=b[r]}else h.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var w=this._getPageInfo(t);return null!=w.pageIndex&&Gu(l,{x:w.contentPosition[0],y:w.contentPosition[1]},f?t:null),this._updatePageInfoView(t,w),y},e.prototype._pageGo=function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;Y(["pagePrev","pageNext"],(function(i){var r=null!=e[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var i=n.childOfName("pageText"),r=t.get("pageFormatter"),o=e.pageIndex,a=null!=o?o+1:0,s=e.pageCount;i&&r&&i.setStyle("text",at(r)?r.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):r({current:a,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,o=SG[r],a=MG[r],s=this._findTargetItemIndex(e),l=n.children(),u=l[s],h=l.length,c=h?1:0,d={contentPosition:[n.x,n.y],pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return d;var f=y(u);d.contentPosition[r]=-f.s;for(var p=s+1,g=f,m=f,v=null;p<=h;++p)(!(v=y(l[p]))&&m.e>g.s+i||v&&!b(v,g.s))&&(g=m.i>g.i?m:v)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),m=v;for(p=s-1,g=f,m=f,v=null;p>=-1;--p)(v=y(l[p]))&&b(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+i}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===t&&(e=r)})),null!=e?e:n):0;var e,n},e.type="legend.scroll",e}(mG),TG=AG;function kG(t){lw(bG),t.registerComponentModel(_G),t.registerComponentView(TG),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}(t)}var RG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="dataZoom.inside",e.defaultOption=Rh(Uz.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Uz),IG=RG,PG=ma();function EG(t,e,n){PG(t).coordSysRecordMap.each((function(t){var i=t.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)}))}function BG(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function LG(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function DG(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}function OG(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=PG(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=It());i.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){Y(jz(t).infoList,(function(n){var r=n.model.uid,o=i.get(r)||i.set(r,function(t,e){var n={model:e,containsPoint:it(DG,e),dispatchAction:it(LG,t),dataZoomInfoMap:null,controller:null},i=n.controller=new vk(t.getZr());return Y(["pan","zoom","scrollMove"],(function(t){i.on(t,(function(e){var i=[];n.dataZoomInfoMap.each((function(r){if(e.isAvailableBehavior(r.model.option)){var o=(r.getRange||{})[t],a=o&&o(r.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!r.model.get("disabled",!0)&&a&&i.push({dataZoomId:r.model.id,start:a[0],end:a[1]})}})),i.length&&n.dispatchAction(i)}))})),n}(e,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=It())).set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),i.each((function(t){var e,n=t.controller,r=t.dataZoomInfoMap;if(r){var o=r.keys()[0];null!=o&&(e=r.get(o))}if(e){var a=function(t){var e,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return t.each((function(t){var o=t.model,a=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");i[n+a]>i[n+e]&&(e=a),r=r&&o.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(r);n.enable(a.controlType,a.opt),n.setPointerChecker(t.containsPoint),tv(t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else BG(i,t)}))}))}var FG=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return(0,g.ZT)(e,t),e.prototype.render=function(e,n,i){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),EG(i,e,{pan:nt(HG.pan,this),zoom:nt(HG.zoom,this),scrollMove:nt(HG.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){!function(t,e){for(var n=PG(t).coordSysRecordMap,i=n.keys(),r=0;r<i.length;r++){var o=i[r],a=n.get(o),s=a.dataZoomInfoMap;if(s){var l=e.uid;s.get(l)&&(s.removeKey(l),s.keys().length||BG(n,a))}}}(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Yz),HG={zoom:function(t,e,n,i){var r=this.range,o=r.slice(),a=t.axisModels[0];if(a){var s=zG[e](null,[i.originX,i.originY],a,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return CB(0,o,[0,100],0,h.minSpan,h.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:NG((function(t,e,n,i,r,o){var a=zG[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength})),scrollMove:NG((function(t,e,n,i,r,o){return zG[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,n).signal*(t[1]-t[0])*o.scrollDelta}))};function NG(t){return function(e,n,i,r){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s)return CB(t(a,s,e,n,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var zG={grid:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},WG=FG;function jG(t){oW(t),t.registerComponentModel(IG),t.registerComponentView(WG),OG(t)}var VG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Rh(Uz.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Uz),GG=VG,ZG=Al,UG="horizontal",KG="vertical",$G=["line","bar","candlestick","scatter"],XG={easing:"cubicOut",duration:100,delay:0},YG=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=nt(this._onBrush,this),this._onBrushEnd=nt(this._onBrushEnd,this)},e.prototype.render=function(e,n,i,r){if(t.prototype.render.apply(this,arguments),tv(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){ev(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new mo;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect")?7:0,i=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},o=this._orient===UG?{right:r.width-i.x-i.width,top:r.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=Dc(t.option);Y(["right","top","width","height"],(function(t){"ph"===a[t]&&(a[t]=o[t])}));var s=Pc(a,r);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===KG&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==UG||r?n===UG&&r?{scaleY:a?1:-1,scaleX:-1}:n!==KG||r?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=t.getBoundingRect([o]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new ZG({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var r=new ZG({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:nt(this._onClickPanel,this)}),o=this.api.getZr();i?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(r)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],i=t.series,r=i.getRawData(),o=i.getShadowDim&&i.getShadowDim(),a=o&&r.getDimensionInfo(o)?i.getShadowDim():t.otherDim;if(null!=a){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(r!==this._shadowData||a!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var u=r.getDataExtent(a),h=.3*(u[1]-u[0]);u=[u[0]-h,u[1]+h];var c,d=[0,e[1]],f=[0,e[0]],p=[[e[0],0],[0,0]],g=[],m=f[1]/(r.count()-1),v=0,y=Math.round(r.count()/e[0]);r.each([a],(function(t,e){if(y>0&&e%y)v+=m;else{var n=null==t||isNaN(t)||""===t,i=n?0:Io(t,u,d,!0);n&&!c&&e?(p.push([p[p.length-1][0],0]),g.push([g[g.length-1][0],0])):!n&&c&&(p.push([v,0]),g.push([v,0])),p.push([v,i]),g.push([v,i]),v+=m,c=n}})),s=this._shadowPolygonPts=p,l=this._shadowPolylinePts=g}this._shadowData=r,this._shadowDim=a,this._shadowSize=[e[0],e[1]];for(var b=this.dataZoomModel,w=0;w<3;w++){var x=_(1===w);this._displayables.sliderGroup.add(x),this._displayables.dataShadowSegs.push(x)}}}function _(t){var e=b.getModel(t?"selectedDataBackground":"dataBackground"),n=new mo,i=new Dg({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),r=new Hg({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(r),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,i=this.ecModel;return t.eachTargetAxis((function(r,o){Y(t.getAxisProxy(r,o).getTargetSeriesModels(),(function(t){if(!(n||!0!==e&&U($G,t.get("type"))<0)){var a,s=i.getComponent(zz(r),o).axis,l=function(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}(r),u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(a=u.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:r,otherDim:l,otherAxisInverse:a}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],i=e.handleLabels=[null,null],r=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,l=a.get("borderRadius")||0,u=a.get("brushSelect"),h=e.filler=new ZG({silent:u,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});r.add(h),r.add(new ZG({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Y([0,1],(function(e){var o=a.get("handleIcon");!ny[o]&&o.indexOf("path://")<0&&o.indexOf("image://")<0&&(o="path://"+o);var s=oy(o,-1,0,2,2,null,!0);s.attr({cursor:qG(this._orient),draggable:!0,drift:nt(this._onDragMove,this,e),ondragend:nt(this._onDragEnd,this),onmouseover:nt(this._showDataInfo,this,!0),onmouseout:nt(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),u=a.get("handleSize");this._handleHeight=Po(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),Pu(s);var h=a.get("handleColor");null!=h&&(s.style.fill=h),r.add(n[e]=s);var c=a.getModel("textStyle");t.add(i[e]=new jl({silent:!0,invisible:!0,style:nh(c,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:c.getTextColor(),font:c.getFont()}),z2:10}))}),this);var c=h;if(u){var d=Po(a.get("moveHandleSize"),o[1]),f=e.moveHandle=new Al({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:d}}),p=.8*d,g=e.moveHandleIcon=oy(a.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",!0);g.silent=!0,g.y=o[1]+d/2-.5,f.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(o[1]/2,Math.max(d,10));(c=e.moveZone=new Al({invisible:!0,shape:{y:o[1]-m,height:d+m}})).on("mouseover",(function(){s.enterEmphasis(f)})).on("mouseout",(function(){s.leaveEmphasis(f)})),r.add(f),r.add(g),r.add(c)}c.attr({draggable:!0,cursor:qG(this._orient),drift:nt(this._onDragMove,this,"all"),ondragstart:nt(this._showDataInfo,this,!0),ondragend:nt(this._onDragEnd,this),onmouseover:nt(this._showDataInfo,this,!0),onmouseout:nt(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Io(t[0],[0,100],e,!0),Io(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];CB(e,i,r,n.get("zoomLock")?"all":t,null!=o.minSpan?Io(o.minSpan,a,r,!0):null,null!=o.maxSpan?Io(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=Bo([Io(i[0],r,a,!0),Io(i[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,i=Bo(n.slice()),r=this._size;Y([0,1],(function(t){var i=e.handles[t],o=this._handleHeight;i.attr({scaleX:o/2,scaleY:o/2,x:n[t]+(t?-1:1),y:r[1]/2-o/2})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]});var o={x:i[0],width:i[1]-i[0]};e.moveHandle&&(e.moveHandle.setShape(o),e.moveZone.setShape(o),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",o.x+o.width/2));for(var a=e.dataShadowSegs,s=[0,i[0],i[1],r[0]],l=0;l<a.length;l++){var u=a[l],h=u.getClipPath();h||(h=new Al,u.setClipPath(h)),h.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,o=["",""];if(e.get("showDetail")){var a=e.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,u=t?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var h=Bo(this._handleEnds.slice());function c(t){var e=Tm(n.handles[t].parent,this.group),a=Rm(0===t?"right":"left",e),s=this._handleWidth/2+5,l=km([h[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:r===UG?"middle":a,align:r===UG?a:"center",text:o[t]})}c.call(this,0),c.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(r,20));return ot(i)?i(t,o):at(i)?i.replace("{value}",o):o},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,Pe(i.event);var r=km([e,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(t,r[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval("all",n[0]-r);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new Ue(e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),r=[0,100];this._range=Bo([Io(n.x,i,r,!0),Io(n.x+n.width,i,r,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Pe(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new ZG({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(t,e),l=a.transformCoordToLocal(o.x,o.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),r.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?XG:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=jz(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var i=this.api.getWidth(),r=this.api.getHeight();t={x:.2*i,y:.2*r,width:.6*i,height:.6*r}}return t},e.type="dataZoom.slider",e}(Yz);function qG(t){return"vertical"===t?"ns-resize":"ew-resize"}var JG=YG;function QG(t){t.registerComponentModel(GG),t.registerComponentView(JG),oW(t)}var tZ={get:function(t,e,n){var i=z((eZ[t]||{})[e]);return n&&rt(i)?i[i.length-1]:i}},eZ={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},nZ=tZ,iZ=fP.mapVisual,rZ=fP.eachVisual,oZ=rt,aZ=Y,sZ=Bo,lZ=Io,uZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&Ej(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=nt(t,this),this.controllerVisuals=Pj(this.option.controller,e,t),this.targetVisuals=Pj(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=ra(t),e},e.prototype.eachTargetSeries=function(t,e){Y(this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&t.call(e,i)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var i,r=this.option,o=r.precision,a=this.dataBound,s=r.formatter;n=n||["<",">"],rt(t)&&(t=t.slice(),i=!0);var l=e?t:i?[u(t[0]),u(t[1])]:u(t);return at(s)?s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):ot(s)?i?s(t[0],t[1]):s(t):i?t[0]===a[0]?n[0]+" "+l[1]:t[1]===a[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function u(t){return t===a[0]?"min":t===a[1]?"max":(+t).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,e=sZ([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,i=n.length-1;i>=0;i--){var r=n[i],o=t.getDimensionInfo(r);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),r=e.controller||(e.controller={});W(i,n),W(r,n);var o=this.isCategory();function a(n){oZ(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}a.call(this,i),a.call(this,r),function(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},aZ(i,(function(t,e){if(fP.isValidType(e)){var n=nZ.get(e,"inactive",o);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),r=this.getItemSymbol()||"roundRect";aZ(this.stateList,(function(a){var s=this.itemSize,l=t[a];l||(l=t[a]={color:o?i:[i]}),null==l.symbol&&(l.symbol=e&&z(e)||(o?r:[r])),null==l.symbolSize&&(l.symbolSize=n&&z(n)||(o?s[0]:[s[0],s[0]])),l.symbol=iZ(l.symbol,(function(t){return"none"===t?r:t}));var u=l.symbolSize;if(null!=u){var h=-1/0;rZ(u,(function(t){t>h&&(h=t)})),l.symbolSize=iZ(u,(function(t){return lZ(t,[0,h],[0,s[0]],!0)}))}}),this)}.call(this,r)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Nc),hZ=uZ,cZ=[20,140],dZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=cZ[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=cZ[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):rt(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),Y(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=Bo((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},e.prototype.getVisualMeta=function(t){var e=fZ(this,"outOfRange",this.getExtent()),n=fZ(this,"inRange",this.option.range.slice()),i=[];function r(e,n){i.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,l=e.length;a<l&&(!n.length||e[a]<=n[0]);a++)e[a]<n[o]&&r(e[a],"outOfRange");for(var u=1;o<s;o++,u=0)u&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<e[a])&&(u&&(i.length&&r(i[i.length-1].value,"outOfRange"),u=0),r(e[a],"outOfRange"));var h=i.length;return{stops:i,outerColors:[h?i[0].color:"transparent",h?i[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Rh(hZ.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(hZ);function fZ(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}var pZ=dZ,gZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return(0,g.ZT)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,i):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=mc(e.get("padding")||0),i=t.getBoundingRect();t.add(new Al({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var i=(n=n||{}).forceState,r=this.visualMapModel,o={};if("color"===e){var a=r.get("contentColor");o.color=a}function s(t){return o[t]}function l(t,e){o[t]=e}var u=r.controllerVisuals[i||r.getValueState(t)];return Y(fP.prepareVisualTypes(u),(function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),fP.dependsOn(i,e)&&r&&r.applyVisual(t,s,l)})),o[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;Ec(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,i){},e.type="visualMap",e}(Np),mZ=gZ,vZ=[["left","right","width"],["top","bottom","height"]];function yZ(t,e,n){var i=t.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===i.orient?1:0,s=vZ[a],l=[0,null,10],u={},h=0;h<3;h++)u[vZ[1-a][h]]=l[h],u[s[h]]=2===h?n[0]:i[s[h]];var c=[["x","width",3],["y","height",0]][a],d=Pc(u,o,i.padding);return s[(d.margin[c[2]]||0)+d[c[0]]+.5*d[c[1]]<.5*o[c[1]]?0:1]}function bZ(t,e){return Y(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var wZ=Io,xZ=Y,_Z=Math.min,CZ=Math.max,SZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return(0,g.ZT)(e,t),e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=nt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=nt(this._hideIndicator,this)},e.prototype.doRender=function(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),u=this._applyTransform(0===n?"bottom":"top",s),h=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new jl({style:nh(c,{x:l[0],y:l[1],verticalAlign:"horizontal"===h?"middle":u,align:"horizontal"===h?u:"center",text:i})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,o=this._useHandle,a=yZ(e,this.api,i),s=n.mainGroup=this._createBarGroup(a),l=new mo;s.add(l),l.add(n.outOfRange=MZ()),l.add(n.inRange=MZ(null,o?TZ(this._orient):null,nt(this._dragHandle,this,"all",!1),nt(this._dragHandle,this,"all",!0))),l.setClipPath(new Al({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect(""),h=CZ(u.width,u.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,i,h,r),this._createHandle(e,s,1,i,h,r)),this._createIndicator(e,s,i,h,r),t.add(s)},e.prototype._createHandle=function(t,e,n,i,r,o){var a=nt(this._dragHandle,this,n,!1),s=nt(this._dragHandle,this,n,!0),l=eo(t.get("handleSize"),i[0]),u=oy(t.get("handleIcon"),-l/2,-l/2,l,l,null,!0),h=TZ(this._orient);u.attr({cursor:h,draggable:!0,drift:a,ondragend:s,onmousemove:function(t){Pe(t.event)}}),u.x=i[0]/2,u.useStyle(t.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Fu(u,!0),e.add(u);var c=this.visualMapModel.textStyleModel,d=new jl({cursor:h,draggable:!0,drift:a,onmousemove:function(t){Pe(t.event)},ondragend:s,style:nh(c,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var f=[l,0],p=this._shapes;p.handleThumbs[n]=u,p.handleLabelPoints[n]=f,p.handleLabels[n]=d},e.prototype._createIndicator=function(t,e,n,i,r){var o=eo(t.get("indicatorSize"),n[0]),a=oy(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(a instanceof yl){var l=a.style;a.useStyle(V({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);e.add(a);var u=this.visualMapModel.textStyleModel,h=new jl({silent:!0,invisible:!0,style:nh(u,{x:0,y:0,text:""})});this.group.add(h);var c=[("horizontal"===r?i/2:6)+n[0]/2,0],d=this._shapes;d.indicator=a,d.indicatorLabel=h,d.indicatorLabelPoint=c,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():AZ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[wZ(e[0],n,i,!0),wZ(e[1],n,i,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];CB(e,i,r,t,0);var o=n.getExtent();this._dataInterval=[wZ(i[0],r,o,!0),wZ(i[1],r,o,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},e.prototype._createBarVisual=function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new tm(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<100;r++){var o=t[0]+i*r;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new mo("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,a=i.itemSize,s=i.getExtent();xZ([0,1],(function(l){var u=r[l];u.setStyle("fill",e.handlesColor[l]),u.y=t[l];var h=wZ(t[l],[0,a[1]],s,!0),c=this.getControllerVisual(h,"symbolSize");u.scaleX=u.scaleY=c/a[0],u.x=a[0]-c/2;var d=km(n.handleLabelPoints[l],Tm(u,this.group));o[l].setStyle({x:d[0],y:d[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var h=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),c=this.getControllerVisual(t,"symbolSize"),d=wZ(t,o,s,!0),f=a[0]-c/2,p={x:u.x,y:u.y};u.y=d,u.x=f;var g=km(l.indicatorLabelPoint,Tm(u,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;m.setStyle({text:(n||"")+r.formatValueText(e),verticalAlign:y?v:"middle",align:y?"center":v});var b={x:f,y:d,style:{fill:h}},w={style:{x:g[0],y:g[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var x={duration:100,easing:"cubicInOut",additive:!0};u.x=p.x,u.y=p.y,u.animateTo(b,x),m.animateTo(w,x)}else u.attr(b),m.attr(w);this._firstShowIndicator=!1;var _=this._shapes.handleLabels;if(_)for(var C=0;C<_.length;C++)this.api.enterBlur(_[C])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);i[1]=_Z(CZ(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=_Z(CZ(r[0],t),r[1]);var a=function(t,e,n){var i=6,r=t.get("hoverLinkDataSize");r&&(i=wZ(r,e,n,!0)/2);return i}(n,o,r),s=[t-a,t+a],l=wZ(t,r,o,!0),u=[wZ(s[0],r,o,!0),wZ(s[1],r,o,!0)];s[0]<r[0]&&(u[0]=-1/0),s[1]>r[1]&&(u[1]=1/0),e&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l," ",a));var h=this._hoverLinkDataIndices,c=[];(e||AZ(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var d=function(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[o(n),o(i)];function r(t,e,n){for(var i=0,r=t.length;i<r;i++){var o=da(t[i].seriesId,null);if(null==o)return;for(var a=ra(t[i].dataIndex),s=n&&n[o],l=0,u=a.length;l<u;l++){var h=a[l];s&&s[h]?s[h]=null:(e[o]||(e[o]={}))[h]=1}}}function o(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var r=o(t[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}(h,c);this._dispatchHighDown("downplay",bZ(d[0],n)),this._dispatchHighDown("highlight",bZ(d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if(Uv(t.target,(function(t){var n=Vl(t);if(null!=n.dataIndex)return e=n,!0}),!0),e){var n=this.ecModel.getSeriesByIndex(e.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(n)){var r=n.getData(e.dataType),o=r.getStore().get(i.getDataDimensionIndex(r),e.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this.api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bZ(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,i){var r=Tm(e,i?null:this.group);return rt(t)?km(t,r,n):Rm(t,r,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(mZ);function MZ(t,e,n,i){return new Dg({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){Pe(t.event)},ondragend:i})}function AZ(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function TZ(t){return"vertical"===t?"ns-resize":"ew-resize"}var kZ=SZ,RZ={type:"selectDataRange",event:"dataRangeSelected",update:"update"},IZ=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},PZ=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var i,r,o,a,s,l=t.pipelineContext;!e.isTargetSeries(t)||l&&l.large||n.push((i=e.stateList,r=e.targetVisuals,o=nt(e.getValueState,e),a=e.getDataDimensionIndex(t.getData()),s={},Y(i,(function(t){var e=fP.prepareVisualTypes(r[t]);s[t]=e})),{progress:function(t,e){var n,i;function l(t){return Wv(e,i,t)}function u(t,n){Vv(e,i,t,n)}null!=a&&(n=e.getDimensionIndex(a));for(var h=e.getStore();null!=(i=t.next());){var c=e.getRawDataItem(i);if(!c||!1!==c.visualMap)for(var d=null!=a?h.get(n,i):i,f=o(d),p=r[f],g=s[f],m=0,v=g.length;m<v;m++){var y=g[m];p[y]&&p[y].applyVisual(d,l,u)}}}}))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(nt(EZ,null,t,e))||{stops:[],outerColors:[]},o=e.getDataDimensionIndex(n);o>=0&&(r.dimension=o,i.push(r))}})),t.getData().setVisual("visualMeta",i)}}];function EZ(t,e,n,i){for(var r=e.targetVisuals[i],o=fP.prepareVisualTypes(r),a={color:jv(t.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],h=r["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(n,c,d)}return a.color;function c(t){return a[t]}function d(t,e){a[t]=e}}var BZ=Y;function LZ(t){var e=t&&t.visualMap;rt(e)||(e=e?[e]:[]),BZ(e,(function(t){if(t){DZ(t,"splitList")&&!DZ(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&rt(e)&&BZ(e,(function(t){ut(t)&&(DZ(t,"start")&&!DZ(t,"min")&&(t.min=t.start),DZ(t,"end")&&!DZ(t,"max")&&(t.max=t.end))}))}}))}function DZ(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var OZ=!1;function FZ(t){OZ||(OZ=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(RZ,IZ),Y(PZ,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(LZ))}function HZ(t){t.registerComponentModel(pZ),t.registerComponentView(kZ),FZ(t)}var NZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return(0,g.ZT)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],zZ[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual((function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=z(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=q(this._pieceList,(function(t){return t=z(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},i=fP.listVisualTypes(),r=this.isCategory();function o(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}Y(e.pieces,(function(t){Y(i,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),Y(n,(function(t,n){var i=!1;Y(this.stateList,(function(t){i=i||o(e,t,n)||o(e.target,t,n)}),this),!i&&Y(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=nZ.get(n,"inRange"===t?"active":"inactive",r)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,Y(i,(function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var o=!1;Y(i,(function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(o?r[n]=!1:o=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=z(t)},e.prototype.getValueState=function(t){var e=fP.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(i){var r=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(e,i){fP.findPieceIndex(e,n)===t&&r.push(i)}),this),e.push({seriesId:i.id,dataIndex:r})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],i=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return Y(r,(function(t){var e=t.interval;e&&(e[0]>a&&s([a,e[0]],"outOfRange"),s(e.slice()),a=e[1])}),this),{stops:e,outerColors:n}}function s(r,o){var a=i.getRepresentValue({interval:r});o||(o=i.getValueState(a));var s=t(a,o);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:e.push({value:r[0],color:s},{value:r[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=Rh(hZ.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(hZ),zZ={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++){var l=a===r-1?i[1]:s+o;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Xo(t),Y(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;Y(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),WZ(e,t)},pieces:function(t){var e=this.option;Y(e.pieces,(function(e,n){ut(e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],h=0;h<2;h++){for(var c=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&null==o[h];d++)o[h]=e[c[d]],a[h]=s[d],u[h]=2===d;null==o[h]&&(o[h]=l[h])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=fP.retrieveVisuals(e),t.push(i)}),this),WZ(e,t),Xo(t),Y(t,(function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function WZ(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var jZ=NZ,VZ=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,g.ZT)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),i=e.textStyleModel,r=i.getFont(),o=i.getTextColor(),a=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),u=l.endsText,h=vt(e.get("showLabel",!0),!u);u&&this._renderEndsText(t,u[0],s,h,a),Y(l.viewPieceList,(function(i){var l=i.piece,u=new mo;u.onclick=nt(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var c=e.getRepresentValue(l);if(this._createItemSymbol(u,c,[0,0,s[0],s[1]]),h){var d=this.visualMapModel.getValueState(c);u.add(new jl({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:r,fill:o,opacity:"outOfRange"===d?.5:1}}))}t.add(u)}),this),u&&this._renderEndsText(t,u[1],s,h,a),Ic(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:bZ(i.findTargetDataIndices(e),i)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return yZ(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,i,r){if(e){var o=new mo,a=this.visualMapModel.textStyleModel;o.add(new jl({style:nh(a,{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:e})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=q(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),i=t.get("orient"),r=t.get("inverse");return("horizontal"===i?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(oy(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,i=n.selectedMode;if(i){var r=z(n.selected),o=e.getSelectedMapKey(t);"single"===i||!0===i?(r[o]=!0,Y(r,(function(t,e){r[e]=e===o}))):r[o]=!r[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}},e.type="visualMap.piecewise",e}(mZ),GZ=VZ;function ZZ(t){t.registerComponentModel(jZ),t.registerComponentView(GZ),FZ(t)}var UZ={label:{enabled:!0},decal:{show:!1}},KZ=ma(),$Z={};function XZ(t,e){var n=t.getModel("aria");if(n.get("enabled")){var i=z(UZ);W(i.label,t.getLocaleModel().get("aria"),!1),W(n.option,i,!1),function(){if(n.getModel("decal").get("show")){var e=It();t.eachSeries((function(t){if(!t.isColorBySeries()){var n=e.get(t.type);n||(n={},e.set(t.type,n)),KZ(t).scope=n}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if(ot(e.enableAriaDecal))e.enableAriaDecal();else{var n=e.getData();if(e.isColorBySeries()){var i=pd(e.ecModel,e.name,$Z,t.getSeriesCount()),r=n.getVisual("decal");n.setVisual("decal",u(r,i))}else{var o=e.getRawData(),a={},s=KZ(e).scope;n.each((function(t){var e=n.getRawIndex(t);a[e]=t}));var l=o.count();o.each((function(t){var i=a[t],r=o.getName(t)||t+"",h=pd(e.ecModel,r,s,l),c=n.getItemVisual(i,"decal");n.setItemVisual(i,"decal",u(c,h))}))}}function u(t,e){var n=t?V(V({},e),t):e;return n.dirty=!0,n}}))}}(),function(){var i=t.getLocaleModel().get("aria"),o=n.getModel("label");if(o.option=G(o.option,i),!o.get("enabled"))return;var a=e.getZr().dom;if(o.get("description"))return void a.setAttribute("aria-label",o.get("description"));var s,l=t.getSeriesCount(),u=o.get(["data","maxCount"])||10,h=o.get(["series","maxCount"])||10,c=Math.min(l,h);if(l<1)return;var d=function(){var e=t.get("title");e&&e.length&&(e=e[0]);return e&&e.text}();s=d?r(o.get(["general","withTitle"]),{title:d}):o.get(["general","withoutTitle"]);var f=[];s+=r(l>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]),{seriesCount:l}),t.eachSeries((function(e,n){if(n<c){var i=void 0,a=e.get("name")?"withName":"withoutName";i=r(i=l>1?o.get(["series","multiple",a]):o.get(["series","single",a]),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(b=e.subType,w=t.getLocaleModel().get(["series","typeNames"]),w[b]||w.chart)});var s=e.getData();if(s.count()>u)i+=r(o.get(["data","partialData"]),{displayCnt:u});else i+=o.get(["data","allData"]);for(var h=o.get(["data","separator","middle"]),d=o.get(["data","separator","end"]),p=[],g=0;g<s.count();g++)if(g<u){var m=s.getName(g),v=s.getValues(g),y=o.get(["data",m?"withName":"withoutName"]);p.push(r(y,{name:m,value:v.join(h)}))}i+=p.join(h)+d,f.push(i)}var b,w}));var p=o.getModel(["series","multiple","separator"]),g=p.get("middle"),m=p.get("end");s+=f.join(g)+m,a.setAttribute("aria-label",s)}()}function r(t,e){if(!at(t))return t;var n=t;return Y(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}}function YZ(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},Y(["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}var qZ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},JZ=function(){function t(t){if(null==(this._condVal=at(t)?new RegExp(t):gt(t)?t:null)){0,Pf("")}}return t.prototype.evaluate=function(t){var e=typeof t;return at(e)?this._condVal.test(t):!!lt(e)&&this._condVal.test(t+"")},t}(),QZ=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),tU=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),eU=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),nU=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),iU=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:e))return!1;return!0},t}();function rU(t,e){if(!0===t||!1===t){var n=new QZ;return n.value=t,n}return aU(t)||Pf(""),t.and?oU("and",t,e):t.or?oU("or",t,e):t.not?function(t,e){var n=t.not,i="";0;aU(n)||Pf(i);var r=new nU;r.child=rU(n,e),r.child||Pf(i);return r}(t,e):function(t,e){for(var n="",i=e.prepareGetValue(t),r=[],o=et(t),a=t.parser,s=a?Lf(a):null,l=0;l<o.length;l++){var u=o[l];if("parser"!==u&&!e.valueGetterAttrMap.get(u)){var h=Lt(qZ,u)?qZ[u]:u,c=t[u],d=s?s(c):c,f=Nf(h,d)||"reg"===h&&new JZ(d);f||Pf(n),r.push(f)}}r.length||Pf(n);var p=new iU;return p.valueGetterParam=i,p.valueParser=s,p.getValue=e.getValue,p.subCondList=r,p}(t,e)}function oU(t,e,n){var i=e[t];rt(i)||Pf(""),i.length||Pf("");var r="and"===t?new tU:new eU;return r.children=q(i,(function(t){return rU(t,n)})),r.children.length||Pf(""),r}function aU(t){return ut(t)&&!X(t)}var sU=function(){function t(t,e){this._cond=rU(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();var lU={type:"echarts:filter",transform:function(t){for(var e,n,i,r=t.upstream,o=(n=t.config,i={valueGetterAttrMap:It({dimension:!0}),prepareGetValue:function(t){var e=t.dimension;Lt(t,"dimension")||Pf("");var n=r.getDimensionInfo(e);return n||Pf(""),{dimIdx:n.index}},getValue:function(t){return r.retrieveValueFromItem(e,t.dimIdx)}},new sU(n,i)),a=[],s=0,l=r.count();s<l;s++)e=r.getRawDataItem(s),o.evaluate()&&a.push(e);return{data:a}}};var uU={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,i="",r=ra(n);r.length||Pf(i);var o=[];Y(r,(function(t){var n=t.dimension,r=t.order,a=t.parser,s=t.incomparable;if(null==n&&Pf(i),"asc"!==r&&"desc"!==r&&Pf(i),s&&"min"!==s&&"max"!==s){0,Pf("")}if("asc"!==r&&"desc"!==r){0,Pf("")}var l=e.getDimensionInfo(n);l||Pf(i);var u=a?Lf(a):null;a&&!u&&Pf(i),o.push({dimIdx:l.index,parser:u,comparator:new Ff(r,s)})}));var a=e.sourceFormat;a!==Zc&&a!==Uc&&Pf(i);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,n){for(var i=0;i<o.length;i++){var r=o[i],a=e.retrieveValueFromItem(t,r.dimIdx),s=e.retrieveValueFromItem(n,r.dimIdx);r.parser&&(a=r.parser(a),s=r.parser(s));var l=r.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}};var hU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,g.ZT)(e,t),e.prototype.init=function(e,n,i){t.prototype.init.call(this,e,n,i),this._sourceManager=new op(this),ap(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),ap(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Yc},e}(Nc),cU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,g.ZT)(e,t),e.type="dataset",e}(Np);var dU=Gs.CMD;function fU(t,e){return Math.abs(t-e)<1e-5}function pU(t){var e,n,i,r,o,a=t.data,s=t.len(),l=[],u=0,h=0,c=0,d=0;function f(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function p(t,n,i,r){fU(t,i)&&fU(n,r)||e.push(t,n,i,r,i,r)}function g(t,n,i,r,o,a){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,u=n<t?-1:1,h=Math.cos(t),c=Math.sin(t),d=Math.cos(n),f=Math.sin(n),p=h*o+i,g=c*a+r,m=d*o+i,v=f*a+r,y=o*l*u,b=a*l*u;e.push(p-y*c,g+b*h,m+y*f,v-b*d,m,v)}for(var m=0;m<s;){var v=a[m++],y=1===m;switch(y&&(c=u=a[m],d=h=a[m+1],v!==dU.L&&v!==dU.C&&v!==dU.Q||(e=[c,d])),v){case dU.M:u=c=a[m++],h=d=a[m++],f(c,d);break;case dU.L:p(u,h,n=a[m++],i=a[m++]),u=n,h=i;break;case dU.C:e.push(a[m++],a[m++],a[m++],a[m++],u=a[m++],h=a[m++]);break;case dU.Q:n=a[m++],i=a[m++],r=a[m++],o=a[m++],e.push(u+2/3*(n-u),h+2/3*(i-h),r+2/3*(n-r),o+2/3*(i-o),r,o),u=r,h=o;break;case dU.A:var b=a[m++],w=a[m++],x=a[m++],_=a[m++],C=a[m++],S=a[m++]+C;m+=1;var M=!a[m++];n=Math.cos(C)*x+b,i=Math.sin(C)*_+w,y?f(c=n,d=i):p(u,h,n,i),u=Math.cos(S)*x+b,h=Math.sin(S)*_+w;for(var A=(M?-1:1)*Math.PI/2,T=C;M?T>S:T<S;T+=A){g(T,M?Math.max(T+A,S):Math.min(T+A,S),b,w,x,_)}break;case dU.R:c=u=a[m++],d=h=a[m++],n=c+a[m++],i=d+a[m++],f(n,d),p(n,d,n,i),p(n,i,c,i),p(c,i,c,d),p(c,d,n,d);break;case dU.Z:e&&p(u,h,c,d),u=c,h=d}}return e&&e.length>2&&l.push(e),l}function gU(t,e,n,i,r,o,a,s,l,u){if(fU(t,n)&&fU(e,i)&&fU(r,a)&&fU(o,s))l.push(a,s);else{var h=2/u,c=h*h,d=a-t,f=s-e,p=Math.sqrt(d*d+f*f);d/=p,f/=p;var g=n-t,m=i-e,v=r-a,y=o-s,b=g*g+m*m,w=v*v+y*y;if(b<c&&w<c)l.push(a,s);else{var x=d*g+f*m,_=-d*v-f*y;if(b-x*x<c&&x>=0&&w-_*_<c&&_>=0)l.push(a,s);else{var C=[],S=[];Gn(t,n,r,a,.5,C),Gn(e,i,o,s,.5,S),gU(C[0],S[0],C[1],S[1],C[2],S[2],C[3],S[3],l,u),gU(C[4],S[4],C[5],S[5],C[6],S[6],C[7],S[7],l,u)}}}}function mU(t,e,n){var i=t[e],r=t[1-e],o=Math.abs(i/r),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var l=[],u=0;u<a;u++)l.push(s);var h=n-a*s;if(h>0)for(u=0;u<h;u++)l[u%a]+=1;return l}function vU(t,e,n){for(var i=t.r0,r=t.r,o=t.startAngle,a=t.endAngle,s=Math.abs(a-o),l=s*r,u=r-i,h=l>Math.abs(u),c=mU([l,u],h?0:1,e),d=(h?s:u)/c.length,f=0;f<c.length;f++)for(var p=(h?u:s)/c[f],g=0;g<c[f];g++){var m={};h?(m.startAngle=o+d*f,m.endAngle=o+d*(f+1),m.r0=i+p*g,m.r=i+p*(g+1)):(m.startAngle=o+p*g,m.endAngle=o+p*(g+1),m.r0=i+d*f,m.r=i+d*(f+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,n.push(m)}}function yU(t,e,n,i){return t*i-n*e}function bU(t,e,n,i,r,o,a,s){var l=n-t,u=i-e,h=a-r,c=s-o,d=yU(h,c,l,u);if(Math.abs(d)<1e-6)return null;var f=yU(t-r,e-o,h,c)/d;return f<0||f>1?null:new Ue(f*l+t,f*u+e)}function wU(t,e,n){var i=new Ue;Ue.sub(i,n,e),i.normalize();var r=new Ue;return Ue.sub(r,t,e),r.dot(i)}function xU(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function _U(t){var e=t.points,n=[],i=[];ys(e,n,i);var r=new nn(n[0],n[1],i[0]-n[0],i[1]-n[1]),o=r.width,a=r.height,s=r.x,l=r.y,u=new Ue,h=new Ue;return o>a?(u.x=h.x=s+o/2,u.y=l,h.y=l+a):(u.y=h.y=l+a/2,u.x=s,h.x=s+o),function(t,e,n){for(var i=t.length,r=[],o=0;o<i;o++){var a=t[o],s=t[(o+1)%i],l=bU(a[0],a[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&r.push({projPt:wU(l,e,n),pt:l,idx:o})}if(r.length<2)return[{points:t},{points:t}];r.sort((function(t,e){return t.projPt-e.projPt}));var u=r[0],h=r[r.length-1];if(h.idx<u.idx){var c=u;u=h,h=c}var d=[u.pt.x,u.pt.y],f=[h.pt.x,h.pt.y],p=[d],g=[f];for(o=u.idx+1;o<=h.idx;o++)xU(p,t[o].slice());for(xU(p,f),xU(p,d),o=h.idx+1;o<=u.idx+i;o++)xU(g,t[o%i].slice());return xU(g,d),xU(g,f),[{points:p},{points:g}]}(e,u,h)}function CU(t,e,n,i){if(1===n)i.push(e);else{var r=Math.floor(n/2),o=t(e);CU(t,o[0],r,i),CU(t,o[1],n-r,i)}return i}function SU(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function MU(t,e){var n,i=[],r=t.shape;switch(t.type){case"rect":!function(t,e,n){for(var i=t.width,r=t.height,o=i>r,a=mU([i,r],o?0:1,e),s=o?"width":"height",l=o?"height":"width",u=o?"x":"y",h=o?"y":"x",c=t[s]/a.length,d=0;d<a.length;d++)for(var f=t[l]/a[d],p=0;p<a[d];p++){var g={};g[u]=d*c,g[h]=p*f,g[s]=c,g[l]=f,g.x+=t.x,g.y+=t.y,n.push(g)}}(r,e,i),n=Al;break;case"sector":vU(r,e,i),n=kg;break;case"circle":vU({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},e,i),n=kg;break;default:var o=t.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=q(function(t,e){var n=pU(t),i=[];e=e||1;for(var r=0;r<n.length;r++){var o=n[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var u=2;u<o.length;){var h=o[u++],c=o[u++],d=o[u++],f=o[u++],p=o[u++],g=o[u++];gU(s,l,h,c,d,f,p,g,a,e),s=p,l=g}i.push(a)}return i}(t.getUpdatedPathProxy(),a),(function(t){return function(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}(t)})),l=s.length;if(0===l)CU(_U,{points:s[0]},e,i);else if(l===e)for(var u=0;u<l;u++)i.push({points:s[u]});else{var h=0,c=q(s,(function(t){var e=[],n=[];ys(t,e,n);var i=(n[1]-e[1])*(n[0]-e[0]);return h+=i,{poly:t,area:i}}));c.sort((function(t,e){return e.area-t.area}));var d=e;for(u=0;u<l;u++){var f=c[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(f.area/h*e);p<0||(CU(_U,{points:f.poly},p,i),d-=p)}}n=Dg}if(!n)return function(t,e){for(var n=[],i=0;i<e;i++)n.push(ag(t));return n}(t,e);var g=[];for(u=0;u<i.length;u++){var m=new n;m.setShape(i[u]),SU(t,m),g.push(m)}return g}function AU(t,e){var n=t.length,i=e.length;if(n===i)return[t,e];for(var r=[],o=[],a=n<i?t:e,s=Math.min(n,i),l=Math.abs(i-n)/6,u=(s-2)/6,h=Math.ceil(l/u)+1,c=[a[0],a[1]],d=l,f=2;f<s;){var p=a[f-2],g=a[f-1],m=a[f++],v=a[f++],y=a[f++],b=a[f++],w=a[f++],x=a[f++];if(d<=0)c.push(m,v,y,b,w,x);else{for(var _=Math.min(d,h-1)+1,C=1;C<=_;C++){var S=C/_;Gn(p,m,y,w,S,r),Gn(g,v,b,x,S,o),p=r[3],g=o[3],c.push(r[1],o[1],r[2],o[2],p,g),m=r[5],v=o[5],y=r[6],b=o[6]}d-=_-1}}return a===t?[c,e]:[t,c]}function TU(t,e){for(var n=t.length,i=t[n-2],r=t[n-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function kU(t){for(var e=0,n=0,i=0,r=t.length,o=0,a=r-2;o<r;a=o,o+=2){var s=t[a],l=t[a+1],u=t[o],h=t[o+1],c=s*h-u*l;e+=c,n+=(s+u)*c,i+=(l+h)*c}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,i/e/3,e]}function RU(t,e,n,i){for(var r=(t.length-2)/6,o=1/0,a=0,s=t.length,l=s-2,u=0;u<r;u++){for(var h=6*u,c=0,d=0;d<s;d+=2){var f=0===d?h:(h+d-2)%l+2,p=t[f]-n[0],g=t[f+1]-n[1],m=e[d]-i[0]-p,v=e[d+1]-i[1]-g;c+=m*m+v*v}c<o&&(o=c,a=u)}return a}function IU(t){for(var e=[],n=t.length,i=0;i<n;i+=2)e[i]=t[n-i-2],e[i+1]=t[n-i-1];return e}function PU(t){return t.__isCombineMorphing}var EU="__mOriginal_";function BU(t,e,n){var i=EU+e,r=t[i]||t[e];t[i]||(t[i]=t[e]);var o=n.replace,a=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=o?o.apply(this,e):r.apply(this,e),a&&a.apply(this,e),t}}function LU(t,e){var n=EU+e;t[n]&&(t[e]=t[n],t[n]=null)}function DU(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function OU(t,e){var n=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function(t,e){for(var n,i,r,o=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],h=void 0,c=void 0;l?u?(i=h=(n=AU(l,u))[0],r=c=n[1]):(c=TU(r||l,l),h=l):(h=TU(i||u,u),c=u),o.push(h),a.push(c)}return[o,a]}(pU(n),pU(i)),o=r[0],a=r[1],s=t.getComputedTransform(),l=e.getComputedTransform();s&&DU(o,s),l&&DU(a,l),BU(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var u=function(t,e,n,i){for(var r,o=[],a=0;a<t.length;a++){var s=t[a],l=e[a],u=kU(s),h=kU(l);null==r&&(r=u[2]<0!=h[2]<0);var c=[],d=[],f=0,p=1/0,g=[],m=s.length;r&&(s=IU(s));for(var v=6*RU(s,l,u,h),y=m-2,b=0;b<y;b+=2){var w=(v+b)%y+2;c[b+2]=s[w]-u[0],c[b+3]=s[w+1]-u[1]}if(c[0]=s[v]-u[0],c[1]=s[v+1]-u[1],n>0)for(var x=i/n,_=-i/2;_<=i/2;_+=x){var C=Math.sin(_),S=Math.cos(_),M=0;for(b=0;b<s.length;b+=2){var A=c[b],T=c[b+1],k=l[b]-h[0],R=l[b+1]-h[1],I=k*S-R*C,P=k*C+R*S;g[b]=I,g[b+1]=P;var E=I-A,B=P-T;M+=E*E+B*B}if(M<p){p=M,f=_;for(var L=0;L<g.length;L++)d[L]=g[L]}}else for(var D=0;D<m;D+=2)d[D]=l[D]-h[0],d[D+1]=l[D+1]-h[1];o.push({from:c,to:d,fromCp:u,toCp:h,rotation:-f})}return o}(o,a,10,Math.PI),h=[];BU(e,"buildPath",{replace:function(t){for(var n=e.__morphT,i=1-n,r=[],o=0;o<u.length;o++){var a=u[o],s=a.from,l=a.to,c=a.rotation*n,d=a.fromCp,f=a.toCp,p=Math.sin(c),g=Math.cos(c);re(r,d,f,n);for(var m=0;m<s.length;m+=2){var v=s[m],y=s[m+1],b=v*i+(C=l[m])*n,w=y*i+(S=l[m+1])*n;h[m]=b*g-w*p+r[0],h[m+1]=b*p+w*g+r[1]}var x=h[0],_=h[1];t.moveTo(x,_);for(m=2;m<s.length;){var C=h[m++],S=h[m++],M=h[m++],A=h[m++],T=h[m++],k=h[m++];x===C&&_===S&&M===T&&A===k?t.lineTo(T,k):t.bezierCurveTo(C,S,M,A,T,k),x=T,_=k}}}})}function FU(t,e,n){if(!t||!e)return e;var i=n.done,r=n.during;return OU(t,e),e.__morphT=0,e.animateTo({__morphT:1},G({during:function(t){e.dirtyShape(),r&&r(t)},done:function(){LU(e,"buildPath"),LU(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},n)),e}function HU(t,e,n,i,r,o){t=r===n?0:Math.round(32767*(t-n)/(r-n)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var u=0,h=0;(t&l)>0&&(u=1),(e&l)>0&&(h=1),s+=l*l*(3*u^h),0===h&&(1===u&&(t=l-1-t,e=l-1-e),a=t,t=e,e=a)}return s}function NU(t){var e=1/0,n=1/0,i=-1/0,r=-1/0,o=q(t,(function(t){var o=t.getBoundingRect(),a=t.getComputedTransform(),s=o.x+o.width/2+(a?a[4]:0),l=o.y+o.height/2+(a?a[5]:0);return e=Math.min(s,e),n=Math.min(l,n),i=Math.max(s,i),r=Math.max(l,r),[s,l]}));return q(o,(function(o,a){return{cp:o,z:HU(o[0],o[1],e,n,i,r),path:t[a]}})).sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function zU(t){return MU(t.path,t.count)}function WU(t){return rt(t[0])}function jU(t,e){for(var n=[],i=t.length,r=0;r<i;r++)n.push({one:t[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,a=void 0;for(a=0;a<o;a++)n[a%i].many.push(e[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!n[r].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}o=l.length;var u=Math.ceil(o/2);n[r].many=l.slice(u,o),n[s].many=l.slice(0,u),s++}return n}var VU={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var r=ag(t.path);r.setStyle("opacity",n),e.push(r)}return e},split:null};function GU(t,e,n,i,r,o){if(t.length&&e.length){var a=ju("update",i,r);if(a&&a.duration>0){var s,l,u=i.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},a);WU(t)&&(s=t,l=e),WU(e)&&(s=e,l=t);for(var c=s?s===t:t.length>e.length,d=s?jU(l,s):jU(c?e:t,[c?t:e]),f=0,p=0;p<d.length;p++)f+=d[p].many.length;var g=0;for(p=0;p<d.length;p++)m(d[p],c,g,f),g+=d[p].many.length}}function m(t,e,i,r,a){var s=t.many,l=t.one;if(1!==s.length||a)for(var c=G({dividePath:VU[n],individualDelay:u&&function(t,e,n,o){return u(t+i,r)}},h),d=e?function(t,e,n){var i=[];!function t(e){for(var n=0;n<e.length;n++){var r=e[n];PU(r)?t(r.childrenRef()):r instanceof cl&&i.push(r)}}(t);var r=i.length;if(!r)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||zU)({path:e,count:r});if(o.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=NU(i),o=NU(o);for(var a=n.done,s=n.during,l=n.individualDelay,u=new Kr,h=0;h<r;h++){var c=i[h],d=o[h];d.parent=e,d.copyTransform(u),l||OU(c,d)}function f(t){for(var e=0;e<o.length;e++)o[e].addSelfToZr(t)}function p(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,LU(e,"addSelfToZr"),LU(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return o},BU(e,"addSelfToZr",{after:function(t){f(t)}}),BU(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<o.length;e++)o[e].removeSelfFromZr(t)}});var g=o.length;if(l){var m=g,v=function(){0==--m&&(p(),a&&a())};for(h=0;h<g;h++){var y=l?G({delay:(n.delay||0)+l(h,g,i[h],o[h]),done:v},n):n;FU(i[h],o[h],y)}}else e.__morphT=0,e.animateTo({__morphT:1},G({during:function(t){for(var n=0;n<g;n++){var i=o[n];i.__morphT=e.__morphT,i.dirtyShape()}s&&s(t)},done:function(){p();for(var e=0;e<t.length;e++)LU(t[e],"updateTransform");a&&a()}},n));return e.__zr&&f(e.__zr),{fromIndividuals:i,toIndividuals:o,count:g}}(s,l,c):function(t,e,n){var i=e.length,r=[],o=n.dividePath||zU;if(PU(t)){!function t(e){for(var n=0;n<e.length;n++){var i=e[n];PU(i)?t(i.childrenRef()):i instanceof cl&&r.push(i)}}(t.childrenRef());var a=r.length;if(a<i)for(var s=0,l=a;l<i;l++)r.push(ag(r[s++%a]));r.length=i}else{r=o({path:t,count:i});var u=t.getComputedTransform();for(l=0;l<r.length;l++)r[l].setLocalTransform(u);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}r=NU(r),e=NU(e);var h=n.individualDelay;for(l=0;l<i;l++){var c=h?G({delay:(n.delay||0)+h(l,i,r[l],e[l])},n):n;FU(r[l],e[l],c)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}(l,s,c),f=d.fromIndividuals,p=d.toIndividuals,g=f.length,v=0;v<g;v++){y=u?G({delay:u(v,g)},h):h;o(f[v],p[v],e?s[v]:t.one,e?t.one:s[v],y)}else{var y,b=e?s[0]:l,w=e?l:s[0];if(PU(b))m({many:[b],one:w},!0,i,r,!0);else FU(b,w,y=u?G({delay:u(i,r)},h):h),o(b,w,b,w,y)}}}function ZU(t){if(!t)return[];if(rt(t)){for(var e=[],n=0;n<t.length;n++)e.push(ZU(t[n]));return e}var i=[];return t.traverse((function(t){t instanceof cl&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)})),i}var UU=ma();function KU(t,e,n,i){var r=function(t,e){for(var n=t.dimensions,i=0;i<n.length;i++){var r=t.getDimensionInfo(n[i]);if(r&&0===r.otherDims[e])return n[i]}}(t,i?"itemChildGroupId":"itemGroupId");if(r){var o=function(t,e,n){var i=t.getDimensionInfo(n),r=i&&i.ordinalMeta;if(i){var o=t.get(i.name,e);return r&&r.categories[o]||o+""}}(t,e,r);return o}var a=t.getRawDataItem(e),s=i?"childGroupId":"groupId";return a&&a[s]?a[s]+"":i?void 0:n||t.getId(e)}function $U(t){var e=[];return Y(t,(function(t){var n=t.data,i=t.dataGroupId;if(!(n.count()>1e4))for(var r=n.getIndices(),o=0;o<r.length;o++)e.push({data:n,groupId:KU(n,o,i,!1),childGroupId:KU(n,o,i,!0),divide:t.divide,dataIndex:o})})),e}function XU(t,e,n){t.traverse((function(t){t instanceof cl&&Zu(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function YU(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function qU(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function JU(t,e,n){var i=ju("update",n,e);i&&t.traverse((function(t){if(t instanceof us){var e=function(t){return Wu(t).oldStyle}(t);e&&t.animateFrom({style:e},i)}}))}function QU(t,e,n){var i=$U(t),r=$U(e);function o(t,e,n,i,r){(n||t)&&e.animateFrom({style:n&&n!==t?V(V({},n.style),t.style):t.style},r)}var a=!1,s=0,l=It(),u=It();i.forEach((function(t){t.groupId&&l.set(t.groupId,!0),t.childGroupId&&u.set(t.childGroupId,!0)}));for(var h=0;h<r.length;h++){var c=r[h].groupId;if(u.get(c)){s=1;break}var d=r[h].childGroupId;if(d&&l.get(d)){s=2;break}}function f(t,e){return function(n){var i=n.data,r=n.dataIndex;return e?i.getId(r):t?1===s?n.childGroupId:n.groupId:2===s?n.childGroupId:n.groupId}}var p=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++){var r=t[i],o=e[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r),g={};if(!p)for(h=0;h<r.length;h++){var m=r[h],v=m.data.getItemGraphicEl(m.dataIndex);v&&(g[v.id]=!0)}function y(t,e){var n=i[e],s=r[t],l=s.data.hostModel,u=n.data.getItemGraphicEl(n.dataIndex),h=s.data.getItemGraphicEl(s.dataIndex);u!==h?u&&g[u.id]||h&&(qU(h),u?(qU(u),YU(u),a=!0,GU(ZU(u),ZU(h),s.divide,l,t,o)):XU(h,l,t)):h&&JU(h,s.dataIndex,l)}new dw(i,r,f(!0,p),f(!1,p),null,"multiple").update(y).updateManyToOne((function(t,e){var n=r[t],s=n.data,l=s.hostModel,u=s.getItemGraphicEl(n.dataIndex),h=Q(q(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==u&&!g[t.id]}));u&&(qU(u),h.length?(Y(h,(function(t){qU(t),YU(t)})),a=!0,GU(ZU(h),ZU(u),n.divide,l,t,o)):XU(u,l,n.dataIndex))})).updateOneToMany((function(t,e){var n=i[e],s=n.data.getItemGraphicEl(n.dataIndex);if(!s||!g[s.id]){var l=Q(q(t,(function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)})),(function(t){return t&&t!==s})),u=r[t[0]].data.hostModel;l.length&&(Y(l,(function(t){return qU(t)})),s?(qU(s),YU(s),a=!0,GU(ZU(s),ZU(l),n.divide,u,t[0],o)):Y(l,(function(e){return XU(e,u,t[0])})))}})).updateManyToMany((function(t,e){new dw(e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return r[t].data.getId(r[t].dataIndex)})).update((function(n,i){y(t[n],e[i])})).execute()})).execute(),a&&Y(e,(function(t){var e=t.data.hostModel,i=e&&n.getViewOfSeriesModel(e),r=ju("update",e,0);i&&e.isAnimationEnabled()&&r&&r.duration>0&&i.group.traverse((function(t){t instanceof cl&&!t.animators.length&&t.animateFrom({style:{opacity:0}},r)}))}))}function tK(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function eK(t){return rt(t)?t.sort().join(","):t}function nK(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function iK(t,e){var n=It(),i=It(),r=It();return Y(t.oldSeries,(function(e,n){var o=t.oldDataGroupIds[n],a=t.oldData[n],s=tK(e),l=eK(s);i.set(l,{dataGroupId:o,data:a}),rt(s)&&Y(s,(function(t){r.set(t,{key:l,dataGroupId:o,data:a})}))})),Y(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId"),o=t.getData(),a=tK(t),s=eK(a),l=i.get(s);if(l)n.set(s,{oldSeries:[{dataGroupId:l.dataGroupId,divide:nK(l.data),data:l.data}],newSeries:[{dataGroupId:e,divide:nK(o),data:o}]});else if(rt(a)){0;var u=[];Y(a,(function(t){var e=i.get(t);e.data&&u.push({dataGroupId:e.dataGroupId,divide:nK(e.data),data:e.data})})),u.length&&n.set(s,{oldSeries:u,newSeries:[{dataGroupId:e,data:o,divide:nK(o)}]})}else{var h=r.get(a);if(h){var c=n.get(h.key);c||(c={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:nK(h.data)}],newSeries:[]},n.set(h.key,c)),c.newSeries.push({dataGroupId:e,data:o,divide:nK(o)})}}}})),n}function rK(t,e){for(var n=0;n<t.length;n++){if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}}lw([function(t){t.registerPainter("canvas",OC)}]),lw([function(t){t.registerPainter("svg",YS)}]),lw([function(t){t.registerChartView(LM),t.registerSeriesModel(JS),t.registerLayout(DM("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,HM("line"))},function(t){t.registerChartView(fA),t.registerSeriesModel(jM),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,it(_x,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Cx("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,HM("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))},function(t){t.registerChartView(TA),t.registerSeriesModel(BA),Gv("pie",t.registerAction),t.registerLayout(it(yA,"pie")),t.registerProcessor(bA("pie")),t.registerProcessor(function(t){return{seriesType:t,reset:function(t,e){var n=t.getData();n.filterSelf((function(t){var e=n.mapDimension("value"),i=n.get(e,t);return!(lt(i)&&!isNaN(i)&&i<0)}))}}}("pie"))},function(t){lw(VT),t.registerSeriesModel(DA),t.registerChartView(WA),t.registerLayout(DM("scatter"))},function(t){lw(uk),t.registerChartView(XT),t.registerSeriesModel(qT),t.registerLayout(GT),t.registerProcessor(bA("radar")),t.registerPreprocessor(KT)},function(t){lw(UR),t.registerChartView(_R),t.registerSeriesModel(SR),t.registerLayout(AR),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,MR),Gv("map",t.registerAction)},function(t){t.registerChartView(cI),t.registerSeriesModel(RI),t.registerLayout(PI),t.registerVisual(EI),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,i=e.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var i=jR(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))}(t)},function(t){t.registerSeriesModel(FI),t.registerChartView(qI),t.registerVisual(gP),t.registerLayout(kP),function(t){for(var e=0;e<BI.length;e++)t.registerAction({type:BI[e],update:"updateView"},Dt);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,n){var i=SI(t,["treemapZoomToNode","treemapRootToNode"],e);if(i){var r=e.getViewRoot();r&&(t.direction=AI(r,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}))}))}(t)},function(t){t.registerChartView(PE),t.registerSeriesModel(zE),t.registerProcessor(LP),t.registerVisual(DP),t.registerVisual(FP),t.registerLayout(KP),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,eE),t.registerLayout(iE),t.registerCoordinateSystem("graphView",{dimensions:IR.dimensions,create:rE}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Dt),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Dt),t.registerAction(WE,(function(t,e,n){e.eachComponent({mainType:"series",query:t},(function(e){var i=jR(e.coordinateSystem,t,void 0,n);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))},function(t){t.registerChartView(KE),t.registerSeriesModel(XE)},function(t){t.registerChartView(QE),t.registerSeriesModel(eB),t.registerLayout(nB),t.registerProcessor(bA("funnel"))},function(t){lw(FL),t.registerChartView(lB),t.registerSeriesModel(cB),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,fB)},function(t){t.registerChartView(jL),t.registerSeriesModel(GL),t.registerLayout(ZL),t.registerVisual(iD),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))},function(t){t.registerSeriesModel(aD),t.registerChartView(fD),t.registerLayout(gD),t.registerTransform(mD)},function(t){t.registerChartView(RD),t.registerSeriesModel(PD),t.registerPreprocessor(ED),t.registerVisual(HD),t.registerLayout(WD)},function(t){t.registerChartView(UD),t.registerSeriesModel($D),t.registerLayout(DM("effectScatter"))},function(t){t.registerChartView(sO),t.registerSeriesModel(dO),t.registerLayout(oO),t.registerVisual(pO)},function(t){t.registerChartView(bO),t.registerSeriesModel(xO)},function(t){t.registerChartView(VO),t.registerSeriesModel(ZO),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,it(_x,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Cx("pictorialBar"))},function(t){t.registerChartView(KO),t.registerSeriesModel(XO),t.registerLayout(YO),t.registerProcessor(bA("themeRiver"))},function(t){t.registerChartView(iF),t.registerSeriesModel(aF),t.registerLayout(it(lF,"sunburst")),t.registerProcessor(it(bA,"sunburst")),t.registerVisual(hF),function(t){t.registerAction({type:tF,update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,n){var i=SI(t,[tF],e);if(i){var r=e.getViewRoot();r&&(t.direction=AI(r,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}))})),t.registerAction({type:eF,update:"none"},(function(t,e,n){t=V({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e){var n=SI(t,[eF],e);n&&(t.dataIndex=n.node.dataIndex)})),n.dispatchAction(V(t,{type:"highlight"}))})),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(t,e,n){t=V({},t),n.dispatchAction(V(t,{type:"downplay"}))}))}(t)},function(t){t.registerChartView(iH),t.registerSeriesModel(gF)}]),lw((function(t){lw(VT),lw(lN)})),lw((function(t){lw(lN),PT.registerAxisPointerClass("PolarAxisPointer",cN),t.registerCoordinateSystem("polar",RN),t.registerComponentModel(fN),t.registerComponentView(KN),YA(t,"angle",gN,ZN),YA(t,"radius",mN,UN),t.registerComponentView(ON),t.registerComponentView(WN),t.registerLayout(it(GN,"bar"))})),lw(UR),lw((function(t){lw(lN),PT.registerAxisPointerClass("SingleAxisPointer",gz),t.registerComponentView(mz),t.registerComponentView(QN),t.registerComponentModel(ez),YA(t,"single",ez,ez.defaultOption),t.registerCoordinateSystem("single",lz)})),lw(FL),lw((function(t){t.registerComponentModel(bz),t.registerComponentView(xz),t.registerCoordinateSystem("calendar",Mz)})),lw((function(t){t.registerComponentModel(Iz),t.registerComponentView(Bz),t.registerPreprocessor((function(t){var e=t.graphic;rt(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))})),lw((function(t){t.registerComponentModel(dW),t.registerComponentView(gW),uW("saveAsImage",vW),uW("magicType",_W),uW("dataView",IW),uW("dataZoom",nj),uW("restore",DW),lw(aW)})),lw((function(t){lw(lN),t.registerComponentModel(rj),t.registerComponentView(Aj),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Dt),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Dt)})),lw(lN),lw((function(t){t.registerComponentView(Uj),t.registerComponentModel(Xj),t.registerPreprocessor(kj),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,zj),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Dt),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Dt),uW("brush",Jj)})),lw((function(t){t.registerComponentModel(Qj),t.registerComponentView(tV)})),lw((function(t){t.registerComponentModel(rV),t.registerComponentView(pV),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,n){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),G({currentIndex:i.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))}(t),t.registerPreprocessor(gV)})),lw((function(t){t.registerComponentModel(SV),t.registerComponentView(HV),t.registerPreprocessor((function(t){yV(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))})),lw((function(t){t.registerComponentModel(zV),t.registerComponentView($V),t.registerPreprocessor((function(t){yV(t.series,"markLine")&&(t.markLine=t.markLine||{})}))})),lw((function(t){t.registerComponentModel(YV),t.registerComponentView(oG),t.registerPreprocessor((function(t){yV(t.series,"markArea")&&(t.markArea=t.markArea||{})}))})),lw((function(t){lw(bG),lw(kG)})),lw((function(t){lw(jG),lw(QG)})),lw(jG),lw(QG),lw((function(t){lw(HZ),lw(ZZ)})),lw(HZ),lw(ZZ),lw((function(t){t.registerPreprocessor(YZ),t.registerVisual(t.PRIORITY.VISUAL.ARIA,XZ)})),lw((function(t){t.registerTransform(lU),t.registerTransform(uU)})),lw((function(t){t.registerComponentModel(hU),t.registerComponentView(cU)})),lw((function(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){Y(ra(n.seriesTransition),(function(t){Y(ra(t.to),(function(t){for(var e=n.updatedSeries,i=0;i<e.length;i++)(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)&&(e[i][kp]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,n){var i=UU(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var r=n.seriesTransition;if(r)Y(ra(r),(function(t){!function(t,e,n,i){var r=[],o=[];Y(ra(t.from),(function(t){var n=rK(e.oldSeries,t);n>=0&&r.push({dataGroupId:e.oldDataGroupIds[n],data:e.oldData[n],divide:nK(e.oldData[n]),groupIdDim:t.dimension})})),Y(ra(t.to),(function(t){var i=rK(n.updatedSeries,t);if(i>=0){var r=n.updatedSeries[i].getData();o.push({dataGroupId:e.oldDataGroupIds[i],data:r,divide:nK(r),groupIdDim:t.dimension})}})),r.length>0&&o.length>0&&QU(r,o,i)}(t,i,n,e)}));else{var o=iK(i,n);Y(o.keys(),(function(t){var n=o.get(t);QU(n.oldSeries,n.newSeries,e)}))}Y(n.updatedSeries,(function(t){t[kp]&&(t[kp]=!1)}))}for(var a=t.getSeries(),s=i.oldSeries=[],l=i.oldDataGroupIds=[],u=i.oldData=[],h=0;h<a.length;h++){var c=a[h].getData();c.count()<1e4&&(s.push(a[h]),l.push(a[h].get("dataGroupId")),u.push(c))}}))})),lw(kC)}}]);